(self.webpackChunkreportviewerapp=self.webpackChunkreportviewerapp||[]).push([[179],{821:(module,exports,__webpack_require__)=>{var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__,n;n=function(){(function($,ej,undefined){ej.widget("boldReportViewer","ej.ReportViewer",{_rootCSS:"e-reportviewer",element:null,model:null,validTags:["div"],defaults:{reportServiceUrl:"",reportServerId:"",reportCacheID:"",serviceAuthorizationToken:"",reportViewerClientId:"",reportViewerId:"",reportPath:"",enableVirtualEvaluation:!1,reportServerUrl:"",dataSources:[],parameters:[],exportSettings:{CommonOptions:{ImageQuality:2,UsePrintSizes:!1},PDFOptions:{EnableComplexScript:!1,PdfConformanceLevel:0,Security:{UserPassword:""}},ExcelOptions:{ExcelSaveType:3,ExcelSheetProtection:0,ReadOnlyRecommended:!1,DisableCellFormat:0,LayoutOption:0,PasswordToOpen:null,PasswordToModify:null},WordOptions:{FormatType:2,ProtectionType:0,LayoutOption:0,ParagraphSpacing:{Top:1,Bottom:1},EncryptionPassword:null,ProtectionPassword:null},exportOptions:255,customItems:[],CsvOptions:{Qualifier:'"',FieldDelimiter:",",UseFormattedValues:!1},HTMLOptions:{HidePageSeparator:!1},PPTOptions:{FormatType:0,EncryptionPassword:null},SecurityOptions:{EnableProtection:!1,Protect:null,Edit:null}},toolbarSettings:{items:1023,showToolbar:!0,templateId:"",click:"",showTooltip:!0,customGroups:[],customItems:[]},locale:"en-US",localeSettings:{dateFormat:"",timeFormat:""},printMode:!1,sizeToReportContent:!1,renderMode:3,printOption:"Default",enablePageCache:!1,enablePageVirtualization:!1,pageSettings:{height:0,width:0,orientation:null,pageUnits:null,paperSize:null,margins:{top:0,right:0,bottom:0,left:0}},processingMode:"remote",zoomFactor:1,isResponsive:!0,reportLoaded:null,ajaxBeforeLoad:null,ajaxLoad:null,ajaxSuccess:null,ajaxError:null,toolbarRendering:null,toolBarItemClick:null,renderingBegin:null,parameterChange:null,beforeParameterAdd:null,renderingComplete:null,reportError:null,showError:null,reportExport:null,exportProgressChanged:null,printProgressChanged:null,exportItemClick:null,drillThrough:null,hyperlink:null,reportPrint:null,viewReportClick:null,destroy:null,tenantName:null,enableParameterBlockScroller:!0,enableOnScrollNavigation:!!/windows phone| android | iphone/i.test(navigator.userAgent.toLowerCase()),enableDatasourceBlockScroller:!0,enableNotificationBar:!0,enableDropDownSearch:!1,enablePopupResize:!1,showExceptionsInDialog:!1,enableAnimation:!0,autoRender:!0,isDataRendered:!1,enableRequestLimiting:!1,parameterSettings:{delimiterChar:",",dateTimePickerType:"Default",minDateTime:null,maxDateTime:null,weekStartDay:0,popupHeight:"152px",popupWidth:"auto",itemWidth:"185px",labelWidth:"110px",attributes:{},hideParameterBlock:!1,hideTooltip:!1,timeDisplayFormat:"",dateTimeFormat:"",timeInterval:30,accessInternalValue:!1,showRequiredFieldIndicator:!1,optionalPromptMessage:"",optionalGroupSettings:[],dateStartLevel:"",dateDepthLevel:""},parameterUpdateStateChange:null,waitingPopupTemplate:null,customBrandSettings:{hideHelpLink:!1,customDomain:"https://help.boldreports.com",customBrandName:"Bold Reports",customLinks:[{name:"ESLicenseMessage",url:"/licensing/license-token/"}]}},dataTypes:{dataSources:"array",parameters:"array",toolbarSettings:{showToolbar:"boolean"}},_dataVisualization:[],_dataVisualItemCount:0,_currentPageDataVisualization:[],_currentPageWidgetName:null,_currentDropdownText:null,_dataSources:null,_reportParametersModel:[],_reloadParams:[],_svg:!0,_performanceMetrics:{ParseTime:0,EvaluateTime:0,LayoutTime:0,RenderTime:0,TimeProcessing:0,TimeDataRetrieval:0,AdditionalInfo:null},_reportViewerToken:null,_sessionToken:null,_serviceType:"Default",_dataRefresh:!1,_isForwardDirection:!1,_isSelectedPage:!1,_refresh:!1,_isPageSetupValueChange:!1,_isToolbarClick:!1,_currnetDocMapNodeId:null,_currentBookmarkInfo:null,_isPopupClick:!1,_printMode:!1,_pageSetup:!1,_pageModel:null,_isprint:!1,_cancelPrintExport:!1,_currentPage:1,_pageLayoutPage:1,_machineCulture:null,_reportParameters:null,_paramInfo:null,_reportDataSources:null,_customParameters:[],_reporDataSets:null,_isRDLC:!1,_zoomLevel:2,_preZoomVal:1,_actionUrl:null,_isDocumentMap:!1,_isPageDocMap:!1,_isDrillThroughReport:!1,_pageDocMapFlag:!1,_childReportToken:null,_parents:[],_parentPageXY:null,_browserInfo:null,_serverActionInfo:null,_isDevice:!1,_zoomVal:1,_originX:0,_originY:0,_paperName:null,_excelFormat:null,_wordFormat:null,_isClassicExport:!1,_isPercentHeight:-1,_isPercentWidth:-1,_isHeight:!1,_currentTogglePosition:0,_isWidth:!1,_isDesign:!1,_paperOrientation:null,_pageUnits:null,_legendPointNames:null,_updateParam:null,_isFitToPage:!1,_isFitToWidth:!1,_isDataLabel:!1,_pageCache:[],_printData:[],_printPageCache:[],_scrollHeight:0,_localeObj:null,_licenseMessage:null,_touchScreen:{startPoint:0,endPoint:0},_isPinchZoom:!1,_pageImagesCache:null,_reportImages:{},_enableSearchText:!1,_paperSetup:{paperHeight:null,paperWidth:null,MarginTop:0,MarginRight:0,MarginBottom:0,MarginLeft:0},_reportAction:{reportLoad:"ReportLoad",getDataSourceCredential:"GetDataSourceCredential",validateDSCredential:"ValidateDSCredential",updateDSCredential:"UpdateDSCredential",getParameters:"GetParameters",setParameters:"SetParameters",updateParameters:"UpdateParameters",updateDataSource:"UpdateDataSource",getPageModel:"GetPageModel",getPrintModel:"GetPrintModel",drillDown:"DrillDown",clearCache:"ClearCache",documentMap:"DocumentMap",drillThrough:"DrillThrough",sorting:"Sorting",exporting:"Export",clearObjects:"ClearObjects",getImages:"GetImages",updateTextValue:"UpdateTextValue",getSearchPages:"GetSearchPages"},_elementsRendered:null,_searchText:null,_searchPageIndexs:[],_searchTextDivCollection:[],_searchTextDivIndex:0,_searchTextPageIndex:0,_isPageRendered:!1,_tags:[{tag:"parameters",attr:["",[{tag:"parameter",attr:["name","labels","values","nullable"]}]]},{tag:"dataSources",attr:["",[{tag:"datasource",attr:["name","value"]}]]}],_setModel:function(n){var u,_,w,v,a,c=!1,r=!1;for(u in this._parents.length>0&&this._parents.pop(),n)switch(u){case"reportPath":case"enableVirtualEvaluation":case"reportServerUrl":c=!0;case"reportServiceUrl":this._actionUrl=this.model.reportServiceUrl+"/PostReportAction",this._actionUrl=this._getMultiTenantUrl(this._actionUrl,!0),c=!0;break;case"dataSources":case"parameters":c=!0;break;case"processingMode":r=!0;break;case"zoomFactor":_=$("#"+this._id+"_toolbar_zoom").data("ejDropDownList"),-1!==(w=[.5,.75,1,1.25,1.5,2,4]).indexOf(n[u])&&_.selectItemsByIndices(w.indexOf(n[u]));break;case"printMode":this._updatePreviewLayout(n[u],!1);break;case"toolbarSettings":this._updateToolbarmodel();break;case"locale":this._setCultureInfo();break;case"renderMode":this._reInit();break;case"reportViewerId":this._reportViewerToken=this.model.reportViewerId?this.model.reportViewerId:this._reportViewerToken;break;case"pageSettings":for(v in n[u])switch(v){case"height":this._paperSetup.paperHeight=n[u][v],this._paperName="Custom";break;case"width":this._paperSetup.paperWidth=n[u][v],this._paperName="Custom";break;case"orientation":this._paperOrientation=n[u][v];break;case"pageUnits":this._pageUnits=n[u][v];break;case"paperSize":this._paperName=n[u][v];break;case"margins":for(a in n[u][v])switch(a){case"top":this._paperSetup.MarginTop=n[u][v][a];break;case"bottom":this._paperSetup.MarginBottom=n[u][v][a];break;case"left":this._paperSetup.MarginLeft=n[u][v][a];break;case"right":this._paperSetup.MarginRight=n[u][v][a]}}this._setPageSettings(),this._printMode&&this._ajaxCallMethod(this._reportAction.getPageModel,this._printMode?"_getPreviewModel":"_getPageModel",!1);break;case"waitingPopupTemplate":this.model.waitingPopupTemplate=n[u],this.element.find("#"+this._id+"_viewerContainer").data("ejWaitingPopup").setModel({template:this.model.waitingPopupTemplate}),this.element.find("#"+this._id+"_loadingIndicator").data("ejWaitingPopup").setModel({template:this.model.waitingPopupTemplate})}r&&!c&&this.model.reportServiceUrl&&this.doAjaxPost("POST",this._actionUrl,JSON.stringify({reportAction:this._reportAction.getDataSourceCredential,dataSources:this.model.dataSources,parameters:this.model.parameters}),"_getDataSourceCredential"),this.model.reportPath?c&&this.model.reportServiceUrl&&this._ajaxCallMethod(this._reportAction.clearCache,"_reportReload",!1):(this._initViewer(),this._setPageSize(0,0,0,0))},_reInit:function(){this._destroy(),this._init()},_destroyEJObjects:function(n){for(var c,r,u,_=$(n).find(".e-js"),w=0;w<_.length;w++)if((r=(c=_.eq(w).data()).ejWidgets)&&r.length)for(u=0;u<r.length;u++)c[r[u]]&&c[r[u]].destroy&&c[r[u]].destroy()},_destroy:function(){var n=this.element.find("#"+this._id+"_toolbarContainer"),c=$("#"+this._id+"_printPageSetup"),r=$("#"+this._id+"_viewer_alert_dialog");!ej.isNullOrUndefined(n)&&n.length>0&&n.data("ejToolbar")&&(this._destroyEJObjects(n),n.data("ejToolbar").destroy(),n.remove()),!ej.isNullOrUndefined(c)&&c.length>0&&c.data("ejDialog")&&(this._destroyEJObjects(c),c.data("ejDialog").destroy(),$("#"+this._id+"_printPageSetup").remove()),!ej.isNullOrUndefined(r)&&r.length>0&&r.data("ejDialog")&&(this._destroyEJObjects(r),r.data("ejDialog").destroy(),$("#"+this._id+"_viewer_alert_dialog").remove()),this._destroyEJObjects(this.element),this._clearPageCache(),$("#"+this._id+"_exportForm").remove(),$("#"+this._id+"_toolbar_exportListTip").remove(),$("#"+this._id+"_toolbar_fittoPagePopup").remove(),$("#"+this._id+"_pageInfoPopup").remove(),$("#"+this._id+"_printPageIframe").remove(),this.element.find("#"+this._id+"_licensing_msgContainer").remove(),$(this.element).find(".e-reportviewer-viewer").remove(),this._ajaxCallMethod(this._reportAction.clearCache,"_clearCurrentServerCache",!1)},_destroyExistingObj:function(){$("#"+this._id+"_printPageSetup").remove(),this._parents.length>0&&this._parents.pop()},_hidePageView:function(){$("#"+this._id+"_pageviewOuterContainer").css("display","none")},_destroyPageItems:function(){var n=$("#"+this._id+"_pageviewheaderContainer"),c=$("#"+this._id+"_pageviewfooterContainer"),r=$("#"+this._id+"_pageviewbodyContainer"),u=$("#"+this._id+"_pageviewContainer").find(".e-js");u&&u.length>0&&(this._destroyEJObjects(u),u.prevObject&&u.prevObject.length>0&&this._resetTagStyle(u.prevObject)),u=null,n.length>0&&(n.empty(),this._resetTagStyle(n.parent())),c.length>0&&(c.empty(),this._resetTagStyle(c.parent())),r.length>0&&(r.empty(),this._resetTagStyle(r.parent()))},_resetTagStyle:function(n){n.css({"border-color":"transparent","background-color":"transparent","border-style":"none","border-width":"0pt","background-image":"none"})},_init:function(){this._svg=!!window.SVGSVGElement,this._actionUrl=this.model.reportServiceUrl+"/PostReportAction",this._actionUrl=this._getMultiTenantUrl(this._actionUrl,!0),this._reportViewerToken=this.model.reportViewerId?this.model.reportViewerId:this._reportViewerToken,this._browserInfo=ej.browserInfo(),this.element.hasClass("e-rptdesigner")&&(this._isDesign=!0,this.model.enableRequestLimiting=!1),this._destroyExistingObj(),this._renderViewer(),this._initViewer(),$("#"+this._id+"_toolbar_li_gotoparent")&&$("#"+this._id+"_toolbar_li_gotoparent").css("display","none"),this.model.reportServiceUrl&&this._ajaxCallMethod(this._reportAction.reportLoad,"_reportLoaded",!1)},_initViewer:function(){this._wireEvents(),this._initToolbar(),this._destroyPageItems(),this._resetPageNumber(!1),this._clearPageCache(),this._showException(!1),this._currentPage=1,this._pageLayoutPage=this._currentPage,this._setPageSettings(),this._isDocumentMap=!1,this._printMode=this.model.printMode,this._isPageDocMap=!1,this._pageDocMapFlag=!1,this._viewReportEnableDisable(!1),this._findDispose();var n=this.model.toolbarSettings;n.templateId||(this._showToolbar(n.showToolbar),this._showPrintButton(n.items&ej.ReportViewer.ToolbarItems.Print),this._showRefreshButton(n.items&ej.ReportViewer.ToolbarItems.Refresh),this._showFindButton(n.items&ej.ReportViewer.ToolbarItems.Find),this._showStopButton(n.items&ej.ReportViewer.ToolbarItems.Stop),this._showExportSetupButton(n.items&ej.ReportViewer.ToolbarItems.ExportSetup),this._showZoomControl(n.items&ej.ReportViewer.ToolbarItems.Zoom),this._showFittoPage(n.items&ej.ReportViewer.ToolbarItems.FittoPage),this._showExportControls(n.items&ej.ReportViewer.ToolbarItems.Export),this._showPrintPageSetupButton(n.items&ej.ReportViewer.ToolbarItems.PageSetup),this._showPerformanceMetricsButton(n.items&ej.ReportViewer.ToolbarItems.Analytics),this._showExportList(),this._showPageNavigationControls(n.items&ej.ReportViewer.ToolbarItems.PageNavigation),this._showParameterBlock(n.items&ej.ReportViewer.ToolbarItems.Parameters),this._showPreviewButton(n.items&ej.ReportViewer.ToolbarItems.PrintLayout),this._showDrillThrough(this._parents.length>0),this._showDocumentMap(!1),this._destroyDocumentMapTree()),this._showViewerBlock(!1),this._setContainerSize(),this._showloadingIndicator(!(!this.model.reportServiceUrl||!this.model.reportPath))},_setPageSettings:function(){var u,n=!1,c=0,r=0;this._paperName=null,this._paperOrientation=null,this._pageUnits=null,this._paperSetup.paperHeight=0,this._paperSetup.paperWidth=0,this._paperSetup.MarginBottom=0,this._paperSetup.MarginLeft=0,this._paperSetup.MarginRight=0,this._paperSetup.MarginTop=0,this.model.pageSettings&&this.model.pageSettings.height>0&&(r=this.model.pageSettings.height,n=!0,this._isPageSetupValueChange=!0),this.model.pageSettings&&this.model.pageSettings.width>0&&(c=this.model.pageSettings.width,n=!0,this._isPageSetupValueChange=!0),this.model.pageSettings.paperSize?(this._paperName=this.model.pageSettings.paperSize,this._isPageSetupValueChange=!0,u=this._getPaperSize(this.model.pageSettings.paperSize),n&&(c>0&&(u.width=c),r>0&&(u.height=r),this._paperName=this.model.pageSettings.paperSize),this._paperOrientation="Landscape"==this.model.pageSettings.orientation?"Landscape":"Portrait",this._pageUnits="Centimeters"==this.model.pageSettings.pageUnits?"Centimeters":"Inches","Landscape"==this.model.pageSettings.orientation?(this._paperSetup.paperHeight=u.height<u.width?u.height:u.width,this._paperSetup.paperWidth=u.height<u.width?u.width:u.height):(this._paperSetup.paperHeight=u.height,this._paperSetup.paperWidth=u.width)):n&&(c>0&&(this._paperSetup.paperWidth=c),r>0&&(this._paperSetup.paperHeight=r),this._paperName="Custom"),this.model.pageSettings&&this.model.pageSettings.margins&&(this.model.pageSettings.margins.left>0&&(this._paperSetup.MarginLeft=this.model.pageSettings.margins.left,this._isPageSetupValueChange=!0),this.model.pageSettings.margins.right>0&&(this._paperSetup.MarginRight=this.model.pageSettings.margins.right,this._isPageSetupValueChange=!0),this.model.pageSettings.margins.bottom>0&&(this._paperSetup.MarginBottom=this.model.pageSettings.margins.bottom,this._isPageSetupValueChange=!0),this.model.pageSettings.margins.top>0&&(this._paperSetup.MarginTop=this.model.pageSettings.margins.top,this._isPageSetupValueChange=!0))},_renderPageInfoPopup:function(){var c,r,n=$("#"+this._id+"_pageInfoPopup");n.length>0||(n=ej.buildTag("div.e-reportviewer-pagepopupinfo","",{"WHITE-SPACE":"nowrap"},{id:this._id+"_pageInfoPopup"}),(c=ej.buildTag("input.e-reportviewer-pagenumber e-reportviewer-elementalignments ejinputtext","",{},{type:"text",value:this._currentPage,id:this._id+"_popupPageNo"})).css("height","25.5px"),c.css("width","25px"),c.css("background-color","black"),c.css("color","white"),c.css("border-color","black"),(r=ej.buildTag("span.e-reportviewer-popuptotalpage","",{},{})).append(" / "+this._pageModel.TotalPages),n.append(c),n.append(r),$("body").append(n),this._on($("#"+this._id+"_popupPageNo"),"click",this._popupClick),this._on($("#"+this._id+"_popupPageNo"),"keypress",this._onkeyPress)),"block"==n.css("display")?(n.stop().fadeIn(),n.stop().fadeOut(3e3),n.hide(3e3)):(n.show(),n.stop().fadeIn(),n.stop().fadeOut(3e3),n.hide(3e3));var u=$("#"+this._id+"_viewerContainer"),_=u.offset().left+u.width()/2-n.width()/2,w=u.offset().top+u.height()/2-n.height()/2;n.css({left:_,top:w}),this._updatePageNo()},_renderToolBar:function(n){var c,r,u,_,w,v,a,s,h,t,o;this.model.toolbarSettings.templateId?(o=$("#"+this.model.toolbarSettings.templateId),n.append(o),o.ejToolbar({isResponsive:!0,enableSeparator:!0,cssClass:"e-rptviewer-toolbar e-report-responsive-toolbar",height:o.height(),click:this.model.toolbarSettings.click}),o.css("display","block")):(c=ej.buildTag("div.e-reportviewer-toolbarcontainer .e-reportviewer-viewer","",{width:"100%"},{id:this._id+"_toolbarContainer",tabindex:"0"}),n.append(c),this._isDevice?(r=ej.buildTag("ul.e-reportviewer-toolbarul","",{},{id:this._id+"_toolbarUl_exportZoom"}),this._appendToolbarItems(r,"print"),this._appendToolbarItems(r,"export"),this._appendToolbarItems(r,"exportsetup"),this._appendToolbarItems(r,"zoomout"),this._appendToolbarItems(r,"zoomin"),this._appendToolbarItems(r,"pagefit"),c.append(r),a=ej.buildTag("ul.e-reportviewer-toolbarul","",{},{id:this._id+"_toolbarUl_find"}),this._appendToolbarItems(a,"findtext"),this._appendToolbarItems(a,"find"),c.append(a),u=ej.buildTag("ul.e-reportviewer-toolbarul","",{},{id:this._id+"_toolbarUl_refreshParam"}),this._appendToolbarItems(u,"gotoparent"),this._appendToolbarItems(u,"refresh"),this._appendToolbarItems(u,"parameter"),c.append(u),w=ej.buildTag("ul.e-reportviewer-toolbarul","",{},{id:this._id+"_toolbarUl_navigate"}),this._appendToolbarItems(w,"gotofirst"),this._appendToolbarItems(w,"gotoprevious"),this._appendToolbarItems(w,"gotopage"),this._appendToolbarItems(w,"gotonext"),this._appendToolbarItems(w,"gotolast"),c.append(w)):(_=ej.buildTag("ul.e-reportviewer-toolbarul","",{},{id:this._id+"_toolbarUl_printExport"}),this._appendToolbarItems(_,"print"),this._appendToolbarItems(_,"export"),this._appendToolbarItems(_,"exportsetup"),this._appendToolbarItems(_,"preview"),this._appendToolbarItems(_,"pagesetup"),c.append(_),w=ej.buildTag("ul.e-reportviewer-toolbarul","",{},{id:this._id+"_toolbarUl_navigate"}),this._appendToolbarItems(w,"gotofirst"),this._appendToolbarItems(w,"gotoprevious"),this._appendToolbarItems(w,"gotopage"),this._appendToolbarItems(w,"gotonext"),this._appendToolbarItems(w,"gotolast"),this._appendToolbarItems(w,"gotoparent"),c.append(w),v=ej.buildTag("ul.e-reportviewer-toolbarul","",{},{id:this._id+"_toolbarUl_zoom"}),this._appendToolbarItems(v,"zoomout"),this._appendToolbarItems(v,"zoom"),this._appendToolbarItems(v,"zoomin"),this._appendToolbarItems(v,"pagefit"),c.append(v),a=ej.buildTag("ul.e-reportviewer-toolbarul","",{},{id:this._id+"_toolbarUl_find"}),this._appendToolbarItems(a,"findtext"),this._appendToolbarItems(a,"find"),c.append(a),s=ej.buildTag("ul.e-reportviewer-toolbarul","",{},{id:this._id+"_toolbarUl_refreshParam"}),this._appendToolbarItems(s,"refresh"),this._appendToolbarItems(s,"stop"),this._appendToolbarItems(s,"documentmap"),this._appendToolbarItems(s,"parameter"),this._appendToolbarItems(s,"performance"),c.append(s),$("#"+this._id+"_toolbar_zoom").ejDropDownList({cssClass:"e-rptviewer-drpdown",height:"27px",width:"80px",change:this._zoomValChange,selectedItem:2,enableAnimation:!0,htmlAttributes:{"aria-disabled":"false",role:"combobox","aria-label":this._getLocaleString("toolbar","zoom","headerText")}}),$("#"+this._id+"_toolbar_zoom_popup_list_wrapper").addClass("e-reportviewer-zoomSelection_popup"),$("#"+this._id+"_toolbar_zoom_popup ul").addClass("e-reportviewer-zoomSelection_popup-ul")),(h=this.model.toolbarSettings.customGroups)[0]!=undefined&&(t=h[0].items.some(function(l){return"ReportViewToggle"===l.id})),t&&t!=undefined?(this._customToolbarRendering(c.find("ul")),this._onToolbarRendering({target:c})):(this._onToolbarRendering({target:c}),this._customToolbarRendering(c.find("ul"))),this._isDesign&&this._setTooltip(),c.ejToolbar({cssClass:this._isDesign?"e-rptdesigner":"e-rptviewer",isResponsive:!0,enableSeparator:!this._isDevice,click:$.proxy(this._toolbarClick,this)}))},_customToolbarRendering:function(n){for(var c,r,u,v=$.extend(!0,[],this.model.toolbarSettings.customItems),a=$.extend(!0,[],this.model.toolbarSettings.customGroups),s=[],h=0;h<a.length;h++)s.push(a[h]);for(s.sort(this._sortComparer),c=[],h=0;h<v.length;h++)c.push(v[h]);for(c.sort(this._sortComparer),h=0;h<s.length;h++){for(r=ej.buildTag("ul.e-reportviewer-toolbarul","",{}),u=0;u<s[h].items.length;u++)_=s[h].items[u].type,w=this._getToolbarElement(s[h].items[u],ej.isNullOrUndefined(s[h].groupIndex)?u:s[h].groupIndex,_),r.append(w);ej.isNullOrUndefined(s[h].groupIndex)?$(n).eq(n.length-1).after(r):0==s[h].groupIndex?$(n).eq(s[h].groupIndex).before(r):$(n).hasOwnProperty(s[h].groupIndex)?$(n).eq(s[h].groupIndex-1).after(r):$(n).eq(n.length-1).after(r),s[h].cssClass&&r.addClass(s[h].cssClass)}for(h=0;h<c.length;h++){var _=c[h].type,w=this._getToolbarElement(c[h],ej.isNullOrUndefined(c[h].index)?c[h].index:h,_),t=n[ej.isNullOrUndefined(c[h].groupIndex)||!n.hasOwnProperty(c[h].groupIndex)?n.length-1:c[h].groupIndex];ej.isNullOrUndefined(c[h].index)?$(t.childNodes).eq(t.childNodes.length-1).after(w):0==c[h].index?$(t.childNodes).eq(c[h].index).before(w):$(t.childNodes).hasOwnProperty(c[h].index)?$(t.childNodes).eq(c[h].index-1).after(w):$(t.childNodes).eq(t.childNodes.length-1).after(w)}},_sortComparer:function(n,c){return c.index-n.index},_getToolbarElement:function(n,c,r){var u,_;switch(r){case ej.ReportViewer.InputElement.Default:u=ej.buildTag("li.e-reportviewer-toolbarli","",{},{id:this._id+"_toolbar_li_"+n.id,"aria-disabled":"false",role:"button","aria-label":n.id}),_=ej.buildTag("span."+n.cssClass+" e-customoption","",{},{id:this._id+"_toolbar_"+n.id,header:ej.isNullOrUndefined(n.tooltip)?null:n.tooltip.header,content:ej.isNullOrUndefined(n.tooltip)?null:n.tooltip.content,value:n.id,cssClass:n.cssClass,groupIndex:ej.isNullOrUndefined(c)?n.groupIndex:c}),u.append(_);break;case ej.ReportViewer.InputElement.Button:u=ej.buildTag("li.e-custombutton","",{},{id:this._id+"_toolbar_li_"+n.id,header:ej.isNullOrUndefined(n.tooltip)?null:n.tooltip.header,content:ej.isNullOrUndefined(n.tooltip)?null:n.tooltip.content,value:n.id,cssClass:n.cssClass,groupIndex:ej.isNullOrUndefined(c)?n.groupIndex:c}),_=ej.buildTag("input."+n.cssClass+" e-customoption","",{},{type:"button",id:this._id+"_toolbar_"+n.id}),u.append(_),$(_).ejButton({text:n.value,type:"Button",htmlAttributes:{"aria-disabled":"false",role:"button","aria-label":n.id}});break;case ej.ReportViewer.InputElement.Textbox:u=ej.buildTag("li.e-customtextbox","",{},{id:this._id+"_toolbar_li_"+n.id,header:ej.isNullOrUndefined(n.tooltip)?null:n.tooltip.header,content:ej.isNullOrUndefined(n.tooltip)?null:n.tooltip.content,value:n.id,cssClass:n.cssClass,groupIndex:ej.isNullOrUndefined(c)?n.groupIndex:c}),_=ej.buildTag("input."+n.cssClass+" e-customoption","",{},{type:"text",id:this._id+"_toolbar_"+n.id}),u.append(_),_.ejMaskEdit({value:n.value,htmlAttributes:{"aria-disabled":"false",role:"textbox","aria-label":n.id}});break;case ej.ReportViewer.InputElement.Dropdown:u=ej.buildTag("li.e-customdropdown","",{},{id:this._id+"_toolbar_li_"+n.id,header:ej.isNullOrUndefined(n.tooltip)?null:n.tooltip.header,content:ej.isNullOrUndefined(n.tooltip)?null:n.tooltip.content,value:n.id,cssClass:n.cssClass,groupIndex:ej.isNullOrUndefined(c)?n.groupIndex:c}),_=ej.buildTag("select."+n.cssClass+" e-customoption","",{},{id:this._id+"_toolbar_"+n.id}),u.append(_),_.ejDropDownList({value:n.value,htmlAttributes:{"aria-disabled":"false",role:"combobox","aria-label":n.id}})}return u},_appendToolbarItems:function(n,c){var r,u,_,v,a,s,h,t,o,l,p,g,b,C,T,D,L,I,R,V,F,A,z,N,U,J,Q,oe,w=ej.ReportViewer.Locale[this.model.locale]?ej.ReportViewer.Locale[this.model.locale]:ej.ReportViewer.Locale["en-US"];switch(c){case"print":r=ej.buildTag("li.e-reportviewer-toolbarli","",{},{id:this._id+"_toolbar_li_"+c,"aria-disabled":"false",role:"button","aria-label":this._getLocaleString("toolbar","print","headerText")}),v=ej.buildTag("span.e-reportviewer-icon e-reportviewer-print","",{},{id:this._id+"_toolbar_"+c}),r.append(v);break;case"export":r=ej.buildTag("li.e-reportviewer-toolbarli","",{},{id:this._id+"_toolbar_li_"+c,"aria-disabled":"false",role:"button","aria-label":this._getLocaleString("toolbar","exportformat","headerText")}),I=ej.buildTag("span.e-reportviewer-icon e-reportviewer-export","",{},{id:this._id+"_toolbar_"+c}),r.append(I);break;case"exportsetup":r=ej.buildTag("li.e-reportviewer-toolbarli","",{},{id:this._id+"_toolbar_li_"+c,"aria-disabled":"false",role:"button","aria-label":this._getLocaleString("toolbar","exportsetup","headerText")}),a=ej.buildTag("span.e-reportviewer-icon e-reportviewer-exportsetup","",{},{id:this._id+"_toolbar_"+c}),r.append(a);break;case"pagesetup":r=ej.buildTag("li.e-reportviewer-toolbarli","",{},{id:this._id+"_toolbar_li_"+c,"aria-disabled":"false",role:"button","aria-label":this._getLocaleString("toolbar","pagesetup","headerText")}),s=ej.buildTag("span.e-reportviewer-icon e-reportviewer-pagesetup","",{},{id:this._id+"_toolbar_"+c}),r.append(s);break;case"gotofirst":r=ej.buildTag("li.e-reportviewer-toolbarli","",{},{id:this._id+"_toolbar_li_"+c,"aria-disabled":"false",role:"button","aria-label":this._getLocaleString("toolbar","first","headerText")}),h=ej.buildTag("span.e-reportviewer-icon e-reportviewer-gotofirst","",{},{id:this._id+"_toolbar_"+c}),r.append(h);break;case"gotolast":r=ej.buildTag("li.e-reportviewer-toolbarli","",{},{id:this._id+"_toolbar_li_"+c,"aria-disabled":"false",role:"button","aria-label":this._getLocaleString("toolbar","last","headerText")}),t=ej.buildTag("span.e-reportviewer-icon e-reportviewer-gotolast","",{},{id:this._id+"_toolbar_"+c}),r.append(t);break;case"gotonext":r=ej.buildTag("li.e-reportviewer-toolbarli","",{},{id:this._id+"_toolbar_li_"+c,"aria-disabled":"false",role:"button","aria-label":this._getLocaleString("toolbar","next","headerText")}),o=ej.buildTag("span.e-reportviewer-icon e-reportviewer-gotonext","",{},{id:this._id+"_toolbar_"+c}),r.append(o);break;case"gotoprevious":r=ej.buildTag("li.e-reportviewer-toolbarli","",{},{id:this._id+"_toolbar_li_"+c,"aria-disabled":"false",role:"button","aria-label":this._getLocaleString("toolbar","previous","headerText")}),l=ej.buildTag("span.e-reportviewer-icon e-reportviewer-gotoprevious","",{},{id:this._id+"_toolbar_"+c}),r.append(l);break;case"gotoparent":r=ej.buildTag("li.e-reportviewer-toolbarli","",{},{id:this._id+"_toolbar_li_"+c,"aria-disabled":"false",role:"button","aria-label":this._getLocaleString("toolbar","back","headerText")}),p=ej.buildTag("span.e-reportviewer-icon e-reportviewer-gotoparent","",{},{id:this._id+"_toolbar_"+c}),r.append(p);break;case"gotopage":g=this._getLocaleString("toolbar","pageIndex","headerText"),r=ej.buildTag("li.e-reportviewer-toolbarli e-reportviewer-tbpage","",{},{id:this._id+"_toolbar_li_"+c,"aria-disabled":"false",role:"button","aria-label":g}),b=ej.buildTag("input.e-reportviewer-pagenumber e-reportviewer-elementalignments ejinputtext","",{},{type:"text",value:"0",id:this._id+"_toolbar_"+c,"data-role":"none","aria-disabled":"false",role:"textbox","aria-label":g}),C=ej.buildTag("span.e-reportviewer-labelpageno","",{},{}),r.append(b),r.append(C);break;case"zoomin":r=ej.buildTag("li.e-reportviewer-toolbarli","",{},{id:this._id+"_toolbar_li_"+c,"aria-disabled":"false",role:"button","aria-label":this._getLocaleString("toolbar","zoomIn","headerText")}),T=ej.buildTag("span.e-reportviewer-icon e-reportviewer-zoomin","",{},{id:this._id+"_toolbar_"+c}),r.append(T);break;case"zoomout":r=ej.buildTag("li.e-reportviewer-toolbarli","",{},{id:this._id+"_toolbar_li_"+c,"aria-disabled":"false",role:"button","aria-label":this._getLocaleString("toolbar","zoomOut","headerText")}),D=ej.buildTag("span.e-reportviewer-icon e-reportviewer-zoomout","",{},{id:this._id+"_toolbar_"+c}),r.append(D);break;case"zoom":r=ej.buildTag("li.e-reportviewer-toolbarli e-reportviewer-ejdropdownlist","",{},{id:this._id+"_toolbar_li_"+c}),(L=ej.buildTag("select.e-reportviewer-tbdiv e-reportviewer-zoomlist","",{},{id:this._id+"_toolbar_"+c,"data-role":"none"})).append("<option>50%</option>"),L.append("<option>75%</option>"),L.append("<option Selected>100%</option>"),L.append("<option>125%</option>"),L.append("<option>150%</option>"),L.append("<option>200%</option>"),L.append("<option>400%</option>"),r.append(L);break;case"pagefit":r=ej.buildTag("li.e-reportviewer-toolbarli","",{},{id:this._id+"_toolbar_li_"+c,"aria-disabled":"false",role:"button","aria-label":this._getLocaleString("toolbar","fittopage","headerText")}),I=ej.buildTag("span.e-reportviewer-icon e-reportviewer-pagefit","",{},{id:this._id+"_toolbar_"+c}),r.append(I);break;case"preview":r=ej.buildTag("li.e-reportviewer-toolbarli","",{},{id:this._id+"_toolbar_li_"+c,"aria-disabled":"false",role:"button","aria-label":this._getLocaleString("toolbar","printLayout","headerText")}),R=ej.buildTag("span.e-reportviewer-icon e-reportviewer-preview","",{},{id:this._id+"_toolbar_"+c}),r.append(R);break;case"refresh":r=ej.buildTag("li.e-reportviewer-toolbarli","",{},{id:this._id+"_toolbar_li_"+c,"aria-disabled":"false",role:"button","aria-label":this._getLocaleString("toolbar","refresh","headerText")}),V=ej.buildTag("span.e-reportviewer-icon e-reportviewer-refresh","",{},{id:this._id+"_toolbar_"+c}),r.append(V);break;case"performance":r=ej.buildTag("li.e-reportviewer-toolbarli","",{},{id:this._id+"_toolbar_li_"+c,"aria-disabled":"false",role:"button","aria-label":this._getLocaleString("toolbar","performance","headerText")}),F=ej.buildTag("span.e-reportviewer-icon e-reportviewer-performance","",{width:"20px",height:"20px","font-weight":"bolder"},{id:this._id+"_toolbar_"+c}),r.append(F);break;case"findtext":r=ej.buildTag("li.e-reportviewer-toolbarli e-reportviewer-tbpage","",{},{id:this._id+"_toolbar_li_"+c,"aria-disabled":"false",role:"button","aria-label":this._getLocaleString("toolbar","find","headerText")}),A=ej.buildTag("input.e-reportviewer-findtext ejinputtext ","",{"font-size":"14px"},{type:"text",id:this._id+"_toolbar_"+c,"data-role":"none","aria-disabled":"false",role:"textbox","aria-label":this._getLocaleString("toolbar","find","headerText")}),z=ej.buildTag("span.e-reportviewer-findtextbox","",{},{}),r.append(A),r.append(z);break;case"find":r=ej.buildTag("li.e-reportviewer-toolbarli","",{},{id:this._id+"_toolbar_li_"+c,"aria-disabled":"false",role:"button","aria-label":this._getLocaleString("toolbar","find","headerText")}),z=ej.buildTag("span.e-reportviewer-icon e-reportviewer-find","",{width:"20px",height:"20px"},{id:this._id+"_toolbar_"+c}),r.append(z);break;case"stop":r=ej.buildTag("li.e-reportviewer-toolbarli","",{},{id:this._id+"_toolbar_li_"+c,"aria-disabled":"false",role:"button","aria-label":this._getLocaleString("toolbar","stop","headerText")}),N=ej.buildTag("span.e-reportviewer-icon e-reportviewer-stop","",{},{id:this._id+"_toolbar_"+c}),r.append(N);break;case"documentmap":r=ej.buildTag("li.e-reportviewer-toolbarli","",{display:"none"},{id:this._id+"_toolbar_li_"+c,"aria-disabled":"false",role:"button","aria-label":this._getLocaleString("toolbar","documentMap","headerText")}),U=ej.buildTag("span.e-reportviewer-icon e-reportviewer-documentmap","",{},{id:this._id+"_toolbar_"+c}),r.append(U);break;case"parameter":r=ej.buildTag("li.e-reportviewer-toolbarli","",{},{id:this._id+"_toolbar_li_"+c,"aria-disabled":"false",role:"button","aria-label":this._getLocaleString("toolbar","parameter","headerText")}),J=ej.buildTag("span.e-reportviewer-icon e-reportviewer-parameter","",{},{id:this._id+"_toolbar_"+c}),r.append(J);break;case"pdf":r=ej.buildTag("li.e-reportviewer-popupli e-pdf e-reportviewer-tab-focus-none","",{},{id:this._id+"_toolbar_li_"+c,"aria-disabled":"false",role:"menuitem","aria-label":this._getLocaleString("toolbar","exportformat","Pdf")+" "+this._getLocaleString("toolbar","exportformat","headerText")}),_=ej.buildTag("span.e-reportviewer-icon e-reportviewer-export-pdfIcon","",{cursor:"pointer"},{id:this._id+"_toolbar_pdficon"}),(u=ej.buildTag("span .e-reportviewer-popupspan e-pdf","",{"margin-left":"10px"},{id:this._id+"_toolbar_"+c})).append(w.toolbar.exportformat.Pdf),r.append(_),r.append(u);break;case"xls":r=ej.buildTag("li.e-reportviewer-popupli e-excel e-reportviewer-tab-focus-none","",{},{id:this._id+"_toolbar_li_"+c,"aria-disabled":"false",role:"menuitem","aria-label":this._getLocaleString("toolbar","exportformat","Excel")+" "+this._getLocaleString("toolbar","exportformat","headerText")}),_=ej.buildTag("span.e-reportviewer-icon e-reportviewer-export-excelIcon","",{cursor:"pointer"},{id:this._id+"_toolbar_excelicon"}),(u=ej.buildTag("span .e-reportviewer-popupspan e-excel","",{"margin-left":"10px"},{id:this._id+"_toolbar_"+c})).append(w.toolbar.exportformat.Excel),r.append(_),r.append(u);break;case"word":r=ej.buildTag("li.e-reportviewer-popupli e-word e-reportviewer-tab-focus-none","",{},{id:this._id+"_toolbar_li_"+c,"aria-disabled":"false",role:"menuitem","aria-label":this._getLocaleString("toolbar","exportformat","Word")+" "+this._getLocaleString("toolbar","exportformat","headerText")}),_=ej.buildTag("span.e-reportviewer-icon e-reportviewer-export-wordIcon","",{cursor:"pointer"},{id:this._id+"_toolbar_wordicon"}),(u=ej.buildTag("span .e-reportviewer-popupspan e-word","",{"margin-left":"10px"},{id:this._id+"_toolbar_"+c})).append(w.toolbar.exportformat.Word),r.append(_),r.append(u);break;case"html":r=ej.buildTag("li.e-reportviewer-popupli e-html e-reportviewer-tab-focus-none","",{},{id:this._id+"_toolbar_li_"+c,"aria-disabled":"false",role:"menuitem","aria-label":this._getLocaleString("toolbar","exportformat","Html")+" "+this._getLocaleString("toolbar","exportformat","headerText")}),_=ej.buildTag("span.e-reportviewer-icon e-reportviewer-export-htmlIcon","",{cursor:"pointer"},{id:this._id+"_toolbar_htmlicon"}),(u=ej.buildTag("span .e-reportviewer-popupspan e-html","",{"margin-left":"10px"},{id:this._id+"_toolbar_"+c})).append(w.toolbar.exportformat.Html),r.append(_),r.append(u);break;case"ppt":r=ej.buildTag("li.e-reportviewer-popupli e-ppt e-reportviewer-tab-focus-none","",{},{id:this._id+"_toolbar_li_"+c,"aria-disabled":"false",role:"menuitem","aria-label":this._getLocaleString("toolbar","exportformat","PPT")+" "+this._getLocaleString("toolbar","exportformat","headerText")}),_=ej.buildTag("span.e-reportviewer-icon e-reportviewer-export-pptIcon","",{cursor:"pointer"},{id:this._id+"_toolbar_ppticon"}),(u=ej.buildTag("span .e-reportviewer-popupspan e-ppt","",{"margin-left":"10px"},{id:this._id+"_toolbar_"+c})).append(w.toolbar.exportformat.PPT),r.append(_),r.append(u);break;case"csv":r=ej.buildTag("li.e-reportviewer-popupli e-csv e-reportviewer-tab-focus-none","",{},{id:this._id+"_toolbar_li_"+c,"aria-disabled":"false",role:"menuitem","aria-label":this._getLocaleString("toolbar","exportformat","CSV")+" "+this._getLocaleString("toolbar","exportformat","headerText")}),_=ej.buildTag("span.e-reportviewer-icon e-reportviewer-export-csvIcon","",{cursor:"pointer"},{id:this._id+"_toolbar_csvicon"}),(u=ej.buildTag("span .e-reportviewer-popupspan e-csv","",{"margin-left":"10px"},{id:this._id+"_toolbar_"+c})).append(w.toolbar.exportformat.CSV),r.append(_),r.append(u);break;case"xml":r=ej.buildTag("li.e-reportviewer-popupli e-xml e-reportviewer-tab-focus-none","",{},{id:this._id+"_toolbar_li_"+c,"aria-disabled":"false",role:"menuitem","aria-label":this._getLocaleString("toolbar","exportformat","XML")+" "+this._getLocaleString("toolbar","exportformat","headerText")}),_=ej.buildTag("span.e-reportviewer-icon e-reportviewer-export-xmlIcon","",{cursor:"pointer"},{id:this._id+"_toolbar_xmlicon"}),(u=ej.buildTag("span .e-reportviewer-popupspan e-xml","",{"margin-left":"10px"},{id:this._id+"_toolbar_"+c})).append(w.toolbar.exportformat.XML),r.append(_),r.append(u);break;case"fittopage":r=ej.buildTag("li.e-reportviewer-popupli","",{},{id:this._id+"_toolbar_li_"+c,"aria-disabled":"false",role:"button","aria-label":this._getLocaleString("toolbar","fittopage","headerText")});break;case"fittopagewidth":r=ej.buildTag("li.e-reportviewer-popupli e-fitpagewidth e-reportviewer-tab-focus-none","",{width:"auto"},{id:this._id+"_toolbar_li_"+c,isSelect:"false","aria-disabled":"false",role:"menuitem","aria-label":this._getLocaleString("toolbar","fittopage","headerText")+" "+this._getLocaleString("toolbar","fittopage","pageWidth")}),Q=ej.buildTag("span.e-reportviewer-icon e-reportviewer-emptyconetent","",{"padding-right":"4px",cursor:"pointer"},{id:this._id+"_toolbar_"+c,fitType:"PAGEWIDTH"}),r.append(Q),r.append(w.toolbar.fittopage.pageWidth);break;case"fittowholepage":r=ej.buildTag("li.e-reportviewer-popupli e-fitpageheight e-reportviewer-tab-focus-none","",{width:"auto"},{id:this._id+"_toolbar_li_"+c,isSelect:"false","aria-disabled":"false",role:"menuitem","aria-label":this._getLocaleString("toolbar","fittopage","headerText")+" "+this._getLocaleString("toolbar","fittopage","pageHeight")}),oe=ej.buildTag("span.e-reportviewer-icon e-reportviewer-emptyconetent","",{"padding-right":"4px",cursor:"pointer"},{id:this._id+"_toolbar_"+c,fitType:"WHOLEPAGE"}),r.append(oe),r.append(w.toolbar.fittopage.pageHeight)}n.append(r)},_renderToolTipExport:function(){var n=ej.buildTag("div.e-js e-reportviewer-tbdiv e-reportviewer-icon e-reportviewer-exporttip","",{display:"none"},{id:this._id+"_toolbar_exportListTip"});return this._appendToolbarItems(n,"pdf"),this._appendToolbarItems(n,"xls"),this._appendToolbarItems(n,"word"),this._appendToolbarItems(n,"html"),this._appendToolbarItems(n,"ppt"),this._appendToolbarItems(n,"csv"),this._appendToolbarItems(n,"xml"),this._renderCustomExport(n),n},_renderCustomExport:function(n){for(var c,r=ej.ReportViewer.Locale[this.model.locale]?ej.ReportViewer.Locale[this.model.locale]:ej.ReportViewer.Locale["en-US"],u=0;u<this.model.exportSettings.customItems.length;u++)ej.isNullOrUndefined(c=r.toolbar.exportformat[this.model.exportSettings.customItems[u].value])&&(c=this.model.exportSettings.customItems[u].value),$divouter=ej.buildTag("li.e-reportviewer-popupli e-custom e-reportviewer-tab-focus-none","",{},{id:this._id+"_toolbar_li_customexport_"+u,"aria-disabled":"false",role:"menuitem","aria-label":c+" "+r.toolbar.exportformat.headerText}),$spanTag=ej.buildTag("span.e-reportviewer-popupspan e-custom","",{},{id:this._id+"_toolbar_customexport_"+u}),$spanTag.append(c),$($divouter).addClass(this.model.exportSettings.customItems[u].cssClass),$divouter.append($spanTag),n.append($divouter),$($divouter).insertBefore(n[0].childNodes[this.model.exportSettings.customItems[u].index])},_renderPageFitPopup:function(){var n=ej.buildTag("div.e-js e-reportviewer-tbdiv e-reportviewer-icon e-reportviewer-fittopagetip","",{display:"none"},{id:this._id+"_toolbar_fittoPagePopup"});return this._appendToolbarItems(n,"fittopagewidth"),this._appendToolbarItems(n,"fittowholepage"),n},_renderFitopagePopup:function(){var n=$("#"+this._id+"_pageviewOuterline"),c=$("#"+this._id+"_viewerContainer"),r=$("#"+this._id+"_toolbar_li_fittopagewidth"),u=$("#"+this._id+"_toolbar_li_fittowholepage"),_=c.width(),w=c.height(),v=n[0].clientWidth;w>n[0].clientHeight&&"false"==u.attr("isSelect")?u.css("opacity","0.4"):u.css("opacity","1"),_>v&&"false"==r.attr("isSelect")?r.css("opacity","0.4"):r.css("opacity","1")},_showPrintPageSetupButton:function(n){n?$("#"+this._id+"_toolbar_li_pagesetup").css("display","block"):$("#"+this._id+"_toolbar_li_pagesetup").css("display","none")},_renderPrintPageSetup:function(){var o,l,p,g,b,C,T,D,L,I,R,V,F,A,z,N,U,J,Q,oe,ue,le,ne,he,se,ee,re,W,n=ej.ReportViewer.Locale[this.model.locale]?ej.ReportViewer.Locale[this.model.locale]:ej.ReportViewer.Locale["en-US"],c=ej.buildTag("div.e-reportdesigner-designer-configuration e-userselect","",{display:"table",width:"100%"},{id:this._id+"_printPageSetup"}),r=ej.buildTag("div","",{display:"block",width:"100%"},{id:this._id+"_paperSetup"}),u=ej.buildTag("table","",{width:"100%"},{"border-collapse":"collapse"}),_=$("#"+this._id+".e-reportviewer")[0].getBoundingClientRect(),w=ej.buildTag("tr.e-reportviewer-pagesetuptr","",{}),v=ej.buildTag("tr.e-reportviewer-pagesetuptr","",{}),a=ej.buildTag("td.e-reportviewer-pagesetupheader","",{"padding-top":"0px"},{colspan:"8"}),s=ej.buildTag("td.e-reportviewer-pagesetupcontent","",{width:"90px"},{colspan:"4"}),h=ej.buildTag("td.e-reportviewer-pagesetupcontent","",{width:"90px"},{colspan:"4"}),t=ej.buildTag("div","",{"font-weight":"bold",width:"100%"},{id:this._id+"_pageUnitLabel"});t.append(n.pagesetupDialog.pageUnits),u.append(w),u.append(v),w.append(a),a.append(t),o=ej.buildTag("div","",{float:"left"},{}),l=ej.buildTag("input","",{},{type:"radio",id:this._id+"_pageUnitInches",value:"Inches"}),o.append(ej.buildTag("div","",{float:"left","margin-left":"3px"},{}).append(l)),o.append(ej.buildTag("div","",{float:"left","margin-top":"-1px"},{id:this._id+"_inchesLabel"}).append("&nbsp;"+n.pagesetupDialog.inches)),l.ejRadioButton({name:"pageUnit",checked:!0,size:"small",htmlAttributes:{"aria-disabled":"false",role:"radio","aria-label":this._getLocaleString("pagesetupDialog","pageUnit")+" "+this._getLocaleString("pagesetupDialog","unitin")}}),s.append(o),v.append(s),v.append(ej.buildTag("td.e-reportviewer-pagesetupcontent","",{width:"3px"})),p=ej.buildTag("div","",{float:"left"},{}),g=ej.buildTag("input","",{},{type:"radio",id:this._id+"_pageUnitCentimeter",value:"Centimeters"}),p.append(ej.buildTag("div","",{float:"left"},{}).append(g)),p.append(ej.buildTag("div","",{float:"left","margin-top":"-1px"},{id:this._id+"_centimeterLabel"}).append("&nbsp;"+n.pagesetupDialog.centimeters)),g.ejRadioButton({name:"pageUnit",size:"small",htmlAttributes:{"aria-disabled":"false",role:"radio","aria-label":this._getLocaleString("pagesetupDialog","pageUnit")+" "+this._getLocaleString("pagesetupDialog","unitcm")}}),h.append(p),v.append(h);var pe=ej.buildTag("tr.e-reportviewer-pagesetuptr","",{}),M=ej.buildTag("tr.e-reportviewer-pagesetuptr","",{}),fe=ej.buildTag("tr.e-reportviewer-pagesetuptr","",{}),xe=ej.buildTag("td.e-reportviewer-pagesetupheader","",{"padding-top":"0px"},{colspan:"8"}),O=ej.buildTag("td.e-reportviewer-pagesetupcontent","",{},{colspan:"12"});r.append(u),u.append(pe),u.append(M),u.append(fe),pe.append(xe),M.append(O),c.append(r);var B=ej.buildTag("tr.e-reportviewer-pagesetuptr","",{}),H=ej.buildTag("tr.e-reportviewer-pagesetuptr","",{}),Z=ej.buildTag("tr.e-reportviewer-pagesetuptr","",{});u.append(B),u.append(H),u.append(Z),b=ej.buildTag("td.e-reportviewer-pagesetupheader","",{},{colspan:"8"}),B.append(b);var te=ej.buildTag("tr.e-reportviewer-pagesetuptr","",{}),ae=ej.buildTag("tr.e-reportviewer-pagesetuptr","",{}),de=ej.buildTag("td.e-reportviewer-pagesetupheader","",{},{colspan:"8"});te.append(de),u.append(te),u.append(ae),c.ejDialog({width:400,position:{X:_.left+_.width/3+20,Y:_.top+50},enableModal:!1,title:n.toolbar.pagesetup?n.toolbar.pagesetup.headerText:n.toolbar.pageSetup,enableResize:!1,enablePersistance:!1,enableModal:!0,showFooter:!0,cssClass:"e-js e-rptviewer-dialog",close:$.proxy(this._pageSettingClose,this)}),C=ej.buildTag("div","",{"font-weight":"bold",width:"100%"},{id:this._id+"_paperSizeLabel"}),T=ej.buildTag("select.e-reportviewer-ejdropdownlist","",{width:"100%","margin-left":"-2px"},{id:this._id+"_PaperSize"}),C.append(n.pagesetupDialog.paperSize),xe.append(C),O.append(T),T.ejDropDownList({cssClass:"e-rptviewer-drpdown",dataSource:n.pagesetupDialog.paperTypes,height:"32px",width:"100%",selectedIndex:10,watermarkText:n.waterMark.selectOption,enableAnimation:!0,change:$.proxy(this._setUpChange,this),enableIncrementalSearch:!0,htmlAttributes:{"aria-disabled":"false",role:"combobox","aria-label":this._getLocaleString("pagesetupDialog","paperTypes")}});var _e=ej.buildTag("span","",{},{id:this._id+"_widthLabel"}),Se=ej.buildTag("div","",{"padding-right":"8px"},{}),be=ej.buildTag("span","",{},{id:this._id+"_heightLabel"}),Ce=ej.buildTag("div","",{"padding-right":"8px"},{}),Pe=ej.buildTag("span","",{},{class:this._lbl+"unitlabel",id:this._id+"_heightUnitLabel"}),ke=ej.buildTag("span","",{},{class:this._lbl+"unitlabel",id:this._id+"_widthUnitLabel"}),Ne=ej.buildTag("input.e-reportviewer-textbox","",{},{type:"text",id:this._id+"_paperHeight"}),Le=ej.buildTag("input.e-reportviewer-textbox","",{},{type:"text",id:this._id+"_paperWidth"});Ce.append(Ne),Se.append(Le),be.append(n.pagesetupDialog.height+"&nbsp;"),Pe.append(n.pagesetupDialog.unitin+"&nbsp;"),_e.append(n.pagesetupDialog.width+"&nbsp;"),ke.append(n.pagesetupDialog.unitin+"&nbsp;"),fe.append(ej.buildTag("td.e-reportviewer-pagesetupcontent","",{width:"3px"})),(D=ej.buildTag("td.e-reportviewer-pagesetupcontent","",{width:"15px"})).append(be),fe.append(D),(L=ej.buildTag("td.e-reportviewer-pagesetupcontent","",{width:"80px"})).append(Ce),fe.append(L),(I=ej.buildTag("td.e-reportviewer-pagesetupcontent","",{width:"auto"})).append(Pe),fe.append(I),fe.append(ej.buildTag("td.e-reportviewer-pagesetupcontent","",{width:"3px"})),(R=ej.buildTag("td.e-reportviewer-pagesetupcontent","",{width:"15px"})).append(_e),fe.append(R),(V=ej.buildTag("td.e-reportviewer-pagesetupcontent","",{width:"80px"})).append(Se),fe.append(V),(F=ej.buildTag("td.e-reportviewer-pagesetupcontent","",{width:"auto"})).append(ke),fe.append(F),Ne.ejNumericTextbox({cssClass:"e-rptviewer-updown",decimalPlaces:2,enableStrictMode:!0,width:"80px",minValue:1,enable:!1,focusOut:$.proxy(this._paperSizeChange,this),htmlAttributes:{"aria-disabled":"false",role:"textbox","aria-label":this._getLocaleString("pagesetupDialog","paperSize")+" "+this._getLocaleString("pagesetupDialog","height")}}),Le.ejNumericTextbox({cssClass:"e-rptviewer-updown",decimalPlaces:2,enableStrictMode:!0,width:"80px",minValue:1,enable:!1,focusOut:$.proxy(this._paperSizeChange,this),htmlAttributes:{"aria-disabled":"false",role:"textbox","aria-label":this._getLocaleString("pagesetupDialog","paperSize")+" "+this._getLocaleString("pagesetupDialog","width")}});var je=ej.buildTag("div","",{"font-weight":"bold"},{id:this._id+"_marginheader"}),Ae=ej.buildTag("span","",{},{id:this._id+"_topLabel"}),Oe=ej.buildTag("div","",{},{}),Fe=ej.buildTag("span","",{},{class:this._lbl+"unitlabel",id:this._id+"_topUnitLabel"}),$e=ej.buildTag("span","",{},{id:this._id+"_rightLabel"}),He=ej.buildTag("div","",{},{}),Be=ej.buildTag("span","",{},{class:this._lbl+"unitlabel",id:this._id+"_rightUnitLabel"}),Ye=ej.buildTag("div","",{},{id:this._id+"_bottomLabel"}),dt=ej.buildTag("div","",{},{}),Ke=ej.buildTag("span","",{},{class:this._lbl+"unitlabel",id:this._id+"_bottomUnitLabel"}),tt=ej.buildTag("span","",{},{id:this._id+"_leftLabel"}),ht=ej.buildTag("div","",{},{}),nt=ej.buildTag("span","",{},{class:this._lbl+"unitlabel",id:this._id+"_leftUnitLabel"});je.append(n.pagesetupDialog.margins),b.append(je);var Ct=ej.buildTag("input.e-reportviewer-textbox","",{"padding-right":"8px"},{type:"text",id:this._id+"_paperMarginTop"}),yt=ej.buildTag("input.e-reportviewer-textbox","",{"padding-right":"8px"},{type:"text",id:this._id+"_paperMarginRight"}),Dt=ej.buildTag("input.e-reportviewer-textbox","",{"padding-right":"8px"},{type:"text",id:this._id+"_paperMarginBottom"}),wt=ej.buildTag("input.e-reportviewer-textbox","",{"padding-right":"8px"},{type:"text",id:this._id+"_paperMarginLeft"});Ae.append(n.pagesetupDialog.top+"&nbsp;"),Fe.append(n.pagesetupDialog.unitin+"&nbsp;"),Oe.append(Ct),$e.append(n.pagesetupDialog.right+"&nbsp;"),Be.append(n.pagesetupDialog.unitin+"&nbsp;"),He.append(yt),Ye.append(n.pagesetupDialog.bottom+"&nbsp;"),Ke.append(n.pagesetupDialog.unitin+"&nbsp;"),dt.append(Dt),tt.append(n.pagesetupDialog.left+"&nbsp;"),nt.append(n.pagesetupDialog.unitin+"&nbsp;"),ht.append(wt),H.append(ej.buildTag("td.e-reportviewer-pagesetupcontent","",{width:"3px"})),(A=ej.buildTag("td.e-reportviewer-pagesetupcontent","",{width:"15px"})).append(Ae),H.append(A),(z=ej.buildTag("td.e-reportviewer-pagesetupcontent","",{width:"80px"})).append(Oe),H.append(z),(N=ej.buildTag("td.e-reportviewer-pagesetupcontent","",{width:"auto"})).append(Fe),H.append(N),H.append(ej.buildTag("td.e-reportviewer-pagesetupcontent","",{width:"3px"})),(U=ej.buildTag("td.e-reportviewer-pagesetupcontent","",{width:"15px"})).append($e),H.append(U),(J=ej.buildTag("td.e-reportviewer-pagesetupcontent","",{width:"80px"})).append(He),H.append(J),(Q=ej.buildTag("td.e-reportviewer-pagesetupcontent","",{width:"auto"})).append(Be),H.append(Q),Z.append(ej.buildTag("td.e-reportviewer-pagesetupcontent","",{width:"3px"})),(oe=ej.buildTag("td.e-reportviewer-pagesetupcontent","",{width:"15px"})).append(Ye),Z.append(oe),(ue=ej.buildTag("td.e-reportviewer-pagesetupcontent","",{width:"80px"})).append(dt),Z.append(ue),(le=ej.buildTag("td .e-reportviewer-pagesetupcontent","",{width:"auto"})).append(Ke),Z.append(le),Z.append(ej.buildTag("td .e-reportviewer-pagesetupcontent","",{width:"3px"})),(ne=ej.buildTag("td .e-reportviewer-pagesetupcontent","",{width:"15px"})).append(tt),Z.append(ne),(he=ej.buildTag("td.e-reportviewer-pagesetupcontent","",{width:"80px"})).append(ht),Z.append(he),(se=ej.buildTag("td.e-reportviewer-pagesetupcontent","",{width:"auto"})).append(nt),Z.append(se),this._marginNumericBox(Ct),this._marginNumericBox(yt),this._marginNumericBox(Dt),this._marginNumericBox(wt),(ee=ej.buildTag("div","",{"font-weight":"bold"},{id:this._id+"_orientationLabel"})).append(n.pagesetupDialog.orientation),de.append(ee);var Mt=ej.buildTag("div","",{float:"left"},{}),bt=ej.buildTag("div","",{float:"left"},{}),Pt=ej.buildTag("div","",{float:"left","margin-top":"-1px"},{id:this._id+"_portraitLabel"}),jt=ej.buildTag("input","",{},{type:"radio",id:this._id+"_portrait",value:"Portrait"});bt.append(jt),Pt.append("&nbsp;"+n.pagesetupDialog.portrait),Mt.append(bt),Mt.append(Pt),jt.ejRadioButton({name:"orientation",checked:!0,size:"small",htmlAttributes:{"aria-disabled":"false",role:"radio","aria-label":this._getLocaleString("pagesetupDialog","orientation")+" "+this._getLocaleString("pagesetupDialog","portrait")}});var kt=ej.buildTag("div","",{float:"left"},{}),mt=ej.buildTag("div","",{float:"left"},{}),Tt=ej.buildTag("div","",{float:"left","margin-top":"-1px"},{id:this._id+"_landscapeLabel"}),Zt=ej.buildTag("input","",{},{type:"radio",id:this._id+"_landscape",value:"Landscape"});mt.append(Zt),Tt.append("&nbsp;"+n.pagesetupDialog.landscape),kt.append(mt),kt.append(Tt),ae.append(ej.buildTag("td.e-reportviewer-pagesetupcontent","",{width:"3px"})),(re=ej.buildTag("td.e-reportviewer-pagesetupcontent","",{width:"90px"},{colspan:"3"})).append(Mt),ae.append(re),ae.append(ej.buildTag("td.e-reportviewer-pagesetupcontent","",{width:"3px"})),(W=ej.buildTag("td.e-reportviewer-pagesetupcontent","",{width:"90px"},{colspan:"3"})).append(kt),ae.append(W),Zt.ejRadioButton({name:"orientation",size:"small",htmlAttributes:{"aria-disabled":"false",role:"radio","aria-label":this._getLocaleString("pagesetupDialog","orientation")+" "+this._getLocaleString("pagesetupDialog","landscape")}});var pt=ej.buildTag("input.e-reportviewer-viewreportbutton e-btn","",{float:"right"},{type:"button",value:this._getLocaleString("pagesetupDialog","doneButton"),id:this._id+"_Submit"}),Et=ej.buildTag("input.e-reportviewer-viewreportbutton e-btn","",{float:"right","margin-left":"10px"},{type:"button",value:this._getLocaleString("pagesetupDialog","cancelButton"),id:this._id+"_Cancel"}),At=$("#"+this._id+"_printPageSetup_foot");$("#"+this._id+"_printPageSetup_closebutton").attr("title",n.pagesetupDialog.close),At.append(Et).append(pt),pt.ejButton({showRoundedCorner:!0,height:30,type:"Button",click:$.proxy(this._pageSetupSubmit,this),cssClass:"e-rptviewer-okbtn",htmlAttributes:{"aria-disabled":"false",role:"button","aria-label":this._getLocaleString("pagesetupDialog","doneButton")}}),Et.ejButton({showRoundedCorner:!0,height:30,type:"Button",click:$.proxy(this._pageSetupCancel,this),cssClass:"e-rptviewer-cancelbtn",htmlAttributes:{"aria-disabled":"false",role:"button","aria-label":this._getLocaleString("pagesetupDialog","cancelButton")}}),"msie"==this._browserInfo.name?$("#"+this._id+"_PaperSize_input").css("margin-top","-2px"):("opera"==this._browserInfo.name||"webkit"==this._browserInfo.name||"chrome"==this._browserInfo.name||"mozilla"==this._browserInfo.name)&&$("#"+this._id+"_PaperSize_input").css("padding-bottom","3px")},_marginNumericBox:function(n){var c=this._getLocaleString("pagesetupDialog","margins");return n.ejNumericTextbox({change:function(r){r.value||this.option("value",0)},cssClass:"e-rptviewer-updown",decimalPlaces:2,width:"80px",minValue:0,maxValue:22,htmlAttributes:{"aria-disabled":"false",role:"textbox","aria-label":c+" "+this._getLocaleString("pagesetupDialog",n)}})},_renderViewerBlockinDevice:function(n){var c=ej.buildTag("div.e-reportviewer-viewer e-reportviewer-viewerblock e-reportviewer-blockstyle","",{},{id:this._id+"_viewBlockContainer"});this._appendChild(n,c[0]);var r=ej.buildTag("div.e-reportviewer-viewerblockcellcontent","",{margin:"1px",padding:"1px",width:"99%",height:"99%",display:"inline-table"},{id:this._id+"_viewerBlockCellContent"}),u=ej.buildTag("div.e-reportviewer-viewerblockcontent","",{width:"100%",height:"auto"}),_=ej.buildTag("div.e-reportviewer-viewreport","",{width:"100%",height:"30px","border-left":"0px",padding:"10px 0"}),w=ej.buildTag("input.e-reportviewer-viewreportbutton e-btn e-rptviewer-viewreport-btn","",{},{type:"button",value:ej.ReportViewer.Locale[this.model.locale]?ej.ReportViewer.Locale[this.model.locale].viewButton:ej.ReportViewer.Locale["en-US"].viewButton,id:this._id+"_viewReportClick","data-role":"none"});return _.append(w),r.append(u),r.append(_),w.ejButton({showRoundedCorner:!0,type:"Button"}),c.append(r),c},_renderViewerBlockinWeb:function(n){var r,u,c=ej.buildTag("div.e-reportviewer-viewer e-reportviewer-viewerblock","",{},{id:this._id+"_viewBlockContainer"});n.append(c);var _=ej.buildTag("table.e-reportviewer-viewerblockcellcontent e-reportviewer-blockcontainer","",{padding:"5px","border-collapse":"collapse"},{id:this._id+"_viewerBlockCellContent"}),w=ej.buildTag("tr","",{width:"100%"}),v=ej.buildTag("td.e-reportviewer-viewerblockcontent","",{padding:"0px"},{id:this._id+"_viewerBlockContent"}),a=ej.buildTag("div.e-reportviewer-viewerblock-parentdiv","",{width:"100%"},{id:this._id+"_viewer_paramblock"}),s=ej.buildTag("div","",{}),h=ej.buildTag("div.e-reportviewer-viewerblock-childdiv","",{},{});return a.append(s),s.append(h),r=ej.buildTag("td.e-reportviewer-viewreport","",{"vertical-align":"middle"},{id:this._id+"_viewReportBlock"}),u=ej.buildTag("input.e-reportviewer-viewreportbutton e-btn e-rptviewer-viewreport-btn","",{},{type:"button",value:this._getLocaleString("viewButton"),id:this._id+"_viewReportClick","data-role":"none","aria-label":this._getLocaleString("viewButton")}),r.append(u),v.append(a),w.append(v),w.append(r),_.append(w),u.ejButton({height:32,cssClass:"e-accent",showRoundedCorner:!0,type:"Button"}),a.ejScroller({scrollerSize:9,enableTouchScroll:!0,buttonSize:0,height:"auto",width:"auto"}),c.append(_),c},_renderViewerContainer:function(n){var r,_,v,s,t,l,p,g,C,D,L,c=this._buildTag("div","e-reportviewer-box-border",null,{id:this._id+"_reportviewerContainer"});n.append(c),r=this._buildTag("div","e-reportviewer-viewer e-reportviewer-scrollcontainer e-reportviewer-viewercontainer",null,{id:this._id+"_viewerContainer"}),this._setTagStyle(r,{height:"100%",width:"100%","font-size":"8pt"}),_=this._buildTag("div",null,null,{id:this._id+"_loadingIndicator"}),this._setTagStyle(_,{margin:"0px",height:"99.8%",width:"100%"}),v=this._buildTag("div",null,null,{id:this._id+"_loadingLabel"},{role:"alert"}),this._setTagStyle(v,{display:"none",padding:"2px","background-color":"#ffff99",float:"right",position:"relative","z-index":"1001"}),s=this._buildTag("span",null,null,{id:this._id+"_spanLoadingLable"}),this._setTagStyle(s,{display:"block","font-size":"12.5px","font-family":"Arial"});var I=this._buildTag("div","e-reportviewer-pageviewcontainer",null,{id:this._id+"_pageviewOuterContainer"}),R=this._buildTag("div",null,null,{id:this._id+"_errorMsgContainer"});this._setTagStyle(R,{"text-align":"center",padding:"4px",display:"none"}),t=this._buildTag("span",null,null,{id:this._id+"_errorMsgSpan"}),this._setTagStyle(t,{display:"block","font-size":"15px","font-family":"Arial"}),l=this._buildTag("div","e-reportviewer-pageouterline",null,{id:this._id+"_pageviewOuterline"}),(p=this._buildTag("div","e-reportviewer-pageview",null,{id:this._id+"_pageviewContainer"})).style.backgroundColor="#FFFFFF";var V=this._buildTag("div","e-reportviewer-box-border",null,{id:this._id+"_pageviewheaderContainer"}),F={position:"relative","background-color":"transparent"},A=this._buildTag("div","e-reportviewer-box-border",null,{id:this._id+"_pageviewbodyContainer"});this._setTagStyle(A,{position:"relative","background-color":"transparent",overflow:"hidden"});var z=this._buildTag("div","e-reportviewer-box-border",null,{id:this._id+"_pageviewfooterContainer"}),N={position:"relative","background-color":"transparent"},U=this._buildTag("div","pageHeaderBorder e-reportviewer-box-border",null,null);return this._setTagStyle(U,{position:"relative","background-color":"#FFFFFF"}),g=this._buildTag("div","pageBodyBorder e-reportviewer-box-border",null,null),this._setTagStyle(g,{position:"relative","background-color":"#FFFFFF","background-position":"center center","background-repeat":"no-repeat"}),C=this._buildTag("div","pageFooterBorder e-reportviewer-box-border",null,null),this._setTagStyle(C,{position:"relative","background-color":"#FFFFFF"}),D=ej.buildTag("div.e-reportviewer-alertIcon","",{float:"right",height:"40px",width:"50px",margin:"-55px 25px -10px -117px",position:"relative",cursor:"pointer",display:"none"},{id:this._id+"_AlertIcon"}),this.element.append(D),this._printMode&&(F.overflow="hidden",N.overflow="hidden"),this._setTagStyle(V,F),this._setTagStyle(z,N),this._appendChild(U,V),this._appendChild(g,A),this._appendChild(C,z),this._appendChild(p,U),this._appendChild(p,g),this._appendChild(p,C),this._appendChild(v,s),this._appendChild(r,v),this._appendChild(r,_),this._appendChild(l,p),this._appendChild(I,l),this._appendChild(R,t),this._appendChild(r,R),this._appendChild(r,I),this._isDevice?this._renderViewerBlockinDevice(r):(L=this._buildTag("div","e-reportviewer-documentmapcontainer",null,{id:this._id+"_documentmapContainer"}),this._appendChild(c,L)),this._appendChild(c,r),$("#"+_.id).ejWaitingPopup({showOnInit:!1,text:this.model.toolbarSettings.items&ej.ReportViewer.ToolbarItems.Stop?'<a href="javascript:;" id = "'+this._id+'_loadingindicator_cancel">'+this._getLocaleString("progressMessage","cancelText")+"</a>":"",appendTo:"#"+this._id+"_loadingIndicator",target:"#"+this._id+"_loadingIndicator",cssClass:"e-designer-loader",template:this.model.waitingPopupTemplate}),this.model.toolbarSettings.items&ej.ReportViewer.ToolbarItems.Stop&&this._on($("#"+this._id+"_loadingindicator_cancel"),"click",function(){this.cancelRendering(),this._showNavigationIndicator(!1)}),$("#"+r.id).ejWaitingPopup({showOnInit:!1,appendTo:"#"+this._id+"_viewerContainer",target:"#"+this._id+"_viewerContainer",cssClass:"e-designer-loader",htmlAttributes:{role:"alert"},template:this.model.waitingPopupTemplate}),c},_renderViewer:function(){var u,w,n=this.element.height(),c=this.element.width(),r=ej.buildTag("div.e-reportviewer-viewer","",{});this.element[0].style.height||0==this.element[0].parentElement.clientHeight||(this._isHeight=!0),this.element[0].style.width||0==this.element[0].parentElement.clientWidth||(this._isWidth=!0),0===n&&0!=this.element[0].parentElement.clientHeight?this.element.height(this.element[0].parentElement.clientHeight):"msie"==this._browserInfo.name&&8==this._browserInfo.version&&-1!=this.element[0].style.height.indexOf("%")&&(u=parseInt(this.element[0].style.height),this.element.height(this.element[0].parentElement.clientHeight/100*u)),0===c&&0!=this.element[0].parentElement.clientWidth?this.element.width(this.element[0].parentElement.clientWidth):"msie"==this._browserInfo.name&&8==this._browserInfo.version&&-1!=this.element[0].style.width.indexOf("%")&&(w=parseInt(this.element[0].style.width),this.element.width(this.element[0].parentElement.clientWidth/100*w)),this.element.append(r),this._isDevice=this.model.renderMode&ej.ReportViewer.RenderMode.Mobile&&this.model.renderMode&ej.ReportViewer.RenderMode.Desktop?this._isMobileDevice():!!(this.model.renderMode&ej.ReportViewer.RenderMode.Mobile),this._renderToolBar(r),this._isDevice||(this._renderViewerBlockinWeb(r),$(".e-reportviewer-toolbarli").ejTooltip({isBalloon:!0,associate:"target",position:{target:{horizontal:"center",vertical:"bottom"},stem:{horizontal:"center",vertical:"top"}},cssClass:"e-rptviewer-tooltip",beforeOpen:$.proxy(this._beforeTooltipPopup,this)})),this._renderViewerContainer(r)},_refreshScroller:function(){var n=$("#"+this._id+"_viewer_paramblock").data("ejScroller");n&&(this._setScrollerWidth(this._getItemWidth($("#"+this._id+"_viewerBlockCellContent"))),n.refresh(),this._setParameterBottomBorder())},_setScrollerHeight:function(n){var c=$("#"+this._id+"_viewer_paramblock").data("ejScroller");c&&c.setModel({height:n})},_setScrollerWidth:function(n){var r,u,c=$("#"+this._id+"_viewer_paramblock").data("ejScroller");c&&(r=$("#"+this._id+"_viewReportBlock"),u=this._getItemWidth(r)+parseFloat(r.css("padding-left"))+parseFloat(r.css("padding-right")),c.setModel({width:n-u}))},_getItemWidth:function(n){return n.width()+parseFloat(n.css("border-left-width"))+parseFloat(n.css("border-right-width"))},_renderCredentialBlock:function(n){var r,u,_,w,v,a,s,h,c=ej.buildTag("table","",{},{id:this._id+"_credential_block_table"});for(c.append('<tr height="4px"></tr>'),r=0;r<n.length;r++){var t=n[r],o=ej.buildTag("tr","",{},{}),l=ej.buildTag("td","",{},{colspan:this._isDevice?"1":"5"}),g=ej.buildTag("span.e-reportviewer-header",this._isDevice?"Specify the Credential for "+t.Name+":":t.Prompt,{});l.append(g),o.append(l),this._isDevice?(c.append(o),c.append('<tr height="4px"></tr>'),_=ej.buildTag("tr","",{},{}),this._appendCredentialItems(_,"namelbl",t),w=ej.buildTag("tr","",{},{}),this._appendCredentialItems(w,"nametxt",t),v=ej.buildTag("tr","",{},{}),this._appendCredentialItems(v,"passwdlbl",t),a=ej.buildTag("tr","",{},{}),this._appendCredentialItems(a,"passwdtxt",t),c.append(_),c.append(w),c.append(v),c.append(a),c.append('<tr height="6px"></tr>')):(u=ej.buildTag("tr","",{},{}),this._appendCredentialItems(u,"namelbl",t),this._appendCredentialItems(u,"nametxt",t),u.append(ej.buildTag("td.e-reportviewer-viewerblockcellcontent","",{width:"7px"},{})),this._appendCredentialItems(u,"passwdlbl",t),this._appendCredentialItems(u,"passwdtxt",t),c.append(o),c.append('<tr height="6px"></tr>'),c.append(u),c.append('<tr height="10px"></tr>'))}this._wiredViewClickEvent(n),s=this._isDevice?".e-reportviewer-viewerblockcontent":".e-reportviewer-viewerblock-childdiv",(h=$("#"+this._id+"_viewBlockContainer").find(s)).empty(),h.append(c)},_wiredViewClickEvent:function(n){this._on($("#"+this._id+"_viewReportClick"),"click",{ds:n},this._viewReportCredentialClick)},_unwiredViewClickEvent:function(){this._off($("#"+this._id+"_viewReportClick"),"click",this._viewReportCredentialClick)},_appendCredentialItems:function(n,c,r){var _,w,v,a,u=ej.ReportViewer.Locale[this.model.locale]?ej.ReportViewer.Locale[this.model.locale]:ej.ReportViewer.Locale["en-US"];switch(c){case"namelbl":_=ej.buildTag("td.e-reportviewer-viewerblockcellcontent","",{},{}),w=ej.buildTag("span.e-reportviewer-content",u.credential.userName+"&nbsp;",{},{id:r.ControlId+"_username_label"}),_.append(w);break;case"nametxt":_=ej.buildTag("td.e-reportviewer-viewerblockcellcontent","",{},{}),v=ej.buildTag("input.e-textbox e-reportviewer-textbox","",{},{type:"text",autocomplete:"off",id:r.ControlId+"_loginName","aria-label":this._getLocaleString("credential","userName")}),_.append(v);break;case"passwdlbl":_=ej.buildTag("td.e-reportviewer-viewerblockcellcontent","",{},{}),w=ej.buildTag("span.e-reportviewer-content",u.credential.password+"&nbsp;",{},{id:r.ControlId+"_password_label"}),_.append(w);break;case"passwdtxt":_=ej.buildTag("td.e-reportviewer-viewerblockcellcontent","",{},{}),a=ej.buildTag("input.e-textbox e-reportviewer-textbox","",{},{type:"password",autocomplete:"off",id:r.ControlId+"_password","aria-label":this._getLocaleString("credential","password")}),_.append(a)}n.append(_)},_viewReportCredentialClick:function(n){for(var c=n.data.ds,r=[],u=0;u<c.length;u++){var _=c[u],w=$("#"+_.ControlId+"_loginName").val(),v=$("#"+_.ControlId+"_password").val();r.push({Name:_.Name,UserName:w,Password:v})}this._dataSources=r,this._ajaxCallMethod(this._reportAction.validateDSCredential,"_validateDSCredential",!1)},_renderParameterBlock:function(n){var r,u,_,w,v,a,s,h,t,o,l,p,g,b,C,T,D,L,I,R,V,F,A,z,N,U,J,Q,oe,ue,le,c=n.parameters;this._reportParametersModel=c;var ne=n.parametersLayout,he=n.parameterCustomProperties;if(null!=he&&he.length>0)for(r=0;r<he.length;r++)switch(u=he[r].Name.toLowerCase(),_=he[r].Value,u){case"popupheight":this.model.parameterSettings.popupHeight=_;break;case"popupwidth":this.model.parameterSettings.popupWidth=_;break;case"mindatetime":this.model.parameterSettings.minDateTime=_;break;case"maxdatetime":this.model.parameterSettings.maxDateTime=_;break;case"weekstartday":this.model.parameterSettings.weekStartDay=_;break;case"timedisplayformat":this.model.parameterSettings.timeDisplayFormat=_;break;case"datetimeformat":this.model.parameterSettings.dateTimeFormat=_;break;case"datetimepickertype":"datetime"===_.toLowerCase()&&(this.model.parameterSettings.dateTimePickerType=ej.ReportViewer.DateTimePickerType.DateTime);break;case"timeinterval":this.model.parameterSettings.timeInterval=parseInt(_);break;case"enablefiltersearch":this.model.enableDropDownSearch="true"===_.toLowerCase();break;case"enablepopupresize":this.model.enablePopupResize="true"===_.toLowerCase();break;case"hideparameterblock":this.model.parameterSettings.hideParameterBlock="true"===_.toLowerCase();break;case"hidetooltip":this.model.parameterSettings.hideTooltip="true"===_.toLowerCase();break;case"enableparameterblockscroller":this.model.enableParameterBlockScroller="true"===_.toLowerCase();break;case"labelwidth":this.model.parameterSettings.labelWidth=_.includes("px")?_.slice(0,-2):_;break;case"itemwidth":this.model.parameterSettings.itemWidth=_;break;case"showrequiredfieldindicator":this.model.parameterSettings.showRequiredFieldIndicator="true"===_.toLowerCase();break;case"optionalpromptmessage":this.model.parameterSettings.optionalPromptMessage=_;break;case"optionalgroupparameters":this.model.parameterSettings.optionalGroupSettings.length<1&&this.model.parameterSettings.optionalGroupSettings.push({names:_.includes(",")?_.split(","):_,promptMessage:this.model.parameterSettings.optionalPromptMessage=this.model.parameterSettings.optionalPromptMessage});break;case"datestartlevel":this.model.parameterSettings.dateStartLevel=_;break;case"datedepthlevel":this.model.parameterSettings.dateDepthLevel=_}if(null!=c&&c.length>0){var ee=this._isDevice?".e-reportviewer-viewerblockcontent":".e-reportviewer-viewerblock-childdiv",re=$("#"+this._id+"_viewBlockContainer").find(ee),W=this._onRenderBeginAction({reportParameters:$.extend(!0,[],c),parameterBlock:$("#"+this._id+"_viewBlockContainer")});if(!W){if(w=this._buildTag("table",null,null,{id:this._id+"_param_block_table"},null),v=this._buildTag("tbody",null,null,null),w.setAttribute("data-isViewClick",!1),this._appendChild(w,v),re.empty(),re.append(w),h=[],t=[],ne){for(p=0;p<c.length;p++)(A=ne.GridLayoutDefinition.CellDefinitions.filter(function(pe){return pe.ParameterName==c[p].Name}))&&0==c[p].Hidden&&(h.push(A[0].RowIndex),t.push(A[0].ColumnIndex));for(s=this._buildTag("td",null,null,{colSpan:c.length>1?"5":"2"}),a=this._buildTag("tr","e-reportviewer-tr",null,null),this._appendChild(a,s),this._appendChild(v,a),g=0,b=0;b<ne.GridLayoutDefinition.NumberOfRows;b++)if(-1!=jQuery.inArray(b,h))for(0!=b&&0!=g&&(s=this._buildTag("td",null,null,{colSpan:c.length>1?"5":"2"}),(a=this._buildTag("tr",null,null,null)).style.height="10px",this._appendChild(a,s),this._appendChild(v,a)),g++,(a=this._buildTag("tr",null,null,null)).style.minHeight="20px",this._appendChild(v,a),C=0;C<ne.GridLayoutDefinition.NumberOfColumns;C++)-1!=jQuery.inArray(C,t)&&(T=this._buildTag("td","e-reportviewer-viewerblockcellcontent",null,null),D=ne.GridLayoutDefinition.CellDefinitions.filter(function(pe){return pe.ColumnIndex==C&&pe.RowIndex==b}),this._appendChild(a,T),D.length>0?(L=this._buildTag("td","e-reportviewer-viewerblockcellcontent",null,null),N=this._buildTag("td","e-reportviewer-viewerblockcellcontent",null,null),this._appendChild(a,L),this._appendChild(a,N),(A=c.filter(function(pe){return pe.Name==D[0].ParameterName})).length>0&&(l=this._getParamColSize(A[0],"label"),o=this._getParamColSize(A[0],"item"),this._setTagStyle(N,{"min-width":"130px","max-width":o,"padding-right":"auto"!=l?"20px":"5px"}),Q=this._getTextWidth(A[0].Prompt?A[0].Prompt:A[0].Name,"segoe ui 14.5px")>parseFloat(l)?"e-reportviewer-txt-overflow":"",(oe=this._buildTag("div",null,null,"e-reportviewer-txt-overflow"===Q?{title:A[0].Prompt?A[0].Prompt:A[0].Name}:null)).className+=Q,oe.style.width=l,(ue=this._buildTag("span","e-reportviewer-content",null,null)).innerText=A[0].Prompt?A[0].Prompt:A[0].Name+"&nbsp;&nbsp;",this._setTagStyle(ue,"auto"==oe.style.width?{cursor:"default","padding-right":"5px"}:{cursor:"default"}),this._appendChild(oe,ue),this.model.parameterSettings.showRequiredFieldIndicator&&(A[0].AllowBlank||A[0].IsNullable||((I=this._buildTag("span","e-reportviewer-content",null,null)).innerText=" *",this._setTagStyle(I,{color:"red"}),this._appendChild(oe,I))),this._appendChild(L,oe),z=this._buildTag("div",null,null,{id:A[0].ControlId+"_div"}),(le={width:"100%","white-space":"nowrap"}).display="webkit"==this._browserInfo.name?"-webkit-box":"flex",this._setTagStyle(z,le),this._appendChild(N,z),this._renderParameterElements(A[0],z))):((R=this._buildTag("td",null,null,null)).style.minWidth="30px",this._appendChild(a,R),(V=this._buildTag("td",null,null,null)).style.minWidth="130px",this._appendChild(a,V)))}else for(F=0;F<c.length;F++)o=this._getParamColSize(A=c[F],"item"),this._isDevice?(w.style.width="100%",s=this._buildTag("td",null,null,null),a=this._buildTag("tr","e-reportviewer-tr",null,null),this._appendChild(a,s),this._appendChild(v,a),a=this._buildTag("tr",null,null,null),this._appendChild(v,a),N=this._buildTag("td","e-reportviewer-viewerblockcellcontent",null,null),ue=this._buildTag("span","e-reportviewer-content",A.Prompt+"&nbsp;&nbsp;",null),this._appendChild(N,ue),this._appendChild(a,N),a=this._buildTag("tr",null,null,null),this._appendChild(v,a),U=this._buildTag("td","e-reportviewer-viewerblockcellcontent",null,null),this._setTagStyle(U,{"min-width":"130px","max-width":o}),this._appendChild(a,U),z=this._buildTag("div",null,null,{id:A.ControlId+"_div"}),(le={width:"100%","white-space":"nowrap"}).display="webkit"==this._browserInfo.name?"-webkit-box":"flex",this._setTagStyle(z,le),this._appendChild(U,z)):(F%2==0?(0!=F?(s=this._buildTag("td",null,null,{colSpan:c.length>1?"5":"2"}),(a=this._buildTag("tr",null,null,null)).style.height="10px",this._appendChild(a,s),this._appendChild(v,a)):(s=this._buildTag("td",null,null,{colSpan:c.length>1?"5":"2"}),a=this._buildTag("tr","e-reportviewer-tr",null,null),this._appendChild(a,s),this._appendChild(v,a)),a=this._buildTag("tr",null,null,null),this._appendChild(v,a)):(J=this._buildTag("td",null,null,null),this._appendChild(a,J)),N=this._buildTag("td","e-reportviewer-viewerblockcellcontent",null,null),l=this._getParamColSize(A,"label"),Q=this._getTextWidth(A.Prompt?A.Prompt:A.Name,"segoe ui 14.5px")>parseFloat(l)?"e-reportviewer-txt-overflow":"",(oe=this._buildTag("div",null,null,"e-reportviewer-txt-overflow"===Q?{title:A.Prompt?A.Prompt:A.Name}:null)).className+=Q,oe.style.width=l.toString().includes("px")?l:l+"px",(ue=this._buildTag("span","e-reportviewer-content",null,null)).innerText=A.Prompt?A.Prompt:A.Name+"&nbsp;&nbsp;",this._setTagStyle(ue,{cursor:"default"}),this._appendChild(oe,ue),this._appendChild(N,oe),this._appendChild(a,N),U=this._buildTag("td","e-reportviewer-viewerblockcellcontent",null,null),this._setTagStyle(U,{"min-width":"130px","max-width":o,"padding-right":"20px"}),this._appendChild(a,U),z=this._buildTag("div",null,null,{id:A.ControlId+"_div"}),(le={width:"100%","white-space":"nowrap"}).display="webkit"==this._browserInfo.name?"-webkit-box":"flex",this._setTagStyle(z,le),this._appendChild(U,z)),this._renderParameterElements(A,z);s=this._buildTag("td",null,null,{colSpan:c.length>1?"5":"2"}),this._isDevice&&s.removeAttribute("colSpan"),a=this._buildTag("tr","e-reportviewer-tr",null,null),this._appendChild(a,s),this._appendChild(v,a)}}else this._showParameterBlock(!1);return this._on($("#"+this._id+"_viewReportClick"),"click",{params:this._reportParametersModel},this._viewReportParamsClick),W},_getScrollerHeight:function(n,c){for(var r=0,u=0;u<c;u++)r+=$("#"+n+" tr:eq("+u+")").height();return r},_getTextWidth:function(n,c){var u,r=$("<span>").hide().appendTo(document.body);return r.text(n).css("font",c),u=r.width(),r.remove(),u},_getParamColSize:function(n,c){var r;return"label"===c?(r="auto"===this.model.parameterSettings.labelWidth||Number(this.model.parameterSettings.labelWidth)>110?this.model.parameterSettings.labelWidth:"110px",n.CustomProperties&&n.CustomProperties.LabelWidth&&(r=n.CustomProperties.LabelWidth)):"item"===c&&(r="auto"===this.model.parameterSettings.itemWidth||parseFloat(this.model.parameterSettings.itemWidth)>185?this.model.parameterSettings.itemWidth:"185px",n.CustomProperties&&n.CustomProperties.ItemWidth&&(r=n.CustomProperties.ItemWidth)),isNaN(r)?r:Number(r)},_renderDropdownTooltip:function(n){if(!ej.isNullOrUndefined(this.model.parameterSettings)&&!this.model.parameterSettings.hideTooltip){var c=$("#"+n).data("ejDropDownList"),r=c.model.text;c.container.ejTooltip({content:r&&r.replaceAll(",",", "),cssClass:"e-rptviewer-tooltip",open:function(){var u=$("#"+n).data("ejDropDownList").model.text;$("#"+n+"_container").data("ejTooltip").setModel({content:u&&u.replaceAll(",",", ")}),(ej.isNullOrUndefined(u)||""==u)&&$("#"+n+"_container_Main").css({display:"none"})},beforeOpen:function(u){var _=$("#"+n).data("ejDropDownList").model.text;(ej.isNullOrUndefined(_)||""==_)&&(u.cancel=!0)}})}},_renderParameterElements:function(n,c){var _,w,v,a,s,h,t,o,l,p,g,b,C,T,D,I,R,V,F,A,z,N,U,J,Q,oe,le,ne,he,se,ee,re,W,pe,fe,xe,r=$.extend(!0,{},this.model.parameterSettings),u={parameterModel:n,containerId:n.ControlId+"_div",handled:!1,parameterSettings:r,customProperties:null};if(null!=n.CustomProperties&&n.CustomProperties!=undefined&&(u.customProperties=n.CustomProperties,null!=u.customProperties))for(_ in u.customProperties)_&&("datetimepickertype"==_.toLowerCase()||"datetimeuitype"==_.toLowerCase()?r.dateTimePickerType=u.customProperties[_]:"popupheight"==_.toLowerCase()?r.popupHeight=u.customProperties[_]:"popupwidth"==_.toLowerCase()?r.popupWidth=u.customProperties[_]:"itemwidth"==_.toLowerCase()&&(r.itemWidth=u.customProperties[_]));if(this._onBeforeParameterAdd(u),u.handled)(xe={labels:[],values:[],nullable:!1}).name=n.Name,xe.nullable=n.IsNullable,n.Labels&&n.Labels.length>0?xe.labels=n.Labels:n.Label&&xe.labels.push(n.Label),n.Values&&n.Values.length>0?xe.values=n.Values:n.Value&&xe.values.push(n.Value),this._updateCustomParametersModel(xe);else{var L,O,B,H,ae,de,_e,Z=ej.ReportViewer.Locale[this.model.locale]?ej.ReportViewer.Locale[this.model.locale]:ej.ReportViewer.Locale["en-US"],te="msie"==this._browserInfo.name&&parseInt(this._browserInfo.version)<=9,Se=this;if(de="auto"==r.itemWidth||parseFloat(r.itemWidth)<185?185:parseFloat(r.itemWidth),n.Operator&&("Integer"==n.DataType||"String"==n.DataType||"Float"==n.DataType||"DateTime"==n.DataType)&&(_e=de/100*35,de=de/100*65-6,w=this._buildTag("div",null,null,{id:n.ControlId+"_operatorContainerDiv"}),(v={width:_e,"padding-right":"6px","white-space":"nowrap"}).display="webkit"==this._browserInfo.name?"-webkit-box":"flex",this._setTagStyle(w,v),this._appendChild(c,w)),a=this._buildTag("div",null,null,{id:n.ControlId+"_paramContainerDiv"}),(s={width:de,"white-space":"nowrap"}).display="webkit"==this._browserInfo.name?"-webkit-box":"flex",this._setTagStyle(a,s),this._appendChild(c,a),n.Operator&&("Integer"==n.DataType||"String"==n.DataType||"Float"==n.DataType||"DateTime"==n.DataType))for(h=this._buildTag("select","e-rptviewer-multivalue",null,{id:n.ControlId+"_Operator"}),t=this._getParameterOperators(n),w.append(h),$("#"+n.ControlId+"_Operator").ejDropDownList({cssClass:"e-js e-reportviewer-param e-rptviewer-drpdown",width:_e,height:28,value:n.Operator,dataSource:t,watermarkText:Z.waterMark.selectOption,enableAnimation:!0,htmlAttributes:{"aria-disabled":"false",role:"combobox","aria-label":n.name},create:function(){Se._renderDropdownTooltip(n.ControlId+"_Operator")}}),o=0;o<t.length;o++)$("#"+n.ControlId+"_Operator_"+o+"_popup_option").ejTooltip({content:t[o].text,cssClass:"e-rptviewer-tooltip",position:{stem:{horizontal:"center",vertical:"top"},target:{horizontal:"center",vertical:"bottom"}}});if("MultiValue"==n.ParameterElementType){if(l=[],$("#"+n.ControlId+"_popup_wrapper").length>0&&$("#"+n.ControlId+"_popup_wrapper").remove(),p=this._buildTag("select","e-rptviewer-multivalue",null,{id:n.ControlId,name:n.Name}),this._setAttributes(p,r.attributes),p.setAttribute("data-sf-name",n.Name),this._appendChild(a,p),A=Z.waterMark.noDataFound,n.AvailableLabels){if(g=this._buildTag("input",null,null,{id:n.ControlId+"_check",type:"checkbox"}),b=this._buildTag("div",null,null,null),this._setTagStyle(b,{"border-bottom":"1px solid #c8c8c8"}),this._appendChild(b,g),C=$.extend(n.DefaultValuesfields,!0),n.Values&&n.Values.length>0&&(C=n.Values),null!=n.AvailableLabels){if(n.IsNullable){if(n.IsNullable)for(L=0;L<n.AvailableLabels.length;L++)null!=n.AvailableValues&&null!=n.AvailableValues[L]&&null!=n.AvailableLabels[L]&&((H=document.createElement("option")).value=n.AvailableValues[L],H.text=n.AvailableLabels[L],-1!=jQuery.inArray(n.AvailableValues[L],C)&&l.push(L),p.add(H))}else for(L=0;L<n.AvailableLabels.length;L++)null!=n.AvailableValues&&((H=document.createElement("option")).value=n.AvailableValues[L],H.text=n.AvailableLabels[L],-1!=jQuery.inArray(n.AvailableValues[L],C)&&l.push(L),p.add(H));n.AvailableLabels.length==C.length&&(ae=!0)}n.AvailableValues.length>0&0==n.DefaultValues.length&&(A=Z.waterMark.selectOption),$("#"+p.id).ejDropDownList({cssClass:"e-js e-reportviewer-param e-rptviewer-drpdown",width:de,showCheckbox:!0,selectedIndices:l,watermarkText:A,delimiterChar:r.delimiterChar,beforePopupShown:n.IsDependent?this._beforePopupOpen:"",change:n.IsDependent?this._paramsChangeEvent:this._onParamsChangeEvent,isInteraction:!0,popupHide:n.IsDependent?this._paramsChangeEvent:"",enableFilterSearch:this.model.enableDropDownSearch,enablePopupResize:!0,enableAnimation:!0,headerTemplate:b.outerHTML,checkChange:this._chkBoxSelectionChange,isSelectAllChecked:!1,height:28,popupHeight:r.popupHeight,popupWidth:r.popupWidth,htmlAttributes:{"aria-label":n.Prompt},create:function(){Se._renderDropdownTooltip(p.id)}}),$("#"+n.ControlId+"_check").ejCheckBox({cssClass:"e-reportviewer-paramcheckbox",checked:ae,isInteraction:!0,name:n.ControlId+"_chk_SelectAll",size:"small",text:Z.selectAll,change:this._onCheckAll}),(I=$($("#"+n.ControlId+"_check")).siblings(".e-text")).addClass("e-reportviewer-paramcheckboxlabel"),this._isDevice&&($("#"+n.ControlId+"_check").data("ejCheckBox").setModel({cssClass:"e-reportviewer-device-paramcheckbox"}),I.removeClass("e-reportviewer-paramcheckboxlabel"),I.addClass("e-reportviewer-device-paramcheckbox"))}else if(n.Values){for(T=this._buildTag("input",null,null,{id:n.ControlId+"_check",type:"checkbox"}),D=this._buildTag("div",null,null,null),this._setTagStyle(D,{"border-bottom":"1px solid #c8c8c8"}),this._appendChild(D,T),this._appendChild(a,p),L=0;L<n.Values.length;L++)(H=document.createElement("option")).value=n.Values[L],H.text=n.Labels[L],l.push(L),p.add(H);n.Values.length>0&&(ae=!0),$("#"+p.id).ejDropDownList({cssClass:"e-js e-reportviewer-param e-rptviewer-drpdown",width:de,showCheckbox:!0,selectedIndices:l,watermarkText:A,change:n.IsDependent?this._paramsChangeEvent:this._onParamsChangeEvent,beforePopupShown:n.IsDependent?this._beforePopupOpen:"",popupHide:n.IsDependent?this._paramsChangeEvent:"",checkChange:this._selectionChanged,headerTemplate:D.outerHTML,enableFilterSearch:this.model.enableDropDownSearch,isSelectAllChecked:!1,height:28,enablePopupResize:!0,popupHeight:r.popupHeight,popupWidth:r.popupWidth,htmlAttributes:{"aria-label":n.Prompt},create:function(){Se._renderDropdownTooltip(p.id)}}),$("#"+n.ControlId+"_check").ejCheckBox({cssClass:"e-reportviewer-paramcheckbox",checked:ae,isInteraction:!0,name:"chk_SelectAll",size:"small",text:Z.selectAll,change:this._onCheckAll}),(I=$($("#"+n.ControlId+"_check")).siblings(".e-text")).addClass("e-reportviewer-paramcheckboxlabel")}}else if("ComboBox"==n.ParameterElementType){if(R=this._buildTag("select","e-rptviewer-comboBox",null,{id:n.ControlId,name:n.Name,"data-data":"select"}),this._setAttributes(R,r.attributes),R.setAttribute("data-sf-name",n.Name),V=9999,F=!1,this._appendChild(a,R),null!=n.AvailableLabels)for(L=0;L<n.AvailableLabels.length;L++)"Select a value"!=n.AvailableLabels[L]?null!=n.AvailableValues&&((H=document.createElement("option")).value=n.AvailableValues[L],H.text=n.AvailableLabels[L],n.AvailableValues[L]==n.Value&&(V=L),R.add(H)):"Select a value"==n.AvailableLabels[L]&&(F=!0);F&&(V-=1),A=Z.waterMark.selectValue,null!=n.AvailableValues&&0==n.AvailableValues.length&0==n.DefaultValues.length&&(A=Z.waterMark.noDataFound),z={cssClass:"e-js e-reportviewer-param e-rptviewer-drpdown",width:de,watermarkText:A,beforePopupShown:n.IsDependent?this._beforePopupOpen:"",change:n.IsDependent?this._paramsChangeEvent:this._onParamsChangeEvent,popupHide:n.IsDependent?this._paramsChangeEvent:"",enableIncrementalSearch:!0,enableFilterSearch:this.model.enableDropDownSearch,enableAnimation:!0,enablePopupResize:this.model.enablePopupResize,height:28,popupHeight:r.popupHeight,popupWidth:r.popupWidth,htmlAttributes:{"aria-label":n.Prompt},create:function(){Se._renderDropdownTooltip(R.id)}},9999!=V&&(z.selectedIndex=V),$("#"+R.id).ejDropDownList(z),"auto"==r.itemWidth&&(N=$("#"+n.ControlId+"_popup_list_wrapper").width()+$(a).find("#"+n.ControlId+"_dropdown").width())>185&&(a.parent().css("max-width",N),R.data("ejDropDownList").setModel({width:N}))}else if("DateTime"==n.ParameterElementType)U=this._buildTag("input","e-reportviewer-DateTime",null,{id:n.ControlId,type:"text",maxLength:"256",name:n.Name},{"aria-label":n.Prompt}),this._appendChild(a,U),de=n.IsNullable?parseFloat(de)-50+"px":de,"DateTime"==r.dateTimePickerType?(J=this._getDateTimeFormat(),Q=ej.isNullOrUndefined(r.dateTimeFormat)||""==r.dateTimeFormat?""!=J?J:n.fullDateFormatString:r.dateTimeFormat,$("#"+U.id).ejDateTimePicker({minDateTime:r.minDateTime,maxDateTime:r.maxDateTime,startDay:Number(r.weekStartDay)?Number(r.weekStartDay):this.model.parameterSettings.weekStartDay,startLevel:""!=r.dateStartLevel?this.model.parameterSettings.dateStartLevel:"month",depthLevel:""!=r.dateDepthLevel?this.model.parameterSettings.dateDepthLevel:"month",cssClass:te?"e-reportviewer-param-datepicker e-reportviewer-param":"e-reportviewer-param",width:de,value:ej.isNullOrUndefined(n._dateTimeValue)||""==n._dateTimeValue?n._dateTimeValue:null!=this._getDateTimeObject(n.DateTimeInfo)?this._getDateTimeObject(n.DateTimeInfo):n._dateTimeValue,change:n.IsDependent?this._paramsChangeEvent:this._onParamsChangeEvent,locale:this.model.locale,dateTimeFormat:Q,timeDisplayFormat:ej.isNullOrUndefined(r.timeDisplayFormat)||""==r.timeDisplayFormat?ej.isNullOrUndefined(this.model.localeSettings.timeFormat)||""==this.model.localeSettings.timeFormat?n.longTimeFormatString:this.model.localeSettings.timeFormat:r.timeDisplayFormat,interval:r.timeInterval,height:28})):(oe=ej.isNullOrUndefined(r.dateTimeFormat)||""==r.dateTimeFormat?this.model.localeSettings.dateFormat:r.dateTimeFormat,$("#"+U.id).ejDatePicker({minDate:r.minDateTime,maxDate:r.maxDateTime,startDay:Number(r.weekStartDay)?Number(r.weekStartDay):this.model.parameterSettings.weekStartDay,startLevel:""!=r.dateStartLevel?this.model.parameterSettings.dateStartLevel:"month",depthLevel:""!=r.dateDepthLevel?this.model.parameterSettings.dateDepthLevel:"month",cssClass:te?"e-reportviewer-param-datepicker e-reportviewer-param":"e-reportviewer-param",width:de,value:ej.isNullOrUndefined(n._dateValue)||""==n._dateValue?n._dateValue:null!=this._getDateTimeObject(n.DateTimeInfo)?this._getDateTimeObject(n.DateTimeInfo):n._dateValue,change:n.IsDependent?this._paramsChangeEvent:this._onParamsChangeEvent,locale:this.model.locale,dateFormat:oe,height:28})),n.IsNullable&&(O=this._buildTag("span",null,null,null),this._setTagStyle(O,{"WHITE-SPACE":"nowrap"}),te||this._setTagStyle(O,{display:"block","padding-top":"3.5px"}),(fe=this._buildTag("span",null,null,null)).innerHTML="&nbsp;",this._appendChild(a,fe),B=this._buildTag("input",null,null,{id:n.ControlId+"_chk",type:"checkbox",name:"chkDateTime",value:this._id}),this._appendChild(O,B),this._appendChild(a,O),O.insertAdjacentHTML("afterend","&nbsp;<span class=e-reportviewer-label style=padding-top:4px>Null</span>"),null!=n.Label&&n.Label.length>0?$("#"+B.id).ejCheckBox({change:this._paramNullChange}):($("#"+B.id).ejCheckBox({change:n.IsDependent?this._depentParamNullChange:this._paramNullChange,checked:!0,htmlAttributes:{"aria-label":"Null"}}),this._paramElementDisable(n.ControlId,"chkDateTime",!0)));else if("RadioButton"==n.ParameterElementType){var be=this._buildTag("table",null,null,null),Ce=this._buildTag("tbody",null,null,null),Pe=this._buildTag("tr",null,null,null);this._appendChild(Ce,Pe),this._appendChild(be,Ce),this._appendChild(a,be),te&&this._setTagStyle(be,{float:"left"}),le=!1,null!=n.Label&&n.Label.length>0&&"true"==n.Label.toLowerCase()&&(le=!0),ne=this._buildTag("td",null,null,null),he=this._buildTag("input",null,null,{id:n.ControlId+"_01",type:"radio",name:n.Name}),this._setAttributes(he,r.attributes),this._appendChild(ne,he),this._appendChild(Pe,ne),he.insertAdjacentHTML("afterend","&nbsp;<span>True</span>"),$("#"+he.id).ejRadioButton({checked:le,change:n.IsDependent?this._paramsChangeEvent:this._onParamsChangeEvent,htmlAttributes:{"aria-label":n.Prompt+":True"}}),(se=this._buildTag("td",null,null,null)).style.width="10px",this._appendChild(Pe,se),ee=this._buildTag("td",null,null,null),re=this._buildTag("input",null,null,{id:n.ControlId+"_02",type:"radio",name:n.Name}),this._setAttributes(re,r.attributes),this._appendChild(ee,re),this._appendChild(Pe,ee),re.insertAdjacentHTML("afterend","&nbsp;<span>False</span>"),null!=n.Label&&n.Label.length>0&&(le=!le),$("#"+re.id).ejRadioButton({checked:le,change:n.IsDependent?this._paramsChangeEvent:this._onParamsChangeEvent,htmlAttributes:{"aria-label":n.Prompt+":False"}}),n.IsNullable&&(W=this._buildTag("td",null,null,null),O=this._buildTag("span",null,null,null),this._setTagStyle(O,{"WHITE-SPACE":"nowrap"}),te||this._setTagStyle(O,{display:"block","padding-top":"3.5px"}),(fe=this._buildTag("span",null,null,null)).innerHTML="&nbsp;",this._appendChild(W,fe),B=this._buildTag("input",null,null,{id:n.ControlId+"_chk",type:"checkbox",name:"chkRadio",value:this._id}),this._appendChild(W,B),this._appendChild(Pe,W),W.insertAdjacentHTML("afterend","<span class=e-reportviewer-label style=padding-top:4px>Null</span>"),$("#"+B.id).ejCheckBox({change:n.IsDependent?this._depentParamNullChange:this._paramNullChange}),null!=n.Label&&n.Label.length>0?$("#"+B.id).ejCheckBox({change:this._paramNullChange}):($("#"+B.id).ejCheckBox({change:n.IsDependent?this._depentParamNullChange:this._paramNullChange,checked:!0,htmlAttributes:{"aria-label":"Null"}}),this._paramElementDisable(n.ControlId,"chkRadio",!0)))}else pe=this._buildTag("input","e-textbox",null,{id:n.ControlId,type:"text",autocomplete:"off",name:n.Name,value:n.Value},{"aria-label":n.Prompt}),this._setAttributes(pe,r.attributes),this._appendChild(a,pe),de=n.IsNullable?parseFloat(de)-50+"px":de,$("#"+n.ControlId).ejMaskEdit({height:28,width:de,cssClass:"e-reportviewer-param",create:function(){var Ne=$("#"+n.ControlId).data("ejMaskEdit").model.value;$("#"+n.ControlId).ejTooltip({content:Ne&&Ne.replaceAll(",",", "),cssClass:"e-rptviewer-tooltip",open:function(){var Le=$("#"+n.ControlId).data("ejMaskEdit").model.value;$("#"+n.ControlId).data("ejTooltip").setModel({content:Le&&Le.replaceAll(",",", ")}),(ej.isNullOrUndefined(Le)||""==Le)&&$("#"+n.ControlId+"_Main").css({display:"none"})},beforeOpen:function(Le){var je=$("#"+n.ControlId).data("ejMaskEdit").model.value;(ej.isNullOrUndefined(je)||""==je)&&(Le.cancel=!0)}})}}),n.IsNullable?(pe.style.width=de,O=this._buildTag("span",null,null,null),this._setTagStyle(O,{"WHITE-SPACE":"nowrap"}),te||this._setTagStyle(O,{display:"block","padding-top":"3.5px"}),(fe=this._buildTag("span",null,null,null)).innerHTML="&nbsp;",this._appendChild(a,fe),B=this._buildTag("input",null,null,{id:n.ControlId+"_chk",type:"checkbox",name:"chkTextbox",value:this._id}),this._appendChild(O,B),this._appendChild(a,O),O.insertAdjacentHTML("afterend","&nbsp;<span class=e-reportviewer-label style=padding-top:4px>Null</span>"),$("#"+B.id).ejCheckBox({change:n.IsDependent?this._depentParamNullChange:this._paramNullChange}),null!=n.Label&&n.Label.length>0?$("#"+B.id).ejCheckBox({change:n.IsDependent?this._depentParamNullChange:this._paramNullChange}):($("#"+B.id).ejCheckBox({change:n.IsDependent?this._depentParamNullChange:this._paramNullChange,checked:!0,htmlAttributes:{"aria-label":"Null"}}),this._paramElementDisable(n.ControlId,"chkTextbox",!0))):pe.style.width=de,pe.addEventListener("change",n.IsDependent?this._paramsChangeEvent:this._onParamsChangeEvent),$("#"+n.ControlId).attr("name",n.Name)}},_onCheckAll:function(n){var c=n.model.id.substring(0,n.model.id.indexOf("_check")),u=(c.substr(0,c.lastIndexOf("Param")-1),$("#"+c).ejDropDownList("instance"));u.isSelectAllChecked=u._selectedIndices.length==u.listitems.length,n.isChecked?(u.isSelectAllChecked=!0,u.checkAll()):u.isSelectAllChecked&&(u.isSelectAllChecked=!1,u.uncheckAll())},_chkBoxSelectionChange:function(n){var c=this._id.indexOf("Param")<0?n.target.id:this._id,u=(c.substr(0,c.lastIndexOf("Param")-1),$("#"+c).ejDropDownList("instance"));this._selectedIndices.length!=this.listitems.length?(u.isSelectAllChecked=!1,$("#"+c+"_check").ejCheckBox({checked:!1})):(u.isSelectAllChecked=!0,$("#"+c+"_check").ejCheckBox({checked:!0}))},_selectionChanged:function(n){var v,c=this._id.indexOf("Param")<0?n.target.id:this._id,r=c.substr(0,c.lastIndexOf("Param")-1),u=$("#"+r).data("boldReportViewer"),w=this._activeItem;if(0==this.selectedIndexValue&&this.selectedTextValue==(ej.ReportViewer.Locale[u.model.locale]?ej.ReportViewer.Locale[u.model.locale]:ej.ReportViewer.Locale["en-US"]).selectAll)if(this.checkedStatus)for(v=1;v<this.listitems.length;v++)this._setModel({selectedIndex:v});else for(v=1;v<this.listitems.length;v++)this.unselectItemsByIndices(v);else this._selectedIndices.length==this.listitems.length-1&&(this.checkedStatus?this._setModel({selectedIndex:0}):this.unselectItemsByIndices(0));this._selectedIndices.length!=this.listitems.length?(this.isSelectAllChecked=!1,$("#"+c+"_check").ejCheckBox({checked:!1})):(this.isSelectAllChecked=!0,$("#"+c+"_check").ejCheckBox({checked:!0})),this._activeItem=w},_updateParamElements:function(n){var r,u,_,c=this._onRenderBeginAction({reportParameters:$.extend(!0,{},n[0])});if(!c)for(r=0;r<n.length;r++)if(u=n[r],null!=(_=document.getElementById(u.ControlId+"_div")))if(u.IsMultiValue||null!=u.AvailableValues||"Boolean"==u.DataType){for(;_.firstChild;)_.removeChild(_.firstChild);this._renderParameterElements(u,_)}else"DateTime"==u.DataType?(this._isDateTimePicker(u.ControlId)?$("#"+u.ControlId).data("ejDateTimePicker"):$("#"+u.ControlId).data("ejDatePicker")).setModel({value:u.Label}):$("#"+u.ControlId).val(u.Label);return this._updateParametersModel(n),$("#"+this._id+"_viewerBlockCellContent").removeClass("e-reportviewer-paramblock-disable"),this._showparameterLoadingIndicator(!1,null),c},_paramsChangeEvent:function(n){var w,c=this._id!=undefined?this._id:this.id,r=c.indexOf("Param")<0?n.target.id:c,u=r.substr(0,r.lastIndexOf("Param")-1),_=$("#"+u).data("boldReportViewer");_._updateParam=null,"change"==n.type&&_._onParameterChange(),("popupHide"!=n.type||n.text==this._currentDropdownText)&&("change"!=n.type||this.popUpShow)||(_._updateParamLoadingMessage(_,"ejRadioButton"==this.pluginName?r.substr(0,r.lastIndexOf("_")):r),this._currentDropdownText=null,w=_._paramDependentUpdate(r,!1,this,n)),w!=undefined&&(_._updateParam=w,_._ajaxCallMethod(_._reportAction.updateParameters,"_updateParameters",!1))},_beforePopupOpen:function(n){this._currentDropdownText=n.text},_onParamsChangeEvent:function(n){var c=this._id!=undefined?this._id:this.id,r=c.indexOf("Param")<0?n.target.id:c,u=r.substr(0,r.lastIndexOf("Param")-1);$("#"+u).data("boldReportViewer")._onParameterChange()},_updateParamLoadingMessage:function(n,c){var r;$("#"+n._id+"_viewerBlockCellContent").addClass("e-reportviewer-paramblock-disable");var u=ej.ReportViewer.Locale[n.model.locale]?ej.ReportViewer.Locale[n.model.locale]:ej.ReportViewer.Locale["en-US"],_=null,w=null;if(null!=n._reportParametersModel&&n._reportParametersModel.length>0){for(r=0;r<n._reportParametersModel.length;r++)if(n._reportParametersModel[r].ControlId==c){_=n._reportParametersModel[r];break}for(r=0;r<n._reportParametersModel.length;r++)if(null!=_.RelationInfo&&null!=_.RelationInfo.ReferencedParameters&&_.RelationInfo.ReferencedParameters.length>0&&_.RelationInfo.ReferencedParameters[0]==n._reportParametersModel[r].Name){w=n._reportParametersModel[r].ControlId;break}}n._showparameterLoadingIndicator(!0,u.parameterProcessingMessage,_.Name,_.Prompt,w)},_paramDependentUpdate:function(n,c,r,u){var v,a,s,_={Name:"",Labels:[],Values:[],DateTimeInfo:{}},w=$("#"+n);if(_.Name=w.attr("name"),c)_.Labels.push(null),_.Values.push(null);else if("ejDropDownList"==r.pluginName){if(_.Name==undefined&&(_.Name=w.attr("data-sf-name")),r.model.showCheckbox)for(v=0;v<r.model.selectedIndices.length;v++)_.Labels.push(r.selectOptionItems[r.model.selectedIndices[v]].text),_.Values.push(r.selectOptionItems[r.model.selectedIndices[v]].value);else-1!=r.model.selectedIndex&&(_.Labels.push(r.selectOptionItems[r.model.selectedIndex].text),_.Values.push(r.selectOptionItems[r.model.selectedIndex].value));if("popupHide"!=u.type&&"change"!=u.type)return}else"ejDatePicker"==r.pluginName?(a=w.data("ejDatePicker").getValue(),_.Labels.push(a),_.Values.push(a),a=$("#"+n).data("ejDatePicker"),ej.isNullOrUndefined(a)||""==a.model.value||null==a.model.value||this._getDateTimeInfo(a,_.DateTimeInfo)):"ejDateTimePicker"==r.pluginName?(a=w.data("ejDateTimePicker").getValue(),_.Labels.push(a),_.Values.push(a),a=$("#"+n).data("ejDateTimePicker"),ej.isNullOrUndefined(a)||""==a.model.value||null==a.model.value||this._getDateTimeInfo(a,_.DateTimeInfo)):"ejRadioButton"==r.pluginName?(s=w.data("ejRadioButton").model.checked,"_01"===w.attr("id").slice(-3)?(_.Labels.push(s),_.Values.push(s)):(_.Labels.push(!1),_.Values.push(!1))):(_.Labels.push(w.val()),_.Values.push(w.val()));return _},_viewReportParamsClick:function(n){var r,u,_,w,a,s;if(this.model.sizeToReportContent&&this._setContainerSize(),this._showloadingIndicator(!0),$("#"+this._id+"_viewerBlockCellContent").addClass("e-reportviewer-paramblock-disable"),this._hidePageView(),r=this._getParameterJson(n.data.params,!0)){for(w in this._reportParameters=r,this._viewReportEnableDisable(!0),this._refresh=!0,this._currentPage=1,$("#"+this._id+"_viewBlockContainer .e-reportviewer-viewerblockcontent table:first").attr("data-isviewclick","true"),u=[],_={},r)_[r[w].name]=r[w];for(a in _)u.push(_[a]);this._onViewReportClick({parameters:u}),this._reportParameters=r=u,s=this._printMode?"_getPreviewModel":"_getPageModel",r.cancel?this._showloadingIndicator(!1):(this.doAjaxPost("POST",this._actionUrl,JSON.stringify({reportAction:this._reportAction.getPageModel,refresh:this._refresh,dataRefresh:this._dataRefresh,pageindex:this._currentPage,pageInit:this._isToolbarClick,isPrint:this._printMode,dataSources:this.model.dataSources.length>0?this.model.dataSources:null,parameters:r}),s),this._isDevice&&this._toggleParameterBlock()),this.model.autoRender||(this.model.isDataRendered=!0),$("#"+this._id+"_toolbar_li_refresh").hasClass("e-disable")&&$("#"+this._id+"_toolbar_li_refresh").removeClass("e-disable")}else this._showloadingIndicator(!1)},_viewReportEnableDisable:function(n){$("#"+this._id+"_viewReportClick").attr("disabled",n)},_getDefaultParameters:function(n){for(var c,u=[],_=[],w=n.parameters;0<w.length;w++)if(w[0].DefaultValues){for(c=0;c<w[0].DefaultValues.length;c++)_.push(w[0].DefaultValues[c]),u.push(w[0].DefaultValues[c]);this.doAjaxPost("POST",this._actionUrl,JSON.stringify({reportAction:this._reportAction.setParameters,parameters:[{Name:w[0].Name,Values:u,Labels:_,Nullable:w[0].IsNullable}]}),"_setParameters")}},_isDateTimePicker:function(n){return!ej.isNullOrUndefined($("#"+n).data("ejDateTimePicker"))},_getOptionalParameters:function(n,c){for(var r,u,_,w,v,a,s,h="",t="",o=0;o<n.length;o++)for(r=0;r<c.length;r++)if(_=$("#"+(u=c[r]).ControlId+"_div").find(".e-chkbox-wrap").attr("aria-checked"),this.model.parameterSettings.optionalGroupSettings[o].names.includes(u.Name)){if(w="","ComboBox"==u.ParameterElementType&&$("#"+u.ControlId).data("ejDropDownList")?w=(a=$("#"+u.ControlId).data("ejDropDownList")).getSelectedValue():"DateTime"==u.ParameterElementType&&$("#"+u.ControlId).data("ejDatePicker")?(v=this._isDateTimePicker(u.ControlId)?$("#"+u.ControlId).data("ejDateTimePicker"):$("#"+u.ControlId).data("ejDatePicker"))&&"false"==_&&(w=v.getValue()):"MultiValue"==u.ParameterElementType?(s=(a=$("#"+u.ControlId).data("ejDropDownList"))._selectedIndices).length>0&&(w=a.selectOptionItems[s[0]].value):"Textbox"==u.ParameterElementType&&("false"==_||ej.isNullOrUndefined(_))&&(w=$("#"+u.ControlId).val()),!(u.AllowBlank&&(""==w||ej.isNullOrUndefined(w))||(u.IsNullable||_)&&(""==w||ej.isNullOrUndefined(w)))){h="";break}paramPrompt=u.Prompt,h+=paramPrompt+", "}return""!=h&&(t+=(null!=this.model.parameterSettings.optionalGroupSettings[0].promptMessage?this.model.parameterSettings.optionalGroupSettings[0].promptMessage:"At least one value required for parameters")+" '"+h.slice(0,-2)+".  ",h=""),t},_getParameterJson:function(n,c){var _,w,v,a,s,h,t,o,g,b,C,T,D,L,I,R,V,F,A,z,N,r=ej.ReportViewer.Locale[this.model.locale]?ej.ReportViewer.Locale[this.model.locale]:ej.ReportViewer.Locale["en-US"],u=n.parameters?n.parameters:n;if(n.paramName!=undefined&&""!=n.paramName)return w=(_=r.alertMessage.RVERR0005).substr(_.indexOf("{"),_.indexOf("}")-3),this._showAlertDialog(_.replace(w,n.paramName),"",!0),!1;if(v="",a=[],!ej.isNullOrUndefined(this.model.parameterSettings.optionalGroupSettings)&&this.model.parameterSettings.optionalGroupSettings.length>0&&c){for(F=0;F<this.model.parameterSettings.optionalGroupSettings.length;F++)for(s=0;s<this.model.parameterSettings.optionalGroupSettings[F].names.length;s++)a.push(this.model.parameterSettings.optionalGroupSettings[F].names[s]);if(""!=(v=this._getOptionalParameters(this.model.parameterSettings.optionalGroupSettings,u)))return this._showAlertDialog(v,"",!0),!1}for(h=[],t=[],o=0;o<u.length;o++){var U=u[o],J=[],Q=[],oe="",ue=!1,le={},ne=$("#"+U.ControlId+"_div").find(".e-chkbox-wrap").attr("aria-checked");if("true"==ne)ue=!0;else{if($("#"+U.ControlId+"_Operator").data("ejDropDownList")&&(oe=$("#"+U.ControlId+"_Operator").data("ejDropDownList").getSelectedValue()),0==U.Hidden)if("MultiValue"==U.ParameterElementType&&$("#"+U.ControlId).data("ejDropDownList"))if((g=(p=$("#"+U.ControlId).data("ejDropDownList"))._selectedIndices).length>0){for(b=0;b<g.length;b++)Q.push(p.selectOptionItems[g[b]].text),J.push(p.selectOptionItems[g[b]].value);if(U.IsNullable)for(C=0;C<U.AvailableLabels.length;C++)null==U.AvailableLabels[C]&&(Q.push(""),J.push(""),ue=!0)}else if(0==g.length&&c&&U.IsNullable){if(null!=U.AvailableLabels)for(T=0;T<U.AvailableLabels.length;T++)null==U.AvailableLabels[T]&&(ue=!0);ue||a.includes(U.Name)||t.push(" "+U.Prompt)}else 0==g.length&&c&&U.AllowBlank?(A=$("#"+U.ControlId).val(),(ej.isNullOrUndefined(A)||""==A)&&(a.includes(U.Name)?(Q.push(null),J.push(null)):(Q.push(""),J.push("")))):a.includes(U.Name)||t.push(" "+U.Prompt);else if("ComboBox"==U.ParameterElementType&&$("#"+U.ControlId).data("ejDropDownList")){var p,he=(p=$("#"+U.ControlId).data("ejDropDownList")).getSelectedValue(),se=p.getSelectedItem();""==he?he=U.Value:null!=U.AvailableValues&&U.AvailableValues.length>0&&U.AvailableValues[p._selectedIndices[0]]!=he&&(he=U.AvailableValues[p._selectedIndices[0]]),se=se&&""==$(se).text()?U.Label:$(se).text(),p._selectedIndices.length>0?(Q.push(se),J.push(he)):a.includes(U.Name)||t.push(" "+U.Prompt)}else if("DateTime"==U.ParameterElementType&&$("#"+U.ControlId).data("ejDatePicker"))(D=this._isDateTimePicker(U.ControlId)?$("#"+U.ControlId).data("ejDateTimePicker"):$("#"+U.ControlId).data("ejDatePicker"))&&(null==(z=D.getValue())?a.includes(U.Name)||t.push(" "+U.Prompt):null!=z&&(Q.push(z),J.push(z)));else if("RadioButton"==U.ParameterElementType&&$("#"+U.ControlId+"_01").data("ejRadioButton")&&$("#"+U.ControlId+"_02").data("ejRadioButton"))L=$("#"+U.ControlId+"_01").data("ejRadioButton"),I=$("#"+U.ControlId+"_02").data("ejRadioButton"),"true"==(ne=$("#"+U.ControlId+"_div").find(".e-chkbox-wrap").attr("aria-checked"))?ue=!0:L.model.checked||I.model.checked?(L.model.checked||I.model.checked)&&(Q.push(L.model.checked),J.push(L.model.checked)):t.push(" "+U.Prompt);else{if(R=null,this._customParameters&&this._customParameters.length>0)for(F=0;F<this._customParameters.length;F++)if((V=this._customParameters[F])&&V.name==U.Name){R=V;break}if(R){if(ej.isNullOrUndefined(R.values)||0==R.values.length)return c&&this._showAlertDialog(r.alertMessage.RVERR0004+" '"+U.Prompt+"'.","",!0),!1;for(F=0;F<R.values.length;F++){if(!this._validateParameter(c,U,A=R.values[F],r))return!1;(!ej.isNullOrUndefined(A)||U.IsNullable||U.AllowBlank&&""==A)&&(Q.push(typeof R.labels[F]<"u"?R.labels[F]:A),J.push(A))}}else{if(A=$("#"+U.ControlId).val(),!U.AllowBlank&&(""==A||ej.isNullOrUndefined(A))&&(a.includes(U.Name)||t.push(" "+U.Prompt)),!this._validateParameter(c,U,A,r)&&""!=A&&!ej.isNullOrUndefined(A))return!1;(!ej.isNullOrUndefined(A)||U.IsNullable||U.AllowBlank&&""==A)&&(Q.push(A),J.push(A))}}else"MultiValue"==U.ParameterElementType&&U.Values.length>0?(Q=U.Labels,J=U.Values):(Q.push(A=U.Value),J.push(A));"DateTime"==U.ParameterElementType&&J.length>0&&(z=this._isDateTimePicker(U.ControlId)?$("#"+U.ControlId).data("ejDateTimePicker"):$("#"+U.ControlId).data("ejDatePicker"),ej.isNullOrUndefined(z)||""==z.model.value||null==z.model.value||this._getDateTimeInfo(z,le))}if(N={name:U.Name,values:J,labels:Q,nullable:ue,dateTimeInfo:le},ej.isNullOrUndefined(oe)||(N.operator=oe),h.push(N),u.length==o+1&&t.length>0)return c&&this._showAlertDialog(1==t.length?r.alertMessage.RVERR0010+" '"+t.toString()+"'. "+r.alertMessage.RVERR0011:r.alertMessage.RVERR0013+" '"+t.toString()+"'. "+r.alertMessage.RVERR0014,"",!0),!1}return h},_getDateTimeInfo:function(n,c){var r=n.model.value;c.Year=r.getFullYear(),c.Month=r.getMonth()+1,c.Day=r.getDate(),c.Hour=r.getHours(),c.Minute=r.getMinutes(),c.Second=r.getSeconds()},_getParameterOperators:function(n){var c=ej.ReportViewer.Locale[this.model.locale]?ej.ReportViewer.Locale[this.model.locale]:ej.ReportViewer.Locale["en-US"],r=[];return"DATETIME"==n.DataType.toUpperCase()&&(r=r.concat([{text:c.reportParameter.operators.between,value:"{between}"},{text:c.reportParameter.operators.relative,value:"{relative}"}])),"MULTIVALUE"==n.ParameterElementType.toUpperCase()?r=r.concat([{text:c.reportParameter.operators.in,value:"{in}"},{text:c.reportParameter.operators.notIn,value:"{notin}"}]):"COMBOBOX"==n.ParameterElementType.toUpperCase()?r=r.concat([{text:c.reportParameter.operators.is,value:"{is}"},{text:c.reportParameter.operators.isNot,value:"{isnot}"}]):("TEXTBOX"==n.ParameterElementType.toUpperCase()||"DATETIME"==n.DataType.toUpperCase())&&(r=r.concat([{text:c.reportParameter.operators.equals,value:"{equals}"},{text:c.reportParameter.operators.notEqualTo,value:"{notequalto}"}])),"INTEGER"==n.DataType.toUpperCase()||"FLOAT"==n.DataType.toUpperCase()||"DATETIME"==n.DataType.toUpperCase()?r=r.concat([{text:c.reportParameter.operators.lessThan,value:"{lessthan}"},{text:c.reportParameter.operators.greaterThan,value:"{greaterthan}"},{text:c.reportParameter.operators.lessOrEqual,value:"{lessorequal}"},{text:c.reportParameter.operators.greaterOrEqual,value:"{greaterorequal}"}]):"STRING"==n.DataType.toUpperCase()&&(r=r.concat([{text:c.reportParameter.operators.contains,value:"{contains}"},{text:c.reportParameter.operators.doesNotContain,value:"{notcontain}"},{text:c.reportParameter.operators.startsWith,value:"{startswith}"},{text:c.reportParameter.operators.endsWith,value:"{endswith}"}])),r},_validateParameter:function(n,c,r,u){if(n){var _=u.alertMessage.RVERR0012,w=_.substring(_.indexOf("{"),_.indexOf("}")+1);if("Float"!=c.DataType||c.AllowBlank)if("Integer"!=c.DataType||c.AllowBlank){if("String"==c.DataType&&!c.AllowBlank&&(""==r||ej.isNullOrUndefined(r)))return this._showAlertDialog(u.alertMessage.RVERR0010+" '"+c.Prompt+"'. "+u.alertMessage.RVERR0011,"",!0),!1}else{if(""==r||ej.isNullOrUndefined(r))return this._showAlertDialog(u.alertMessage.RVERR0010+" '"+c.Prompt+"'. "+u.alertMessage.RVERR0011,"",!0),!1;if(!r.match("^[-+]?[0-9]+$"))return this._showAlertDialog(_.replace(w,c.Prompt),"",!0),!1}else{if(""==r||ej.isNullOrUndefined(r))return this._showAlertDialog(u.alertMessage.RVERR0010+" '"+c.Prompt+"'. "+u.alertMessage.RVERR0011,"",!0),!1;if(!r.match("^[-+]?[0-9]*.?[0-9]+$"))return this._showAlertDialog(_.replace(w,c.Prompt),"",!0),!1}}else if(!c.AllowBlank&&(""==r||ej.isNullOrUndefined(r)))return!1;return!0},_updateParametersModel:function(n){var c,r,u;if(this._reportParametersModel&&n)for(c=0;c<n.length;c++){for(r=!1,u=0;u<this._reportParametersModel.length;u++)if(this._reportParametersModel[u].Name===n[c].Name){this._reportParametersModel[u]=n[c],r=!0;break}r||this._reportParametersModel.push(n[c])}},_updateCustomParametersModel:function(n){var c,r,u;if(this._customParameters==undefined&&(this._customParameters=[]),this._customParameters&&n&&n.name){if(c=!0,this._customParameters.length>0)for(r=0;r<this._customParameters.length;r++)if((u=this._customParameters[r])&&u.name==n.name){this._customParameters[r]=n,c=!1;break}c&&this._customParameters.push(n)}},_paramNullChange:function(n){var c=n.model.id.split("~"),r=$("#"+n.model.value).data("boldReportViewer");r._paramElementDisable(c[0],n.model.name,n.isChecked),r._onParameterChange()},_depentParamNullChange:function(n){var u,c=n.model.id.split("~"),r=this._id.indexOf("Param")<0?n.target.id:c[0];"_chk"===r.slice(-4)&&(r=r.slice(0,-4));var _=r.substr(0,r.lastIndexOf("Param")-1),w=$("#"+_).data("boldReportViewer");$("#"+n.model.value).data("boldReportViewer")._paramElementDisable(c[0],n.model.name,n.isChecked),w._updateParam=null,(u=w._paramDependentUpdate(r,n.isChecked,this,n))!=undefined&&0!=n.isInteraction&&(w._updateParamLoadingMessage(w,r),w._updateParam=u,w._ajaxCallMethod(w._reportAction.updateParameters,"_updateParameters",!1),w._onParameterChange())},_paramElementDisable:function(n,c,r){var u,_,w,v,a;"_chk"===n.slice(-4)&&(n=n.slice(0,-4)),"chkDateTime"==c?(w=$("#"+n+"_Operator").data("ejDropDownList"),u=this._isDateTimePicker(n)?$("#"+n).data("ejDateTimePicker"):$("#"+n).data("ejDatePicker"),r?u.disable():u.enable(),ej.isNullOrUndefined(w)||w.setModel({enabled:!r})):"chkTextbox"==c?(_=$("#"+n).data("ejMaskEdit"),w=$("#"+n+"_Operator").data("ejDropDownList"),ej.isNullOrUndefined(_)||(r?_.disable():_.enable(),ej.isNullOrUndefined(w)||w.setModel({enabled:!r}))):"chkRadio"==c&&(v=$("#"+n+"_01").data("ejRadioButton"),a=$("#"+n+"_02").data("ejRadioButton"),r?(v.disable(),a.disable()):(v.enable(),a.enable()))},_selectparamToolItem:function(n){if(!this.model.toolbarSettings.templateId){var c=$("#"+this._id+"_toolbarContainer").data("ejToolbar");n?c.selectItemByID(this._id+"_toolbar_li_parameter"):c.deselectItemByID(this._id+"_toolbar_li_parameter")}},_showParameterBlock:function(n){n?($("#"+this._id+"_viewBlockContainer .e-reportviewer-viewerblockcellcontent").css("display","block"),$("#"+this._id+"_toolbar_li_parameter").css("display","block")):($("#"+this._id+"_viewBlockContainer .e-reportviewer-viewerblockcellcontent").css("display","none"),$("#"+this._id+"_toolbar_li_parameter").css("display","none")),this._isDevice&&(this._showViewerBlock(n),this._showViewerPage(!n))},_toggleParameterBlock:function(){if(this._isDevice){var n="none"==$("#"+this._id+"_viewBlockContainer").css("display");this._showViewerBlock(n),this._showViewerPage(!n),n||this._selectparamToolItem(n)}else this._selectparamToolItem("block"!=$("#"+this._id+"_viewBlockContainer .e-reportviewer-viewerblockcellcontent").css("display")),$("#"+this._id+"_viewBlockContainer .e-reportviewer-viewerblockcellcontent").toggle();this._setContainerSize(),this._onElementsRendered({action:"ParameterToggle"})},_setParameterBlockVisibile:function(n){if(!this._isDevice){var c=$("#"+this._id+"_viewBlockContainer .e-reportviewer-viewerblockcellcontent");n?"none"==c.css("display")&&(c.toggle(),this._setContainerSize()):"block"==c.css("display")&&(c.toggle(),this._setContainerSize())}},_closeException:function(){this._showException(!1)},_errorPopupblock:function(n){var c=n.data.exceptionArgs;this._showAlertDialog(c.Message,c.Detail,!1,c.Code)},_onCancelClick:function(n){var c=$("#"+n+"_viewer_alert_dialog").data("ejDialog");$("#"+this._id+"_printPageSetup_wrapper").css("z-index",$("#"+this._id+"_printPageSetup_wrapper").css("z-index")+1),c&&c.close()},_showExceptionDetails:function(n){var c=ej.ReportViewer.Locale[this.model.locale]?ej.ReportViewer.Locale[this.model.locale]:ej.ReportViewer.Locale["en-US"],r=$("#"+n+"_msg_container");r.is(":visible")?(r.css("display","none"),$("#"+n+"_alert_link_detail").text(c.alertMessage.showDetails)):($("#"+n+"_viewer_alert_dialog_wrapper").children(".e-dialog-scroller").css("height","auto"),$("#"+n+"_viewer_alert_dialog").css("height","auto"),r.css("display","block"),$("#"+n+"_alert_link_detail").text(c.alertMessage.hideDetails))},_showExceptionBlock:function(n,c){n?(this._showloadingIndicator(!n),this._showViewerBlock(n),this._on($("#"+this._id+"_viewBlockContainer_errmsg"),"click",{exceptionArgs:c},this._errorPopupblock),this._on($("#"+this._id+"_closebutton"),"click",this._closeException),$("#"+this._id+"_errorMsgContainer").css("display","block"),$("#"+this._id+"_viewerBlockCellContent").css("display","none"),$("#"+this._id+"_AlertIcon").css("display","block"),this._on($("#"+this._id+"_AlertIcon"),"click",{exceptionArgs:c},this._errorPopupblock),$("#"+this._id+"_AlertIcon").css("visibility","visible")):(this._off($("#"+this._id+"_viewBlockContainer_errmsg"),"click",this._errorPopupblock),this._off($("#"+this._id+"_closebutton"),"click",this._closeException),$("#"+this._id+"_errorMsgContainer").css("display","none"),this._off($("#"+this._id+"_AlertIcon"),"click",this._errorPopupblock),$("#"+this._id+"_AlertIcon").css("display","none")),c!=undefined&&this._showloadingIndicator(!1),this._setContainerSize()},_showException:function(n,c){if(n&&c!=undefined){if(-1!=c.content.indexOf("Sf_Exception"))var r=c.content.replace("Sf_Exception","");this._onReportError({errmsg:r})}n&&this.model.enableNotificationBar?this._isDevice?this._showAlertDialog(c.content,c.description,!1):this._showExceptionBlock(n,c):this._showExceptionBlock(!1,c)},_showAlertDialog:function(n,c,r,u,_){var v,a,s,h,w={errorCode:u,errorMessage:n,errorDetail:c};if(this._showparameterLoadingIndicator(!1,null),this._showPrintExportProgressIndicator(!1),this._onShowError(w),!w.cancel){n=w.errorMessage,c=w.errorDetail,u=w.errorCode,v=ej.ReportViewer.Locale[this.model.locale]?ej.ReportViewer.Locale[this.model.locale]:ej.ReportViewer.Locale["en-US"],r&&($("#"+this._id+"_viewerBlockCellContent").removeClass("e-reportviewer-paramblock-disable"),this._showparameterLoadingIndicator(!1,null)),$("#"+this._id+".e-reportviewer")[0].getBoundingClientRect();var l=this._renderAlertDialog(u,_).data("ejDialog");l.setModel({height:"auto"}),$("#"+this._id+"_alert_link_detail").text(v.alertMessage.showDetails),l.open(),a=$("#"+this._id+"_alert_footer_ok").css("margin-top","10px"),s=$("#"+this._id+"_viewer_alert_dialog_closebutton"),$("#"+this._id+"_alert_link_div").css("display","block"),this._getTextHeight(n,{width:"430px","font-size":"13px"})>150?(-1!=n.indexOf("StackTrace:")&&(c=n.substring(0,n.indexOf("StackTrace:")),h=n.substring(n.indexOf("StackTrace:")).replace("  at","at"),n=h.replace("StackTrace: \n","")),$("#"+this._id+"_short_content").text(c),$("#"+this._id+"_detail_content").text(n)):-1!=n.indexOf("StackTrace:")?($("#"+this._id+"_short_content").text(n.substring(0,n.indexOf("StackTrace:"))),h=n.substring(n.indexOf("StackTrace:")).replace("  at","at"),$("#"+this._id+"_detail_content").text(h.replace("StackTrace: \n",""))):null!=w.errorDetail&&""!=w.errorDetail?($("#"+this._id+"_short_content").text(n),$("#"+this._id+"_detail_content").text(w.errorDetail)):($("#"+this._id+"_short_content").text(n),$("#"+this._id+"_alert_link_div").css("display","none")),null!=u&&""!=u?($("#"+this._id+"_errorcode_hyper_link").text(u),$("#"+this._id+"_error_code_div").css("display","block")):$("#"+this._id+"_error_code_div").css("display","none"),$(this.element).find(".e-dialog-scroller").css("border-bottom-style","none"),$("#"+this._id+"_msg_container").css("display","none"),$("#"+this._id+"_viewer_alert_dialog_title").css("text-align","center"),$("#"+this._id+"_printPageSetup_wrapper").css("z-index",$("#"+this._id+"_printPageSetup_wrapper").css("z-index")-1),a.unbind("click",$.proxy(this._onCancelClick,this)),s.unbind("click",$.proxy(this._onCancelClick,this)),a.bind("click",$.proxy(this._onCancelClick,this,this._id)),s.bind("click",$.proxy(this._onCancelClick,this,this._id))}},_redirectToOnlineLink:function(n){window.open("https://help.syncfusion.com/wpf/reportviewer/troubleshooting-errors/#"+n.toLowerCase(),"noopener")},_getTextHeight:function(n,c){var u,r=$("<span>").hide().appendTo(document.body);return r.text(n).css(c),u=r.height(),r.remove(),u},_renderAlertDialog:function(b,c){var _,r=ej.ReportViewer.Locale[this.model.locale]?ej.ReportViewer.Locale[this.model.locale]:ej.ReportViewer.Locale["en-US"],u=$("#"+this._id+"_viewer_alert_dialog");if(u.length>0)return u;u=ej.buildTag("div","",{height:"auto"},{id:this._id+"_viewer_alert_dialog"});var v=ej.buildTag("div","",{height:"auto",display:"block"}),a=ej.buildTag("div","",{display:"block",width:"100%",height:"auto"}),s=ej.buildTag("table.e-reportviewer-alert-table","",{}),h=ej.buildTag("tr","",{}),t=ej.buildTag("td","",{"max-width":"430px"},{id:this._id+"_content_cell"}),o=ej.buildTag("div.e-reportviewer-tab-focus-none","",{width:"513px",minHeight:"15px","word-wrap":"break-word","text-align":c?"center":"justify"},{role:"textbox",tabindex:"0"}),l=ej.buildTag("span","",{"font-size":"13px"},{id:this._id+"_short_content"}),p=ej.buildTag("div","",{display:"block",width:"100%"},{id:this._id+"_error_code_div"}),g=ej.buildTag("span","Error code: ",{"font-size":"14px","font-weight":"600"},{id:this._id+"_error_code"}),C=(b=ej.buildTag("span","",{"font-size":"13px"},{id:this._id+"_error_code_text"}),ej.buildTag("a","",{"font-size":"14px","font-weight":"Medium",color:"#0099FF",outline:"none"},{href:"javascript:void(0);",color:"#0099FF",id:this._id+"_errorcode_hyper_link"})),T=ej.buildTag("div","",{display:"block",width:"100%"},{id:this._id+"_alert_link_div"}),D=ej.buildTag("a",r.alertMessage.showDetails,{"font-size":"12px","font-family":"Segoe UI","font-weight":"600","margin-bottom":"18px","margin-top":"18px",color:"#179bd7","text-decoration":"none",outline:"none"},{href:"javascript:void(0);",color:"#0B0080",id:this._id+"_alert_link_detail"}),L=ej.buildTag("div.e-reportviewer-scroller e-reportviewer-error-content","",{"word-wrap":"break-word","max-height":"111px",height:"auto !important","margin-top":"16px",border:"1px solid #c9cbcc",display:"none","border-radius":"2px"},{id:this._id+"_msg_container"}),I=ej.buildTag("span.e-reportviewer-error-content","",{width:"100%"},{id:this._id+"_detail_content"});return L.css("overflow-y","chrome"==this._browserInfo.name||"mozilla"==this._browserInfo.name?"scroll":"hidden"),_=ej.buildTag("button.e-reportviewer-alert-okbtn",r.alertMessage.done,{float:"right"},{id:this._id+"_alert_footer_ok"}),$(document.body).append(u),u.append(v),v.append(a),a.append(s),s.append(h),h.append(t),p.append(g),p.append(b),b.append(C),t.append(o),o.append(l),v.append(T),T.append(D),v.append(L),L.append(I),u.ejDialog({title:r.alertMessage.title,target:"#"+this.element.attr("id"),enableModal:!0,enableResize:!1,showRoundedCorner:!0,cssClass:"e-js e-fe-dialog e-reportviewer-alertbox",backgroundScroll:!1,height:"auto",width:573,showOnInit:!0,showFooter:!0}),D.bind("click",$.proxy(this._showExceptionDetails,this,this._id)),C.bind("click",$.proxy(this._redirectToOnlineLink,this,b)),$("#"+this._id+"_viewer_alert_dialog_foot").append(_),_.ejButton({width:"80px",height:"28px",showRoundedCorner:!1,type:"Button",contentType:ej.ContentType.TextAndImage,size:"small"}),L.ejScroller({buttonSize:0,height:"100px",scrollerSize:9}),u},_setContainerSize:function(){var _,w,v,n=0,c=0,r=0,u=$("#"+this._id).height();this._isDevice||(_=$("#"+this._id+"_viewBlockContainer")).length>0&&"block"==_.css("display").toLowerCase()&&(n=$("#"+this._id+"_viewBlockContainer").height(),c=parseFloat($("#"+this._id+"_viewBlockContainer").css("border-top-width")),r=parseFloat($("#"+this._id+"_viewBlockContainer").css("border-bottom-width")));var a=0,s=0,h=0;this.model.toolbarSettings.templateId?(h=$("#"+this.model.toolbarSettings.templateId).height(),a=parseFloat($("#"+this.model.toolbarSettings.templateId).css("border-top-width")),s=parseFloat($("#"+this.model.toolbarSettings.templateId).css("border-bottom-width"))):(h=$("#"+this._id+"_toolbarContainer").height(),a=parseFloat($("#"+this._id+"_toolbarContainer").css("border-top-width")),s=parseFloat($("#"+this._id+"_toolbarContainer").css("border-bottom-width"))),(w=this.element.find("#"+this._id+"_toolbarContainer").data("ejToolbar"))&&w.refresh(),v=u-(n+c+r)-(h+a+s),this.model.sizeToReportContent?(this._currentTogglePosition>0&&$("html,body").animate({scrollTop:this._currentTogglePosition},1e3),$("#"+this._id+"_viewerContainer").css({height:v+"px"})):$("#"+this._id+"_viewerContainer").css({height:v+"px"}),this._currentTogglePosition=0},_setPageSize:function(n,c,r,u){var v,a,b,_=null,w=null,l=$("#"+this._id+"_pageviewheaderContainer").parent(),p=$("#"+this._id+"_pageviewbodyContainer").parent(),g=$("#"+this._id+"_pageviewfooterContainer").parent();v=parseFloat(l.css("border-top-width")),a=parseFloat(l.css("border-bottom-width"));var T=parseFloat(p.css("border-top-width"))+parseFloat(p.css("border-bottom-width")),L=v+a+r+T+n+(parseFloat(g.css("border-top-width"))+parseFloat(g.css("border-bottom-width")))+u;n=T>0?n:n+2,$("#"+this._id+"_pageviewContainer").css({width:c+"px",height:L+"px"}),$("#"+this._id+"_pageviewheaderContainer").css({width:c+"px",height:r+"px"}),$("#"+this._id+"_pageviewfooterContainer").css({width:c+"px",height:u+"px"}),$("#"+this._id+"_pageviewbodyContainer").css({height:n+"px",width:c+"px"}),b=$("#"+this._id+"_pageviewContainer")[0].getBoundingClientRect(),"msie"==this._browserInfo.name&&8==this._browserInfo.version?(_=b.right-b.left,w=b.bottom-b.top):(_=b.width,w=b.height),$("#"+this._id+"_pageviewOuterline").css({width:_+"px",height:w+"px"})},_renderPageModels:function(n){var r,c=new Date;this._destroyPageItems(),$("#"+this._id+"_pageviewOuterContainer").css("display","block"),this.model.sizeToReportContent&&$("#"+this._id+"_viewerContainer").css({height:"auto"}),n&&(n.ReportStyleModel&&this._applyPageStyle(document.getElementById(this._id+"_pageviewContainer"),n.ReportStyleModel,!1,!0),n.HeaderStyleModel&&this._applyPageStyle(document.getElementById(this._id+"_pageviewContainer").getElementsByClassName("pageHeaderBorder")[0],n.HeaderStyleModel,!1,!1),n.FooterStyleModel&&this._applyPageStyle(document.getElementById(this._id+"_pageviewContainer").getElementsByClassName("pageFooterBorder")[0],n.FooterStyleModel,!1,!1),n.HeaderModel&&n.HeaderModel.length>0&&(this._renderPageControls(n,n.HeaderModel,document.getElementById(this._id+"_pageviewheaderContainer"),!1,null),this._printMode&&$("#"+this._id+"_pageviewheaderContainer").css("overflow","hidden")),n.FooterModel&&n.FooterModel.length>0&&(this._renderPageControls(n,n.FooterModel,document.getElementById(this._id+"_pageviewfooterContainer"),!1,null),this._printMode&&$("#"+this._id+"_pageviewfooterContainer").css("overflow","hidden")),r=document.getElementById(this._id+"_pageviewbodyContainer"),this._printMode&&this._pageModel&&this._pageModel.Columns>1?this._renderMultiColumnPage(this._pageModel,r,!1,0):(n.BodyStyleModel&&this._applyPageStyle(document.getElementById(this._id+"_pageviewContainer").getElementsByClassName("pageBodyBorder")[0],n.BodyStyleModel,!1,!1),n.PageModel&&n.PageModel.length>0&&this._renderPageControls(n,n.PageModel,r,!1,null))),$(".txtToggle_"+this._id).length>0&&this._drillAction(),$(".drillAction_"+this._id).length>0&&this._drillThroughAction(),$(".txtSorting_"+this._id).length>0&&this._sortingAction(),this._isDocumentMap&&!this._printMode&&(this._documentMapAction(),this._isDocumentMap=!1,this._pageDocMapFlag=!0),this._parentPageXY&&($("#"+this._id+"_viewerContainer").animate({scrollTop:this._parentPageXY.y,scrollLeft:this._parentPageXY.x},1e3),this._parentPageXY=null),this.model.printMode?$("#"+this._id+"_pageviewContainer").css({"padding-left":this._pageModel.MarginLeft,"padding-top":this._pageModel.MarginTop,"padding-right":this._pageModel.MarginRight,"padding-bottom":this._pageModel.MarginBottom}):$("#"+this._id+"_pageviewContainer").css("padding","0px"),this._performanceMetrics.RenderTime=new Date-c,this._performanceMetrics.TimeProcessing=this._performanceMetrics.EvaluateTime+this._performanceMetrics.LayoutTime+this._performanceMetrics.ParseTime+this._performanceMetrics.RenderTime},_renderMultiColumnPage:function(n,c,r,u){var v,a,s,h,t,_=u*n.Columns,w=this._buildTag("div",null,null,{id:this._id+"_multiColumnbodyContainer_"+u});for(this._setTagStyle(w,{position:"relative","background-color":"transparent",display:"table"}),c&&this._appendChild(c,w),v=0,a=_;a<n.Columns+_;a++){s=this._buildTag("div","e-reportviewer-box-border",null,{id:this._id+"_pageviewbodyContainer_"+a}),h=this._buildTag("div","pageBodyBorder e-reportviewer-box-border",null,{id:this._id+"_pageviewbodyBorder_"+a}),this._appendChild(h,s),w&&this._appendChild(w,h);var o={position:"relative","background-color":"transparent"},l={position:"relative","background-color":"#FFFFFF",display:"table-cell","background-position":"center center","background-repeat":"no-repeat"},p=null;a<n.PageData.length&&null!=n.PageData[a]&&(o.height=(p=n.PageData[a]).Height+"px",o.width=p.ColumnWidth+"px",l.left=v+"px",v+=n.ColumnSpacing,t=null,r&&(t="Print"+a),p.PageModel&&p.PageModel.length>0&&s&&this._renderPageControls(p,p.PageModel,s,r,t)),this._setTagStyle(h,l),this._setTagStyle(s,o),p&&p.BodyStyleModel&&s&&this._applyPageStyle(h,p.BodyStyleModel,r,t)}},_applyPageStyle:function(n,c,r,u){var _=r?"PrintImage":"GetResource";c.BackgroundColor?n.style.backgroundColor=c.BackgroundColor:""==c.BackgroundColor&&(n.style.backgroundColor="#FFFFFF"),c.BackgroundSrc?(n.style.backgroundImage=this._getImageDataURL(c.EmbedImageData,r,_,c.BackgroundSrc),null!=c.BackgroundRepeat&&(n.style.backgroundPosition="0px 0px",u&&this._printMode&&!r?(n.style.backgroundPositionX=this._pageModel.MarginLeft+"px",n.style.backgroundPositionY=this._pageModel.MarginTop+"px"):u&&r&&(n.style.position="absolute",n.style.marginLeft=this._pageModel.MarginLeft+"px",n.style.marginTop=this._pageModel.MarginTop+"px"),n.style.backgroundRepeat=this._getBackgroundRepeat(c.BackgroundRepeat))):n.style.backgroundImage="none","Clip"===c.BackgroundRepeat&&(n.style.backgroundClip="auto"),c.Border&&this._applyBorderStyle(c.Border,n)},_getBackgroundRepeat:function(n){switch(n.toLowerCase()){case"repeatx":n="repeat-x";break;case"repeaty":n="repeat-y";break;case"fit":n="round";break;case"clip":n="no-repeat";break;case"repeat":n="repeat"}return n},_renderErrorDialog:function(n){this._showAlertDialog(n.Message,n.Detail,!1,n.Code)},_renderErrorItemControl:function(n,c,r,u,_){var b,C,D,w=this._controlKeyGenerator(this._id+"_"+n.Name,null,r,u),v=this._buildTag("div","e-reportviewer-errormodeltooltip",w.ToolTip,{id:w}),a="#Error",s="Click here for more details.",h={},t={},o={},l=this._buildTag("table","e-reportviewer-alert-table",null,null),p=this._buildTag("tr",null,null,null),g=this._buildTag("td",null,null,{id:this._id+"_tablerow_cell"});return g.style.maxWidth="430px",b=this._buildTag("div","e-reportviewer-errorIcon",null,null),h["-webkit-box-sizing"]=h["-moz-box-sizing"]=h["box-sizing"]="content-box",h.position="absolute",h["word-wrap"]="break-word",h["white-space"]="pre-wrap",h["background-color"]="#FBE7E9",h.cursor="pointer",t["vertical-align"]="middle",t["text-align"]="center",o.width="24px",o.height="24px",o.display="inline-block",o["margin-left"]="auto",o["margin-right"]="auto",o["margin-bottom"]="-5px",_?h.border="1px solid #c8c8c8":(h.top=n.Top+"px",h.left=n.Left+"px"),this._isDataRegionModel(n.ItemType)||_?(t.width=n.Width+"px",t.height=n.Height+"px"):(t.width="80px",t.height="30px"),this._isDataRegionModel(n.ItemType)?a="An error occurred while rendering '"+n.ItemType.toString().replace("Model","")+"' report item.":s="An error occurred while rendering '"+n.ItemType.toString().replace("Model","")+"' report item.",this._appendChild(l,p),this._appendChild(p,g),this._setTagStyle(b,o),this._setTagStyle(l,t),this._setTagStyle(v,h),(C=this._buildTag("span",null,null,{id:this._id+"_errorText"})).textContent=a,this._setTagStyle(C,{"font-family":"Segoe UI, Helvetica Neue, Ubuntu, Arial !important","font-size":"14px","font-weight":"500"}),(D=this._buildTag("span","e-reportviewer-tooltiptext",null,{id:this._id+"_toolTipText"})).textContent=s,$("#"+this._id+"_toolTipText").css("bottom","100%"),ej.isNullOrUndefined(n.ErrorInformation)||v.addEventListener("click",$.proxy(this._renderErrorDialog,this,n.ErrorInformation)),this._appendChild(g,b),this._appendChild(g,C),this._appendChild(v,l),this._appendChild(v,D),v},_isDataRegionModel:function(n){return!("LineModel"==n||"ImageModel"==n||"TextBoxModel"==n||"RectangleModel"==n)},_renderPageControls:function(n,c,r,u,_){var v,a,s,h,w=document.createElement("div");for(this._appendChild(r,w),v=0;v<c.length;v++)!ej.isNullOrUndefined((a=c[v]).ErrorInformation)&&a.ErrorInformation.Message?(s=this._renderErrorItemControl(a,!1,u,_,!1),this._appendChild(w,s)):"TextBoxModel"==a.ItemType?this._renderTextBoxControl(a,!1,null,u,_,w):"LineModel"==a.ItemType?(h=this._renderLineControl(a,null,u,_),this._appendChild(w,h)):"ImageModel"==a.ItemType?this._renderImageControl(a,!1,w,null,u,_):"CustomReportItemModel"==a.ItemType?this._renderCustomReportItemControl(a,!1,w,null,u,_):"TablixModel"==a.ItemType?this._renderTablixControl(a,!1,{},w,null,u,_,n):"GaugeModel"==a.ItemType?this._renderGaugeControl(a,!1,!1,{},w,null,u,_):"RectangleModel"==a.ItemType?this._renderRectangleControl(a,!1,w,null,u,_,n):"ChartModel"==a.ItemType?this._renderChartControl(a,!1,!1,{},w,null,u,_):"MapModel"==a.ItemType?this._renderMapControl(a,!1,w,null,u,_):"SubReportModel"==a.ItemType&&this._renderSubReportControl(a,!1,w,null,u,_,n)},_controlKeyGenerator:function(n,c,r,u){var _=ej.isNullOrUndefined(c)?"":"_"+c;return r&&(_=0==_.length?"_"+u:_+"_"+u),n+_},_addEmbeddedImage:function(n,c,r,u,_){var v,w=this._reportImages[_]?this._reportImages[_]:_;null!=w&&((v=this._buildTag("img",null,null,{alt:"",id:u,src:"data:image/jpeg;base64,"+w})).width=c,v.height=r,this._appendChild(n,v))},_getImageDataURL:function(n,c,r,u){return n?"url(data:image/png;base64,"+(this._reportImages[u]?this._reportImages[u]:u)+")":"url("+this._getMultiTenantUrl(this.model.reportServiceUrl+"/"+r+"/?key="+u+"&resourcetype=sfimg&isPrint="+c,!1)+")"},_applyBorderStyle:function(n,c){this._applyCellBorderStyle("",n.Default,c),this._applyCellBorderStyle("-left",n.LeftBorder,c),this._applyCellBorderStyle("-right",n.RightBorder,c),this._applyCellBorderStyle("-top",n.TopBorder,c),this._applyCellBorderStyle("-bottom",n.BottomBorder,c)},_applyTextStyle:function(n,c,r,u,_,w,v,a){var g,b,C,T,s=0,h=0,t=0,o=0,l={topBorder:0,rightBorder:0,bottomBorder:0,leftBorder:0};if(n.Padding&&(n.Padding.Top&&(c.style.paddingTop=n.Padding.Top+"px",s=n.Padding.Top),n.Padding.Right&&(c.style.paddingRight=n.Padding.Right+"px",h=n.Padding.Right),n.Padding.Bottom&&(c.style.paddingBottom=n.Padding.Bottom+"px",t=n.Padding.Bottom),n.Padding.Left&&(c.style.paddingLeft=n.Padding.Left+"px",o=n.Padding.Left)),n.TextBoxBackgroundColor&&(c.style.backgroundColor=n.TextBoxBackgroundColor),w&&a&&(a.isDefaultBorder||a.isLeftBorder||a.isRightBorder||a.isTopBorder||a.isBottomBorder)?this._applyCellBorders(c,n.Border,l,v,a):this._applyTextBoxBorders(c,n.Border,l),"td"==c.tagName.toLowerCase()){var D=parseFloat(o,10)+parseFloat(h,10),L=parseFloat(s,10)+parseFloat(t,10),I=parseFloat(l.leftBorder,10)+parseFloat(l.rightBorder,10),R=parseFloat(l.topBorder,10)+parseFloat(l.bottomBorder,10),V=parseFloat(n.Width,10)-(D+I);if(V<=0&&(r.style.display="none"),c.style.width=V+"px",c.style.height=n.Height+"px",!n.ToggleInfo){for(g=$(r).children(),b=0;b<g.length;b++)(C=$(g[b])).hasClass("e-reportviewer-usersort")||C.width(V);"mozilla"==this._browserInfo.name?r.style.maxHeight="-moz-fit-content":w?(r.style.maxHeight=n.Height+"px",T=parseFloat(_,10)-(L+R),n.Height<T&&(r.style.maxHeight=T+"px")):r.style.maxHeight=n.Height+"px"}}},_applyTextBoxBorders:function(n,c,r){c&&(c.Default&&(this._applyCellBorderStyle("",c.Default,n),r.topBorder=r.rightBorder=r.bottomBorder=r.leftBorder=c.Default.Thickness),c.LeftBorder&&(this._applyCellBorderStyle("-left",c.LeftBorder,n),r.leftBorder=c.LeftBorder.Thickness),c.RightBorder&&(this._applyCellBorderStyle("-right",c.RightBorder,n),r.rightBorder=c.RightBorder.Thickness),c.TopBorder&&(this._applyCellBorderStyle("-top",c.TopBorder,n),r.topBorder=c.TopBorder.Thickness),c.BottomBorder&&(this._applyCellBorderStyle("-bottom",c.BottomBorder,n),r.bottomBorder=c.BottomBorder.Thickness))},_updateTablixBorderState:function(n){return{isDefaultBorder:this._isBorderAvailable(n.Default),isLeftBorder:this._isBorderAvailable(n.LeftBorder),isRightBorder:this._isBorderAvailable(n.RightBorder),isTopBorder:this._isBorderAvailable(n.TopBorder),isBottomBorder:this._isBorderAvailable(n.BottomBorder)}},_isBorderAvailable:function(n){return!(ej.isNullOrUndefined(n)||ej.isNullOrUndefined(n.BorderStyle)||"Default"==n.BorderStyle||"None"==n.BorderStyle||ej.isNullOrUndefined(n.Thickness)||0==n.Thickness||ej.isNullOrUndefined(n.BorderBrush)||"Transparent"==n.BorderBrush||"No Color"==n.BorderBrush)},_applyCellBorders:function(n,c,r,u,_){if(!ej.isNullOrUndefined(c)){var w=this._getCellBorder(c.TopBorder,c),v=this._getCellBorder(c.BottomBorder,c),a=this._getCellBorder(c.LeftBorder,c),s=this._getCellBorder(c.RightBorder,c);ej.isNullOrUndefined(r)||(ej.isNullOrUndefined(w)||(r.topBorder=w.borderWidth),ej.isNullOrUndefined(v)||(r.bottomBorder=v.borderWidth),ej.isNullOrUndefined(a)||(r.leftBorder=a.borderWidth),ej.isNullOrUndefined(s)||(r.rightBorder=s.borderWidth)),ej.isNullOrUndefined(w)||!(u.rowIndex>0)&&(_.isDefaultBorder||_.isTopBorder)||this._applyCellBorderStyle("-top",w.cellBorder,n),ej.isNullOrUndefined(v)||!(u.rowIndex<u.rowLength-1)&&(_.isDefaultBorder||_.isBottomBorder)||this._applyCellBorderStyle("-bottom",v.cellBorder,n),ej.isNullOrUndefined(a)||!(u.colIndex>0)&&(_.isDefaultBorder||_.isLeftBorder)||this._applyCellBorderStyle("-left",a.cellBorder,n),ej.isNullOrUndefined(s)||!(u.colIndex<u.colLength-1)&&(_.isDefaultBorder||_.isRightBorder)||this._applyCellBorderStyle("-right",s.cellBorder,n)}},_applyCellBorderStyle:function(n,c,r){if(c){var u={};u["border"+n+"-width"]=c.Thickness+"px",u["border"+n+"-color"]=null!=c.BorderBrush?c.BorderBrush:"None",u["border"+n+"-style"]=c.BorderStyle,this._setTagStyle(r,u)}},_getCellBorder:function(n,c){return ej.isNullOrUndefined(n)?ej.isNullOrUndefined(c)||ej.isNullOrUndefined(c.Default)?void 0:{cellBorder:c.Default,borderWidth:c.Default.Thickness}:{cellBorder:n,borderWidth:n.Thickness}},_setAttributes:function(n,c,r){var u,_;if(null!=c&&c!=undefined)for(u=Object.keys(c),_=0;_<u.length;_++)n[u[_]]=c[u[_]];if(null!=r&&r!=undefined)for(u=Object.keys(r),_=0;_<u.length;_++)n.setAttribute(u[_],r[u[_]])},_buildTag:function(n,c,r,u,_){var w=document.createElement(n);return null!=c&&c!=undefined&&(w.className=c),null!=r&&r!=undefined&&(w.title=r),this._setAttributes(w,u,_),w},_appendChild:function(n,c){null!=n.append&&n.append!=undefined?n.append(c):n.appendChild(c)},_setTagStyle:function(n,c){var r,u;if(c)for(r=Object.keys(c),u=0;u<r.length;u++)n.style[r[u]]=c[r[u]]},_markTagApply:function(n,c){if(null!=n&&n!=undefined){var r=new RegExp(n.replace(/[.*+()?^${}|[\]\\/]/g,"\\$&"),"gi");return c.replace(r,"<mark style='background-color:yellow;padding:0px'>$&</mark>")}},_renderTablixControl:function(n,c,r,u,_,w,v,a){var T,D,I,R,V,F,A,z,N,U,J,Q,oe,ue,ne,he,s=this,h=n.Height,t=n.Width,o=s._controlKeyGenerator(s._id+"_"+(null!=n.ItemName?n.ItemName:n.Name),_,w,v),l=this._buildTag("div","e-reportviewer-tab-focus-none",n.ToolTip,{id:o},{role:"table",tabindex:"0","aria-label":this._getLocaleString("reportItemLabel","Tablix")+n.Name}),p={},g={};if(this._appendChild(u,l),p.top=n.Top+"px",p.left=n.Left+"px",p["-webkit-box-sizing"]="border-box",p["-moz-box-sizing"]="border-box",p["box-sizing"]="border-box",p.visibility=n.Hidden?"hidden":"visible",c?(h=r.height,t-=parseFloat(l.style.borderLeftWidth,10)+parseFloat(l.style.borderRightWidth,10),h-=parseFloat(l.style.borderTopWidth,10)+parseFloat(l.style.borderBottomWidth,10),p.position="relative"):p.position="absolute",p.width=t+"px",p.height=h+"px",T=this._buildTag("table",null,null,null),D={"border-collapse":"collapse","font-size":"8pt"},this._appendChild(l,T),n.BackgroundColor&&(D["background-color"]=n.BackgroundColor),n.Padding&&(n.Padding.Left&&(D["padding-left"]=n.Padding.Left),n.Padding.Right&&(D["padding-right"]=n.Padding.Right),n.Padding.Top&&(D["padding-top"]=n.Padding.Top),n.Padding.Bottom&&(D["padding-bottom"]=n.Padding.Bottom)),n.TextAlign&&(D["text-align"]=n.TextAlign),n.VerticalAlign&&(D["vertical-align"]=n.VerticalAlign),n.BackgroundImageSrc&&(D["background-image"]=this._getImageDataURL(n.EmbedImageData,w,w?"PrintImage":"GetResource",n.BackgroundImageSrc)),n.Border&&(this._applyBorderStyle(n.Border,T),g=this._updateTablixBorderState(n.Border)),this._setTagStyle(T,D),this._setTagStyle(l,p),n.CellModels&&n.CellModels.length>0){I=this._buildTag("tbody",null,null,null),R=this._buildTag("tr",null,null,null),this._setTagStyle(R,{padding:"0px",margin:"0px",height:"0px",visibility:"collapse"}),(n.Border&&(n.Border.TopBorder&&"None"!=n.Border.TopBorder.BorderStyle||n.Border.Default&&"None"!=n.Border.Default.BorderStyle)||n.CellModels[0][0].Border&&(n.CellModels[0][0].Border.TopBorder&&"None"!=n.CellModels[0][0].Border.TopBorder.BorderStyle||n.CellModels[0][0].Border.Default&&"None"!=n.CellModels[0][0].Border.Default.BorderStyle))&&(R.style.visibility="visible"),this._appendChild(I,R),this._appendChild(T,I);for(var se=null,ee=null,le=null,re=null,W=0;W<n.CellModels[0].length;W++)V=this._buildTag("td",null,null,{rowSpan:"1",colSpan:"1"}),this._appendChild(R,V),this._setTagStyle(V,{padding:"0px",margin:"0px",width:n.ColWidths[W]+"px"});for(F=0;F<n.CellModels.length;F++){le=null;var pe=this._buildTag("tr",null,null,null),M={padding:"0px",margin:"0px","text-align":"left",height:n.RowHeights[F]+"px","vertical-align":"top"};for(this._appendChild(I,pe),this._setTagStyle(pe,M),A=n.CellModels[F],W=0;W<A.length;W++){if(z=this._buildTag("td",null,null,{rowSpan:"1",colSpan:"1"}),N={padding:"0px",margin:"0px","text-align":"left","-webkit-box-sizing":"content-box","-moz-box-sizing":"content-box","box-sizing":"content-box"},this._appendChild(pe,z),this._setTagStyle(z,N),U=A[W].ItemModel){var fe=A[W].Border,xe=A[W].RowSpan,O=A[W].ColSpan,B={rowIndex:F,rowLength:n.CellModels.length,colIndex:W,colLength:A.length},H=n.RowHeights[F];xe>1&&(z.rowSpan=xe,H<U.Height&&(H=U.Height)),O>1&&(z.colSpan=O),U.Hidden||(z.style.height="100%",!fe||"TextBoxModel"==U.ItemType||s._applyCellBorders(z,fe,null,B,g),!ej.isNullOrUndefined(U.ErrorInformation)&&U.ErrorInformation.Message?((J=s._renderErrorItemControl(U,!0,w,v,!0)).style.position="relative",this._appendChild(z,J)):"TextBoxModel"==U.ItemType?((Q=s._renderTextBoxControl(U,!0,o+"tablixRow"+F+"xCol"+W,w,v,z)).style.maxHeight="mozilla"==this._browserInfo.name?"-moz-fit-content":"99.9%",z.style.height=H+"px",s._applyTextStyle(U,z,Q,n.ColWidths[W],H,!0,B,g)):"LineModel"==U.ItemType?((oe=s._renderLineControl(U,o+"tablixRow"+F+"xCol"+W,w,v)).style.position="relative",this._appendChild(z,oe)):"ImageModel"==U.ItemType?s._renderImageControl(U,!0,z,o+"tablixRow"+F+"xCol"+W,w,v):"CustomReportItemModel"==U.ItemType?s._renderCustomReportItemControl(U,!0,z,o+"tablixRow"+F+"xCol"+W,w,v):"TablixModel"==U.ItemType?s._renderTablixControl(U,!0,{height:H},z,o+"tablixRow"+F+"xCol"+W,w,v,a):"GaugeModel"==U.ItemType?s._renderGaugeControl(U,!1,!0,{height:H},z,o+"tablixRow"+F+"xCol"+W,w,v):"RectangleModel"==U.ItemType?s._renderRectangleControl(U,!0,z,o+"tablixRow"+F+"xCol"+W,w,v,a):"ChartModel"==U.ItemType?this._renderChartControl(U,!1,!0,{height:H},z,o+"tablixRow"+F+"xCol"+W,w,v):"MapModel"==U.ItemType?this._renderMapControl(U,!1,z,o+"tablixRow"+F+"xCol"+W,w,v):"SubReportModel"==U.ItemType&&s._renderRectangleControl(U,!0,z,o+"tablixRow"+F+"xCol"+W,w,v,a))}else z.style.display="none";null!=n.RowHeaderRange&&null!=n.ColHeaderRange&&W>=n.RowHeaderRange.StartIndex&&W<=n.RowHeaderRange.EndIndex&&A[W].FixedData&&(null==re&&(ne=re=this._buildTag("div","",null,{id:o+"_colheadertable"}),this._setTagStyle(ne,{display:"none",height:pe.style.height,width:pe.style.width}),l.className="fixed-data",this._appendChild(u,ne),this._setTagStyle(ne,{top:pe.offsetTop+n.Top+"px",left:n.Left+"px",position:"absolute"}),he=this._buildTag("table",null,null,null),this._appendChild(ne,he),this._setTagStyle(he,{"border-collapse":"collapse","font-size":"8pt"})),null!=le&&(ue=z.cloneNode(!0),this._appendChild(le,ue)),null==le&&(le=pe.cloneNode(!0),this._appendChild(he,le)))}(null!=n.ColHeaderRange&&F>=n.ColHeaderRange.StartIndex&&F<=n.ColHeaderRange.EndIndex&&A.some(function(_e){return 1==_e.FixedData})||null==n.ColHeaderRange&&null==n.RowHeaderRange&&A.some(function(_e){return 1==_e.FixedData})||A[0].FixedData)&&(null==se&&null==ee&&(ne=this._buildTag("div","",null,{id:o+"_headertable"}),this._setTagStyle(ne,{display:"none"}),l.className="fixed-data",this._appendChild(u,ne),this._setTagStyle(ne,{top:n.Top+"px",left:n.Left+"px",position:"absolute"}),he=this._buildTag("table",null,null,null),this._appendChild(ne,he),this._setTagStyle(he,{"border-collapse":"collapse","font-size":"8pt"})),se=R.cloneNode(!0),ee=pe.cloneNode(!0),this._appendChild(he,se),this._appendChild(he,ee))}}var Z=T.getBoundingClientRect(),ae=Math.max(T.offsetHeight,("msie"==this._browserInfo.name&&8==this._browserInfo.version?Z.bottom-Z.top:Z.height)/this._preZoomVal);ae+n.Top>a.Height&&(!this._isprint||1==this._preZoomVal)&&(a.Height=ae+n.Top)},_renderTextBoxControl:function(n,c,r,u,_,w){var t,o,l,p,g,C,T,v=this._controlKeyGenerator(this._id+"_"+(null!=n.ItemName?n.ItemName:n.Name),r,u,_),a=this._buildTag("div","e-reportviewer-txtitem e-reportviewer-tab-focus-none",n.ToolTip,{id:v},{role:"textbox",tabindex:"0","aria-label":this._getLocaleString("reportItemLabel","Textbox")+n.Name});w!=undefined&&this._appendChild(w,a);var D=this._getCustomPropertyValue(n.CustomProperties,"contenteditable"),L=!ej.isNullOrUndefined(D)&&"true"==D.toLowerCase(),I={};if(I.visibility=n.Hidden?"hidden":"visible",I["-webkit-box-sizing"]="content-box",I["-moz-box-sizing"]="content-box",I["box-sizing"]="content-box",c?c&&(I["word-wrap"]="break-word",I["white-space"]="pre-wrap"):(I.position="absolute",I.top=n.Top+"px",I.left=n.Left+"px",I.width=n.Width+"px",I.height=n.Height+"px",this._applyTextStyle(n,a,null,null,null,!1,null,null)),n.CanGrow||(I.overflow="hidden"),n.BackgroundSrc&&(I["background-image"]=this._getImageDataURL(n.EmbedImageData,u,u?"PrintImage":"GetResource",n.BackgroundSrc)),n.ToggleInfo&&!this._printMode){var V=this._buildTag("div","e-reportviewer-toggleicon "+(n.IsToggle?"ej-reportviewericonscollapse":"ej-reportviewericonsexpand")+" txtToggle_"+this._id,null,null),F={display:"block",width:"14px",height:"14px"};n.Height>14&&(F["margin-top"]="2px"),"msie"==this._browserInfo.name?(F["margin-right"]="1px",F.float="left"):("opera"==this._browserInfo.name||"webkit"==this._browserInfo.name||"chrome"==this._browserInfo.name||"mozilla"==this._browserInfo.name||"edge"==this._browserInfo.name)&&(F.display="table-cell",F["margin-right"]="2px",F.float="left"),V.setAttribute("drillObj",n.ToggleInfo),this._appendChild(a,V),this._setTagStyle(V,F),I.display="msie"==this._browserInfo.name?"inline-block":"block",I["word-wrap"]="inherit",I["white-space"]="inherit"}if(n.Sorting&&!this._printMode&&(o={display:"block",width:"14px",height:"14px","padding-right":"1px","margin-top":"1px",float:"right","vertical-align":"middle"},(t=this._buildTag("div","e-reportviewer-"+("UpDown"==n.Sorting.Sorting?"sortingUpDown":"Up"==n.Sorting.Sorting?"sortingUp":"sortingDown")+" txtSorting_"+this._id+" e-reportviewer-usersort",null,null)).setAttribute("sortingObj",JSON.stringify(n.Sorting)),this._appendChild(a,t),this._setTagStyle(t,o),I.display="msie"==this._browserInfo.name?"inline-block":"block",I["word-wrap"]="inherit",I["white-space"]="inherit"),"default"!=n.WritingMode)switch(n.WritingMode){case"vertical":I["writing-mode"]="msie"==this._browserInfo.name?"tb-rl":"vertical-rl";break;case"rotate270":"msie"==this._browserInfo.name?(I["writing-mode"]="tb-rl",I.transform="rotate(180deg)",I["-webkit-transform"]="rotate(180deg)",I["-moz-transform"]="rotate(180deg)",I["-ms-transform"]="rotate(180deg)",I["-o-transform"]="rotate(180deg)"):(I["writing-mode"]="vertical-rl",I.transform="rotate(180deg)",I["-webkit-transform"]="rotate(180deg)",I["-moz-transform"]="rotate(180deg)",I["-ms-transform"]="rotate(180deg)",I["-o-transform"]="rotate(180deg)")}if(n.ActionInfo&&((l=ej.buildTag("div.e-reportviewer-txtboxactioninfo","",{})).data("actionObj",n.ActionInfo),l.addClass("drillAction_"+this._id+" e-reportviewer-drillhover"),l[0].style.height="100%",l[0].style.Width="100%",this._appendChild(a,l[0])),n.Paragraphval)for(p=0;p<n.Paragraphval.length;p++){var A=this._buildTag("div","e-reportviewer-paragrap",null,null),z={},N=n.Paragraphval[p],U=1==n.Paragraphval.length&&1==N.Runs.length,J="";for(g=0;g<N.Runs.length;g++){var Q=N.Runs[g],oe=this._buildTag(U?"div":"span",null,null,null),ue={};ue["white-space"]=n.ToggleInfo&&!u?"inherit":"pre-wrap",Q.ActionInfo&&!n.ActionInfo&&(oe.setAttribute("actionObj",JSON.stringify(Q.ActionInfo)),oe.className+=" drillAction_"+this._id+" e-reportviewer-drillhover"),Q.Style.Font.FontFamily&&(ue["font-family"]="'"+Q.Style.Font.FontFamily+"'"),Q.Style.Font.FontSize&&(ue["font-size"]=Q.Style.Font.FontSize+"px"),Q.Style.Font.FontStyle&&(ue["font-style"]=Q.Style.Font.FontStyle),Q.Style.Font.FontWeight&&(ue["font-weight"]=this._getConvertedFontWeight(Q.Style.Font.FontWeight)),ue.color=Q.Style.TextColor?Q.Style.TextColor:"black",Q.Style.TextDecoration&&(ue["text-decoration"]=Q.Style.TextDecoration),Q.RunText?(C=document.createTextNode(Q.RunText),this._appendChild(oe,C),null!==this._searchText&&(U&&oe.innerText.toUpperCase().includes(this._searchText.toUpperCase())?oe.innerHTML=this._markTagApply(this._searchText,oe.innerText):U||(J+=Q.RunText))):1===N.Runs.length&&""===Q.RunText&&(n.Height>N.Runs[0].Style.Font.FontSize||n.Width>N.Runs[0].Style.Font.FontSize)&&(C=document.createTextNode(" "),this._appendChild(oe,C)),this._setTagStyle(oe,ue),this._appendChild(A,oe)}null!==this._searchText&&!U&&J.toUpperCase().includes(this._searchText.toUpperCase())&&((T=A.firstChild).innerHTML=this._markTagApply(this._searchText,J),A.replaceChildren(),this._appendChild(A,T)),L&&(A.contentEditable="true",A.setAttribute("viewer-usid",this._id),A.setAttribute("viewer-usid-paraid",p),$(A).blur(function(){var he,se,ee,re,le=$("#"+$(this).attr("viewer-usid")).data("boldReportViewer"),ne=$(this).attr("viewer-usid-paraid");le._oldRunValue!=this.innerText&&(n.IsTablixChild?(se=(se=r.substring(r.lastIndexOf("Row"),r.lastIndexOf("x"))).slice(3,se.length),ee=(ee=r.substring(r.lastIndexOf("Col"),r.length)).slice(3,ee.length),re=r.substring(r.lastIndexOf("_")+1,r.indexOf("tablix")),he={reportAction:le._reportAction.updateTextValue,ItemName:n.Name,ReportPath:le.model.reportPath,NewTextValue:this.innerText,ParaIndex:ne,isTablixChild:n.IsTablixChild,RowNo:se,ColNo:ee,TablixName:re}):he={reportAction:le._reportAction.updateTextValue,ItemName:n.Name,ReportPath:le.model.reportPath,NewTextValue:this.innerText,ParaIndex:ne,isTablixChild:n.IsTablixChild},le.doAjaxPost("POST",le._actionUrl,JSON.stringify(he),"actionSuccessMethod"))}),$(A).focus(function(){$("#"+$(this).attr("viewer-usid")).data("boldReportViewer")._oldRunValue=this.innerText})),c||(z["word-wrap"]="break-word"),N.TextAlignment&&(z["text-align"]=N.TextAlignment),"Default"!=n.Direction&&"Default"==z["text-align"]&&(z["text-align"]="LTR"!=n.Direction?"Right":"Left"),"vertical"==n.WritingMode||"rotate270"==n.WritingMode?(N.LeftIndent&&(z["padding-top"]=N.LeftIndent+"px"),N.RightIndent&&(z["padding-bottom"]=N.RightIndent+"px"),N.SpaceBefore&&(z["padding-right"]=N.SpaceBefore+"px"),N.SpaceAfter&&(z["padding-left"]=N.SpaceAfter+"px")):(N.LeftIndent&&(z["padding-left"]=N.LeftIndent+"px"),N.RightIndent&&("Right"==N.TextAlignment?(z["padding-right"]=N.RightIndent+"px",z.float="right"):z["padding-right"]=N.RightIndent+"px"),N.SpaceBefore&&(z["padding-top"]=N.SpaceBefore+"px"),N.SpaceAfter&&(z["padding-bottom"]=N.SpaceAfter+"px")),N.ListStyle&&(z["list-style-type"]=N.ListStyle),N.HangingIndent&&(z["text-indent"]=N.HangingIndent),c&&(z["min-width"]="99.9%"),N.ListLevel&&0!=N.ListLevel&&"RTL"!=n.Direction?z["margin-left"]="30"*N.ListLevel+"px":0!=N.ListLevel&&"RTL"==n.Direction&&(z["margin-Right"]="30"*N.ListLevel+"px",z.direction="rtl"),"Numbered"==N.ListStyle&&N.ListLevel>=1?1==N.ListLevel||4==N.ListLevel||7==N.ListLevel?(z.display="list-item",z["list-style-type"]="decimal"):2==N.ListLevel||5==N.ListLevel||8==N.ListLevel?(z.display="list-item",z["list-style-type"]="lower-roman"):(3==N.ListLevel||6==N.ListLevel||9==N.ListLevel)&&(z.display="list-item",z["list-style-type"]="lower-alpha"):"Bulleted"==N.ListStyle&&N.ListLevel>=1&&(z.display="list-item",z["list-style-type"]="disc"),this._setTagStyle(A,z),this._appendChild(n.ActionInfo?l:a,A)}return this._setTagStyle(a,I),a},actionSuccessMethod:function(){},_getChartDate:function(n){return new Date(n.Year,n.Month,n.Day,n.Hour,n.Minute,n.Second,0).toLocaleString()},_getDateTimeObject:function(n){return ej.isNullOrUndefined(n)?null:new Date(n.Year,n.Month-1,n.Day,n.Hour,n.Minute,n.Second,0)},_getDateTimeFormat:function(){return ej.isNullOrUndefined(this.model.localeSettings)||""==this.model.localeSettings.dateFormat?"":""!=this.model.localeSettings.timeFormat?this.model.localeSettings.dateFormat+" "+this.model.localeSettings.timeFormat:this.model.localeSettings.dateFormat},_getConvertedFontWeight:function(n){var c="normal";switch(n){case"Thin":c="200";break;case"ExtraLight":c="300";break;case"Light":c="400";break;case"Medium":c="500";break;case"SemiBold":c="600";break;case"Bold":c="bold";break;case"ExtraBold":c="800";break;case"Heavy":c="900"}return c},_renderChartControl:function(n,c,r,u,_,w,v,a,s,h){var o,g,b,C,T,D,L,I,R,V,F,A,z,N,t="chartCtrl";if(n.ChartAreas){var U=r&&u.height?u.height:n.Height,J=n.Width,Q=this._getCustomPropertyValue(n.CustomProperties,"FORECASTENABLE");this._legendPointNames=[],o=v?"PrintImage":"GetResource","undefined"==h&&(h=!1),"undefined"==s&&(s=!1),c&&(this._id=w,n.Top=0,n.Left=0);var oe=this._controlKeyGenerator(this._id+"_"+(null!=n.ItemName?n.ItemName:n.Name),w,v,a),ue=U/n.ChartAreas.length,le=this._buildTag("div","e-reportviewer-tab-focus-none",n.ToolTip,{id:oe},{tabindex:"0","aria-label":this._getLocaleString("reportItemLabel","Chart")+n.Name}),ne={position:r&&u.height?"relative":"absolute",top:n.Top+"px",left:n.Left+"px",width:J+"px",height:U+"px","-webkit-box-sizing":"border-box","-moz-box-sizing":"border-box","box-sizing":"border-box",visibility:n.Hidden?"hidden":"visible"};for(this._appendChild(_,le),n.BackgroundImge&&(ne["background-image"]=this._getImageDataURL(n.EmbedImageData,v,o,n.BackgroundImge),ne["background-size"]="100% 100%"),n.ChartStyle&&(n.ChartStyle.Border&&!r&&this._applyBorderStyle(n.ChartStyle.Border,le),n.ChartStyle.FillStyle&&(ne["background-color"]=n.ChartStyle.FillStyle.BackgroundColor,this._applyBackgroundGradientStyle(n.ChartStyle.FillStyle,le))),this._setTagStyle(le,ne),r&&(t=w,u.height&&(U=u.height,J-=parseFloat(ne["border-left-width"],10)+parseFloat(ne["border-right-width"],10),U-=parseFloat(ne["border-top-width"],10)+parseFloat(ne["border-bottom-width"],10))),g=0;g<n.ChartAreas.length;g++){var he=!1,se=!1,ee=n.ChartAreas[g],re={value:0},W={series:[],axes:[],commonSeriesOptions:{marker:{},enableSmartLabels:!1,enableAnimation:!(v||c||s||!this.model.enableAnimation)},chartArea:{border:{width:0}},isResponsive:!0,enableCanvasRendering:h,legendItemRendering:$.proxy(this.legendItemRender,this),locale:n.Language?n.Language:""};if(ej.isNullOrUndefined(Q)||"true"!=Q.toLowerCase()||(W.legendItemClick=$.proxy(this.legendItemClick,this)),ee.BackgroundImg&&(W.backGroundImageUrl=n.EmbedImageData?"data:image/png;base64,"+(F=this._reportImages[ee.BackgroundImg]?this._reportImages[ee.BackgroundImg]:ee.BackgroundImg):this._getMultiTenantUrl(this.model.reportServiceUrl+"/"+o+"/?key="+ee.BackgroundImg+"&resourcetype=sfimg&isPrint="+v,!1)),n.ChartStyle&&n.ChartStyle.FillStyle&&n.ChartStyle.FillStyle.BackgroundColor&&"White"!=n.ChartStyle.FillStyle.BackgroundColor&&"#00ffffff"!=n.ChartStyle.FillStyle.BackgroundColor&&(W.background=n.ChartStyle.FillStyle.BackgroundColor),ee.Style&&(ee.Style.FillStyle&&"#00ffffff"!=ee.Style.FillStyle.BackgroundColor&&ee.Style.FillStyle.BackgroundColor&&(!ee.Style.FillStyle.BackgroundColor.startsWith("#")||this._isValidColorCode(ee.Style.FillStyle.BackgroundColor))&&(W.chartArea.background=ee.Style.FillStyle.BackgroundColor),ee.Style.Border&&ee.Style.Border.Default?(ee.Style.Border.Default.BorderBrush&&(W.chartArea.border.color=ee.Style.Border.Default.BorderBrush),"Default"==ee.Style.Border.Default.BorderStyle||"None"==ee.Style.Border.Default.BorderStyle?(W.chartArea.border.width=0,W.chartArea.border.opacity=1):W.chartArea.border.width=ee.Style.Border.Default.Thickness):(W.chartArea.border.opacity=1,W.chartArea.border.color="Transparent")),n.ChartTiles&&n.ChartTiles.length>0&&(W.title=this._getChartTitle(n.ChartTiles[0])),W.legend=n.ChartLegends&&n.ChartLegends.length>0?this._getChartLegend(n):{visible:!1},W.legend.shape="rectangle",n.CustomProperties&&n.CustomProperties.length>0)for(b=0;b<n.CustomProperties.length;b++)if("legendshape"==n.CustomProperties[b].Name.toLowerCase()){if("thumbnail"==n.CustomProperties[b].Value.toLowerCase()){W.legend.shape="seriestype";break}if("circle"==n.CustomProperties[b].Value.toLowerCase()){W.legend.shape="circle";break}}if(W.colors=[],W.colors[0]="transparent",C=this._buildTag("div",null,n.ToolTip,{id:t+"_"+this._id+"_"+(null!=n.ItemName?n.ItemName:n.Name)+"_"+ee.Name+(v?"_"+a:"")}),v||this._dataVisualization.push({name:null!=n.ItemName?n.ItemName:n.Name,id:C.id,type:"ChartModel"}),C.style.height=ue+"px",this._appendChild(le,C),n.NoRowModel&&n.ChartNoDataMessage)return null==W.title?W.title=this._getChartTitle(n.ChartNoDataMessage):W.title.subTitle=this._getChartTitle(n.ChartNoDataMessage),W.primaryXAxis={},W.primaryXAxis.visible=!1,W.primaryXAxis.majorGridLines={},W.primaryXAxis.majorGridLines.visible=!1,W.primaryYAxis={},W.primaryYAxis.visible=!1,W.primaryYAxis.majorGridLines={},W.primaryYAxis.majorGridLines.visible=!1,void $("#"+C.id).ejChart(W);for("DataBar"==n.DesignerMode?(W.commonSeriesOptions.columnWidth=2,W.elementSpacing=0,W.margin={left:5,right:5,top:5,bottom:5}):W.margin={left:5,right:5,top:5,bottom:5},T=0;T<ee.ChartSeries.length;T++)if(ee.ChartSeries[T].Visibility){var pe=W.series.length,M=ee.ChartSeries[T],fe=[],xe=[],O=[],B=M.Legend&&M.Legend.LegendText?M.Legend.LegendText:""==M.Label&&"EmptySeriesName"==M.Name?M.Name:M.Label;M.TooltipY=B;var H=!1,Z=!1,te=!1,ae=null,de=null,_e=null==M.CategoryAxisName?"primary":M.CategoryAxisName.toLowerCase(),Se=null==M.ValueAxisName?"primary":M.ValueAxisName.toLowerCase(),be=$.grep(ee.ChartAreaXAxis,function(ke){return ke.Name.toLowerCase()==_e}).map(function(ke){return ke}),Ce=$.grep(ee.ChartAreaYAxis,function(ke){return ke.Name.toLowerCase()==Se}).map(function(ke){return ke});if(null!=M.CustomProperties){for(D=0;D<M.CustomProperties.length;D++)null!=(L=M.CustomProperties[D]).Value&&(I=L.Name.toLowerCase(),R=L.Value.toLowerCase(),"enabletrendline"==I&&"true"==R&&(H=!0),Z||(Z=this._getTrendlineType(I,R)),te||"showtrendlinelegend"==I&&"false"==R&&(te=!0));H&&Z&&O.push(this._getTrendline(M.CustomProperties,O,te))}switch(0===T&&(be[0].IsDateMin&&be[0].Minimum&&be[0].Minimum.Month--,be[0].IsDateMax&&be[0].Maximum&&be[0].Maximum.Month--),M.Style&&M.Style.Border&&M.Style.Border.Default&&(W.commonSeriesOptions.border={},M.Style.Border.Default.BorderBrush&&(W.commonSeriesOptions.border.color=M.Style.Border.Default.BorderBrush),0!=M.Style.Border.Default.Thickness&&(W.commonSeriesOptions.border.width=M.Style.Border.Default.Thickness),"Dashed"==M.Style.Border.Default.BorderStyle?W.commonSeriesOptions.border.dashArray="2,4":"Dotted"==M.Style.Border.Default.BorderStyle&&(W.commonSeriesOptions.border.dashArray="2,2")),ee.Chart3D&&ee.Chart3D.Enabled&&this._is3DChartType(M.Type)&&this._update3DChartProperties(W,ee,n,M.Type),this._isDataLabel=!1,M.Type){case"column":for(A=0;A<M.PointValues.length;A++)fe.push(null!=M.PointValues[A].Y&&M.PointValues[A].Y!=undefined?{x:this._getAxisLabelFormatedValues(M.PointValues[A].X?M.PointValues[A].IsDateX?this._getChartDate(M.PointValues[A].X):M.PointValues[A].X:"",be[0].LabelFormat,be[0].LabelFormatRepresentation),y:this._getAxisLabelFormatedValues(M.PointValues[A].IsDateY?this._getChartDate(M.PointValues[A].Y):M.PointValues[A].Y,Ce[0].LabelFormat,Ce[0].LabelFormatRepresentation),fill:null!=M.PointValues[A].Style&&null!=M.PointValues[A].Style.Color?this._getSeriesColor(M.PointValues[A],re,n.PaletteColors):null,text:M.PointValues[A].ChartDataLabel.Label?M.PointValues[A].ChartDataLabel.Label:"",tooltip:M.PointValues[A].ToolTip?M.PointValues[A].ToolTip:""}:{x:this._getAxisLabelFormatedValues(M.PointValues[A].X?M.PointValues[A].IsDateX?this._getChartDate(M.PointValues[A].X):M.PointValues[A].X:"",be[0].LabelFormat,be[0].LabelFormatRepresentation),y:null,fill:null!=M.PointValues[A].Style&&null!=M.PointValues[A].Style.Color?this._getSeriesColor(M.PointValues[A],re,n.PaletteColors):null,text:M.PointValues[A].ChartDataLabel.Label?M.PointValues[A].ChartDataLabel.Label:"",tooltip:M.PointValues[A].ToolTip?M.PointValues[A].ToolTip:""}),this.addLegendName(M.PointValues[A].LegendVisibility,B),M.PointValues[A].ActionInfo&&xe.push(M.PointValues[A].ActionInfo),this._setIsDataLabel(M.PointValues[A].ChartDataLabel.Label);"primary"==_e?W.primaryXAxis=this._getChartAxis(be[0],n.IsLabelIndex,"XAxis",M.Type,ee.Chart3D?ee.Chart3D.Enabled:null,M.DataType,"Primary",n.CustomProperties,n.EmbedImageData):(he||(W.axes.push(this._getChartAxis(be[0],n.IsLabelIndex,"XAxis",M.Type,ee.Chart3D?ee.Chart3D.Enabled:null,M.DataType,"Secondary")),he=!0),ae="XAxis"),"primary"==Se?W.primaryYAxis=this._getChartAxis(Ce[0],n.IsLabelIndex,"YAxis",M.Type,ee.Chart3D?ee.Chart3D.Enabled:null,null,"Primary",n.CustomProperties,n.EmbedImageData):(se||(W.axes.push(this._getChartAxis(Ce[0],n.IsLabelIndex,"YAxis",M.Type,ee.Chart3D?ee.Chart3D.Enabled:null,null,"Secondary")),se=!0),de="YAxis"),W.series.push({trendlines:O,points:fe,type:"column",columnFacet:"Cylinder"===this._getCustomPropertyValue(M.CustomProperties,"drawingstyle")?"cylinder":"rectangle",name:B,xAxisName:ae,yAxisName:de,visibility:M.Visibility?"visible":"hide"}),V=W.primaryYAxis&&"datetime"===W.primaryYAxis.valueType&&"seconds"===W.primaryYAxis.intervalType,ej.isNullOrUndefined(M.DataType)||"DateTime"!=M.DataType||null==M.LanguagesDateFormat||null==be[0].LabelFormat?V&&this.chartLoadEvent(W,null,null,V):this.chartLoadEvent(W,M.LanguagesDateFormat.Culture,M.LanguagesDateFormat.DateFormat,V),M.PointValues.length>0&&M.PointValues[0].Style&&M.PointValues[0].Style.Border&&M.PointValues[0].Style.Border.Default&&this._setBorderProp(M.PointValues[0].Style.Border,W.series[pe]),M.DataPointsStyle&&M.DataPointsStyle.length>0&&(W.series[pe].marker=this._getSeriesMarker(M.DataPointsStyle[0],M.Type,T),M.PointValues&&M.PointValues.length>0&&M.PointValues[0].ChartDataLabel&&(W.series[pe].marker.dataLabel=this._getMarkerDataLabel(M.PointValues[0].ChartDataLabel)));break;case"stackingcolumn":for(A=0;A<M.PointValues.length;A++)fe.push({x:this._getAxisLabelFormatedValues(M.PointValues[A].X?M.PointValues[A].IsDateX?this._getChartDate(M.PointValues[A].X):M.PointValues[A].X:"",be[0].LabelFormat,be[0].LabelFormatRepresentation),y:this._getAxisLabelFormatedValues(M.PointValues[A].IsDateY?this._getChartDate(M.PointValues[A].Y):M.PointValues[A].Y,Ce[0].LabelFormat,Ce[0].LabelFormatRepresentation),fill:null!=M.PointValues[A].Style&&null!=M.PointValues[A].Style.Color?this._getSeriesColor(M.PointValues[A],re,n.PaletteColors):null,text:M.PointValues[A].ChartDataLabel.Label?M.PointValues[A].ChartDataLabel.Label:"",tooltip:M.PointValues[A].ToolTip?M.PointValues[A].ToolTip:""}),this.addLegendName(M.PointValues[A].LegendVisibility,B),M.PointValues[A].ActionInfo&&xe.push(M.PointValues[A].ActionInfo),this._setIsDataLabel(M.PointValues[A].ChartDataLabel.Label);W.legendBoundsCalculate=this._legendOrder,W.toolTipInitialize=this._updateStackingColumnTooltip,"primary"==_e?W.primaryXAxis=this._getChartAxis(be[0],n.IsLabelIndex,"XAxis",M.Type,ee.Chart3D?ee.Chart3D.Enabled:null,M.DataType,"Primary",n.CustomProperties,n.EmbedImageData):(he||(W.axes.push(this._getChartAxis(be[0],n.IsLabelIndex,"XAxis",M.Type,ee.Chart3D?ee.Chart3D.Enabled:null,M.DataType,"Secondary")),he=!0),W.primaryXAxis={visible:!1},ae="XAxis"),"primary"==Se?W.primaryYAxis=this._getChartAxis(Ce[0],n.IsLabelIndex,"YAxis",M.Type,ee.Chart3D?ee.Chart3D.Enabled:null,null,"Primary",n.CustomProperties,n.EmbedImageData):(se||(W.axes.push(this._getChartAxis(Ce[0],n.IsLabelIndex,"YAxis",M.Type,ee.Chart3D?ee.Chart3D.Enabled:null,null,"Secondary")),se=!0),W.primaryYAxis={visible:!1},de="YAxis"),W.series.push({trendlines:O,points:fe,type:"stackingcolumn",columnFacet:"Cylinder"===this._getCustomPropertyValue(M.CustomProperties,"drawingstyle")?"cylinder":"rectangle",isStacking:!0,name:B,xAxisName:ae,yAxisName:de,visibility:M.Visibility?"visible":"hide"}),V=W.primaryYAxis&&"datetime"===W.primaryYAxis.valueType&&"seconds"===W.primaryYAxis.intervalType,ej.isNullOrUndefined(M.DataType)||"DateTime"!=M.DataType||null==M.LanguagesDateFormat||null==be[0].LabelFormat?V&&this.chartLoadEvent(W,null,null,V):this.chartLoadEvent(W,M.LanguagesDateFormat.Culture,M.LanguagesDateFormat.DateFormat,V),M.PointValues.length>0&&M.PointValues[0].Style&&M.PointValues[0].Style.Border&&M.PointValues[0].Style.Border.Default&&this._setBorderProp(M.PointValues[0].Style.Border,W.series[pe]),M.DataPointsStyle&&M.DataPointsStyle.length>0&&(W.series[pe].marker=this._getSeriesMarker(M.DataPointsStyle[0],M.Type,T),M.PointValues&&M.PointValues.length>0&&M.PointValues[0].ChartDataLabel&&(W.series[pe].marker.dataLabel=this._getMarkerDataLabel(M.PointValues[0].ChartDataLabel)));break;case"stackingcolumn100":for(A=0;A<M.PointValues.length;A++)fe.push({x:this._getAxisLabelFormatedValues(M.PointValues[A].X?M.PointValues[A].IsDateX?this._getChartDate(M.PointValues[A].X):M.PointValues[A].X:"",be[0].LabelFormat,be[0].LabelFormatRepresentation),y:this._getAxisLabelFormatedValues(M.PointValues[A].IsDateY?this._getChartDate(M.PointValues[A].Y):M.PointValues[A].Y,Ce[0].LabelFormat,Ce[0].LabelFormatRepresentation),fill:null!=M.PointValues[A].Style&&null!=M.PointValues[A].Style.Color?this._getSeriesColor(M.PointValues[A],re,n.PaletteColors):null,text:M.PointValues[A].ChartDataLabel.Label?M.PointValues[A].ChartDataLabel.Label:"",tooltip:M.PointValues[A].ToolTip?M.PointValues[A].ToolTip:""}),this.addLegendName(M.PointValues[A].LegendVisibility,B),M.PointValues[A].ActionInfo&&xe.push(M.PointValues[A].ActionInfo),this._setIsDataLabel(M.PointValues[A].ChartDataLabel.Label);W.toolTipInitialize=this._updateStackingColumnTooltip,"primary"==_e?W.primaryXAxis=this._getChartAxis(be[0],n.IsLabelIndex,"XAxis",M.Type,ee.Chart3D?ee.Chart3D.Enabled:null,M.DataType,"Primary",n.CustomProperties,n.EmbedImageData):(se||(W.axes.push(this._getChartAxis(Ce[0],n.IsLabelIndex,"YAxis",M.Type,ee.Chart3D?ee.Chart3D.Enabled:null,null,"Secondary")),se=!0),W.primaryXAxis={visible:!1},ae="XAxis"),"primary"==Se?W.primaryYAxis=this._getChartAxis(Ce[0],n.IsLabelIndex,"YAxis",M.Type,ee.Chart3D?ee.Chart3D.Enabled:null,null,"Primary",n.CustomProperties,n.EmbedImageData):(se||(W.axes.push(this._getChartAxis(Ce[0],n.IsLabelIndex,"YAxis",M.Type,ee.Chart3D?ee.Chart3D.Enabled:null,null,"Secondary")),se=!0),W.primaryYAxis={visible:!1},de="YAxis"),W.series.push({trendlines:O,points:fe,type:"stackingcolumn100",columnFacet:"Cylinder"===this._getCustomPropertyValue(M.CustomProperties,"drawingstyle")?"cylinder":"rectangle",name:B,xAxisName:ae,yAxisName:de,visibility:M.Visibility?"visible":"hide"}),V=W.primaryYAxis&&"datetime"===W.primaryYAxis.valueType&&"seconds"===W.primaryYAxis.intervalType,ej.isNullOrUndefined(M.DataType)||"DateTime"!=M.DataType||null==M.LanguagesDateFormat||null==be[0].LabelFormat?V&&this.chartLoadEvent(W,null,null,V):this.chartLoadEvent(W,M.LanguagesDateFormat.Culture,M.LanguagesDateFormat.DateFormat,V),M.PointValues.length>0&&M.PointValues[0].Style&&M.PointValues[0].Style.Border&&M.PointValues[0].Style.Border.Default&&this._setBorderProp(M.PointValues[0].Style.Border,W.series[pe]),M.DataPointsStyle&&M.DataPointsStyle.length>0&&(W.series[pe].marker=this._getSeriesMarker(M.DataPointsStyle[0],M.Type,T),M.PointValues&&M.PointValues.length>0&&M.PointValues[0].ChartDataLabel&&(W.series[pe].marker.dataLabel=this._getMarkerDataLabel(M.PointValues[0].ChartDataLabel)));break;case"bar":for(W.viewerInstance=this,W.loaded=this._barChartLoad,A=0;A<M.PointValues.length;A++)fe.push(null!=M.PointValues[A].Y&&M.PointValues[A].Y!=undefined?{x:this._getAxisLabelFormatedValues(M.PointValues[A].X?M.PointValues[A].IsDateX?this._getChartDate(M.PointValues[A].X):M.PointValues[A].X:"",be[0].LabelFormat,be[0].LabelFormatRepresentation),y:this._getAxisLabelFormatedValues(M.PointValues[A].IsDateY?this._getChartDate(M.PointValues[A].Y):M.PointValues[A].Y,Ce[0].LabelFormat,Ce[0].LabelFormatRepresentation),fill:null!=M.PointValues[A].Style&&null!=M.PointValues[A].Style.Color?this._getSeriesColor(M.PointValues[A],re,n.PaletteColors):null,text:M.PointValues[A].ChartDataLabel.Label?M.PointValues[A].ChartDataLabel.Label:"",tooltip:M.PointValues[A].ToolTip?M.PointValues[A].ToolTip:""}:{x:this._getAxisLabelFormatedValues(M.PointValues[A].X?M.PointValues[A].IsDateX?this._getChartDate(M.PointValues[A].X):M.PointValues[A].X:"",be[0].LabelFormat,be[0].LabelFormatRepresentation),y:null,fill:null!=M.PointValues[A].Style&&null!=M.PointValues[A].Style.Color?this._getSeriesColor(M.PointValues[A],re,n.PaletteColors):null,text:M.PointValues[A].ChartDataLabel.Label?M.PointValues[A].ChartDataLabel.Label:"",tooltip:M.PointValues[A].ToolTip?M.PointValues[A].ToolTip:""}),this.addLegendName(M.PointValues[A].LegendVisibility,B),M.PointValues[A].ActionInfo&&xe.push(M.PointValues[A].ActionInfo),this._setIsDataLabel(M.PointValues[A].ChartDataLabel.Label);"primary"==_e?W.primaryXAxis=this._getChartAxis(be[0],n.IsLabelIndex,"XAxis",M.Type,ee.Chart3D?ee.Chart3D.Enabled:null,M.DataType,"Primary",n.CustomProperties,n.EmbedImageData):(he||(W.axes.push(this._getChartAxis(be[0],n.IsLabelIndex,"XAxis",M.Type,ee.Chart3D?ee.Chart3D.Enabled:null,M.DataType,"Secondary")),he=!0),W.primaryXAxis={visible:!1},ae="XAxis"),"primary"==Se?W.primaryYAxis=this._getChartAxis(Ce[0],n.IsLabelIndex,"YAxis",M.Type,ee.Chart3D?ee.Chart3D.Enabled:null,null,"Primary",n.CustomProperties,n.EmbedImageData):(se||(W.axes.push(this._getChartAxis(Ce[0],n.IsLabelIndex,"YAxis",M.Type,ee.Chart3D?ee.Chart3D.Enabled:null,null,"Secondary")),se=!0),W.primaryYAxis={visible:!1},de="YAxis"),W.series.push({trendlines:O,points:fe,type:"bar",columnFacet:"Cylinder"===this._getCustomPropertyValue(M.CustomProperties,"drawingstyle")?"cylinder":"rectangle",name:B,xAxisName:ae,yAxisName:de,visibility:M.Visibility?"visible":"hide"}),V=W.primaryYAxis&&"datetime"===W.primaryYAxis.valueType&&"seconds"===W.primaryYAxis.intervalType,ej.isNullOrUndefined(M.DataType)||"DateTime"!=M.DataType||null==M.LanguagesDateFormat||null==be[0].LabelFormat?V&&this.chartLoadEvent(W,null,null,V):this.chartLoadEvent(W,M.LanguagesDateFormat.Culture,M.LanguagesDateFormat.DateFormat,V),M.PointValues.length>0&&M.PointValues[0].Style&&M.PointValues[0].Style.Border&&M.PointValues[0].Style.Border.Default&&this._setBorderProp(M.PointValues[0].Style.Border,W.series[pe]),M.DataPointsStyle&&M.DataPointsStyle.length>0&&(W.series[pe].marker=this._getSeriesMarker(M.DataPointsStyle[0],M.Type,T),M.PointValues&&M.PointValues.length>0&&M.PointValues[0].ChartDataLabel&&(W.series[pe].marker.dataLabel=this._getMarkerDataLabel(M.PointValues[0].ChartDataLabel))),"DataBar"==n.DesignerMode&&(W.primaryXAxis.majorTickLines.size=0,W.primaryYAxis.majorTickLines.size=0),W.series.length>=20&&(W.sideBySideSeriesPlacement=!1);break;case"stackingbar":for(A=0;A<M.PointValues.length;A++)null!=M.PointValues[A].Y&&M.PointValues[A].Y!=undefined&&fe.push({x:this._getAxisLabelFormatedValues(M.PointValues[A].X?M.PointValues[A].IsDateX?this._getChartDate(M.PointValues[A].X):M.PointValues[A].X:"",be[0].LabelFormat,be[0].LabelFormatRepresentation),y:this._getAxisLabelFormatedValues(M.PointValues[A].IsDateY?this._getChartDate(M.PointValues[A].Y):M.PointValues[A].Y,Ce[0].LabelFormat,Ce[0].LabelFormatRepresentation),fill:null!=M.PointValues[A].Style&&null!=M.PointValues[A].Style.Color?this._getSeriesColor(M.PointValues[A],re,n.PaletteColors):n.PaletteColors[re.value<n.PaletteColors.length?re.value:0],text:M.PointValues[A].ChartDataLabel.Label?M.PointValues[A].ChartDataLabel.Label:"",tooltip:M.PointValues[A].ToolTip?M.PointValues[A].ToolTip:""}),this.addLegendName(M.PointValues[A].LegendVisibility,B),M.PointValues[A].ActionInfo&&xe.push(M.PointValues[A].ActionInfo),this._setIsDataLabel(M.PointValues[A].ChartDataLabel.Label);"primary"==_e?W.primaryXAxis=this._getChartAxis(be[0],n.IsLabelIndex,"XAxis",M.Type,ee.Chart3D?ee.Chart3D.Enabled:null,M.DataType,"Primary",n.CustomProperties,n.EmbedImageData):(he||(W.axes.push(this._getChartAxis(be[0],n.IsLabelIndex,"XAxis",M.Type,ee.Chart3D?ee.Chart3D.Enabled:null,M.DataType,"Secondary")),he=!0),W.primaryXAxis={visible:!1},ae="XAxis"),"primary"==Se?W.primaryYAxis=this._getChartAxis(Ce[0],n.IsLabelIndex,"YAxis",M.Type,ee.Chart3D?ee.Chart3D.Enabled:null,null,"Primary",n.CustomProperties,n.EmbedImageData):(se||(W.axes.push(this._getChartAxis(Ce[0],n.IsLabelIndex,"YAxis",M.Type,ee.Chart3D?ee.Chart3D.Enabled:null,null,"Secondary")),se=!0),W.primaryYAxis={visible:!1},de="YAxis"),W.series.push({trendlines:O,points:fe,type:"stackingbar",columnFacet:"Cylinder"===this._getCustomPropertyValue(M.CustomProperties,"drawingstyle")?"cylinder":"rectangle",name:B,xAxisName:ae,yAxisName:de,visibility:M.Visibility?"visible":"hide"}),V=W.primaryYAxis&&"datetime"===W.primaryYAxis.valueType&&"seconds"===W.primaryYAxis.intervalType,ej.isNullOrUndefined(M.DataType)||"DateTime"!=M.DataType||null==M.LanguagesDateFormat||null==be[0].LabelFormat?V&&this.chartLoadEvent(W,null,null,V):this.chartLoadEvent(W,M.LanguagesDateFormat.Culture,M.LanguagesDateFormat.DateFormat,V),M.PointValues.length>0&&M.PointValues[0].Style&&M.PointValues[0].Style.Border&&M.PointValues[0].Style.Border.Default&&this._setBorderProp(M.PointValues[0].Style.Border,W.series[pe]),M.DataPointsStyle&&M.DataPointsStyle.length>0&&(W.series[pe].marker=this._getSeriesMarker(M.DataPointsStyle[0],M.Type,T),M.PointValues&&M.PointValues.length>0&&M.PointValues[0].ChartDataLabel&&(W.series[pe].marker.dataLabel=this._getMarkerDataLabel(M.PointValues[0].ChartDataLabel)));break;case"stackingbar100":for(A=0;A<M.PointValues.length;A++)null!=M.PointValues[A].Y&&M.PointValues[A].Y!=undefined&&fe.push({x:this._getAxisLabelFormatedValues(M.PointValues[A].X?M.PointValues[A].IsDateX?this._getChartDate(M.PointValues[A].X):M.PointValues[A].X:"",be[0].LabelFormat,be[0].LabelFormatRepresentation),y:this._getAxisLabelFormatedValues(M.PointValues[A].IsDateY?this._getChartDate(M.PointValues[A].Y):M.PointValues[A].Y,Ce[0].LabelFormat,Ce[0].LabelFormatRepresentation),fill:null!=M.PointValues[A].Style&&null!=M.PointValues[A].Style.Color?this._getSeriesColor(M.PointValues[A],re,n.PaletteColors):null,text:M.PointValues[A].ChartDataLabel.Label?M.PointValues[A].ChartDataLabel.Label:"",tooltip:M.PointValues[A].ToolTip?M.PointValues[A].ToolTip:""}),this.addLegendName(M.PointValues[A].LegendVisibility,B),M.PointValues[A].ActionInfo&&xe.push(M.PointValues[A].ActionInfo),this._setIsDataLabel(M.PointValues[A].ChartDataLabel.Label);"primary"==_e?W.primaryXAxis=this._getChartAxis(be[0],n.IsLabelIndex,"XAxis",M.Type,ee.Chart3D?ee.Chart3D.Enabled:null,M.DataType,"Primary",n.CustomProperties,n.EmbedImageData):(he||(W.axes.push(this._getChartAxis(be[0],n.IsLabelIndex,"XAxis",M.Type,ee.Chart3D?ee.Chart3D.Enabled:null,M.DataType,"Secondary")),he=!0),W.primaryXAxis={visible:!1},ae="XAxis"),"primary"==Se?W.primaryYAxis=this._getChartAxis(Ce[0],n.IsLabelIndex,"YAxis",M.Type,ee.Chart3D?ee.Chart3D.Enabled:null,null,"Primary",n.CustomProperties,n.EmbedImageData):(se||(W.axes.push(this._getChartAxis(Ce[0],n.IsLabelIndex,"YAxis",M.Type,ee.Chart3D?ee.Chart3D.Enabled:null,null,"Secondary")),se=!0),W.primaryYAxis={visible:!1},de="YAxis"),W.series.push({trendlines:O,points:fe,type:"stackingbar100",columnFacet:"Cylinder"===this._getCustomPropertyValue(M.CustomProperties,"drawingstyle")?"cylinder":"rectangle",name:B,xAxisName:ae,yAxisName:de,visibility:M.Visibility?"visible":"hide"}),V=W.primaryYAxis&&"datetime"===W.primaryYAxis.valueType&&"seconds"===W.primaryYAxis.intervalType,ej.isNullOrUndefined(M.DataType)||"DateTime"!=M.DataType||null==M.LanguagesDateFormat||null==be[0].LabelFormat?V&&this.chartLoadEvent(W,null,null,V):this.chartLoadEvent(W,M.LanguagesDateFormat.Culture,M.LanguagesDateFormat.DateFormat,V),M.PointValues.length>0&&M.PointValues[0].Style&&M.PointValues[0].Style.Border&&M.PointValues[0].Style.Border.Default&&this._setBorderProp(M.PointValues[0].Style.Border,W.series[pe]),M.DataPointsStyle&&M.DataPointsStyle.length>0&&(W.series[pe].marker=this._getSeriesMarker(M.DataPointsStyle[0],M.Type,T),M.PointValues&&M.PointValues.length>0&&M.PointValues[0].ChartDataLabel&&(W.series[pe].marker.dataLabel=this._getMarkerDataLabel(M.PointValues[0].ChartDataLabel)));break;case"line":for(A=0;A<M.PointValues.length;A++)fe.push(null!=M.PointValues[A].Y&&M.PointValues[A].Y!=undefined?{x:this._getAxisLabelFormatedValues(M.PointValues[A].X?M.PointValues[A].IsDateX?this._getChartDate(M.PointValues[A].X):M.PointValues[A].X:"",be[0].LabelFormat,be[0].LabelFormatRepresentation),y:this._getAxisLabelFormatedValues(M.PointValues[A].IsDateY?this._getChartDate(M.PointValues[A].Y):M.PointValues[A].Y,Ce[0].LabelFormat,Ce[0].LabelFormatRepresentation),fill:null!=M.PointValues[A].Style&&null!=M.PointValues[A].Style.Color&&A<M.PointValues.length-1?this._getSeriesColor(M.PointValues[A+1],re,n.PaletteColors):null,text:M.PointValues[A].ChartDataLabel.Label?M.PointValues[A].ChartDataLabel.Label:"",tooltip:M.PointValues[A].ToolTip?M.PointValues[A].ToolTip:""}:{x:this._getAxisLabelFormatedValues(M.PointValues[A].X?M.PointValues[A].IsDateX?this._getChartDate(M.PointValues[A].X):M.PointValues[A].X:"",be[0].LabelFormat,be[0].LabelFormatRepresentation),y:null,fill:null!=M.PointValues[A].Style&&null!=M.PointValues[A].Style.Color?this._getSeriesColor(M.PointValues[A],re,n.PaletteColors):null,text:M.PointValues[A].ChartDataLabel.Label?M.PointValues[A].ChartDataLabel.Label:"",tooltip:M.PointValues[A].ToolTip?M.PointValues[A].ToolTip:""}),this.addLegendName(M.PointValues[A].LegendVisibility,B),M.PointValues[A].ActionInfo&&xe.push(M.PointValues[A].ActionInfo),this._setIsDataLabel(M.PointValues[A].ChartDataLabel.Label);"primary"==_e?W.primaryXAxis=this._getChartAxis(be[0],n.IsLabelIndex,"XAxis",M.Type,ee.Chart3D?ee.Chart3D.Enabled:null,M.DataType,"Primary",n.CustomProperties,n.EmbedImageData):(he||(W.axes.push(this._getChartAxis(be[0],n.IsLabelIndex,"XAxis",M.Type,ee.Chart3D?ee.Chart3D.Enabled:null,M.DataType,"Secondary")),he=!0),ae="XAxis"),"primary"==Se?W.primaryYAxis=this._getChartAxis(Ce[0],n.IsLabelIndex,"YAxis",M.Type,ee.Chart3D?ee.Chart3D.Enabled:null,null,"Primary",n.CustomProperties,n.EmbedImageData):(se||(W.axes.push(this._getChartAxis(Ce[0],n.IsLabelIndex,"YAxis",M.Type,ee.Chart3D?ee.Chart3D.Enabled:null,null,"Secondary")),se=!0),de="YAxis"),W.series.push({trendlines:O,points:fe,type:"line",name:B,xAxisName:ae,yAxisName:de,visibility:M.Visibility?"visible":"hidden"}),V=W.primaryYAxis&&"datetime"===W.primaryYAxis.valueType&&"seconds"===W.primaryYAxis.intervalType,ej.isNullOrUndefined(M.DataType)||"DateTime"!=M.DataType||null==M.LanguagesDateFormat||null==be[0].LabelFormat?V&&this.chartLoadEvent(W,null,null,V):this.chartLoadEvent(W,M.LanguagesDateFormat.Culture,M.LanguagesDateFormat.DateFormat,V),M.PointValues.length>0&&M.PointValues[0].Style&&M.PointValues[0].Style.Border&&M.PointValues[0].Style.Border.Default&&this._setBorderProp(M.PointValues[0].Style.Border,W.series[pe]),M.DataPointsStyle&&M.DataPointsStyle.length>0&&(W.series[pe].marker=this._getSeriesMarker(M.DataPointsStyle[0],M.Type,T),M.PointValues&&M.PointValues.length>0&&M.PointValues[0].ChartDataLabel&&(W.series[pe].marker.dataLabel=this._getMarkerDataLabel(M.PointValues[0].ChartDataLabel)));break;case"spline":for(A=0;A<M.PointValues.length;A++)fe.push({fill:null!=M.PointValues[A].Style&&null!=M.PointValues[A].Style.Color?this._getSeriesColor(M.PointValues[A],re,n.PaletteColors):null,x:this._getAxisLabelFormatedValues(M.PointValues[A].X?M.PointValues[A].IsDateX?this._getChartDate(M.PointValues[A].X):M.PointValues[A].X:"",be[0].LabelFormat,be[0].LabelFormatRepresentation),y:this._getAxisLabelFormatedValues(M.PointValues[A].IsDateY?this._getChartDate(M.PointValues[A].Y):M.PointValues[A].Y,Ce[0].LabelFormat,Ce[0].LabelFormatRepresentation),text:M.PointValues[A].ChartDataLabel.Label?M.PointValues[A].ChartDataLabel.Label:"",tooltip:M.PointValues[A].ToolTip?M.PointValues[A].ToolTip:""}),this.addLegendName(M.PointValues[A].LegendVisibility,B),M.PointValues[A].ActionInfo&&xe.push(M.PointValues[A].ActionInfo),this._setIsDataLabel(M.PointValues[A].ChartDataLabel.Label);"primary"==_e?W.primaryXAxis=this._getChartAxis(be[0],n.IsLabelIndex,"XAxis",M.Type,ee.Chart3D?ee.Chart3D.Enabled:null,M.DataType,"Primary",n.CustomProperties,n.EmbedImageData):(he||(W.axes.push(this._getChartAxis(be[0],n.IsLabelIndex,"XAxis",M.Type,ee.Chart3D?ee.Chart3D.Enabled:null,M.DataType,"Secondary")),he=!0),W.primaryXAxis={visible:!1},ae="XAxis"),"primary"==Se?W.primaryYAxis=this._getChartAxis(Ce[0],n.IsLabelIndex,"YAxis",M.Type,ee.Chart3D?ee.Chart3D.Enabled:null,null,"Primary",n.CustomProperties,n.EmbedImageData):(se||(W.axes.push(this._getChartAxis(Ce[0],n.IsLabelIndex,"YAxis",M.Type,ee.Chart3D?ee.Chart3D.Enabled:null,null,"Secondary")),se=!0),W.primaryYAxis={visible:!1},de="YAxis"),this.chartLoadEvent(W,null,null,V),W.series.push({trendlines:O,points:fe,type:"spline",name:B,xAxisName:ae,yAxisName:de,visibility:M.Visibility?"visible":"hidden"}),V=W.primaryYAxis&&"datetime"===W.primaryYAxis.valueType&&"seconds"===W.primaryYAxis.intervalType,ej.isNullOrUndefined(M.DataType)||"DateTime"!=M.DataType||null==M.LanguagesDateFormat||null==be[0].LabelFormat?V&&this.chartLoadEvent(W,null,null,V):this.chartLoadEvent(W,M.LanguagesDateFormat.Culture,M.LanguagesDateFormat.DateFormat,V),M.PointValues.length>0&&M.PointValues[0].Style&&M.PointValues[0].Style.Border&&M.PointValues[0].Style.Border.Default&&(this._setBorderProp(M.PointValues[0].Style.Border,W.series[pe]),"Dotted"==M.PointValues[0].Style.Border.Default.BorderStyle&&(W.series[pe].dashArray="2,2")),M.DataPointsStyle&&M.DataPointsStyle.length>0&&(W.series[pe].marker=this._getSeriesMarker(M.DataPointsStyle[0],M.Type,T),M.PointValues&&M.PointValues.length>0&&M.PointValues[0].ChartDataLabel&&(W.series[pe].marker.dataLabel=this._getMarkerDataLabel(M.PointValues[0].ChartDataLabel)));break;case"stepline":for(A=0;A<M.PointValues.length;A++)fe.push({fill:null!=M.PointValues[A].Style&&null!=M.PointValues[A].Style.Color?this._getSeriesColor(M.PointValues[A],re,n.PaletteColors):null,x:this._getAxisLabelFormatedValues(M.PointValues[A].X?M.PointValues[A].IsDateX?this._getChartDate(M.PointValues[A].X):M.PointValues[A].X:"",be[0].LabelFormat,be[0].LabelFormatRepresentation),y:this._getAxisLabelFormatedValues(M.PointValues[A].IsDateY?this._getChartDate(M.PointValues[A].Y):M.PointValues[A].Y,Ce[0].LabelFormat,Ce[0].LabelFormatRepresentation),text:M.PointValues[A].ChartDataLabel.Label?M.PointValues[A].ChartDataLabel.Label:"",tooltip:M.PointValues[A].ToolTip?M.PointValues[A].ToolTip:""}),this.addLegendName(M.PointValues[A].LegendVisibility,B),M.PointValues[A].ActionInfo&&xe.push(M.PointValues[A].ActionInfo),this._setIsDataLabel(M.PointValues[A].ChartDataLabel.Label);"primary"==_e?W.primaryXAxis=this._getChartAxis(be[0],n.IsLabelIndex,"XAxis",M.Type,ee.Chart3D?ee.Chart3D.Enabled:null,M.DataType,"Primary",n.CustomProperties,n.EmbedImageData):(he||(W.axes.push(this._getChartAxis(be[0],n.IsLabelIndex,"XAxis",M.Type,ee.Chart3D?ee.Chart3D.Enabled:null,M.DataType,"Secondary")),he=!0),W.primaryXAxis={visible:!1},ae="XAxis"),"primary"==Se?W.primaryYAxis=this._getChartAxis(Ce[0],n.IsLabelIndex,"YAxis",M.Type,ee.Chart3D?ee.Chart3D.Enabled:null,null,"Primary",n.CustomProperties,n.EmbedImageData):(se||(W.axes.push(this._getChartAxis(Ce[0],n.IsLabelIndex,"YAxis",M.Type,ee.Chart3D?ee.Chart3D.Enabled:null,null,"Secondary")),se=!0),W.primaryYAxis={visible:!1},de="YAxis"),W.series.push({trendlines:O,points:fe,type:"stepline",name:B,xAxisName:ae,yAxisName:de,visibility:M.Visibility?"visible":"hidden"}),V=W.primaryYAxis&&"datetime"===W.primaryYAxis.valueType&&"seconds"===W.primaryYAxis.intervalType,ej.isNullOrUndefined(M.DataType)||"DateTime"!=M.DataType||null==M.LanguagesDateFormat||null==be[0].LabelFormat?V&&this.chartLoadEvent(W,null,null,V):this.chartLoadEvent(W,M.LanguagesDateFormat.Culture,M.LanguagesDateFormat.DateFormat,V),M.PointValues.length>0&&M.PointValues[0].Style&&M.PointValues[0].Style.Border&&M.PointValues[0].Style.Border.Default&&this._setBorderProp(M.PointValues[0].Style.Border,W.series[pe]),M.DataPointsStyle&&M.DataPointsStyle.length>0&&(W.series[pe].marker=this._getSeriesMarker(M.DataPointsStyle[0],M.Type,T),M.PointValues&&M.PointValues.length>0&&M.PointValues[0].ChartDataLabel&&(W.series[pe].marker.dataLabel=this._getMarkerDataLabel(M.PointValues[0].ChartDataLabel)));break;case"pie":for(A=0;A<M.PointValues.length;A++)null!=M.PointValues[A].Y&&M.PointValues[A].Y!=undefined&&(z=this._getSeriesColor(M.PointValues[A],re,n.PaletteColors),fe.push({x:this._getAxisLabelFormatedValues(M.PointValues[A].X?M.PointValues[A].IsDateX?this._getChartDate(M.PointValues[A].X):M.PointValues[A].X:"",be[0].LabelFormat,be[0].LabelFormatRepresentation),y:this._getAxisLabelFormatedValues(M.PointValues[A].Y,Ce[0].LabelFormat,Ce[0].LabelFormatRepresentation),fill:z,text:M.PointValues[A].ChartDataLabel.Label?M.PointValues[A].ChartDataLabel.Label:"",tooltip:M.PointValues[A].ToolTip?M.PointValues[A].ToolTip:""}),this.addLegendName(M.PointValues[A].LegendVisibility,M.PointValues[A].X),M.PointValues[A].Style&&M.PointValues[A].Style.Border&&M.PointValues[A].Style.Border.Default&&this._setBorderProp(M.PointValues[A].Style.Border,fe[fe.length-1]),M.PointValues[A].ActionInfo&&xe.push(M.PointValues[A].ActionInfo)),this._setIsDataLabel(M.PointValues[A].ChartDataLabel.Label);W.series.push({trendlines:O,startAngle:90,points:fe,type:"pie",name:B,visibility:M.Visibility?"visible":"hide"}),M.PointValues&&M.PointValues.length>0&&M.PointValues[0].ChartDataLabel&&(W.series[pe].marker={dataLabel:this._getMarkerDataLabel(M.PointValues[0].ChartDataLabel)});break;case"explodedpie":for(A=0;A<M.PointValues.length;A++)null!=M.PointValues[A].Y&&M.PointValues[A].Y!=undefined&&(z=this._getSeriesColor(M.PointValues[A],re,n.PaletteColors),fe.push({x:this._getAxisLabelFormatedValues(M.PointValues[A].X?M.PointValues[A].IsDateX?this._getChartDate(M.PointValues[A].X):M.PointValues[A].X:"",be[0].LabelFormat,be[0].LabelFormatRepresentation),y:this._getAxisLabelFormatedValues(M.PointValues[A].Y,Ce[0].LabelFormat,Ce[0].LabelFormatRepresentation),fill:z,text:M.PointValues[A].ChartDataLabel.Label?M.PointValues[A].ChartDataLabel.Label:"",tooltip:M.PointValues[A].ToolTip?M.PointValues[A].ToolTip:""}),this.addLegendName(M.PointValues[A].LegendVisibility,M.PointValues[A].X),M.PointValues[A].Style&&M.PointValues[A].Style.Border&&M.PointValues[A].Style.Border.Default&&this._setBorderProp(M.PointValues[A].Style.Border,fe[fe.length-1]),M.PointValues[A].ActionInfo&&xe.push(M.PointValues[A].ActionInfo)),this._setIsDataLabel(M.PointValues[A].ChartDataLabel.Label);W.series.push({trendlines:O,startAngle:90,points:fe,type:"pie",explodeAll:!0,explodeOffset:8,name:B,visibility:M.Visibility?"visible":"hide"}),W.series[pe].explodeIndex=0,M.PointValues&&M.PointValues.length>0&&M.PointValues[0].ChartDataLabel&&(W.series[pe].marker={dataLabel:this._getMarkerDataLabel(M.PointValues[0].ChartDataLabel)});break;case"doughnut":for(A=0;A<M.PointValues.length;A++)null!=M.PointValues[A].Y&&M.PointValues[A].Y!=undefined&&(z=this._getSeriesColor(M.PointValues[A],re,n.PaletteColors),fe.push({x:this._getAxisLabelFormatedValues(M.PointValues[A].X?M.PointValues[A].IsDateX?this._getChartDate(M.PointValues[A].X):M.PointValues[A].X:"",be[0].LabelFormat,be[0].LabelFormatRepresentation),y:this._getAxisLabelFormatedValues(M.PointValues[A].Y,Ce[0].LabelFormat,Ce[0].LabelFormatRepresentation),fill:z,text:M.PointValues[A].ChartDataLabel.Label?M.PointValues[A].ChartDataLabel.Label:"",tooltip:M.PointValues[A].ToolTip?M.PointValues[A].ToolTip:""}),this.addLegendName(M.PointValues[A].LegendVisibility,M.PointValues[A].X),M.PointValues[A].Style&&M.PointValues[A].Style.Border&&M.PointValues[A].Style.Border.Default&&this._setBorderProp(M.PointValues[A].Style.Border,fe[fe.length-1]),M.PointValues[A].ActionInfo&&xe.push(M.PointValues[A].ActionInfo)),this._setIsDataLabel(M.PointValues[A].ChartDataLabel.Label);W.series.push({trendlines:O,startAngle:90,points:fe,type:"doughnut",name:B,visibility:M.Visibility?"visible":"hide"}),M.PointValues&&M.PointValues.length>0&&M.PointValues[0].ChartDataLabel&&(W.series[pe].marker={dataLabel:this._getMarkerDataLabel(M.PointValues[0].ChartDataLabel)});break;case"pyramid":for(A=0;A<M.PointValues.length;A++)null!=M.PointValues[A].Y&&M.PointValues[A].Y!=undefined&&(z=this._getSeriesColor(M.PointValues[A],re,n.PaletteColors),fe.push({x:this._getAxisLabelFormatedValues(M.PointValues[A].X?M.PointValues[A].IsDateX?this._getChartDate(M.PointValues[A].X):M.PointValues[A].X:"",be[0].LabelFormat,be[0].LabelFormatRepresentation),y:this._getAxisLabelFormatedValues(M.PointValues[A].Y,Ce[0].LabelFormat,Ce[0].LabelFormatRepresentation),fill:z,text:M.PointValues[A].ChartDataLabel.Label?M.PointValues[A].ChartDataLabel.Label:"",tooltip:M.PointValues[A].ToolTip?M.PointValues[A].ToolTip:""}),this.addLegendName(M.PointValues[A].LegendVisibility,M.PointValues[A].X),M.PointValues[A].Style&&M.PointValues[A].Style.Border&&M.PointValues[A].Style.Border.Default&&this._setBorderProp(M.PointValues[A].Style.Border,fe[fe.length-1]),M.PointValues[A].ActionInfo&&xe.push(M.PointValues[A].ActionInfo)),this._setIsDataLabel(M.PointValues[A].ChartDataLabel.Label);W.series.push({trendlines:O,points:fe,type:"pyramid",name:B,visibility:M.Visibility?"visible":"hide"}),M.PointValues&&M.PointValues.length>0&&M.PointValues[0].ChartDataLabel&&(W.series[pe].marker={dataLabel:this._getMarkerDataLabel(M.PointValues[0].ChartDataLabel)});break;case"funnel":for(A=0;A<M.PointValues.length;A++)null!=M.PointValues[A].Y&&M.PointValues[A].Y!=undefined&&(z=this._getSeriesColor(M.PointValues[A],re,n.PaletteColors),fe.push({x:this._getAxisLabelFormatedValues(M.PointValues[A].X?M.PointValues[A].IsDateX?this._getChartDate(M.PointValues[A].X):M.PointValues[A].X:"",be[0].LabelFormat,be[0].LabelFormatRepresentation),y:this._getAxisLabelFormatedValues(M.PointValues[A].Y,Ce[0].LabelFormat,Ce[0].LabelFormatRepresentation),fill:z,text:M.PointValues[A].ChartDataLabel.Label?M.PointValues[A].ChartDataLabel.Label:"",tooltip:M.PointValues[A].ToolTip?M.PointValues[A].ToolTip:""}),this.addLegendName(M.PointValues[A].LegendVisibility,M.PointValues[A].X),M.PointValues[A].Style&&M.PointValues[A].Style.Border&&M.PointValues[A].Style.Border.Default&&this._setBorderProp(M.PointValues[A].Style.Border,fe[fe.length-1]),M.PointValues[A].ActionInfo&&xe.push(M.PointValues[A].ActionInfo)),this._setIsDataLabel(M.PointValues[A].ChartDataLabel.Label);W.series.push({trendlines:O,points:fe,type:"funnel",name:B,visibility:M.Visibility?"visible":"hide"}),M.PointValues&&M.PointValues.length>0&&M.PointValues[0].ChartDataLabel&&(W.series[pe].marker={dataLabel:this._getMarkerDataLabel(M.PointValues[0].ChartDataLabel)});break;case"area":for(A=0;A<M.PointValues.length;A++)fe.push({fill:null!=M.PointValues[A].Style&&null!=M.PointValues[A].Style.Color?this._getSeriesColor(M.PointValues[A],re,n.PaletteColors):null,x:this._getAxisLabelFormatedValues(M.PointValues[A].X?M.PointValues[A].IsDateX?this._getChartDate(M.PointValues[A].X):M.PointValues[A].X:"",be[0].LabelFormat,be[0].LabelFormatRepresentation),y:this._getAxisLabelFormatedValues(M.PointValues[A].IsDateY?this._getChartDate(M.PointValues[A].Y):M.PointValues[A].Y,Ce[0].LabelFormat,Ce[0].LabelFormatRepresentation),text:M.PointValues[A].ChartDataLabel.Label?M.PointValues[A].ChartDataLabel.Label:"",tooltip:M.PointValues[A].ToolTip?M.PointValues[A].ToolTip:""}),this.addLegendName(M.PointValues[A].LegendVisibility,B),M.PointValues[A].ActionInfo&&xe.push(M.PointValues[A].ActionInfo),this._setIsDataLabel(M.PointValues[A].ChartDataLabel.Label);"primary"==_e?W.primaryXAxis=this._getChartAxis(be[0],n.IsLabelIndex,"XAxis",M.Type,ee.Chart3D?ee.Chart3D.Enabled:null,M.DataType,"Primary",n.CustomProperties,n.EmbedImageData):(he||(W.axes.push(this._getChartAxis(be[0],n.IsLabelIndex,"XAxis",M.Type,ee.Chart3D?ee.Chart3D.Enabled:null,M.DataType,"Secondary")),he=!0),W.primaryXAxis={visible:!1},ae="XAxis"),"primary"==Se?W.primaryYAxis=this._getChartAxis(Ce[0],n.IsLabelIndex,"YAxis",M.Type,ee.Chart3D?ee.Chart3D.Enabled:null,null,"Primary",n.CustomProperties,n.EmbedImageData):(se||(W.axes.push(this._getChartAxis(Ce[0],n.IsLabelIndex,"YAxis",M.Type,ee.Chart3D?ee.Chart3D.Enabled:null,null,"Secondary")),se=!0),W.primaryYAxis={visible:!1},de="YAxis"),W.series.push({trendlines:O,points:fe,type:"area",name:B,xAxisName:ae,yAxisName:de,visibility:M.Visibility?"visible":"hide"}),V=W.primaryYAxis&&"datetime"===W.primaryYAxis.valueType&&"seconds"===W.primaryYAxis.intervalType,ej.isNullOrUndefined(M.DataType)||"DateTime"!=M.DataType||null==M.LanguagesDateFormat||null==be[0].LabelFormat?V&&this.chartLoadEvent(W,null,null,V):this.chartLoadEvent(W,M.LanguagesDateFormat.Culture,M.LanguagesDateFormat.DateFormat,V),M.PointValues.length>0&&M.PointValues[0].Style&&M.PointValues[0].Style.Border&&M.PointValues[0].Style.Border.Default&&this._setBorderProp(M.PointValues[0].Style.Border,W.series[pe]),M.DataPointsStyle&&M.DataPointsStyle.length>0&&(W.series[pe].marker=this._getSeriesMarker(M.DataPointsStyle[0],M.Type,T),M.PointValues&&M.PointValues.length>0&&M.PointValues[0].ChartDataLabel&&(W.series[pe].marker.dataLabel=this._getMarkerDataLabel(M.PointValues[0].ChartDataLabel)));break;case"splinearea":for(A=0;A<M.PointValues.length;A++)fe.push({fill:null!=M.PointValues[A].Style&&null!=M.PointValues[A].Style.Color?this._getSeriesColor(M.PointValues[A],re,n.PaletteColors):null,x:this._getAxisLabelFormatedValues(M.PointValues[A].X?M.PointValues[A].IsDateX?this._getChartDate(M.PointValues[A].X):M.PointValues[A].X:"",be[0].LabelFormat,be[0].LabelFormatRepresentation),y:this._getAxisLabelFormatedValues(M.PointValues[A].IsDateY?this._getChartDate(M.PointValues[A].Y):M.PointValues[A].Y,Ce[0].LabelFormat,Ce[0].LabelFormatRepresentation),text:M.PointValues[A].ChartDataLabel.Label?M.PointValues[A].ChartDataLabel.Label:"",tooltip:M.PointValues[A].ToolTip?M.PointValues[A].ToolTip:""}),this.addLegendName(M.PointValues[A].LegendVisibility,B),M.PointValues[A].ActionInfo&&xe.push(M.PointValues[A].ActionInfo),this._setIsDataLabel(M.PointValues[A].ChartDataLabel.Label);"primary"==_e?W.primaryXAxis=this._getChartAxis(be[0],n.IsLabelIndex,"XAxis",M.Type,ee.Chart3D?ee.Chart3D.Enabled:null,M.DataType,"Primary",n.CustomProperties,n.EmbedImageData):(he||(W.axes.push(this._getChartAxis(be[0],n.IsLabelIndex,"XAxis",M.Type,ee.Chart3D?ee.Chart3D.Enabled:null,M.DataType,"Secondary")),he=!0),W.primaryXAxis={visible:!1},ae="XAxis"),"primary"==Se?W.primaryYAxis=this._getChartAxis(Ce[0],n.IsLabelIndex,"YAxis",M.Type,ee.Chart3D?ee.Chart3D.Enabled:null,null,"Primary",n.CustomProperties,n.EmbedImageData):(se||(W.axes.push(this._getChartAxis(Ce[0],n.IsLabelIndex,"YAxis",M.Type,ee.Chart3D?ee.Chart3D.Enabled:null,null,"Secondary")),se=!0),W.primaryYAxis={visible:!1},de="YAxis"),this.chartLoadEvent(W,null,null,V),W.series.push({trendlines:O,points:fe,type:"splinearea",name:B,xAxisName:ae,yAxisName:de,visibility:M.Visibility?"visible":"hide"}),V=W.primaryYAxis&&"datetime"===W.primaryYAxis.valueType&&"seconds"===W.primaryYAxis.intervalType,ej.isNullOrUndefined(M.DataType)||"DateTime"!=M.DataType||null==M.LanguagesDateFormat||null==be[0].LabelFormat?V&&this.chartLoadEvent(W,null,null,V):this.chartLoadEvent(W,M.LanguagesDateFormat.Culture,M.LanguagesDateFormat.DateFormat,V),M.PointValues.length>0&&M.PointValues[0].Style&&M.PointValues[0].Style.Border&&M.PointValues[0].Style.Border.Default&&this._setBorderProp(M.PointValues[0].Style.Border,W.series[pe]),M.DataPointsStyle&&M.DataPointsStyle.length>0&&(W.series[pe].marker=this._getSeriesMarker(M.DataPointsStyle[0],M.Type,T),M.PointValues&&M.PointValues.length>0&&M.PointValues[0].ChartDataLabel&&(W.series[pe].marker.dataLabel=this._getMarkerDataLabel(M.PointValues[0].ChartDataLabel)));break;case"stackingarea":for(A=0;A<M.PointValues.length;A++)fe.push({fill:null!=M.PointValues[A].Style&&null!=M.PointValues[A].Style.Color?this._getSeriesColor(M.PointValues[A],re,n.PaletteColors):null,x:this._getAxisLabelFormatedValues(M.PointValues[A].X?M.PointValues[A].IsDateX?this._getChartDate(M.PointValues[A].X):M.PointValues[A].X:"",be[0].LabelFormat,be[0].LabelFormatRepresentation),y:this._getAxisLabelFormatedValues(M.PointValues[A].IsDateY?this._getChartDate(M.PointValues[A].Y):M.PointValues[A].Y,Ce[0].LabelFormat,Ce[0].LabelFormatRepresentation),text:M.PointValues[A].ChartDataLabel.Label?M.PointValues[A].ChartDataLabel.Label:"",tooltip:M.PointValues[A].ToolTip?M.PointValues[A].ToolTip:""}),this.addLegendName(M.PointValues[A].LegendVisibility,B),M.PointValues[A].ActionInfo&&xe.push(M.PointValues[A].ActionInfo),this._setIsDataLabel(M.PointValues[A].ChartDataLabel.Label);"primary"==_e?W.primaryXAxis=this._getChartAxis(be[0],n.IsLabelIndex,"XAxis",M.Type,ee.Chart3D?ee.Chart3D.Enabled:null,M.DataType,"Primary",n.CustomProperties,n.EmbedImageData):(he||(W.axes.push(this._getChartAxis(be[0],n.IsLabelIndex,"XAxis",M.Type,ee.Chart3D?ee.Chart3D.Enabled:null,M.DataType,"Secondary")),he=!0),W.primaryXAxis={visible:!1},ae="XAxis"),"primary"==Se?W.primaryYAxis=this._getChartAxis(Ce[0],n.IsLabelIndex,"YAxis",M.Type,ee.Chart3D?ee.Chart3D.Enabled:null,null,"Primary",n.CustomProperties,n.EmbedImageData):(se||(W.axes.push(this._getChartAxis(Ce[0],n.IsLabelIndex,"YAxis",M.Type,ee.Chart3D?ee.Chart3D.Enabled:null,null,"Secondary")),se=!0),W.primaryYAxis={visible:!1},de="YAxis"),W.series.push({trendlines:O,points:fe,type:"stackingarea",name:B,xAxisName:ae,yAxisName:de,visibility:M.Visibility?"visible":"hide"}),V=W.primaryYAxis&&"datetime"===W.primaryYAxis.valueType&&"seconds"===W.primaryYAxis.intervalType,ej.isNullOrUndefined(M.DataType)||"DateTime"!=M.DataType||null==M.LanguagesDateFormat||null==be[0].LabelFormat?V&&this.chartLoadEvent(W,null,null,V):this.chartLoadEvent(W,M.LanguagesDateFormat.Culture,M.LanguagesDateFormat.DateFormat,V),M.PointValues.length>0&&M.PointValues[0].Style&&M.PointValues[0].Style.Border&&M.PointValues[0].Style.Border.Default&&this._setBorderProp(M.PointValues[0].Style.Border,W.series[pe]),M.DataPointsStyle&&M.DataPointsStyle.length>0&&(W.series[pe].marker=this._getSeriesMarker(M.DataPointsStyle[0],M.Type,T),M.PointValues&&M.PointValues.length>0&&M.PointValues[0].ChartDataLabel&&(W.series[pe].marker.dataLabel=this._getMarkerDataLabel(M.PointValues[0].ChartDataLabel)));break;case"stackingarea100":for(A=0;A<M.PointValues.length;A++)fe.push({fill:null!=M.PointValues[A].Style&&null!=M.PointValues[A].Style.Color?this._getSeriesColor(M.PointValues[A],re,n.PaletteColors):null,x:this._getAxisLabelFormatedValues(M.PointValues[A].X?M.PointValues[A].IsDateX?this._getChartDate(M.PointValues[A].X):M.PointValues[A].X:"",be[0].LabelFormat,be[0].LabelFormatRepresentation),y:this._getAxisLabelFormatedValues(M.PointValues[A].IsDateY?this._getChartDate(M.PointValues[A].Y):M.PointValues[A].Y,Ce[0].LabelFormat,Ce[0].LabelFormatRepresentation),text:M.PointValues[A].ChartDataLabel.Label?M.PointValues[A].ChartDataLabel.Label:"",tooltip:M.PointValues[A].ToolTip?M.PointValues[A].ToolTip:""}),this.addLegendName(M.PointValues[A].LegendVisibility,B),M.PointValues[A].ActionInfo&&xe.push(M.PointValues[A].ActionInfo),this._setIsDataLabel(M.PointValues[A].ChartDataLabel.Label);"primary"==_e?W.primaryXAxis=this._getChartAxis(be[0],n.IsLabelIndex,"XAxis",M.Type,ee.Chart3D?ee.Chart3D.Enabled:null,M.DataType,"Primary",n.CustomProperties,n.EmbedImageData):(he||(W.axes.push(this._getChartAxis(be[0],n.IsLabelIndex,"XAxis",M.Type,ee.Chart3D?ee.Chart3D.Enabled:null,M.DataType,"Secondary")),he=!0),W.primaryXAxis={visible:!1},ae="XAxis"),"primary"==Se?W.primaryYAxis=this._getChartAxis(Ce[0],n.IsLabelIndex,"YAxis",M.Type,ee.Chart3D?ee.Chart3D.Enabled:null,null,"Primary",n.CustomProperties,n.EmbedImageData):(se||(W.axes.push(this._getChartAxis(Ce[0],n.IsLabelIndex,"YAxis",M.Type,ee.Chart3D?ee.Chart3D.Enabled:null,null,"Secondary")),se=!0),W.primaryYAxis={visible:!1},de="YAxis"),W.series.push({trendlines:O,points:fe,type:"stackingarea100",name:B,xAxisName:ae,yAxisName:de,visibility:M.Visibility?"visible":"hide"}),V=W.primaryYAxis&&"datetime"===W.primaryYAxis.valueType&&"seconds"===W.primaryYAxis.intervalType,ej.isNullOrUndefined(M.DataType)||"DateTime"!=M.DataType||null==M.LanguagesDateFormat||null==be[0].LabelFormat?V&&this.chartLoadEvent(W,null,null,V):this.chartLoadEvent(W,M.LanguagesDateFormat.Culture,M.LanguagesDateFormat.DateFormat,V),M.PointValues.length>0&&M.PointValues[0].Style&&M.PointValues[0].Style.Border&&M.PointValues[0].Style.Border.Default&&this._setBorderProp(M.PointValues[0].Style.Border,W.series[pe]),M.DataPointsStyle&&M.DataPointsStyle.length>0&&(W.series[pe].marker=this._getSeriesMarker(M.DataPointsStyle[0],M.Type,T),M.PointValues&&M.PointValues.length>0&&M.PointValues[0].ChartDataLabel&&(W.series[pe].marker.dataLabel=this._getMarkerDataLabel(M.PointValues[0].ChartDataLabel)));break;case"rangearea":for(A=0;A<M.PointValues.length;A++)fe.push({fill:null!=M.PointValues[A].Style&&null!=M.PointValues[A].Style.Color?this._getSeriesColor(M.PointValues[A],re,n.PaletteColors):null,x:this._getAxisLabelFormatedValues(M.PointValues[A].X?M.PointValues[A].IsDateX?this._getChartDate(M.PointValues[A].X):M.PointValues[A].X:"",be[0].LabelFormat,be[0].LabelFormatRepresentation),low:M.PointValues[A].Low?M.PointValues[A].Low:0,high:this._getAxisLabelFormatedValues(M.PointValues[A].High?M.PointValues[A].High:0,Ce[0].LabelFormat,Ce[0].labelFormatRepresentation),text:M.PointValues[A].ChartDataLabel.Label?M.PointValues[A].ChartDataLabel.Label:"",tooltip:M.PointValues[A].ToolTip?M.PointValues[A].ToolTip:""}),this.addLegendName(M.PointValues[A].LegendVisibility,B),M.PointValues[A].ActionInfo&&xe.push(M.PointValues[A].ActionInfo),this._setIsDataLabel(M.PointValues[A].ChartDataLabel.Label);"primary"==_e?W.primaryXAxis=this._getChartAxis(be[0],n.IsLabelIndex,"XAxis",M.Type,ee.Chart3D?ee.Chart3D.Enabled:null,M.DataType,"Primary",n.CustomProperties,n.EmbedImageData):(he||(W.axes.push(this._getChartAxis(be[0],n.IsLabelIndex,"XAxis",M.Type,ee.Chart3D?ee.Chart3D.Enabled:null,M.DataType,"Secondary")),he=!0),W.primaryXAxis={visible:!1},ae="XAxis"),"primary"==Se?W.primaryYAxis=this._getChartAxis(Ce[0],n.IsLabelIndex,"YAxis",M.Type,ee.Chart3D?ee.Chart3D.Enabled:null,null,"Primary",n.CustomProperties,n.EmbedImageData):(se||(W.axes.push(this._getChartAxis(Ce[0],n.IsLabelIndex,"YAxis",M.Type,ee.Chart3D?ee.Chart3D.Enabled:null,null,"Secondary")),se=!0),W.primaryYAxis={visible:!1},de="YAxis"),W.series.push({trendlines:O,points:fe,type:"rangearea",name:B,xAxisName:ae,yAxisName:de,visibility:M.Visibility?"visible":"hide"}),ej.isNullOrUndefined(M.DataType)||"DateTime"!=M.DataType||null==M.LanguagesDateFormat||null==be[0].LabelFormat||this.chartLoadEvent(W,M.LanguagesDateFormat.Culture,M.LanguagesDateFormat.DateFormat),M.PointValues.length>0&&M.PointValues[0].Style&&M.PointValues[0].Style.Border&&M.PointValues[0].Style.Border.Default&&this._setBorderProp(M.PointValues[0].Style.Border,W.series[pe]),M.DataPointsStyle&&M.DataPointsStyle.length>0&&(W.series[pe].marker=this._getSeriesMarker(M.DataPointsStyle[0],M.Type,T),M.PointValues&&M.PointValues.length>0&&M.PointValues[0].ChartDataLabel&&(W.series[pe].marker.dataLabel=this._getMarkerDataLabel(M.PointValues[0].ChartDataLabel)));break;case"rangesmooth":for(A=0;A<M.PointValues.length;A++)fe.push({fill:null!=M.PointValues[A].Style&&null!=M.PointValues[A].Style.Color?this._getSeriesColor(M.PointValues[A],re,n.PaletteColors):null,x:this._getAxisLabelFormatedValues(M.PointValues[A].X?M.PointValues[A].IsDateX?this._getChartDate(M.PointValues[A].X):M.PointValues[A].X:"",be[0].LabelFormat,be[0].LabelFormatRepresentation),low:M.PointValues[A].Low?M.PointValues[A].Low:0,high:this._getAxisLabelFormatedValues(M.PointValues[A].High?M.PointValues[A].High:0,Ce[0].LabelFormat,Ce[0].labelFormatRepresentation),text:M.PointValues[A].ChartDataLabel.Label?M.PointValues[A].ChartDataLabel.Label:"",tooltip:M.PointValues[A].ToolTip?M.PointValues[A].ToolTip:""}),this.addLegendName(M.PointValues[A].LegendVisibility,B),M.PointValues[A].ActionInfo&&xe.push(M.PointValues[A].ActionInfo),this._setIsDataLabel(M.PointValues[A].ChartDataLabel.Label);"primary"==_e?W.primaryXAxis=this._getChartAxis(be[0],n.IsLabelIndex,"XAxis",M.Type,ee.Chart3D?ee.Chart3D.Enabled:null,M.DataType,"Primary",n.CustomProperties,n.EmbedImageData):(he||(W.axes.push(this._getChartAxis(be[0],n.IsLabelIndex,"XAxis",M.Type,ee.Chart3D?ee.Chart3D.Enabled:null,M.DataType,"Secondary")),he=!0),W.primaryXAxis={visible:!1},ae="XAxis"),"primary"==Se?W.primaryYAxis=this._getChartAxis(Ce[0],n.IsLabelIndex,"YAxis",M.Type,ee.Chart3D?ee.Chart3D.Enabled:null,null,"Primary",n.CustomProperties,n.EmbedImageData):(se||(W.axes.push(this._getChartAxis(Ce[0],n.IsLabelIndex,"YAxis",M.Type,ee.Chart3D?ee.Chart3D.Enabled:null,null,"Secondary")),se=!0),W.primaryYAxis={visible:!1},de="YAxis"),W.series.push({trendlines:O,points:fe,type:"splinerangearea",name:B,xAxisName:ae,yAxisName:de,visibility:M.Visibility?"visible":"hide"}),ej.isNullOrUndefined(M.DataType)||"DateTime"!=M.DataType||null==M.LanguagesDateFormat||null==be[0].LabelFormat||this.chartLoadEvent(W,M.LanguagesDateFormat.Culture,M.LanguagesDateFormat.DateFormat),M.PointValues.length>0&&M.PointValues[0].Style&&M.PointValues[0].Style.Border&&M.PointValues[0].Style.Border.Default&&this._setBorderProp(M.PointValues[0].Style.Border,W.series[pe]),M.DataPointsStyle&&M.DataPointsStyle.length>0&&(W.series[pe].marker=this._getSeriesMarker(M.DataPointsStyle[0],M.Type,T),M.PointValues&&M.PointValues.length>0&&M.PointValues[0].ChartDataLabel&&(W.series[pe].marker.dataLabel=this._getMarkerDataLabel(M.PointValues[0].ChartDataLabel)));break;case"rangebar":case"rangecolumn":for(W.commonSeriesOptions.isTransposed="rangecolumn"!=M.Type,A=0;A<M.PointValues.length;A++)fe.push({x:this._getAxisLabelFormatedValues(M.PointValues[A].X?M.PointValues[A].IsDateX?this._getChartDate(M.PointValues[A].X):M.PointValues[A].X:"",be[0].LabelFormat,be[0].LabelFormatRepresentation),low:M.PointValues[A].Low?M.PointValues[A].Low:0,high:this._getAxisLabelFormatedValues(M.PointValues[A].High?M.PointValues[A].High:0,Ce[0].LabelFormat,Ce[0].labelFormatRepresentation),text:M.PointValues[A].ChartDataLabel.Label?M.PointValues[A].ChartDataLabel.Label:"",tooltip:M.PointValues[A].ToolTip?M.PointValues[A].ToolTip:""}),this.addLegendName(M.PointValues[A].LegendVisibility,B),M.PointValues[A].ActionInfo&&xe.push(M.PointValues[A].ActionInfo),this._setIsDataLabel(M.PointValues[A].ChartDataLabel.Label);"primary"==_e?W.primaryXAxis=this._getChartAxis(be[0],n.IsLabelIndex,"XAxis",M.Type,ee.Chart3D?ee.Chart3D.Enabled:null,M.DataType,"Primary",n.CustomProperties,n.EmbedImageData):(he||(W.axes.push(this._getChartAxis(be[0],n.IsLabelIndex,"XAxis",M.Type,ee.Chart3D?ee.Chart3D.Enabled:null,M.DataType,"Secondary")),he=!0),W.primaryXAxis={visible:!1},ae="XAxis"),"primary"==Se?W.primaryYAxis=this._getChartAxis(Ce[0],n.IsLabelIndex,"YAxis",M.Type,ee.Chart3D?ee.Chart3D.Enabled:null,null,"Primary",n.CustomProperties,n.EmbedImageData):(se||(W.axes.push(this._getChartAxis(Ce[0],n.IsLabelIndex,"YAxis",M.Type,ee.Chart3D?ee.Chart3D.Enabled:null,null,"Secondary")),se=!0),W.primaryYAxis={visible:!1},de="YAxis"),W.series.push({trendlines:O,points:fe,type:"rangecolumn",name:B,xAxisName:ae,yAxisName:de,visibility:M.Visibility?"visible":"hide"}),V=W.primaryYAxis&&"datetime"===W.primaryYAxis.valueType&&"seconds"===W.primaryYAxis.intervalType,ej.isNullOrUndefined(M.DataType)||"DateTime"!=M.DataType||null==M.LanguagesDateFormat||null==be[0].LabelFormat?V&&this.chartLoadEvent(W,null,null,V):this.chartLoadEvent(W,M.LanguagesDateFormat.Culture,M.LanguagesDateFormat.DateFormat,V),M.PointValues.length>0&&M.PointValues[0].Style&&M.PointValues[0].Style.Border&&M.PointValues[0].Style.Border.Default&&this._setBorderProp(M.PointValues[0].Style.Border,W.series[pe]),M.DataPointsStyle&&M.DataPointsStyle.length>0&&(W.series[pe].marker=this._getSeriesMarker(M.DataPointsStyle[0],M.Type,T),M.PointValues&&M.PointValues.length>0&&M.PointValues[0].ChartDataLabel&&(W.series[pe].marker.dataLabel=this._getMarkerDataLabel(M.PointValues[0].ChartDataLabel)));break;case"boxplot":for(A=0;A<M.PointValues.length;A++)F=[M.PointValues[A].High,M.PointValues[A].Low,M.PointValues[A].Start,M.PointValues[A].End,M.PointValues[A].Mean,M.PointValues[A].Median],fe.push({x:this._getAxisLabelFormatedValues(M.PointValues[A].X?M.PointValues[A].IsDateX?this._getChartDate(M.PointValues[A].X):M.PointValues[A].X:"",be[0].LabelFormat,be[0].LabelFormatRepresentation),y:this._getAxisLabelFormatedValues(F),text:M.PointValues[A].ChartDataLabel.Label?M.PointValues[A].ChartDataLabel.Label:"",tooltip:M.PointValues[A].ToolTip?M.PointValues[A].ToolTip:""}),this.addLegendName(M.PointValues[A].LegendVisibility,B),M.PointValues[A].ActionInfo&&xe.push(M.PointValues[A].ActionInfo),this._setIsDataLabel(M.PointValues[A].ChartDataLabel.Label);W.loaded=$.proxy(this._boxplotLoaded,this,C[0].id),"primary"==_e?W.primaryXAxis=this._getChartAxis(be[0],n.IsLabelIndex,"XAxis",M.Type,ee.Chart3D?ee.Chart3D.Enabled:null,M.DataType,"Primary",n.CustomProperties,n.EmbedImageData):(he||(W.axes.push(this._getChartAxis(be[0],n.IsLabelIndex,"XAxis",M.Type,ee.Chart3D?ee.Chart3D.Enabled:null,M.DataType,"Secondary")),he=!0),W.primaryXAxis={visible:!1},ae="XAxis"),"primary"==Se?W.primaryYAxis=this._getChartAxis(Ce[0],n.IsLabelIndex,"YAxis",M.Type,ee.Chart3D?ee.Chart3D.Enabled:null,null,"Primary",n.CustomProperties,n.EmbedImageData):(se||(W.axes.push(this._getChartAxis(Ce[0],n.IsLabelIndex,"YAxis",M.Type,ee.Chart3D?ee.Chart3D.Enabled:null,null,"Secondary")),se=!0),W.primaryYAxis={visible:!1},de="YAxis"),W.series.push({trendlines:O,points:fe,type:"boxandwhisker",boxPlotMode:"exclusive",name:B,xAxisName:ae,yAxisName:de,visibility:M.Visibility?"visible":"hide"}),M.PointValues.length>0&&M.PointValues[0].Style&&M.PointValues[0].Style.Border&&M.PointValues[0].Style.Border.Default&&this._setBorderProp(M.PointValues[0].Style.Border,W.series[pe]),M.DataPointsStyle&&M.DataPointsStyle.length>0&&(W.series[pe].marker=this._getSeriesMarker(M.DataPointsStyle[0],M.Type,T),M.PointValues&&M.PointValues.length>0&&M.PointValues[0].ChartDataLabel&&(W.series[pe].marker.dataLabel=this._getMarkerDataLabel(M.PointValues[0].ChartDataLabel)));break;case"rangestock":for(A=0;A<M.PointValues.length;A++)fe.push({x:this._getAxisLabelFormatedValues(M.PointValues[A].X?M.PointValues[A].IsDateX?this._getChartDate(M.PointValues[A].X):M.PointValues[A].X:"",be[0].LabelFormat,be[0].LabelFormatRepresentation),low:M.PointValues[A].Low?M.PointValues[A].Low:0,high:this._getAxisLabelFormatedValues(M.PointValues[A].High?M.PointValues[A].High:0,Ce[0].LabelFormat,Ce[0].labelFormatRepresentation),open:M.PointValues[A].Start?M.PointValues[A].Start:0,close:M.PointValues[A].End?M.PointValues[A].End:0,text:M.PointValues[A].ChartDataLabel.Label?M.PointValues[A].ChartDataLabel.Label:"",tooltip:M.PointValues[A].ToolTip?M.PointValues[A].ToolTip:""}),this.addLegendName(M.PointValues[A].LegendVisibility,B),M.PointValues[A].ActionInfo&&xe.push(M.PointValues[A].ActionInfo),this._setIsDataLabel(M.PointValues[A].ChartDataLabel.Label);"primary"==_e?W.primaryXAxis=this._getChartAxis(be[0],n.IsLabelIndex,"XAxis",M.Type,ee.Chart3D?ee.Chart3D.Enabled:null,M.DataType,"Primary",n.CustomProperties,n.EmbedImageData):(he||(W.axes.push(this._getChartAxis(be[0],n.IsLabelIndex,"XAxis",M.Type,ee.Chart3D?ee.Chart3D.Enabled:null,M.DataType,"Secondary")),he=!0),W.primaryXAxis={visible:!1},ae="XAxis"),"primary"==Se?W.primaryYAxis=this._getChartAxis(Ce[0],n.IsLabelIndex,"YAxis",M.Type,ee.Chart3D?ee.Chart3D.Enabled:null,null,"Primary",n.CustomProperties,n.EmbedImageData):(se||(W.axes.push(this._getChartAxis(Ce[0],n.IsLabelIndex,"YAxis",M.Type,ee.Chart3D?ee.Chart3D.Enabled:null,null,"Secondary")),se=!0),W.primaryYAxis={visible:!1},de="YAxis"),W.series.push({trendlines:O,points:fe,type:"hiloopenclose",name:B,xAxisName:ae,yAxisName:de,visibility:M.Visibility?"visible":"hide"}),V=W.primaryYAxis&&"datetime"===W.primaryYAxis.valueType&&"seconds"===W.primaryYAxis.intervalType,ej.isNullOrUndefined(M.DataType)||"DateTime"!=M.DataType||null==M.LanguagesDateFormat||null==be[0].LabelFormat?V&&this.chartLoadEvent(W,null,null,V):this.chartLoadEvent(W,M.LanguagesDateFormat.Culture,M.LanguagesDateFormat.DateFormat,V),M.PointValues.length>0&&M.PointValues[0].Style&&M.PointValues[0].Style.Border&&M.PointValues[0].Style.Border.Default&&this._setBorderProp(M.PointValues[0].Style.Border,W.series[pe]),M.DataPointsStyle&&M.DataPointsStyle.length>0&&(W.series[pe].marker=this._getSeriesMarker(M.DataPointsStyle[0],M.Type,T),M.PointValues&&M.PointValues.length>0&&M.PointValues[0].ChartDataLabel&&(W.series[pe].marker.dataLabel=this._getMarkerDataLabel(M.PointValues[0].ChartDataLabel)));break;case"candlestick":for(A=0;A<M.PointValues.length;A++)fe.push({x:this._getAxisLabelFormatedValues(M.PointValues[A].X?M.PointValues[A].IsDateX?this._getChartDate(M.PointValues[A].X):M.PointValues[A].X:"",be[0].LabelFormat,be[0].LabelFormatRepresentation),low:M.PointValues[A].Low?M.PointValues[A].Low:0,high:this._getAxisLabelFormatedValues(M.PointValues[A].High?M.PointValues[A].High:0,Ce[0].LabelFormat,Ce[0].labelFormatRepresentation),open:M.PointValues[A].Start?M.PointValues[A].Start:0,close:M.PointValues[A].End?M.PointValues[A].End:0,text:M.PointValues[A].ChartDataLabel.Label?M.PointValues[A].ChartDataLabel.Label:"",tooltip:M.PointValues[A].ToolTip?M.PointValues[A].ToolTip:""}),this.addLegendName(M.PointValues[A].LegendVisibility,B),M.PointValues[A].ActionInfo&&xe.push(M.PointValues[A].ActionInfo),this._setIsDataLabel(M.PointValues[A].ChartDataLabel.Label);"primary"==_e?W.primaryXAxis=this._getChartAxis(be[0],n.IsLabelIndex,"XAxis",M.Type,ee.Chart3D?ee.Chart3D.Enabled:null,M.DataType,"Primary",n.CustomProperties,n.EmbedImageData):(he||(W.axes.push(this._getChartAxis(be[0],n.IsLabelIndex,"XAxis",M.Type,ee.Chart3D?ee.Chart3D.Enabled:null,M.DataType,"Secondary")),he=!0),W.primaryXAxis={visible:!1},ae="XAxis"),"primary"==Se?W.primaryYAxis=this._getChartAxis(Ce[0],n.IsLabelIndex,"YAxis",M.Type,ee.Chart3D?ee.Chart3D.Enabled:null,null,"Primary",n.CustomProperties,n.EmbedImageData):(se||(W.axes.push(this._getChartAxis(Ce[0],n.IsLabelIndex,"YAxis",M.Type,ee.Chart3D?ee.Chart3D.Enabled:null,null,"Secondary")),se=!0),W.primaryYAxis={visible:!1},de="YAxis"),W.series.push({trendlines:O,points:fe,type:"candle",name:B,xAxisName:ae,yAxisName:de,visibility:M.Visibility?"visible":"hide"}),V=W.primaryYAxis&&"datetime"===W.primaryYAxis.valueType&&"seconds"===W.primaryYAxis.intervalType,ej.isNullOrUndefined(M.DataType)||"DateTime"!=M.DataType||null==M.LanguagesDateFormat||null==be[0].LabelFormat?V&&this.chartLoadEvent(W,null,null,V):this.chartLoadEvent(W,M.LanguagesDateFormat.Culture,M.LanguagesDateFormat.DateFormat,V),M.PointValues.length>0&&M.PointValues[0].Style&&M.PointValues[0].Style.Border&&M.PointValues[0].Style.Border.Default&&this._setBorderProp(M.PointValues[0].Style.Border,W.series[pe]),M.DataPointsStyle&&M.DataPointsStyle.length>0&&(W.series[pe].marker=this._getSeriesMarker(M.DataPointsStyle[0],M.Type,T),M.PointValues&&M.PointValues.length>0&&M.PointValues[0].ChartDataLabel&&(W.series[pe].marker.dataLabel=this._getMarkerDataLabel(M.PointValues[0].ChartDataLabel)));break;case"errorbar":for(A=0;A<M.PointValues.length;A++)fe.push({x:this._getAxisLabelFormatedValues(M.PointValues[A].X?M.PointValues[A].IsDateX?this._getChartDate(M.PointValues[A].X):M.PointValues[A].X:"",be[0].LabelFormat,be[0].LabelFormatRepresentation),y:this._getAxisLabelFormatedValues(M.PointValues[A].IsDateY?this._getChartDate(M.PointValues[A].Y):M.PointValues[A].Y,Ce[0].LabelFormat,Ce[0].LabelFormatRepresentation),text:M.PointValues[A].ChartDataLabel.Label?M.PointValues[A].ChartDataLabel.Label:"",tooltip:M.PointValues[A].ToolTip?M.PointValues[A].ToolTip:""}),this.addLegendName(M.PointValues[A].LegendVisibility,B),M.PointValues[A].ActionInfo&&xe.push(M.PointValues[A].ActionInfo),this._setIsDataLabel(M.PointValues[A].ChartDataLabel.Label);"primary"==_e?W.primaryXAxis=this._getChartAxis(be[0],n.IsLabelIndex,"XAxis",M.Type,ee.Chart3D?ee.Chart3D.Enabled:null,M.DataType,"Primary",n.CustomProperties,n.EmbedImageData):(he||(W.axes.push(this._getChartAxis(be[0],n.IsLabelIndex,"XAxis",M.Type,ee.Chart3D?ee.Chart3D.Enabled:null,M.DataType,"Secondary")),he=!0),W.primaryXAxis={visible:!1},ae="XAxis"),"primary"==Se?W.primaryYAxis=this._getChartAxis(Ce[0],n.IsLabelIndex,"YAxis",M.Type,ee.Chart3D?ee.Chart3D.Enabled:null,null,"Primary",n.CustomProperties,n.EmbedImageData):(se||(W.axes.push(this._getChartAxis(Ce[0],n.IsLabelIndex,"YAxis",M.Type,ee.Chart3D?ee.Chart3D.Enabled:null,null,"Secondary")),se=!0),W.primaryYAxis={visible:!1},de="YAxis"),W.series.push({trendlines:O,points:fe,type:"scatter",errorBar:{visibility:"visible",type:"percentage"},name:B,xAxisName:ae,yAxisName:de,visibility:M.Visibility?"visible":"hide"}),V=W.primaryYAxis&&"datetime"===W.primaryYAxis.valueType&&"seconds"===W.primaryYAxis.intervalType,ej.isNullOrUndefined(M.DataType)||"DateTime"!=M.DataType||null==M.LanguagesDateFormat||null==be[0].LabelFormat?V&&this.chartLoadEvent(W,null,null,V):this.chartLoadEvent(W,M.LanguagesDateFormat.Culture,M.LanguagesDateFormat.DateFormat,V),M.PointValues.length>0&&M.PointValues[0].Style&&M.PointValues[0].Style.Border&&M.PointValues[0].Style.Border.Default&&this._setBorderProp(M.PointValues[0].Style.Border,W.series[pe]),M.DataPointsStyle&&M.DataPointsStyle.length>0&&(W.series[pe].marker=this._getSeriesMarker(M.DataPointsStyle[0],M.Type,T),M.PointValues&&M.PointValues.length>0&&M.PointValues[0].ChartDataLabel&&(W.series[pe].marker.dataLabel=this._getMarkerDataLabel(M.PointValues[0].ChartDataLabel)));break;case"scatter":for(A=0;A<M.PointValues.length;A++)fe.push({fill:null!=M.PointValues[A].Style&&null!=M.PointValues[A].Style.Color?this._getSeriesColor(M.PointValues[A],re,n.PaletteColors):null,x:this._getAxisLabelFormatedValues(M.PointValues[A].X?M.PointValues[A].IsDateX?this._getChartDate(M.PointValues[A].X):M.PointValues[A].X:"",be[0].LabelFormat,be[0].LabelFormatRepresentation),y:this._getAxisLabelFormatedValues(M.PointValues[A].IsDateY?this._getChartDate(M.PointValues[A].Y):M.PointValues[A].Y,Ce[0].LabelFormat,Ce[0].LabelFormatRepresentation),text:M.PointValues[A].ChartDataLabel.Label?M.PointValues[A].ChartDataLabel.Label:"",tooltip:M.PointValues[A].ToolTip?M.PointValues[A].ToolTip:""}),this.addLegendName(M.PointValues[A].LegendVisibility,B),M.PointValues[A].ActionInfo&&xe.push(M.PointValues[A].ActionInfo),this._setIsDataLabel(M.PointValues[A].ChartDataLabel.Label);"primary"==_e?W.primaryXAxis=this._getChartAxis(be[0],n.IsLabelIndex,"XAxis",M.Type,ee.Chart3D?ee.Chart3D.Enabled:null,M.DataType,"Primary",n.CustomProperties,n.EmbedImageData):(he||(W.axes.push(this._getChartAxis(be[0],n.IsLabelIndex,"XAxis",M.Type,ee.Chart3D?ee.Chart3D.Enabled:null,M.DataType,"Secondary")),he=!0),ae="XAxis"),"primary"==Se?W.primaryYAxis=this._getChartAxis(Ce[0],n.IsLabelIndex,"YAxis",M.Type,ee.Chart3D?ee.Chart3D.Enabled:null,null,"Primary",n.CustomProperties,n.EmbedImageData):(se||(W.axes.push(this._getChartAxis(Ce[0],n.IsLabelIndex,"YAxis",M.Type,ee.Chart3D?ee.Chart3D.Enabled:null,null,"Secondary")),se=!0),de="YAxis"),W.series.push({trendlines:O,points:fe,type:"scatter",name:B,xAxisName:ae,yAxisName:de,visibility:M.Visibility?"visible":"hidden"}),V=W.primaryYAxis&&"datetime"===W.primaryYAxis.valueType&&"seconds"===W.primaryYAxis.intervalType,ej.isNullOrUndefined(M.DataType)||"DateTime"!=M.DataType||null==M.LanguagesDateFormat||null==be[0].LabelFormat?V&&this.chartLoadEvent(W,null,null,V):this.chartLoadEvent(M.LanguagesDateFormat.Culture,M.LanguagesDateFormat.DateFormat,V),M.PointValues.length>0&&M.PointValues[0].Style&&M.PointValues[0].Style.Border&&M.PointValues[0].Style.Border.Default&&this._setBorderProp(M.PointValues[0].Style.Border,W.series[pe]),M.DataPointsStyle&&M.DataPointsStyle.length>0&&(W.series[pe].marker=this._getSeriesMarker(M.DataPointsStyle[0],M.Type,T),M.PointValues&&M.PointValues.length>0&&M.PointValues[0].ChartDataLabel&&(W.series[pe].marker.dataLabel=this._getMarkerDataLabel(M.PointValues[0].ChartDataLabel)));break;case"bubble":for(A=0;A<M.PointValues.length;A++)fe.push({fill:null!=M.PointValues[A].Style&&null!=M.PointValues[A].Style.Color?this._getSeriesColor(M.PointValues[A],re,n.PaletteColors):null,x:this._getAxisLabelFormatedValues(M.PointValues[A].X?M.PointValues[A].IsDateX?this._getChartDate(M.PointValues[A].X):M.PointValues[A].X:"",be[0].LabelFormat,be[0].LabelFormatRepresentation),y:this._getAxisLabelFormatedValues(M.PointValues[A].IsDateY?this._getChartDate(M.PointValues[A].Y):M.PointValues[A].Y,Ce[0].LabelFormat,Ce[0].LabelFormatRepresentation),size:M.PointValues[A].Size?M.PointValues[A].Size:.5,text:M.PointValues[A].ChartDataLabel.Label?M.PointValues[A].ChartDataLabel.Label:"",tooltip:M.PointValues[A].ToolTip?M.PointValues[A].ToolTip:""}),this.addLegendName(M.PointValues[A].LegendVisibility,B),M.PointValues[A].ActionInfo&&xe.push(M.PointValues[A].ActionInfo),this._setIsDataLabel(M.PointValues[A].ChartDataLabel.Label);W.series.push({trendlines:O,points:fe,type:"bubble",name:B,visibility:M.Visibility?"visible":"hide"}),M.PointValues.length>0&&M.PointValues[0].Style&&M.PointValues[0].Style.Border&&M.PointValues[0].Style.Border.Default&&this._setBorderProp(M.PointValues[0].Style.Border,W.series[pe]),M.DataPointsStyle&&M.DataPointsStyle.length>0&&(W.series[pe].marker=this._getSeriesMarker(M.DataPointsStyle[0],M.Type,T),M.PointValues&&M.PointValues.length>0&&M.PointValues[0].ChartDataLabel&&(W.series[pe].marker.dataLabel=this._getMarkerDataLabel(M.PointValues[0].ChartDataLabel)));break;case"polar":for(A=0;A<M.PointValues.length;A++)fe.push({fill:null!=M.PointValues[A].Style&&null!=M.PointValues[A].Style.Color?this._getSeriesColor(M.PointValues[A],re,n.PaletteColors):null,x:this._getAxisLabelFormatedValues(M.PointValues[A].X?M.PointValues[A].IsDateX?this._getChartDate(M.PointValues[A].X):M.PointValues[A].X:"",be[0].LabelFormat,be[0].LabelFormatRepresentation),y:this._getAxisLabelFormatedValues(M.PointValues[A].IsDateY?this._getChartDate(M.PointValues[A].Y):M.PointValues[A].Y,Ce[0].LabelFormat,Ce[0].LabelFormatRepresentation),text:M.PointValues[A].ChartDataLabel.Label?M.PointValues[A].ChartDataLabel.Label:"",tooltip:M.PointValues[A].ToolTip?M.PointValues[A].ToolTip:""}),this.addLegendName(M.PointValues[A].LegendVisibility,B),M.PointValues[A].ActionInfo&&xe.push(M.PointValues[A].ActionInfo),this._setIsDataLabel(M.PointValues[A].ChartDataLabel.Label);"primary"==Se?W.primaryYAxis=this._getChartAxis(Ce[0],n.IsLabelIndex,"YAxis",M.Type,ee.Chart3D?ee.Chart3D.Enabled:null,null,"Primary",n.CustomProperties,n.EmbedImageData):(se||(W.axes.push(this._getChartAxis(Ce[0],n.IsLabelIndex,"YAxis",M.Type,ee.Chart3D?ee.Chart3D.Enabled:null,null,"Secondary")),se=!0),W.primaryYAxis={visible:!1},de="YAxis"),W.series.push({trendlines:O,points:fe,type:"polar",name:B,yAxisName:de,visibility:M.Visibility?"visible":"hide"}),M.PointValues.length>0&&M.PointValues[0].Style&&M.PointValues[0].Style.Border&&M.PointValues[0].Style.Border.Default&&this._setBorderProp(M.PointValues[0].Style.Border,W.series[pe]),M.DataPointsStyle&&M.DataPointsStyle.length>0&&(W.series[pe].marker=this._getSeriesMarker(M.DataPointsStyle[0],M.Type,T),M.PointValues&&M.PointValues.length>0&&M.PointValues[0].ChartDataLabel&&(W.series[pe].marker.dataLabel=this._getMarkerDataLabel(M.PointValues[0].ChartDataLabel)));break;case"radar":for(A=0;A<M.PointValues.length;A++)fe.push({fill:null!=M.PointValues[A].Style&&null!=M.PointValues[A].Style.Color?this._getSeriesColor(M.PointValues[A],re,n.PaletteColors):null,x:this._getAxisLabelFormatedValues(M.PointValues[A].X?M.PointValues[A].IsDateX?this._getChartDate(M.PointValues[A].X):M.PointValues[A].X:"",be[0].LabelFormat,be[0].LabelFormatRepresentation),y:this._getAxisLabelFormatedValues(M.PointValues[A].IsDateY?this._getChartDate(M.PointValues[A].Y):M.PointValues[A].Y,Ce[0].LabelFormat,Ce[0].LabelFormatRepresentation),text:M.PointValues[A].ChartDataLabel.Label?M.PointValues[A].ChartDataLabel.Label:"",tooltip:M.PointValues[A].ToolTip?M.PointValues[A].ToolTip:""}),this.addLegendName(M.PointValues[A].LegendVisibility,B),M.PointValues[A].ActionInfo&&xe.push(M.PointValues[A].ActionInfo),this._setIsDataLabel(M.PointValues[A].ChartDataLabel.Label);"primary"==Se?(W.primaryYAxis=this._getChartAxis(Ce[0],n.IsLabelIndex,"YAxis",M.Type,ee.Chart3D?ee.Chart3D.Enabled:null,null,"Primary",n.CustomProperties,n.EmbedImageData),W.primaryXAxis={range:{interval:1}}):(se||(W.axes.push(this._getChartAxis(Ce[0],n.IsLabelIndex,"YAxis",M.Type,ee.Chart3D?ee.Chart3D.Enabled:null,null,"Secondary")),se=!0),W.primaryYAxis={visible:!1},de="YAxis"),W.series.push({trendlines:O,points:fe,type:"radar",drawType:"area",name:B,yAxisName:de,visibility:M.Visibility?"visible":"hide"}),M.PointValues.length>0&&M.PointValues[0].Style&&M.PointValues[0].Style.Border&&M.PointValues[0].Style.Border.Default&&this._setBorderProp(M.PointValues[0].Style.Border,W.series[pe]),M.DataPointsStyle&&M.DataPointsStyle.length>0&&(W.series[pe].marker=this._getSeriesMarker(M.DataPointsStyle[0],M.Type,T),M.PointValues&&M.PointValues.length>0&&M.PointValues[0].ChartDataLabel&&(W.series[pe].marker.dataLabel=this._getMarkerDataLabel(M.PointValues[0].ChartDataLabel)));break;case"explodeddoughnut":for(A=0;A<M.PointValues.length;A++)null!=M.PointValues[A].Y&&M.PointValues[A].Y!=undefined&&(z=this._getSeriesColor(M.PointValues[A],re,n.PaletteColors),M.PointValues[A].Y&&fe.push({x:this._getAxisLabelFormatedValues(M.PointValues[A].X?M.PointValues[A].IsDateX?this._getChartDate(M.PointValues[A].X):M.PointValues[A].X:"",be[0].LabelFormat,be[0].LabelFormatRepresentation),y:this._getAxisLabelFormatedValues(M.PointValues[A].Y,Ce[0].LabelFormat,Ce[0].LabelFormatRepresentation),fill:z,text:M.PointValues[A].ChartDataLabel.Label?M.PointValues[A].ChartDataLabel.Label:"",tooltip:M.PointValues[A].ToolTip?M.PointValues[A].ToolTip:""}),this.addLegendName(M.PointValues[A].LegendVisibility,M.PointValues[A].X),M.PointValues[A].Style&&M.PointValues[A].Style.Border&&M.PointValues[A].Style.Border.Default&&this._setBorderProp(M.PointValues[A].Style.Border,fe[A]),M.PointValues[A].ActionInfo&&xe.push(M.PointValues[A].ActionInfo)),this._setIsDataLabel(M.PointValues[A].ChartDataLabel.Label);W.series.push({trendlines:O,startAngle:90,points:fe,type:"doughnut",explodeAll:!0,name:B,visibility:M.Visibility?"visible":"hide"}),M.PointValues&&M.PointValues.length>0&&M.PointValues[0].ChartDataLabel&&(W.series[pe].marker={dataLabel:this._getMarkerDataLabel(M.PointValues[0].ChartDataLabel)})}M.Legend&&!ej.isNullOrUndefined(Q)&&"true"==Q.toLowerCase()&&(W.series[T].visibleOnLegend=M.Legend.Visibility?"visible":"hidden"),W.series.length>0&&(M.PointValues.length>0&&(W.series[pe].fill=this._getSeriesColor(M.PointValues[0],re,n.PaletteColors),M.PointValues[0].Style&&M.PointValues[0].Style.Border&&M.PointValues[0].Style.Border.Default&&(W.series[pe].width=M.PointValues[0].Style.Border.Default.Thickness)),xe.length>0&&(W.pointRegionClick=this._drillThroughClick,W.ejreportid=this._id,C.setAttribute(C.id+"actionObj_Series"+T,JSON.stringify(xe)),W.pointRegionMouseMove=this._chartSeriesMouseHover),this._updateSmartLabel(W,pe,M,M.Type))}$("#"+C.id).ejChart(W)}}else if(n.NoRowModel&&n.ChartNoDataMessage){W={series:[],chartArea:{border:{width:0}},isResponsive:!0,enableCanvasRendering:h},oe=this._controlKeyGenerator(this._id+"_"+(null!=n.ItemName?n.ItemName:n.Name),w,v,a);var Pe=this._buildTag("div",null,n.ToolTip,{id:oe});return this._appendChild(_,Pe),this._setTagStyle(Pe,{position:r&&u.height?"relative":"absolute",top:n.Top+"px",left:n.Left+"px",width:n.Width+"px",height:n.Height+"px","-webkit-box-sizing":"border-box","-moz-box-sizing":"border-box","box-sizing":"border-box"}),n.ChartStyle&&n.ChartStyle.Border&&this._applyBorderStyle(n.ChartStyle.Border,Pe),N=this._buildTag("div",null,n.ToolTip,{id:t+"_"+this._id+"_"+(null!=n.ItemName?n.ItemName:n.Name)+"_"+n.ChartNoDataMessage.Name+(v?"_"+a:"")}),v||this._dataVisualization.push({name:null!=n.ItemName?n.ItemName:n.Name,id:N.id,type:"ChartModel"}),N.style.height=n.Height+"px",this._appendChild(Pe,N),n.ChartTiles&&n.ChartTiles.length>0&&n.ChartTiles[0].Visible&&(W.title=this._getChartTitle(n.ChartTiles[0])),null==W.title||null!=W.title&&""==W.title.text?W.title=this._getChartTitle(n.ChartNoDataMessage):W.title.subTitle=this._getChartTitle(n.ChartNoDataMessage),W.primaryXAxis={},W.primaryXAxis.visible=!1,W.primaryXAxis.majorGridLines={},W.primaryXAxis.majorGridLines.visible=!1,W.primaryYAxis={},W.primaryYAxis.visible=!1,W.primaryYAxis.majorGridLines={},W.primaryYAxis.majorGridLines.visible=!1,void $("#"+N.id).ejChart(W)}},_setIsDataLabel:function(n){!this._isDataLabel&&n&&(this._isDataLabel=!0)},_getAxisLabelFormatedValues:function(n,c,r){if(!ej.isNullOrUndefined(n)&&"#,0,,;(#,0,,)"==c)return n/1e6;if(!ej.isNullOrUndefined(n)&&!ej.isNullOrUndefined(r)){if("Thousands"==r)return n/1e3;if("Millions"==r)return n/1e6;if("Billions"==r)return n/1e9}return n},_update3DChartProperties:function(n,c,r,u){n.enable3D=c.Chart3D.Enabled,n.enableRotation=c.Chart3D.Enabled,n.depth=c.Chart3D.DepthRatio,n.crosshair={visible:!0},n.rotation=c.Chart3D.Rotation,n.loaded=$.proxy(this._chartLoaded,this),n.chartMouseMove=$.proxy(this._chartMouseMove,this);var _=this._getCustomPropertyValue(r.CustomProperties,"tilt"),w=this._getCustomPropertyValue(r.CustomProperties,"columnwidth");null!=_&&(n.tilt=_),null!=w&&(n.commonSeriesOptions.columnWidth=w),this._isShapeChartType(u)||(n.perspectiveAngle=c.Chart3D.Perspective,n.wallSize=c.Chart3D.WallThickness)},chartLoadEvent:function(n,c,r,u){u&&this._updateStackingColumn(n),n.load=function(_){var w,v,a,s,h,t,o,l,p,g,b,C,T;if(null!==c||null!==r)for(w=_.model.series.length,v=0;v<w;v++)for(a=_.model.series[v].points.length,s=0;s<a;s++)_.model.series[v].points[s].x=ej.parseDate(_.model.series[v].points[s].x,r,c);else if(!ej.isNullOrUndefined(_.model.series)&&_.model.series.length>0&&-1!=_.model.series[0].type.indexOf("spline")&&null==_.model.primaryYAxis.range.min)for(w=_.model.series.length,v=0;v<w;v++)for(a=_.model.series[v].points.length,s=0;s<a;s++)_.model.series[v].points[s].y>0&&(_.model.primaryYAxis.range.min=0);if(u){var D=_.model.primaryYAxis.range?_.model.primaryYAxis.range:{},L=_.model.series,I=!D.min,R=!D.max;for(I&&(D.min=1/0),R&&(D.max=null),h=0;h<L.length;h++)for(t=L[h].points,o=0;o<t.length;o++)l=new Date(t[o].y),L[h].points[o].y=l,l<D.min&&(D.min=l),"stackingcolumn"===L[h].type?D.max?(D.max=new Date(D.max),D.max.setHours(D.max.getHours()+l.getHours()),D.max.setMinutes(D.max.getMinutes()+l.getMinutes()),D.max.setSeconds(D.max.getSeconds()+l.getSeconds())):D.max=new Date(D.min.getTime()):l>D.max&&(D.max=l);for(D.min=I?new Date(new Date(D.min).setSeconds(new Date(D.min).getSeconds()-10)).toISOString():new Date(D.min).toISOString(),D.max=R?new Date(new Date(D.max).setSeconds(new Date(D.max).getSeconds()+20)).toISOString():new Date(D.max).toISOString(),_.model.primaryYAxis.range=D,p=$.extend(!0,{},L),g=0;g<L.length;g++)if("stackingcolumn"===_.model.series[g].type)for(T=0;T<_.model.series[g].points.length;T++)0===g?(_.model.series[g].points[T].y=new Date(p[g].points[T].y),b=_.model.series[g].points[T].y):((C=new Date(_.model.series[g].points[T].y)).setHours(b.getHours()+C.getHours()),C.setMinutes(b.getMinutes()+C.getMinutes()),C.setSeconds(b.getSeconds()+C.getSeconds()),_.model.series[g].points[T].y=new Date(C.getTime()-b),b=C)}}},_updateStackingColumn:function(n){n.seriesRendering=function(c){"stackingcolumn"===c.model.series[0].type&&c.data.series.name===c.model.series[0].name&&(c.model.series[0].stackedValue.StartValues[0]=new Date(c.model.primaryYAxis.range.min).getTime())},n.toolTipInitialize=function(c){if("stackingcolumn"===c.model.series[0].type){var r=c.data.currentText.split(":",3);r.push(c.model.series[c.data.seriesIndex].points[c.data.pointIndex].YValues[0]),c.data.currentText=r.join(":")}}},legendItemClick:function(n){var c,r;if(n.data.legendItem.LegendItem.Text&&n.data.legendItem.LegendItem.Text.endsWith("Bound")){for(c=n.data.series.visibility,r=0;r<n.model.series.length;r++)n.model.series[r].name.endsWith("Bound")&&(n.model.series[r].visibility="hidden"==c?"visible":"hidden");n.data.series.visibility=c}},legendItemRender:function(n){if(!ej.isNullOrUndefined(this._legendPointNames))for(var c=0;c<this._legendPointNames.length;c++)n.data.legendItem.Text===this._legendPointNames[c]&&(n.data.legendItem.Text="",n.cancel=!0)},addLegendName:function(n,c){ej.isNullOrUndefined(n)||"true"!=n.toLowerCase()||this._legendPointNames.push(c)},_boxplotLoaded:function(n,c){for(var r,u,_=c.model._visibleSeries,w=0;w<_.length;w++)for(r=c.model._visibleSeries[w]._visiblePoints,u=0;u<r.length;u++){var v="#"+n+"_svg_Series"+w+"_Point"+u,a=parseFloat($(v)[0].getAttribute("x")),s=parseFloat($(v)[0].getAttribute("width")),h=r[u].boxPlotLocation[0],t="M "+a+" "+h.Y+" L "+(a+s)+" "+h.Y+" Z",o=document.querySelectorAll(v+"_whisker")[2];o.setAttribute("d",t),o.setAttribute("stroke-dasharray","3,5")}},_chartLoaded:function(n){this._applySeriesBorder(n)},_chartMouseMove:function(n){this._applySeriesBorder(n)},_applySeriesBorder:function(){for(var n,c=$("path[id*='_Region_Series_']").attr("style","stroke-width: 1; stroke: #505050;"),r=0;r<c.length;r++)(n=c[r].getAttribute("d")).indexOf("z")<0&&c[r].setAttribute("d",n+"z")},_updateSmartLabel:function(n,c,r,u){var _,w,v,a,s,h,t,o;if(!ej.isNullOrUndefined(r)){if(_=n.series[c],r.TooltipX||r.TooltipY){if(w=!1,v=!1,_.points&&_.points.length>0)for(w=!0,a=0;a<_.points.length;a++)if(v=!!_.points[a].tooltip,ej.isNullOrUndefined(s=_.points[a].text)||0==s.length){w=!1;break}_.tooltip=v?{format:"#point.tooltip#<br/>",visible:!0}:{format:" "+(null==r.TooltipX?"":r.TooltipX+" : #point.x#<br/>")+(null==r.TooltipY?"":r.TooltipY+" : "+(w?"#point.text#":"#point.y#")),visible:!0}}else _.tooltip={format:" x: #point.x#<br/>y: #point.y#",visible:!0};if(ej.isNullOrUndefined(r.ChartSmartLabel)||r.ChartSmartLabel.Disabled||(n.commonSeriesOptions.enableSmartLabels=!0),!ej.isNullOrUndefined(r.CustomProperties)&&r.CustomProperties.length>0)for(h=0;h<r.CustomProperties.length;h++)t=this._getCustomProp(r.CustomProperties[h],u),!ej.isNullOrUndefined(t)&&!ej.isNullOrUndefined(t.Value)&&t.Value.length>0&&(n.commonSeriesOptions.enableSmartLabels=!0,this._isShapeChartType(u)?(_.labelPosition="OutsideInColumn"===t.Value?"outside":t.Value.toLowerCase(),"pie"==u&&"outside"==n.series[c].labelPosition&&(n.commonSeriesOptions.pieCoefficient=.5),("doughnut"==u||"explodeddoughnut"==u)&&"doughnutradius"==t.Name.toLowerCase()&&(n.series[c].doughnutCoefficient=t.Value)):"labelstyle"==t.Name.toLowerCase()&&(o=this._getPosition(t.Value),_.marker.dataLabel.horizontalTextAlignment=o.horizontalTextAlignment,_.marker.dataLabel.textPosition=o.textPosition),(this._isColumnChartType(u)||this._isBarChartType(u)||this._isRangeChartType(u))&&("pointwidth"==t.Name.toLowerCase()||"pixelpointwidth"==t.Name.toLowerCase())&&(n.series[c].columnWidth=t.Value))}},_getTrendlineType:function(n,c){return"trendlinetype"==n&&("linear"==c||"exponential"==c||"logarithmic"==c||"power"==c||"polynomial"==c||"movingaverage"==c)},_getTrendline:function(n,c,r){for(var u,_={},w=0;w<n.length;w++)switch(u=n[w],u.Name.toLowerCase()){case"trendlinetype":_.type=u.Value;break;case"trendlinecolor":_.fill=u.Value;break;case"enabletrendline":_.visibility="visible";break;case"trendlinelegendtext":_.name=u.Value;break;case"trendlinewidth":_.width=u.Value;break;case"trendlineopacity":_.opacity=u.Value;break;case"trendlinestrokedasharray":_.dashArray=u.Value;break;case"trendlineperiod":_.period=u.Value;break;case"trendlineintercept":_.intercept=u.Value;break;case"trendlineforwardcast":_.forwardForecast=u.Value;break;case"trendlinebackwardcast":_.backwardForecast=u.Value;break;case"trendlinepolynomialorder":_.polynomialOrder=u.Value;break;case"showtrendlinelegend":r&&(_.visibleOnLegend="hidden");break;case"trendlinetooltip":_.tooltip=u.Value}return _},_isShapeChartType:function(n){return"pie"==n||"explodedpie"==n||"doughnut"==n||"explodeddoughnut"==n||"pyramid"==n||"funnel"==n},_isColumnChartType:function(n){return"column"==n||"stackingcolumn"==n||"stackingcolumn100"==n},_isBarChartType:function(n){return"bar"==n||"stackingbar"==n||"stackingbar100"==n},_isRangeChartType:function(n){return"rangecolumn"==n||"rangebar"==n||"rangearea"==n||"rangestock"==n||"errorbar"==n||"candlestick"==n},_is3DChartType:function(n){return"column"==n||"stackingcolumn"==n||"stackingcolumn100"==n||"bar"==n||"stackingbar"==n||"stackingbar100"==n||"pie"==n||"doughnut"==n},_getCustomPropertyValue:function(n,c){if(!ej.isNullOrUndefined(n)&&n.length>0)for(var r=0;r<n.length;r++)if(n[r].Name.toLowerCase()===c.toLowerCase())return n[r].Value;return null},_getCustomProp:function(n,c){switch(c){case"pie":case"explodedpie":case"doughnut":case"explodeddoughnut":if("pielabelstyle"===n.Name.toLowerCase()||"doughnutradius"===n.Name.toLowerCase())return n;case"funnel":if("funnellabelstyle"===n.Name.toLowerCase())return n;case"pyramid":if("pyramidlabelstyle"===n.Name.toLowerCase())return n;case"bar":case"stackingbar":case"stackingbar100":case"column":case"stackingcolumn":case"stackingcolumn100":case"rangecolumn":case"rangebar":case"candlestick":if("pixelpointwidth"===n.Name.toLowerCase()||"barlabelstyle"===n.Name.toLowerCase()||"pointwidth"===n.Name.toLowerCase())return n;case"line":case"spline":case"stepline":case"linewithmarkers":case"splinewithmarkers":case"area":case"splinearea":case"scatter":case"bubble":case"rangearea":case"polar":case"radar":if("labelstyle"===n.Name.toLowerCase())return n}},_setBorderProp:function(n,c){switch(c.border={},n.Default.BorderBrush&&(c.border.color=n.Default.BorderBrush),"None"!=n.Default.BorderStyle?c.border.width=n.Default.Thickness:(c.border.width=0,c.border.color="transparent"),n.Default.BorderStyle){case"Dotted":c.border.dashArray="3,3";break;case"Dashed":c.border.dashArray="10,10";break;case"DashDot":c.border.dashArray="10,10,4,10";break;case"DashDotDot":c.border.dashArray="20,10,4,4,4,10";break;default:c.border.dashArray="0"}},_chartSeriesMouseHover:function(n){if(ej.isNullOrUndefined($("#"+this._id).data(this._id+"actionObj_Series"+n.data.region.SeriesIndex)))return!1;$("#"+this._id+"_svg_Series"+n.data.region.SeriesIndex+"_Point"+n.data.region.Region.PointIndex).css("cursor","pointer")},_getChartTitle:function(n){var c={font:{size:"10pt"},border:{width:1,color:"transparent"},text:"",textAlignment:"",background:"",visible:!1};return n.Caption&&n.Visible&&(c.visible=n.Visible,c.text=n.Caption,c.textAlignment=this._getTextAlignment(n.Position),n.Style&&(c.font.color=n.Style.Color?n.Style.Color:"Black",n.Style.FillStyle&&n.Style.FillStyle.BackgroundColor&&(c.background=n.Style.FillStyle.BackgroundColor),n.Style.Font&&(n.Style.Font.FontFamily&&(c.font.fontFamily=n.Style.Font.FontFamily),n.Style.Font.FontStyle&&(c.font.fontStyle="Default"!==n.Style.Font.FontStyle?n.Style.Font.FontStyle.toLowerCase():""),n.Style.Font.FontWeight&&(c.font.fontWeight=this._getFontWeight(n.Style.Font.FontWeight)),0!=n.Style.Font.FontSize&&(c.font.size=n.Style.Font.FontSize+"px")),n.Style.Border&&this._setBorderProp(n.Style.Border,c))),c},_getFontWeight:function(n){var c="";switch(n){case"Default":default:c="";break;case"Normal":c="regular";break;case"Thin":case"ExtraLight":case"Light":c="lighter";break;case"Bold":case"ExtraBold":case"SemiBold":case"Heavy":c="bold"}return c},_getTextAlignment:function(n){var c;switch(n){case"TopCenter":case"Default":case"Center":default:c="center";break;case"Left":case"TopLeft":case"Near":c="near";break;case"Right":case"TopRight":case"Far":c="far"}return c},_getSeriesMarker:function(n,c,r){var _,u={border:{},size:{},visible:!1};return n.ChartMarker&&(_=n.ChartMarker.MarkerType,u.visible=!0,u.shape="scatter"!==c||"None"!==_&&"Auto"!==_?this._getMarkerType(_):this._getMarkerShape(r),n.ChartMarker.Color&&(u.fill=n.ChartMarker.Color),n.ChartMarker.BorderColor&&(u.border.color=n.ChartMarker.BorderColor),n.ChartMarker.Borderwidth&&(u.border.width=n.ChartMarker.Borderwidth),n.ChartMarker.Size&&(u.size.height=u.size.width=n.ChartMarker.Size)),u},_getMarkerShape:function(n){var c="rectangle";return n%6==0?c="rectangle":n%6==1?c="circle":n%6==2?c="diamond":n%6==3?c="triangle":n%6==4?c="cross":n%6==5&&(c="star"),c},_getMarkerType:function(n){switch(n){case"Auto":case"Square":return"rectangle";case"Circle":return"circle";case"Diamond":return"diamond";case"Triangle":return"triangle";case"Cross":return"cross";case"Star4":case"Star5":case"Star6":case"Star10":return"star";default:return"none"}},_getMarkerDataLabel:function(n){var r,c={connectorLine:{},font:{},border:{},showEdgeLabels:!0};return c.visible=(this._isDataLabel||n.UsExvalueAsLabel)&&n.Visible,n.Visible&&(c.connectorLine.type="line",c.connectorLine.width=.5,c.angle=n.Rotation,c.font.color=n.TextColor?n.TextColor:"Black",n.Font&&(c.font.fontFamily=n.Font.FontFamily,c.font.fontStyle="Default"==n.Font.FontStyle||"Normal"==n.Font.FontStyle?"normal":"italic",c.font.fontWeight="Light"==n.Font.FontWeight?"lighter":n.Font.FontWeight.toLowerCase(),c.font.size=n.Font.FontSize+"px"),n.BorderStyle&&"None"!=n.BorderStyle&&(c.border.color=n.BorderColor,c.border.width=n.BorderWidth?n.BorderWidth:1.333,c.shape="Rectangle"),n.BackGroundColor&&(c.fill=n.BackGroundColor),r=this._getPosition(n.Position),c.horizontalTextAlignment=r.horizontalTextAlignment,c.textPosition=r.textPosition,c.textAnchor=r.textAnchor),c},_getPosition:function(n){var c={y:0};switch(n){case"Auto":case"Top":c.horizontalTextAlignment="center",c.textPosition="top",c.textAnchor="start";break;case"TopLeft":c.horizontalTextAlignment="near",c.textPosition="top",c.textAnchor="start";break;case"TopRight":c.horizontalTextAlignment="far",c.textPosition="top",c.textAnchor="start";break;case"Center":c.horizontalTextAlignment="center",c.textPosition="middle",c.textAnchor="middle",c.y=4;break;case"Left":c.horizontalTextAlignment="near",c.textPosition="middle",c.textAnchor="middle",c.y=4;break;case"Right":c.horizontalTextAlignment="far",c.textPosition="middle",c.textAnchor="middle",c.y=4;break;case"Bottom":c.horizontalTextAlignment="center",c.textPosition="bottom",c.textAnchor="start",c.y=4;break;case"BottomLeft":c.horizontalTextAlignment="near",c.textPosition="bottom",c.textAnchor="start",c.y=4;break;case"BottomRight":c.horizontalTextAlignment="far",c.textPosition="bottom",c.textAnchor="start",c.y=4;break;default:c.horizontalTextAlignment="",c.textPosition="top",c.textAnchor="middle"}return c},_getChartLegend:function(n){var u,c=n.ChartLegends[0],r={shape:"seriestype",enableScrollbar:!1,toggleSeriesVisibility:!0,font:{},border:{},background:"",title:{text:"",textAlignment:"",font:{}}};if(n.CustomProperties&&n.CustomProperties.length>0)for(u=0;u<n.CustomProperties.length;u++){if("enablechartlegendscroller"==n.CustomProperties[u].Name.toLowerCase()&&"true"==n.CustomProperties[u].Value){r.enableScrollbar=!0;break}if("disablelegendinteraction"==n.CustomProperties[u].Name.toLowerCase()&&"true"==n.CustomProperties[u].Value){r.toggleSeriesVisibility=!1;break}if("legendmaxautosize"==n.CustomProperties[u].Name.toLowerCase()&&null!=n.CustomProperties[u].Value){r.legendContainerWidth=n.CustomProperties[u].Value;break}if("legendtextoverflow"==n.CustomProperties[u].Name.toLowerCase()&&null!=n.CustomProperties[u].Value){r.textOverflow=n.CustomProperties[u].Value;break}}if(r.visible=c.Visibilty,c.Alignment&&(r.alignment=c.Alignment),c.Position&&(r.position=c.Position),c.ElementPosition){r.position="custom";var _=c.ElementPosition.Left/100*n.Width,w=c.ElementPosition.Top/100*n.Height,v=c.ElementPosition.Width/100*n.Width,a=c.ElementPosition.Height/100*n.Height;_+v>n.Width&&(_=n.Width-v),w+a>n.Height&&(w=n.Height-a),r.location={x:_,y:w},r.size={width:v.toString(),height:a.toString()}}return c.Style&&(r.font.color=c.Style.Color?c.Style.Color:"gray",c.Style.FillStyle&&c.Style.FillStyle.BackgroundColor&&(r.background=c.Style.FillStyle.BackgroundColor),c.Style.Font&&(c.Style.Font.FontFamily&&(r.font.fontFamily=c.Style.Font.FontFamily),c.Style.Font.FontStyle&&(r.font.fontStyle=c.Style.Font.FontStyle),c.Style.Font.FontWeight&&(r.font.fontWeight=c.Style.Font.FontWeight),0!=c.Style.Font.FontSize&&(r.font.size=c.Style.Font.FontSize+"px")),c.Style.Border&&c.Style.Border.Default&&(c.Style.Border.Default.BorderBrush&&"None"!=c.Style.Border.Default.BorderStyle&&(r.border.color="Default"==c.Style.Border.Default.BorderStyle?"transparent":c.Style.Border.Default.BorderBrush),0!=c.Style.Border.Default.Thickness&&(r.border.width=c.Style.Border.Default.Thickness))),c.LegendTile&&(c.LegendTile.Caption&&(r.title.text=c.LegendTile.Caption),c.LegendTile.Style&&(c.LegendTile.Style.Color&&(r.title.font.color=c.LegendTile.Style.Color),c.LegendTile.Style.Font&&(c.LegendTile.Style.Font.FontFamily&&(r.title.font.fontFamily=c.LegendTile.Style.Font.FontFamily),c.LegendTile.Style.Font.FontStyle&&(r.title.font.fontStyle="Default"!==c.LegendTile.Style.Font.FontStyle?c.LegendTile.Style.Font.FontStyle.toLowerCase():""),c.LegendTile.Style.Font.FontWeight&&(r.title.font.fontWeight=this._getFontWeight(c.LegendTile.Style.Font.FontWeight)),0!=c.LegendTile.Style.Font.FontSize&&(r.title.font.size=c.LegendTile.Style.Font.FontSize+"px"))),c.LegendTile.TileAlignment&&(r.title.textAlignment=this._getTextAlignment(c.LegendTile.TileAlignment))),r},_getSeriesColor:function(n,c,r){var u;return null!=r&&(c.value=c.value<r.length?c.value:0),n.Style&&n.Style.Color?u=n.Style.Color:null!=r&&r.length>0&&(u=r[c.value],c.value++),u},_legendOrder:function(n){n.model.legendCollection.reverse()},_updateStackingColumnTooltip:function(n){("stackingcolumn"===n.model.series[0].type||"stackingcolumn100"===n.model.series[0].type)&&n.model.series[n.data.seriesIndex].points[n.data.pointIndex].tooltip&&(n.data.currentText=n.model.series[n.data.seriesIndex].points[n.data.pointIndex].tooltip)},_applyBackgroundGradientStyle:function(n,c){switch(n.BackgroundGradientType){case"LeftRight":c.style.background="linear-gradient(to right,"+n.BackgroundColor+", "+n.BackgroundGradientEndcolor+")";break;case"TopBottom":c.style.background="linear-gradient("+n.BackgroundColor+", "+n.BackgroundGradientEndcolor+")";break;case"Center":c.style.background="radial-gradient("+n.BackgroundColor+", "+n.BackgroundGradientEndcolor+")";break;case"DiagonalLeft":c.style.background="linear-gradient(to bottom right,"+n.BackgroundColor+", "+n.BackgroundGradientEndcolor+")";break;case"DiagonalRight":c.style.background="linear-gradient(to bottom left,"+n.BackgroundColor+", "+n.BackgroundGradientEndcolor+")";break;case"HorizontalCenter":c.style.background="linear-gradient("+n.BackgroundColor+","+n.BackgroundGradientEndcolor+", "+n.BackgroundColor+")";break;case"VerticalCenter":c.style.background="linear-gradient(90deg,"+n.BackgroundColor+","+n.BackgroundGradientEndcolor+", "+n.BackgroundColor+")"}},_barChartLoad:function(n){var c,r,u;if(!ej.isNullOrUndefined(this.gSeriesEle)){for(this.gSeriesEle.setAttribute("clip-path",""),c=n.model.series,r=0;r<c.length;r++)(u=$(this.gSeriesEle).find("#"+this.svgObject.id+"_TextGroup_"+r))&&u.length>0&&u[0].setAttribute("clip-path","");null!=this.model.viewerInstance&&this.model.viewerInstance._applySeriesBorder()}},_getChartAxis:function(n,c,r,u,_,w,v,a,s){var t,o,l,p,g,b,h={title:{font:{}},font:{},range:{},axisLine:{},alternateGridBand:{},majorGridLines:{},minorGridLines:{},majorTickLines:{},minorTickLines:{},minorTicksPerInterval:{},tickLinesPosition:"",multiLevelLabels:[],stripLine:[],edgeLabelPlacement:"shift"};if(a&&a.length>0)for(p=0;p<a.length;p++)("XAxis"==r&&"XAxisRangePadding"==a[p].Name||"YAxis"==r&&"YAxisRangePadding"==a[p].Name)&&(h.rangePadding=a[p].Value),("XAxis"==r&&"XAxisEdgeLabelPlacement"==a[p].Name||"YAxis"==r&&"YAxisEdgeLabelPlacement"==a[p].Name)&&(h.edgeLabelPlacement=a[p].Value);if(h.font.color=n.LabelColor?n.LabelColor:"gray",n.LabelFont&&(h.font.fontFamily=n.LabelFont.FontFamily,h.font.size=n.HideLabels?"0px":n.LabelFont.FontSize,h.font.fontStyle="Default"==n.LabelFont.FontStyle?"Normal":n.LabelFont.FontStyle,h.font.fontWeight=n.LabelFont.FontWeight),"XAxis"==r&&(h.isIndexed=c,n.CategoryLabel))for(o in h.crosshairLabel={visible:(t=n.CategoryLabel).Enable},h.valueType="category",h.labelBorder={width:1,color:"transparent",type:"none"},h.textAlignment=t.TextAlignment?t.TextAlignment:"center",t.BorderColor&&(h.labelBorder.color=t.BorderColor),t.BorderStyle&&(h.labelBorder.type=t.BorderStyle),t.LabelPoints)for(l=t.LabelPoints[o],p=0;p<l.length;p++)h.multiLevelLabels.push({visible:!0,text:l[p].Text,start:l[p].Start,end:l[p].End,level:o,font:h.font,textAlignment:h.textAlignment,border:h.labelBorder});if(null!=n.ChartStripLines&&n.ChartStripLines.length>0)for(g=n.ChartStripLines.length,b=0;b<g;b++)h.stripLine.push(this._getStripLines(n.ChartStripLines[b],s));return n.ChartAxisTitle&&(n.ChartAxisTitle.Caption&&(h.title.text=n.ChartAxisTitle.Caption),n.ChartAxisTitle.TextColor&&(h.title.font.color=n.ChartAxisTitle.TextColor),n.ChartAxisTitle.Font&&(n.ChartAxisTitle.Font.FontSize&&(h.title.font.size=n.ChartAxisTitle.Font.FontSize),n.ChartAxisTitle.Font.FontFamily&&(h.title.font.fontFamily=n.ChartAxisTitle.Font.FontFamily),n.ChartAxisTitle.Font.FontStyle&&(h.title.font.fontStyle=n.ChartAxisTitle.Font.FontStyle))),(null!=n.Maximum||null!=n.Minimum)&&(h.setRange=!0,h.range.min=n.Minimum,h.range.max=n.Maximum,n.IsDateMin&&(h.range.min=this._getChartDate(n.Minimum)),n.IsDateMax&&(h.range.max=this._getChartDate(n.Maximum))),0!=n.Interval&&(h.setRange=!0,"XAxis"==r&&(h.valueType="category"),h.range.interval=n.Interval),h.labelFormat=n.LabelFormat,"#,0,,;(#,0,,)"==n.LabelFormat&&(h.labelFormat=null),"0\\%"==n.LabelFormat&&(h.labelFormat="{value}%",null==n.Minimum&&(h.range.min=0)),"XAxis"==r||_?"XAxis"==r&&("spline"==u||"line"==u||"stepline"==u)&&(h.labelPlacement="onticks",h.rangePadding="additional"):h.labelPlacement="onticks",n.Interlaced&&n.InterlacedColor&&("#00ffffff"==n.InterlacedColor&&(n.InterlacedColor="transparent"),h.alternateGridBand=n.Interval%2==0?{even:{fill:n.InterlacedColor}}:{odd:{fill:n.InterlacedColor}}),n.ChartMajorGridLines&&(h.majorGridLines=this._getGridLines(n.ChartMajorGridLines)),n.ChartMinorGridLines&&(h.minorGridLines=this._getGridLines(n.ChartMinorGridLines)),n.ChartMajorTickMarks&&(h.majorTickLines=this._getTickMarks(n.ChartMajorTickMarks),h.tickLinesPosition=n.ChartMajorTickMarks.Type.toLowerCase()),n.ChartMinorTickMarks&&(h.minorTickLines=this._getTickMarks(n.ChartMinorTickMarks),h.minorTicksPerInterval=0!=n.ChartMinorTickMarks.Interval?n.ChartMinorTickMarks.Interval:4,h.tickLinesPosition=n.ChartMinorTickMarks.Type.toLowerCase()),null!=n.Labels&&n.Labels.length>0?h.labelIntersectAction="trim":n.LabelsAutoFitEnabled?h.labelIntersectAction=n.PrExventWordWrap&&n.PrExventLabelOffset?"none"!=n.AllowLabelRotation?n.AllowLabelRotation:"trim":n.PrExventLabelOffset?"wrapByWord":"multipleRows":n.Angle?h.labelRotation=n.Angle:h.labelIntersectAction=n.LabelOverFlowMode,n.LineColor&&(h.axisLine.color=n.LineColor),n.LineWidth&&(h.axisLine.width=n.LineWidth),n.HideEndLabels&&(h.edgeLabelPlacement="hide"),h.visible=h.axisLine.visible="True"==n.VisibleStatus||"Auto"==n.VisibleStatus,"None"==n.LineStyle&&(h.axisLine.visible=!1),"XAxis"==r&&(h.valueType=ej.isNullOrUndefined(w)||"DateTime"!=w||null==n.LabelFormat?"category":n.IsDateMin||n.IsDateMax?"datetime":"datetimecategory"),ej.isNullOrUndefined(w)||"DateTime"!=w||"Years"!=n.IntervalType&&"Months"!=n.IntervalType&&"Days"!=n.IntervalType&&"Hours"!=n.IntervalType&&"Minutes"!=n.IntervalType&&"Seconds"!=n.IntervalType&&"Milliseconds"!=n.IntervalType&&"Weeks"!=n.IntervalType||(h.intervalType=n.IntervalType.toLowerCase(),ej.isNullOrUndefined(h.valueType)&&(h.valueType="datetime")),(n.IsDateMin||n.IsDateMax)&&(ej.isNullOrUndefined(h.valueType)&&(h.valueType="datetime"),("Years"==n.IntervalType||"Months"==n.IntervalType||"Days"==n.IntervalType||"Hours"==n.IntervalType||"Minutes"==n.IntervalType||"Seconds"==n.IntervalType||"Milliseconds"==n.IntervalType||"Weeks"==n.IntervalType)&&(h.intervalType=n.IntervalType.toLowerCase())),"Secondary"==v&&(h.opposedPosition=!0,h.name=r),0==n.IncludeZero&&(h.rangePadding="none",h.startFromZero=!1),h},_getStripLines:function(n,c){var r={font:{},visible:!0,zIndex:"behind",start:n.IntervalOffset,width:n.StripWidth,isRepeat:!!(n.Interval&&n.Interval>0),repeatEvery:n.Interval?n.Interval:0,text:n.Title,textAlignment:this._getStripLineTextAlign(n.Style.TextAlign)};return r.sizeType="Default"==n.IntervalType?"auto":"Number"==n.IntervalType?"pixel":n.IntervalType.toLowerCase(),n.Style&&(n.Style.FillStyle&&n.Style.FillStyle.BackgroundColor&&(r.color=n.Style.FillStyle.BackgroundColor),n.BackgroundImg&&(r.imageUrl=c?"data:image/png;base64,"+(this._reportImages[n.BackgroundImg]?this._reportImages[n.BackgroundImg]:n.BackgroundImg):this._getMultiTenantUrl(this.model.reportServiceUrl+"/"+(this.model.printMode?"PrintImage":"GetResource")+"/?key="+n.BackgroundImg+"&resourcetype=sfimg&isPrint="+this.model.printMode,!1)),n.Style.Border&&"Default"!=n.Style.Border.Default.BorderStyle&&"None"!=n.Style.Border.Default.BorderStyle?(n.Style.Border.Default.BorderBrush&&(r.borderColor=n.Style.Border.Default.BorderBrush),0!=n.Style.Border.Default.Thickness&&(r.borderWidth=n.Style.Border.Default.Thickness)):r.borderWidth=0,n.Style.Color&&(r.font.color=n.Style.Color),n.Style.Font&&(n.Style.Font.FontFamily&&(r.font.fontFamily=n.Style.Font.FontFamily),0!=n.Style.Font.FontSize&&(r.font.size=n.Style.Font.FontSize+"px"),n.Style.Font.FontStyle&&(r.font.fontStyle="Default"!==n.Style.Font.FontStyle?n.Style.Font.FontStyle.toLowerCase():""),n.Style.Font.FontWeight&&(r.font.fontWeight=this._getConvertedFontWeight(n.Style.Font.FontWeight)))),r},_getStripLineTextAlign:function(n){switch(n.toLowerCase()){case"left":default:return"middletop";case"center":return"middlecenter";case"right":return"middlebottom"}},_getGridLines:function(n){var c={};return c.visible=n.Enabled,n.Enabled&&n.Style&&n.Style.Default&&(n.Style.Default.BorderBrush&&(c.color=n.Style.Default.BorderBrush),"None"!=n.Style.Default.BorderStyle&&(c.width=n.Style.Default.Thickness),"Dashed"==n.Style.Default.BorderStyle?c.dashArray="2,4":"Dotted"==n.Style.Default.BorderStyle&&(c.dashArray="2,2")),c},_getTickMarks:function(n){var c={};return c.visible=n.Enabled,n.Enabled&&(n.Style&&n.Style.Default&&(n.Style.Default.BorderBrush&&(c.color=n.Style.Default.BorderBrush),n.Style.Default.Thickness&&(c.width=n.Style.Default.Thickness),"None"==n.Style.Default.BorderStyle&&(c.visible=!1)),n.Length&&(c.size=n.Length)),c},_renderImageControl:function(n,c,r,u,_,w){var h,t,o,l,v=this._controlKeyGenerator(this._id+"_"+(null!=n.ItemName?n.ItemName:n.Name),u,_,w),a=this._buildTag("div","e-reportviewer-tab-focus-none",n.ToolTip,{id:v},{tabindex:"0","aria-label":this._getLocaleString("reportItemLabel","Image")+n.Name}),s={};this._appendChild(r,a),s["-webkit-box-sizing"]="border-box",s["-moz-box-sizing"]="border-box",s["box-sizing"]="border-box",s.position=c&&n.IsTablixChild?"relative":"absolute",s.top=n.Top+"px",s.left=n.Left+"px",s.width=n.Width+"px",s.height=n.Height+"px",s.overflow="hidden",s.visibility=n.Hidden?"hidden":"visible",s["padding-left"]=n.PaddingLeft+"px",s["padding-right"]=n.PaddingRight+"px",s["padding-top"]=n.PaddingTop+"px",s["padding-bottom"]=n.PaddingBottom+"px",n.ActionInfo&&(a.setAttribute("actionObj",JSON.stringify(n.ActionInfo)),a.className+=" drillAction_"+this._id+" e-reportviewer-drillhover"),n.Border&&!n.IsTablixChild&&this._applyBorderStyle(n.Border,a),null==n.ExternalImageUrl&&n.EmbedImageData?this._addEmbeddedImage(a,n.ImageWidth,n.ImageHeight,v+"_imgTag",n.ImageUrl):(null!=n.ExternalImageUrl||null!=n.ImageUrl)&&(h=n.ExternalImageUrl?n.ExternalImageUrl:this._getMultiTenantUrl(this.model.reportServiceUrl+"/GetResource/?key="+n.ImageUrl+"&resourcetype=sfimg&isPrint="+_,!1),(t=this._buildTag("img",null,null,{alt:"",id:v+"_imgTag",onload:n.ExternalImageUrl?"ej.ReportViewer.prototype._updateImageScale(this)":"",src:_?"":h,"data-imgUrl":h})).style.width=n.ImageWidth+"px",t.style.height=n.ImageHeight+"px",this._appendChild(a,t),n.Angle&&"0"!=n.Angle&&((o={}).transform="rotate("+(l=n.Angle)+"deg)",o["-webkit-transform"]="rotate("+l+"deg)",o["-ms-transform"]="rotate("+l+"deg)",o["-moz-transform"]="rotate("+l+"deg)",o["-o-transform"]="rotate("+l+"deg)",this._setTagStyle(t,o))),this._setTagStyle(a,s)},_updateImageScale:function(n){if("Uniform"==n.id){var c=Math.min(n.parentNode.offsetWidth/n.naturalWidth,n.parentNode.offsetHeight/n.naturalHeight);n.style.width=n.naturalWidth*c+"px",n.style.height=n.naturalHeight*c+"px"}else"UniformToFill"==n.id&&(n.style.width=n.naturalWidth+"px",n.style.height=n.naturalHeight+"px")},_renderCustomReportItemControl:function(n,c,r,u,_,w){var h,t,v=this._controlKeyGenerator(this._id+"_"+(null!=n.ItemName?n.ItemName:n.Name),u,_,w),a=this._buildTag("div","e-reportviewer-tab-focus-none",n.ToolTip,{id:v},{tabindex:"0","aria-lable":this._getLocaleString("reportItemLabel","Custom")+n.Name}),s={};return this._appendChild(r,a),s["-webkit-box-sizing"]="border-box",s["-moz-box-sizing"]="border-box",s["box-sizing"]="border-box",s.position=c&&n.IsTablixChild?"relative":"absolute",s.top=n.Top+"px",s.left=n.Left+"px",s.width=n.Width+"px",s.height=n.Height+"px",s.overflow="hidden",s.visibility=n.Hidden?"hidden":"visible",s["padding-left"]=n.PaddingLeft+"px",s["padding-right"]=n.PaddingRight+"px",s["padding-top"]=n.PaddingTop+"px",s["padding-bottom"]=n.PaddingBottom+"px",n.ActionInfo&&(a.setAttribute("actionObj",JSON.stringify(n.ActionInfo)),a.className+=" drillAction_"+this._id+" e-reportviewer-drillhover"),n.Border&&!n.IsTablixChild&&this._applyBorderStyle(n.Border,a),n.EmbedImageData?this._addEmbeddedImage(a,n.Width,n.Height,v+"_imgTag",n.ImageUrl):(h=this._getMultiTenantUrl(this.model.reportServiceUrl+"/GetResource/?key="+n.ImageUrl+"&resourcetype=sfimg&isPrint="+_,!1),(t=this._buildTag("img",null,null,{alt:"",id:v+"_imgTag",onload:"",src:_?"":h,"data-imgUrl":h})).width=n.Width,t.height=n.Height,this._appendChild(a,t)),this._setTagStyle(a,s),a},_renderRectangleControl:function(n,c,r,u,_,w,v){var o,l,p,g,a=this._controlKeyGenerator(this._id+"_"+(null!=n.ItemName?n.ItemName:n.Name),u,_,w),s=this._buildTag("div","e-reportviewer-tab-focus-none",n.ToolTip,{id:a},{tabindex:"0","aria-label":this._getLocaleString("reportItemLabel","Rectangle")+n.Name}),h={};if(this._appendChild(r,s),h["-webkit-box-sizing"]="border-box",h["-moz-box-sizing"]="border-box",h["box-sizing"]="border-box",h.position=c?"relative":"absolute",h.top=n.Top+"px",h.left=n.Left+"px",h.width=n.Width+"px",h.height=n.Height+"px",h["background-color"]=n.BackgroundColor,h.visibility=n.Hidden?"hidden":"visible",n.BackgroundImageSrc&&(h["background-image"]=this._getImageDataURL(n.EmbedImageData,_,_?"PrintImage":"GetResource",n.BackgroundImageSrc)),n.BackgroundRepeat&&(h["background-repeat"]=this._getBackgroundRepeat(n.BackgroundRepeat)),n.Border&&!c&&this._applyBorderStyle(n.Border,s),n.IsTablixChild&&n.ReportModels&&n.ReportModels.length>0)for(o=0;o<n.ReportModels.length;o++)(l=n.ReportModels[o])&&(!ej.isNullOrUndefined(l.ErrorInformation)&&l.ErrorInformation.Message?(p=this._renderErrorItemControl(l,!1,_,w,!1),this._appendChild(s,p)):"TextBoxModel"==l.ItemType?this._renderTextBoxControl(l,!1,a+"_"+l.Name,_,w,s):"LineModel"==l.ItemType?(g=this._renderLineControl(l,a+"_"+l.Name,_,w),this._appendChild(s,g)):"ImageModel"==l.ItemType?this._renderImageControl(l,!1,s,a+"_"+l.Name,_,w):"CustomReportItemModel"==l.ItemType?this._renderCustomReportItemControl(l,!1,s,a+"_"+l.Name,_,w):"TablixModel"==l.ItemType?this._renderTablixControl(l,!1,{},s,a+"_"+l.Name,_,w,v):"GaugeModel"==l.ItemType?this._renderGaugeControl(l,!1,!1,{},s,a+"_"+l.Name,_,w):"RectangleModel"==l.ItemType?this._renderRectangleControl(l,!1,s,a+NaN+l.Name,_,w,v):"ChartModel"==l.ItemType?this._renderChartControl(l,!1,!1,{},s,a+"_"+l.Name,_,w):"MapModel"==l.ItemType?this._renderMapControl(l,!1,s,a+"_"+l.Name,_,w):"SubReportModel"==l.ItemType&&this._renderRectangleControl(l,!1,s,a+NaN+l.Name,_,w,v));this._setTagStyle(s,h)},_renderMapControl:function(n,c,r,u,_,w){var a,s,v=n.MapProperties;c&&(this._id=u,n.Top=0,n.Left=0);var t=this._controlKeyGenerator(this._id+"_"+(null!=n.ItemName?n.ItemName:n.Name),u,_,w),o=this._buildTag("div","e-reportviewer-tab-focus-none",v.ToolTip,{id:t},{tabindex:"0","aria-lable":this._getLocaleString("reportItemLabel","Map")+n.Name}),l={"-webkit-box-sizing":"border-box","-moz-box-sizing":"border-box","box-sizing":"border-box"};if(this._appendChild(r,o),l.position="absolute",l.top=n.Top+"px",l.left=n.Left+"px",l.height=n.Height+"px",l.width=n.Width+"px",l.visibility=n.Hidden?"hidden":"visible",n.IsTablixChild&&(l.position="relative"),v.ActionInfo&&(o.className+=" drillAction_"+this._id+" e-reportviewer-drillhover",o.setAttribute("actionObj",JSON.stringify(v.ActionInfo))),v.Border&&this._applyBorderStyle(v.Border,o),this._setTagStyle(o,l),v.MapViewport){var p=v.MapViewport,g=this._buildTag("div","",v.ToolTip,{id:t+"_"+(null!=n.ItemName?n.ItemName:n.Name),width:"100%",height:"100%"},{}),b={};this._appendChild(o,g),(s={}).layers=[{type:"Layer",layerType:"Geometry",shapeData:(a=v.MapPolygonLayers&&v.MapPolygonLayers.length>0?v.MapPolygonLayers[0]:null).MapFields,shapePropertyPath:a.MapBindingFieldPairs?a.MapBindingFieldPairs.FieldName:"name",shapeDataPath:"Value",dataSource:n.MapModelData,highlightSettings:{enable:!1},tooltipSettings:this._getTooltipSettings(a),dataLabelSettings:this._getLabelSettings(a),shapeSettings:this._getShapeSettings(a),markerSettings:this._getMarkerSettings(a,n.MapMarkerData,c),visible:!(!a||!a.MapPolygonTemplate||a.MapPolygonTemplate.Hidden)}],s.height=this._getCalculatedHeight(n.Height,o)+"px",s.width=this._getCalculatedWidth(n.Width,o)+"px",s.background=v.Background.BackgroundColor,s.mapsArea={background:v.Background.BackgroundColor},s.projectionType=this._getMapProjection(p),s.titleSettings=this._getTitleSetting(v.MapTitles),s.legendSettings=this._getLegendSettings(v,s.width,s.height),b.position="relative",this._setTagStyle(g,b),new ejs.maps.Maps(s).appendTo($("#"+g.id)[0])}_||this._dataVisualization.push({name:null!=n.ItemName?n.ItemName:n.Name,id:g.id,type:"MapModel"})},_getCalculatedWidth:function(n,c){return n-("none"!=c.style.borderLeftStyle&&c.style.borderLeftWidth?parseFloat(c.style.borderLeftWidth,10):0)-("none"!=c.style.borderRightStyle&&c.style.borderRightWidth?parseFloat(c.style.borderRightWidth,10):0)},_getCalculatedHeight:function(n,c){return n-("none"!=c.style.borderTopStyle&&c.style.borderTopWidth?parseFloat(c.style.borderTopWidth,10):0)-("none"!=c.style.borderBottomStyle&&c.style.borderBottomWidth?parseFloat(c.style.borderBottomWidth,10):0)},_getTitleSetting:function(n){var r,c=null;return n&&n.length>0&&(c=(r=n[0]).Hidden?{text:""}:{text:r.Text?r.Text:"Map Title",alignment:r.Style.TextAlign?this._getMapTitleAlignment(r.Style.TextAlign):"Left",textStyle:{color:r.Style.TextColor?r.Style.TextColor:"Gray",size:r.Style.Font.FontSize?r.Style.Font.FontSize:"10pt",fontFamily:r.Style.Font.FontFamily?r.Style.Font.FontFamily:"Arial",fontStyle:r.Style.Font.FontStyle?r.Style.Font.FontStyle:"Default",fontWeight:r.Style.Font.FontWeight?this._getConvertedFontWeight(r.Style.Font.FontWeight):"Normal"}}),c},_getMapTitleAlignment:function(n){var c="";switch(n.toLowerCase()){case"center":default:c="Center";break;case"left":c="Near";break;case"right":c="Far"}return c},_getTooltipSettings:function(n){var c=null;return n&&(c={visible:!0,valuePath:"ToolTipPath"}),c},_getShapeSettings:function(n){var c=null;return n&&n.ShapeSettings&&(c={colorMapping:[],colorValuePath:null,valuePath:null,fill:n.MapPolygonTemplate&&n.MapPolygonTemplate.BackGround&&n.MapPolygonTemplate.BackGround.BackgroundColor?n.MapPolygonTemplate.BackGround.BackgroundColor:"#E5E5E5",border:{color:n.MapPolygonTemplate&&n.MapPolygonTemplate.Border&&n.MapPolygonTemplate.Border.BorderBrush?n.MapPolygonTemplate.Border.BorderBrush:"#ffffff",width:n.MapPolygonTemplate&&n.MapPolygonTemplate.Border&&n.MapPolygonTemplate.Border.Thickness?n.MapPolygonTemplate.Border.Thickness:.75}},n&&n.ShapeColorMappings&&n.ShapeColorMappings.length>0&&(c.colorMapping=n.ShapeColorMappings,c.colorValuePath=n.ShapeSettings.ShapeColorValuePath,c.valuePath=n.ShapeSettings.ShapeValuePath)),c},_getMarkerSettings:function(n,c,r){var _,u=[];return n&&n.MapCenterPointTemplate&&c.length>0&&(u=[{visible:!n.MapCenterPointTemplate.Hidden,dataSource:c,latitudeValuePath:"LatitudeValuePath",longitudeValuePath:"LongitudeValuePath",colorValuePath:"Color",shapeValuePath:"MapMarkerStyle",imageUrlValuePath:"ImagePath",animationDuration:r?0:this.model.enableAnimation?1e3:0,width:_=n.MapCenterPointTemplate.Size?n.MapCenterPointTemplate.Size:"10",height:_,border:this._getMarkerBorder(n),tooltipSettings:this._getTooltipSettings(n)}]),u},_getMarkerBorder:function(n){return{color:n.MapCenterPointTemplate.Border&&n.MapCenterPointTemplate.Border.BorderBrush?n.MapCenterPointTemplate.Border.BorderBrush:"#808080",width:n.MapCenterPointTemplate.Border&&n.MapCenterPointTemplate.Border.Thickness?n.MapCenterPointTemplate.Border.Thickness:.75}},_setBubbleSettings:function(n,c){var r=null;return c.MapCenterPointRules&&c.MapCenterPointRules.length>0&&c.MapCenterPointRules.MapSizeRule&&(r={maxRadius:c.BubbleSettings.MaxSize,minRadius:c.BubbleSettings.MinSize,colorValuePath:null==c.BubbleSettings.ColorValuePath?"Value":c.BubbleSettings.ColorValuePath,valuePath:c.BubbleSettings.ValuePath},c.BubbleColorMappings&&c.BubbleColorMappings.length>1&&(r.colorMappings=c.BubbleColorMappings)),r&&(n.layers[0].bubbleSettings=r),n},_getLabelSettings:function(n){if(n&&n.MapPolygonTemplate&&!n.MapPolygonTemplate.Hidden&&n.ShapeSettings){var c=n.MapPolygonTemplate.ShowLabel?"Trim":"None";return{visible:!!n.MapPolygonTemplate.ShowLabel,labelPath:n.ShapeSettings.LabelPath,textStyle:{color:n.MapPolygonTemplate.Style&&n.MapPolygonTemplate.Style.TextColor?n.MapPolygonTemplate.Style.TextColor:"Black",fontFamily:n.MapPolygonTemplate.Style&&n.MapPolygonTemplate.Style.Font&&n.MapPolygonTemplate.Style.Font.FontFamily?n.MapPolygonTemplate.Style.Font.FontFamily:"Arial",fontStyle:n.MapPolygonTemplate.Style&&n.MapPolygonTemplate.Style.Font&&n.MapPolygonTemplate.Style.Font.FontStyle?n.MapPolygonTemplate.Style.Font.FontStyle:"Default",fontWeight:n.MapPolygonTemplate.Style&&n.MapPolygonTemplate.Style.Font&&n.MapPolygonTemplate.Style.Font.FontWeight?this._getConvertedFontWeight(n.MapPolygonTemplate.Style.Font.FontWeight):"Normal",size:n.MapPolygonTemplate.Style&&n.MapPolygonTemplate.Style.Font&&n.MapPolygonTemplate.Style.Font.FontSize?n.MapPolygonTemplate.Style.Font.FontSize:"10pt"},smartLabelMode:c,intersectionAction:c}}},_isValidColorCode:function(n){return/^#[0-9a-fA-F]{6}$/gi.test(n)},_getMapProjection:function(n){var r,c="Mercator";if(n.MapProjection)switch(r=n.MapProjection,r){case"HammerAitoff":c="AitOff";break;case"Fahey":c="Miller";break;case"Eckert1":c="Eckert5";break;case"Bonne":c="Eckert6";break;case"Equirectangular":case"Eckert3":case"Mercator":c=r}return c},_getLegendSettings:function(n,c,r){var _,w,v,u={};return n.MapLegends&&n.MapLegends.length>0&&((_=n.MapLegends[0]).Hidden?u={visible:!1}:(u.visible=!_.Hidden,u.showLegendPath=!0,u.background="LightGrey",_.Position&&(w=this._getMapLegendPosition(_.Position),v=this._getMapLegendSize(w.position,c,r),u.position=w.position,u.orientation="Left"===w.position||"Right"===w.position?"Vertical":"Horizontal",u.alignment=w.alignment,u.width=v.width,u.height=v.height),_.LegendMode&&(u.mode=_.LegendMode?_.LegendMode:"Default","Interactive"===_.LegendMode&&("Vertical"===u.orientation?(u.height="70%",u.width="10"):(u.height="10",u.width=""))),_.BackGround&&_.BackGround.BackgroundColor&&(u.background=_.BackGround.BackgroundColor.startsWith("#")&&!this._isValidColorCode(_.BackGround.BackgroundColor)?"LightGrey":_.BackGround.BackgroundColor),_.Border&&"None"!=_.Border.BorderStyle&&(u.border={},_.Border.BorderBrush&&(u.border.color=_.Border.BorderBrush),0!=_.Border.Thickness&&(u.border.width=_.Border.Thickness)),_.Style&&(u.textStyle={},u.textStyle.color=_.Style.TextColor?_.Style.TextColor:"Black",_.Style.Font&&(_.Style.Font.FontFamily&&(u.textStyle.fontFamily=_.Style.Font.FontFamily?_.Style.Font.FontFamily:"Arial"),_.Style.Font.FontStyle&&(u.textStyle.fontStyle=_.Style.Font.FontStyle?_.Style.Font.FontStyle:"default"),_.Style.Font.FontWeight&&(u.textStyle.fontWeight=_.Style.Font.FontWeight?_.Style.Font.FontWeight:"bold"),0!=_.Style.Font.FontSize&&(u.textStyle.size=_.Style.Font.FontSize?_.Style.Font.FontSize+"px":"10px"))),_.MapLegendTitle&&(u.title={},_.MapLegendTitle.Caption&&(u.title.text=_.MapLegendTitle.Caption),_.MapLegendTitle.Style&&(u.titleStyle={},u.titleStyle.color=_.MapLegendTitle.Style.TextColor?_.MapLegendTitle.Style.TextColor:"Black",_.MapLegendTitle.Style.Font&&(_.MapLegendTitle.Style.Font.FontFamily&&(u.titleStyle.fontFamily=_.MapLegendTitle.Style.Font.FontFamily?_.MapLegendTitle.Style.Font.FontFamily:"Arial"),_.MapLegendTitle.Style.Font.FontStyle&&(u.titleStyle.fontStyle=_.MapLegendTitle.Style.Font.FontStyle?_.MapLegendTitle.Style.Font.FontStyle:"default"),_.MapLegendTitle.Style.Font.FontWeight&&(u.titleStyle.fontWeight=_.MapLegendTitle.Style.Font.FontWeight?_.MapLegendTitle.Style.Font.FontWeight:"bold"),0!=_.MapLegendTitle.Style.Font.FontSize&&(u.titleStyle.size=_.MapLegendTitle.Style.Font.FontSize?_.MapLegendTitle.Style.Font.FontSize+"px":"10px")))),u.shape="Rectangle")),u},_getMapLegendSize:function(n,c,r){var u={width:"60px",height:"30px"};if(n)switch(n){case"Top":case"Bottom":u.width=(parseInt(c,10)-10).toString()+"px";break;case"Left":case"Right":u.height=(parseInt(r,10)-10).toString()+"px"}return u},_getMapLegendPosition:function(n){var c={position:"Right",alignment:"Center"};switch(n){case"TopLeft":c={position:"Top",alignment:"Near"};break;case"TopCenter":c={position:"Top",alignment:"Center"};break;case"TopRight":c={position:"Top",alignment:"Far"};break;case"LeftTop":c={position:"Left",alignment:"Near"};break;case"LeftCenter":c={position:"Left",alignment:"Center"};break;case"LeftBottom":c={position:"Left",alignment:"Far"};break;case"RightTop":c={position:"Right",alignment:"Near"};break;case"RightCenter":c={position:"Right",alignment:"Center"};break;case"RightBottom":c={position:"Right",alignment:"Far"};break;case"BottomLeft":c={position:"Bottom",alignment:"Near"};break;case"BottomCenter":c={position:"Bottom",alignment:"Center"};break;case"BottomRight":c={position:"Bottom",alignment:"Far"}}return c},_renderGaugeControl:function(n,c,r,u,_,w,v,a){var h,t,o,l,g,b,s=n.GaugePanel;c&&(this._id=w,n.Top=0,n.Left=0);var C=this._controlKeyGenerator(this._id+"_"+(null!=n.ItemName?n.ItemName:n.Name),w,v,a),T=this._buildTag("div","e-reportviewer-tab-focus-none",null,{id:C},{tabindex:"0","aria-label":this._getLocaleString("reportItemLabel","Gauge")+n.Name}),D={"-webkit-box-sizing":"border-box","-moz-box-sizing":"border-box","box-sizing":"border-box",overflow:"hidden"};this._appendChild(_,T),D.position="absolute",D.visibility=n.Hidden?"hidden":"visible",h=n.Height,t=n.Width,n.Top&&(D.top=n.Top+"px"),n.Left&&(D.left=n.Left+"px"),o="Horizontal",l=0,s.RadialGauges&&s.RadialGauges.length>0&&(l+=s.RadialGauges.length),s.LinearGauges&&s.LinearGauges.length>0&&(l+=s.LinearGauges.length),s.Indicator&&s.Indicator.length>0&&(l+=s.Indicator.length),s.GaugeFrame&&s.GaugeFrame.FrameImage&&(D["background-image"]=this._getImageDataURL(s.EmbedImageData,v,v?"PrintImage":"GetResource",s.GaugeFrame.FrameImage)),s.Border&&!r&&this._applyBorderStyle(s.Border,T),0!=l&&(h>t?(h/=l,o="Vertical"):t/=l),s.RadialGauges&&s.RadialGauges.length>0&&this._renderRadialGauge(n,T,null!=n.ItemName?n.ItemName:n.Name,o,t,h,w,v,a),s.LinearGauges&&s.LinearGauges.length>0&&this._renderLinearGauge(n,T,null!=n.ItemName?n.ItemName:n.Name,o,t,h,w,v,a),s.Indicator&&s.Indicator.length>0&&(g=r?0:parseFloat(T.style.borderLeftWidth,10)+parseFloat(T.style.borderRightWidth,10),b=r?0:parseFloat(T.style.borderTopWidth,10)+parseFloat(T.style.borderBottomWidth,10),this._renderIndicator(s.Indicator,s,T,null!=n.ItemName?n.ItemName:n.Name,t-g,h-b,w,v,a)),s.GaugeLabel&&s.GaugeLabel.length>0&&this._renderGaugeLabel(n,T),r?(D.position="relative",D.width=t+"px",D.height=u&&u.height>h?u.height+"px":h+"px",D["background-color"]=s.BackgroundColor):(D.width=n.Width+"px",D.height=n.Height+"px",D["background-color"]=s.BackgroundColor),this._setTagStyle(T,D)},_renderGaugeLabel:function(n,c){for(var r,u=0;u<n.GaugePanel.GaugeLabel.length;u++)if(!(n.GaugePanel.RadialGauges&&n.GaugePanel.RadialGauges.length>0&&"None"!==n.GaugePanel.GaugeLabel[u].ParentItem)){var _=n.GaugePanel.GaugeLabel[u],w=this._buildTag("div",".e-gauge-label"),v={left:_.Left+"%",top:_.Top+"%","background-color":_.BackgroundColor,"border-color":_.Style.BorderColor,"border-width":_.Style.BorderWidth+"px","border-style":_.Style.Borderstyle,position:"absolute",height:_.Height+"%",width:_.Width+"%","font-size":_.Font.FontSize+"px","font-weight":this._getConvertedFontWeight(_.Font.FontWeight),"font-style":"Default"===_.Font.FontStyle||"Normal"===_.Font.FontStyle?"normal":"italic","font-family":_.Font.FontFamily,color:_.TextColor,"text-decoration":_.TextDecoration,"text-align":_.TextAlign,"z-index":1};this._setTagStyle(w,v),r=this._buildTag("span",".e-gauge-label-content"),$(r).text(_.Text),this._appendChild(w,r),this._updateGaugeLabelVerticalAlign(_.VerticalAlignment,$(w)),this._appendChild(c,w)}},_updateGaugeLabelVerticalAlign:function(n,c){switch(n){case"Default":c.css("display",""),c.children().css({"vertical-align":"",display:""});break;case"Top":c.css("display","table"),c.children().css({"vertical-align":"top",display:"table-cell"});break;case"Middle":c.css("display","table"),c.children().css({"vertical-align":"middle",display:"table-cell"});break;case"Bottom":c.css("display","table"),c.children().css({"vertical-align":"bottom",display:"table-cell"})}},_renderIndicator:function(n,c,r,u,_,w,v,a,s){for(var h,t,l,p,g,b,C="http://www.w3.org/2000/svg",T=0;T<n.length;T++){for(t=this._buildTag("div","e-reportviewer-tab-focus-none",(h=n[T]).ToolTip,{id:this._controlKeyGenerator(this._id+"_"+u+"_"+h.Name,v,a,s)},{tabindex:"0","aria-label":this._getLocaleString("reportItemLabel","Indicator")+h.Name}),a||this._dataVisualization.push({name:u,id:t.id,type:"GaugeModel",itemType:"Indicator"}),this._setTagStyle(t,{left:h.Left+"%",top:h.Top+"%",width:h.Width+"%",height:h.Height+"%",position:"inherit",border:"1px dashed transparent",overflow:"hidden","box-sizing":"border-box"}),l=document.createElementNS(C,"svg"),p="height:inherit; width:inherit; position:inherit; top:inherit; left:inherit;",c.BackgroundColor&&"White"!=c.BackgroundColor&&(p=p+" background-color: "+c.BackgroundColor+";"),l.setAttribute("class","e-indicator-item"),l.setAttributeNS(null,"style",p),l.setAttributeNS(null,"viewBox","0 0 32 32"),this._appendChild(t,l),g=0;g<h.IndicatorState.length;g++){var D=h.IndicatorState[g].IndicatorStyle,L=h.IndicatorState[g].StartValue.Value,I=h.IndicatorState[g].EndValue.Value,R=L;if(L>=I&&(L=I,I=R),h.IndicatorData.Value>=L&&h.IndicatorData.Value<=I){b=h.IndicatorState[g].FillColor,l.setAttributeNS(null,"style",p+"transform: scale("+h.IndicatorState[g].ScaleFactor+");");var F=this._getIndicatorIconPaths(D),A=document.createElementNS(C,"g"),z=this;F.forEach(function(N){var U=document.createElementNS(C,N.tag);N.class&&(U.setAttribute("class",N.class),z._setTagStyle(U,{fill:"e-indicator-color"===N.class?b:"transparent"})),z._setAttributes(U,null,N.attr),z._appendChild(A,U)}),this._appendChild(l,A);break}}this._appendChild(r,t)}},_getIndicatorIconPaths:function(n){var c=[];switch(n){case"Circle":case"ThreeSignsCircle":case"QuartersAllFilled":case"TrafficLightUnrimmed":c=[{tag:"circle",class:"e-indicator-color",attr:{cx:"16",cy:"16",r:"14.5"}},{tag:"path",class:"e-indicator-stroke",attr:{d:"M16,31A15,15,0,1,1,31,16,15,15,0,0,1,16,31ZM16,2A14,14,0,1,0,30,16,14,14,0,0,0,16,2Z"}}];break;case"Flag":c=[{tag:"rect",class:"e-indicator-color",attr:{x:"6",y:"1",width:"10",height:"14"}},{tag:"path",class:"e-indicator-color",attr:{d:"M17,16H5V0H17ZM7,14h8V2H7Z"}},{tag:"rect",class:"e-indicator-color",attr:{x:"16",y:"5",width:"10",height:"14"}},{tag:"path",class:"e-indicator-color",attr:{d:"M27,20H15V4H27ZM17,18h8V6H17Z"}},{tag:"rect",class:"e-indicator-color",attr:{x:"5",width:"2",height:"32"}}];break;case"ArrowDown":c=[{tag:"polygon",class:"e-indicator-color",attr:{points:"25.58 14.32 18.06 21.7 18.06 2.28 14.06 2.28 14.06 21.7 6.42 14.19 3.52 17.04 16 29.32 28.48 17.16 25.58 14.32"}},{tag:"path",class:"e-indicator-stroke",attr:{d:"M16,30.72,2.09,17l4.33-4.25,6.64,6.53v-18h6v18l6.52-6.4,4.33,4.25ZM4.94,17,16,27.92,27.05,17.16l-1.47-1.44-8.52,8.37V3.28h-2V24.09l-8.64-8.5Z"}}];break;case"ArrowDownIncline":c=[{tag:"polygon",class:"e-indicator-color",attr:{points:"22.93 8.93 22.95 19.95 8.42 5.42 5.47 8.37 19.91 22.98 7.86 22.98 7.86 27 26.94 27 26.94 8.93 22.93 8.93"}},{tag:"path",class:"e-indicator-stroke",attr:{d:"M27.94,28H6.86V22H17.52L4.06,8.37,8.42,4,21.94,17.53l0-9.6h6ZM8.86,26H25.94V9.93h-2l0,12.44L8.42,6.83,6.88,8.37,22.31,24H8.86Z"}}];break;case"ArrowSide":c=[{tag:"polygon",class:"e-indicator-color",attr:{points:"14.39 6.01 21.99 13.56 2 13.55 2 17.6 21.99 17.72 13.7 25.99 16.46 28.74 29.59 15.66 17.16 3.26 14.39 6.01"}},{tag:"path",class:"e-indicator-stroke",attr:{d:"M16.47,30.15,12.29,26l7.29-7.28L1,18.6V12.55H19.56L13,6l4.18-4.17L31,15.66ZM15.12,26l1.35,1.34,11.7-11.67-11-11L15.81,6l8.61,8.55H3v2.06l21.39.13Z"}}];break;case"ArrowUp":c=[{tag:"polygon",class:"e-indicator-color",attr:{points:"6.42 17.68 13.94 10.3 13.94 29.72 17.94 29.72 17.94 10.3 25.58 17.81 28.48 14.96 16 2.68 3.52 14.84 6.42 17.68"}},{tag:"path",class:"e-indicator-stroke",attr:{d:"M18.94,30.72h-6v-18l-6.52,6.4L2.09,14.83,16,1.28,29.91,15l-4.33,4.25-6.64-6.53Zm-4-2h2V7.91l8.64,8.5L27.06,15,16,4.08,5,14.84l1.47,1.44,8.52-8.37Z"}}];break;case"ArrowUpIncline":c=[{tag:"polygon",class:"e-indicator-color",attr:{points:"22.93 23.07 22.95 12.05 8.42 26.59 5.47 23.63 19.91 9.02 7.86 9.02 7.86 5 26.94 5 26.94 23.07 22.93 23.07"}},{tag:"path",class:"e-indicator-stroke",attr:{d:"M8.42,28,4.06,23.63,17.52,10H6.86V4H27.94V24.07h-6l0-9.6ZM6.88,23.63l1.54,1.54L24,9.63l0,12.44h2V6H8.86V8H22.31Z"}}];break;case"LightArrowDown":c=[{tag:"polygon",class:"e-indicator-color",attr:{points:"16.11 31 3.99 19.44 5.37 18 16.1 28.23 26.61 18.05 28 19.48 16.11 31"}},{tag:"rect",class:"e-indicator-color",attr:{x:"15",y:"1",width:"2",height:"29"}}];break;case"LightArrowDownIncline":c=[{tag:"polygon",class:"e-indicator-color",attr:{points:"30 30 13 30 13 28 28 28 28 13 30 13 30 30"}},{tag:"rect",class:"e-indicator-color",attr:{x:"15.5",y:"-1.59",width:"2",height:"36.18",transform:"translate(-6.83 16.5) rotate(-44.99)"}}];break;case"LightArrowSide":c=[{tag:"polygon",class:"e-indicator-color",attr:{points:"18.38 28 17 26.55 28.1 16 17 5.45 18.38 4 31 16 18.38 28"}},{tag:"rect",class:"e-indicator-color",attr:{x:"1",y:"15",width:"29",height:"1.99"}}];break;case"LightArrowUp":c=[{tag:"polygon",class:"e-indicator-color",attr:{points:"26.62 14.01 15.9 3.77 5.39 13.96 4 12.52 15.89 1 28 12.56 26.62 14.01"}},{tag:"rect",class:"e-indicator-color",attr:{x:"15",y:"2",width:"2",height:"29"}}];break;case"LightArrowUpIncline":c=[{tag:"polygon",class:"e-indicator-color",attr:{points:"30 19 28 19 28 4 13 4 13 2 30 2 30 19"}},{tag:"rect",class:"e-indicator-color",attr:{x:"-1.59",y:"14.5",width:"36.18",height:"2",transform:"translate(-6.13 16.21) rotate(-45)"}}];break;case"ButtonStop":c=[{tag:"rect",class:"e-indicator-color",attr:{x:"4",y:"3.66",width:"24",height:"24"}}];break;case"ButtonPlay":c=[{tag:"polygon",class:"e-indicator-color",attr:{points:"4 -0.34 28 15.66 4 31.66 4 -0.34"}}];break;case"ButtonPause":c=[{tag:"rect",class:"e-indicator-color",attr:{x:"4",y:"1.66",width:"8",height:"28"}},{tag:"rect",class:"e-indicator-color",attr:{x:"20",y:"1.66",width:"8",height:"28"}}];break;case"FaceSmile":c=[{tag:"circle",class:"e-indicator-color",attr:{cx:"16",cy:"16",r:"15"}},{tag:"path",attr:{d:"M16,24a6.49,6.49,0,0,1-4.31-1.64A1,1,0,0,1,13,20.89a4.47,4.47,0,0,0,6.09-.12A1,1,0,1,1,20.5,22.2,6.43,6.43,0,0,1,16,24Z",fill:"#fff"}},{tag:"circle",attr:{cx:"11",cy:"12",r:"2",fill:"#fff"}},{tag:"circle",attr:{cx:"21",cy:"12",r:"2",fill:"#fff"}}];break;case"FaceNeutral":c=[{tag:"circle",class:"e-indicator-color",attr:{cx:"16",cy:"16",r:"15"}},{tag:"circle",attr:{cx:"11",cy:"12",r:"2",fill:"#fff"}},{tag:"circle",attr:{cx:"21",cy:"12",r:"2",fill:"#fff"}},{tag:"path",attr:{d:"M19.9,23.3h-7.5c-0.6,0-1-0.4-1-1s0.4-1,1-1h7.5c0.6,0,1,0.4,1,1S20.4,23.3,19.9,23.3z",fill:"#fff"}}];break;case"FaceFrown":c=[{tag:"circle",class:"e-indicator-color",attr:{cx:"16",cy:"16",r:"15"}},{tag:"path",attr:{d:"M12.36,24a1,1,0,0,1-.69-1.72,6.47,6.47,0,0,1,8.8-.18,1,1,0,0,1,.09,1.41,1,1,0,0,1-1.42.08,4.48,4.48,0,0,0-6.09.13A1,1,0,0,1,12.36,24Z",fill:"#fff"}},{tag:"circle",attr:{cx:"11",cy:"12",r:"2",fill:"#fff"}},{tag:"circle",attr:{cx:"21",cy:"12",r:"2",fill:"#fff"}}];break;case"BoxesAllFilled":c=[{tag:"path",attr:{d:"M31,31H1V1H31ZM3,29H29V3H3Z",fill:"transparent"}},{tag:"rect",attr:{x:"15",y:"3",fill:"transparent",width:"2",height:"27"}},{tag:"rect",attr:{x:"3",y:"15",fill:"transparent",width:"27",height:"2"}},{tag:"rect",class:"e-indicator-color",attr:{x:"3",y:"17",width:"12",height:"12"}},{tag:"rect",class:"e-indicator-color",attr:{x:"3",y:"3",width:"12",height:"12"}},{tag:"rect",class:"e-indicator-color",attr:{x:"17",y:"3",width:"12",height:"12"}},{tag:"rect",class:"e-indicator-color",attr:{x:"17",y:"17",width:"12",height:"12"}}];break;case"BoxesNoneFilled":c=[{tag:"path",attr:{d:"M31,31H1V1H31ZM3,29H29V3H3Z",fill:"transparent"}},{tag:"rect",attr:{x:"15",y:"3",fill:"transparent",width:"2",height:"27"}},{tag:"rect",attr:{x:"3",y:"15",fill:"transparent",width:"27",height:"2"}},{tag:"rect",attr:{x:"3",y:"17",fill:"lightgrey",width:"12",height:"12"}},{tag:"rect",attr:{x:"3",y:"3",fill:"lightgrey",width:"12",height:"12"}},{tag:"rect",attr:{x:"17",y:"3",fill:"lightgrey",width:"12",height:"12"}},{tag:"rect",attr:{x:"17",y:"17",fill:"lightgrey",width:"12",height:"12"}}];break;case"BoxesOneFilled":c=[{tag:"path",attr:{d:"M31,31H1V1H31ZM3,29H29V3H3Z",fill:"transparent"}},{tag:"rect",attr:{x:"15",y:"3",fill:"transparent",width:"2",height:"27"}},{tag:"rect",attr:{x:"3",y:"15",fill:"transparent",width:"27",height:"2"}},{tag:"rect",class:"e-indicator-color",attr:{x:"3",y:"17",width:"12",height:"12"}},{tag:"rect",attr:{x:"3",y:"3",fill:"lightgrey",width:"12",height:"12"}},{tag:"rect",attr:{x:"17",y:"3",fill:"lightgrey",width:"12",height:"12"}},{tag:"rect",attr:{x:"17",y:"17",fill:"lightgrey",width:"12",height:"12"}}];break;case"BoxesTwoFilled":c=[{tag:"path",attr:{d:"M31,31H1V1H31ZM3,29H29V3H3Z",fill:"transparent"}},{tag:"rect",attr:{x:"15",y:"3",fill:"transparent",width:"2",height:"27"}},{tag:"rect",attr:{x:"3",y:"15",fill:"transparent",width:"27",height:"2"}},{tag:"rect",class:"e-indicator-color",attr:{x:"3",y:"17",width:"12",height:"12"}},{tag:"rect",attr:{x:"3",y:"3",fill:"lightgrey",width:"12",height:"12"}},{tag:"rect",attr:{x:"17",y:"3",fill:"lightgrey",width:"12",height:"12"}},{tag:"rect",class:"e-indicator-color",attr:{x:"17",y:"17",width:"12",height:"12"}}];break;case"BoxesThreeFilled":c=[{tag:"path",attr:{d:"M31,31H1V1H31ZM3,29H29V3H3Z",fill:"transparent"}},{tag:"rect",attr:{x:"15",y:"3",fill:"transparent",width:"2",height:"27"}},{tag:"rect",attr:{x:"3",y:"15",fill:"transparent",width:"27",height:"2"}},{tag:"rect",class:"e-indicator-color",attr:{x:"3",y:"17",width:"12",height:"12"}},{tag:"rect",class:"e-indicator-color",attr:{x:"3",y:"3",width:"12",height:"12"}},{tag:"rect",attr:{x:"17",y:"3",fill:"lightgrey",width:"12",height:"12"}},{tag:"rect",class:"e-indicator-color",attr:{x:"17",y:"17",width:"12",height:"12"}}];break;case"QuartersNoneFilled":c=[{tag:"circle",attr:{cx:"16",cy:"16",r:"14",fill:"transparent"}},{tag:"path",class:"e-indicator-color",attr:{d:"M16,3A13,13,0,1,1,3,16,13,13,0,0,1,16,3m0-2A15,15,0,1,0,31,16,15,15,0,0,0,16,1Z"}},{tag:"circle",attr:{cx:"16",cy:"16",r:"13",fill:"transparent"}}];break;case"QuartersOneFilled":c=[{tag:"path",class:"e-indicator-color",attr:{d:"M29,16A13,13,0,0,0,16,3V16Z"}},{tag:"path",class:"e-indicator-color",attr:{d:"M16,3A13,13,0,1,1,3,16,13,13,0,0,1,16,3m0-2A15,15,0,1,0,31,16,15,15,0,0,0,16,1Z"}}];break;case"QuartersTwoFilled":c=[{tag:"path",class:"e-indicator-color",attr:{d:"M16,1V31A15,15,0,0,0,16,1Z"}},{tag:"path",class:"e-indicator-color",attr:{d:"M16,3A13,13,0,1,1,3,16,13,13,0,0,1,16,3m0-2A15,15,0,1,0,31,16,15,15,0,0,0,16,1Z"}}];break;case"QuartersThreeFilled":c=[{tag:"path",class:"e-indicator-color",attr:{d:"M16,1V16H1A15,15,0,1,0,16,1Z"}},{tag:"path",class:"e-indicator-color",attr:{d:"M16,3A13,13,0,1,1,3,16,13,13,0,0,1,16,3m0-2A15,15,0,1,0,31,16,15,15,0,0,0,16,1Z"}}];break;case"SignalMeterFourFilled":c=[{tag:"rect",class:"e-indicator-color",attr:{x:"23",y:"2",width:"4",height:"28"}},{tag:"path",attr:{d:"M29,32H21V0h8Zm-6-2h4V2H23Z",fill:"transparent"}},{tag:"rect",class:"e-indicator-color",attr:{x:"17",y:"8",width:"4",height:"22"}},{tag:"path",attr:{d:"M23,32H15V6h8Zm-6-2h4V8H17Z",fill:"transparent"}},{tag:"rect",class:"e-indicator-color",attr:{x:"11",y:"15",width:"4",height:"15"}},{tag:"path",attr:{d:"M17,32H9V13h8Zm-6-2h4V15H11Z",fill:"transparent"}},{tag:"rect",class:"e-indicator-color",attr:{x:"5",y:"21",width:"4",height:"9"}},{tag:"path",attr:{d:"M11,32H3V19h8ZM5,30H9V21H5Z",fill:"transparent"}}];break;case"SignalMeterNoneFilled":c=[{tag:"rect",attr:{x:"23",y:"2",fill:"lightgrey",width:"4",height:"28"}},{tag:"path",attr:{d:"M29,32H21V0h8Zm-6-2h4V2H23Z",fill:"transparent"}},{tag:"rect",attr:{x:"17",y:"8",fill:"lightgrey",width:"4",height:"22"}},{tag:"path",attr:{d:"M23,32H15V6h8Zm-6-2h4V8H17Z",fill:"transparent"}},{tag:"rect",attr:{x:"11",y:"15",fill:"lightgrey",width:"4",height:"15"}},{tag:"path",attr:{d:"M17,32H9V13h8Zm-6-2h4V15H11Z",fill:"transparent"}},{tag:"rect",attr:{x:"5",y:"21",fill:"lightgrey",width:"4",height:"9"}},{tag:"path",attr:{d:"M11,32H3V19h8ZM5,30H9V21H5Z",fill:"transparent"}}];break;case"SignalMeterOneFilled":c=[{tag:"rect",attr:{x:"23",y:"2",fill:"lightgrey",width:"4",height:"28"}},{tag:"path",attr:{d:"M29,32H21V0h8Zm-6-2h4V2H23Z",fill:"transparent"}},{tag:"rect",attr:{x:"17",y:"8",fill:"lightgrey",width:"4",height:"22"}},{tag:"path",attr:{d:"M23,32H15V6h8Zm-6-2h4V8H17Z",fill:"transparent"}},{tag:"rect",attr:{x:"11",y:"15",fill:"lightgrey",width:"4",height:"15"}},{tag:"path",attr:{d:"M17,32H9V13h8Zm-6-2h4V15H11Z",fill:"transparent"}},{tag:"rect",class:"e-indicator-color",attr:{x:"5",y:"21",width:"4",height:"9"}},{tag:"path",attr:{d:"M11,32H3V19h8ZM5,30H9V21H5Z",fill:"transparent"}}];break;case"SignalMeterThreeFilled":c=[{tag:"rect",attr:{x:"23",y:"2",fill:"lightgrey",width:"4",height:"28"}},{tag:"path",attr:{d:"M29,32H21V0h8Zm-6-2h4V2H23Z",fill:"transparent"}},{tag:"rect",class:"e-indicator-color",attr:{x:"17",y:"8",width:"4",height:"22"}},{tag:"path",attr:{d:"M23,32H15V6h8Zm-6-2h4V8H17Z",fill:"transparent"}},{tag:"rect",class:"e-indicator-color",attr:{x:"11",y:"15",width:"4",height:"15"}},{tag:"path",attr:{d:"M17,32H9V13h8Zm-6-2h4V15H11Z",fill:"transparent"}},{tag:"rect",class:"e-indicator-color",attr:{x:"5",y:"21",width:"4",height:"9"}},{tag:"path",attr:{d:"M11,32H3V19h8ZM5,30H9V21H5Z",fill:"transparent"}}];break;case"SignalMeterTwoFilled":c=[{tag:"rect",attr:{x:"23",y:"2",fill:"lightgrey",width:"4",height:"28"}},{tag:"path",attr:{d:"M29,32H21V0h8Zm-6-2h4V2H23Z",fill:"transparent"}},{tag:"rect",attr:{x:"17",y:"8",fill:"lightgrey",width:"4",height:"22"}},{tag:"path",attr:{d:"M23,32H15V6h8Zm-6-2h4V8H17Z",fill:"transparent"}},{tag:"rect",class:"e-indicator-color",attr:{x:"11",y:"15",width:"4",height:"15"}},{tag:"path",attr:{d:"M17,32H9V13h8Zm-6-2h4V15H11Z",fill:"transparent"}},{tag:"rect",class:"e-indicator-color",attr:{x:"5",y:"21",width:"4",height:"9"}},{tag:"path",attr:{d:"M11,32H3V19h8ZM5,30H9V21H5Z",fill:"transparent"}}];break;case"StarQuartersAllFilled":c=[{tag:"polygon",class:"e-indicator-color",attr:{points:"26 29.2 16.43 23.04 6.87 29.2 11.22 18.64 3.4 10.71 12.96 10.71 16.43 2.79 19.04 10.71 28.6 10.71 20.78 18.64 26 29.2"}},{tag:"polygon",class:"e-indicator-color",attr:{points:"16.29 24.2 16.29 21.84 9.01 26.5 12.39 18.32 5.79 11.66 13.37 11.66 16.05 5.74 16.05 0 12.06 9.67 1 9.67 10.04 18.78 4.73 31.61 16.29 24.2"}},{tag:"polygon",class:"e-indicator-color",attr:{points:"31 9.82 19.52 9.82 16.05 0 16.05 0.15 16.05 5.74 17.19 9.17 17.19 9.14 18.08 11.81 26.21 11.81 19.57 18.51 23.5 26.43 17.43 22.54 17.43 22.54 16.29 21.78 16.29 24.17 28.5 32 21.99 18.9 31 9.82"}}];break;case"StarQuartersNoneFilled":c=[{tag:"polygon",class:"e-indicator-color",attr:{points:"16.29 24.2 16.29 21.84 9.01 26.5 12.39 18.32 5.79 11.66 13.37 11.66 16.05 5.74 16.05 0 12.06 9.67 1 9.67 10.04 18.78 4.73 31.61 16.29 24.2"}},{tag:"polygon",class:"e-indicator-color",attr:{points:"31 9.82 19.52 9.82 16.05 0 16.05 0.15 16.05 5.74 17.19 9.17 17.19 9.14 18.08 11.81 26.21 11.81 19.57 18.51 23.5 26.43 17.43 22.54 17.43 22.54 16.29 21.78 16.29 24.17 28.5 32 21.99 18.9 31 9.82"}}];break;case"StarQuartersOneFilled":c=[{tag:"polygon",class:"e-indicator-color",attr:{points:"13.4,25.1 6.9,29.1 11.2,18.5 3.4,10.7 13.4,10.7"}},{tag:"polygon",class:"e-indicator-color",attr:{points:"16.3,24.2 16.3,21.8 9,26.5 12.4,18.3 5.8,11.7 13.4,11.7 16,5.7 16,0 12.1,9.7 1,9.7 10,18.8   4.7,31.6"}},{tag:"polygon",class:"e-indicator-color",attr:{points:"13.4,26.1 13.4,23.7 9,26.5 12.4,18.3 5.8,11.7 13.4,11.7 13.4,6.5 12.1,9.7 1,9.7 10,18.8 4.7,31.6"}},{tag:"polygon",class:"e-indicator-color",attr:{points:"31,9.8 19.5,9.8 16,0 16,0.2 16,5.7 17.2,9.2 17.2,9.1 18.1,11.8 26.2,11.8 19.6,18.5 23.5,26.4   17.4,22.5 17.4,22.5 16.3,21.8 16.3,24.2 28.5,32 22,18.9"}}];break;case"StarQuartersTwoFilled":c=[{tag:"polygon",class:"e-indicator-color",attr:{points:"16.43 22.93 6.87 29.06 11.22 18.55 3.39 10.66 12.71 10.66 16.05 2.78"}},{tag:"polygon",class:"e-indicator-color",attr:{points:"16.29 24.2 16.29 21.84 9.01 26.5 12.39 18.32 5.79 11.66 13.37 11.66 16.05 5.74 16.05 0 12.06 9.67 1 9.67 10.04 18.78 4.73 31.61 16.29 24.2"}},{tag:"polygon",class:"e-indicator-color",attr:{points:"31 9.82 19.52 9.82 16.05 0 16.05 0.15 16.05 5.74 17.19 9.17 17.19 9.14 18.08 11.81 26.21 11.81 19.57 18.51 23.5 26.43 17.43 22.54 17.43 22.54 16.29 21.78 16.29 24.17 28.5 32 21.99 18.9 31 9.82"}}];break;case"StarQuartersThreeFilled":c=[{tag:"polygon",class:"e-indicator-color",attr:{points:"16.4,22.9 6.9,29.1 11.2,18.5 3.4,10.7 12.7,10.7 16,2.8 18.1,10 18.1,24.3"}},{tag:"polygon",class:"e-indicator-color",attr:{points:"16.3,24.2 16.3,21.8 9,26.5 12.4,18.3 5.8,11.7 13.4,11.7 16,5.7 16,0 12.1,9.7 1,9.7 10,18.8   4.7,31.6"}},{tag:"polygon",class:"e-indicator-color",attr:{points:"31,9.8 19.5,9.8 16,0 16,0.2 16,5.7 17.2,9.1 18.1,11.8 26.2,11.8 19.6,18.5 23.5,26.4 17.4,22.5   17.4,22.5 16.3,21.8 16.3,24.2 28.5,32 22,18.9"}}];break;case"ThreeSignsDiamond":c=[{tag:"rect",class:"e-indicator-color",attr:{x:"6.26",y:"6.26",width:"19.49",height:"19.49",transform:"translate(16, -6.73) rotate(45)"}},{tag:"path",class:"e-indicator-stroke",attr:{d:"M16,31.19.81,16,16,.81,31.19,16ZM3.64,16,16,28.36,28.36,16,16,3.64Z"}}];break;case"ThreeSignsTriangle":c=[{tag:"polygon",class:"e-indicator-color",attr:{points:"16 2.24 1.62 31 30.38 31 16 2.24"}},{tag:"path",class:"e-indicator-stroke",attr:{d:"M32,32H0L16,0ZM3.24,30H28.76L16,4.47Z"}}];break;case"ThreeSymbolCheck":c=[{tag:"circle",class:"e-indicator-color",attr:{cx:"16",cy:"16",r:"14.5"}},{tag:"path",class:"e-indicator-stroke",attr:{d:"M16,31.5A15.5,15.5,0,1,1,31.5,16,15.51,15.51,0,0,1,16,31.5Zm0-29A13.5,13.5,0,1,0,29.5,16,13.52,13.52,0,0,0,16,2.5Z"}},{tag:"polygon",attr:{points:"4.01 16.74 6.99 13.76 12.49 19.26 23.99 7.76 26.99 10.76 12.51 25.24 4.01 16.74",fill:"#fff"}},{tag:"path",class:"e-indicator-color",attr:{d:"M12.51,26.66,2.59,16.74,7,12.34l5.5,5.5L24,6.34l4.42,4.42ZM5.42,16.74l7.09,7.09L25.58,10.76,24,9.17l-11.5,11.5L7,15.17Z"}}];break;case"ThreeSymbolCross":c=[{tag:"circle",class:"e-indicator-color",attr:{cx:"16",cy:"16",r:"14"}},{tag:"path",class:"e-indicator-stroke",attr:{d:"M16,31A15,15,0,1,1,31,16,15,15,0,0,1,16,31ZM16,3A13,13,0,1,0,29,16,13,13,0,0,0,16,3Z"}},{tag:"polygon",attr:{points:"26.58 9.79 22.21 5.41 16 11.62 9.79 5.41 5.42 9.79 11.62 16 5.42 22.21 9.79 26.59 16 20.38 22.21 26.59 26.58 22.21 20.38 16 26.58 9.79",fill:"#fff"}},{tag:"path",class:"e-indicator-color",attr:{d:"M22.21,28,16,21.79,9.79,28,4,22.21,10.21,16,4,9.79,9.79,4,16,10.21,22.21,4,28,9.79,21.79,16,28,22.21ZM16,19l6.21,6.21,3-3L19,16l6.21-6.21-3-3L16,13,9.79,6.83l-3,3L13,16,6.83,22.21l3,3Z"}}];break;case"ThreeSymbolExclamation":c=[{tag:"circle",class:"e-indicator-color",attr:{cx:"16",cy:"16",r:"14"}},{tag:"path",class:"e-indicator-stroke",attr:{d:"M16,31A15,15,0,1,1,31,16,15,15,0,0,1,16,31ZM16,3A13,13,0,1,0,29,16,13,13,0,0,0,16,3Z"}},{tag:"rect",attr:{x:"13",y:"3.92",fill:"#fff",width:"6",height:"15.83"}},{tag:"path",class:"e-indicator-color",attr:{d:"M20,20.75H12V2.92h8Zm-6-2h4V4.92H14Z"}},{tag:"ellipse",attr:{cx:"16",cy:"24.75",rx:"4.17",ry:"3.33",fill:"#fff"}},{tag:"path",class:"e-indicator-color",attr:{d:"M16,29.08c-2.85,0-5.17-1.94-5.17-4.33s2.32-4.33,5.17-4.33,5.17,1.94,5.17,4.33S18.85,29.08,16,29.08Zm0-6.66c-1.72,0-3.17,1.07-3.17,2.33s1.45,2.33,3.17,2.33,3.17-1.07,3.17-2.33S17.72,22.42,16,22.42Z"}}];break;case"ThreeSymbolUnCircledCheck":c=[{tag:"polygon",class:"e-indicator-color",attr:{points:"1.01 18.24 3.99 15.26 10.49 21.76 27.99 4.26 30.99 7.26 10.51 27.74 1.01 18.24"}},{tag:"path",class:"e-indicator-stroke",attr:{d:"M10.51,29.16-.41,18.24,4,13.84l6.5,6.5L28,2.84l4.42,4.42ZM2.42,18.24l8.09,8.09L29.58,7.26,28,5.67l-17.5,17.5L4,16.67Z"}}];break;case"ThreeSymbolUnCircledCross":c=[{tag:"polygon",class:"e-indicator-color",attr:{points:"29.59 5.81 26.19 2.41 16 12.6 5.81 2.41 2.41 5.81 12.6 16 2.41 26.19 5.81 29.59 16 19.4 26.19 29.59 29.59 26.19 19.4 16 29.59 5.81"}},{tag:"path",class:"e-indicator-stroke",attr:{d:"M26.19,31,16,20.81,5.81,31,1,26.19,11.19,16,1,5.81,5.81,1,16,11.19,26.19,1,31,5.81,20.81,16,31,26.19ZM16,18l10.19,10.2,2-2L18,16,28.17,5.81l-2-2L16,14,5.81,3.82l-2,2L14,16,3.83,26.19l2,2Z"}}];break;case"ThreeSymbolUnCircledExclamation":c=[{tag:"rect",class:"e-indicator-color",attr:{x:"13",y:"2",width:"6",height:"19"}},{tag:"path",class:"e-indicator-stroke",attr:{d:"M20,22H12V1h8Zm-6-2h4V3H14Z"}},{tag:"rect",class:"e-indicator-color",attr:{x:"13",y:"25",width:"6",height:"6"}},{tag:"path",class:"e-indicator-stroke",attr:{d:"M20,32H12V24h8Zm-6-2h4V26H14Z"}}];break;case"TrafficLight":c=[{tag:"rect",attr:{x:"2",y:"2",fill:"black",width:"28",height:"28"}},{tag:"path",class:"e-indicator-stroke",attr:{d:"M31,31H1V1H31ZM3,29H29V3H3Z"}},{tag:"circle",class:"e-indicator-color",attr:{cx:"16",cy:"16",r:"11"}},{tag:"path",attr:{d:"M16,28A12,12,0,1,1,28,16,12,12,0,0,1,16,28ZM16,6A10,10,0,1,0,26,16,10,10,0,0,0,16,6Z",fill:"black"}}];break;case"TriangleDash":c=[{tag:"rect",class:"e-indicator-color",attr:{x:"2",y:"12",width:"28",height:"8"}},{tag:"path",class:"e-indicator-stroke",attr:{d:"M31,21H1V11H31ZM3,19H29V13H3Z"}}];break;case"TriangleDown":c=[{tag:"polygon",class:"e-indicator-color",attr:{points:"16 24.34 3 7 29 7 16 24.34"}},{tag:"path",class:"e-indicator-stroke",attr:{d:"M16,26,1,6H31ZM5,8,16,22.67,27,8Z"}}];break;case"TriangleUp":c=[{tag:"polygon",class:"e-indicator-color",attr:{points:"16 7.67 29 25 3 25 16 7.67"}},{tag:"path",class:"e-indicator-stroke",attr:{d:"M31,26H1L16,6ZM5,24H27L16,9.33Z"}}];break;case"None":c=[]}return c},_renderRadialGauge:function(n,c,r,u,_,w,v,a,s){var h=n.GaugePanel.RadialGauges[0],t={scale:h.ScaleProperties[0],pointer:h.ScaleProperties[0].RadialPointer?h.ScaleProperties[0].RadialPointer[0]:undefined,range:h.ScaleProperties[0].Range?h.ScaleProperties[0].Range[0]:undefined},o=this._buildTag("div","e-reportviewer-tab-focus-none",h.ToolTip,{id:this._controlKeyGenerator(this._id+"_"+r+"_"+h.Name,v,a,s)},{tabindex:"0","aria-label":h.Name});a||this._dataVisualization.push({name:r,id:o.id,type:"GaugeModel",itemType:"Radial"}),this._setTagStyle(o,{position:"relative",left:h.Left+"%",top:h.Top+"%",width:h.Width+"%",height:h.Height+"%",border:"1px dashed transparent",overflow:"hidden","box-sizing":"border-box"}),this._appendChild(c,o);var p=t.pointer&&t.pointer.Value>t.scale.Maximum?this._getGaugeMaxValue(t.pointer.Value):t.scale.Maximum,g=t.pointer&&t.pointer.Value>t.scale.Maximum?this._getGaugeMaxValue(t.pointer.Value):t.scale.ScaleInterval;new ejs.circulargauge.CircularGauge({background:"transparent",height:"302px",width:"302px",loaded:function(C){var T=$(C.gauge.element.querySelector("svg"));T[0].setAttributeNS(null,"viewBox","0 0 300 300"),T.css({height:"100%",width:"100%",position:"absolute",top:h.PivotY-50+"%",left:h.PivotX-50+"%"}),n.GaugePanel.GaugeLabel&&n.GaugePanel.GaugeLabel.length>0&&"None"!==n.GaugePanel.GaugeLabel[0].ParentItem&&this._renderGaugeItemLabel(n,t,T)}.bind(this),axes:[{minimum:t.scale.Minimum,maximum:p,startAngle:180+t.scale.StartAngle,endAngle:180+t.scale.StartAngle+t.scale.SweepAngle,direction:t.scale.Reversed?"AntiClockWise":"ClockWise",showLastLabel:t.scale.Label.ShowEndLabels,labelStyle:{autoAngle:t.scale.Label.RotateLabels,font:{size:t.scale.Label.Hidden?"0":t.scale.Label.FontSize+"px",fontFamily:t.scale.Label.FontFamily,color:t.scale.Label.Color,fontStyle:"Default"===t.scale.Label.FontStyle||"Normal"===t.scale.Label.FontStyle?"normal":"italic",fontWeight:this._getConvertedFontWeight(t.scale.Label.FontWeight)},position:t.scale.Label.LabelPlacement,offset:t.scale.Label.RotateLabels?7:3},lineStyle:{width:t.scale.ScaleWidth,color:t.scale.BackgroundColor},majorTicks:{interval:"null"===t.scale.TickMark.MajorTickInterval?"null"===t.scale.ScaleInterval?null:parseFloat(g):parseFloat(t.scale.TickMark.MajorTickInterval),height:t.scale.TickMark.MajorTickHide?0:t.scale.TickMark.MajorTickLength,width:t.scale.TickMark.MajorTickWidth,position:t.scale.TickMark.MajorTickPlacement,color:t.scale.TickMark.MajorTickColor},minorTicks:{interval:"null"===t.scale.TickMark.MinorTickInterval?null:parseFloat(t.scale.TickMark.MinorTickInterval),height:t.scale.TickMark.MinorTickHide?0:t.scale.TickMark.MinorTickLength,width:t.scale.TickMark.MinorTickWidth,position:t.scale.TickMark.MinorTickPlacement,color:t.scale.TickMark.MinorTickColor},pointers:this._updateRadialPointers(["Circle","Rectangle","Triangle","Diamond"],h.ScaleProperties[0].RadialPointer),ranges:this._updateRadialRanges(h.ScaleProperties[0].Range)}]}).appendTo(o)},_updateRadialPointers:function(n,c){var u,_,r=[];if(null!=c&&c.length>0)for(u=0;u<c.length;u++)_=this._getRadialPointerSize(c[u]),r.push({value:c[u].Value,color:c[u].BackgroundColor,position:c[u].Placement,cap:{radius:c[u].CapHidden?0:c[u].CapRadius/2,color:c[u].CapBackGroundColor},type:"Bar"===c[u].Type?"RangeBar":c[u].Type,markerWidth:_.width,pointerWidth:_.width,markerHeight:_.height,markerShape:-1===n.indexOf(c[u].MarkerStyle)?"Triangle":c[u].MarkerStyle,animation:{enable:!1}});return r},_updateRadialRanges:function(n){var r,c=[];if(null!=n&&n.length>0)for(r=0;r<n.length;r++)c.push({start:n[r].StartValue,end:n[r].EndValue,startWidth:n[r].StartWidth,endWidth:n[r].EndWidth,color:n[r].BackgroundColor,position:n[r].RangePlacement,linearGradient:{startValue:"0%",endValue:"100%",colorStop:[{color:n[r].BackgroundColor,offset:"0%",opacity:.9},{color:n[r].BackgroundGradientEndcolor,offset:"70%",opacity:.9}]}});return c},_getGaugeMaxValue:function(n){var w,v,a,s,h,t,o,c=n/10,r=n/100,u=r>=1?r:c>=1?c:n,_=null;u<1&&(v=100*u,(w=10*u)>=1?_=!0:v>=1&&(_=!1),u=w<1?v<1?u:v:w);var p=u/20+u,g=0;if(u>=4&&u<=8)g=Math.ceil(p);else for(a=Math.ceil(10*p),(s=[]).push(8*Math.ceil(a/8)/10),s.push(7*Math.ceil(a/7)/10),s.push(6*Math.ceil(a/6)/10),s.push(Math.ceil(a/5)/2),h=0;h<s.length&&(t=0===h?s[h]:g,o=s[h+1],g=Math.abs(t-u)<Math.abs(o-u)?t:o,2!==h);h++);return!0===_||!1===_?!0===_?g/10:g/100:g*(r>=1?100:c>=1?10:1)},_getRadialGaugeType:function(n,c){var r=c.scale.StartAngle.toString(),u=c.scale.SweepAngle.toString(),_=n.GaugePanel.RadialGauges[0].PivotY.toString();return"20"===r&&"320"===u&&"50"===_?"Radial":"90"===r&&"180"===u&&"68"===_?"HalfCircle":"Auto"},_updateGaugeLabelSize:function(n,c,r){var u=this._getRadialGaugeType(n,c),_=c.pointer?c.pointer.Type:"";r.attr({x:"50%",y:("HalfCircle"===u&&"Needle"===_?"65":"Radial"===u&&"Needle"===_?"95":"50")+"%"})},_getRadialPointerSize:function(n){var c={},r="Marker"===n.Type&&-1!==["Circle","Rectangle","Triangle","Diamond"].indexOf(n.MarkerStyle)&&"Triangle"!==n.MarkerStyle;return c.width=r?n.MarkerLength:n.Width,c.height=r?n.Width:n.MarkerLength,c},_renderGaugeItemLabel:function(n,c,r){var v,u=n.GaugePanel.GaugeLabel[0],_="http://www.w3.org/2000/svg",w=$(document.createElementNS(_,"g"));w[0].setAttribute("class","e-anotation"),v=$(document.createElementNS(_,"text")),w.append(v),r[0].appendChild(w[0]),v.attr({fill:u.TextColor,"font-size":u.Font.FontSize+"px","font-family":u.Font.FontFamily,"font-style":"Default"===u.Font.FontStyle||"Normal"===u.Font.FontStyle?"normal":"italic","font-weight":this._getConvertedFontWeight(u.Font.FontWeight),"text-decoration":u.TextDecoration,"text-anchor":"middle","dominant-baseline":"middle"}),v.text(u.Text),this._updateGaugeLabelSize(n,c,v)},_renderLinearGauge:function(n,c,r,u,_,w,v,a,s){var h=n.GaugePanel.LinearGauges[0],t={scale:h.ScaleProperties[0],pointer:h.ScaleProperties[0].LinearPointer?h.ScaleProperties[0].LinearPointer[0]:undefined,range:h.ScaleProperties[0].Range?h.ScaleProperties[0].Range[0]:undefined},o=this._getLinearGaugeOrientationInfo(h.Orientation,n.Height,n.Width),l=this._buildTag("div","e-reportviewer-tab-focus-none",h.ToolTip,{id:this._controlKeyGenerator(this._id+"_"+r+"_"+h.Name,v,a,s)},{tabindex:"0","aria-label":h.Name});a||this._dataVisualization.push({name:r,id:l.id,type:"GaugeModel",itemType:"Linear"}),this._setTagStyle(l,{position:"inherit",left:h.Left+"%",top:h.Top+"%",width:h.Width+"%",height:h.Height+"%",border:"1px dashed transparent",overflow:"hidden","box-sizing":"border-box"}),this._appendChild(c,l);var g=t.pointer&&t.pointer.Value>t.scale.Maximum?this._getGaugeMaxValue(t.pointer.Value):t.scale.Maximum,b=t.pointer&&t.pointer.Value>t.scale.Maximum?this._getGaugeMaxValue(t.pointer.Value):t.scale.ScaleInterval;new ejs.lineargauge.LinearGauge({orientation:o.orientation,background:"transparent",width:o.width+"px",height:o.height+"px",axes:[{minimum:t.scale.Minimum,maximum:g,isInversed:t.scale.Reversed,showLastLabel:t.scale.Label.ShowEndLabels,labelStyle:{font:{size:t.scale.Label.Hidden?"0":t.scale.Label.FontSize+"px",fontFamily:t.scale.Label.FontFamily,color:t.scale.Label.Color,fontStyle:"Default"===t.scale.Label.FontStyle||"Normal"===t.scale.Label.FontStyle?"normal":"italic",fontWeight:this._getConvertedFontWeight(t.scale.Label.FontWeight)},position:t.scale.Label.LabelPlacement},line:{width:t.scale.ScaleWidth,color:t.scale.BackgroundColor},majorTicks:{interval:"null"===t.scale.TickMark.MajorTickInterval?"null"===t.scale.ScaleInterval?null:parseFloat(b):parseFloat(t.scale.TickMark.MajorTickInterval),height:t.scale.TickMark.MajorTickHide?0:t.scale.TickMark.MajorTickLength,width:t.scale.TickMark.MajorTickWidth,position:t.scale.TickMark.MajorTickPlacement,color:t.scale.TickMark.MajorTickColor},minorTicks:{interval:"null"===t.scale.TickMark.MinorTickInterval?null:parseFloat(t.scale.TickMark.MinorTickInterval),height:t.scale.TickMark.MinorTickHide?0:t.scale.TickMark.MinorTickLength,width:t.scale.TickMark.MinorTickWidth,position:t.scale.TickMark.MinorTickPlacement,color:t.scale.TickMark.MinorTickColor},pointers:this._updateLinearPointers(["Circle","Rectangle","Triangle","Diamond"],["Bar","Marker"],o,h.ScaleProperties[0].LinearPointer),ranges:this._updateLinearRanges(h.ScaleProperties[0].Range)}]}).appendTo(l)},_updateLinearPointers:function(n,c,r,u){var w,_=[];if(null!=u&&u.length>0)for(w=0;w<u.length;w++)_.push({color:u[w].BackgroundColor,position:u[w].Placement,type:-1===c.indexOf(u[w].Type)?"Marker":u[w].Type,value:u[w].Value,width:this._updateLinearPointerSize(u[w],r.orientation).width,height:this._updateLinearPointerSize(u[w],r.orientation).height,markerType:-1===n.indexOf(u[w].MarkerStyle)?"Triangle":u[w].MarkerStyle,animation:{enable:!1}});return _},_updateLinearRanges:function(n){var r,c=[];if(null!=n&&n.length>0)for(r=0;r<n.length;r++)c.push({start:n[r].StartValue,end:n[r].EndValue,startWidth:n[r].StartWidth,endWidth:n[r].EndWidth,color:n[r].BackgroundColor,position:"Inside"==n[r].RangePlacement?"Outside":"Outside"==n[r].RangePlacement?"Inside":"Cross",linearGradient:{startValue:"0%",endValue:"100%",colorStop:[{color:n[r].BackgroundColor,offset:"0%",opacity:1},{color:n[r].BackgroundGradientEndcolor,offset:"100%",opacity:1}]}});return c},_getLinearGaugeOrientationInfo:function(n,c,r){var u={};return u.orientation="Auto"===n?c<r?"Horizontal":"Vertical":n,u.height=c,u.width=r,u},_updateLinearPointerSize:function(n,c){var r,u;switch(c){case"Horizontal":u="Marker"===n.Type?n.Width:n.MarkerLength,r="Marker"===n.Type?n.MarkerLength:n.Width;break;case"Vertical":u="Marker"===n.Type?n.MarkerLength:n.Width,r="Marker"===n.Type?n.Width:n.MarkerLength}return{width:u,height:r}},_renderLineControl:function(n,c,r,u){var s,h,t,o,l,_="http://www.w3.org/2000/svg",w=this._controlKeyGenerator(this._id+"_"+(null!=n.ItemName?n.ItemName:n.Name),c,r,u),v=this._buildTag("div","e-reportviewer-tab-focus-none",null,{id:w},{tabindex:"0","aria-label":this._getLocaleString("reportItemLabel","Line")+n.Name}),a={position:"absolute","-webkit-box-sizing":"border-box","-moz-box-sizing":"border-box","box-sizing":"border-box"};return a.top=n.Top+"px",a.left=n.Left+"px",a.width=0==n.Width?"11.00064px":n.Width+"px",a.height=0==n.Height?"16.00128px":n.Height+"px",a.visibility=n.Hidden?"hidden":"visible",this._setTagStyle(v,a),this._svg?((s=document.createElementNS(_,"svg")).setAttributeNS(null,"width",0==n.Width?"11.00064":n.Width+n.LineWidth),s.setAttributeNS(null,"height",0==n.Height?"16.00128":n.Height+n.LineWidth),(h={})["vertical-align"]="top",this._setTagStyle(s,h),(t=document.createElementNS(_,"line")).setAttributeNS(null,"x1",0==n.X1?n.LineWidth:n.X1),t.setAttributeNS(null,"y1",0==n.Y1?n.LineWidth:n.Y1),t.setAttributeNS(null,"x2",0==n.X2?n.LineWidth:n.X2),t.setAttributeNS(null,"y2",0==n.Y2?n.LineWidth:n.Y2),t.setAttributeNS(null,"stroke",n.LineColor),t.setAttributeNS(null,"stroke-width",n.LineWidth),t.setAttributeNS(null,"shape-rendering","crispEdges"),"Dashed"==n.LineStyle?t.setAttributeNS(null,"stroke-dasharray",2*n.LineWidth+","+2*n.LineWidth):"Dotted"==n.LineStyle&&t.setAttributeNS(null,"stroke-dasharray",n.LineWidth),this._appendChild(s,t),this._appendChild(v,s)):(document.namespaces.add("v","urn:schemas-microsoft-com:vml"),document.createStyleSheet().cssText="v\\:fill, v\\:path, v\\:polyline, v\\:line, v\\:rect,v\\:shape,v\\:oval, v\\:stroke{ behavior:url(#default#VML); display: inline-block; } ",o=document.createElement("<v:line id='line' from='"+n.X1+","+n.Y1+"' to='"+n.X2+","+n.Y2+"' strokecolor='"+n.LineColor+"' strokeweight='"+n.LineWidth+"pt'><v:stroke dashstyle='dot'></v:stroke></v:line>"),(l=document.createElement("v:stroke")).setAttribute("dashstyle","Dotted"==n.LineStyle?"dot":"Dashed"==n.LineStyle?"dash":"solid"),l.outerHTML=l.outerHTML,this._appendChild(o,l),o.style.position="absolute",o.style.width=n.Width,o.style.height=n.Height,o.style.visibility="visible",this._appendChild(v,o)),v},_renderSubReportControl:function(n,c,r,u,_,w,v){var o,l,p,a=this._controlKeyGenerator(this._id+"_"+(null!=n.ItemName?n.ItemName:n.Name),u,_,w),s=this._buildTag("div","e-reportviewer-tab-focus-none",n.ToolTip,{id:a},{tabindex:"0","aria-label":this._getLocaleString("reportItemLabel","Subreport")+n.Name}),h={"-webkit-box-sizing":"border-box","-moz-box-sizing":"border-box","box-sizing":"border-box"};if(this._appendChild(r,s),h.position=c?"relative":"absolute",h.top=n.Top+"px",h.left=n.Left+"px",h.width=n.Width+"px",h.height=n.Height+"px",h["background-color"]=n.BackgroundColor,h.visibility=n.Hidden?"hidden":"visible",n.BackgroundImageSrc&&(h["background-image"]=this._getImageDataURL(n.EmbedImageData,_,_?"PrintImage":"GetResource",n.BackgroundImageSrc)),n.Padding&&(n.Padding.Left&&(h["padding-left"]=n.Padding.Left+"px"),n.Padding.Right&&(h["padding-right"]=n.Padding.Right+"px"),n.Padding.Top&&(h["padding-top"]=n.Padding.Top+"px"),n.Padding.Bottom&&(h["padding-bottom"]=n.Padding.Bottom+"px")),n.Style&&(n.Style.Font&&(n.Style.Font.FontFamily&&(h["font-family"]="'"+n.Style.Font.FontFamily+"'"),n.Style.Font.FontSize&&(h["font-size"]=n.Style.Font.FontSize+"px"),n.Style.Font.FontStyle&&(h["font-style"]=n.Style.Font.FontStyle),n.Style.Font.FontWeight&&(h["font-weight"]=this._getConvertedFontWeight(n.Style.Font.FontWeight))),h.color=n.Style.TextColor?n.Style.TextColor:"black",n.Style.TextDecoration&&(h["text-decoration"]=n.Style.TextDecoration)),n.TextAlign&&(h["text-align"]=n.TextAlign),n.VerticalAlign&&(h["vertical-align"]=n.VerticalAlign),n.Border&&!c&&this._applyBorderStyle(n.Border,s),this._setTagStyle(s,h),n.ReportItemModels&&n.ReportItemModels.length>0)for(o=0;o<n.ReportItemModels.length;o++)(l=n.ReportItemModels[o])&&("TextBoxModel"==l.ItemType?this._renderTextBoxControl(l,!1,a+"_"+l.Name,_,w,s):"LineModel"==l.ItemType?(p=this._renderLineControl(l,a+"_"+l.Name,_,w),this._appendChild(s,p)):"ImageModel"==l.ItemType?this._renderImageControl(l,!1,s,a+"_"+l.Name,_,w):"CustomReportItemModel"==l.ItemType?this._renderCustomReportItemControl(l,!1,s,a+"_"+l.Name,_,w):"TablixModel"==l.ItemType?this._renderTablixControl(l,!1,{},s,a+"_"+l.Name,_,w,v):"GaugeModel"==l.ItemType?this._renderGaugeControl(l,!1,!1,{},s,a+"_"+l.Name,_,w):"RectangleModel"==l.ItemType?this._renderRectangleControl(l,!1,s,a+NaN+l.Name,_,w,v):"ChartModel"==l.ItemType?this._renderChartControl(l,!1,!1,{},s,a+"_"+l.Name,_,w):"MapModel"==l.ItemType?this._renderMapControl(l,!1,s,a+"_"+l.Name,_,w):"SubReportModel"==l.ItemType&&this._renderSubReportControl(l,!1,s,a+NaN+l.Name,_,w,v))},doAjaxPost:function(n,c,r,u){var s,_=this,w=u,v=ej.ReportViewer.Locale[_.model.locale]?ej.ReportViewer.Locale[_.model.locale]:ej.ReportViewer.Locale["en-US"],a={reportViewerToken:_._reportViewerToken,reportViewerClientId:_._reportViewerToken,serviceAuthorizationToken:_.model.serviceAuthorizationToken?_.model.serviceAuthorizationToken:"",serverUrl:_.model.reportServerUrl?_.model.reportServerUrl:"",headerReq:[],headers:[],data:null,inVokemethod:u};_._onAjaxRequest(a),_.model.reportCacheID=_.model.reportServerId,s=jQuery.parseJSON(r),a.reportViewerToken&&a.reportViewerToken.length>0&&(s.reportViewerToken=a.reportViewerToken,s.reportViewerClientId=a.reportViewerToken),_._sessionToken&&(s.sessionToken=_._sessionToken),_.model.reportCacheID&&_.model.reportCacheID.length>0&&(s.reportCacheID=_.model.reportCacheID),a.data&&(s.customData=a.data),!ej.isNullOrUndefined(a.actionName)&&a.actionName.trim().length>0&&(c=c.replace(c.substr(c.lastIndexOf("/")+1),a.actionName.trim())),_.model.enableRequestLimiting&&(s.enableRequestLimiting="true"),r=JSON.stringify(s),this.ajaxLoad=$.ajax({type:n,url:c,crossDomain:!0,contentType:"application/json; charset=utf-8",dataType:"json",data:r,beforeSend:function(h){var t;if(("_getPageModel"==w||"_getPreviewModel"==w)&&(_._isDevice||!_.model.enableOnScrollNavigation)&&(_._isToolbarClick?_._showNavigationIndicator(!0):_._showloadingIndicator(!0)),"SelfHost"!=_._serviceType&&(a.serviceAuthorizationToken&&a.serviceAuthorizationToken.length>0&&(h.setRequestHeader("serviceAuthorizationToken",a.serviceAuthorizationToken),a.reportViewerToken&&a.reportViewerToken.length>0&&h.setRequestHeader("reportViewerToken",a.reportViewerToken)),a.serverUrl&&a.serverUrl.length>0&&h.setRequestHeader("serverUrl",a.serverUrl),a.headerReq&&a.headerReq.length>0))for(t=0;t<a.headerReq.length;t++)h.setRequestHeader(a.headerReq[t].Key,a.headerReq[t].Value);if(a.headers&&a.headers.length>0)for(t=0;t<a.headers.length;t++)h.setRequestHeader(a.headers[t].Key,a.headers[t].Value)},success:function(h){if("string"==typeof h&&"Sf_legacy"!=h)try{h=JSON.parse(h)}catch{}if(!0===h&&(_._isPageRendered=!0),h&&h.serviceType&&h.serviceType!==_._serviceType&&(_._serviceType=h.serviceType),_._cancelPrintExport)_._showPrintExportProgressIndicator(!1),_._cancelPrintExport=!1;else if(_._cancelProcessing)_._reportCancel(_);else if(_.model&&h.errorInfo){var t={errmsg:h.errorInfo.Message};_._onReportError(t),h.exportError!=undefined||t.cancel||(_._renderErrorMsg(t.errmsg),_._showExceptionBlock(!0,h.errorInfo)),h.showAlert&&!t.cancel&&_._showAlertDialog(t.errmsg,null,!1)}else _.model&&(h&&typeof h.Data<"u"&&(h=h.Data),"string"==typeof h&&"Sf_legacy"!=h&&_._renderErrorMsg(v.alertMessage.RVERR0003+" InVokemethod:- "+w+":"+h),"object"!=typeof h||ej.isNullOrUndefined(_.model)||_._onAjaxSuccess(h),h&&h.licensingMessage&&(_._licenseMessage=_._getLocalizedErrorMessage(h.licensingMessage)),null!=h.PreviousActions?(h.PreviousActions.ReportLoad!=undefined&&_._reportLoaded(h.PreviousActions.ReportLoad),h.PreviousActions.GetParameter!=undefined&&_._getParameters(h.PreviousActions.GetParameter),_._getPageModel(h)):_[w](h))},error:function(h){_.model&&"_clearCurrentServerCache"!=w&&(_._onAjaxFailure(h),0==h.readyState?"_exportReport"==w?(_._showAlertDialog(v.errorMessage.exportAjaxFailureMsg==undefined?null:v.errorMessage.exportAjaxFailureMsg,null,!1),_._showPrintExportProgressIndicator(!1)):"_getPrintModel"==w?(_._renderErrorMsg(v.errorMessage.printAjaxFailureMsg==undefined?null:v.errorMessage.printAjaxFailureMsg),_._showPrintExportProgressIndicator(!1)):_._renderErrorMsg(v.errorMessage.reportLoadAjaxFailureMsg==undefined?null:v.errorMessage.reportLoadAjaxFailureMsg):_._renderErrorMsg(h.responseText))}})},_getLocalizedErrorMessage:function(n){var c=this._getLocaleString("errorMessage","licenseMsgWeb"),r=this._getLocaleString("errorMessage","licenseMsgNetCore");return r.toLowerCase()===n.toLowerCase()?r:c},_reportCancel:function(n){n._renderErrorMsg(n._getLocaleString("errorMessage","cancelReportProcessMsg")),n._viewReportEnableDisable(!1),n._isToolbarClick=!0,n._cancelProcessing=!1,n._currnetDocMapNodeId=null,n._currentBookmarkInfo=null},_renderErrorMsg:function(n){$("#"+this._id+"_pageviewContainer").css("display","none"),$("#"+this._id+"_viewerBlockCellContent").removeClass("e-reportviewer-paramblock-disable"),$("#"+this._id+"_toolbarUl_navigate").addClass("e-reportviewer-toolbar-disable"),this._isDevice?$("#"+this._id+"_toolbarUl_exportZoom").addClass("e-reportviewer-toolbar-disable"):($("#"+this._id+"_toolbarUl_printExport").addClass("e-reportviewer-toolbar-disable"),$("#"+this._id+"_toolbarUl_zoom").addClass("e-reportviewer-toolbar-disable")),this._showNavigationIndicator(!1),this._showparameterLoadingIndicator(!1,null),this._showPrintExportProgressIndicator(!1),!ej.isNullOrUndefined(n)&&n.length>0&&($("#"+this._id+"_errorMsgContainer").css("display","block"),$("#"+this._id+"_errorMsgSpan").text(n)),this._showloadingIndicator(!1),this._onElementsRendered({action:"Error"})},_ajaxCallMethod:function(n,c,r,u){n==this._reportAction.reportLoad||"reloadReport"==n?this.doAjaxPost("POST",this._actionUrl,this.model.parameters&&this.model.parameters.length>0?JSON.stringify({reportAction:this._reportAction.reportLoad,parameters:this.model.parameters,isReloadReport:"reloadReport"===n,controlId:this._id,reportPath:this.model.reportPath,enableVirtualEvaluation:this.model.enableVirtualEvaluation,reportServerUrl:this.model.reportServerUrl,processingMode:this.model.processingMode,locale:this.model.locale,customBrandSettings:this.model.customBrandSettings,enableSearchText:this._enableSearchText}):JSON.stringify({reportAction:this._reportAction.reportLoad,isReloadReport:"reloadReport"===n,controlId:this._id,reportPath:this.model.reportPath,enableVirtualEvaluation:this.model.enableVirtualEvaluation,reportServerUrl:this.model.reportServerUrl,processingMode:this.model.processingMode,locale:this.model.locale,enableSearchText:this._enableSearchText,accessInternalValue:this.model.parameterSettings.accessInternalValue,customBrandSettings:this.model.customBrandSettings}),c):n==this._reportAction.validateDSCredential?this.doAjaxPost("POST",this._actionUrl,JSON.stringify({reportAction:this._reportAction.validateDSCredential,dataSourceCredentials:this._dataSources}),c):(n==this._reportAction.getParameters||n==this._reportAction.getPrintModel)&&(this.model.parameters&&(u=this.model.parameters),this._reloadParams&&this._reloadParams.length>0&&(u=this._reloadParams),this.doAjaxPost("POST",this._actionUrl,JSON.stringify({reportAction:n,parameters:this._isDrillThroughReport?null:u,dataSources:this.model.dataSources.length>0?this.model.dataSources:null}),c),this._reloadParams=[]),n==this._reportAction.updateParameters?this.doAjaxPost("POST",this._actionUrl,JSON.stringify({reportAction:this._reportAction.updateParameters,updateParam:this._updateParam}),"_updateParameters"):n!=this._reportAction.getPageModel||r?n==this._reportAction.drillDown||n==this._reportAction.sorting?this.doAjaxPost("POST",this._actionUrl,JSON.stringify({reportAction:n,pageindex:this._currentPage,toggleInfo:this._serverActionInfo,refresh:!1,dataRefresh:!1,pageInit:this._isToolbarClick,isPrint:this._printMode}),c):n==this._reportAction.documentMap||n==this._reportAction.clearCache?this.doAjaxPost("POST",this._actionUrl,JSON.stringify({reportAction:n}),c):n==this._reportAction.getPageModel&&r&&this.doAjaxPost("POST",this._actionUrl,JSON.stringify({reportAction:this._reportAction.getPageModel,refresh:this._refresh,dataRefresh:this._dataRefresh,pageindex:this._currentPage,pageInit:this._isToolbarClick,isPrint:this._printMode,dataSources:this.model.dataSources.length>0?this.model.dataSources:null,PageSetup:this._paperSetup}),c):(ej.isNullOrUndefined(u)&&(u=this.model.parameters.length>0&&!this._isDrillThroughReport?this.model.parameters:null),this._reloadParams&&this._reloadParams.length>0&&(u=this._reloadParams),this._printMode&&this._isPageSetupValueChange?(this.doAjaxPost("POST",this._actionUrl,JSON.stringify({reportAction:this._reportAction.getPageModel,refresh:this._refresh,dataRefresh:this._dataRefresh,pageindex:this._currentPage,pageInit:this._isToolbarClick,isPrint:this._printMode,dataSources:this.model.dataSources.length>0?this.model.dataSources:null,parameters:u,PageSetup:this._paperSetup}),c),this._isPageSetupValueChange=!1):this.doAjaxPost("POST",this._actionUrl,JSON.stringify({reportAction:this._reportAction.getPageModel,refresh:this._refresh,dataRefresh:this._dataRefresh,pageindex:this._currentPage,pageInit:this._isToolbarClick,isPrint:this._printMode,dataSources:this.model.dataSources.length>0?this.model.dataSources:null,parameters:u}),c),this._reloadParams=[]),n==this._reportAction.getSearchPages&&this.doAjaxPost("POST",this._actionUrl,JSON.stringify({reportAction:this._reportAction.getPageModel,searchText:this._searchText,refresh:this._refresh,dataRefresh:this._dataRefresh,pageindex:this._currentPage,pageInit:this._isToolbarClick,isPrint:this._printMode,dataSources:this.model.dataSources.length>0?this.model.dataSources:null,parameters:u}),c)},_loadReportFromBegin:function(){this._showloadingIndicator(!0),this._off($("#"+this._id+"_viewReportClick"),"click",this._viewReportParamsClick),this._destroyPageItems(),this._clearPageCache(),this._showNavigationIndicator(!1),this._viewReportEnableDisable(!1),this._showException(!1),this._reportParametersModel&&(this._reloadParams=this._getParameterJson(this._reportParametersModel,!1),this._reloadParams&&(this._reportParameters=this._reloadParams)),this._ajaxCallMethod("reloadReport","_reportLoaded",!1)},_isReloadResult:function(n){return!!n.reloadReport},_reportLoaded:function(n){var c,_,w,v,a,s;if(this._isReloadResult(n))this._loadReportFromBegin(n);else if(c=ej.ReportViewer.Locale[this.model.locale]?ej.ReportViewer.Locale[this.model.locale]:ej.ReportViewer.Locale["en-US"],"inProgress"==n.inProgress)this._reportViewerToken=n.reportViewerToken,this.doAjaxPost("POST",this._actionUrl,JSON.stringify({inProgress:"inProgress",reportAction:this._reportAction.reportLoad,reportViewerToken:n.reportViewerToken}),"_reportLoaded");else if("object"==typeof n&&n.isReportLoad)if(n){if(this._paramInfo=n.paramInfo,this._reportParameters=n.reportParameters,this._reportDataSources=n.dataSources,this._reporDataSets=n.dataSets,this._reportViewerToken=n.reportViewerToken,this._sessionToken=n.sessionToken,this._serviceType=n.serviceType,this._isRDLC=n.isRDLC,this._onReportLoaded(),null!=n.dataSources?this._getDataSourceCredential(n.dataSources):this.model.enableRequestLimiting||("Params"==n.paramInfo?this._ajaxCallMethod(this._reportAction.getParameters,"_getParameters",!1):this._ajaxCallMethod(this._reportAction.getPageModel,this._printMode?"_getPreviewModel":"_getPageModel",!1)),null!=n.toolbarCustomProperties&&n.toolbarCustomProperties.length>0)for(_=n.toolbarCustomProperties,w=0;w<_.length;w++)switch(v=_[w].Name.toLowerCase(),a=_[w].Value,v){case"showparameterblock":this._showParameterBlock(this.model.toolbarSettings.items&a);break;case"showprintbutton":this._showPrintButton(this.model.toolbarSettings.items&a);break;case"showrefreshbutton":this._showRefreshButton(this.model.toolbarSettings.items&a);break;case"showfindbutton":this._showFindButton(this.model.toolbarSettings.items&a);break;case"showstopbutton":this._showStopButton(this.model.toolbarSettings.items&a);break;case"showexportsetupbutton":this._showExportSetupButton(this.model.toolbarSettings.items&a);break;case"showzoomcontrol":this._showZoomControl(this.model.toolbarSettings.items&a);break;case"showfittopage":this._showFittoPage(this.model.toolbarSettings.items&a);break;case"showexportcontrols":this._showExportControls(this.model.toolbarSettings.items&a);break;case"showprintpagecontrols":this._showPrintPageSetupButton(this.model.toolbarSettings.items&a);break;case"showperformancemetricsbutton":this._showPerformanceMetricsButton(this.model.toolbarSettings.items&a);break;case"showexportlist":this._showExportList();break;case"showpagenavigationcontrols":this._showPageNavigationControls(this.model.toolbarSettings.items&a);break;case"showpreviewbutton":this._showPreviewButton(this.model.toolbarSettings.items&a);break;case"showdrillthrough":this._showDrillThrough(this.model.toolbarSettings.items&a);break;case"showdocumentmap":this._showDocumentMap(this.model.toolbarSettings.items&a)}}else s=this._onReportError({errmsg:"ReportViewer failed to load the Report"}),this._showException(!s,{content:c.alertMessage.RVERR0001,description:""});else this._reportViewerToken=n.reportViewerToken,this._sessionToken=n.sessionToken,!ej.isNullOrUndefined(n.paramInfo)&&n.paramInfo&&(this._paramInfo=n.paramInfo),!ej.isNullOrUndefined(n.serviceType)&&n.serviceType&&(this._serviceType=n.serviceType),!ej.isNullOrUndefined(n.parameters)&&n.parameters?this._getParameters(n):!ej.isNullOrUndefined(n.reportPageModel)&&n.reportPageModel?this._getPageModel(n):(s=this._onReportError({errmsg:"Report Loaded:"+n,innerMessage:n}),this._showException(!s,{content:c.alertMessage.reportLoad+n,description:c.alertMessage.RVERR0001}))},_getDataSourceCredential:function(n){if(ej.isNullOrUndefined(n)||"Sf_legacy"==n)this.doAjaxPost("POST",this._actionUrl,JSON.stringify({reportAction:this._reportAction.updateDataSource}),"_updateDataSource");else if(this._renderCredentialBlock(n),this._showViewerBlock(!0),this.model.enableDatasourceBlockScroller&&n&&n.length>=2){var c=this._getScrollerHeight(this._id+"_credential_block_table",5);this._setScrollerHeight(c)}else this._setScrollerHeight("auto");this._refreshScroller(),this._showloadingIndicator(!1),this._setContainerSize(),this._showloadingIndicator(!0),this._onElementsRendered({action:"Credential"})},_validateDSCredential:function(n){"Sf_legacy"==n?(this._showloadingIndicator(!1),this._showViewerBlock(!1),this._setContainerSize(),this._showloadingIndicator(!0),"Params"==this._paramInfo?this._ajaxCallMethod(this._reportAction.getParameters,"_getParameters",!1):this._ajaxCallMethod(this._reportAction.getPageModel,this._printMode?"_getPreviewModel":"_getPageModel",!1),this._dataSources=null,this._unwiredViewClickEvent()):this._showAlertDialog(n,(ej.ReportViewer.Locale[this.model.locale]?ej.ReportViewer.Locale[this.model.locale]:ej.ReportViewer.Locale["en-US"]).alertMessage.RVERR0008,!1)},_showLicenseMsg:function(n){var r,c=document.getElementById(this._id+"_licensing_msgContainer");if(ej.isNullOrUndefined(c)){c=this._buildTag("div","",null,{id:this._id+"_licensing_msgContainer"});var u=this._buildTag("div","e-licensing-container",null,{id:this._id+"_licensing_content"}),_={display:"table",position:"absolute",width:"100%",height:"100%","pointer-events":"none","z-index":ej.util.getZindexPartial(this.element)},w={width:"100%",height:"100%","font-weight":"bold","font-family":"Arial",color:"black",opacity:"0.2","text-align":"center","vertical-align":"middle","pointer-events":"none",display:"table-cell",filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=3)"};"msie"===this._browserInfo.name||"edge"===this._browserInfo.name||"webkit"===this._browserInfo.name?(_["margin-top"]="Trial"===n?"75px":"175px",w.overflow="hidden",w["font-size"]="Trial"===n?"70px":"50px"):(_.overflow="hidden",w["font-size"]=("Trial"===n?100:70)+"px"),r="Trial"===n?210:750,$("#"+this._id+"_pageviewContainer").height()>r?(w.transform="rotate(-45deg)",w["-webkit-transform"]="rotate(-45deg)",w["-moz-transform"]="rotate(-45deg)",w["-ms-transform"]="rotate(-45deg)",w["-o-transform"]="rotate(-45deg)"):("msie"===this._browserInfo.name||"edge"===this._browserInfo.name||"webkit"===this._browserInfo.name)&&(_["margin-top"]="10px"),this._setTagStyle(c,_),this._setTagStyle(u,w),c.appendChild(u),document.getElementsByClassName("pageBodyBorder")[0].insertBefore(c,document.getElementById(this._id+"_pageviewbodyContainer")),u.innerText=n}},_updateDSCredential:function(){this.doAjaxPost("POST",this._actionUrl,JSON.stringify({reportAction:this._reportAction.updateDataSource}),"_updateDataSource")},_updateParameter:function(n){var c,r;if(n){var u=!1,_=ej.ReportViewer.Locale[this.model.locale]?ej.ReportViewer.Locale[this.model.locale]:ej.ReportViewer.Locale["en-US"],w=null;for(c=0;c<this._reportParametersModel.length;c++)(r=this._reportParametersModel[c])&&n&&r.Name==n.name&&r.IsDependent&&(u=!0,w=r);$("#"+this._id+"_viewerBlockCellContent").addClass("e-reportviewer-paramblock-disable"),this._updateCustomParametersModel(n),u&&w?this._showparameterLoadingIndicator(!0,_.parameterProcessingMessage,w.Name,w.Prompt):this._showparameterLoadingIndicator(!0,_.parameterProcessingMessage),u?(this._updateParam=n,this._ajaxCallMethod(this._reportAction.updateParameters,"_updateParameters",!1)):($("#"+this._id+"_errorMsgContainer").css("display","none"),$("#"+this._id+"_viewerBlockCellContent").removeClass("e-reportviewer-paramblock-disable"),this._showparameterLoadingIndicator(!1,null))}},_getParameters:function(n){var c,r,u,_,w;"Sf_legacy"!=n?((c=this._renderParameterBlock(n))?(this._setContainerSize(),this._getDefaultParameters(n)):(this._showViewerBlock(!n.parameters||0!=n.parameters.length),this._showloadingIndicator(!1),this.model.enableParameterBlockScroller&&n.parameters&&n.parameters.length>=5?(r=this._getScrollerHeight(this._id+"_param_block_table",5),this._setScrollerWidth(this._getItemWidth($("#"+this._id+"_viewerBlockCellContent"))),this._setScrollerHeight(r)):this._setScrollerHeight("auto"),this._setParameterBottomBorder(),this._setContainerSize(),this._showloadingIndicator(!0),(u=this._getParameterJson(n,!1))&&(this._reportParameters=u),(this.model.autoRender||this._isDrillThroughReport||this.model.isDataRendered)&&u?this.model.enableRequestLimiting||(this._ajaxCallMethod(this._reportAction.getPageModel,this._printMode?"_getPreviewModel":"_getPageModel",!1,u),this._isDevice&&this._toggleParameterBlock()):(this._showloadingIndicator(!1),this._hidePageView(),$("#"+this._id+"_toolbar_li_refresh").addClass("e-disable"),this._onElementsRendered({action:"Parameters"}))),this._refreshScroller(),!c&&this.model.autoRender&&u&&!this._isDevice&&this.model.parameterSettings.hideParameterBlock&&!this._dataRefresh&&(_=$("#"+this._id+"_viewBlockContainer").height(),w=$("#"+this._id+"_loadingIndicator_WaitingPopup"),this._toggleParameterBlock(),w.css("height",w.height()+_))):(this._showParameterBlock(!1),this._isForwardDirection=!0,this._ajaxCallMethod(this._reportAction.getPageModel,this._printMode?"_getPreviewModel":"_getPageModel",!1))},_setParameterBottomBorder:function(){var n=$("#"+this._id+"_viewer_paramblock").data("ejScroller");n&&(n.isHScroll()?$("#"+this._id+"_viewerBlockContent").css("border-bottom-style","solid"):$("#"+this._id+"_viewerBlockContent").css("border-bottom-style","none"))},_setParameters:function(n){var u,c=$("#"+this._id+"_viewBlockContainer .e-reportviewer-viewerblockcontent table:first").attr("data-isviewclick");"boolean"==typeof n&&(0==n?(this._showloadingIndicator(!0),this._setContainerSize(),this._isDevice&&(this._showViewerBlock(!1),this._showViewerPage(!0),this._selectparamToolItem(!1)),this._currentPage=1,this._clearPageCache(),this._isForwardDirection=!0,this._ajaxCallMethod(this._reportAction.getPageModel,this._printMode?"_getPreviewModel":"_getPageModel",!1)):(this._showloadingIndicator(!1),this._hidePageView(),"true"==c&&(u=ej.ReportViewer.Locale[this.model.locale]?ej.ReportViewer.Locale[this.model.locale]:ej.ReportViewer.Locale["en-US"],this._viewReportEnableDisable(!1),this._showAlertDialog(u.alertMessage.RVERR0004,"",!0))))},_updateParameters:function(n){"Sf_legacy"!=n&&this._updateParamElements(n),$("#"+this._id+"_errorMsgContainer").css("display","none"),$("#"+this._id+"_viewerBlockCellContent").removeClass("e-reportviewer-paramblock-disable"),this._showparameterLoadingIndicator(!1,null)},_updateDataSource:function(){this.doAjaxPost("POST",this._actionUrl,JSON.stringify({reportAction:this._reportAction.getParameters}),"_getParameters")},_clearObjects:function(n){this.doAjaxPost("POST",this._actionUrl,JSON.stringify({reportAction:this._reportAction.clearObjects,reportViewerToken:this._reportViewerToken,previousAction:n,isPrint:this._printMode}),"_clearCurrentServerCache")},_embedImageRequest:function(n){var c=this.model.reportServiceUrl+"/PostReportAction";c=this._getMultiTenantUrl(c,!0),this.doAjaxPost("POST",c,JSON.stringify({reportAction:this._reportAction.getImages,controlID:this._reportViewerToken,serviceAuthorizationToken:this.model.serviceAuthorizationToken?this.model.serviceAuthorizationToken:""}),n)},_inProgressRequest:function(n,c){this.doAjaxPost("POST",this._actionUrl,JSON.stringify({inProgress:"inProgress",reportAction:this._reportAction.getPageModel,reportViewerToken:n}),c)},_getPageModel:function(n){if(this._isReloadResult(n))this._loadReportFromBegin(n);else{if(n.executionInfo&&0!=n.executionInfo.EvaluateTime){var c=n.executionInfo;this._performanceMetrics={ParseTime:c.ParseTime,EvaluateTime:c.EvaluateTime,LayoutTime:c.LayoutTime,TimeProcessing:c.TimeProcessing,TimeDataRetrieval:c.TimeDataRetrieval},c.AdditionalInfo&&c.AdditionalInfo.Connections&&(this._performanceMetrics.AdditionalInfo=c.AdditionalInfo)}"inProgress"==n.inProgress?this._inProgressRequest(n.reportViewerToken,"_getPageModel"):n.embedImageData?(this._pageImagesCache=n,this._embedImageRequest("_getPageImages")):(this._clearObjects(this._reportAction.getPageModel),this._renderCurrentPageModels(n),$("#"+this._id+"_toolbar_li_refresh").hasClass("e-disable")&&$("#"+this._id+"_toolbar_li_refresh").removeClass("e-disable"))}},_getPageImages:function(n){this._isReloadResult(n)?this._loadReportFromBegin(n):"inProgress"==n.inProgress?this._inProgressRequest(n.reportViewerToken,"_getPageModel"):(this._reportImages=n.reportImagesData,this._clearObjects(this._reportAction.getPageModel),this._renderCurrentPageModels(this._pageImagesCache))},_renderCurrentPageModels:function(n){var c,r,_,w,v;if(n){if(this._showNavigationIndicator(!1),this._showloadingIndicator(!1),this._viewReportEnableDisable(!1),$("#"+this._id+"_viewerBlockCellContent").removeClass("e-reportviewer-paramblock-disable"),("NoParams"==this._paramInfo||"HiddenParams"==this._paramInfo)&&this._showParameterBlock(!1),this._showparameterLoadingIndicator(!1,null),$("#"+this._id+"_pageviewContainer").css("display","block"),$("#"+this._id+"_errorMsgContainer").css("display","none"),$("#"+this._id+"_toolbarUl_navigate").removeClass("e-reportviewer-toolbar-disable"),this._isDevice?$("#"+this._id+"_toolbarUl_exportZoom").removeClass("e-reportviewer-toolbar-disable"):($("#"+this._id+"_toolbarUl_printExport").removeClass("e-reportviewer-toolbar-disable"),$("#"+this._id+"_toolbarUl_zoom").removeClass("e-reportviewer-toolbar-disable")),"IsDrillDown"===n||"IsSorting"===n)return;if(n.isDocumentMap&&(this._refresh?(this._showDocumentMap(n.isDocumentMap),(c=$("#"+this._id+"_ejtreeView").data("ejTreeView"))?c.collapseAll():this._isDocumentMap=this._isPageDocMap=n.isDocumentMap):this._isDocumentMap=this._isPageDocMap=n.isDocumentMap),n.errorInfo&&n.errorInfo.length>0?(r=this._onReportError({errmsg:n.errorInfo}),this._showException(!r,{content:n.errorInfo,description:(ej.ReportViewer.Locale[this.model.locale]?ej.ReportViewer.Locale[this.model.locale]:ej.ReportViewer.Locale["en-US"]).alertMessage.RVERR0002})):this._showException(!1),n.reportPageModel&&n.reportPageModel.PageData){if(this._pageModel=n.reportPageModel,this._dataVisualization.length>0&&(this._dataVisualization=[]),this._onRenderBeginAction(),this._gotoPage(this._currentPage),this._isToolbarClick||this._enableToolbarItems(),this._pageLayoutPage=this._currentPage,this._onRenderingComplete({reportParameters:this._reportParameters}),this._enablePreviewItem(),this._currnetDocMapNodeId&&this._currnetDocMapNodeId.length>0&&this._scrollDocMapItemView(),this._currentBookmarkInfo&&this._scrollToBookmark(),_=this._pageModel.PageData[0].CustomProperties)for(w=0;w<_.length;w++)"ZOOMFACTOR"===_[w].Name.toUpperCase()&&this._setModel({zoomFactor:Number(_[w].Value)});this._refresh=!1,this._dataRefresh=!1}this._currnetDocMapNodeId=null,this._currentBookmarkInfo=null,n.pgsetting&&this._updatePageSetup(n.pgsetting),n.exportsetting&&this._updateExportSetup(n.exportsetting),(this.model.enablePageVirtualization||this.model.enablePageCache)&&(this._storePageCache(this._currentPage),this._renderPages()),this._isFitToPage&&(v=this._fitToPage("fitToPage"),this._applyDropDownVal(v,!1,!0),$("#"+this._id+"_viewerContainer").scrollTop(0)),this._isFitToWidth&&(v=this._fitToPage("fitToWidth"),this._applyDropDownVal(v,!0,!1)),!ej.isNullOrUndefined(this._searchPageIndexs)&&this._searchPageIndexs.length>0&&(document.activeElement.id===this._id+"_toolbar_li_find"||document.activeElement.id===this._id+"_toolbar_findtext")&&this._renderSearchPage(this._searchPageIndexs,!0),this._onElementsRendered({action:"PageModel"}),n.searchPageIndexs&&("noResultsFound"!=n.searchPageIndexs&&n.searchPageIndexs.includes(this._currentPage)&&(this._searchPageIndexs=n.searchPageIndexs.slice(n.searchPageIndexs.indexOf(this._currentPage)),this._searchPageIndexs=this._searchPageIndexs.concat(n.searchPageIndexs.slice(0,n.searchPageIndexs.indexOf(this._currentPage))),n.searchPageIndexs=this._searchPageIndexs),this._currentPage!=n.searchPageIndexs[0]&&"noResultsFound"!=n.searchPageIndexs&&($("#"+this._id+"_toolbar_gotopage").val(n.searchPageIndexs[0]),this._currentPage=n.searchPageIndexs[0]),this._searchPageIndexs=n.searchPageIndexs,this._getSearchPages())}},_onRenderBeginAction:function(n){this._onRenderingBegin(n)},_enablePreviewItem:function(){var n=$("#"+this._id+"_toolbar_li_preview");n.hasClass("e-disable")&&$("#"+this._id+"_toolbarContainer").ejToolbar("enableItem",n)},_getPreviewModel:function(n){this._isReloadResult(n)?this._loadReportFromBegin(n):"inProgress"==n.inProgress?this._inProgressRequest(n.reportViewerToken,"_getPreviewModel"):n.embedImageData?(this._pageImagesCache=n,this._embedImageRequest("_getPreviewImages")):(this._clearObjects(this._reportAction.getPageModel),this._renderPreviewPageModels(n))},_getPreviewImages:function(n){this._isReloadResult(n)?this._loadReportFromBegin(n):"inProgress"==n.inProgress?this._inProgressRequest(n.reportViewerToken,"_getPreviewModel"):(this._reportImages=n.reportImagesData,this._clearObjects(this._reportAction.getPageModel),this._renderPreviewPageModels(this._pageImagesCache))},_renderPreviewPageModels:function(n){var c;("NoParams"==this._paramInfo||"HiddenParams"==this._paramInfo)&&this._showParameterBlock(!1),this._showNavigationIndicator(!1),this._showloadingIndicator(!1),this._viewReportEnableDisable(!1),this._showparameterLoadingIndicator(!1,null),$("#"+this._id+"_viewerBlockCellContent").removeClass("e-reportviewer-paramblock-disable"),$("#"+this._id+"_pageviewContainer").css("display","block"),$("#"+this._id+"_errorMsgContainer").css("display","none"),$("#"+this._id+"_toolbarUl_navigate").removeClass("e-reportviewer-toolbar-disable"),$("#"+this._id+"_toolbarUl_printExport").removeClass("e-reportviewer-toolbar-disable"),$("#"+this._id+"_toolbarUl_zoom").removeClass("e-reportviewer-toolbar-disable"),$("#"+this._id+"_toolbar_li_stop").hasClass("e-disable")||$("#"+this._id+"_toolbar_li_stop").addClass("e-disable"),n&&(n.isDocumentMap&&(this._isDocumentMap=n.isDocumentMap,this._isPageDocMap=this._isDocumentMap,this._pageDocMapFlag=!1),n.reportPageModel&&n.reportPageModel.PageData&&(this._pageModel=n.reportPageModel,this._isToolbarClick||(this._selectPreviewToolItem(!0),this._enableToolbarItems()),this._dataVisualization.length>0&&(this._dataVisualization=[]),this._gotoPage(this._currentPage),this._refresh=!1,this._initialPageSetup(n)),n.pgsetting&&this._updatePageSetup(n.pgsetting),n.exportsetting&&this._updateExportSetup(n.exportsetting),(this.model.enablePageVirtualization||this.model.enablePageCache)&&(this._storePageCache(this._currentPage),this._renderPages()),this._enablePreviewItem()),this._isFitToPage&&(c=this._fitToPage("fitToPage"),this._applyDropDownVal(c,!1,!0),$("#"+this._id+"_viewerContainer").scrollTop(0)),this._isFitToWidth&&(c=this._fitToPage("fitToWidth"),this._applyDropDownVal(c,!0,!1)),this._onElementsRendered({action:"PreviewModel"})},_getPrintModel:function(n){var c,r,u,_;if(this._isReloadResult(n))this._loadReportFromBegin(n);else if(this._onPrintProgressChanged(c={stage:"preparation",currentPage:n.currentpage,preparationStage:n.preparationStage,totalPages:n.totalpages,handled:!1,containerId:this._id+"_viewerContainer"}),"dataPreparation"==n.preparationStage&&n.totalPages>1&&n.currentPage>1&&(r=Math.floor(n.currentPage/n.totalPages*100))>0&&(c.handled||this._showPrintExportProgressIndicator(!0,_getLocaleString("progressMessage")==undefined?null:String.format(_getLocaleString("progressMessage","printPreparationMessage"),r))),"inProgress"==n.inProgress){if(u={reportAction:this._reportAction.getPrintModel,printReportId:n.printReportId},n.reportPageModel&&n.reportPageModel&&n.reportPageModel.PageData.length>0)for(_=0;_<n.reportPageModel.PageData.length;_++)this._printData.push(n.reportPageModel.PageData[_]);this.doAjaxPost("POST",this._actionUrl,JSON.stringify(u),"_getPrintModel")}else if(this._clearObjects(this._reportAction.getPrintModel),n&&n.reportPageModel.PageData&&n.reportPageModel.PageData.length>0){for(_=0;_<n.reportPageModel.PageData.length;_++)this._printData.push(n.reportPageModel.PageData[_]);n.reportPageModel.PageData=this._printData,"None"==this.model.printOption?this._renderSilentPrinting(n):this._printReport(n)}},_documentMapModel:function(n){n&&n.DocumentMapNode&&n.DocumentMapNode.length>0&&(this._showDocumentMap(this.model.toolbarSettings.items&ej.ReportViewer.ToolbarItems.DocumentMap),this._containerSplit(n.DocumentMapNode))},_drillThroughModel:function(n){var c={x:$("#"+this._id+"_viewerContainer").scrollLeft(),y:$("#"+this._id+"_viewerContainer").scrollTop()},r=this._cloneReportViewerProperties();this._parents.push({pagePos:c,parentPro:r}),this.model.enableRequestLimiting=!1,this._setInitialization(),this._reportViewerToken=r._childReportToken,this._unwireEvents(),this._initViewer(),this._reportLoaded(n)},_gotoParentReportModel:function(){var n;this._setParentReportViewerProperties(),n=this._currentPage,this._unwireEvents(),this._initViewer(),this._currentPage=n,"Params"==this._paramInfo?this._ajaxCallMethod(this._reportAction.getParameters,"_getParameters",!1):(this._selectparamToolItem(!1),this._showParameterBlock(!1),this._ajaxCallMethod(this._reportAction.getPageModel,this._printMode?"_getPreviewModel":"_getPageModel",!1))},_clearCurrentServerCache:function(){},_print:function(){var n={stage:"beginPrint",handled:!1,containerId:this._id+"_viewerContainer",waitingPopupTemplate:this.model.waitingPopupTemplate};this._onPrintProgressChanged(n),n.handled||this._showPrintExportProgressIndicator(!0,this._getLocaleString("progressMessage")==undefined?null:this._getLocaleString("progressMessage","printLoadingMessage"),n.waitingPopupTemplate),this._ajaxCallMethod(this._reportAction.getPrintModel,"_getPrintModel",!1)},_printReport:function(n){var c=n.reportPageModel,r={stage:"printStarted",handled:!1,containerId:this._id+"_viewerContainer"};this._onPrintProgressChanged(r),r.handled||this._showPrintExportProgressIndicator(!1),n.embedImageData?(this._pageImagesCache=c,this._embedImageRequest("_getPrintingImages")):this._renderPrintPageModels(c)},_getPrintingImages:function(n){this._isReloadResult(n)?this._loadReportFromBegin(n):"inProgress"==n.inProgress?this.doAjaxPost("POST",this._actionUrl,JSON.stringify({reportAction:this._reportAction.getPrintModel,printReportId:n.printReportId}),"_getPrintModel"):(this._reportImages=n.reportImagesData,this._renderPrintPageModels(this._pageImagesCache))},_renderPrintPageModels:function(n){var v,a,s,h,t,o,l,p,g,b,C,c=n.PaperHeight,r=n.PaperWidth,u=n.MarginTop,_=n.MarginLeft;this._isprint=!0;var T=$("head").find("link"),D="msie"==this._browserInfo.name&&parseInt(this._browserInfo.version)<=9,L="Default"==this.model.printOption&&"mozilla"!=this._browserInfo.name?window.open("","pint","tabbar=no,scrollbars = yes,resizable = yes","noopener"):window.open("","_blank","rel=noopener"),I="<style>h1 {display:block;height:0px;page-break-after:always;}@page { size:"+r+"px "+c+"px; }@media print{ div {-webkit-print-color-adjust: exact; "+("mozilla"==this._browserInfo.name?"page-break-inside:avoid":"")+" } #header, #footer { display:none } }</style>";if(c<r&&(I="<style>h1 {display:block;height:0px;page-break-after:always;}@page { size:"+("chrome"==this._browserInfo.name?"auto":r+"px "+c+"px")+"; margin:0px;}@media print{ div {-webkit-print-color-adjust: exact; "+("mozilla"==this._browserInfo.name?"page-break-inside:avoid":"")+" } #header, #footer { display:none } }</style>"),null!=L)try{if(L.document.write("<!DOCTYPE html>"),L.printDelay=500,(v=this._onReportPrint({printWind:L,isStyleLoad:!1})).cancel)return;for(a="msie"===this._browserInfo.name?'<body style="width:'+r+'px">':"<body>",v.isStyleLoad?(s="",T.each(function(R,V){$(V).attr("href",V.href),s+=V.outerHTML}),L.document.write("<html><head>"+s+I+"</head>"+a)):L.document.write("<html><head>"+I+"</head>"+a),h=ej.buildTag("div","",{display:"block",padding:"2px","background-color":"#ffff99",float:"right"},{id:"PrintloadingLabel"}),(t=ej.buildTag("span","",{display:"block","font-size":"12.5px","font-family":"Arial"},{id:"PrintspanLoadingLable"})).text("Loading print content..."),h.append(t),L.document.write(h[0].outerHTML),o=0;o<n.TotalPages;o++)l=n.PageData[o],n.Columns>1&&(p=o*n.Columns)<n.PageData.length&&(l=n.PageData[p]),ej.isNullOrUndefined(l)||(L.document.write('<div style="position: relative; height:'+l.Height+"px;width:"+l.Width+"px;"+("mozilla"==this._browserInfo.name?"page-break-inside:avoid":"")+';">'),g=this._renderPrintContainer(l,u,_,o,n),L.document.write(g),L.document.write("</div>"),D?D&&o<n.TotalPages&&L.document.write("<h1></h1>"):L.document.write("<h1></h1>"));b=L.printDelay&&L.printDelay===parseInt(L.printDelay,10)?L.printDelay:500,L.document.write("</body></html>"),L.document.close(),L.focus(),(C=L.document.getElementById("PrintloadingLabel")).parentNode.removeChild(C),setTimeout(function(){try{ej.isNullOrUndefined(L.window)||(L.print(),setTimeout(function(){try{L.close()}catch{}},300))}catch{}},b),this._printData=[],this._isprint=!1,this._onElementsRendered({action:"Print"})}catch{}},_renderSilentPrinting:function(n){var u,_,w,v,a,s,h,t,c=n.reportPageModel,r={stage:"printStarted",handled:!1,containerId:this._id+"_viewerContainer"};this._onPrintProgressChanged(r),r.handled||this._showPrintExportProgressIndicator(!1);var o=c.PaperHeight,l=c.PaperWidth,p=c.MarginTop,g=c.MarginLeft,b=$("head").find("link"),C="msie"==this._browserInfo.name&&parseInt(this._browserInfo.version)<=9,T="<style>h1 {display:block;height:0px;page-break-after:always;}@page { size:"+l+"px "+o+"px; margin:0px;}@media print{ div {-webkit-print-color-adjust: exact;} #header, #footer { display:none } }</style>",D=$("#"+this._id+"_printPageIframe");if(D.length>0||((D=$('<iframe id="'+this._id+'_printPageIframe"></iframe>')).css({height:".0001px",width:".0001px",backgroundColor:"Transparent",border:"none"}),$("body").append(D)),null!=(u=D[0].contentWindow?D[0].contentWindow:D[0].contentDocument.document?D[0].contentDocument.document:D[0].contentDocument)){for(u.document.open(),u.document.write("<!DOCTYPE html>"),u.printDelay=500,isCssLoad=this._onReportPrint({printFrame:u,isStyleLoad:!1}),_="msie"===this._browserInfo.name?'<body style="width:'+l+'px">':"<body>",isCssLoad?(w="",b.each(function(L,I){$(I).attr("href",I.href),w+=I.outerHTML}),u.document.write("<html><head>"+w+T+"</head>"+_)):u.document.write("<html><head>"+T+"</head>"+_),v=0;v<c.TotalPages;v++)a=c.PageData[v],c.Columns>1&&(s=v*c.Columns)<c.PageData.length&&(a=c.PageData[s]),ej.isNullOrUndefined(a)||(u.document.write('<div style="position:relative;height:'+o+"px;width:"+l+"px;"+("mozilla"==this._browserInfo.name?"page-break-inside:avoid":"")+';">'),h=this._renderPrintContainer(a,p,g,v,c),u.document.write(h),u.document.write("</div>"),C?C&&v<c.TotalPages&&u.document.write("<h1></h1>"):u.document.write("<h1></h1>"));t=u.printDelay&&u.printDelay===parseInt(u.printDelay,10)?u.printDelay:500,u.document.write("</body></html>"),u.document.close(),u.focus(),setTimeout(function(){ej.isNullOrUndefined(u.window)||(u.print(),setTimeout(function(){u.window.close()},300))},t)}},_renderPrintContainer:function(n,c,r,u,_){var v,a,h,w=document.createElement("div");document.body.appendChild(w),this._setTagStyle(w,{overflow:"auto",width:"1px",height:"1px"}),v=this._buildTag("div",null,null,null),a={position:"relative","background-color":"transparent","font-size":"8pt"},this._appendChild(w,v),this._setTagStyle(v,a);var t=this._buildTag("div",null,null,null),o={position:"relative","background-color":"transparent",width:n.Width+"px",height:n.HeaderHeight+"px"},l=this._buildTag("div","pageHeaderBorder",null,null),p={position:"relative","background-color":"#FFFFFF",left:r+"px",top:c+"px"};this._appendChild(l,t),this._appendChild(v,l),this._setTagStyle(l,p);var g=this._buildTag("div",null,null,null),b={position:"relative","background-color":"transparent",width:n.Width+"px",height:n.Height+"px"},C=this._buildTag("div","pageBodyBorder",null,null),T={position:"relative","background-color":"#FFFFFF",left:r+"px",top:c+"px","background-position":"center center","background-repeat":"no-repeat"};this._appendChild(C,g),this._appendChild(v,C),this._setTagStyle(C,T);var D=this._buildTag("div",null,null,null),L={position:"relative","background-color":"transparent",width:n.Width+"px",height:n.FooterHeight+"px"},I=this._buildTag("div","pageFooterBorder",null,null);return this._setTagStyle(I,{position:"relative","background-color":"#FFFFFF",left:r+"px",top:c+"px"}),this._appendChild(I,D),this._appendChild(v,I),(this._printMode||this._isprint)&&(o.overflow="hidden",L.overflow="hidden"),this._setTagStyle(t,o),this._setTagStyle(D,L),n.ReportStyleModel&&this._applyPageStyle(v,n.ReportStyleModel,!0,!0),n.HeaderStyleModel&&this._applyPageStyle(l,n.HeaderStyleModel,!0,!1),n.FooterStyleModel&&this._applyPageStyle(I,n.FooterStyleModel,!0,!1),n.HeaderModel&&n.HeaderModel.length>0&&this._renderPageControls(n,n.HeaderModel,t,!0,"Print"+u),n.FooterModel&&n.FooterModel.length>0&&this._renderPageControls(n,n.FooterModel,D,!0,"Print"+u),_&&_.Columns>1?this._renderMultiColumnPage(_,g,!0,u):(n.BodyStyleModel&&this._applyPageStyle(C,n.BodyStyleModel,!0,!1),n.PageModel&&n.PageModel.length>0&&this._renderPageControls(n,n.PageModel,g,!0,"Print"+u)),b.height=n.Height+"px",this._setTagStyle(g,b),$(w).find("img").each(function(V,F){null!=F["data-imgUrl"]&&"undefined"!=F["data-imgUrl"]&&F.setAttribute("src",F["data-imgUrl"])}),h=w.innerHTML.replace(/PrintImage/g,"GetResource"),document.body.removeChild(w),h},_showPrintButton:function(n){n?$("#"+this._id+"_toolbar_li_print").css("display","block"):$("#"+this._id+"_toolbar_li_print").css("display","none")},_exportMenuClick:function(n){var r,c=$(n.target);if(c){c.hasClass("e-pdf")||c.hasClass("e-reportviewer-export-pdfIcon")?r="PDF":c.hasClass("e-word")||c.hasClass("e-reportviewer-export-wordIcon")?r="Word":c.hasClass("e-excel")||c.hasClass("e-reportviewer-export-excelIcon")?r="Excel":c.hasClass("e-html")||c.hasClass("e-reportviewer-export-htmlIcon")?r="Html":c.hasClass("e-ppt")||c.hasClass("e-reportviewer-export-pptIcon")?r="PPT":c.hasClass("e-csv")||c.hasClass("e-reportviewer-export-csvIcon")?r="CSV":c.hasClass("e-xml")||c.hasClass("e-reportviewer-export-xmlIcon")?r="XML":c.hasClass("e-custom")&&($(n.target.textContent),r=$(n.target).text());var _={value:r,fileName:""},w=this._onExportItemClick(_),v="";_.fileName&&_.fileName.length>0&&(v=_.fileName),w||c.hasClass("e-custom")||this._processExport(r,v)}},_processExport:function(n,c){var r,u,_,w;n&&("pdf"==(u=n.toLowerCase())?r="PDF":"word"==u?r=this._isClassicExport?"Word_"+this.model.exportSettings.WordOptions.FormatType:"Word":"excel"==u?r=this._isClassicExport?"Excel_"+this.model.exportSettings.ExcelOptions.ExcelSaveType:"Excel":"html"==u?r="Html":"ppt"==u?r=this._isClassicExport?"PPT_"+this.model.exportSettings.PPTOptions.FormatType:"PPT":"csv"==u?r="CSV":"xml"==u&&(r="XML"),r&&(this._onExportProgressChanged(_={format:n,stage:"beginExport",handled:!1,containerId:this._id+"_viewerContainer",waitingPopupTemplate:this.model.waitingPopupTemplate}),_.handled||this._showPrintExportProgressIndicator(!0,this._getLocaleString("progressMessage")==undefined?null:this._getLocaleString("progressMessage","exportLoadingMessage"),_.waitingPopupTemplate),w=this._getMultiTenantUrl(w=this.model.reportServiceUrl+"/PostReportAction",!0),this.doAjaxPost("POST",w,JSON.stringify({reportAction:this._reportAction.exporting,controlID:this._reportViewerToken,resourcetype:r,serviceAuthorizationToken:this.model.serviceAuthorizationToken?this.model.serviceAuthorizationToken:"",isPrint:!1,reportName:c,pageindex:this._currentPage,imageQuality:this.model.exportSettings.CommonOptions.ImageQuality,exportSetup:this.model.exportSettings,PageSetup:this.model.exportSettings.CommonOptions.UsePrintSizes?this._paperSetup:null}),"_exportReport")))},_convertModelToImage:function(n,c,r){var _,w,v,u=this._buildTag("div",null,null,{visibility:"hidden",position:"absolute",width:"0px",height:"0px"},null);try{for(document.body.appendChild(u),"ChartModel"==n.ItemType?(this._renderChartControl(n,!1,!1,{},u,null,!1,null,!0,"msie"==this._browserInfo.name),v=n.ItemName?n.ItemName:n.Name,document.getElementById(this._id+"_"+v).style.visibility="collapse",w="#chartCtrl_"+this._id+"_"+v+"_"+(null!=n.ChartAreas?n.ChartAreas[0].Name:n.ChartNoDataMessage.Name),"msie"==this._browserInfo.name?this._getChartImageData($(w).ejChart("instance"),v,r):this._getImageFromSvg(w,v,r,c,"chart")):"GaugeModel"==n.ItemType?(this._renderGaugeControl(n,!1,!1,{},u,null,!1,null),w="#"+this._dataVisualization[this._dataVisualization.length-1].id,v=n.ItemName?n.ItemName:n.Name,document.getElementById(this._id+"_"+v).style.visibility="collapse",_=!ej.isNullOrUndefined(n.GaugePanel.Indicator)&&n.GaugePanel.Indicator.length>0?"Indicator":!ej.isNullOrUndefined(n.GaugePanel.RadialGauges)&&n.GaugePanel.RadialGauges.length>0?"Radial":"Linear",this._getImageFromSvg(w,v,r,c,_)):"MapModel"==n.ItemType&&(this._renderMapControl(n,!1,u,null,!1,null),w="#"+this._dataVisualization[this._dataVisualization.length-1].id,v=n.ItemName?n.ItemName:n.Name,document.getElementById(this._id+"_"+v).style.visibility="collapse",this._getImageFromSvg(w,v,r,c));u.firstChild;)u.removeChild(u.firstChild)}catch(a){for(;u.firstChild;)u.removeChild(u.firstChild);throw a}},_getImageFromSvg:function(n,c,r,u,_){var v,o,w=this.model.exportSettings.CommonOptions.ImageQuality;if("chart"==_){(v=$(n).ejChart("instance")).model.exportSettings.type="svg",s=(s=decodeURIComponent(v.export())).replace(/\&nbsp;/g,""),h=this._buildTag("canvas",null,null,{width:v.svgWidth*w,height:v.svgHeight*w},null),t=h.getContext("2d"),document.body.appendChild(h);var l,g=window.URL.createObjectURL(new Blob([s],{type:"image/svg+xml"})),p=this;(l=new Image).onload=function(){t.setTransform(w,0,0,w,0,0),t.webkitImageSmoothingEnabled=!1,t.mozImageSmoothingEnabled=!1,t.imageSmoothingEnabled=!1,t.drawImage(l,0,0);var L=h.toDataURL();$(h).remove(),r[c]?p._dataVisualItemCount--:r[c]=L.replace(L.substr(0,L.lastIndexOf(",")+1),""),p._dataVisualItemCount==Object.keys(r).length&&p._dataVisualizationRequest(r,u)},l.src=g}else{var h,s=document.querySelector(n).querySelector("svg"),b=(new XMLSerializer).serializeToString(s),C=s.getBoundingClientRect(),t=(h=this._buildTag("canvas",null,null,{width:"Indicator"===_?C.width*w:C.width,height:"Indicator"===_?C.height*w:C.height},null)).getContext("2d");document.body.appendChild(h),o="Indicator"===_?window.URL.createObjectURL(new Blob([b],{type:"image/svg+xml"})):"data:image/svg+xml;base64,"+btoa(b),l=this._buildTag("img",null,null,"Indicator"===_?{src:o}:{src:o,width:C.width,height:C.height},null),document.body.appendChild(l),p=this,l.onload=function(){var V;if("Indicator"===_){var F=l.width/l.height,A=h.width,z=A/F;z>h.height&&(A=(z=h.height)*F),t.drawImage(l,A<h.width?(h.width-A)/2:0,z<h.height?(h.height-z)/2:0)}else"Radial"===_?C.width<C.height?t.drawImage(l,0,0,C.width,C.width):t.drawImage(l,0,0,C.height,C.height):t.drawImage(l,0,0,C.width,C.height);V="Indicator"===_?h.toDataURL():h.toDataURL("image/png",1),$(h).remove(),$(l).remove(),r[c]?p._dataVisualItemCount--:r[c]=V.replace(V.substr(0,V.lastIndexOf(",")+1),""),p._dataVisualItemCount==Object.keys(r).length&&p._dataVisualizationRequest(r,u)}}},_getChartImageData:function(n,c,r){var u=n.export().toDataURL("image/png",1);r[c]=u.replace(u.substr(0,u.lastIndexOf(",")+1),"")},_getMapImageData:function(n,c,r){var u=n.export("SVG",this.model.reportName).toDataURL("image/png",1);r[c]=u.replace(u.substr(0,u.lastIndexOf(",")+1),"")},_visualizationExport:function(n){var r,u,_,w,v,a,c={};try{if(r=n.exportModels,0!=this._dataVisualization.length)if(this._currentPageWidgetName=this._dataVisualization[0].name,0==this._dataVisualItemCount)Object.assign(this._currentPageDataVisualization,this._dataVisualization),this._currentPageWidgetName=this._dataVisualization[0].name;else if(this._currentPageWidgetName==this._dataVisualization[0].name){for(u=!1,a=0;a<this._currentPageDataVisualization.length;a++)if(this._currentPageDataVisualization[a].id!=this._dataVisualization[a].id){u=!0;break}u||(this._dataVisualization=[],Object.assign(this._dataVisualization,this._currentPageDataVisualization))}for(this._dataVisualItemCount=r?r.length+this._dataVisualization.length:this._dataVisualization.length,_=0;_<this._dataVisualization.length;_++)"ChartModel"==this._dataVisualization[_].type?"msie"==this._browserInfo.name?(w=$("#"+this._dataVisualization[_].id).ejChart("instance"),v=!1,w.model&&(w.model.enable3D&&(w.model.enable3D=w.model.enableRotation=!1,v=!0),w.model.enableCanvasRendering=!0,w.redraw(),this._getChartImageData(w,this._dataVisualization[_].name,c),w.model.enableCanvasRendering=!1,v&&!w.model.enable3D&&(w.model.enable3D=w.model.enableRotation=!0),w.redraw())):this._getImageFromSvg("#"+this._dataVisualization[_].id,this._dataVisualization[_].name,c,n,"chart"):"GaugeModel"==this._dataVisualization[_].type?this._getImageFromSvg("#"+this._dataVisualization[_].id,this._dataVisualization[_].name,c,n,this._dataVisualization[_].itemType):"MapModel"==this._dataVisualization[_].type&&this._getImageFromSvg("#"+this._dataVisualization[_].id,this._dataVisualization[_].name,c,n);if(r)for(a=0;a<r.length;a++)this._convertModelToImage(r[a],n,c)}catch{this._dataVisualizationRequest(c,n)}return c},_dataVisualizationRequest:function(n,c){var r={reportAction:this._reportAction.exporting,controlID:this._reportViewerToken,resourcetype:c.resourcetype,serviceAuthorizationToken:this.model.serviceAuthorizationToken?this.model.serviceAuthorizationToken:"",isPrint:!1,reportName:c.reportName,ExportImages:n,pageindex:this._currentPage};this.doAjaxPost("POST",this._getMultiTenantUrl(this.model.reportServiceUrl+"/PostReportAction",!0),JSON.stringify(r),"_exportReport")},_exportReport:function(n){var r,u,_,w,v,a,s,h,t,l,c=this.model.reportServiceUrl+("NETCore"==this._serviceType||"SelfHost"==this._serviceType?"/PostFormReportAction":"/PostReportAction");if(c=this._getMultiTenantUrl(c,!0),u={reportAction:this._reportAction.exporting,controlID:this._reportViewerToken,serviceAuthorizationToken:this.model.serviceAuthorizationToken?this.model.serviceAuthorizationToken:"",isPrint:!1,downloadreportid:n.downloadreportid,sessionToken:JSON.stringify(this._sessionToken),serverUrl:this.model.reportServerUrl?this.model.reportServerUrl:""},this._onExportProgressChanged(w={stage:"preparation",format:n.format,preparationStage:n.preparationStage,currentPage:n.currentpage,totalPages:n.totalpages,handled:!1,containerId:this._id+"_viewerContainer"}),"documentPreparation"==n.preparationStage&&n.totalPages>1&&n.currentPage>1&&(r=Math.floor(n.currentPage/n.totalPages*100))>0&&(w.handled||this._showPrintExportProgressIndicator(!0,this._getLocaleString("progressMessage")==undefined?null:String.format(_getLocaleString("progressMessage","exportPreparationMessage"),r))),"inProgress"==n.inProgress)u={reportAction:this._reportAction.exporting,downloadreportid:n.downloadreportid},this.doAjaxPost("POST",this._getMultiTenantUrl(this.model.reportServiceUrl+"/PostReportAction",!0),JSON.stringify(u),"_exportReport");else if(n.clientExport)_=this._visualizationExport(n),this._dataVisualItemCount==Object.keys(_).length&&this._dataVisualizationRequest(_,n);else{for(h in this._clearObjects(this._reportAction.exporting),v=this._id,this._onExportProgressChanged(w={stage:"exportStarted",handled:!1,containerId:this._id+"_viewerContainer"}),!ej.isNullOrUndefined(w.actionName)&&w.actionName.trim().length>0&&(c=c.replace(c.substr(c.lastIndexOf("/")+1),w.actionName.trim())),a=$("<form>").attr({action:c,method:"POST",name:"export","data-ajax":"false"}),s=function(p,g){$("<input type='hidden' title='params'>").attr({id:v+"_"+p,name:p,value:g}).appendTo(a)},u)s(h,u[h]);if($("body").append(a),$(a).hide(),this._onReportExport(t={exportAction:a,formValues:[]}))return void this._showPrintExportProgressIndicator(!1);if(t.formValues&&t.formValues.length>0)for(l=0;l<t.formValues.length;l++)s(t.formValues[l].key,t.formValues[l].value);$(a).submit().remove(),w.handled||this._showPrintExportProgressIndicator(!1),this.element.find("#"+this._id+"_toolbar_exportListTip").hide(),this._onElementsRendered({action:"Export"})}},_showExportList:function(){this.model.exportSettings.exportOptions&ej.ReportViewer.ExportOptions.Html?$("#"+this._id+"_toolbar_li_html").css("display","flex"):$("#"+this._id+"_toolbar_li_html").css("display","none"),this.model.exportSettings.exportOptions&ej.ReportViewer.ExportOptions.Word?$("#"+this._id+"_toolbar_li_word").css("display","flex"):$("#"+this._id+"_toolbar_li_word").css("display","none"),this.model.exportSettings.exportOptions&ej.ReportViewer.ExportOptions.Excel?$("#"+this._id+"_toolbar_li_xls").css("display","flex"):$("#"+this._id+"_toolbar_li_xls").css("display","none"),this.model.exportSettings.exportOptions&ej.ReportViewer.ExportOptions.Pdf?$("#"+this._id+"_toolbar_li_pdf").css("display","flex"):$("#"+this._id+"_toolbar_li_pdf").css("display","none"),this.model.exportSettings.exportOptions&ej.ReportViewer.ExportOptions.PPT?$("#"+this._id+"_toolbar_li_ppt").css("display","flex"):$("#"+this._id+"_toolbar_li_ppt").css("display","none"),this.model.exportSettings.exportOptions&ej.ReportViewer.ExportOptions.CSV?$("#"+this._id+"_toolbar_li_csv").css("display","flex"):$("#"+this._id+"_toolbar_li_csv").css("display","none"),this.model.exportSettings.exportOptions&ej.ReportViewer.ExportOptions.XML?$("#"+this._id+"_toolbar_li_xml").css("display","flex"):$("#"+this._id+"_toolbar_li_xml").css("display","none");for(var n=0;n<this.model.exportSettings.customItems.length;n++)this.model.exportSettings.exportOptions&ej.ReportViewer.ExportOptions.CustomItems?$("#"+this._id+"_toolbar_li_customexport_"+n).css("display","block"):$("#"+this._id+"_toolbar_li_customexport_"+n).css("display","none")},_showExportControls:function(n){n?$("#"+this._id+"_toolbar_li_export").css("display","block"):$("#"+this._id+"_toolbar_li_export").css("display","none")},_showExportTooltip:function(){var c,r,u,n=$("#"+this._id+"_toolbar_exportListTip");n.length>0||(n=this._renderToolTipExport(),$("body").append(n),this._showExportList(),this._on($("#"+this._id+"_toolbar_exportListTip .e-reportviewer-popupli"),"click",this._exportMenuClick),this._on($("#"+this._id+"_toolbar_exportListTip .e-reportviewer-popupli"),"mousedown",this._onPopupClick)),"block"==n.css("display")?n.css("display","none"):n.css("display","block"),c=$("#"+this._id+"_toolbar_li_export"),(r=$("#"+this._id+"_toolbarContainer_hiddenlist")).length>0&&r.find("#"+this._id+"_toolbar_li_export").length>0&&"none"!==r.css("display")?n.css({left:c.offset().left,top:c.offset().top+c.height()+parseFloat(c.css("padding-top"))+parseFloat(c.css("padding-bottom"))+parseFloat(c.parent().css("margin-bottom")),"z-index":ej.util.getZindexPartial(this.element)}):(u=this.element.find("#"+this._id+"_toolbarContainer"),n.css({left:c.offset().left,top:u.offset().top+parseFloat(u.css("border-top-width"))+u.height(),"z-index":ej.util.getZindexPartial(this.element)}))},_updatePageNavigation:function(n,c){var r=$("#"+this._id+"_toolbarContainer");r.ejToolbar("enableItem",$("#"+this._id+"_toolbarUl_navigate")),n>1&&n<c?(r.ejToolbar("enableItem",$("#"+this._id+"_toolbar_li_gotofirst")),r.ejToolbar("enableItem",$("#"+this._id+"_toolbar_li_gotoprevious")),r.ejToolbar("enableItem",$("#"+this._id+"_toolbar_li_gotonext")),r.ejToolbar("enableItem",$("#"+this._id+"_toolbar_li_gotolast"))):1==n&&n<c?(r.ejToolbar("disableItem",$("#"+this._id+"_toolbar_li_gotofirst")),r.ejToolbar("disableItem",$("#"+this._id+"_toolbar_li_gotoprevious")),r.ejToolbar("enableItem",$("#"+this._id+"_toolbar_li_gotonext")),r.ejToolbar("enableItem",$("#"+this._id+"_toolbar_li_gotolast"))):n==c&&1!=c?(r.ejToolbar("enableItem",$("#"+this._id+"_toolbar_li_gotofirst")),r.ejToolbar("enableItem",$("#"+this._id+"_toolbar_li_gotoprevious")),r.ejToolbar("disableItem",$("#"+this._id+"_toolbar_li_gotonext")),r.ejToolbar("disableItem",$("#"+this._id+"_toolbar_li_gotolast"))):(r.ejToolbar("disableItem",$("#"+this._id+"_toolbar_li_gotofirst")),r.ejToolbar("disableItem",$("#"+this._id+"_toolbar_li_gotoprevious")),r.ejToolbar("disableItem",$("#"+this._id+"_toolbar_li_gotonext")),r.ejToolbar("disableItem",$("#"+this._id+"_toolbar_li_gotolast")))},_gotoRenderPage:function(){this._onRenderBeginAction(),this._pageModel=this._retrievePageCache(this._currentPage),this._gotoPage(this._currentPage),this._onRenderingComplete({reportParameters:this._reportParameters}),this._refresh=!1,(this.model.enablePageVirtualization||this.model.enablePageCache)&&this._renderPages()},_gotoFirstPage:function(){this._pageModel&&this._pageModel.TotalPages&&this._pageModel.TotalPages>0&&(this._currentPage=1,this._refresh=!1,this._isForwardDirection=!0,this._isSelectedPage=!1,(this.model.enablePageVirtualization||this.model.enablePageCache)&&this._pageContains(this._currentPage)?this._gotoRenderPage():this._ajaxCallMethod(this._reportAction.getPageModel,this._printMode?"_getPreviewModel":"_getPageModel",!1,this._reportParameters))},_gotoLastPage:function(){this._pageModel&&this._pageModel.TotalPages&&this._pageModel.TotalPages>0&&(this._currentPage=this._pageModel.TotalPages,this._refresh=!1,this._isForwardDirection=!1,this._isSelectedPage=!1,(this.model.enablePageVirtualization||this.model.enablePageCache)&&this._pageContains(this._currentPage)?this._gotoRenderPage():this._ajaxCallMethod(this._reportAction.getPageModel,this._printMode?"_getPreviewModel":"_getPageModel",!1,this._reportParameters))},_gotoNextPage:function(){var n;this._pageModel&&this._pageModel.TotalPages&&this._currentPage<this._pageModel.TotalPages&&(this._currentPage=this._currentPage+1,this._refresh=!1,this._isForwardDirection=!0,this._isSelectedPage=!1,this._isPageRendered=!1,(n=$("#"+this._id+"_toolbarContainer")).ejToolbar("disableItem",$("#"+this._id+"_toolbar_li_gotonext")),n.ejToolbar("disableItem",$("#"+this._id+"_toolbarUl_navigate")),(this.model.enablePageVirtualization||this.model.enablePageCache)&&this._pageContains(this._currentPage)?this._gotoRenderPage():this._ajaxCallMethod(this._reportAction.getPageModel,this._printMode?"_getPreviewModel":"_getPageModel",!1,this._reportParameters))},_gotoPreviousPage:function(){var n;this._pageModel&&this._pageModel.TotalPages&&this._currentPage>1&&(this._currentPage=this._currentPage-1,this._refresh=!1,this._isForwardDirection=!1,this._isSelectedPage=!1,this._isPageRendered=!1,(n=$("#"+this._id+"_toolbarContainer")).ejToolbar("disableItem",$("#"+this._id+"_toolbar_li_gotoprevious")),n.ejToolbar("disableItem",$("#"+this._id+"_toolbarUl_navigate")),(this.model.enablePageVirtualization||this.model.enablePageCache)&&this._pageContains(this._currentPage)?this._gotoRenderPage():this._ajaxCallMethod(this._reportAction.getPageModel,this._printMode?"_getPreviewModel":"_getPageModel",!1,this._reportParameters))},_gotoPageNo:function(n){var c;this._pageModel&&this._pageModel.TotalPages&&((c=parseInt(n))>=1&&c<=this._pageModel.TotalPages&&this._currentPage!=c?(this._currentPage=c,this._refresh=!1,this._isForwardDirection=!1,this._isSelectedPage=!0,(this.model.enablePageVirtualization||this.model.enablePageCache)&&this._pageContains(this._currentPage)?this._gotoRenderPage():this._ajaxCallMethod(this._reportAction.getPageModel,this._printMode?"_getPreviewModel":"_getPageModel",!1,this._reportParameters)):this._currnetDocMapNodeId&&this._currnetDocMapNodeId.length>0?this._scrollDocMapItemView():this._currentBookmarkInfo&&this._scrollToBookmark())},_gotoPage:function(n){var c,r,u;this._pageModel&&this._pageModel.PageData&&this._pageModel.PageData.length>0&&(c=parseInt(n),this._updatePageNavigation(c,this._pageModel.TotalPages),this._pageModel.TotalPages>0&&this._pageModel.TotalPages&&(this._resetPageNumber(!0),$("#"+this._id+"_toolbar_li_gotopage").find("span.e-reportviewer-labelpageno").text(" / "+this._pageModel.TotalPages),$("#"+this._id+"_toolbar_gotopage").val(c),c>9&&c<=99?$("#"+this._id+"_toolbar_gotopage").css("width","31px"):c>99&&c<=999?$("#"+this._id+"_toolbar_gotopage").css("width","38px"):c>999&&c<=9999?$("#"+this._id+"_toolbar_gotopage").css("width","44px"):c>9999?$("#"+this._id+"_toolbar_gotopage").css("width","52px"):$("#"+this._id+"_toolbar_gotopage").css("width","28px")),(r=$("#"+this._id+"_pageviewContainer").find(".e-js"))&&r.length>0&&this._destroyEJObjects(r),r=null,this._renderPageModels(u=this._pageModel.PageData[0]),u&&this._setPageSize(u.Height,u.Width,u.HeaderHeight,u.FooterHeight))},_onkeyPress:function(n){if(13==n.keyCode)try{var c=parseInt($(n.currentTarget).val());this._gotoPageNo(c),this._findDispose()}catch{}if(n.keyCode>31&&(n.keyCode<48||n.keyCode>57))return!1},_showPageNavigationControls:function(n){n?$("#"+this._id+"_toolbar_gotopage").parents(".e-reportviewer-toolbarul").css("display","block"):$("#"+this._id+"_toolbar_gotopage").parents(".e-reportviewer-toolbarul").css("display","none")},_resetPageNumber:function(n){n?this.element.find("#"+this._id+"_toolbar_li_gotopage").find("span.e-reportviewer-labelpageno").css("display","inline"):(this.element.find("#"+this._id+"_toolbar_gotopage").val(0),this.element.find("#"+this._id+"_toolbar_li_gotopage").find("span.e-reportviewer-labelpageno").css("display","none"))},_showPrintPageSetup:function(){var c;$("#"+this._id+"_printPageSetup").length>0?c=$("#"+this._id+"_printPageSetup").data("ejDialog"):(this._renderPrintPageSetup(),this._bindPageSetupModel(),$("#"+this._id+"_landscape").data("ejRadioButton").model.change=$.proxy(this._orientationChanged,this),$("#"+this._id+"_portrait").data("ejRadioButton").model.change=$.proxy(this._orientationChanged,this),$("#"+this._id+"_pageUnitInches").data("ejRadioButton").model.change=$.proxy(this._radioBtnChanged,this),$("#"+this._id+"_pageUnitCentimeter").data("ejRadioButton").model.change=$.proxy(this._radioBtnChanged,this)),c&&c.model&&(c.isOpen()?$("#"+this._id+"_printPageSetup").ejDialog("close"):($("#"+this._id+"_printPageSetup").ejDialog("open"),this._bindPageSetupModel())),this._enableToolbarContents(!1)},_pageSettingClose:function(){this._enableToolbarContents(!0)},_updatePageSetup:function(n){ej.isNullOrUndefined(n)||(this._paperSetup.paperHeight=this._paperSetup.paperHeight?this._paperSetup.paperHeight:(n.PaperHeight/96).toFixed(2),this._paperSetup.paperWidth=this._paperSetup.paperWidth?this._paperSetup.paperWidth:(n.PaperWidth/96).toFixed(2),this._paperSetup.MarginTop=this._paperSetup.MarginTop&&this._paperSetup.MarginTop>0?this._paperSetup.MarginTop:(n.MarginTop/96).toFixed(2),this._paperSetup.MarginRight=this._paperSetup.MarginRight&&this._paperSetup.MarginRight>0?this._paperSetup.MarginRight:(n.MarginRight/96).toFixed(2),this._paperSetup.MarginBottom=this._paperSetup.MarginBottom&&this._paperSetup.MarginBottom>0?this._paperSetup.MarginBottom:(n.MarginBottom/96).toFixed(2),this._paperSetup.MarginLeft=this._paperSetup.MarginLeft&&this._paperSetup.MarginLeft>0?this._paperSetup.MarginLeft:(n.MarginLeft/96).toFixed(2),this._paperOrientation=this._paperOrientation?this._paperOrientation:parseFloat(this._paperSetup.paperHeight)<parseFloat(this._paperSetup.paperWidth)?"Landscape":"Portrait",this._paperName=this._paperName?this._paperName:"Landscape"==this._paperOrientation?this._getPaperName(parseFloat(this._paperSetup.paperHeight),parseFloat(this._paperSetup.paperWidth)):this._getPaperName(parseFloat(this._paperSetup.paperWidth),parseFloat(this._paperSetup.paperHeight)))},_initialPageSetup:function(n){ej.isNullOrUndefined(n.reportPageModel.PaperHeight)||(this._paperSetup.paperHeight=this._paperSetup.paperHeight?this._paperSetup.paperHeight:(n.reportPageModel.PaperHeight/96).toFixed(2)),ej.isNullOrUndefined(n.reportPageModel.PaperWidth)||(this._paperSetup.paperWidth=this._paperSetup.paperWidth?this._paperSetup.paperWidth:(n.reportPageModel.PaperWidth/96).toFixed(2)),ej.isNullOrUndefined(n.reportPageModel.MarginTop)||(this._paperSetup.MarginTop=this._paperSetup.MarginTop&&this._paperSetup.MarginTop>0?this._paperSetup.MarginTop:(n.reportPageModel.MarginTop/96).toFixed(2)),ej.isNullOrUndefined(n.reportPageModel.MarginRight)||(this._paperSetup.MarginRight=this._paperSetup.MarginRight&&this._paperSetup.MarginRight>0?this._paperSetup.MarginRight:(n.reportPageModel.MarginRight/96).toFixed(2)),ej.isNullOrUndefined(n.reportPageModel.MarginBottom)||(this._paperSetup.MarginBottom=this._paperSetup.MarginBottom&&this._paperSetup.MarginBottom>0?this._paperSetup.MarginBottom:(n.reportPageModel.MarginBottom/96).toFixed(2)),ej.isNullOrUndefined(n.reportPageModel.MarginLeft)||(this._paperSetup.MarginLeft=this._paperSetup.MarginLeft&&this._paperSetup.MarginLeft>0?this._paperSetup.MarginLeft:(n.reportPageModel.MarginLeft/96).toFixed(2))},_bindPageSetupModel:function(){var n=$("#"+this._id+"_paperHeight").data("ejNumericTextbox"),c=$("#"+this._id+"_paperWidth").data("ejNumericTextbox"),r=$("#"+this._id+"_paperMarginLeft").data("ejNumericTextbox"),u=$("#"+this._id+"_paperMarginTop").data("ejNumericTextbox"),_=$("#"+this._id+"_paperMarginRight").data("ejNumericTextbox"),w=$("#"+this._id+"_paperMarginBottom").data("ejNumericTextbox"),v=$("#"+this._id+"_pageUnitCentimeter").is(":checked");$("#"+this._id+"_PaperSize").data("ejDropDownList").selectItemByText(this._paperName),n.option("value",this._paperSetup.paperHeight),c.option("value",this._paperSetup.paperWidth),u.option("value",v?this._convertInchtoCM(this._paperSetup.MarginTop):this._paperSetup.MarginTop),_.option("value",v?this._convertInchtoCM(this._paperSetup.MarginRight):this._paperSetup.MarginRight),w.option("value",v?this._convertInchtoCM(this._paperSetup.MarginBottom):this._paperSetup.MarginBottom),r.option("value",v?this._convertInchtoCM(this._paperSetup.MarginLeft):this._paperSetup.MarginLeft),"Landscape"==this._paperOrientation?$("#"+this._id+"_landscape").data("ejRadioButton").option("checked",!0):$("#"+this._id+"_portrait").data("ejRadioButton").option("checked",!0),"Centimeters"==this._pageUnits?$("#"+this._id+"_pageUnitCentimeter").data("ejRadioButton").option("checked",!0):$("#"+this._id+"_pageUnitInches").data("ejRadioButton").option("checked",!0)},_orientationChanged:function(n){var a,s,h,t,c=$("#"+this._id+"_paperHeight").data("ejNumericTextbox"),r=$("#"+this._id+"_paperWidth").data("ejNumericTextbox"),u=$("#"+this._id+"_paperMarginLeft").data("ejNumericTextbox"),_=$("#"+this._id+"_paperMarginTop").data("ejNumericTextbox"),w=$("#"+this._id+"_paperMarginRight").data("ejNumericTextbox"),v=$("#"+this._id+"_paperMarginBottom").data("ejNumericTextbox");c&&r&&(a=c.getValue(),s=r.getValue(),"Custom"==this._paperName&&(n.model.id==this._id+"_portrait"&&a>s||n.model.id==this._id+"_landscape"&&a<s)?(c.option("value",a),r.option("value",s)):(c.option("value",s),r.option("value",a)),n.model.id==this._id+"_landscape"&&1==n.model.checked?(h=u.getValue(),u.option("value",_.getValue()),t=v.getValue(),v.option("value",h),h=w.getValue(),w.option("value",t),_.option("value",h)):(h=w.getValue(),w.option("value",_.getValue()),t=v.getValue(),v.option("value",h),h=u.getValue(),u.option("value",t),_.option("value",h)))},_paperSizeChange:function(){var n=$("#"+this._id+"_paperHeight").data("ejNumericTextbox").getValue(),c=$("#"+this._id+"_paperWidth").data("ejNumericTextbox").getValue(),r=$("#"+this._id+"_pageUnitCentimeter").is(":checked")?this._convertCMtoInch(n):n,u=$("#"+this._id+"_pageUnitCentimeter").is(":checked")?this._convertCMtoInch(c):c;$("#"+this._id+"_PaperSize").ejDropDownList({value:r>u?this._getPaperName(u,r):this._getPaperName(r,u)}),r>u?$("#"+this._id+"_portrait").ejRadioButton({checked:!0}):$("#"+this._id+"_landscape").ejRadioButton({checked:!0})},_convertInchtoCM:function(n){return(2.54*n).toFixed(2)},_convertCMtoInch:function(n){return(n/2.54).toFixed(2)},_radioBtnChanged:function(n){var c=ej.ReportViewer.Locale[this.model.locale]?ej.ReportViewer.Locale[this.model.locale]:ej.ReportViewer.Locale["en-US"],r="Inches"==n.model.value?c.pagesetupDialog.unitin:c.pagesetupDialog.unitcm;$("."+this._lbl+"unitlabel").text(r);var u=$("#"+this._id+"_paperHeight").data("ejNumericTextbox"),_=$("#"+this._id+"_paperWidth").data("ejNumericTextbox"),w=$("#"+this._id+"_paperMarginLeft").data("ejNumericTextbox"),v=$("#"+this._id+"_paperMarginTop").data("ejNumericTextbox"),a=$("#"+this._id+"_paperMarginRight").data("ejNumericTextbox"),s=$("#"+this._id+"_paperMarginBottom").data("ejNumericTextbox"),h=$("#"+this._id+"_pageUnitCentimeter").is(":checked");u.option("value",h?this._convertInchtoCM(u.getValue()):this._convertCMtoInch(u.getValue())),_.option("value",h?this._convertInchtoCM(_.getValue()):this._convertCMtoInch(_.getValue())),w.option("value",h?this._convertInchtoCM(w.getValue()):this._convertCMtoInch(w.getValue())),v.option("value",h?this._convertInchtoCM(v.getValue()):this._convertCMtoInch(v.getValue())),a.option("value",h?this._convertInchtoCM(a.getValue()):this._convertCMtoInch(a.getValue())),s.option("value",h?this._convertInchtoCM(s.getValue()):this._convertCMtoInch(s.getValue()))},_setUpChange:function(n){var c=n.value,u=$("#"+this._id+"_paperHeight").data("ejNumericTextbox"),_=$("#"+this._id+"_paperWidth").data("ejNumericTextbox"),w=$("#"+this._id+"_paperMarginLeft").data("ejNumericTextbox"),v=$("#"+this._id+"_paperMarginTop").data("ejNumericTextbox"),a=$("#"+this._id+"_paperMarginRight").data("ejNumericTextbox"),s=$("#"+this._id+"_paperMarginBottom").data("ejNumericTextbox"),h=this._getPaperSize(c);"Custom"==c?$("#"+this._id+"_portrait").is(":checked")&&h.height>h.width||$("#"+this._id+"_landscape").is(":checked")&&h.height<h.width?(u.option("value",h.height),_.option("value",h.width)):(u.option("value",h.width),_.option("value",h.height)):$("#"+this._id+"_landscape").is(":checked")?(u.option("value",h.height<h.width?h.height:h.width),_.option("value",h.height<h.width?h.width:h.height)):(u.option("value",h.height),_.option("value",h.width)),v.getValue()||v.option("value",(0).toFixed(2)),a.getValue()||a.option("value",(0).toFixed(2)),s.getValue()||s.option("value",(0).toFixed(2)),w.getValue()||w.option("value",(0).toFixed(2)),"Custom"==c?(u.enable(),_.enable()):(u.disable(),_.disable())},_getPaperName:function(n,c){return 11.69==n&&16.54==c?"A3":8.27==n&&11.69==c?"A4":10.12==n&&14.33==c?"B4(JIS)":7.17==n&&10.12==c?"B5(JIS)":4.13==n&&9.5==c?"Envelope #10":3.88==n&&7.5==c?"Envelope Monarch":7.25==n&&10.5==c?"Executive":8.5==n&&14===c?"Legal":8.5==n&&11===c?"Letter":11===n&&17===c?"Tabloid":"Custom"},_getPaperSize:function(n){var r,u,w,v,c={},_=$("#"+this._id+"_pageUnitCentimeter").is(":checked");switch(n){case"A3":u=11.69,r=16.54;break;case"A4":u=8.27,r=11.69;break;case"B4(JIS)":u=10.12,r=14.33;break;case"B5(JIS)":u=7.17,r=10.12;break;case"Envelope #10":u=4.13,r=9.5;break;case"Envelope Monarch":u=3.88,r=7.5;break;case"Executive":u=7.25,r=10.5;break;case"Legal":u=8.5,r=14;break;case"Letter":u=8.5,r=11;break;case"Tabloid":u=11,r=17;break;case"Custom":w=$("#"+this._id+"_paperHeight"),v=$("#"+this._id+"_paperWidth"),r=w.length>0&&w.data("ejNumericTextbox")?w.data("ejNumericTextbox").getValue():this.model.pageSettings.height,u=v.length>0&&v.data("ejNumericTextbox")?v.data("ejNumericTextbox").getValue():this.model.pageSettings.width,r=_?this._convertCMtoInch(r):r,u=_?this._convertCMtoInch(u):u}return c.height=_?this._convertInchtoCM(r):r,c.width=_?this._convertInchtoCM(u):u,c},_pageSetupSubmit:function(){var s,n=$("#"+this._id+"_paperHeight").data("ejNumericTextbox").getValue(),c=$("#"+this._id+"_paperWidth").data("ejNumericTextbox").getValue(),r=$("#"+this._id+"_paperMarginTop").data("ejNumericTextbox").getValue(),u=$("#"+this._id+"_paperMarginRight").data("ejNumericTextbox").getValue(),_=$("#"+this._id+"_paperMarginBottom").data("ejNumericTextbox").getValue(),w=$("#"+this._id+"_paperMarginLeft").data("ejNumericTextbox").getValue(),v=$("#"+this._id+"_pageUnitCentimeter").is(":checked");ej.isNullOrUndefined(n)||ej.isNullOrUndefined(c)||ej.isNullOrUndefined(r)||ej.isNullOrUndefined(u)||ej.isNullOrUndefined(_)||ej.isNullOrUndefined(w)||(r+_>=n||w+u>=c?this._showAlertDialog((ej.ReportViewer.Locale[this.model.locale]?ej.ReportViewer.Locale[this.model.locale]:ej.ReportViewer.Locale["en-US"]).alertMessage.RVERR0009,"",!1):(this._paperSetup.paperHeight=ej.isNullOrUndefined(n)?0:n,this._paperSetup.paperWidth=ej.isNullOrUndefined(c)?0:c,this._paperSetup.MarginTop=v?this._convertCMtoInch(r):r,this._paperSetup.MarginRight=v?this._convertCMtoInch(u):u,this._paperSetup.MarginBottom=v?this._convertCMtoInch(_):_,this._paperSetup.MarginLeft=v?this._convertCMtoInch(w):w,s=$("#"+this._id+"_PaperSize").data("ejDropDownList"),this._paperName=s.model.value,this._paperOrientation=n<c?"Landscape":"Portrait",this._pageUnits=v?"Centimeters":"Inches",this._pageSetup=!0,this.model.pageSettings.height=this._paperSetup.paperHeight,this.model.pageSettings.width=this._paperSetup.paperWidth,this.model.pageSettings.orientation=this._paperOrientation,this.model.pageSettings.pageUnits=this._pageUnits,this.model.pageSettings.paperSize=this._paperName,this.model.pageSettings.margins.top=this._paperSetup.MarginTop,this.model.pageSettings.margins.right=this._paperSetup.MarginRight,this.model.pageSettings.margins.bottom=this._paperSetup.MarginBottom,this.model.pageSettings.margins.left=this._paperSetup.MarginLeft,ej.isNullOrUndefined(this._paperSetup.paperWidth)||ej.isNullOrUndefined(this._paperSetup.paperHeight)||this._updatePreviewLayout(this._printMode,!0),$("#"+this._id+"_printPageSetup").ejDialog("close")))},_pageSetupCancel:function(){this._bindPageSetupModel(),$("#"+this._id+"_printPageSetup").ejDialog("close")},_showExportSetup:function(){var c;$("#"+this._id+"_exportSetup").length>0?c=$("#"+this._id+"_exportSetup").data("ejDialog"):(this._renderExportSetup(),this._bindExportSetupModel()),c&&c.model&&(c.isOpen()?$("#"+this._id+"_exportSetup").ejDialog("close"):($("#"+this._id+"_exportSetup").ejDialog("open"),this._bindExportSetupModel(),$("#"+this._id+"_exportSetup").ejDialog("refresh"))),this._enableToolbarContents(!1)},_exportSetupSubmit:function(){var n=$("#"+this._id+"_securityPwdToProtect").val(),c=$("#"+this._id+"_securityPwdToEdit").val();this.model.exportSettings.PDFOptions.Security.UserPassword=n??this.model.exportSettings.PDFOptions.Security.UserPassword,this.model.exportSettings.WordOptions.EncryptionPassword=n??this.model.exportSettings.WordOptions.EncryptionPassword,this.model.exportSettings.PPTOptions.EncryptionPassword=n??this.model.exportSettings.PPTOptions.EncryptionPassword,this.model.exportSettings.ExcelOptions.PasswordToOpen=n??this.model.exportSettings.ExcelOptions.PasswordToOpen,this.model.exportSettings.ExcelOptions.PasswordToModify=c??this.model.exportSettings.ExcelOptions.PasswordToModify,this.model.exportSettings.SecurityOptions.Protect=n,this.model.exportSettings.SecurityOptions.Edit=c,this.model.exportSettings.WordOptions.FormatType=$("#"+this._id+"_wordFormat").data("ejDropDownList").getSelectedValue(),this.model.exportSettings.WordOptions.ProtectionType=$("#"+this._id+"_wordProtectionType").data("ejDropDownList").getSelectedValue(),this.model.exportSettings.WordOptions.LayoutOption=$("#"+this._id+"_wordLayoutOption").data("ejDropDownList").getSelectedValue(),this.model.exportSettings.WordOptions.ParagraphSpacing.Top=$("#"+this._id+"_wordParaSpacingTop").data("ejNumericTextbox").getValue(),this.model.exportSettings.WordOptions.ParagraphSpacing.Bottom=$("#"+this._id+"_wordParaSpacingBottom").data("ejNumericTextbox").getValue(),this.model.exportSettings.PPTOptions.FormatType=$("#"+this._id+"_pptFormat").data("ejDropDownList").getSelectedValue(),this.model.exportSettings.SecurityOptions.EnableProtection=$("#"+this._id+"_securityEnableProtection").is(":checked"),this.model.exportSettings.ExcelOptions.ExcelSaveType=$("#"+this._id+"_excelSaveType").data("ejDropDownList").getSelectedValue(),this.model.exportSettings.ExcelOptions.ReadOnlyRecommended=$("#"+this._id+"_excelCheckBox").is(":checked"),this.model.exportSettings.ExcelOptions.ExcelSheetProtection=$("#"+this._id+"_excelSheetProtection").data("ejDropDownList").getSelectedValue(),this.model.exportSettings.ExcelOptions.DisableCellFormat=$("#"+this._id+"_excelDisableCellFormat").data("ejDropDownList").getSelectedValue(),this.model.exportSettings.ExcelOptions.LayoutOption=$("#"+this._id+"_excelLayoutOption").data("ejDropDownList").getSelectedValue(),this.model.exportSettings.PDFOptions.EnableComplexScript=$("#"+this._id+"_pdfComplexScriptCheckBox").is(":checked"),this.model.exportSettings.PDFOptions.PdfConformanceLevel=$("#"+this._id+"_pdfConformanceLevelType").data("ejDropDownList").getSelectedValue(),this.model.exportSettings.CommonOptions.ImageQuality=$("#"+this._id+"_commonImageQualityOption").data("ejDropDownList").getSelectedValue(),this.model.exportSettings.CommonOptions.UsePrintSizes=$("#"+this._id+"_usePrintSizes").is(":checked"),this.model.exportSettings.CsvOptions.Qualifier="Custom"==$("#"+this._id+"_csvQualifier").data("ejDropDownList").getSelectedValue()?$("#"+this._id+"_csvCustomQualifier").val():$("#"+this._id+"_csvQualifier").data("ejDropDownList").getSelectedValue(),this.model.exportSettings.CsvOptions.FieldDelimiter="Custom"==$("#"+this._id+"_csvFieldDelimiter").data("ejDropDownList").getSelectedValue()?$("#"+this._id+"_csvCustomFDelimiter").val():$("#"+this._id+"_csvFieldDelimiter").data("ejDropDownList").getSelectedValue(),this.model.exportSettings.CsvOptions.UseFormattedValues=$("#"+this._id+"_csvFormatVal").is(":checked"),this.model.exportSettings.HTMLOptions.HidePageSeparator=!$("#"+this._id+"_htmlPageSeparator").is(":checked"),$("#"+this._id+"_exportSetup").ejDialog("close")},_exportSetupCancel:function(){$("#"+this._id+"_exportSetup").ejDialog("close")},_bindExportSetupModel:function(){var n=ej.ReportViewer.Locale[this.model.locale]?ej.ReportViewer.Locale[this.model.locale]:ej.ReportViewer.Locale["en-US"];$("#"+this._id+"_wordFormat").data("ejDropDownList").option("value",this.model.exportSettings.WordOptions.FormatType),$("#"+this._id+"_wordProtectionType").data("ejDropDownList").option("value",this.model.exportSettings.WordOptions.ProtectionType),$("#"+this._id+"_wordLayoutOption").data("ejDropDownList").option("value",this.model.exportSettings.WordOptions.LayoutOption),$("#"+this._id+"_wordParaSpacingTop").data("ejNumericTextbox").option("value",this.model.exportSettings.WordOptions.ParagraphSpacing.Top),$("#"+this._id+"_wordParaSpacingBottom").data("ejNumericTextbox").option("value",this.model.exportSettings.WordOptions.ParagraphSpacing.Bottom),$("#"+this._id+"_securityPwdToProtect").data("ejMaskEdit").option("value",this.model.exportSettings.SecurityOptions.Protect),$("#"+this._id+"_securityPwdToEdit").data("ejMaskEdit").option("value",this.model.exportSettings.SecurityOptions.Edit),$("#"+this._id+"_pptFormat").data("ejDropDownList").option("value",this.model.exportSettings.PPTOptions.FormatType),$("#"+this._id+"_excelSaveType").data("ejDropDownList").option("value",this.model.exportSettings.ExcelOptions.ExcelSaveType),$("#"+this._id+"_excelSheetProtection").data("ejDropDownList").option("value",this.model.exportSettings.ExcelOptions.ExcelSheetProtection),$("#"+this._id+"_excelDisableCellFormat").data("ejDropDownList").option("value",this.model.exportSettings.ExcelOptions.DisableCellFormat),$("#"+this._id+"_excelLayoutOption").data("ejDropDownList").option("value",this.model.exportSettings.ExcelOptions.LayoutOption),$("#"+this._id+"_pdfConformanceLevelType").data("ejDropDownList").option("value",this.model.exportSettings.PDFOptions.PdfConformanceLevel),$("#"+this._id+"_commonImageQualityOption").data("ejDropDownList").option("value",this.model.exportSettings.CommonOptions.ImageQuality),$("#"+this._id+"_csvQualifier").data("ejDropDownList").option("value",this._getDDLOption(n.exportsetupDialog.csvOptions.qualifierList,this.model.exportSettings.CsvOptions.Qualifier)),$("#"+this._id+"_csvFieldDelimiter").data("ejDropDownList").option("value",this._getDDLOption(n.exportsetupDialog.csvOptions.delimiterList,this.model.exportSettings.CsvOptions.FieldDelimiter)),$("#"+this._id+"_securityEnableProtection").ejCheckBox({checked:1==this.model.exportSettings.SecurityOptions.EnableProtection}),$("#"+this._id+"_excelCheckBox").ejCheckBox({checked:1==this.model.exportSettings.ExcelOptions.ReadOnlyRecommended}),$("#"+this._id+"_csvFormatVal").ejCheckBox({checked:1==this.model.exportSettings.CsvOptions.UseFormattedValues}),$("#"+this._id+"_pdfComplexScriptCheckBox").ejCheckBox({checked:1==this.model.exportSettings.PDFOptions.EnableComplexScript}),$("#"+this._id+"_htmlPageSeparator").ejCheckBox({checked:0==this.model.exportSettings.HTMLOptions.HidePageSeparator})},_exportSetupClose:function(){this._enableToolbarContents(!0)},_getWordDocTypeIndex:function(n){var c;switch(n){case"Doc":c=0;break;case"Dot":c=1;break;case"Docx":default:c=2;break;case"Word2007":case"Word2010":case"Word2013":c=3;break;case"Word2007Dotx":case"Word2010Dotx":case"Word2013Dotx":c=6;break;case"Word2007Docm":case"Word2010Docm":case"Word2013Docm":c=9;break;case"Word2007Dotm":case"Word2010Dotm":case"Word2013Dotm":c=12;break;case"Rtf":c=15;break;case"Txt":c=16;break;case"Html":c=18}return c},_updateExportSetup:function(n){n.CommonOptions?(this.model.exportSettings.WordOptions=null!=n.WordOptions?n.WordOptions:this.model.exportSettings.WordOptions,this.model.exportSettings.ExcelOptions=null!=n.ExcelOptions?n.ExcelOptions:this.model.exportSettings.ExcelOptions,this.model.exportSettings.CsvOptions=null!=n.CsvOptions?n.CsvOptions:this.model.exportSettings.CsvOptions,this.model.exportSettings.HTMLOptions=null!=n.HTMLOptions?n.HTMLOptions:this.model.exportSettings.HTMLOptions,this.model.exportSettings.PPTOptions=null!=n.PPTOptions?n.PPTOptions:this.model.exportSettings.PPTOptions,this.model.exportSettings.CommonOptions=null!=n.CommonOptions?n.CommonOptions:this.model.exportSettings.CommonOptions,this.model.exportSettings.PDFOptions=null!=n.PDFOptions?n.PDFOptions:this.model.exportSettings.PDFOptions,this._isClassicExport=!1):(this.model.exportSettings.ExcelOptions.ExcelSaveType="Excel97to2003"==n.ExcelVersion?0:1,this.model.exportSettings.WordOptions.FormatType=this._getWordDocTypeIndex(n.WordFormat),this.model.exportSettings.CommonOptions.ImageQuality=n.ImageQuality,this.model.exportSettings.CommonOptions.UsePrintSizes=n.UsePrintSizes,this._isClassicExport=!0)},_showFittoPage:function(n){n?$("#"+this._id+"_toolbar_li_pagefit").css("display","block"):$("#"+this._id+"_toolbar_li_pagefit").css("display","none")},_resetPage:function(){var n=null,c=null,r=$("#"+this._id+"_pageviewContainer"),u=$("#"+this._id+"_pageviewOuterline");u.css({width:r.width(),height:r.height()}),this._applyPageTransform(r,this._preZoomVal,this._preZoomVal),"msie"==this._browserInfo.name&&8==this._browserInfo.version?(n=r[0].getBoundingClientRect().right,c=r[0].getBoundingClientRect().bottom):(n=r[0].getBoundingClientRect().width,c=r[0].getBoundingClientRect().height),u.css({width:n,height:c})},_fitToPage:function(n){var c=null,r=null;this._resetPage();var u=$("#"+this._id+"_viewerContainer"),_=$("#"+this._id+"_pageviewContainer"),w=$("#"+this._id+"_pageviewOuterline"),v=u.width(),a=u.height(),s=w.width(),h=w.height(),t=1,o=1;return"fitToPage"==n?(t=(v-40)/s*this._preZoomVal,o=(a-40)/h*this._preZoomVal,a>h&&(o=this._preZoomVal),v>s&&(t=this._preZoomVal),this._applyPageTransform(_,o,o,n),c=this._getPageContainerWidth(_),r=this._getPageContainerHeight(_),w.css({width:c,height:r})):"wholepage"==n?a<h&&(this._applyPageTransform(_,this._preZoomVal,o=(a-40)/h*this._preZoomVal,n),t=this._preZoomVal,c=this._getPageContainerWidth(_),r=this._getPageContainerHeight(_),w.css({width:c,height:r})):"fitToWidth"==n&&v<s&&(this._applyPageTransform(_,t=(v-40)/s*this._preZoomVal,t,n),o=this._preZoomVal,c=this._getPageContainerWidth(_),r=this._getPageContainerHeight(_),w.css({width:c,height:r})),{scalX:t,scalY:o}},_getPageContainerWidth:function(n){return pageContainerWidth="msie"==this._browserInfo.name&&8==this._browserInfo.version?n[0].getBoundingClientRect().right:n[0].getBoundingClientRect().width},_getPageContainerHeight:function(n){return pageContainerHeight="msie"==this._browserInfo.name&&8==this._browserInfo.version?n[0].getBoundingClientRect().bottom:n[0].getBoundingClientRect().height},_selectDropDownIndex:function(n){var c=$($("#"+this._id+"_toolbar_zoom_popup li")[n]);c.addClass("e-active"),$("#"+this._id+"_toolbar_zoom_input").val(c.text())},_applyDropDownVal:function(n,c,r){if(r){var u=n.scalX>n.scalY?n.scalY:n.scalX;$("#"+this._id+"_toolbar_zoom_input").val(Math.round(100*u)+"%"),$("#"+this._id+"_toolbar_zoom_popup li").removeClass("e-active")}else c?($("#"+this._id+"_toolbar_zoom_input").val(Math.round(100*n.scalX)+"%"),$("#"+this._id+"_toolbar_zoom_popup li").removeClass("e-active")):($("#"+this._id+"_toolbar_zoom_input").val(Math.round(100*n.scalY)+"%"),$("#"+this._id+"_toolbar_zoom_popup li").removeClass("e-active"))},_pageFitMenuClick:function(n){var c;if(this._isFitToPage=!1,this._isFitToWidth=!1,c=$(n.target).hasClass("e-reportviewer-icon")?$(n.target).attr("fitType"):n.target.className){var b,r=$("#"+this._id+"_toolbar_li_fittopagewidth"),u=r.find("span.e-reportviewer-icon"),_=$("#"+this._id+"_toolbar_li_fittowholepage"),w=_.find("span.e-reportviewer-icon"),v=$("#"+this._id+"_viewerContainer"),a=$("#"+this._id+"_pageviewOuterline"),s=$("#"+this._id+"_pageviewContainer"),h=v.width(),t=v.height(),o=a.width(),l=a.height(),p=s.width();switch($("#"+this._id+"_toolbar_zoom").data("ejDropDownList"),c){case"FITTOPAGE":this._isFitToPage=!0,b=this._fitToPage("fitToPage"),this._applyDropDownVal(b,!1,!0),v.scrollTop(0);break;case"PAGEWIDTH":case"e-reportviewer-popupli e-fitpagewidth e-reportviewer-tab-focus-none":if("true"==r.attr("isSelect"))"true"==_.attr("isSelect")?(this._isFitToPage=!0,b=this._fitToPage("fitToPage"),this._applyDropDownVal(b,!1,!0),v.scrollTop(0)):(this._resetPage(),this._selectDropDownIndex(this._zoomLevel)),u.removeClass("e-reportviewer-pagefittopage"),u.addClass("e-reportviewer-emptyconetent"),r.attr("isSelect","false");else{if(h>o)return void("true"==_.attr("isSelect")&&o!=p&&(this._isFitToWidth=!0,b=this._fitToPage("fitToWidth"),this._applyDropDownVal(b,!0,!1),r.attr("isSelect","true"),u.addClass("e-reportviewer-pagefittopage"),u.removeClass("e-reportviewer-emptyconetent"),w.addClass("e-reportviewer-emptyconetent"),w.removeClass("e-reportviewer-pagefittopage"),_.attr("isSelect","false")));this._isFitToWidth=!0,b=this._fitToPage("fitToWidth"),this._applyDropDownVal(b,!0,!1),_.attr("isSelect","false"),w.addClass("e-reportviewer-emptyconetent"),w.removeClass("e-reportviewer-pagefittopage"),r.attr("isSelect","true"),u.addClass("e-reportviewer-pagefittopage"),u.removeClass("e-reportviewer-emptyconetent")}break;case"WHOLEPAGE":case"e-reportviewer-popupli e-fitpageheight e-reportviewer-tab-focus-none":if("true"==_.attr("isSelect"))"true"==r.attr("isSelect")?(this._isFitToWidth=!0,b=this._fitToPage("fitToWidth"),this._applyDropDownVal(b,!0,!1)):(this._resetPage(),this._selectDropDownIndex(this._zoomLevel)),w.addClass("e-reportviewer-emptyconetent"),w.removeClass("e-reportviewer-pagefittopage"),_.attr("isSelect","false");else{if(t>l)return;this._isFitToPage=!0,b=this._fitToPage("fitToPage"),v.scrollTop(0),this._applyDropDownVal(b,!1,!0),w.addClass("e-reportviewer-pagefittopage"),w.removeClass("e-reportviewer-emptyconetent"),_.attr("isSelect","true"),u.removeClass("e-reportviewer-pagefittopage"),u.addClass("e-reportviewer-emptyconetent"),r.attr("isSelect","false")}}$("#"+this._id+"_toolbar_fittoPagePopup").hide(),this._onElementsRendered({action:"PageFit"})}},_showFitToPagetip:function(){var c,r,u,n=$("#"+this._id+"_toolbar_fittoPagePopup");n.length>0||(n=this._renderPageFitPopup(),$("body").append(n),this._on($("#"+this._id+"_toolbar_fittoPagePopup li.e-reportviewer-popupli"),"click",this._pageFitMenuClick),this._on($("#"+this._id+"_toolbar_fittoPagePopup li.e-reportviewer-popupli"),"mousedown",this._onPopupClick)),"block"==n.css("display")?n.css("display","none"):(n.css("display","block"),this._renderFitopagePopup()),c=$("#"+this._id+"_toolbar_li_pagefit"),(r=$("#"+this._id+"_toolbarContainer_hiddenlist")).length>0&&r.find("#"+this._id+"_toolbar_li_pagefit").length>0&&"none"!==r.css("display")?n.css({left:c.offset().left,top:c.offset().top+c.height()+parseFloat(c.css("padding-top"))+parseFloat(c.css("padding-bottom"))+parseFloat(c.parent().css("margin-bottom")),"z-index":ej.util.getZindexPartial(this.element)}):(u=this.element.find("#"+this._id+"_toolbarContainer"),n.css({left:c.offset().left,top:u.offset().top+parseFloat(u.css("border-top-width"))+u.height(),"z-index":ej.util.getZindexPartial(this.element)}))},_zoomValChange:function(n){var c=this._id.substr(0,this._id.lastIndexOf("_toolbar_zoom")),r=$("#"+c).data("boldReportViewer"),u=parseInt(n.value)/100;r._zoomLevel=n.itemId,r._zoomContainer(u,!1)},_zoomIn:function(){this._zoomLevel>=6?this._zoomLevel=6:this._zoomLevel++,this._isDevice?this._mobileLayoutZoomChange():$("#"+this._id+"_toolbar_zoom").data("ejDropDownList").selectItemsByIndices(this._zoomLevel)},_zoomOut:function(){this._zoomLevel<=0?this._zoomLevel=0:this._zoomLevel--,this._isDevice?this._mobileLayoutZoomChange():$("#"+this._id+"_toolbar_zoom").data("ejDropDownList").selectItemsByIndices(this._zoomLevel)},_mobileLayoutZoomChange:function(){this._zoomContainer([.5,.75,1,1.25,1.5,2,4][this._zoomLevel],!1)},_zoomInContainer:function(n,c){var v,r=c,_=($("#"+this._id+"_viewerContainer"),$("#"+this._id+"_pageviewContainer")),w=$("#"+this._id+"_pageviewOuterline");n&&(this._zoomVal=this._zoomVal+r),v=this._getPageViewSize(_),this._applyPageTransform(_,this._zoomVal,this._zoomVal),w.css({width:v.width*this._zoomVal,height:v.height*this._zoomVal})},_zoomOutContainer:function(n,c){var v,r=c,_=($("#"+this._id+"_viewerContainer"),$("#"+this._id+"_pageviewContainer")),w=$("#"+this._id+"_pageviewOuterline");n&&(this._zoomVal=this._zoomVal-r),v=this._getPageViewSize(_),this._applyPageTransform(_,this._zoomVal,this._zoomVal),w.css({width:v.width*this._zoomVal,height:v.height*this._zoomVal})},_getPageViewSize:function(n){var c=n.width(),r=n.height();return this.model.printMode&&!ej.isNullOrUndefined(this._pageModel)&&(c+=this._pageModel.MarginLeft+this._pageModel.MarginRight,r+=this._pageModel.MarginTop+this._pageModel.MarginBottom),{width:c,height:r}},_applyPageTransform:function(n,c,r,u){var w,_="scale("+c+","+r+")";if("msie"==this._browserInfo.name)switch(n.css("8.0"==this._browserInfo.version?{zoom:c}:{"-ms-transform":_,"-ms-transform-origin":"0 0"}),this._setZoomScrollerIE(),w=$("#"+this._id+"_viewerContainer"),u){case"fitToPage":w.css({"overflow-x":"hidden","overflow-y":"hidden"});break;case"wholepage":w.css({"overflow-y":"hidden"});break;case"fitToWidth":w.css({"overflow-x":"hidden"})}else"mozilla"==this._browserInfo.name?n.css("11.0"==this._browserInfo.version?{transform:_,"transform-origin":"0 0"}:{"-moz-transform":_,"-moz-transform-origin":"0 0"}):"webkit"==this._browserInfo.name||"chrome"==this._browserInfo.name||"opera"==this._browserInfo.name?n.css({"-webkit-transform":_,"-webkit-transform-origin":"0 0"}):"edge"==this._browserInfo.name&&n.css({transform:_,"transform-origin":"0 0"})},_updateZoomContainer:function(n){var c=$("#"+this._id+"_toolbarContainer"),r=$("#"+this._id+"_toolbar_li_zoomout"),u=$("#"+this._id+"_toolbar_li_zoomin");0==n?c.ejToolbar("disableItem",r):r.hasClass("e-disable")&&c.ejToolbar("enableItem",r),6==n?c.ejToolbar("disableItem",u):u.hasClass("e-disable")&&c.ejToolbar("enableItem",u)},_zoomContainer:function(n,c){var r;this.model&&this.model.zoomFactor&&(this.model.zoomFactor=n),this._zoomVal=n,this._updateZoomContainer(this._zoomLevel);var u=$("#"+this._id+"_toolbar_li_fittopagewidth"),_=$("#"+this._id+"_toolbar_li_fittowholepage"),w=u.find("span.e-reportviewer-icon"),v=_.find("span.e-reportviewer-icon");if(("true"==u.attr("isSelect")||"true"==_.attr("isSelect"))&&this._resetPage(),w&&(w.removeClass("e-reportviewer-pagefittopage"),w.addClass("e-reportviewer-emptyconetent")),v&&(v.addClass("e-reportviewer-emptyconetent"),v.removeClass("e-reportviewer-pagefittopage")),0==(r=Math.abs(this._preZoomVal-n)))return!1;this._preZoomVal>n?this._zoomOutContainer(c,r):this._zoomInContainer(c,r),this._preZoomVal=n,this._onElementsRendered({action:"ZoomChange"})},_setZoomScrollerIE:function(n){if("msie"==this._browserInfo.name&&this._pageModel&&this._pageModel.PageData&&this._pageModel.PageData.length>0){var c=$("#"+this._id+"_viewerContainer"),r=this._pageModel.PageData[0],_=r.Width,a=r.Height+r.HeaderHeight+r.FooterHeight,s=c.height(),h=c.width();a*=n,_*=n,c.css({overflow:"hidden"}),c.css({"overflow-x":"Auto"}),c.css({"overflow-y":"Auto"}),a<s&&_<h?(c.css({"overflow-x":"hidden"}),c.css({"overflow-y":"hidden"})):_<h?c.css({"overflow-x":"hidden"}):a<s&&c.css({"overflow-y":"hidden"})}},_showZoomControl:function(n){n?($("#"+this._id+"_toolbar_li_zoomin").css("display","block"),$("#"+this._id+"_toolbar_li_zoomout").css("display","block"),$("#"+this._id+"_toolbar_li_zoom").css("display","block")):($("#"+this._id+"_toolbar_li_zoomin").css("display","none"),$("#"+this._id+"_toolbar_li_zoomout").css("display","none"),$("#"+this._id+"_toolbar_li_zoom").css("display","none"))},_getMultiTenantUrl:function(n,c){return this.model.tenantName?c?n+"?site="+this.model.tenantName:n+"&site="+this.model.tenantName:n},_refreshReport:function(){this._refresh=!0,this._dataRefresh=!0,this.model.enableRequestLimiting=!1,this._unwireEvents(),this._initViewer(),null!=this._reportDataSources&&this._reportDataSources.length>0?this._getDataSourceCredential(this._reportDataSources):"Params"==this._paramInfo?this._ajaxCallMethod(this._reportAction.getParameters,"_getParameters",!1):this._ajaxCallMethod(this._reportAction.getPageModel,this._printMode?"_getPreviewModel":"_getPageModel",!1)},_showRefreshButton:function(n){n?$("#"+this._id+"_toolbar_li_refresh").css("display","block"):$("#"+this._id+"_toolbar_li_refresh").css("display","none")},_refreshIndicator:function(){var n=this.element.find("#"+this._id+"_viewerContainer").data("ejWaitingPopup"),c=this.element.find("#"+this._id+"_loadingIndicator").data("ejWaitingPopup");n&&n.model.showOnInit&&n.refresh(),c&&c.model.showOnInit&&c.refresh()},_getSearchPages:function(){var n=$("#"+this._id+"_toolbar_findtext").val();0===this._searchTextDivIndex&&0===this._searchPageIndexs.length||this._searchText!==n?(this._searchText=n,this._searchTextPageIndex=0,this._searchPageIndexs=0,this._searchTextDivIndex=0,this._searchTextDivCollection=[],this._ajaxCallMethod(this._reportAction.getSearchPages,"_getPageModel",!1)):this._renderSearchPage(this._searchPageIndexs,0!==this._searchTextDivCollection.length)},_renderSearchPage:function(r,c){var u,_;if(!ej.isNullOrUndefined(r))if(r=this._searchPageIndexs=r,c)this._focusSearchText(),this._searchTextDivCollection.length===this._searchTextDivIndex&&0!==this._searchTextDivIndex&&this._searchTextDivCollection.length>0&&(this._searchTextDivIndex=0,this._searchTextDivCollection=[],c=!1,this._searchTextPageIndex=r.indexOf(this._currentPage)+1);else if(!c){for(u=this._searchTextPageIndex;u<r.length;u++){if(this._currentPage==r[u])this._focusSearchText(),this._searchTextDivCollection.length===this._searchTextDivIndex&&0!==this._searchTextDivIndex&&this._searchTextDivCollection.length>0&&(this._searchTextDivIndex=0,this._searchTextDivCollection=[],c=!0,this._searchTextPageIndex=r.indexOf(this._currentPage)+1);else{if("noResultsFound"==r){this._showFindResultAlertDialog("noResultsFound"),this._findDispose();break}this._gotoPageNo(r[u])}break}this._searchTextPageIndex>=r.length&&!c&&(this._searchText=null,this._searchPageIndexs=[],this._searchTextPageIndex=0,_=ej.isNullOrUndefined(c)?"noResultsFound":"resultsEndReached",this._showFindResultAlertDialog(_))}},_focusSearchText:function(){if(0===this._searchTextDivIndex){var n=[],c=document.querySelectorAll(".e-reportviewer-txtitem, .e-reportviewer-txtitem *:not(script):not(style):not(noscript)");c?.forEach(function(r){"MARK"===r.nodeName&&n.push(r)}),this._searchTextDivCollection=n,"SPAN"!=this._searchTextDivCollection[this._searchTextDivIndex].parentNode.nodeName&&this._searchTextDivCollection.sort(function(r,u){return r.getBoundingClientRect().top<u.getBoundingClientRect().top||r.getBoundingClientRect().top==u.getBoundingClientRect().top&&r.getBoundingClientRect().left<u.getBoundingClientRect().left?-1:1})}0!=this._searchTextDivCollection.length&&this._searchTextDivIndex<this._searchTextDivCollection.length&&($("#"+this._id+"_viewerContainer").animate({scrollTop:parseFloat(this._searchTextDivCollection[this._searchTextDivIndex].offsetParent.offsetTop*this.model.zoomFactor),scrollLeft:parseFloat(this._searchTextDivCollection[this._searchTextDivIndex].offsetParent.offsetLeft*this.model.zoomFactor)},0),this._searchTextDivCollection[this._searchTextDivIndex].style.background="#ff9632",0!=this._searchTextDivIndex&&(this._searchTextDivCollection[this._searchTextDivIndex-1].style.background="yellow"),this._searchTextDivIndex++)},_removeMarkTag:function(){$("#"+this._id+"_pageviewOuterContainer div > mark").contents().unwrap()},_showFindButton:function(n){n?($("#"+this._id+"_toolbar_li_find").css("display","block"),$("#"+this._id+"_toolbar_li_findtext").css("display","block"),this._enableSearchText=!0,this._enableFindTextBox(!1),""===$("#viewer_toolbar_findtext").val()&&this._enableFindButton(!1)):($("#"+this._id+"_toolbarUl_find").css("display","none"),$("#"+this._id+"_toolbar_li_find").css("display","none"),$("#"+this._id+"_toolbar_li_findtext").css("display","none"))},_enableFindButton:function(n){n?($("#"+this._id+"_toolbar_li_find").removeClass("e-disable"),$("#"+this._id+"_toolbar_li_find").attr("aria-disabled","false")):($("#"+this._id+"_toolbar_li_find").addClass("e-disable"),$("#"+this._id+"_toolbar_li_find").attr("aria-disabled","true"))},_enableFindTextBox:function(n){n?($("#"+this._id+"_toolbar_li_findtext").removeClass("e-disable"),$("#"+this._id+"_toolbar_li_findtext").attr("aria-disabled","false"),""!==$("#viewer_toolbar_findtext").val()&&this._enableFindButton(!0)):($("#"+this._id+"_toolbar_li_findtext").addClass("e-disable"),$("#"+this._id+"_toolbar_li_findtext").attr("aria-disabled","true"),this._enableFindButton(!1))},_showFindResultAlertDialog:function(n){this._showAlertDialog((ej.ReportViewer.Locale[this.model.locale]?ej.ReportViewer.Locale[this.model.locale]:ej.ReportViewer.Locale["en-US"]).findAlertMessage[n],null,!1,null,!0)},_onFindkeyPress:function(n){13==n.keyCode&&""!==n.currentTarget.value?this._getSearchPages():this._enableFindButton(!0)},_onFindValChange:function(n){this._enableFindButton(""!==n.currentTarget.value)},_onWindowClose:function(){this._ajaxCallMethod(this._reportAction.clearCache,"",!1)},_findDispose:function(){this._searchTextPageIndex=0,this._searchTextDivIndex=0,this._searchTextDivCollection=[],this._searchPageIndexs=[],this._searchText=null,this._removeMarkTag()},_showStopButton:function(n){n?$("#"+this._id+"_toolbar_li_stop").css("display","block"):$("#"+this._id+"_toolbar_li_stop").css("display","none")},_showExportSetupButton:function(n){n?$("#"+this._id+"_toolbar_li_exportsetup").css("display","block"):$("#"+this._id+"_toolbar_li_exportsetup").css("display","none")},_addExportOptionRow:function(n,c,r){var u=ej.buildTag("tr.e-reportviewer-pagesetuptr","",{});return u.append(ej.buildTag("td.e-reportviewer-pagesetupcontent","",c?{"padding-top":"0px","font-weight":"bold",colspan:"2"}:{width:"50%",padding:"8px 8px"},{}).append(n)),null!=r&&u.append(ej.buildTag("td.e-reportviewer-pagesetupcontent","",{width:"50%","padding-right":"10px"},{}).append(r)),u},_renderExportSetup:function(){var a,s,h,t,o,l,p,g,b,C,T,D,L,I,R,V,F,A,z,N,U,n=ej.ReportViewer.Locale[this.model.locale]?ej.ReportViewer.Locale[this.model.locale]:ej.ReportViewer.Locale["en-US"],u=ej.buildTag("div.e-dialog e-userselect","",{display:"table",width:"100%"},{id:this._id+"_exportSetup"}),_=ej.buildTag("div","",{display:"block",width:"100%"},{id:this._id+"_exportFormat"}),w=ej.buildTag("table","",{width:"100%"},{"border-collapse":"collapse"}),v=$("#"+this._id+".e-reportviewer")[0].getBoundingClientRect();_.append(w),u.append(_),u.ejDialog({width:500,height:"65%",position:{X:v.left+("msie"==this._browserInfo.name&&8==this._browserInfo.version?v.right:v.width)/3+20,Y:v.top+50},enableModal:!1,title:n.toolbar.exportsetup?n.toolbar.exportsetup.headerText:n.toolbar.exportsetup,enableResize:!1,enablePersistance:!1,enableModal:!0,showFooter:!0,cssClass:"e-js e-rptviewer-dialog",close:$.proxy(this._exportSetupClose,this)}),w.append(this._addExportOptionRow(n.exportsetupDialog.commonOptions.header,!0)),a=ej.buildTag("select.e-rptviewer-exportSetup","",{},{id:this._id+"_commonImageQualityOption"}),w.append(this._addExportOptionRow(n.exportsetupDialog.commonOptions.imageQuality,!1,a)),this.model.exportSettings.CommonOptions.ImageQuality=this.model.exportSettings.CommonOptions.ImageQuality<4?2:this.model.exportSettings.CommonOptions.ImageQuality<8?5:10,a.ejDropDownList({cssClass:"e-rptviewer-drpdown-imagequality e-rptviewer-drpdown",height:"32px",width:"100%",dataSource:n.exportsetupDialog.commonOptions.imageQualityTypes,value:this.model.exportSettings.CommonOptions.ImageQuality,htmlAttributes:{"aria-disabled":"false",role:"combobox","aria-label":this._getLocaleString("exportsetupDialog","commonOptions","imageQuality")}}),s=this._buildTag("input",null,null,{id:this._id+"_usePrintSizes",type:"checkbox"},{}),w.append(this._addExportOptionRow(n.exportsetupDialog.commonOptions.usePrintSizes+"&nbsp;",!1,s)),$(s).ejCheckBox({cssClass:"e-reportviewer-checkbox",size:"medium",checked:this.model.exportSettings.CommonOptions.UsePrintSizes,htmlAttributes:{"aria-disabled":"false",role:"combobox","aria-label":this._getLocaleString("exportsetupDialog","commonOptions","usePrintSizes")}}),$(".e-reportviewer-chkBx").siblings("div").find("span").css({width:"14px",height:"14px"}),w.append(this._addExportOptionRow(n.exportsetupDialog.securityOptions.header+"&nbsp;",!0)),h=this._buildTag("input",null,null,{id:this._id+"_securityEnableProtection",type:"checkbox"},{}),w.append(this._addExportOptionRow(n.exportsetupDialog.securityOptions.enableProtection+"&nbsp;",!1,h)),$(h).ejCheckBox({cssClass:"e-reportviewer-checkbox",size:"medium",change:function(re){re.isChecked?(t.ejMaskEdit({enabled:!0}),o.ejMaskEdit({enabled:!0})):(t.ejMaskEdit({enabled:!1,value:""}),o.ejMaskEdit({enabled:!1,value:""}))},htmlAttributes:{"aria-disabled":"false",role:"combobox","aria-label":this._getLocaleString("exportsetupDialog","securityOptions","enableProtecction")}}),$(".e-reportviewer-chkBx").siblings("div").find("span").css({width:"14px",height:"14px"}),t=ej.buildTag("input.e-reportviewer-textbox ","",{"WHITE-SPACE":"nowrap","padding-left":"2px"},{type:"password",id:this._id+"_securityPwdToProtect"}),w.append(this._addExportOptionRow(n.exportsetupDialog.securityOptions.protect+"&nbsp;",!1,t)),t.ejMaskEdit({inputMode:ej.InputMode.Password,width:"100%",enabled:!1}),o=ej.buildTag("input.e-reportviewer-textbox ","",{"WHITE-SPACE":"nowrap","padding-left":"2px"},{type:"password",id:this._id+"_securityPwdToEdit"}),w.append(this._addExportOptionRow(n.exportsetupDialog.securityOptions.edit+"&nbsp;",!1,o)),o.ejMaskEdit({inputMode:ej.InputMode.Password,width:"100%",enabled:!1}),w.append(this._addExportOptionRow(n.exportsetupDialog.excelOptions.header+"&nbsp;",!0)),l=ej.buildTag("select.e-rptviewer-exportSetup","",{width:"100%"},{id:this._id+"_excelSaveType"}),w.append(this._addExportOptionRow(n.exportsetupDialog.saveType+"&nbsp;",!1,l)),l.ejDropDownList({cssClass:"e-rptviewer-drpdown-excelformat e-rptviewer-drpdown",height:"32px",width:"100%",dataSource:n.exportsetupDialog.excelOptions.saveTypes,value:this.model.exportSettings.ExcelOptions.ExcelSaveType,htmlAttributes:{"aria-disabled":"false",role:"combobox","aria-label":this._getLocaleString("exportsetupDialog","saveType")}}),p=ej.buildTag("td.e-reportviewer-pagesetupcontent","",{"padding-bottom":"10px"}),g=ej.buildTag("input",null,null,{id:this._id+"_excelCheckBox",type:"checkbox"},{"vertical-align":"middle"}),p.append(g),w.append(this._addExportOptionRow(n.exportsetupDialog.excelOptions.readonly+"&nbsp;",!1,p)),$(g).ejCheckBox({cssClass:"e-reportviewer-checkbox",size:"medium",checked:this.model.exportSettings.ExcelOptions.ReadOnlyRecommended,htmlAttributes:{"aria-disabled":"false",role:"checkbox","aria-label":this._getLocaleString("exportsetupDialog","excelOptions","readonly")}}),b=ej.buildTag("select.e-rptviewer-exportSetup","",{width:"100%"},{id:this._id+"_excelSheetProtection"}),w.append(this._addExportOptionRow(n.exportsetupDialog.excelOptions.sheetProtection+"&nbsp;",!1,b)),b.ejDropDownList({cssClass:"e-rptviewer-drpdown-wordformat e-rptviewer-drpdown",height:"32px",width:"100%",value:this.model.exportSettings.ExcelOptions.ExcelSheetProtection,dataSource:n.exportsetupDialog.excelOptions.sheetProtectionTypes,htmlAttributes:{"aria-disabled":"false",role:"combobox","aria-label":this._getLocaleString("exportsetupDialog","excelOptions","sheetProtection")}}),C=ej.buildTag("select.e-rptviewer-exportSetup","",{width:"100%"},{id:this._id+"_excelDisableCellFormat"}),w.append(this._addExportOptionRow(n.exportsetupDialog.excelOptions.disableCellFormat+"&nbsp;",!1,C)),C.ejDropDownList({cssClass:"e-rptviewer-drpdown-wordformat e-rptviewer-drpdown",height:"32px",width:"100%",dataSource:n.exportsetupDialog.excelOptions.disableCellFormatTypes,value:this.model.exportSettings.ExcelOptions.DisableCellFormat,htmlAttributes:{"aria-disabled":"false",role:"combobox","aria-label":this._getLocaleString("exportsetupDialog","excelOptions","disableCellFormat")}}),T=ej.buildTag("select.e-rptviewer-exportSetup","",{width:"100%"},{id:this._id+"_excelLayoutOption"}),w.append(this._addExportOptionRow(n.exportsetupDialog.layoutOption+"&nbsp;",!1,T)),T.ejDropDownList({cssClass:"e-rptviewer-drpdown-wordformat e-rptviewer-drpdown",height:"32px",width:"100%",dataSource:n.exportsetupDialog.excelOptions.layoutOptionTypes,value:this.model.exportSettings.ExcelOptions.LayoutOption,htmlAttributes:{"aria-disabled":"false",role:"combobox","aria-label":this._getLocaleString("exportsetupDialog","layoutOption")}}),w.append(this._addExportOptionRow(n.exportsetupDialog.wordOptions.header,!0)),D=ej.buildTag("select","",{},{id:this._id+"_wordFormat"}),w.append(this._addExportOptionRow(n.exportsetupDialog.saveType,!1,D)),D.ejDropDownList({cssClass:"e-rptviewer-drpdown-wordformat e-rptviewer-drpdown",dataSource:n.exportsetupDialog.wordOptions.formatList,height:"32px",width:"100%",value:this.model.exportSettings.WordOptions.FormatType,htmlAttributes:{"aria-disabled":"false",role:"combobox","aria-label":this._getLocaleString("exportsetupDialog","saveType")}}),L=ej.buildTag("select.e-rptviewer-exportSetup","",{},{id:this._id+"_wordProtectionType"}),w.append(this._addExportOptionRow(n.exportsetupDialog.wordOptions.protection+"&nbsp;",!1,L)),L.ejDropDownList({cssClass:"e-rptviewer-drpdown-wordformat e-rptviewer-drpdown",dataSource:n.exportsetupDialog.wordOptions.protectionTypes,height:"32px",width:"100%",value:this.model.exportSettings.WordOptions.ProtectionType,htmlAttributes:{"aria-disabled":"false",role:"combobox","aria-label":this._getLocaleString("exportsetupDialog","wordOptions","protection")}}),I=ej.buildTag("select.e-rptviewer-exportSetup","",{},{id:this._id+"_wordLayoutOption"}),w.append(this._addExportOptionRow(n.exportsetupDialog.layoutOption+"&nbsp;",!1,I)),I.ejDropDownList({cssClass:"e-rptviewer-drpdown-wordformat e-rptviewer-drpdown",dataSource:n.exportsetupDialog.wordOptions.layoutTypes,height:"32px",width:"100%",value:this.model.exportSettings.WordOptions.LayoutOption,change:function(re){0==re.value?(R.ejNumericTextbox({enabled:!1}),V.ejNumericTextbox({enabled:!1})):(R.ejNumericTextbox({enabled:!0}),V.ejNumericTextbox({enabled:!0}))},htmlAttributes:{"aria-disabled":"false",role:"combobox","aria-label":this._getLocaleString("exportsetupDialog","layoutOption")}}),R=ej.buildTag("input.e-reportviewer-textbox","",{},{type:"text",id:this._id+"_wordParaSpacingTop"}),w.append(this._addExportOptionRow(n.exportsetupDialog.wordOptions.topSpacing+"&nbsp;",!1,R)),R.ejNumericTextbox({cssClass:"e-rptviewer-updown",minValue:1,value:this.model.exportSettings.WordOptions.ParagraphSpacing.Top,decimalPlaces:2,incrementStep:.25,width:"100%",enabled:0!=this.model.exportSettings.WordOptions.LayoutOption,htmlAttributes:{"aria-disabled":"false",role:"textbox","aria-label":this._getLocaleString("exportsetupDialog","wordOptions","topSpacing")}}),V=ej.buildTag("input.e-reportviewer-textbox","",{},{type:"text",id:this._id+"_wordParaSpacingBottom"}),w.append(this._addExportOptionRow(n.exportsetupDialog.wordOptions.bottomSpacing+"&nbsp;",!1,V)),V.ejNumericTextbox({cssClass:"e-rptviewer-updown",minValue:1,value:this.model.exportSettings.WordOptions.ParagraphSpacing.Bottom,decimalPlaces:2,incrementStep:.25,width:"100%",enabled:0!=this.model.exportSettings.WordOptions.LayoutOption,htmlAttributes:{"aria-disabled":"false",role:"textbox","aria-label":this._getLocaleString("exportsetupDialog","wordOptions","bottomSpacing")}}),w.append(this._addExportOptionRow(n.exportsetupDialog.pdfOptions.header,!0)),F=this._buildTag("input",null,{"vertical-align":"middle","margin-top":"-10px"},{id:this._id+"_pdfComplexScriptCheckBox",type:"checkbox"}),w.append(this._addExportOptionRow(n.exportsetupDialog.pdfOptions.complexScript,!1,F)),$("#"+this._id+"_pdfComplexScriptCheckBox").ejCheckBox({cssClass:"e-reportviewer-checkbox",size:"medium",checked:this.model.exportSettings.PDFOptions.EnableComplexScript,htmlAttributes:{"aria-disabled":"false",role:"checkbox","aria-label":this._getLocaleString("exportsetupDialog","pdfOptions","complexScript")}}),A=ej.buildTag("select.e-rptviewer-exportSetup","",{},{id:this._id+"_pdfConformanceLevelType"}),w.append(this._addExportOptionRow(n.exportsetupDialog.pdfOptions.conformance,!1,A)),A.ejDropDownList({cssClass:"e-rptviewer-drpdown-conformancetype e-rptviewer-drpdown",height:"32px",width:"100%",dataSource:n.exportsetupDialog.pdfOptions.conformanceTypes,value:this.model.exportSettings.PDFOptions.PdfConformanceLevel,htmlAttributes:{"aria-disabled":"false",role:"combobox","aria-label":this._getLocaleString("exportsetupDialog","pdfOptions","conformance")}}),w.append(this._addExportOptionRow(n.exportsetupDialog.csvOptions.header,!0)),z=this._buildTag("input",null,{"vertical-align":"middle","margin-top":"-10px"},{id:this._id+"_csvFormatVal",type:"checkbox"}),w.append(this._addExportOptionRow(n.exportsetupDialog.csvOptions.formatter,!1,z)),$("#"+this._id+"_csvFormatVal").ejCheckBox({cssClass:"e-reportviewer-checkbox",size:"medium",checked:this.model.exportSettings.CsvOptions.UseFormattedValues,htmlAttributes:{"aria-disabled":"false",role:"checkbox","aria-label":this._getLocaleString("exportsetupDialog","csvOptions","formatter")}});var J=ej.buildTag("select.e-rptviewer-exportSetup","",{},{id:this._id+"_csvQualifier"}),Q=ej.buildTag("input.e-reportviewer-textbox ejinputtext","",{},{id:this._id+"_csvCustomQualifier",type:"text"}),oe=ej.buildTag("div.e-reportviewer-exportsetuptr","",{}).append(ej.buildTag("span.e-reportviewer-exportsetuptr","",{width:"70%",display:"inline-block"}).append(J),ej.buildTag("span.e-reportviewer-exportsetuptr","",{width:"25%",display:"inline-block",float:"right"}).append(Q));w.append(this._addExportOptionRow(n.exportsetupDialog.csvOptions.qualifier,!1,oe)),J.ejDropDownList({cssClass:"div.e-rptviewer-drpdown e-rptviewer-drpdown",height:"32px",width:"100%",dataSource:n.exportsetupDialog.csvOptions.qualifierList,value:this._getDDLOption(n.exportsetupDialog.csvOptions.qualifierList,this.model.exportSettings.CsvOptions.Qualifier),change:function(re){"Custom"==re.value?(Q.val(""),Q.ejMaskEdit({enabled:!0})):(Q.val(re.value),Q.ejMaskEdit({enabled:!1}))},htmlAttributes:{"aria-disabled":"false",role:"combobox","aria-label":this._getLocaleString("exportsetupDialog","csvOptions","qualifier")}}),Q.ejMaskEdit({width:"100%",value:this.model.exportSettings.CsvOptions.Qualifier,enabled:"Custom"==J.data("ejDropDownList").getSelectedValue(),htmlAttributes:{"aria-disabled":"false",role:"textbox","aria-label":this._getLocaleString("exportsetupDialog","csvOptions","customVal")}});var ue=ej.buildTag("select.e-rptviewer-exportSetup","",{},{id:this._id+"_csvFieldDelimiter"}),le=ej.buildTag("input.e-reportviewer-textbox ejinputtext","",{},{id:this._id+"_csvCustomFDelimiter",type:"text"}),ne=ej.buildTag("div.e-reportviewer-exportsetuptr","",{}).append(ej.buildTag("span.e-reportviewer-exportsetuptr","",{width:"70%",display:"inline-block"}).append(ue),ej.buildTag("span.e-reportviewer-exportsetuptr","",{width:"25%",display:"inline-block",float:"right"}).append(le));w.append(this._addExportOptionRow(n.exportsetupDialog.csvOptions.delimiter,!1,ne)),ue.ejDropDownList({cssClass:"div.e-rptviewer-drpdown e-rptviewer-drpdown",height:"32px",width:"100%",dataSource:n.exportsetupDialog.csvOptions.delimiterList,value:this._getDDLOption(n.exportsetupDialog.csvOptions.delimiterList,this.model.exportSettings.CsvOptions.FieldDelimiter),change:function(re){"Custom"==re.value?(le.val(""),le.ejMaskEdit({enabled:!0})):(le.val(re.value),le.ejMaskEdit({enabled:!1}))},htmlAttributes:{"aria-disabled":"false",role:"combobox","aria-label":this._getLocaleString("exportsetupDialog","csvOptions","delimiter")}}),le.ejMaskEdit({width:"100%",value:this.model.exportSettings.CsvOptions.FieldDelimiter,enabled:"Custom"==ue.data("ejDropDownList").getSelectedValue(),htmlAttributes:{"aria-disabled":"false",role:"textbox","aria-label":this._getLocaleString("exportsetupDialog","csvOptions","customVal")}}),w.append(this._addExportOptionRow(n.exportsetupDialog.pptOptions.header+"&nbsp;",!0)),N=ej.buildTag("select.e-rptviewer-exportSetup","",{},{id:this._id+"_pptFormat"}),w.append(this._addExportOptionRow(n.exportsetupDialog.saveType+"&nbsp;",!1,N)),N.ejDropDownList({cssClass:"e-rptviewer-drpdown-pptformat e-rptviewer-drpdown",height:"32px",width:"100%",dataSource:n.exportsetupDialog.pptOptions.pptTypes,value:this.model.exportSettings.PPTOptions.FormatType,htmlAttributes:{"aria-disabled":"false",role:"combobox","aria-label":this._getLocaleString("exportsetupDialog","pptOptions","pptTypes")}}),w.append(this._addExportOptionRow(n.exportsetupDialog.htmlOptions.header,!0)),U=this._buildTag("input",null,null,{id:this._id+"_htmlPageSeparator",type:"checkbox"},{"vertical-align":"middle","margin-top":"-10px"}),w.append(this._addExportOptionRow(n.exportsetupDialog.htmlOptions.separator,!1,U)),$("#"+this._id+"_htmlPageSeparator").ejCheckBox({cssClass:"e-reportviewer-checkbox",size:"medium",checked:!this.model.exportSettings.HTMLOptions.HidePageSeparator,htmlAttributes:{"aria-disabled":"false",role:"checkbox","aria-label":this._getLocaleString("exportsetupDialog","htmlOptions","separator")}});var he=ej.buildTag("input.e-reportviewer-viewreportbutton e-btn","",{float:"right"},{type:"button",value:this._getLocaleString("exportsetupDialog","doneButton"),id:this._id+"_Submit"}),se=ej.buildTag("input.e-reportviewer-viewreportbutton e-btn","",{float:"right","margin-left":"10px"},{type:"button",value:this._getLocaleString("exportsetupDialog","cancelButton"),id:this._id+"_Cancel"}),ee=$("#"+this._id+"_exportSetup_foot");$("#"+this._id+"_exportSetup_closebutton").attr("title",n.exportsetupDialog.close),ee.append(se).append(he),he.ejButton({showRoundedCorner:!0,height:30,type:"Button",click:$.proxy(this._exportSetupSubmit,this),cssClass:"e-rptviewer-okbtn",htmlAttributes:{"aria-disabled":"false",role:"button","aria-label":this._getLocaleString("exportsetupDialog","doneButton")}}),se.ejButton({showRoundedCorner:!0,height:30,type:"Button",click:$.proxy(this._exportSetupCancel,this),cssClass:"e-rptviewer-cancelbtn",htmlAttributes:{"aria-disabled":"false",role:"button","aria-label":this._getLocaleString("exportsetupDialog","cancelButton")}}),"msie"==this._browserInfo.name?$("#"+this._id+"_ExportFormat_input").css("margin-top","-2px"):("opera"==this._browserInfo.name||"webkit"==this._browserInfo.name||"chrome"==this._browserInfo.name||"mozilla"==this._browserInfo.name)&&$("#"+this._id+"_ExportFormat_input").css("padding-bottom","3px"),u.ejDialog("refresh")},_getDDLOption:function(n,c){for(var r=0;r<n.length;r++)if(n[r].value==c)return n[r].value;return n[n.length-1].value},_showPerformanceMetricsButton:function(n){n?$("#"+this._id+"_toolbar_li_performance").css("display","block"):$("#"+this._id+"_toolbar_li_performance").css("display","none")},_addPerformanceOptionRow:function(n,c,r){var u=ej.buildTag("tr.e-reportviewer-pagesetuptr","",{});return u.append(ej.buildTag("td.e-reportviewer-pagesetupcontent","",c?{"padding-top":"0px","font-weight":"bold",colspan:"2"}:{width:"50%",padding:"8px 8px"},{}).append(n)),null!=r&&u.append(ej.buildTag("td.e-reportviewer-pagesetupcontent","",c?{width:"50%","font-weight":"bold"}:{width:"50%"},{}).append(r)),u},_renderPerformanceMetrics:function(){var r,u,_,w,v,a,n=ej.ReportViewer.Locale[this.model.locale]?ej.ReportViewer.Locale[this.model.locale]:ej.ReportViewer.Locale["en-US"];if(this._confirmDialog({width:455,maxHeight:350,enableModal:!1,enableResize:!1,enablePersistance:!1,enableModal:!0,showFooter:!1,showHeader:!0,title:n.PerformanceMetricsDialog.title,cssClass:"e-js e-rptviewer-dialog"}),r=ej.buildTag("div.e-reportviewer-scroller e-scroller","",{display:"block",width:"100%"},{id:this._id+"_exportFormat"}),u=ej.buildTag("table","",{width:"100%"},{"border-collapse":"collapse"}),r.append(u),$("#"+this._id+"_confirm_dialog_body").append(r),null!=this._performanceMetrics&&(u.append(this._addPerformanceOptionRow(n.PerformanceMetricsDialog.reportProcessing,!0,this._convertMStoHMS(this._performanceMetrics.TimeProcessing))),u.append(this._addPerformanceOptionRow(n.PerformanceMetricsDialog.parse,!1,this._convertMStoHMS(this._performanceMetrics.ParseTime))),u.append(this._addPerformanceOptionRow(n.PerformanceMetricsDialog.evaluate,!1,this._convertMStoHMS(this._performanceMetrics.EvaluateTime))),u.append(this._addPerformanceOptionRow(n.PerformanceMetricsDialog.layout,!1,this._convertMStoHMS(this._performanceMetrics.LayoutTime))),u.append(this._addPerformanceOptionRow(n.PerformanceMetricsDialog.render,!1,this._convertMStoHMS(this._performanceMetrics.RenderTime)))),this._performanceMetrics.AdditionalInfo&&this._performanceMetrics.AdditionalInfo.Connections)for((_=this._performanceMetrics.AdditionalInfo.Connections).length>0&&u.append(this._addPerformanceOptionRow(n.PerformanceMetricsDialog.datasetProcessing,!0,this._convertMStoHMS(this._performanceMetrics.TimeDataRetrieval))),w=0;w<_.length;w++)for(v=0;v<_[w].DataSets.length;v++)(a=ej.buildTag("tr.e-reportviewer-pagesetuptr","",{})).append(ej.buildTag("td.e-reportviewer-pagesetupcontent","",{padding:"8px 8px","font-weight":"bold",colspan:"2"},{}).append(_[w].DataSets[v].Name)),u.append(a),u.append(this._addPerformanceOptionRow(n.PerformanceMetricsDialog.datasetDetails.rows,!1,_[w].DataSets[v].RowsRead)),u.append(this._addPerformanceOptionRow(n.PerformanceMetricsDialog.datasetDetails.dataRetrival,!1,this._convertMStoHMS(_[w].DataSets[v].TotalTimeDataRetrieval)));$("#"+this._id+"_confirm_dialog").ejDialog("refresh")},_convertMStoHMS:function(n){var c,r,u,_,w;return n=parseInt(n),c=0,r=(n-=c=n%36e5)/36e5,n=c,u=(n-=c=n%6e4)/6e4,n=c,(r=r<10?"0"+r:r)+"h : "+(u=u<10?"0"+u:u)+"m : "+(_=(_=(n-=c=n%1e3)/1e3)<10?"0"+_:_)+"s : "+(w=(w=c/1)<10?"00"+w:w<100?"0"+w:w)+"ms"},_confirmDialog:function(n){var r=null,u=null,_=ej.buildTag("div.e-dialog e-userselect","",{width:"573px"},{id:this._id+"_confirm_dialog"}),w=ej.buildTag("div.e-reportviewer-pagesetupcontent","",{width:"100%","text-align":"justify"},{id:this._id+"_confirm_dialog_body"}),v=$("#"+this._id+".e-reportviewer")[0].getBoundingClientRect();_.append(w),"msie"==this._browserInfo.name&&8==this._browserInfo.version?(r=v.right,u=v.bottom):(r=v.width,u=v.height),_.ejDialog({width:n.width,maxHeight:n.maxHeight,position:{X:r/2+v.left-n.width/2,Y:(v.top+u/2)/2},enableModal:n.enableModal,title:n.title,enableResize:n.enableResize,enablePersistance:n.enablePersistance,enableModal:n.enableModal,showHeader:n.showHeader,showFooter:n.showFooter,cssClass:n.cssClass,close:$.proxy(this._exportSetupClose,this)}),$("#"+this._id+"_confirm_dialog_title").css("text-align","center"),"msie"==this._browserInfo.name?$("#"+this._id+"_ExportFormat_input").css("margin-top","-2px"):("opera"==this._browserInfo.name||"webkit"==this._browserInfo.name||"chrome"==this._browserInfo.name||"mozilla"==this._browserInfo.name)&&$("#"+this._id+"_ExportFormat_input").css("padding-bottom","3px")},_wireEvents:function(){this._on($(window),"resize",this._viewerResize),this.model.toolbarSettings.templateId||(this._on($("#"+this._id+"_toolbar_gotopage"),"keypress",this._onkeyPress),this._on($("#"+this._id+"_toolbar_gotopage"),"click ",this._onToolbarItemClick),this._on($("#"+this._id+"_zoomSelection"),"change",this._zoomValChange),this._on($("#"+this._id+"_toolbar_zoom_container"),"click ",this._onToolbarItemClick),this._on($("#"+this._id+"_toolbar_findtext"),"keypress",this._onFindkeyPress),this._on($("#"+this._id+"_toolbar_findtext"),"change",this._onFindValChange),this._on($(window),"unload",this._onWindowClose)),this._on($("#"+this._id+"_viewerContainer"),"scroll",this._scrollPage),this._on($("#"+this._id+"_viewerContainer"),"wheel",this._scrollNavigatePage),this._isDevice&&(this._on($("#"+this._id+"_viewerContainer"),"touchstart",this._touchStart),this._on($("#"+this._id+"_viewerContainer"),"touchend",this._touchEnd),this._on($("#"+this._id+"_viewerContainer"),"touchmove",this._touchMove)),this._on($("#"+this._id+"_pageviewOuterContainer"),"click",this._viewerClick),this._on($(document),"mousedown",this._onDocumentMouseDown),this._on($(document),"mouseup",this._onDocumentMouseUp)},_unwireEvents:function(){this.model.toolbarSettings.templateId||(this._off($("#"+this._id+"_toolbar_gotopage"),"keypress",this._onkeyPress),this._off($("#"+this._id+"_toolbar_gotopage"),"click ",this._onToolbarItemClick),this._off($("#"+this._id+"_zoomSelection"),"change",this._zoomValChange),this._off($("#"+this._id+"_toolbar_zoom_container"),"click ",this._onToolbarItemClick),this._off($("#"+this._id+"_toolbar_findtext"),"keypress",this._onFindkeyPress),this._off($("#"+this._id+"_toolbar_findtext"),"change",this._onFindValChange),this._off($(window),"unload",this._onWindowClose)),this._off($("#"+this._id+"_viewerContainer"),"scroll",this._scrollPage),this._off($("#"+this._id+"_viewerContainer"),"wheel",this._scrollNavigatePage),this._isDevice&&(this._off($("#"+this._id+"_viewerContainer"),"touchstart",this._touchStart),this._off($("#"+this._id+"_viewerContainer"),"touchend",this._touchEnd),this._off($("#"+this._id+"_viewerContainer"),"touchmove",this._touchMove)),this._off($("#"+this._id+"_pageviewOuterContainer"),"click",this._viewerClick),this._off($(document),"mousedown",this._onDocumentMouseDown),this._off($(document),"mouseup",this._onDocumentMouseUp),this._off($("#"+this._id+"_viewReportClick"),"click",this._viewReportParamsClick),this._off($(window),"resize",this._viewerResize)},_hidePopUp:function(n){$(n.target).hasClass("e-reportviewer-export")||$($(n.target).children()).hasClass("e-reportviewer-export")?"block"!=$("#"+this._id+"_toolbar_exportListTip").css("display")&&$("#"+this._id+"_toolbar_exportListTip").css("display","none"):$("#"+this._id+"_toolbar_exportListTip").css("display","none"),$(n.target).hasClass("e-reportviewer-pagefit")||$($(n.target).children()).hasClass("e-reportviewer-pagefit")?"block"!=$("#"+this._id+"_toolbar_fittoPagePopup").css("display")&&$("#"+this._id+"_toolbar_fittoPagePopup").css("display","none"):$("#"+this._id+"_toolbar_fittoPagePopup").css("display","none")},_onPopupClick:function(){this._isPopupClick=!0},_onDocumentMouseUp:function(n){this._isPopupClick&&this._hidePopUp(n),this._isPopupClick=!1},_onDocumentMouseDown:function(n){this._isPopupClick||this._hidePopUp(n)},_onToolbarItemClick:function(n){var c=$(n.target).closest("li");c&&c.data("ejTooltip")&&c.ejTooltip("hide")},_toolbarClick:function(n){var r,c=n.target,u=$(n.target).attr("class"),_=$(n.target).closest("li"),w=_.attr("value")?_.attr("value"):$(n.target).attr("value");if(!_.attr("value")&&_.find(".e-customoption").length>0&&(w=_.find(".e-customoption").attr("value")),r=this._onToolbarClick({target:c,cssClass:u,groupIndex:$(_.closest("ul")[0]).index(),Index:_.index(),value:w}),$(c).hasClass("e-reportviewer-stop")&&($("#"+this._id+"_toolbar_li_stop").addClass("e-disable"),this.cancelRendering()),this._isToolbarClick){if(this._isPageDialogOpened())return;_.data("ejTooltip")&&_.ejTooltip("hide"),r||($(c).hasClass("e-reportviewer-toolbarli")&&(c=$(c).find("span")),$(c).hasClass("e-reportviewer-print")?(this._printData=[],this._print()):$(c).hasClass("e-reportviewer-export")?this._showExportTooltip():$(c).hasClass("e-reportviewer-pagesetup")?this._showPrintPageSetup():$(c).hasClass("e-reportviewer-exportsetup")?this._showExportSetup():$(c).hasClass("e-reportviewer-gotofirst")?(this._findDispose(),this._gotoFirstPage()):$(c).hasClass("e-reportviewer-gotolast")?(this._findDispose(),this._gotoLastPage()):$(c).hasClass("e-reportviewer-gotonext")?(this._findDispose(),this._gotoNextPage()):$(c).hasClass("e-reportviewer-gotoprevious")?(this._findDispose(),this._gotoPreviousPage()):$(c).hasClass("e-reportviewer-gotoparent")?this._gotoParentReport():$(c).hasClass("e-reportviewer-documentmap")&&!this._printMode?this._documentMapClick():$(c).hasClass("e-reportviewer-zoomin")?this._zoomIn():$(c).hasClass("e-reportviewer-zoomout")?this._zoomOut():$(c).hasClass("e-reportviewer-pagefit")?this._showFitToPagetip():$(c).hasClass("e-reportviewer-preview")?(this._printlayout(),this._findDispose(),this._enableFindTextBox(!1),this._enableFindButton(!1)):$(c).hasClass("e-reportviewer-refresh")?this._refreshReport():$(c).hasClass("e-reportviewer-parameter")?this._toggleParameterBlock():$(c).hasClass("e-reportviewer-find")?this._getSearchPages():$(c).hasClass("e-reportviewer-performance")&&null!=this._performanceMetrics&&this._renderPerformanceMetrics())}},_showToolbar:function(n){n?$("#"+this._id+"_toolbarContainer").css("display","block"):$("#"+this._id+"_toolbarContainer").css("display","none")},_initToolbar:function(){var n,c;this._isToolbarClick=!1,this.model.toolbarSettings.templateId||this._isDevice||(n=$("#"+this._id+"_toolbar_zoom").data("ejDropDownList"),this._refresh?n.selectItemsByIndices(n.model.selectedIndex):-1!==(c=[.5,.75,1,1.25,1.5,2,4]).indexOf(this.model.zoomFactor)?n.selectItemsByIndices(c.indexOf(this.model.zoomFactor)):n.selectItemsByIndices(2),n.disable(),this._disableNavigation())},_disableNavigation:function(){var n=$("#"+this._id+"_toolbarContainer");$("#"+this._id+"_toolbar_gotopage").attr("disabled","disabled"),n.ejToolbar("disableItem",$("#"+this._id+"_toolbar_li_gotofirst")),n.ejToolbar("disableItem",$("#"+this._id+"_toolbar_li_gotoprevious")),n.ejToolbar("disableItem",$("#"+this._id+"_toolbar_li_gotonext")),n.ejToolbar("disableItem",$("#"+this._id+"_toolbar_li_gotolast"))},_enableToolbarItems:function(){this._isToolbarClick=!0,this.model.toolbarSettings.templateId||this._isDevice||($("#"+this._id+"_toolbar_gotopage").removeAttr("disabled"),$("#"+this._id+"_toolbar_zoom").data("ejDropDownList").enable())},_enableToolbarContents:function(n){n?($("#"+this._id+"_toolbar_zoom").data("ejDropDownList").enable(),$("#"+this._id+"_toolbar_gotopage").attr("readonly",!1)):($("#"+this._id+"_toolbar_zoom").data("ejDropDownList").disable(),$("#"+this._id+"_toolbar_gotopage").attr("readonly",!0))},_setTooltip:function(){$("#"+this._id+"_toolbar_li_print").attr("data-content",this._getLocaleString("toolbar","print","headerText")),$("#"+this._id+"_toolbar_li_export").attr("data-content",this._getLocaleString("toolbar","exportformat","headerText")),$("#"+this._id+"_toolbar_li_exportsetup").attr("data-content",this._getLocaleString("toolbar","exportsetup","headerText")),$("#"+this._id+"_toolbar_li_pagesetup").attr("data-content",this._getLocaleString("toolbar","pagesetup","headerText")),$("#"+this._id+"_toolbar_li_gotofirst").attr("data-content",this._getLocaleString("toolbar","first","headerText")),$("#"+this._id+"_toolbar_li_gotolast").attr("data-content",this._getLocaleString("toolbar","last","headerText")),$("#"+this._id+"_toolbar_li_gotonext").attr("data-content",this._getLocaleString("toolbar","next","headerText")),$("#"+this._id+"_toolbar_li_gotoprevious").attr("data-content",this._getLocaleString("toolbar","previous","headerText")),$("#"+this._id+"_toolbar_li_gotoparent").attr("data-content",this._getLocaleString("toolbar","back","headerText")),$("#"+this._id+"_toolbar_li_zoomin").attr("data-content",this._getLocaleString("toolbar","zoomIn","headerText")),$("#"+this._id+"_toolbar_li_zoomout").attr("data-content",this._getLocaleString("toolbar","zoomOut","headerText")),$("#"+this._id+"_toolbar_li_pagefit").attr("data-content",this._getLocaleString("toolbar","fittopage","headerText")),$("#"+this._id+"_toolbar_li_preview").attr("data-content",this._getLocaleString("toolbar","printLayout","headerText")),$("#"+this._id+"_toolbar_li_refresh").attr("data-content",this._getLocaleString("toolbar","refresh","headerText")),$("#"+this._id+"_toolbar_li_find").attr("data-content",this._getLocaleString("toolbar","find","headerText")),$("#"+this._id+"_toolbar_li_findtext").attr("data-content",this._getLocaleString("toolbar","find","headerText")),$("#"+this._id+"_toolbar_li_stop").attr("data-content",this._getLocaleString("toolbar","stop","headerText")),$("#"+this._id+"_toolbar_li_documentmap").attr("data-content",this._getLocaleString("toolbar","documentMap","headerText")),$("#"+this._id+"_toolbar_li_parameter").attr("data-content",this._getLocaleString("toolbar","parameter","headerText")),$("#"+this._id+"_toolbar_li_performance").attr("data-content",this._getLocaleString("toolbar","performance","headerText"))},_viewpopupBlockNone:function(n){return!(ej.isNullOrUndefined(n)||0==n.length||"block"!=n.css("display"))},_isPageDialogOpened:function(){var n=$("#"+this._id+"_printPageSetup").data("ejDialog");return!(ej.isNullOrUndefined(n)||!n.isOpen())},_beforeTooltipPopup:function(n){var c,r,u,_,w,v,a,s,h;this.model.toolbarSettings.showTooltip&&!this._isDevice?(u=!0,(c=$(n.event.target).closest("li")).hasClass("e-reportviewer-toolbarli")&&(_=c.children("span")),(this._viewpopupBlockNone($("#"+this._id+"_toolbar_fittoPagePopup"))||this._viewpopupBlockNone($("#"+this._id+"_toolbar_exportListTip"))||this._isPageDialogOpened())&&(u=!1),_&&(_.hasClass("e-customoption")?(w=ej.ReportViewer.Locale[this.model.locale]?ej.ReportViewer.Locale[this.model.locale]:ej.ReportViewer.Locale["en-US"],v=_.attr("value"),ej.isNullOrUndefined(w.toolbar[v])?(a=_.attr("header"),s=_.attr("content"),(a||s)&&(r={header:a,content:s})):r={header:w.toolbar[v].headerText,content:w.toolbar[v].contentText}):_.hasClass("e-reportviewer-print")?r=this._getTootipText("print"):_.hasClass("e-reportviewer-export")?r=this._getTootipText("export"):_.hasClass("e-reportviewer-exportsetup")?r=this._getTootipText("exportsetup"):_.hasClass("e-reportviewer-preview")?r=this._getTootipText("preview"):_.hasClass("e-reportviewer-pagesetup")?r=this._getTootipText("pagesetup"):_.hasClass("e-reportviewer-gotofirst")?r=this._getTootipText("first"):_.hasClass("e-reportviewer-gotolast")?r=this._getTootipText("last"):_.hasClass("e-reportviewer-gotonext")?r=this._getTootipText("next"):_.hasClass("e-reportviewer-gotoprevious")?r=this._getTootipText("previous"):_.hasClass("e-reportviewer-gotoparent")?r=this._getTootipText("back"):_.hasClass("e-reportviewer-tbpage")||_.hasClass("e-reportviewer-pagenumber")||_.hasClass("e-reportviewer-labelpageno")?r=this._getTootipText("pageIndex"):_.hasClass("e-reportviewer-documentmap")?r=this._getTootipText("documentmap"):_.hasClass("e-reportviewer-zoomin")?r=this._getTootipText("zoomin"):_.hasClass("e-reportviewer-zoomout")?r=this._getTootipText("zoomout"):_.hasClass("e-reportviewer-refresh")?r=this._getTootipText("refresh"):_.hasClass("e-reportviewer-find")||_.hasClass("e-reportviewer-findtextbox")?r=this._getTootipText("find"):_.hasClass("e-reportviewer-stop")?r=this._getTootipText("stop"):_.hasClass("e-reportviewer-parameter")?r=this._getTootipText("parameter"):c.hasClass("e-reportviewer-ejdropdownlist")&&_.find(".e-reportviewer-zoomlist").length>0?r=this._getTootipText("zoom"):_.hasClass("e-reportviewer-pagefit")?r=this._getTootipText("fittopage"):_.hasClass("e-reportviewer-performance")&&(r=this._getTootipText("performance"))),r&&u?(h=this._getTooltipTemplate(r),$(n.event.target).closest("li").data("ejTooltip").setModel({content:h})):n.cancel=!0):n.cancel=!0},_getTooltipTemplate:function(n){var c;return ej.isNullOrUndefined(n.header)||ej.isNullOrUndefined(n.content)?ej.isNullOrUndefined(n.header)?ej.isNullOrUndefined(n.content)||(c="<div class='e-reportviewer-contentspan'>"+n.content+"</div>"):c="<div class='e-reportviewer-headerspan'>"+n.header+"</div>":c="<div class='e-reportviewer-headerspan'>"+n.header+"</div><div class='e-reportviewer-contentspan'>"+n.content+"</div>",c},_getTootipText:function(n){var c=ej.ReportViewer.Locale[this.model.locale]?ej.ReportViewer.Locale[this.model.locale]:ej.ReportViewer.Locale["en-US"],r="",u="";switch(n){case"print":r=c.toolbar.print.headerText,u=c.toolbar.print.contentText;break;case"export":r=c.toolbar.exportformat.headerText,u=c.toolbar.exportformat.contentText;break;case"first":r=c.toolbar.first.headerText,u=c.toolbar.first.contentText;break;case"previous":r=c.toolbar.previous.headerText,u=c.toolbar.previous.contentText;break;case"next":r=c.toolbar.next.headerText,u=c.toolbar.next.contentText;break;case"last":r=c.toolbar.last.headerText,u=c.toolbar.last.contentText;break;case"zoomin":r=c.toolbar.zoomIn.headerText,u=c.toolbar.zoomIn.contentText;break;case"zoomout":r=c.toolbar.zoomOut.headerText,u=c.toolbar.zoomOut.contentText;break;case"preview":r=c.toolbar.printLayout.headerText,u=c.toolbar.printLayout.contentText;break;case"documentmap":r=c.toolbar.documentMap.headerText,u=c.toolbar.documentMap.contentText;break;case"refresh":r=c.toolbar.refresh.headerText,u=c.toolbar.refresh.contentText;break;case"stop":r=c.toolbar.stop.headerText,u=c.toolbar.stop.contentText;break;case"parameter":r=c.toolbar.parameter.headerText,u=c.toolbar.parameter.contentText;break;case"back":r=c.toolbar.back.headerText,u=c.toolbar.back.contentText;break;case"pageIndex":r=c.toolbar.pageIndex.headerText,u=c.toolbar.pageIndex.contentText;break;case"zoom":r=c.toolbar.zoom.headerText,u=c.toolbar.zoom.contentText;break;case"fittopage":r=c.toolbar.fittopage.headerText,u=c.toolbar.fittopage.contentText;break;case"pagesetup":r=c.toolbar.pagesetup.headerText,u=c.toolbar.pagesetup.contentText;break;case"exportsetup":r=c.toolbar.exportsetup.headerText,u=c.toolbar.exportsetup.contentText;break;case"find":r=c.toolbar.find.headerText,u=c.toolbar.find.contentText;break;case"performance":r=c.toolbar.performance.headerText,u=c.toolbar.performance.contentText}return{header:r,content:u}},_drillAction:function(){$._data($(".txtToggle_"+this._id).get(0),"events")==undefined&&this._on($(".txtToggle_"+this._id),"click",this._drillClick)},_drillClick:function(n){var c=$(n.currentTarget).attr("drillObj");c&&(this._currentTogglePosition=0,this.model.sizeToReportContent&&(this._currentTogglePosition=$(n.currentTarget).offset().top-$(n.currentTarget).parent().outerHeight()/2),this._serverActionInfo=c,this._ajaxCallMethod(this._reportAction.drillDown,this._printMode?"_getPreviewModel":"_getPageModel",!1))},_sortingAction:function(){$._data($(".txtSorting_"+this._id).get(0),"events")==undefined&&this._on($(".txtSorting_"+this._id),"click",this._sortingClick)},_sortingClick:function(n){var c=$(n.currentTarget).attr("sortingObj");c&&(this._serverActionInfo=c,this._ajaxCallMethod(this._reportAction.sorting,this._printMode?"_getPreviewModel":"_getPageModel",!1))},_showDocumentMap:function(n){n?$("#"+this._id+"_toolbar_li_documentmap").css("display","block"):$("#"+this._id+"_toolbar_li_documentmap").css("display","none")},_appendDocumentMapDiv:function(){if(this._isDevice){var n=$("#"+this._id+"_documentmapContainer");0==n.length&&(n=ej.buildTag("div.e-reportviewer-documentmappopup","",{display:"none"},{id:this._id+"_documentmapContainer"}),$("body").append(n))}},_selectDocMapToolItem:function(n){if(!this.model.toolbarSettings.templateId){var c=$("#"+this._id+"_toolbarContainer").data("ejToolbar");n?c.selectItemByID(this._id+"_toolbar_li_documentmap"):c.deselectItemByID(this._id+"_toolbar_li_documentmap")}this._onElementsRendered({action:"DocumentMap selected"})},_documentMapClick:function(){var n,c;this._isDevice?"block"==(c=$("#"+this._id+"_documentmapContainer")).css("display")?(this._pageDocMapFlag=!0,c.css("display","none"),this._selectDocMapToolItem(!1)):(this._pageDocMapFlag=!1,c.css("display","block"),this._selectDocMapToolItem(!0)):(n=$("#"+this._id+"_reportviewerContainer").data("ejSplitter"))&&($(n.panes[0]).hasClass("collapsed")?(this._pageDocMapFlag=!0,n.model.properties[0].paneSize="0%",n.model.properties[1].paneSize="100%",n.refresh(),n.expand(0),this._selectDocMapToolItem(!0)):(this._pageDocMapFlag=!1,n.model.properties[0].paneSize="20%",n.model.properties[1].paneSize="80%",n.refresh(),n.collapse(0),this._selectDocMapToolItem(!1))),this._onElementsRendered({action:"DocumentMap clicked"})},_showDocumentMapContainer:function(n){var c,r;this._isDevice?n?$("#"+this._id+"_documentmapContainer").css("display","block"):$("#"+this._id+"_documentmapContainer").css("display","none"):(c=$("#"+this._id+"_reportviewerContainer").data("ejSplitter"))&&($(c.panes[0]).hasClass("collapsed")?(r=$("#"+this._id+"_toolbar_li_documentmap").attr("data-aria-selected"),this._printMode||"true"!=r||(this._pageDocMapFlag=!0,c.model.properties[0].paneSize="0%",c.model.properties[1].paneSize="100%",c.refresh(),c.expand(0))):(this._pageDocMapFlag=!1,c.model.properties[0].paneSize="20%",c.model.properties[1].paneSize="80%",c.refresh(),c.collapse(0)),this._printMode?($(".e-split-divider").css("display","none"),this._showDocumentMap(!1)):($(".e-split-divider").css("display","block"),this._showDocumentMap(!0)))},_destroyDocumentMapTree:function(){var n,c;$("#"+this._id+"_documentmapContainer").length>0&&$("#"+this._id+"_ejtreeView").length>0&&($("#"+this._id+"_documentmapContainer").css("display","none"),(n=$("#"+this._id+"_ejtreeView").data("ejTreeView"))&&n.destroy&&n.destroy(),$("#"+this._id+"_ejtreeView").css("display","none"),(c=$("#"+this._id+"_reportviewerContainer").data("ejSplitter")).collapse(),c.refresh(),$(".e-split-divider").css("display","none"),$("#"+this._id+"_viewerContainer").css("width","100%"))},_documentMapAction:function(){this._ajaxCallMethod(this._reportAction.documentMap,"_documentMapModel",!1)},_containerSplit:function(n){var c,r;$("#"+this._id+"_documentmapContainer").css("display","block"),c=$("#"+this._id+"_viewerContainer"),this._appendDocumentMapDiv(),r=ej.buildTag("div.e-reportviewer-documentmappopup","",{},{id:this._id+"_ejtreeView"}),$("#"+this._id+"_documentmapContainer").css("height","100%"),$("#"+this._id+"_documentmapContainer").empty(),$("#"+this._id+"_documentmapContainer").append(r),$("#"+this._id+"_ejtreeView").css("display","none"),$("#"+this._id+"_ejtreeView").ejTreeView({height:"99.6%",nodeSelect:this._docMapNodeSelected,fields:{id:"NodeId",parentId:"ParentNodeId",text:"NodeLabel",dataSource:n,expanded:"Expanded"},isResponsive:!0}),this._isDevice?$("#"+this._id+"_documentmapContainer").css({position:"absolute",left:c.offset().left,top:c.offset().top,height:c.height(),width:c.width()/6}):$("#"+this._id+"_reportviewerContainer").ejSplitter({height:c.height()+1,orientation:ej.Orientation.Horizontal,beforeExpandCollapse:this._documentMapExpandClick,properties:[{paneSize:"20%",expandable:!1},{paneSize:"80%",collapsible:!1}],isResponsive:!0}),$("#"+this._id+"_ejtreeView").css("display","block"),this._selectDocMapToolItem(!0),this._onElementsRendered({action:"DocumentMap loaded"})},_docMapNodeSelected:function(n){try{var c=n.model.fields.dataSource[n.selectedNodes[0]],r=this._id.replace("_ejtreeView",""),u=$("#"+r).data("boldReportViewer");u._isDevice&&($("#"+r+"_documentmapContainer").css("display","none"),this._selectDocMapToolItem(!1)),u._currnetDocMapNodeId=c.NodeId,u._gotoPageNo(c.PageNo)}catch{}},_documentMapExpandClick:function(n){var c=this._id.substr(0,this._id.lastIndexOf("_reportviewerContainer")),r=$("#"+c).data("boldReportViewer");r._printMode||"beforeExpand"!=n.action?r._printMode||"beforeCollapse"!=n.action||r._selectDocMapToolItem(!1):r._selectDocMapToolItem(!0)},_scrollDocMapItemView:function(){var c,n=$("#"+this._id).find("div[id*="+this._currnetDocMapNodeId+"]");n&&n.length>0?(this._scrollToDiv(n[0]),this._onElementsRendered({action:"DocumentMap node selected"})):(c=document.getElementById(this._id+"_"+this._currnetDocMapNodeId))&&(this._scrollToDiv(c),this._onElementsRendered({action:"DocumentMap node selected"})),this._currnetDocMapNodeId=null},_scrollToBookmark:function(){var n,c,r;if(this._currentBookmarkInfo.IsTablixChild){for(c=$("#"+this._id).find("div[id*="+this._currentBookmarkInfo.ItemName+"]"),r=0;r<c.length;r++)if(c[r].id.includes("tablixRow"+this._currentBookmarkInfo.RowNo+"xCol"+this._currentBookmarkInfo.ColumnNo)){n=c[r];break}}else n=document.getElementById(this._id+"_"+this._currentBookmarkInfo.ItemName);n&&this._scrollToDiv(n),this._currentBookmarkInfo=null},_scrollToDiv:function(n){var c=$("#"+this._id+"_viewerContainer"),r=$("#"+this._id+"_toolbarContainer").height(),u=$("#"+this._id+"_viewBlockContainer").height(),_=$("#"+n.id).offset(),w=r+u;c.scrollLeft(_.left),c.scrollTop(_.top-w)},_showDrillThrough:function(n){n?$("#"+this._id+"_toolbar_li_gotoparent").css("display","block"):$("#"+this._id+"_toolbar_li_gotoparent").css("display","none")},_drillThroughAction:function(){$._data($(".drillAction_"+this._id).get(0),"events")==undefined&&this._on($(".drillAction_"+this._id),"click",this._drillThroughClick)},_drillThroughClick:function(event){var drillActionInfo=null,proxy=null,chartActionInfo,i,j,actionInfo,isCancel,isDrill,_actionInfo;if("ejChart"==this.pluginName){if(proxy=$("#"+event.model.ejreportid).data("boldReportViewer"),$("#"+this._id+"_svg_TrackToolTip").css("display","none"),chartActionInfo=$("#"+this._id).attr(this._id+"actionObj_Series"+event.data.region.SeriesIndex),chartActionInfo=JSON.parse(chartActionInfo),ej.isNullOrUndefined(chartActionInfo))return!1;var seriesIndex=event.model.series[event.data.region.SeriesIndex],seriesName=seriesIndex.points[event.data.region.Region.PointIndex].x,labelIndex=0;for(i=0;i<chartActionInfo.length;i++)for(j=0;j<chartActionInfo[i].Parameters.length;j++)if(null!=chartActionInfo[i].Parameters[j].Value&&chartActionInfo[i].Parameters[j].Value[0]==seriesName){labelIndex=i;break}drillActionInfo=0==labelIndex?chartActionInfo[event.data.region.Region.PointIndex]:chartActionInfo[labelIndex]}else proxy=this,$(event.currentTarget).data("actionObj")!=undefined?drillActionInfo=$(event.currentTarget).data("actionObj"):(drillActionInfo=$(event.currentTarget).attr("actionObj"),drillActionInfo&&(drillActionInfo=JSON.parse(drillActionInfo)));drillActionInfo&&(actionInfo={actionInfo:$.extend(!0,{},drillActionInfo)},proxy&&(drillActionInfo.Hyperlink?(isCancel=proxy._onHyperlink(actionInfo),isCancel||(-1!==drillActionInfo.Hyperlink.toLowerCase().indexOf("javascript:")?eval(drillActionInfo.Hyperlink):window.open(drillActionInfo.Hyperlink,"noopener"))):drillActionInfo.ReportName?(isDrill=proxy._onDrillThrough(actionInfo),isDrill||(_actionInfo=actionInfo.actionInfo,proxy._isDrillThroughReport=!0,proxy._childReportToken=proxy._getAuthenticationToken(),proxy._showloadingIndicator(!0),proxy.doAjaxPost("POST",proxy._actionUrl,JSON.stringify({reportAction:proxy._reportAction.drillThrough,controlId:proxy._id,reportName:_actionInfo.ReportName,parameters:_actionInfo.Parameters,authKey:proxy._childReportToken}),"_drillThroughModel"))):drillActionInfo.BookmarkInfo&&(proxy._currentBookmarkInfo=drillActionInfo.BookmarkInfo,proxy._currentPage===drillActionInfo.BookmarkInfo.PageNo?proxy._scrollToBookmark():proxy._gotoPageNo(drillActionInfo.BookmarkInfo.PageNo))))},_gotoParentReport:function(){this._ajaxCallMethod(this._reportAction.clearCache,"_gotoParentReportModel",!1)},_setInitialization:function(){this._dataSources=null,this._reportViewerToken=null,this._childReportToken=null,this._refresh=!1,this._isToolbarClick=!1,this._pageModel=null,this._currnetDocMapNodeId=null,this._currentBookmarkInfo=null,this._currentPage=1,this._reportParameters=null,this._paramInfo=null,this._reportDataSources=null,this._reporDataSets=null,this._zoomLevel=2,this._isDocumentMap=!1,this._reportParametersModel=[]},_cloneReportViewerProperties:function(){var n={};return n.model=this.model,n._dataSources=$.extend(!0,[],this._dataSources),n._reportViewerToken=this._reportViewerToken,n._childReportToken=this._childReportToken,n._refresh=this._refresh,n._isToolbarClick=this._isToolbarClick,n._currnetDocMapNodeId=this._currnetDocMapNodeId,n._currentBookmarkInfo=this._currentBookmarkInfo,n._pageModel=$.extend(!0,{},this._pageModel),n._currentPage=this._currentPage,n._reportParameters=$.extend(!0,[],this._reportParameters),n._paramInfo=this._paramInfo,n._reportParametersModel=$.extend(!0,[],this._reportParametersModel),n._customParameters=$.extend(!0,[],this._customParameters),n._reportDataSources=$.extend(!0,[],this._reportDataSources),n._reporDataSets=$.extend(!0,[],this._reporDataSets),n._preZoomVal=this._preZoomVal,n._isDevice=this._isDevice,n._originX=this._originX,n._originY=this._originY,n._printMode=this._printMode,n._pageSetup=this._pageSetup,n._isDocumentMap=this._isDocumentMap,n.enableOnScrollNavigation=this.enableOnScrollNavigation,n},_setParentReportViewerProperties:function(){var n=this._parents[this._parents.length-1],c=n.parentPro;this.model=c.model,this._dataSources=c._dataSources,this._reportViewerToken=c._reportViewerToken,this._childReportToken=c._childReportToken,this._refresh=c._refresh,this._isToolbarClick=c._isToolbarClick,this._pageModel=c._pageModel,this._currentPage=c._currentPage,this._reportParameters=c._reportParameters,this._paramInfo=c._paramInfo,this._reportParametersModel=c._reportParametersModel,this._customParameters=c._customParameters,this._reportDataSources=c._reportDataSources,this._reporDataSets=c._reporDataSets,this._isDocumentMap=c._isDocumentMap,this._preZoomVal=c._preZoomVal,this.model.printMode=c._printMode=this._printMode,this._originX=c._originX,this._originY=c._originY,this._parentPageXY=n.pagePos,this.enableOnScrollNavigation=c.enableOnScrollNavigation,this._parents.pop()},_printlayout:function(){this._updatePreviewLayout(!this._printMode,this._pageSetup)},_selectPreviewToolItem:function(n){if(!this.model.toolbarSettings.templateId){var c=$("#"+this._id+"_toolbarContainer").data("ejToolbar");n?c.selectItemByID(this._id+"_toolbar_li_preview"):c.deselectItemByID(this._id+"_toolbar_li_preview")}},_updatePreviewLayout:function(n,c){if(this._printMode=n,this._isSelectedPage=!1,this._printMode?(this._currentPage=1,this._pageLayoutPage=this._currentPage):this._currentPage=this._pageLayoutPage,$("#"+this._id+"_toolbarContainer").ejToolbar("disableItem",$("#"+this._id+"_toolbar_li_preview")),this._selectPreviewToolItem(this._printMode),this._showDocumentMapContainer(!(!this._isPageDocMap||this._isDocumentMap)&&!this._printMode&&this._pageDocMapFlag),this.model.printMode=this._printMode,c){var u=$("#"+this._id+"_PaperSize").data("ejDropDownList"),_=this._getPaperSize(u.model.value),w=_.height,v=_.width;"Custom"==u.model.value?"Portrait"==this._paperOrientation&&w>v||"Landscape"==this._paperOrientation&&w<v?(this._paperSetup.paperHeight=w,this._paperSetup.paperWidth=v):(this._paperSetup.paperHeight=v,this._paperSetup.paperWidth=w):"Landscape"==this._paperOrientation?(this._paperSetup.paperHeight=v,this._paperSetup.paperWidth=w):(this._paperSetup.paperHeight=w,this._paperSetup.paperWidth=v),this._ajaxCallMethod(this._reportAction.getPageModel,this._printMode?"_getPreviewModel":"_getPageModel",!0)}else this._ajaxCallMethod(this._reportAction.getPageModel,this._printMode?"_getPreviewModel":"_getPageModel",!1,this._reportParameters)},_showPreviewButton:function(n){n?$("#"+this._id+"_toolbar_li_preview").css("display","block"):$("#"+this._id+"_toolbar_li_preview").css("display","none")},_getLocaleString:function(n,c,r){try{var u;return this._localeObj||(this._localeObj=this.model&&this.model.locale&&ej.ReportViewer.Locale[this.model.locale]?ej.ReportViewer.Locale[this.model.locale]:ej.ReportViewer.Locale["en-US"]),n&&c&&r?(u=this._localeObj[n][c][r])||(u=this._localeObj[n][c]):u=n&&c?this._localeObj[n][c]:this._localeObj[n],u}catch{return""}},_setCultureInfo:function(){var n,c,r,u,_,w,v,a,s,h,t,o,l,p,b,C,T,D;for(this._localeObj=ej.ReportViewer.Locale[this.model.locale]?ej.ReportViewer.Locale[this.model.locale]:ej.ReportViewer.Locale["en-US"],n=this._getLocaleString("toolbar","exportformat","headerText"),p=0;p<this.model.exportSettings.customItems.length;p++)r=this._getLocaleString("toolbar","exportformat",c=this.model.exportSettings.customItems[p].value),ej.isNullOrUndefined(r)?$("#"+this._id+"_toolbar_li_customexport_"+p).text(c).attr("aria-label",c+" "+n):$("#"+this._id+"_toolbar_li_customexport_"+p).text(r).attr("aria-label",r+" "+n);this._isDesign&&this._setTooltip();var L=$("#"+this._id+"_toolbar_fittopagewidth"),I=$("#"+this._id+"_toolbar_fittowholepage"),R=$("#"+this._id+"_toolbar_li_fittopagewidth"),V=$("#"+this._id+"_toolbar_li_fittowholepage");if($("#"+this._id+"_viewReportClick").val(this._getLocaleString("viewButton")),$("#"+this._id+"_toolbar_li_pdf").text(this._getLocaleString("toolbar","exportformat","Pdf")).attr("aria-label",this._getLocaleString("toolbar","exportformat","Pdf")+" "+n),$("#"+this._id+"_toolbar_li_xls").text(this._getLocaleString("toolbar","exportformat","Excel")).attr("aria-label",this._getLocaleString("toolbar","exportformat","Excel")+" "+n),$("#"+this._id+"_toolbar_li_word").text(this._getLocaleString("toolbar","exportformat","Word")).attr("aria-label",this._getLocaleString("toolbar","exportformat","Word")+" "+n),$("#"+this._id+"_toolbar_li_html").text(this._getLocaleString("toolbar","exportformat","Html")).attr("aria-label",this._getLocaleString("toolbar","exportformat","Html")+" "+n),$("#"+this._id+"_toolbar_li_ppt").text(this._getLocaleString("toolbar","exportformat","PPT")).attr("aria-label",this._getLocaleString("toolbar","exportformat","PPT")+" "+n),$("#"+this._id+"_toolbar_li_csv").text(this._getLocaleString("toolbar","exportformat","CSV")).attr("aria-label",this._getLocaleString("toolbar","exportformat","CSV")+" "+n),$("#"+this._id+"_toolbar_li_xml").text(this._getLocaleString("toolbar","exportformat","XML")).attr("aria-label",this._getLocaleString("toolbar","exportformat","XML")+" "+n),$("#"+this._id+"_toolbar_li_print").attr("aria-label",this._getLocaleString("toolbar","print","headerText")),$("#"+this._id+"_toolbar_li_export").attr("aria-label",n),$("#"+this._id+"_toolbar_li_pagesetup").attr("aria-label",this._getLocaleString("toolbar","pagesetup","headerText")),$("#"+this._id+"_toolbar_li_gotofirst").attr("aria-label",this._getLocaleString("toolbar","first","headerText")),$("#"+this._id+"_toolbar_li_gotolast").attr("aria-label",this._getLocaleString("toolbar","last","headerText")),$("#"+this._id+"_toolbar_li_gotonext").attr("aria-label",this._getLocaleString("toolbar","next","headerText")),$("#"+this._id+"_toolbar_li_gotoprevious").attr("aria-label",this._getLocaleString("toolbar","previous","headerText")),$("#"+this._id+"_toolbar_li_gotoparent").attr("aria-label",this._getLocaleString("toolbar","back","headerText")),$("#"+this._id+"_toolbar_li_gotopage").attr("aria-label",this._getLocaleString("toolbar","pageIndex","headerText")),$("#"+this._id+"_toolbar_gotopage").attr("aria-label",this._getLocaleString("toolbar","pageIndex","headerText")),$("#"+this._id+"_toolbar_li_zoomin").attr("aria-label",this._getLocaleString("toolbar","zoomIn","headerText")),$("#"+this._id+"_toolbar_li_zoomout").attr("aria-label",this._getLocaleString("toolbar","zoomOut","headerText")),$("#"+this._id+"_toolbar_li_pagefit").attr("aria-label",this._getLocaleString("toolbar","fittopage","headerText")),$("#"+this._id+"_toolbar_li_preview").attr("aria-label",this._getLocaleString("toolbar","printLayout","headerText")),$("#"+this._id+"_toolbar_li_refresh").attr("aria-label",this._getLocaleString("toolbar","refresh","headerText")),$("#"+this._id+"_toolbar_li_stop").attr("aria-label",this._getLocaleString("toolbar","stop","headerText")),$("#"+this._id+"_toolbar_li_documentmap").attr("aria-label",this._getLocaleString("toolbar","documentMap","headerText")),$("#"+this._id+"_toolbar_li_parameter").attr("aria-label",this._getLocaleString("toolbar","parameter","headerText")),$("#"+this._id+"_toolbar_li_performance").attr("aria-label",this._getLocaleString("toolbar","performance","headerText")),$("#"+this._id+"_toolbar_li_fittopage").attr("aria-label",this._getLocaleString("toolbar","fittopage","headerText")),$("#"+this._id+"_toolbar_zoom").data("ejDropDownList").setModel({htmlAttributes:{"aria-label":this._getLocaleString("toolbar","zoom","headerText")}}),(u=$("#"+this._id+"_exportSetup").data("ejDialog"))&&(u.setTitle(this._getLocaleString("toolbar","exportsetup","headerText")),$("#"+this._id+"_exportSetup_closebutton").attr("title",this._getLocaleString("exportsetupDialog","close")),$("#"+this._id+"_Submit").val(this._getLocaleString("exportsetupDialog","doneButton")).attr("aria-label",this._getLocaleString("exportsetupDialog","doneButton")),$("#"+this._id+"_Cancel").val(this._getLocaleString("exportsetupDialog","cancelButton")).attr("aria-label",this._getLocaleString("exportsetupDialog","cancelButton")),$("#"+this._id+"_excelFormatLabel").text(this._getLocaleString("exportsetupDialog","excel")+"&nbsp;"),$("#"+this._id+"_wordFormatLabel").text(this._getLocaleString("exportsetupDialog","word")+"&nbsp;"),$("#"+this._id+"_pptFormatLabel").text(this._getLocaleString("exportsetupDialog","ppt")+"&nbsp;"),$("#"+this._id+"_imageQuality").data("ejNumericTextbox").setModel({htmlAttributes:{"aria-label":this.model.exportSettings.imageQuality+" "+this._getLocaleString("exportsetupDialog","imageQuality")}})),_=$("#"+this._id+"_printPageSetup").data("ejDialog")){for(_.setTitle(this._getLocaleString("toolbar","pagesetup","headerText")),$("#"+this._id+"_printPageSetup_closebutton").attr("title",this._getLocaleString("pagesetupDialog","close")),$("#"+this._id+"_Submit").val(this._getLocaleString("pagesetupDialog","doneButton")).attr("aria-label",this._getLocaleString("pagesetupDialog","doneButton")),$("#"+this._id+"_Cancel").val(this._getLocaleString("pagesetupDialog","cancelButton")).attr("aria-label",this._getLocaleString("pagesetupDialog","cancelButton")),$("#"+this._id+"_heightLabel").text(this._getLocaleString("pagesetupDialog","height")+"&nbsp;"),$("#"+this._id+"_widthLabel").text(this._getLocaleString("pagesetupDialog","width")+"&nbsp;"),$("#"+this._id+"_topLabel").text(this._getLocaleString("pagesetupDialog","top")+"&nbsp;"),$("#"+this._id+"_bottomLabel").text(this._getLocaleString("pagesetupDialog","bottom")+"&nbsp;"),$("#"+this._id+"_rightLabel").text(this._getLocaleString("pagesetupDialog","right")+"&nbsp;"),$("#"+this._id+"_leftLabel").text(this._getLocaleString("pagesetupDialog","left")+"&nbsp;"),w=this._getLocaleString("pagesetupDialog","unit")+"&nbsp;",$("#"+this._id+"_heightUnitLabel").text(w),$("#"+this._id+"_widthUnitLabel").text(w),$("#"+this._id+"_topUnitLabel").text(w),$("#"+this._id+"_rightUnitLabel").text(w),$("#"+this._id+"_bottomUnitLabel").text(w),$("#"+this._id+"_leftUnitLabel").text(w),$("#"+this._id+"_portraitLabel").text("&nbsp;"+this._getLocaleString("pagesetupDialog","portrait")),$("#"+this._id+"_landscapeLabel").text("&nbsp;"+this._getLocaleString("pagesetupDialog","landscape")),v=this._getLocaleString("pagesetupDialog","paperSize"),$("#"+this._id+"_paperSizeLabel").text(v),$("#"+this._id+"_marginheader").text(this._getLocaleString("pagesetupDialog","margins")),$("#"+this._id+"_orientationLabel").text(this._getLocaleString("pagesetupDialog","orientation")),a=$("#"+this._id+"_printPageSetup").find(".e-rptviewer-pagesetup"),p=0;p<a.length;p++)a.eq(p).data("ejDropDownList").setModel({watermarkText:this._getLocaleString("waterMark","selectOption"),htmlAttributes:{"aria-label":v}});$("#"+this._id+"_paperHeight").data("ejNumericTextbox").setModel({htmlAttributes:{"aria-label":v+" "+this._getLocaleString("pagesetupDialog","height")}}),$("#"+this._id+"_paperWidth").data("ejNumericTextbox").setModel({htmlAttributes:{"aria-label":v+" "+this._getLocaleString("pagesetupDialog","width")}}),$("#"+this._id+"_paperMarginTop").data("ejNumericTextbox").setModel({htmlAttributes:{"aria-label":v+" "+this._getLocaleString("pagesetupDialog","top")}}),$("#"+this._id+"_paperMarginRight").data("ejNumericTextbox").setModel({htmlAttributes:{"aria-label":v+" "+this._getLocaleString("pagesetupDialog","right")}}),$("#"+this._id+"_paperMarginBottom").data("ejNumericTextbox").setModel({htmlAttributes:{"aria-label":v+" "+this._getLocaleString("pagesetupDialog","bottom")}}),$("#"+this._id+"_paperMarginLeft").data("ejNumericTextbox").setModel({htmlAttributes:{"aria-label":v+" "+this._getLocaleString("pagesetupDialog","left")}}),$("#"+this._id+"_portrait").data("ejRadioButton").setModel({htmlAttributes:{"aria-label":this._getLocaleString("pagesetupDialog","orientation")+" "+this._getLocaleString("pagesetupDialog","portrait")}}),$("#"+this._id+"_landscape").data("ejRadioButton").setModel({htmlAttributes:{"aria-label":this._getLocaleString("pagesetupDialog","orientation")+" "+this._getLocaleString("pagesetupDialog","landscape")}})}var F=this._getLocaleString("toolbar","fittopage","headerText"),A=this._getLocaleString("toolbar","fittopage","pageWidth"),z=this._getLocaleString("toolbar","fittopage","pageHeight");if(R.empty(),V.empty(),R.append(L).attr("aria-label",F+" "+A),R.append(A),V.append(I).attr("aria-label",F+" "+z),V.append(z),$("#"+this._id+"_credential_block_table").length>0&&($("#"+this._id+"_username_label").text(this._getLocaleString("credential","userName")),$("#"+this._id+"_password_label").text(this._getLocaleString("credential","password"))),this.element.length>0){for(s=this.element.find(".e-rptviewer-multivalue"),p=0;p<s.length;p++)s.eq(p).data("ejDropDownList").setModel({watermarkText:this._getLocaleString("waterMark","selectOption")}),h=s.eq(p).attr("id"),$("#"+h+"_check").length>0?$("#"+h+"_check").data("ejCheckBox").setModel({text:this._getLocaleString("selectAll")}):$("#"+h+"_selectall").length>0&&(t=$("#"+h+"_check0wrap"),(o=$("#"+h+"_selectall")).empty(),o.append(t),o.append(this._getLocaleString("selectAll")));for(l=this.element.find(".e-rptviewer-comboBox"),p=0;p<l.length;p++)l.eq(p).data("ejDropDownList").setModel({watermarkText:this._getLocaleString("waterMark","selectValue")})}if($("#"+this._id+"_errormsg")&&($("#"+this._id+"_prefix_errormsg").text(this._getLocaleString("errorMessage","startMessage")),$("#"+this._id+"_errormsg a").text(this._getLocaleString("errorMessage","middleMessage")),$("#"+this._id+"_suffix_errormsg").text(this._getLocaleString("errorMessage","endMessage")),$("#"+this._id+"_closebutton").attr("title",this._getLocaleString("errorMessage","closeMessage"))),(b=$("#"+this._id+"_viewer_alert_dialog")).length>0&&((C=b.data("ejDialog"))&&C.setModel({title:this._getLocaleString("alertMessage","title")}),$("#"+this._id+"_viewer_alert_dialog_closebutton").attr("title",this._getLocaleString("alertMessage","close")),$("#"+this._id+"_alert_footer_ok").text(this._getLocaleString("alertMessage","done"))),(T=$("#"+this._id+"_viewBlockContainer .e-reportviewer-viewerblockcellcontent").find(".e-reportviewer-DateTime"))&&T.length>0)for(D=0;D<T.length;D++)this._isDateTimePicker($(T[D]).attr("id"))?$("#"+$(T[D]).attr("id")).data("ejDateTimePicker").setModel({locale:this.model.locale}):$("#"+$(T[D]).attr("id")).data("ejDatePicker").setModel({locale:this.model.locale})},_renderPages:function(){var n,c,r;if(this.model.enablePageVirtualization||this.model.enablePageCache){if((n=this._printMode?this._printPageCache:this._pageCache).length-1<this._pageModel.TotalPages)for(r=this._currentPage+1;r<=this._pageModel.TotalPages;r++)n[r]=null;if(_pageNos=[],c=this._isForwardDirection?this._currentPage+1:this._currentPage-1,this._isSelectedPage)for(r=c;r<=this._pageModel.TotalPages;this._isForwardDirection?r++:r--)if(null==n[r]&&typeof n[r]<"u"){if(_pageNos.push(r),2==_pageNos.length&&(r=r>this._currentPage?r:this._currentPage,this._isForwardDirection=!0),4==_pageNos.length)break}else typeof n[r]>"u"&&(r=this._currentPage,this._isForwardDirection=!0);else for(r=c;r<=this._pageModel.TotalPages&&r>1&&(null!=n[r]||(typeof n[r]<"u"&&_pageNos.push(r),3!=_pageNos.length));this._isForwardDirection?r++:r--);this._ajaxCallMethod(this._reportAction.getPageModel,"_getRenderedPages",!1)}},_getRenderedPages:function(n){if(n.pgmodel&&n.pgmodel.length>0)for(var c=0;c<n.pgmodel.length;c++)n.pgmodel[c]&&n.pgmodel[c].Value.PageData&&(this._pageModel=n.pgmodel[c].Value,this._storePageCache(n.pgmodel[c].Key))},_storePageCache:function(n){this._pageModel&&this._pageModel.PageData&&this._pageModel.PageData.length>0&&(this._pageContains(n)||(this.model.enablePageVirtualization||this.model.enablePageCache)&&(this._printMode?this._printPageCache[n]=this._pageModel:this._pageCache[n]=this._pageModel))},_retrievePageCache:function(n){return this._printMode?this._printPageCache[n]:this._pageCache[n]},_pageContains:function(n){return!ej.isNullOrUndefined(this._printMode?this._printPageCache[n]:this._pageCache[n])},_clearPageCache:function(){this._pageCache=[],this._printPageCache=[]},_itemfadeToggle:function(n){n.fadeToggle()},_popupClick:function(){var n=$("#"+this._id+"_pageInfoPopup");n.fadeIn(),n.finish()},_containerScrollStop:function(){var n=$("#"+this._id+"_pageInfoPopup");n.finish().fadeIn(),n.finish().fadeOut(3e3)},_viewerClick:function(){$("#"+this._id+"_toolbar_exportListTip").css("display","none")},_pinchAndSwipe:function(n){switch(n.type){case"pinchin":this._zoomOut();break;case"pinchout":this._zoomIn();break;case"swipeleft":this._gotoNextPage(),this._isDevice&&this._updatePageNo();break;case"swiperight":this._gotoPreviousPage(),this._isDevice&&this._updatePageNo()}},_touchMove:function(n){this._isPinchZoom=!1,(typeof n.touches<"u"&&2===n.touches.length||typeof n.originalEvent.touches<"u"&&2===n.originalEvent.touches.length)&&(this._isPinchZoom=!0)},_touchStart:function(n){typeof n.targetTouches<"u"?this._touchScreen.startPoint=n.targetTouches[0].screenY:typeof n.originalEvent.targetTouches<"u"&&(this._touchScreen.startPoint=n.originalEvent.targetTouches[0].screenY)},_touchEnd:function(n){typeof n.changedTouches<"u"?this._touchScreen.endPoint=n.changedTouches[0].screenY:typeof n.originalEvent.changedTouches<"u"&&(this._touchScreen.endPoint=n.originalEvent.changedTouches[0].screenY),this._isPinchZoom||0!==window.visualViewport.pageLeft||0!==window.visualViewport.pageTop||this._scrollPageNavigation()},_scrollPageNavigation:function(){var c,r;if(Math.abs(this._touchScreen.startPoint-this._touchScreen.endPoint)>75)if((r=(c=$("#"+this._id+"_viewerContainer")).scrollTop())+c.innerHeight()>=c[0].scrollHeight){if(!this._pageModel||this._currentPage==this._pageModel.TotalPages)return;this.model.enableOnScrollNavigation&&(this._gotoNextPage(),this._updatePageNo(),c.scrollTop(2))}else if(0==r){if(!this._pageModel||1==this._currentPage)return;this._gotoPreviousPage(),this._updatePageNo(),c.scrollTop(2)}},_scrollPage:function(n){var w,v,c=this,r=$(n.target),u=this._orginY=r.scrollTop(),_=$("#"+this._id+"_viewerContainer_WaitingPopup");u>0?(this._scrollHeight=r[0].clientHeight+u,_.css("height",this._scrollHeight)):_.css("height",r[0].clientHeight),this._orginX=r.scrollLeft(),w=$("#"+this._id+"_reportviewerContainer").offset().top,v=$("#"+this._id+"_reportviewerContainer").offset().left,$(".fixed-data").each(function(){var a=$(this).offset().top,s=$(this).position().top,h=$("#"+this.id+"_headertable");h&&h.css(a<=w?{top:(s+(w-a))/[.5,.75,1,1.25,1.5,2,4][c._zoomLevel],display:"block"}:{top:s,display:"none"});var b=$(this).offset().left,C=$(this).position().left,T=$("#"+this.id+"_colheadertable");T.length>0&&T.css(b<=v?{left:(C+(v-b))/[.5,.75,1,1.25,1.5,2,4][c._zoomLevel],display:"block"}:{left:C,display:"none"})})},_scrollNavigatePage:function(n){if(!this._isDevice&&n.originalEvent){var c=n.originalEvent.deltaY,r=$("#"+this._id+"_viewerContainer"),u=r.scrollTop();if(r!=undefined&&this._isPageRendered)if(r[0].scrollHeight!=r[0].clientHeight){if(Math.round(this._scrollHeight+1)>=r[0].scrollHeight){if(!this._pageModel||this._currentPage==this._pageModel.TotalPages)return;this.model.enableOnScrollNavigation&&c>0&&(this._gotoNextPage(),this._updatePageNo(),r.scrollTop(2))}else if(0==u){if(!this._pageModel||1==this._currentPage)return;this.model.enableOnScrollNavigation&&c<0&&(this._gotoPreviousPage(),this._updatePageNo(),r.scrollTop(r[0].scrollHeight))}}else if(this._pageModel&&this._pageModel.TotalPages>1)if(this.model.enableOnScrollNavigation&&c>0){if(!this._pageModel||this._currentPage==this._pageModel.TotalPages)return;this._gotoNextPage(),this._updatePageNo(),r.scrollTop(2)}else if(this.model.enableOnScrollNavigation&&c<0){if(!this._pageModel||1==this._currentPage)return;this._gotoPreviousPage(),this._updatePageNo(),r.scrollTop(r[0].scrollHeight)}}},_showViewerBlock:function(n){if(n){$("#"+this._id+"_viewBlockContainer").css("display","block");var c=$("#"+this._id+"_viewBlockContainer .e-reportviewer-viewerblockcellcontent").find("table");this._selectparamToolItem(c.is("[data-isviewclick]"))}else $("#"+this._id+"_viewBlockContainer").css("display","none");this._isDevice&&$("#"+this._id+"_viewBlockContainer.e-reportviewer-blockstyle").css("z-index",n?"10":"0")},_showNavigationIndicator:function(n){var c=$("#"+this._id+"_loadingIndicator"),r=$("#"+this._id+"_viewerContainer");n&&"block"!=c.css("display")?r.data("ejWaitingPopup").show():r.data("ejWaitingPopup").hide(),$("#"+this._id+"_viewerContainer_WaitingPopup").css({left:"0px",width:r[0].scrollWidth+"px",height:r[0].scrollHeight+"px"}).addClass("e-reportviewer-waitingpopup")},_showPrintExportProgressIndicator:function(n,c){var r;n?($("#"+this._id+"_viewerContainer").ejWaitingPopup({showOnInit:!0,cssClass:"e-reportviewer-printExportLoading",text:c+'<a href="javascript:;" id = "'+this._id+'_loadingindicator_cancelPrintExport">'+this._getLocaleString("progressMessage","cancelText")+"</a>"}),this._on($("#"+this._id+"_loadingindicator_cancelPrintExport"),"click",function(){this._cancelPrintExport=!0,this._showPrintExportProgressIndicator(!1)}),$("#"+this._id+"_pageviewOuterContainer").addClass("e-reportviewer-hide-scroller"),r="#"+this._id+"_viewerContainer",$("#"+this._id+"_toolbarContainer").addClass("e-reportviewer-toolbar-disable"),$("#"+this._id+"_viewerContainer_WaitingPopup").css({left:"0px",width:"100%"}),$("#"+this._id+"_viewerContainer_WaitingPopup .e-text").addClass("e-reportviewer-contentspan e-tooltip-wrap").css({display:"inherit",margin:"auto",padding:"0px 4px 4px 4px"})):(r=$("#"+this._id+"_viewerContainer").data("ejWaitingPopup"),ej.isNullOrUndefined(r)||(r.setModel({text:""}),r.hide(),r.setModel({template:this.model.waitingPopupTemplate})),$("#"+this._id+"_toolbarContainer").removeClass("e-reportviewer-toolbar-disable"),$("#"+this._id+"_toolbar_li_stop").addClass("e-disable"),$("#"+this._id+"_pageviewOuterContainer").removeClass("e-reportviewer-hide-scroller"))},_showloadingIndicator:function(n){var c=$("#"+this._id+"_loadingIndicator");n?($("#"+this._id+"_pageviewOuterContainer").css("display","none"),c.css("display","block").data("ejWaitingPopup").show()):($("#"+this._id+"_pageviewOuterContainer").css("display","block"),c.css("display","none").data("ejWaitingPopup").hide()),$("#"+this._id+"_loadingIndicator_WaitingPopup").css({left:"0px",width:"100%"}).addClass("e-reportviewer-waitingpopup")},_showparameterLoadingIndicator:function(n,c,r,u,_){var v,a,s,h,w={state:n?"updateStart":"updateEnd",handled:!1,name:r,prompt:u,controlId:_,containerId:this._id+"_viewerBlockCellContent",progressText:c};if(n)this._onParameterUpdateStateChange(w),w.handled||(v=$("#"+this._id+"_viewer_paramblock").data("ejScroller"),ej.isNullOrUndefined(v)||!v.isHScroll()&&!v.isVScroll()?$("#"+w.controlId+"_div").ejWaitingPopup({showOnInit:!0,showImage:!0,text:c}):(v.setModel({thumbMove:this._onParameterScrollMove(w.controlId),wheelMove:this._onParameterScrollMove(w.controlId)}),$("#"+this._id+"_viewer_paramblock").css({position:"relative"}),$("#"+w.controlId+"_div").ejWaitingPopup({showOnInit:!0,showImage:!0,text:c,appendTo:"#"+v._id})),$("#"+w.controlId+"_div").css({opacity:"0"}),$("#"+w.controlId+"_div_WaitingPopup").css({opacity:"95%",position:"absolute"}),$("#"+w.controlId+"_div_WaitingPopup .e-text").css({"text-align":"center",top:"8px",margin:"0px",position:"absolute",left:"25px","font-size":"10px","background-size":"contain"}),$("#"+w.controlId+"_div_WaitingPopup .e-image").css({margin:"0",top:"4px",height:"20px",width:"20px","box-shadow":"0 0 black","background-color":"transparent","background-size":"contain",left:"3px",right:"76px"}));else if(this._onParameterUpdateStateChange(w),!w.handled&&(a=$("div#"+this._id+"_viewer_paramblock .e-waitingpopup"),!ej.isNullOrUndefined(a)&&a.length>0))for(s=0;s<a.length;s++)a[s].id.includes("_Param_")&&($("#"+(h=a[s].id)).css({opacity:"1"}),$("#"+h).ejWaitingPopup({showOnInit:!1,showImage:!1,text:""}),$("#"+h+"_WaitingPopup").empty())},_onParameterScrollMove:function(n){var c=$("#"+n+"_div").data("ejWaitingPopup");ej.isNullOrUndefined(c)||c.refresh()},_isMobileDevice:function(){return/windows phone|android|iphone/i.test(navigator.userAgent.toLowerCase())},_getAuthenticationToken:function(){return function n(){function c(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return(c()+c()+"-"+c()+"-"+c()+"-"+c()+"-"+c()+c()+c()).toUpperCase()}()+"@"+this._id},_updateToolbarmodel:function(){this._showToolbar(this.model.toolbarSettings.showToolbar),this._showPrintButton(this.model.toolbarSettings.items&ej.ReportViewer.ToolbarItems.Print),this._showRefreshButton(this.model.toolbarSettings.items&ej.ReportViewer.ToolbarItems.Refresh),this._showFindButton(this.model.toolbarSettings.items&ej.ReportViewer.ToolbarItems.find),this._showStopButton(this.model.toolbarSettings.items&ej.ReportViewer.ToolbarItems.Stop),this._showZoomControl(this.model.toolbarSettings.items&ej.ReportViewer.ToolbarItems.Zoom),this._showFittoPage(this.model.toolbarSettings.items&ej.ReportViewer.ToolbarItems.FittoPage),this._showExportControls(this.model.toolbarSettings.items&ej.ReportViewer.ToolbarItems.Export),this._showExportControls(this.model.toolbarSettings.items&ej.ReportViewer.ToolbarItems.ExportSetup),this._showExportList(),this._showPageNavigationControls(this.model.toolbarSettings.items&ej.ReportViewer.ToolbarItems.PageNavigation),this._showParameterBlock(this.model.toolbarSettings.items&ej.ReportViewer.ToolbarItems.Parameters),this._showPreviewButton(model.toolbarSettings.items&ej.ReportViewer.ToolbarItems.PrintLayout),this._showPrintPageSetupButton(this.model.toolbarSettings.items&ej.ReportViewer.ToolbarItems.PageSetup)},_viewerResize:function(){var n=this;this.model.isResponsive&&(this.resizeTO&&clearTimeout(this.resizeTO),this.resizeTO=setTimeout(function(){var w,v,a,s,c=n._isWidth?n.element[0].parentElement.style.width:n.element[0].style.width,r=n._isHeight?n.element[0].parentElement.style.height:n.element[0].style.height,u=$(n.element).height(),_=$(n.element).width();-1!=r.indexOf("%")?(n._isPercentHeight=parseInt(r),w=n._isHeight?$(n.element).parent().height():u,u=n._isHeight?w:w/100*n._isPercentHeight):0!=n.element[0].parentElement.clientHeight&&-1!=n._isPercentHeight?u=n._isHeight?n.element[0].parentElement.clientHeight:n.element[0].parentElement.clientHeight/100*n._isPercentHeight:(n._isHeight&&0!=n.element[0].parentElement.clientHeight||"msie"==n._browserInfo.name&&8==n._browserInfo.version&&0!=n.element[0].parentElement.clientHeight)&&(u=n.element[0].parentElement.clientHeight),n.element.height(u),-1!=c.indexOf("%")?(n._isPercentWidth=parseInt(c),v=n._isWidth?$(n.element).parent().width():_,_=n._isWidth?v:v/100*n._isPercentWidth):0!=n.element[0].parentElement.clientWidth&&-1!=n._isPercentWidth?_=n._isWidth?n.element[0].parentElement.clientWidth:n.element[0].parentElement.clientWidth/100*n._isPercentWidth:(n._isWidth&&0!=n.element[0].parentElement.clientWidth||"msie"==n._browserInfo.name&&8==n._browserInfo.version&&0!=n.element[0].parentElement.clientWidth)&&(_=n.element[0].parentElement.clientWidth),n.element.width(_),(a=$("#"+n._id+"_toolbarContainer").data("ejToolbar"))._activeItem=undefined,a._reSizeHandler(),n._refreshScroller(),n._setContainerSize(),n._refreshIndicator(),(s=$("#"+n._id+"_reportviewerContainer").data("ejSplitter"))&&s.refresh()},200))},_showViewerPage:function(n){n?$("#"+this._id+"_pageviewOuterline").css("display","block"):$("#"+this._id+"_pageviewOuterline").css("display","none"),this._isDevice&&$("#"+this._id+"_pageviewOuterline").css("z-index",n?"10":"0")},_updatePageNo:function(){$("#"+this._id+"_popupPageNo").val(this._currentPage),$("#"+this._id+"_pageInfoPopup .e-reportviewer-popuptotalpage").text(" / "+this._pageModel.TotalPages)},_reportReload:function(){this._refresh=!0,this._unwireEvents(),this._initViewer(),this._ajaxCallMethod(this._reportAction.reportLoad,"_reportLoaded",!1)},getDataSetNames:function(){return $.extend(!0,[],this._reporDataSets)},getParameters:function(){return $.extend(!0,[],this._reportParameters)},gotoPageIndex:function(n){this._gotoPageNo(n)},gotoLastPage:function(){this._gotoLastPage()},gotoFirstPage:function(){this._gotoFirstPage()},gotoNextPage:function(){this._gotoNextPage()},gotoPreviousPage:function(){this._gotoPreviousPage()},print:function(){this._print()},clearReportCache:function(){this._ajaxCallMethod("ClearCache","_clearCurrentServerCache",!1)},printLayout:function(){this._printlayout()},setParameterBlockVisibility:function(n){this._setParameterBlockVisibile(n)},exportReport:function(n,c){var r="";!ej.isNullOrUndefined(c)&&c.length>0&&(r=c),this._processExport(n,r)},refresh:function(){this._refreshReport()},cancelRendering:function(){$("#"+this._id+"_toolbar_li_stop").addClass("e-disable"),this._cancelProcessing=!0,this._cancelProcessing&&(this.ajaxLoad.abort(),this._reportCancel(this))},reload:function(){this._ajaxCallMethod(this._reportAction.clearCache,"_reportReload",!1)},fitToPage:function(){this._fitToPage("fitToPage")},fitToPageWidth:function(){this._fitToPage("fitToWidth")},fitToPageHeight:function(){this._fitToPage("wholepage")},updateParameter:function(n){this._updateParameter(n)},_onReportLoaded:function(){this._trigger("reportLoaded")},_onRenderingBegin:function(n){return this._trigger("renderingBegin",n)},_onToolbarRendering:function(n){this._trigger("toolbarRendering",n)},_onBeforeParameterAdd:function(n){this._trigger("beforeParameterAdd",n)},_onAjaxRequest:function(n){$("#"+this._id+"_toolbar_li_stop").removeClass("e-disable"),this._trigger("ajaxBeforeLoad",n)},_onAjaxSuccess:function(n){$("#"+this._id+"_toolbar_li_stop").addClass("e-disable"),this._trigger("ajaxSuccess",n)},_onAjaxFailure:function(n){this._trigger("ajaxError",n)},_onRenderingComplete:function(n){if($("#"+this._id+"_toolbar_li_stop").addClass("e-disable"),this._enableFindTextBox(!0),this._trigger("renderingComplete",n),this._licenseMessage&&this._licenseMessage.length>0){console.log(this._licenseMessage);var c=$("#"+this._id+"_AlertIcon");c.css("display","block"),this._on(c,"click",function(){this._showAlertDialog("Bold Reports license error information",this._licenseMessage,!1),$("#"+this._id+"_alert_link_div").css("display","none"),$("#"+this._id+"_msg_container").css("display","block")})}},_onReportError:function(n){return this._trigger("reportError",n)},_onShowError:function(n){return this._trigger("showError",n)},_onViewReportClick:function(n){null!=this._searchText&&(this._searchText=null),this._trigger("viewReportClick",n)},_onDrillThrough:function(n){return this._trigger("drillThrough",n)},_onHyperlink:function(n){return this._trigger("hyperlink",n)},_onExportProgressChanged:function(n){this._trigger("exportProgressChanged",n)},_onExportItemClick:function(n){return this._trigger("exportItemClick",n)},_onPrintProgressChanged:function(n){this._trigger("printProgressChanged",n)},_onReportExport:function(n){return this._trigger("reportExport",n)},_onToolbarClick:function(n){return this._trigger("toolBarItemClick",n)},_onReportPrint:function(n){return this._trigger("reportPrint",n),{cancel:n.cancel,isStyleLoad:n.isStyleLoad}},_onParameterUpdateStateChange:function(n){this._trigger("parameterUpdateStateChange",n)},_onElementsRendered:function(n){this._trigger("_elementsRendered",n)},_onParameterChange:function(n){$("#"+this._id+"_toolbar_li_parameter").hasClass("e-active")&&this._trigger("parameterChange",n)}}),ej.ReportViewer.InputElement={Default:"Default",Button:"Button",Textbox:"Textbox",Dropdown:"Dropdown"},ej.ReportViewer.ExportOptions={Excel:1,Html:2,Pdf:4,Word:8,PPT:16,CSV:32,XML:64,CustomItems:128,All:255},ej.ReportViewer.ExcelFormats={Excel97to2003:"excel97to2003",Excel2007:"excel2007",Excel2010:"excel2010",Excel2013:"excel2013"},ej.ReportViewer.PPTFormats={PowerPoint97to2003:"powerpoint97to2003",PowerPoint2007:"powerpoint2007",PowerPoint2010:"powerpoint2010",PowerPoint2013:"powerpoint2013"},ej.ReportViewer.WordFormats={Doc:"doc",Dot:"dot",Docx:"docx",Word2007:"word2007",Word2010:"word2010",Word2013:"word2013",Word2007Dotx:"word2007dotx",Word2010Dotx:"word2010dotx",Word2013Dotx:"word2013dotx",Word2007Docm:"word2007docm",Word2010Docm:"word2010docm",Word2013Docm:"word2013docm",Word2007Dotm:"word2007dotm",Word2010Dotm:"word2010dotm",Word2013Dotm:"word2013dotm",Rtf:"rtf",Txt:"txt",EPub:"epub",Html:"html",Xml:"xml"},ej.ReportViewer.ProcessingMode={Remote:"remote",Local:"local"},ej.ReportViewer.Orientation={Portrait:"Portrait",Landscape:"Landscape"},ej.ReportViewer.PaperSize={A3:"A3",A4:"A4",B4_JIS:"B4(JIS)",B5_JIS:"B5(JIS)",Envelope_10:"Envelope #10",Envelope_Monarch:"Envelope Monarch",Executive:"Executive",Legal:"Legal",Letter:"Letter",Tabloid:"Tabloid",Custom:"Custom"},ej.ReportViewer.ToolbarItems={Export:1,Zoom:2,PageNavigation:4,Refresh:8,Print:16,DocumentMap:32,Parameters:64,PrintLayout:128,FittoPage:256,PageSetup:512,Stop:1024,ExportSetup:2048,Find:4096,Analytics:8192,All:16383},ej.ReportViewer.RenderMode={Default:3,Mobile:1,Desktop:2},ej.ReportViewer.PrintOptions={Default:"Default",NewTab:"NewTab",None:"None"},ej.ReportViewer.DateTimePickerType={Default:"Default",DateTime:"DateTime"},ej.ReportViewer.Locale={},ej.ReportViewer.Locale["en-US"]={toolbar:{print:{headerText:"Print",contentText:"Print the report."},exportformat:{headerText:"Export",contentText:"Select the exported file format.",Pdf:"PDF",Excel:"Excel",Word:"Word",Html:"HTML",PPT:"PowerPoint",CSV:"CSV",XML:"XML"},first:{headerText:"First",contentText:"Go to the first page of the report."},previous:{headerText:"Previous",contentText:"Go to the previous page of the report."},next:{headerText:"Next",contentText:"Go to the next page of the report."},last:{headerText:"Last",contentText:"Go to the last page of the report."},documentMap:{headerText:"Document Map",contentText:"Show or hide the document map."},parameter:{headerText:"Parameter",contentText:"Show or hide the parameters pane."},zoomIn:{headerText:"Zoom-In",contentText:"Zoom in to the report."},zoomOut:{headerText:"Zoom-Out",contentText:"Zoom out of the report."},refresh:{headerText:"Refresh",contentText:"Refresh the report."},find:{headerText:"Find",contentText:"Find text in the report."},stop:{headerText:"Stop",contentText:"Stop processing the report"},printLayout:{headerText:"Print Layout",contentText:"Change between print layout and normal modes."},pageIndex:{headerText:"Page Number",contentText:"Current page number to view."},zoom:{headerText:"Zoom",contentText:"Zoom in or out on the report."},back:{headerText:"Back",contentText:"Go back to the parent report."},fittopage:{headerText:"Fit to Page",contentText:"Fit the report page to the container.",pageWidth:"Page Width",pageHeight:"Whole Page"},pagesetup:{headerText:"Page Setup",contentText:"Choose page setup option to change paper size, orientation and margins."},exportsetup:{headerText:"Export Setup",contentText:"Choose export setup option to set the image quality, save type of word, and excel document."},performance:{headerText:"Performance Metrics",contentText:"Report performance metrics are shown."}},PerformanceMetricsDialog:{title:"Report Performance Metrics",reportProcessing:"Report Processing Time",datasetProcessing:"DataSet Processing Time",parse:"Parsing Time",evaluate:"Evaluate Time",layout:"Layout Time",render:"Rendering Time",datasetDetails:{rows:"Rows Count",dataRetrival:"Data Retrieval Time"}},pagesetupDialog:{close:"Close",paperSize:"Paper Size",height:"Height",width:"Width",margins:"Margins",top:"Top",bottom:"Bottom",right:"Right",left:"Left",pageUnits:"Page Units",unitin:"in",unitcm:"cm",inches:"Inches",centimeters:"Centimeters",orientation:"Orientation",portrait:"Portrait",landscape:"Landscape",doneButton:"OK",cancelButton:"Cancel",paperTypes:[{text:"A3",value:"A3"},{text:"A4",value:"A4"},{text:"B4(JIS)",value:"B4(JIS)"},{text:"B5(JIS)",value:"B5(JIS)"},{text:"Envelope #10",value:"Envelope #10"},{text:"Envelope Monarch",value:"Envelope Monarch"},{text:"Executive",value:"Executive"},{text:"Legal",value:"Legal"},{text:"Letter",value:"Letter"},{text:"Tabloid",value:"Tabloid"},{text:"Custom",value:"Custom"}]},exportsetupDialog:{close:"Close",commonOptions:{header:"Common Settings",imageQuality:"Image Quality",imageQualityTypes:[{text:"Low",value:2},{text:"Medium",value:5},{text:"High",value:10}],usePrintSizes:"Use Print Page Settings"},securityOptions:{header:"Security Settings",enableProtection:"Enable protection",protect:"Password To Protect",edit:"Password To Edit"},pptOptions:{header:"PowerPoint Settings",pptTypes:[{text:"PowerPoint 97to2003 (.ppt)",value:0},{text:"PowerPoint 2007 (.pptx)",value:1},{text:"PowerPoint 2010 (.pptx)",value:2},{text:"PowerPoint 2013 (.pptx)",value:3}]},wordOptions:{header:"Word Settings",protection:"Protection Type",topSpacing:"Top Spacing",bottomSpacing:"Bottom Spacing",formatList:[{text:"Word 97-2003 Document (.doc)",value:0},{text:"Word 97-2003 template (.dot)",value:1},{text:"Word Document (.docx)",value:2},{text:"Strict Open XML Document 2007 (.docx)",value:3},{text:"Strict Open XML Document 2010 (.docx)",value:4},{text:"Strict Open XML Document 2013 (.docx)",value:5},{text:"Strict Open XML Template 2007 (.dotx)",value:6},{text:"Strict Open XML Template 2010 (.dotx)",value:7},{text:"Strict Open XML Template 2013 (.dotx)",value:8},{text:"Word Macro Enabled Document 2007 (.docm)",value:9},{text:"Word Macro Enabled Document 2010 (.docm)",value:10},{text:"Word Macro Enabled Document 2013 (.docm)",value:11},{text:"Word Macro Enabled Template 2007 (.dotm)",value:12},{text:"Word Macro Enabled Template 2010 (.dotm)",value:13},{text:"Word Macro Enabled Template 2013 (.dotm)",value:14},{text:"Rich text format (.rtf)",value:15},{text:"Plain text (.txt)",value:16},{text:"Web page (.html)",value:18}],layoutTypes:[{text:"Default",value:0},{text:"Top Level",value:1}],protectionTypes:[{text:"No Protection",value:-1},{text:"Allow Only Revisions",value:0},{text:"Allow Only Comments",value:1},{text:"Allow Only Form Fields",value:2},{text:"Allow Only Reading",value:3}]},pdfOptions:{header:"PDF Settings",complexScript:"Complex Script",conformance:"Conformance Level",conformanceTypes:[{text:"None",value:0},{text:"Pdf/A1B",value:1},{text:"Pdf/X1A2001",value:2},{text:"Pdf/A2B",value:3},{text:"Pdf/A3B",value:4},{text:"Pdf/A1A",value:5},{text:"Pdf/A2A",value:6},{text:"Pdf/A2U",value:7},{text:"Pdf/A3A",value:8},{text:"Pdf/A3U",value:9}]},doneButton:"OK",cancelButton:"Cancel",layoutOption:"Layout Option",saveType:"Save Type",csvOptions:{header:"CSV Settings",formatter:"Formatted Values",delimiter:"Field Delimiter",qualifier:"Text Qualifier",customVal:"Custom Value",delimiterList:[{text:"Comma",value:","},{text:"Space",value:" "},{text:"Tab",value:"   "},{text:"Semicolon",value:";"},{text:"Custom",value:"Custom"}],qualifierList:[{text:"Double Quotes",value:'"'},{text:"Single Quotes",value:"'"},{text:"None",value:""},{text:"Custom",value:"Custom"}]},htmlOptions:{header:"HTML Settings",separator:"Page Separator"},excelOptions:{header:"Excel settings",sheetProtection:"Sheet Protection",disableCellFormat:"Disable Cell Format",readonly:"Read Only",saveTypes:[{text:"Excel97to2003 Workbook(.xls)",value:0},{text:"Excel2007 Workbook(.xlsx)",value:1},{text:"Excel2010 Workbook (.xlsx)",value:2},{text:"Excel2013 Workbook (.xlsx)",value:3},{text:"Excel2016 Workbook(.xlsx) ",value:4}],sheetProtectionTypes:[{text:"None",value:0},{text:"Objects",value:1},{text:"Scenarios",value:2},{text:"Formatting Cells",value:4},{text:"Formatting Columns",value:8},{text:"Formatting Rows",value:16},{text:"Inserting Columns",value:32},{text:"Inserting Rows",value:64},{text:"Inserting Hyperlinks",value:128},{text:"DeletingColumns",value:256},{text:"Deleting Rows",value:512},{text:"Locked Cells",value:1024},{text:"Sorting",value:2048},{text:"Filtering",value:4096},{text:"Using Pivot Tables",value:8192},{text:"UnLockedCells",value:16384},{text:"Content",value:32768},{text:"All",value:65535}],disableCellFormatTypes:[{text:"None",value:0},{text:"All",value:1},{text:"Border",value:2},{text:"Style",value:3}],layoutOptionTypes:[{text:"Default",value:0},{text:"Ignore Cell Merge",value:1}]}},findAlertMessage:{resultsEndReached:"You have reached the end of the search results. If you wish to continue, then close the dialog box and search again.",noResultsFound:"The specified text does not match any of the contents in the report. Change your search keyword and try again."},credential:{userName:"Username",password:"Password"},waterMark:{selectOption:"Select Option",selectValue:"Select a value",noDataFound:"No Data Found"},errorMessage:{startMessage:"Report Viewer encountered some issues loading this report. Please",middleMessage:" Click here",endMessage:"to see the error details",closeMessage:"Close this message",licenseMsgWeb:"The Bold license is not registered in your application. Please use a valid license to permanently remove this license validation message. You can also obtain a free 30-day evaluation license to temporarily remove this message during the evaluation period. Please refer to this help topic(https://help.boldreports.com/licensing/licensing-errors/#license-token-not-registered) for more information.",licenseMsgNetCore:"This application was built using a trial version of Bold. Please use a valid license to permanently remove this license validation message. You can also obtain a free 30-day evaluation license to temporarily remove this message during the evaluation period. Please refer to this help topic (https://help.boldreports.com/licensing/licensing-errors/#license-key-not-registered) for more information.",exportAjaxFailureMsg:"Unable to export the document due to failure of connecting Report Service.",printAjaxFailureMsg:"Unable to print the document due to failure of connecting Report Service.",reportLoadAjaxFailureMsg:"Unable to progress the Report action due to failure of connecting Report Service.",cancelReportProcessMsg:"Report processing was cancelled."},progressMessage:{exportLoadingMessage:"Report Exporting... ",printLoadingMessage:"Report Printing... ",printPreparationMessage:"Preparing to print data... {0}% completed... Please wait...",exportPreparationMessage:"Preparing to export document... {0}% completed... Please wait...",cancelText:"Cancel"},alertMessage:{close:"Close",title:"ReportViewer",done:"OK",showDetails:"Show details",hideDetails:"Hide Details",reportLoad:"Report Loaded:",RVERR0001:"ReportViewer failed to load the Report",RVERR0002:"ReportViewer failed to render the Report",RVERR0003:"An error occurred in ajax postback",RVERR0004:"Please select a value for the parameter",RVERR0005:"The {parametername} parameter is missing a value",RVERR0006:"Please give the float data type input",RVERR0007:"Please give the integer data type input",RVERR0008:"ReportViewer failed to validate the Datasource credentials",RVERR0009:"The margins are overlapped or they are off the paper. Enter a different margin size.",RVERR0010:"Please enter a value for the parameter",RVERR0011:"The parameter cannot be blank",RVERR0012:"The value provided for the report parameter {parameterprompt} is not valid for its type.",RVERR0013:"Please enter values for the parameters",RVERR0014:"Parameters cannot be blank",RVERR0015:"The value required for parameters names of"},reportItemLabel:{Tablix:"Tablix report item",Textbox:"Textbox report item",Chart:"Chart report item",Image:"Image report item",Custom:"Custom report item",Rectangle:"Rectangle report item",Map:"Map report item",Gauge:"Gauge report item",Indicator:"Indicator report item",Line:"Line report item",Subreport:"Sub report item"},reportParameter:{operators:{equals:"Equals",notEqualTo:"Not equal to",lessThan:"Less than",greaterThan:"Greater than",lessOrEqual:"Less or equal",greaterOrEqual:"Greater or equal",contains:"Contains",doesNotContain:"Not contain",startsWith:"Starts with",endsWith:"Ends with",is:"Is",isNot:"Is not",in:"In",notIn:"Not in",between:"Between",relative:"Relative"}},selectAll:"Select All",viewButton:"View Report",parameterBlock:"Parameter Block",parameterBlockTitle:"Report Parameters",parameterProcessingMessage:"Loading parameter values..."}})(jQuery,Syncfusion)},__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(169)],void 0!==(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=n)?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},270:(n,c,r)=>{var u,_,w;_=[r(276)],void 0!==(w="function"==typeof(u=function(){var v,a,s;window.ej=window.Syncfusion=window.Syncfusion||{},function(v,a,s){"use strict";var h,t,o,l,T,D;a.version="13.3.0.8",a.consts={NamespaceJoin:"-"},a.TextAlign={Center:"center",Justify:"justify",Left:"left",Right:"right"},a.Orientation={Horizontal:"horizontal",Vertical:"vertical"},a.serverTimezoneOffset=0,a.parseDateInUTC=!1,a.persistStateVersion=null,a.locales=a.locales||[],Object.prototype.hasOwnProperty||(Object.prototype.hasOwnProperty=function(T,D){return T[D]!==s}),Date.prototype.toISOString||function(){function T(D){var L=String(D);return 1===L.length&&(L="0"+L),L}Date.prototype.toISOString=function(){return this.getUTCFullYear()+"-"+T(this.getUTCMonth()+1)+"-"+T(this.getUTCDate())+"T"+T(this.getUTCHours())+":"+T(this.getUTCMinutes())+":"+T(this.getUTCSeconds())+"."+String((this.getUTCMilliseconds()/1e3).toFixed(3)).slice(2,5)+"Z"}}(),String.format=function(){for(var T=arguments[0],D=0;D<arguments.length-1;D++)T=T.replace(new RegExp("\\{"+D+"\\}","gm"),arguments[D+1]);return T.replace(/\{[0-9]\}/g,"")},jQuery.uaMatch=function(T){T=T.toLowerCase();var D=/(chrome)[ \/]([\w.]+)/.exec(T)||/(webkit)[ \/]([\w.]+)/.exec(T)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(T)||/(msie) ([\w.]+)/.exec(T)||T.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(T)||[];return{browser:D[1]||"",version:D[2]||"0"}},a.defineClass=function(T,D,L,I){if(!T||!L)return s;for(var R=T.split("."),V=window,F=0;F<R.length-1;F++)a.isNullOrUndefined(V[R[F]])&&(V[R[F]]={}),V=V[R[F]];return(I||a.isNullOrUndefined(V[R[F]]))&&(V[R[F]]=D="function"==typeof D?D:function(){},V[R[F]].prototype=L),V[R[F]]},a.util={getNameSpace:function(T){var D=T.toLowerCase().split(".");return"ej"===D[0]&&(D[0]="e"),D.join(a.consts.NamespaceJoin)},getObject:function(T,D){var L,I,R;if(!D||!T)return s;for("string"!=typeof T&&(T=JSON.stringify(T)),L=D,I=T.split("."),R=0;R<I.length&&!a.util.isNullOrUndefined(L);R++)L=L[I[R]];return L},createObject:function(T,D,L){for(var F,I=T.split("."),R=L||window,V=R,A=I.length,z=0;z<A;z++)F=I[z],z+1==A?V[F]=D:a.isNullOrUndefined(V[F])&&(V[F]={}),V=V[F];return R},isNullOrUndefined:function(T){return T===s||null===T},exportAll:function(T,D){var I,V,F,A,z,N,Q,oe,L=[],R=[],J=a.buildTag("form","",null,{action:T,method:"post","data-ajax":"false"});if(0!=D.length){for(Q=0;Q<D.length;Q++)V=Q,F=v("#"+D[Q]),A=v("#"+D[Q]).data(),I=A.ejWidgets,z=v(F).data(I[0]),R.push({id:z._id,locale:z.model.locale}),a.isNullOrUndefined(z)||(N=z._getExportModel(z.model),L.push({name:I[0],type:"hidden",value:z.stringify(N)}),oe=a.buildTag("input","",null,L[V]),J.append(oe));v("body").append(J),J.submit(),setTimeout(function(){var ue,ne;if(R.length)for(ne=0;ne<R.length;ne++)a.isNullOrUndefined(R[ne].locale)||(ue=v("#"+R[ne].id).data(),I=ue.ejWidgets,v("#"+R[ne].id).data(I[0]).model.locale=R[ne].locale)},0),J.remove()}return!0},print:function(T,R){var V,F,L=a.buildTag("div"),I=T.clone();L.append(I),R||(R=window.open("","print","height=452,width=1024,tabbar=no","noopener")),R.document.write("<!DOCTYPE html>"),V=v("head").find("link").add("style"),"msie"===a.browserInfo().name?(F="",V.each(function(A,z){"LINK"==z.tagName&&v(z).attr("href",z.href),F+=z.outerHTML}),R.document.write("<html><head></head><body>"+F+L[0].innerHTML+"</body></html>")):(F="",R.document.write("<html><head>"),V.each(function(A,z){"LINK"==z.tagName&&v(z).attr("href",z.href),F+=z.outerHTML}),R.document.writeln(F+"</head><body>"),R.document.writeln(L[0].innerHTML+"</body></html>")),R.document.close(),R.focus(),setTimeout(function(){a.isNullOrUndefined(R.window)||(R.print(),setTimeout(function(){R.close()},1e3))},1e3)},ieClearRemover:function(T){var D=v(T).height();T.style.paddingTop=parseFloat(D/2)+"px",T.style.paddingBottom=parseFloat(D/2)+"px",T.style.height="1px",T.style.lineHeight="1px"},sendAjaxRequest:function(T){v.ajax({type:T.type,cache:T.cache,url:T.url,dataType:T.dataType,data:T.data,contentType:T.contentType,async:T.async,success:T.successHandler,error:T.errorHandler,beforeSend:T.beforeSendHandler,complete:T.completeHandler})},buildTag:function(T,D,L,I){var F,R=/^[a-z]*[0-9a-z]+/gi.exec(T)[0],V=/#([_a-z0-9-&@\/\\,+()$~%:*?<>{}\[\]]+\S)/gi.exec(T);return V=V?V[V.length-1].replace(/[&@\/\\,+()$~%.:*?<>{}\[\]]/g,""):s,F=(F=/\.([a-z]+[-_0-9a-z ]+)/gi.exec(T))?F[F.length-1]:s,v(document.createElement(R)).attr(V?{id:V}:{}).addClass(F||"").css(L||{}).attr(I||{}).html(D||"")},_preventDefaultException:function(T,D){if(T)for(var L in D)if(D[L].test(T[L]))return!0;return!1},getMaxZindex:function(){var T=1;return((T=Math.max.apply(null,v.map(v("body *"),function(D){if("absolute"==v(D).css("position")||"fixed"==v(D).css("position"))return parseInt(v(D).css("z-index"))||1})))==s||null==T)&&(T=1),T},blockDefaultActions:function(T){T.cancelBubble=!0,T.returnValue=!1,T.preventDefault&&T.preventDefault(),T.stopPropagation&&T.stopPropagation()},getDimension:function(T,D){var L,R,V,I=v(T).parents().andSelf().filter(":hidden");return I&&(R={visibility:"hidden",display:"block"},V=[],I.each(function(){var F={};for(var A in R)F[A]=this.style[A],this.style[A]=R[A];V.push(F)}),L=/(outer)/g.test(D)?v(T)[D](!0):v(T)[D](),I.each(function(F){var A=V[F];for(var z in R)this.style[z]=A[z]})),L},transitionEndEvent:function(){return{"":"transitionend",webkit:"webkitTransitionEnd",Moz:"transitionend",O:"otransitionend",ms:"MSTransitionEnd"}[a.userAgent()]},animationEndEvent:function(){return{"":"animationend",webkit:"webkitAnimationEnd",Moz:"animationend",O:"webkitAnimationEnd",ms:"animationend"}[a.userAgent()]},startEvent:function(){return a.isTouchDevice()||v.support.hasPointer?"touchstart":"mousedown"},endEvent:function(){return a.isTouchDevice()||v.support.hasPointer?"touchend":"mouseup"},moveEvent:function(){return a.isTouchDevice()||v.support.hasPointer?v.support.hasPointer&&!a.isMobile()?"ejtouchmove":"touchmove":"mousemove"},cancelEvent:function(){return a.isTouchDevice()||v.support.hasPointer?"touchcancel":"mousecancel"},tapEvent:function(){return a.isTouchDevice()||v.support.hasPointer?"tap":"click"},tapHoldEvent:function(){return a.isTouchDevice()||v.support.hasPointer?"taphold":"click"},isDevice:function(){return a.getBooleanVal(v("head"),"data-ej-forceset",!1)?a.getBooleanVal(v("head"),"data-ej-device",this._device()):this._device()},isPortrait:function(){var T=document.documentElement;return T&&T.clientWidth/T.clientHeight<1.1},isLowerResolution:function(){return window.innerWidth<=640&&a.isPortrait()&&a.isDevice()||window.innerWidth<=800&&!a.isDevice()||window.innerWidth<=800&&!a.isPortrait()&&a.isWindows()&&a.isDevice()||a.isMobile()},isIOSWebView:function(){return/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent)},isAndroidWebView:function(){return!(typeof Android>"u")},isWindowsWebView:function(){return-1!=location.href.indexOf("x-wmapp")},_device:function(){return/Android|BlackBerry|iPhone|iPad|iPod|IEMobile|kindle|windows\sce|palm|smartphone|iemobile|mobile|pad|xoom|sch-i800|playbook/i.test(navigator.userAgent.toLowerCase())},isMobile:function(){return/iphone|ipod|android|blackberry|opera|mini|windows\sce|palm|smartphone|iemobile/i.test(navigator.userAgent.toLowerCase())&&/mobile/i.test(navigator.userAgent.toLowerCase())||!0===a.getBooleanVal(v("head"),"data-ej-mobile",!1)},isTablet:function(){return/ipad|xoom|sch-i800|playbook|tablet|kindle/i.test(navigator.userAgent.toLowerCase())||!0===a.getBooleanVal(v("head"),"data-ej-tablet",!1)||!a.isMobile()&&a.isDevice()},isTouchDevice:function(){return("ontouchstart"in window||window.navigator.msPointerEnabled&&a.isMobile())&&this.isDevice()},getClearString:function(T){return v.trim(T.replace(/\s+/g," ").replace(/(\r\n|\n|\r)/gm,"").replace(new RegExp(">[\n\t ]+<","g"),"><"))},getBooleanVal:function(T,D,L){var I=v(T).attr(D);return null!=I?"true"==I.toLowerCase():L},_getSkewClass:function(T,D,L){var I=T.width(),R=T.height(),V=T.offset().left,F=T.offset().left+I,A=T.offset().top,z=T.offset().top+R,N=.3*I,U=.3*R;return D<V+N&&L<A+U?"e-m-skew-topleft":D>F-N&&L<A+U?"e-m-skew-topright":D>F-N&&L>z-U?"e-m-skew-bottomright":D<V+N&&L>z-U?"e-m-skew-bottomleft":D>V+N&&L<A+U&&D<F-N?"e-m-skew-top":D<V+N?"e-m-skew-left":D>F-N?"e-m-skew-right":L>z-U?"e-m-skew-bottom":"e-m-skew-center"},_removeSkewClass:function(T){v(T).removeClass("e-m-skew-top e-m-skew-bottom e-m-skew-left e-m-skew-right e-m-skew-topleft e-m-skew-topright e-m-skew-bottomleft e-m-skew-bottomright e-m-skew-center e-skew-top e-skew-bottom e-skew-left e-skew-right e-skew-topleft e-skew-topright e-skew-bottomleft e-skew-bottomright e-skew-center")},_getObjectKeys:function(T){var D,L=[];if(T=Object.prototype.toString.call(T)===Object.prototype.toString()?T:{},!Object.keys){for(D in T)T.hasOwnProperty(D)&&L.push(D);return L}if(Object.keys)return Object.keys(T)},_touchStartPoints:function(T,D){if(T){var L=T.touches?T.touches[0]:T;D._distX=0,D._distY=0,D._moved=!1,D._pointX=L.pageX,D._pointY=L.pageY}},_isTouchMoved:function(T,D){if(T){var F,A,L=T.touches?T.touches[0]:T,I=L.pageX-D._pointX,R=L.pageY-D._pointY;return Date.now(),D._pointX=L.pageX,D._pointY=L.pageY,D._distX+=I,D._distY+=R,F=Math.abs(D._distX),A=Math.abs(D._distY),!(F<5&&A<5)}},listenEvents:function(T,D,L,I,R,V){for(var F=0;F<T.length;F++)a.listenTouchEvent(T[F],D[F],L[F],I,R,V)},listenTouchEvent:function(T,D,L,I,R,V){for(var F,A=I?"removeEventListener":"addEventListener",z=I?"off":"on",N=v(T),U=0;U<N.length;U++)switch(F=N[U],D){case"touchstart":a._bindEvent(F,A,D,L,"mousedown","MSPointerDown","pointerdown",V);break;case"touchmove":a._bindEvent(F,A,D,L,"mousemove","MSPointerMove","pointermove",V);break;case"touchend":a._bindEvent(F,A,D,L,"mouseup","MSPointerUp","pointerup",V);break;case"touchcancel":a._bindEvent(F,A,D,L,"mousecancel","MSPointerCancel","pointercancel",V);break;case"tap":case"taphold":case"ejtouchmove":case"click":v(F)[z](D,L);break;default:"msie"==a.browserInfo().name&&a.browserInfo().version<9?R._on(v(F),D,L):F[A](D,L,!0)}},_bindEvent:function(T,D,L,I,R,V,F){T[D](v.support.hasPointer?window.navigator.pointerEnabled?F:V:L,I,!0)},_browser:function(){return/webkit/i.test(navigator.appVersion)?"webkit":/firefox/i.test(navigator.userAgent)?"Moz":/trident/i.test(navigator.userAgent)?"ms":"opera"in window?"O":""},styles:document.createElement("div").style,userAgent:function(){for(var T="webkitT,t,MozT,msT,OT".split(","),L=0,I=T.length;L<I;L++)if(T[L]+"ransform"in a.styles)return T[L].substr(0,T[L].length-1);return!1},addPrefix:function(T){return""===a.userAgent()?T:(T=T.charAt(0).toUpperCase()+T.substr(1),a.userAgent()+T)},destroyWidgets:function(T){v(T).find("[data-role *= ejm]").each(function(L,I){var R=v(I),V=R.data("ejWidgets");V&&R[V]("destroy")})},getAttrVal:function(T,D,L){return v(T).attr(D)??L},getOffset:function(T){var I,D={},L=T.offset()||{left:0,top:0};return v.extend(!0,D,L),"static"!=v("body").css("position")&&(I=v("body").offset(),D.left-=I.left,D.top-=I.top),D},getZindexPartial:function(T,D){var L,I,R;if(!a.isNullOrUndefined(T)&&T.length>0)return L=T.parents(),I=v("body").children(),!a.isNullOrUndefined(T)&&T.length>0&&I.splice(I.index(D),1),v(I).each(function(V,F){L.push(F)}),!(R=Math.max.apply(R,v.map(L,function(V){if("static"!=v(V).css("position"))return parseInt(v(V).css("z-index"))||1})))||R<1e4?R=1e4:R+=1,R},isValidAttr:function(L,D){var I;return typeof(L=v(L)[0])[D]<"u"||(I=!1,v.each(L,function(R){if(R.toLowerCase()==D.toLowerCase())return I=!0,!1}),I)}},v.extend(a,a.util),a.widgetBase={droppables:{default:[]},resizables:{default:[]},_renderEjTemplate:function(T,D,L,I,R){var V=null;if(("object"==typeof T||T.startsWith("#")||T.startsWith("."))&&(V=v(T).attr("type")),V){if(V=V.toLowerCase(),a.template[V])return a.template[V](this,T,D,L,I)}else if(!a.isNullOrUndefined(R))return a.template["text/x-"+R](this,T,D,L,I);return a.template.render(this,T,D,L,I)},destroy:function(){var T,D,L,I;if(!this._trigger("destroy")){this.model.enablePersistence&&(this.persistState(),v(window).off("unload",this._persistHandler));try{this._destroy()}catch{}for(T=this.element.data("ejWidgets")||[],I=0;I<T.length;I++)T[I]==this.pluginName&&T.splice(I,1);for(T.length||this.element.removeData("ejWidgets");this._events&&(L=[],D=this._events.pop());){for(I=0;I<D[1].length;I++)v.isPlainObject(D[1][I])||L.push(D[1][I]);v.fn.off.apply(D[0],L)}this._events=null,this.element.removeClass(a.util.getNameSpace(this.sfType)).removeClass("e-js").removeData(this.pluginName),this.element=null,this.model=null}},_on:function(T){this._events||(this._events=[]);for(var D=[].splice.call(arguments,1,arguments.length-1),L={},I=D.length;L&&"function"!=typeof L;)L=D[--I];return D[I]=a.proxy(D[I],this),this._events.push([T,D,L,D[I]]),v.fn.on.apply(T,D),this},_off:function(T,D,L,I){var V,F,A,z,R=this._events;if(!R||!R.length)return this;for("function"==typeof L&&(V=I,I=L,L=V),F=D.match(/\S+/g)||[""],A=0;A<R.length;A++)if((z=R[A])[0].length&&(!I||z[2]===I)&&(z[1][0]===D||F[0])&&(!L||z[1][1]===L)&&v.inArray(T[0],z[0])>-1){v.fn.off.apply(T,I?[D,L,z[3]]:[D,L]),R.splice(A,1);break}return this},_trigger:function(T,D){var I,R,F,L=null,V={};return v.extend(V,D),T in this.model&&(L=this.model[T]),L&&("string"==typeof L&&(L=a.util.getObject(L,window)),v.isFunction(L)&&(R=a.event(T,this.model,D),I=L.call(this,R),D&&v.extend(D,R),R.cancel||!a.isNullOrUndefined(I)))?!1===I||R.cancel:(F=!!D,(D=D||{}).originalEventType=T,D.type=this.pluginName+T,R=v.Event(D.type,a.event(D.type,this.model,D)),this.element&&this.element.trigger(R),F&&v.extend(D,R),a.isOnWebForms&&0==R.cancel&&this.model.serverEvents&&this.model.serverEvents.length&&a.raiseWebFormsServerEvents(T,D,V),R.cancel)},setModel:function(T,D){var L,I,R,V;if(!this._trigger("modelChange",{changes:T})){for(L in T){if(!D){if(this.model[L]===T[L]){delete T[L];continue}if(v.isPlainObject(T[L])&&(h(this.model[L],T[L]),v.isEmptyObject(T[L]))){delete T[L];continue}}if(this.dataTypes&&!0!==(I=this._isValidModelValue(L,this.dataTypes,T)))throw"setModel - Invalid input for property :"+L+" - "+I;this.model.notifyOnEachPropertyChanges&&this.model[L]!==T[L]&&(T[L]=this._trigger(L+"Change",R={oldValue:this.model[L],newValue:T[L]})?this.model[L]:R.newValue)}v.isEmptyObject(T)||(this._setFirst?((V=T.dataSource)&&delete T.dataSource,v.extend(!0,this.model,T),V&&(this.model.dataSource=V instanceof Array?V.slice():V,T.dataSource=this.model.dataSource),this._setModel&&this._setModel(T)):this._setModel&&!1===this._setModel(T)||v.extend(!0,this.model,T),"enablePersistence"in T&&this._setState(T.enablePersistence))}},option:function(T,D,L){if(!T)return this.model;if(v.isPlainObject(T))return this.setModel(T,L);if("string"==typeof T){T=T.replace(/^model\./,"");var I=a.getObject(T,this.model);if(D===s&&!L)return I;if("enablePersistence"===T)return this._setState(D);if(L&&D===a.extensions.modelGUID)return this._setModel(a.createObject(T,a.getObject(T,this.model),{}));if(L||a.getObject(T,this.model)!==D)return this.setModel(a.createObject(T,D,{}),L)}return s},_isValidModelValue:function(T,D,L){var V,F,A,I=D[T],R=L[T];if(!I)return!0;if("string"==typeof I){if("enum"==I&&(L[T]=R&&R.toString().toLowerCase(),I="string"),"array"===I){if("[object Array]"===Object.prototype.toString.call(R))return!0}else if("data"===I||"parent"===I||typeof R===I)return!0;return"Expected type - "+I}if(R instanceof Array){for(F=0;F<R.length;F++)if(!0!==(V=this._isValidModelValue(T,D,R[F])))return" ["+F+"] - "+V;return!0}for(A in R)if(!0!==(V=this._isValidModelValue(A,I,R)))return A+" : "+V;return!0},_returnFn:function(T,D){-1!=D.indexOf(".")?this._returnFn(T[D.split(".")[0]],D.split(".").slice(1).join(".")):T[D]=T[D].call(T.propName)},_removeCircularRef:function(T){var L=[];return function D(I,R,V){if("object"!=typeof I);else{if(Array.prototype.indexOf||(Array.prototype.indexOf=function(A){return jQuery.inArray(A,this)}),L.indexOf(I)>=0)return void delete V[R];for(var F in L.push(I),I)I.hasOwnProperty(F)&&D(I[F],F,I);L.pop()}}(T,"obj",null),T},stringify:function(T,D){for(var L,I=this.observables,R=0;R<I.length;R++)L=a.getObject(I[R],T),a.isNullOrUndefined(L)||"function"!=typeof L||this._returnFn(T,I[R]);return D&&(T=this._removeCircularRef(T)),JSON.stringify(T)},_setState:function(T){!0===T?(this._persistHandler=a.proxy(this.persistState,this),v(window).on("unload",this._persistHandler)):(this.deleteState(),v(window).off("unload",this._persistHandler))},_removeProp:function(T,D){a.isNullOrUndefined(T)||(-1!=D.indexOf(".")?this._removeProp(T[D.split(".")[0]],D.split(".").slice(1).join(".")):delete T[D])},persistState:function(){var T,D;if(this._ignoreOnPersist){for(T=p({},this.model),D=0;D<this._ignoreOnPersist.length;D++)this._removeProp(T,this._ignoreOnPersist[D]);T.ignoreOnPersist=this._ignoreOnPersist}else if(this._addToPersist){for(T={},D=0;D<this._addToPersist.length;D++)a.createObject(this._addToPersist[D],a.getObject(this._addToPersist[D],this.model),T);T.addToPersist=this._addToPersist}else T=p({},this.model);this._persistState&&(T.customPersists={},this._persistState(T.customPersists)),window.localStorage?(a.isNullOrUndefined(a.persistStateVersion)||null!=window.localStorage.getItem("persistKey")||window.localStorage.setItem("persistKey",a.persistStateVersion),window.localStorage.setItem("$ej$"+this.pluginName+this._id,JSON.stringify(T))):document.cookie&&(a.isNullOrUndefined(a.persistStateVersion)||null!=a.cookie.get("persistKey")||a.cookie.set("persistKey",a.persistStateVersion),a.cookie.set("$ej$"+this.pluginName+this._id,T))},deleteState:function(){window.localStorage?window.localStorage.removeItem("$ej$"+this.pluginName+this._id):document.cookie&&a.cookie.set("$ej$"+this.pluginName+this._id,undefined,new Date)},restoreState:function(T){var L,I,R,D=null;if(window.localStorage?D=window.localStorage.getItem("$ej$"+this.pluginName+this._id):document.cookie&&(D=a.cookie.get("$ej$"+this.pluginName+this._id)),D&&(L=JSON.parse(D),this._restoreState&&(this._restoreState(L.customPersists),delete L.customPersists),!1===a.isNullOrUndefined(L)&&(a.isNullOrUndefined(L.ignoreOnPersist)?a.isNullOrUndefined(L.addToPersist)||(this._addToPersist=L.addToPersist,delete L.addToPersist):(this._ignoreOnPersist=L.ignoreOnPersist,delete L.ignoreOnPersist))),a.isNullOrUndefined(L)||a.isNullOrUndefined(this._ignoreOnPersist))this.model=v.extend(!0,this.model,L);else{for(I=0,R=this._ignoreOnPersist.length;I<R;I++)-1!==this._ignoreOnPersist[I].indexOf(".")?a.createObject(this._ignoreOnPersist[I],a.getObject(this._ignoreOnPersist[I],this.model),L):L[this._ignoreOnPersist[I]]=this.model[this._ignoreOnPersist[I]];this.model=L}!T&&D&&this._setModel&&this._setModel(this.model)},ignoreOnPersist:function(T){var L,I,D=[];if("object"==typeof T?D=T:"string"==typeof T&&D.push(T),this._addToPersist===s)for(this._ignoreOnPersist=this._ignoreOnPersist||[],L=0;L<D.length;L++)this._ignoreOnPersist.push(D[L]);else for(L=0;L<D.length;L++)I=this._addToPersist.indexOf(D[L]),this._addToPersist.splice(I,1)},addToPersist:function(T){var L,I,D=[];if("object"==typeof T?D=T:"string"==typeof T&&D.push(T),this._addToPersist===s)for(this._ignoreOnPersist=this._ignoreOnPersist||[],I=0;I<D.length;I++)L=this._ignoreOnPersist.indexOf(D[I]),this._ignoreOnPersist.splice(L,1);else for(I=0;I<D.length;I++)-1===v.inArray(D[I],this._addToPersist)&&this._addToPersist.push(D[I])},formatting:function(T,D,L){var I,R,V,F,A,N,U,J;if(T=T.replace(/%280/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">"),L=a.preferredCulture(L)?L:"en-US",I=T,R=T.split("{0:"),A=T.split("}"),V=R[0],F=A[1],"string"==typeof D&&v.isNumeric(D)&&(D=Number(D)),-1!=T.indexOf("{0:"))return null!=(N=new RegExp("\\{0(:([^\\}]+))?\\}","gm").exec(T))&&null!=D?null!=V&&null!=F?V+a.format(D,N[2],L)+F:a.format(D,N[2],L):D??"";if(I.startsWith("{")&&!I.startsWith("{0:")){var Q=I.split(""),oe=(D=(D||"")+"").split(""),ue=/[0aA\*CN<>\?]/gm;for(U=0,J=0;U<Q.length;U++)Q[U]=ue.test(Q[U])?"{"+J+++"}":Q[U];return String.format.apply(String,[Q.join("")].concat(oe)).replace("{","").replace("}","")}return null!=this.data&&null==this.data.Value?(v.each(this.data,function(le,ne){I=I.replace(new RegExp("\\{"+le+"\\}","gm"),ne)}),I):this.data.Value}},a.WidgetBase=function(){},h=function(T,D){var L,I,R;if(T instanceof Array)for(L=0,I=T.length;L<I;L++)(R=T[L])===D[R]&&delete D[R],v.isPlainObject(D[R])&&v.isPlainObject(R)&&h(R,D[R]);else for(R in T)T[R]===D[R]&&delete D[R],v.isPlainObject(D[R])&&v.isPlainObject(T[R])&&h(T[R],D[R])},a.widget=function(T,D,L){var I,R,V;if("object"!=typeof T)V=L._rootCSS||a.getNameSpace(D),L=a.defineClass(D,function(F,A){var z,N,U,J,Q,le,ne,he,se,ee;if(this.sfType=D,this.pluginName=T,this.instance=g,a.isNullOrUndefined(this._setFirst)&&(this._setFirst=!0),this["ob.values"]={},v.extend(this,a.widgetBase),this.dataTypes)for(z in A)if(!0!==(N=this._isValidModelValue(z,this.dataTypes,A)))throw"setModel - Invalid input for property :"+z+" - "+N;for((U=F.data("ejWidgets")||[]).push(T),F.data("ejWidgets",U),Q=0;a.widget.observables&&this.observables&&Q<this.observables.length;Q++)(J=a.getObject(this.observables[Q],A))&&a.createObject(this.observables[Q],a.widget.observables.register(J,this.observables[Q],this,F),A);if(this.element=F.jquery?F:v(F),this.model=p(!0,{},L.prototype.defaults,A),this.model.keyConfigs=p(this.keyConfigs),this.element.addClass(V+" e-js").data(T,this),this._id=F[0].id,this.model.enablePersistence){if(window.localStorage&&!a.isNullOrUndefined(a.persistStateVersion)&&window.localStorage.getItem("persistKey")!=a.persistStateVersion)for(Q in window.localStorage)-1!=Q.indexOf("$ej$")&&(window.localStorage.removeItem(Q),window.localStorage.setItem("persistKey",a.persistStateVersion));else if(document.cookie&&!a.isNullOrUndefined(a.persistStateVersion)&&a.cookie.get("persistKey")!=a.persistStateVersion)for(le in document.cookie.split(/; */))-1!=le.indexOf("$ej$")&&(a.cookie.set(le.split("=")[0],undefined,new Date),a.cookie.set("persistKey",a.persistStateVersion));this._persistHandler=a.proxy(this.persistState,this),v(window).on("unload",this._persistHandler),this.restoreState(!0)}if(this._init(A),"object"==typeof this.model.keyConfigs&&!(this.model.keyConfigs instanceof Array)){for(he in ne=!1,this.model.keyConfigs.focus&&this.element.attr("accesskey",this.model.keyConfigs.focus),this.model.keyConfigs)if("focus"!==he){ne=!0;break}ne&&this._keyPressed&&(se=F,ee="keydown",this.keySettings&&(se=this.keySettings.getElement&&this.keySettings.getElement()||se,ee=this.keySettings.event||ee),this._on(se,ee,function(re){if(this.model.keyConfigs){var W=t.getActionFromCode(this.model.keyConfigs,re.which,re.ctrlKey,re.shiftKey,re.altKey);W&&!1===this._keyPressed(W,re.target,{code:re.which,ctrl:re.ctrlKey,alt:re.altKey,shift:re.shiftKey},re)&&re.preventDefault()}}))}this._trigger("create")},L),v.fn[T]=function(F){for(var A,N,z=F,U=0;U<this.length;U++){var J=v(this[U]),Q=J.data(T),oe=Q&&J.hasClass(V),ue=null;if(this.length>0&&v.isPlainObject(z)&&(F=a.copyObject({},z)),oe){if(F)if(N=[].slice.call(arguments,1),this.length>0&&N[0]&&"option"===z&&v.isPlainObject(N[0])&&(N[0]=a.copyObject({},N[0])),v.isPlainObject(F))Q.setModel(F);else if(0!==F.indexOf("_")&&!a.isNullOrUndefined(ue=a.getObject(F,Q))||0===F.indexOf("model.")){if(!ue||!v.isFunction(ue)){if(1==arguments.length)return ue;Q.option(F,arguments[1]);continue}if((A=ue.apply(Q,N))!==s)return A}else l(D+": function/property - "+F+" does not exist")}else!0!==L.prototype._requiresID||v(this[U]).attr("id")||J.attr("id",C("ejControl_")),F&&"object"!=typeof F?l(T+": methods/properties can be accessed only after plugin creation"):(L.prototype.defaults&&!a.isNullOrUndefined(a.setCulture)&&"locale"in L.prototype.defaults&&"ejChart"!=T&&(!F||"locale"in F?a.isNullOrUndefined(F)&&((F={}).locale=a.setCulture().name):F.locale=a.setCulture().name),new L(J,F))}return-1!=T.indexOf("ejm")&&a.widget.registerInstance(J,T,D,L.prototype),this},a.widget.register(T,D,L.prototype),a.loadLocale(T);else for(I in L=D,T)(R=T[I])instanceof Array&&(L._rootCSS=R[1],R=R[0]),a.widget(I,R,L),T[I]instanceof Array&&(L._rootCSS="")},a.loadLocale=function(T){for(var D=a.locales,L=0,I=D.length;L<I;L++)v.fn["Locale_"+D[L]](T)},v.extend(a.widget,{register:function(R,V,F){a.isNullOrUndefined(T[R])||l("ej.widget : The widget named "+R+" is trying to register twice."),T[R]={name:R,className:V,proto:F},a.widget.extensions&&a.widget.extensions.registerWidget(R)},registerInstance:function(R,V,F,A){D.push({element:R,pluginName:V,className:F,proto:A})},registeredWidgets:T={},registeredInstances:D=[]}),a.widget.destroyAll=function(T){var D,L,I,R;if(T&&T.length)for(D=0;D<T.length;D++)if((I=(L=T.eq(D).data()).ejWidgets)&&I.length)for(R=0;R<I.length;R++)L[I[R]]&&L[I[R]].destroy&&L[I[R]].destroy()},a.cookie={get:function(T){var D=RegExp(T+"=([^;]+)").exec(document.cookie);return D&&D.length>1?D[1]:s},set:function(T,D,L){"object"==typeof D&&(D=JSON.stringify(D)),D=escape(D)+(null==L?"":"; expires="+L.toUTCString()),document.cookie=T+"="+D}},t={getActionFromCode:function(T,D,L,I,R){var V,F,A;for(V in L=L||!1,I=I||!1,R=R||!1,T)if("focus"!==V)for(F=t.getKeyObject(T[V]),A=0;A<F.length;A++)if(D===F[A].code&&L==F[A].isCtrl&&I==F[A].isShift&&R==F[A].isAlt)return V;return null},getKeyObject:function(T){for(var D,L,I,R={isCtrl:!1,isShift:!1,isAlt:!1},V=v.extend(!0,{},R),F=T.split(","),A=[],z=0;z<F.length;z++){if(D=null,-1!=F[z].indexOf("+"))for(L=F[z].split("+"),I=0;I<L.length;I++)D=t.getResult(v.trim(L[I]),R);else D=t.getResult(v.trim(F[z]),v.extend(!0,{},V));A.push(D)}return A},getResult:function(T,D){return"ctrl"===T?D.isCtrl=!0:"shift"===T?D.isShift=!0:"alt"===T?D.isAlt=!0:D.code=parseInt(T,10),D}},a.getScrollableParents=function(T){return v(T).parentsUntil("html").filter(function(){return"visible"!=v(this).css("overflow")}).add(v(window))},a.browserInfo=function(){var I,R,V,F,T={},D=[],L={opera:/(opera|opr)(?:.*version|)[ \/]([\w.]+)/i,edge:/(edge)(?:.*version|)[ \/]([\w.]+)/i,webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,msie:/(msie|trident) ([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};for(I in L)if(L.hasOwnProperty(I)&&(D=navigator.userAgent.match(L[I]))){if(T.name="opr"==D[1].toLowerCase()?"opera":D[1].toLowerCase(),T.version=D[2],T.culture={},T.culture.name=T.culture.language=navigator.language||navigator.userLanguage,typeof a.globalize<"u"){for(R=a.preferredCulture().name,V=navigator.language||navigator.userLanguage?a.preferredCulture(navigator.language||navigator.userLanguage):a.preferredCulture("en-US"),F=0;navigator.languages&&F<navigator.languages.length&&(V=a.preferredCulture(navigator.languages[F])).language!=navigator.languages[F];F++);a.preferredCulture(R),v.extend(!0,T.culture,V)}!navigator.userAgent.match(/Trident\/7\./)||(T.name="msie");break}return T.isMSPointerEnabled="msie"==T.name&&T.version>9&&window.navigator.msPointerEnabled,T.pointerEnabled=window.navigator.pointerEnabled,T},a.eventType={mouseDown:"mousedown touchstart",mouseMove:"mousemove touchmove",mouseUp:"mouseup touchend",mouseLeave:"mouseleave touchcancel",click:"click touchend"},a.event=function(T,D,L){return v.extend(L||{},{type:T,model:D,cancel:!1})},a.proxy=function(T,D,L){return T&&"function"==typeof T?"on"in T&&D?L?T.on(D,L):T.on(D):function(){var I=L?[L]:[];return I.push.apply(I,arguments),T.apply(D||this,I)}:null},a.hasStyle=function(T){var L,I,D=document.documentElement.style;if(T in D)return!0;for(L=["ms","Moz","Webkit","O","Khtml"],T=T[0].toUpperCase()+T.slice(1),I=0;I<L.length;I++)if(L[I]+T in D)return!0;return!1},Array.prototype.indexOf=Array.prototype.indexOf||function(T){var L,D=this.length;if(0===D)return-1;for(L=0;L<D;L++)if(L in this&&this[L]===T)return L;return-1},String.prototype.startsWith=String.prototype.startsWith||function(T){return this.slice(0,T.length)===T};var p=a.copyObject=function(T,D){var I,R,V,F,A,z,L=2;for("boolean"!=typeof T&&(L=1),V=[].slice.call(arguments,L),1===L&&(D=T,T=s),F=0;F<V.length;F++)for(A in V[F])if(I=D[A],(R=V[F][A])!==s&&I!==R&&V[F]!==R&&D!==R)if(R instanceof Array)if(0===F&&T)if("dataSource"===A||"data"===A||"predicates"===A)D[A]=R.slice();else for(D[A]=[],z=0;z<R.length;z++)p(!0,D[A],R);else D[A]=R.slice();else a.isPlainObject(R)?(D[A]=I||{},T?p(T,D[A],R):p(D[A],R)):D[A]=R;return D},g=function(){return this},b=0,C=function(T){return T+b++};a.template={},a.template.render=a.template["text/x-jsrender"]=function(T,D,L,I,R){"#"!==D.slice(0,1)&&(D=["<div>",D,"</div>"].join(""));var V={prop:R,index:I};return v(D).render(L,V)},a.isPlainObject=function(T){if(!T||a.DataManager!==s&&T instanceof a.DataManager||"object"!=typeof T||T.nodeType||jQuery.isWindow(T))return!1;try{if(T.constructor&&!T.constructor.prototype.hasOwnProperty("isPrototypeOf"))return!1}catch{return!1}var D,L=a.support.isOwnLast;for(D in T)if(L)break;return D===s||T.hasOwnProperty(D)},o=!1,a.util.valueFunction=function(T){return function(D,L){var I=a.getObject(T,this.model);if(!1===o&&(o=a.getObject("observables.getValue",a.widget)),D===s)return a.isNullOrUndefined(o)?"function"==typeof I?I.call(this):I:o(I,L);"function"==typeof I?(this["ob.values"][T]=D,I.call(this,D)):a.createObject(T,D,this.model)}},a.util.getVal=function(T){return"function"==typeof T?T():T},a.support={isOwnLast:function(){var D,T=function(){this.a=1};for(D in T.prototype.b=1,new T)return"b"===D}(),outerHTML:document.createElement("div").outerHTML!==s},l=a.throwError=function(T){try{throw new Error(T)}catch(D){throw D.message+"\n"+D.stack}},a.getRandomValue=function(T,D){var L,I;return T===s||D===s?a.throwError("Min and Max values are required for generating a random number"):("crypto"in window&&"getRandomValues"in crypto?(I=new Uint16Array(1),window.crypto.getRandomValues(I),L=I[0]%(D-T)+T):L=Math.random()*(D-T)+T,0|L)},a.extensions={},a.extensions.modelGUID="{0B1051BA-1CCB-42C2-A3B5-635389B92A50}"}(window.jQuery,window.Syncfusion),function(){$.fn.addEleAttrs=function(a){var s=$(this);$.each(a,function(h,t){t&&t.specified&&s.attr(t.name,t.value)})},$.fn.removeEleAttrs=function(a){return this.each(function(){var s=$(this),h=$(this.attributes).clone();$.each(h,function(t,o){o&&o.specified&&a.test(o.name)&&s.removeAttr(o.name)})})},$.fn.attrNotStartsWith=function(a){var t,o,h=[];for(this.each(function(){t=$(this.attributes).clone()}),o=0;o<t.length;o++)t[o]&&t[o].specified&&a.test(t[o].name)||h.push(t[o]);return h},$.fn.removeEleEmptyAttrs=function(){return this.each(function(){var a=$(this),s=$(this.attributes).clone();$.each(s,function(h,t){t&&t.specified&&""===t.value&&a.removeAttr(t.name)})})},$.extend($.support,{has3d:ej.addPrefix("perspective")in ej.styles,hasTouch:"ontouchstart"in window,hasPointer:navigator.msPointerEnabled,hasTransform:!1!==ej.userAgent(),pushstate:"pushState"in history&&"replaceState"in history,hasTransition:ej.addPrefix("transition")in ej.styles}),$.extend($.expr[":"],{attrNotStartsWith:function(a,s,h){for(var t=a.attributes,o=0;o<t.length;o++)if(0===t[o].nodeName.indexOf(h[3]))return!1;return!0}});var v=$.fn.andSelf||$.fn.addBack;$.fn.andSelf=$.fn.addBack=function(){return v.apply(this,arguments)}}(),window.ej=window.Syncfusion=window.Syncfusion||{},function(v,a,s,h){"use strict";var t,o,l,p,g,b,C,T,D;a.DataManager=function(O,B,H){if(!(this instanceof a.DataManager))return new a.DataManager(O,B,H);O||(O=[]),"string"==typeof(H=H||O.adaptor)&&(H=new a[H]);var Z=[],te=this;return O instanceof Array?Z={json:O,offline:!0}:"object"==typeof O?v.isPlainObject(O)?(O.json||(O.json=[]),O.table&&(O.json=this._getJsonFromElement(O.table,O.headerOption)),Z={url:O.url,insertUrl:O.insertUrl,removeUrl:O.removeUrl,updateUrl:O.updateUrl,crudUrl:O.crudUrl,batchUrl:O.batchUrl,json:O.json,headers:O.headers,accept:O.accept,data:O.data,async:O.async,timeTillExpiration:O.timeTillExpiration,cachingPageSize:O.cachingPageSize,enableCaching:O.enableCaching,requestType:O.requestType,key:O.key,crossDomain:O.crossDomain,antiForgery:O.antiForgery,jsonp:O.jsonp,dataType:O.dataType,enableAjaxCache:O.enableAjaxCache,offline:O.offline!==h?O.offline:!("remoteSaveAdaptor"==O.adaptor||O.adaptor instanceof a.remoteSaveAdaptor||O.url),requiresFormat:O.requiresFormat}):(O.jquery||re(O))&&(Z={json:this._getJsonFromElement(O),offline:!0,table:O}):"string"==typeof O&&(Z={url:O,offline:!1,dataType:"json",json:[]}),Z.requiresFormat!==h||a.support.cors||(Z.requiresFormat=!!T(Z.crossDomain)||Z.crossDomain),Z.antiForgery&&this.antiForgeryToken(),Z.dataType===h&&(Z.dataType="json"),this.dataSource=Z,this.defaultQuery=B,Z.url&&Z.offline&&!Z.json.length?(this.isDataAvailable=!1,this.adaptor=H||new a.ODataAdaptor,this.dataSource.offline=!1,this.ready=this.executeQuery(B||a.Query()).done(function(ae){te.dataSource.offline=!0,te.isDataAvailable=!0,Z.json=ae.result,te.adaptor=new a.JsonAdaptor})):this.adaptor=Z.offline?new a.JsonAdaptor:new a.ODataAdaptor,!Z.jsonp&&this.adaptor instanceof a.ODataAdaptor&&(Z.jsonp="callback"),this.adaptor=H||this.adaptor,Z.enableCaching&&(this.adaptor=new a.CacheAdaptor(this.adaptor,Z.timeTillExpiration,Z.cachingPageSize)),this},a.DataManager.prototype={setDefaultQuery:function(O){this.defaultQuery=O},executeQuery:function(O,B,H,Z){var te,ae,de;return"function"==typeof O&&(Z=H,H=B,B=O,O=null),O||(O=this.defaultQuery),O instanceof a.Query||D("DataManager - executeQuery() : A query is required to execute"),(te=v.Deferred()).then(B,H,Z),ae={query:O},this.dataSource.offline||this.dataSource.url==h?a.isNullOrUndefined(this.dataSource.async)||0!=this.dataSource.async?g(function(){this._localQueryProcess(O,ae,te)},this):this._localQueryProcess(O,ae,te):(de=this.adaptor.processQuery(this,O),a.isNullOrUndefined(de.url)?g(function(){ae=this._getDeferedArgs(O,de,ae),te.resolveWith(this,[ae])},this):this._makeRequest(de,te,ae,O)),te.promise()},_localQueryProcess:function(O,B,H){var Z=this.executeLocal(O);B=this._getDeferedArgs(O,Z,B),H.resolveWith(this,[B])},_getDeferedArgs:function(O,B,H){return O._requiresCount?(H.result=B.result,H.count=B.count):H.result=B,H.getTableModel=pe(O._fromTable,H.result,this),H.getKnockoutModel=M(H.result),H},executeLocal:function(O){var B,H;if(this.defaultQuery||O instanceof a.Query||D("DataManager - executeLocal() : A query is required to execute"),this.dataSource.json||D("DataManager - executeLocal() : Json data is required to execute"),B=this.adaptor.processQuery(this,O=O||this.defaultQuery),O._subQuery){var Z=O._subQuery._fromTable,te=O._subQuery._lookup,ae=O._requiresCount?B.result:B;for(te&&te instanceof Array&&L(O._subQuery._fKey,Z,ae,te,O._subQuery._key),H=0;H<ae.length;H++)ae[H][Z]instanceof Array&&(ae[H]=v.extend({},ae[H]),ae[H][Z]=this.adaptor.processResponse(O._subQuery.using(a.DataManager(ae[H][Z].slice(0))).executeLocal(),this,O))}return this.adaptor.processResponse(B,this,O)},_makeRequest:function(O,B,H,Z){var Ce,te=!!Z._subQuerySelector,ae=C(function(Pe){H.error=Pe,B.rejectWith(this,[H])},this),de=C(function(Pe,ke,Ne,Le,je,Ae,Oe){te||(H.xhr=Ne,H.count=parseInt(ke,10),H.result=Pe,H.request=Le,H.aggregates=Ae,H.getTableModel=pe(Z._fromTable,Pe,this),H.getKnockoutModel=M(Pe),H.actual=je,H.virtualSelectRecords=Oe,B.resolveWith(this,[H]))},this),_e=C(function(Pe,ke){var je,Ae,Ne=v.Deferred(),Le={parent:H};return Z._subQuery._isChild=!0,je=this.adaptor.processQuery(this,Z._subQuery,Pe?this.adaptor.processResponse(Pe):ke),Ae=this._makeRequest(je,Ne,Le,Z._subQuery),te||Ne.then(function(Oe){Pe&&(L(Z._subQuery._fKey,Z._subQuery._fromTable,Pe,Oe,Z._subQuery._key),de(Pe))},ae),Ae},this),Se=b(function(Pe,ke,Ne,Le){-1==Ne.getResponseHeader("Content-Type").indexOf("xml")&&a.dateParse&&(Pe=a.parseJSON(Pe));var je=this.adaptor.processResponse(Pe,this,Z,Ne,Le),Ae=0,Oe=null,Fe=Pe.virtualSelectRecords;Z._requiresCount&&(Ae=je.count,Oe=je.aggregates,je=je.result),Z._subQuery?te||_e(je):de(je,Ae,Ne,Le,Pe,Oe,Fe)},this),be=v.extend({type:"GET",dataType:this.dataSource.dataType,crossDomain:this.dataSource.crossDomain,jsonp:this.dataSource.jsonp,cache:!!a.isNullOrUndefined(this.dataSource.enableAjaxCache)||this.dataSource.enableAjaxCache,beforeSend:C(this._beforeSend,this),processData:!1,success:Se,error:ae},O);return"async"in this.dataSource&&(be.async=this.dataSource.async),be=v.ajax(be),te&&((Ce=Z._subQuerySelector.call(this,{query:Z._subQuery,parent:Z}))&&Ce.length?(be=v.when(be,_e(null,Ce))).then(b(function(Pe,ke,Ne){var Ae,Le=this.adaptor.processResponse(Pe[0],this,Z,Pe[2],Ne[0]),je=0;Z._requiresCount&&(je=Le.count,Le=Le.result),Ae=this.adaptor.processResponse(ke[0],this,Z._subQuery,ke[2],Ne[1]),je=0,Z._subQuery._requiresCount&&(je=Ae.count,Ae=Ae.result),L(Z._subQuery._fKey,Z._subQuery._fromTable,Le,Ae,Z._subQuery._key),te=!1,de(Le,je,Pe[2])},this),ae):te=!1),be},_beforeSend:function(O,B){var H,Z,te,ae;for(this.adaptor.beforeSend(this,O,B),H=this.dataSource.headers,te=0;H&&te<H.length;te++)for(ae in Z=[],H[te])Z.push(ae),O.setRequestHeader(ae,H[te][ae])},saveChanges:function(O,B,H,Z){var ae,de;return H instanceof a.Query&&(Z=H,H=null),ae=this.adaptor.batchRequest(this,O,{url:H,key:B||this.dataSource.key},Z),this.dataSource.offline?ae:(de=v.Deferred(),v.ajax(v.extend({beforeSend:C(this._beforeSend,this),success:b(function(_e,Se,be,Ce){de.resolveWith(this,[this.adaptor.processResponse(_e,this,null,be,Ce,O,B)])},this),error:function(_e){de.rejectWith(this,[{error:_e}])}},ae)),de.promise())},insert:function(O,B,H){var Z,te;return O=R.replacer(O,!0),B instanceof a.Query&&(H=B,B=null),Z=this.adaptor.insert(this,O,B,H),this.dataSource.offline?Z:(te=v.Deferred(),v.ajax(v.extend({type:"POST",contentType:"application/json; charset=utf-8",processData:!1,beforeSend:C(this._beforeSend,this),success:b(function(ae,de,_e,Se){try{a.isNullOrUndefined(ae)?ae=[]:R.parseJson(ae)}catch{ae=[]}ae=this.adaptor.processResponse(R.parseJson(ae),this,null,_e,Se),te.resolveWith(this,[{record:ae,dataManager:this}])},this),error:function(ae){te.rejectWith(this,[{error:ae,dataManager:this}])}},Z)),te.promise())},antiForgeryToken:function(){return a.isNullOrUndefined(v("input[name='_ejRequestVerifyToken']").val())?a.buildTag("input","","",{type:"hidden",name:"_ejRequestVerifyToken",value:a.getGuid()}).appendTo("body"):v("input[name='_ejRequestVerifyToken']").val(a.getGuid()),a.cookie.set("_ejRequestVerifyToken",v("input[name='_ejRequestVerifyToken']").val()),{name:"_ejRequestVerifyToken",value:v("input[name='_ejRequestVerifyToken']").val()}},remove:function(O,B,H,Z){var te,ae;return"object"==typeof B&&(B=B[O]),H instanceof a.Query&&(Z=H,H=null),te=this.adaptor.remove(this,O,B,H,Z),this.dataSource.offline?te:(ae=v.Deferred(),v.ajax(v.extend({type:"POST",contentType:"application/json; charset=utf-8",beforeSend:C(this._beforeSend,this),success:b(function(de,_e,Se,be){try{a.isNullOrUndefined(de)?de=[]:R.parseJson(de)}catch{de=[]}de=this.adaptor.processResponse(R.parseJson(de),this,null,Se,be),ae.resolveWith(this,[{record:de,dataManager:this}])},this),error:function(de){ae.rejectWith(this,[{error:de,dataManager:this}])}},te)),ae.promise())},update:function(O,B,H,Z){var te,ae;return B=R.replacer(B,!0),H instanceof a.Query&&(Z=H,H=null),te=this.adaptor.update(this,O,B,H,Z),this.dataSource.offline?te:(ae=v.Deferred(),v.ajax(v.extend({contentType:"application/json; charset=utf-8",beforeSend:C(this._beforeSend,this),success:b(function(de,_e,Se,be){try{a.isNullOrUndefined(de)?de=[]:R.parseJson(de)}catch{de=[]}de=this.adaptor.processResponse(R.parseJson(de),this,null,Se,be),ae.resolveWith(this,[{record:de,dataManager:this}])},this),error:function(de){ae.rejectWith(this,[{error:de,dataManager:this}])}},te)),ae.promise())},_getJsonFromElement:function(O){"string"==typeof O&&(O=v(v(O).html()));var B=(O=O.jquery?O[0]:O).tagName.toLowerCase();return"table"!==B&&D("ej.DataManager : Unsupported htmlElement : "+B),a.parseTable(O)}};var L=function(O,B,H,Z,te){var ae,Se,de={};for(Z.result&&(Z=Z.result),Z.GROUPGUID&&D("ej.DataManager: Do not have support Grouping in hierarchy"),ae=0;ae<Z.length;ae++)(de[Se=a.getObject(O,Z[ae])]||(de[Se]=[])).push(Z[ae]);for(ae=0;ae<H.length;ae++)H[ae][B]=de[a.getObject(te||O,H[ae])]},I_accept="application/json;odata=light;q=1,application/json;odata=verbose;q=0.5",I_multipartAccept="multipart/mixed",I_changeSet="--changeset_",I_batchPre="batch_",I_changeSetContent="Content-Type: application/http\nContent-Transfer-Encoding: binary ",I_batchChangeSetContentType="Content-Type: application/json; charset=utf-8 ",R={parseJson:function(O){var B=typeof O;return"string"===B?O=JSON.parse(O,R.jsonReviver):O instanceof Array?R.iterateAndReviveArray(O):"object"===B&&R.iterateAndReviveJson(O),O},iterateAndReviveArray:function(O){for(var B=0;B<O.length;B++)"object"==typeof O[B]?R.iterateAndReviveJson(O[B]):O[B]="string"!=typeof O[B]||/^[\s]*\[|^[\s]*\{|\"/g.test(O[B])?R.parseJson(O[B]):R.jsonReviver("",O[B])},iterateAndReviveJson:function(O){var B;for(var H in O)H.startsWith("__")||("object"==typeof(B=O[H])?B instanceof Array?R.iterateAndReviveArray(B):R.iterateAndReviveJson(B):O[H]=R.jsonReviver(H,B))},jsonReviver:function(O,B){var te,ae,H=B,Z=/[\-,/,\,.,:,]+/;if("string"==typeof B){if(te=/^\/Date\(([+-]?[0-9]+)([+-][0-9]{4})?\)\/$/.exec(B))return a.parseDateInUTC?R.isValidDate(te[0]):R.replacer(new Date(parseInt(te[1])));(a.dateParse?/^(?:(\d{4}\-\d\d\-\d\d)|(\d{4}\-\d\d\-\d\d([tT][\d:\.]*){1})([zZ]|([+\-])(\d\d):?(\d\d))?)$/.test(B):/^(\d{4}\-\d\d\-\d\d([tT][\d:\.]*){1})([zZ]|([+\-])(\d\d):?(\d\d))?$/.test(B))&&(ae=H.split(/[^0-9]/),/^(\d{4}\-\d\d\-\d\d)$/.test(B)?B=new Date(ae[a.dateFormat.split(Z).indexOf("yyyy")],ae[a.dateFormat.split(Z).indexOf("MM")]-1,ae[a.dateFormat.split(Z).indexOf("dd")]):(B=a.parseDateInUTC?R.isValidDate(B):R.replacer(new Date(B)),isNaN(B)&&(B=R.replacer(new Date(ae[0],ae[1]-1,ae[2],ae[3],ae[4],ae[5])))))}return B},isValidDate:function(O){var B=O;return"string"==typeof B&&0==B.indexOf("/Date(")&&(O=B.replace(/\d+/,function(Z){var te=6e4*new Date(parseInt(Z)).getTimezoneOffset(),ae=parseInt(Z)+te;return R.replacer(new Date(parseInt(ae)))})),"string"==typeof O?(O=(O=O.replace("/Date(",function(){return""})).replace(")/",function(){return""}),new Date(O)instanceof Date?new Date(O):O):O},isJson:function(O){return"string"==typeof O[0]?O:a.parseJSON(O)},isGuid:function(O){return null!=/[A-Fa-f0-9]{8}(?:-[A-Fa-f0-9]{4}){3}-[A-Fa-f0-9]{12}/i.exec(O)},replacer:function(O,B){return a.isPlainObject(O)?R.jsonReplacer(O,B):O instanceof Array?R.arrayReplacer(O):O instanceof Date?R.jsonReplacer({val:O},B).val:O},jsonReplacer:function(O,B){var H,Z,te;for(Z in O)(H=O[Z])instanceof Date&&(te=36e5*a.serverTimezoneOffset*(a.isNullOrUndefined(B)||!1===B?1:-1),O[Z]=new Date(+H+te));return O},arrayReplacer:function(O){for(var B=0;B<O.length;B++)a.isPlainObject(O[B])?O[B]=R.jsonReplacer(O[B]):O[B]instanceof Date&&(O[B]=R.jsonReplacer({date:O[B]}).date);return O}};a.isJSON=R.isJson,a.parseJSON=R.parseJson,a.dateParse=!0,a.dateFormat="yyyy-MM-dd",a.isGUID=R.isGuid,a.Query=function(O){return this instanceof a.Query?(this.queries=[],this._key="",this._fKey="","string"==typeof O?this._fromTable=O||"":O&&O instanceof Array&&(this._lookup=O),this._expands=[],this._sortedColumns=[],this._groupedColumns=[],this._subQuery=null,this._isChild=!1,this._params=[],this):new a.Query(O)},a.Query.prototype={key:function(O){return"string"==typeof O&&(this._key=O),this},using:function(O){return O instanceof a.DataManager?(this.dataManagar=O,this):D("Query - using() : 'using' function should be called with parameter of instance ej.DataManager")},execute:function(O,B,H,Z){return(O=O||this.dataManagar)&&O instanceof a.DataManager?O.executeQuery(this,B,H,Z):D("Query - execute() : dataManager needs to be is set using 'using' function or should be passed as argument")},executeLocal:function(O){return(O=O||this.dataManagar)&&O instanceof a.DataManager?O.executeLocal(this):D("Query - executeLocal() : dataManager needs to be is set using 'using' function or should be passed as argument")},clone:function(){var O=new a.Query;return O.queries=this.queries.slice(0),O._key=this._key,O._isChild=this._isChild,O.dataManagar=this.dataManager,O._fromTable=this._fromTable,O._params=this._params.slice(0),O._expands=this._expands.slice(0),O._sortedColumns=this._sortedColumns.slice(0),O._groupedColumns=this._groupedColumns.slice(0),O._subQuerySelector=this._subQuerySelector,O._subQuery=this._subQuery,O._fKey=this._fKey,O._requiresCount=this._requiresCount,O},from:function(O){return"string"==typeof O&&(this._fromTable=O),this},addParams:function(O,B){return"function"==typeof B||a.isPlainObject(B)?"function"==typeof B&&this._params.push({key:O,fn:B}):this._params.push({key:O,value:B}),this},expand:function(O){return this._expands="string"==typeof O?[].slice.call(arguments,0):O.slice(0),this},where:function(O,B,H,Z,te){B=(B||a.FilterOperators.equal).toLowerCase();var ae=null;return"string"==typeof O?ae=new a.Predicate(O,B,H,Z,te):O instanceof a.Predicate?ae=O:D("Query - where : Invalid arguments"),this.queries.push({fn:"onWhere",e:ae}),this},search:function(O,B,H,Z,te){B&&"boolean"!=typeof B?"string"==typeof B&&(B=[B]):Z=B=[],"boolean"==typeof H&&(Z=H,H=null),(H=H||a.FilterOperators.contains).length<3&&(H=a.data.operatorSymbols[H]);var ae=a.data.fnOperators[H]||a.data.fnOperators.processSymbols(H);return this.queries.push({fn:"onSearch",e:{fieldNames:B,operator:H,searchKey:O,ignoreCase:Z,ignoreAccent:te,comparer:ae}}),this},sortBy:function(O,B,H){var te,ae,de,_e,Z=a.sortOrder.Ascending;if("string"==typeof O&&O.toLowerCase().endsWith(" desc")&&(O=O.replace(/ desc$/i,""),B=a.sortOrder.Descending),O instanceof Array){for(de=0;de<O.length;de++)this.sortBy(O[de],B,H);return this}if("boolean"==typeof B?B=B?a.sortOrder.Descending:a.sortOrder.Ascending:"function"==typeof B&&(Z="custom"),B&&"string"!=typeof B||(Z=B?B.toLowerCase():a.sortOrder.Ascending,B=a.pvt.fnSort(B)),H)for(te=V(this.queries,"onSortBy"),de=0;de<te.length;de++)if("string"==typeof(ae=te[de].e.fieldName)){if(ae===O)return this}else if(ae instanceof Array)for(_e=0;_e<ae.length;_e++)if(ae[_e]===O||O.toLowerCase()===ae[_e]+" desc")return this;return this.queries.push({fn:"onSortBy",e:{fieldName:O,comparer:B,direction:Z}}),this},sortByDesc:function(O){return this.sortBy(O,a.sortOrder.Descending)},group:function(O,B){return this.sortBy(O,null,!0),this.queries.push({fn:"onGroup",e:{fieldName:O,fn:B}}),this},page:function(O,B){return this.queries.push({fn:"onPage",e:{pageIndex:O,pageSize:B}}),this},range:function(O,B){return("number"!=typeof O||"number"!=typeof B)&&D("Query() - range : Arguments type should be a number"),this.queries.push({fn:"onRange",e:{start:O,end:B}}),this},take:function(O){return"number"!=typeof O&&D("Query() - Take : Argument type should be a number"),this.queries.push({fn:"onTake",e:{nos:O}}),this},skip:function(O){return"number"!=typeof O&&D("Query() - Skip : Argument type should be a number"),this.queries.push({fn:"onSkip",e:{nos:O}}),this},select:function(O){return"string"==typeof O&&(O=[].slice.call(arguments,0)),O instanceof Array||D("Query() - Select : Argument type should be String or Array"),this.queries.push({fn:"onSelect",e:{fieldNames:O}}),this},hierarchy:function(O,B){return O&&O instanceof a.Query||D("Query() - hierarchy : query must be instance of ej.Query"),"function"==typeof B&&(this._subQuerySelector=B),this._subQuery=O,this},foreignKey:function(O){return"string"==typeof O&&(this._fKey=O),this},requiresCount:function(){return this._requiresCount=!0,this},aggregate:function(O,B){this.queries.push({fn:"onAggregates",e:{field:B,type:O}})}},a.Adaptor=function(O){this.dataSource=O,this.pvt={},this.init.apply(this,[].slice.call(arguments,1))},a.Adaptor.prototype={options:{from:"table",requestType:"json",sortBy:"sorted",select:"select",skip:"skip",group:"group",take:"take",search:"search",count:"requiresCounts",where:"where",aggregates:"aggregates",antiForgery:"antiForgery"},init:function(){},extend:function(O){var H,Z,B=function(te){this.dataSource=te,this.options&&(this.options=v.extend({},this.options)),this.init.apply(this,[].slice.call(arguments,0)),this.pvt={}};for(Z in(B.prototype=new this.type).type=B,H=B.prototype.base={},O)B.prototype[Z]&&(H[Z]=B.prototype[Z]);return v.extend(!0,B.prototype,O),B},processQuery:function(){},processResponse:function(O){return O.d?O.d:O},convertToQueryString:function(O){return v.param(O)},type:a.Adaptor},a.UrlAdaptor=(new a.Adaptor).extend({processQuery:function(O,B,H){var Pe,ke,Ae,Oe,Fe,$e,Z=V(B.queries,"onSortBy"),te=V(B.queries,"onGroup"),ae=V(B.queries,"onWhere"),de=V(B.queries,"onSearch"),_e=V(B.queries,"onAggregates"),Se=F(B.queries,["onSelect","onPage","onSkip","onTake","onRange"]),be=B._params,Ce=O.dataSource.url,Ne=null,Le=this.options,je={sorted:[],grouped:[],filters:[],searches:[],aggregates:[]};for(Se.onPage?ke=((ke=t((Pe=Se.onPage).pageIndex,B))-1)*(Ne=t(Pe.pageSize,B)):Se.onRange&&(ke=(Pe=Se.onRange).start,Ne=Pe.end-Pe.start),Ae=0;Ae<Z.length;Ae++)Pe=t(Z[Ae].e.fieldName,B),je.sorted.push(A(this,"onEachSort",{name:Pe,direction:Z[Ae].e.direction},B));for(H&&(Pe=this.getFiltersFrom(H,B))&&je.filters.push(A(this,"onEachWhere",Pe.toJSON(),B)),Ae=0;Ae<ae.length;Ae++)for(Fe in je.filters.push(A(this,"onEachWhere",ae[Ae].e.toJSON(),B)),je.filters[Ae])T(je[Fe])&&delete je[Fe];for(Ae=0;Ae<de.length;Ae++)je.searches.push(A(this,"onEachSearch",{fields:(Pe=de[Ae].e).fieldNames,operator:Pe.operator,key:Pe.searchKey,ignoreCase:Pe.ignoreCase},B));for(Ae=0;Ae<te.length;Ae++)je.grouped.push(t(te[Ae].e.fieldName,B));for(Ae=0;Ae<_e.length;Ae++)je.aggregates.push({type:(Pe=_e[Ae].e).type,field:t(Pe.field,B)});for(Fe in(Oe={})[Le.from]=B._fromTable,Le.expand&&(Oe[Le.expand]=B._expands),Oe[Le.select]=Se.onSelect?A(this,"onSelect",t(Se.onSelect.fieldNames,B),B):"",Oe[Le.count]=B._requiresCount?A(this,"onCount",B._requiresCount,B):"",Oe[Le.search]=je.searches.length?A(this,"onSearch",je.searches,B):"",Oe[Le.skip]=Se.onSkip?A(this,"onSkip",t(Se.onSkip.nos,B),B):"",Oe[Le.take]=Se.onTake?A(this,"onTake",t(Se.onTake.nos,B),B):"",Oe[Le.antiForgery]=O.dataSource.antiForgery?O.antiForgeryToken().value:"",Oe[Le.where]=je.filters.length||je.searches.length?A(this,"onWhere",je.filters,B):"",Oe[Le.sortBy]=je.sorted.length?A(this,"onSortBy",je.sorted,B):"",Oe[Le.group]=je.grouped.length?A(this,"onGroup",je.grouped,B):"",Oe[Le.aggregates]=je.aggregates.length?A(this,"onAggregates",je.aggregates,B):"",Oe.param=[],A(this,"addParams",{dm:O,query:B,params:be,reqParams:Oe}),Oe)(T(Oe[Fe])||""===Oe[Fe]||0===Oe[Fe].length||"params"===Fe)&&delete Oe[Fe];return Le.skip in Oe&&Le.take in Oe||null===Ne||(Oe[Le.skip]=A(this,"onSkip",ke,B),Oe[Le.take]=A(this,"onTake",Ne,B)),$e=this.pvt,this.pvt={},"json"===this.options.requestType?{data:JSON.stringify(Oe),url:Ce,ejPvtData:$e,type:"POST",contentType:"application/json; charset=utf-8"}:(Pe=this.convertToQueryString(Oe,B,O),{type:"GET",url:(Pe=(-1!==O.dataSource.url.indexOf("?")?"&":"/")+Pe).length?Ce.replace(/\/*$/,Pe):Ce,ejPvtData:$e})},convertToQueryString:function(O,B,H){return H.dataSource.url&&-1!==H.dataSource.url.indexOf("?")?v.param(O):"?"+v.param(O)},processResponse:function(O,B,H,Z,te,ae){var Se,be,Pe,Ne,de=te.ejPvtData||{},_e=O.groupDs;if(Z&&Z.getResponseHeader("Content-Type")&&-1!=Z.getResponseHeader("Content-Type").indexOf("xml")&&9==O.nodeType)return H._requiresCount?{result:[],count:0}:[];if((Se=JSON.parse(te.data))&&"batch"===Se.action&&O.added)return ae.added=O.added,ae;if(O.d&&(O=O.d),de&&de.aggregates&&de.aggregates.length){var je,Le=de.aggregates,Ce={},Ae={};for(("count"in O&&(Ce.count=O.count),O.result&&(Ce.result=O.result),O.aggregate&&(O=O.aggregate),Pe=0);Pe<Le.length;Pe++)(je=a.aggregates[Le[Pe].type])&&(Ae[Le[Pe].field+" - "+Le[Pe].type]=je(O,Le[Pe].field));Ce.aggregates=Ae,O=Ce}if(de&&de.groups&&de.groups.length){for((be=de.groups,Ce={},"count"in O&&(Ce.count=O.count),O.aggregates&&(Ce.aggregates=O.aggregates),O.result&&(O=O.result),Pe=0);Pe<be.length;Pe++)null,Ne=ne(be[Pe],H.queries),a.isNullOrUndefined(_e)||(_e=a.group(_e,be[Pe],null,Ne)),O=a.group(O,be[Pe],de.aggregates,Ne,null,_e);return Ce.count!=h?Ce.result=O:Ce=O,Ce}return O},onGroup:function(O){this.pvt.groups=O},onAggregates:function(O){this.pvt.aggregates=O},batchRequest:function(O,B,H,Z){var te={changed:B.changed,added:B.added,deleted:B.deleted,action:"batch",table:H.url,key:H.key,antiForgery:O.dataSource.antiForgery?O.antiForgeryToken().value:""};return Z&&this.addParams({dm:O,query:Z,params:Z._params,reqParams:te}),{type:"POST",url:O.dataSource.batchUrl||O.dataSource.crudUrl||O.dataSource.removeUrl||O.dataSource.url,contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify(te)}},beforeSend:function(){},insert:function(O,B,H,Z){var te={value:B,table:H,action:"insert",antiForgery:O.dataSource.antiForgery?O.antiForgeryToken().value:""};return Z&&this.addParams({dm:O,query:Z,params:Z._params,reqParams:te}),{url:O.dataSource.insertUrl||O.dataSource.crudUrl||O.dataSource.url,data:JSON.stringify(te)}},remove:function(O,B,H,Z,te){var ae={key:H,keyColumn:B,table:Z,action:"remove",antiForgery:O.dataSource.antiForgery?O.antiForgeryToken().value:""};return te&&this.addParams({dm:O,query:te,params:te._params,reqParams:ae}),{type:"POST",url:O.dataSource.removeUrl||O.dataSource.crudUrl||O.dataSource.url,data:JSON.stringify(ae)}},update:function(O,B,H,Z,te){var ae={value:H,action:"update",keyColumn:B,key:H[B],table:Z,antiForgery:O.dataSource.antiForgery?O.antiForgeryToken().value:""};return te&&this.addParams({dm:O,query:te,params:te._params,reqParams:ae}),{type:"POST",url:O.dataSource.updateUrl||O.dataSource.crudUrl||O.dataSource.url,data:JSON.stringify(ae)}},getFiltersFrom:function(O,B){var H;O instanceof Array&&O.length||D("ej.SubQuery: Array of key values required");var te,Z=B._fKey,ae=Z,de=B._key,_e=[],Se="object"!=typeof O[0];for("object"!=typeof O[0]&&(ae=null),H=0;H<O.length;H++)te=Se?O[H]:a.pvt.getObject(de||ae,O[H]),_e.push(new a.Predicate(Z,"==",te));return a.Predicate.or(_e)},addParams:function(O){var ae,de,B=O.dm,H=O.query,Z=O.params,te=O.reqParams;for(te.params={},ae=0;de=Z[ae];ae++)te[de.key]&&D("ej.Query: Custom Param is conflicting other request arguments"),te[de.key]=de.value,de.fn&&(te[de.key]=de.fn.call(H,de.key,H,B)),te.params[de.key]=te[de.key]}}),a.WebMethodAdaptor=(new a.UrlAdaptor).extend({processQuery:function(O,B,H){var Z=a.UrlAdaptor.prototype.processQuery(O,B,H),te=a.parseJSON(Z.data),ae={};return ae.value=te,A(this,"addParams",{dm:O,query:B,params:B._params,reqParams:ae}),{data:JSON.stringify(ae),url:Z.url,ejPvtData:Z.ejPvtData,type:"POST",contentType:"application/json; charset=utf-8"}},addParams:function(O){var ae,de,_e,Se,B=O.dm,H=O.query,Z=O.params,te=O.reqParams;for(te.params={},ae=0;de=Z[ae];ae++)te[de.key]&&D("ej.Query: Custom Param is conflicting other request arguments"),_e=de.key,Se=de.value,de.fn&&(Se=de.fn.call(H,de.key,H,B)),te[_e]=Se,te.params[_e]=te[_e]}}),a.CacheAdaptor=(new a.UrlAdaptor).extend({init:function(O,B,H){var te;a.isNullOrUndefined(O)||(this.cacheAdaptor=O),this.pageSize=H,this.guidId=a.getGuid("cacheAdaptor"),window.localStorage&&window.localStorage.setItem(this.guidId,JSON.stringify({keys:[],results:[]})),te=this.guidId,a.isNullOrUndefined(B)||setInterval(function(){for(var de=a.parseJSON(window.localStorage.getItem(te)),_e=[],Se=0;Se<de.results.length;Se++)de.results[Se].timeStamp=new Date-new Date(de.results[Se].timeStamp),new Date-new Date(de.results[Se].timeStamp)>B&&_e.push(Se);for(Se=0;Se<_e.length;Se++)de.results.splice(_e[Se],1),de.keys.splice(_e[Se],1);window.localStorage.removeItem(te),window.localStorage.setItem(te,JSON.stringify(de))},B)},generateKey:function(O,B){var Ce,Pe,ke,Ne,H=V(B.queries,"onSortBy"),Z=V(B.queries,"onGroup"),te=V(B.queries,"onWhere"),ae=V(B.queries,"onSearch"),_e=(V(B.queries,"onPage"),F(B.queries,["onSelect","onPage","onSkip","onTake","onRange"])),be=O;for(_e.onPage&&(be+=_e.onPage.pageIndex),H.forEach(function(Le){be+=Le.e.direction+Le.e.fieldName}),Z.forEach(function(Le){be+=Le.e.fieldName}),ae.forEach(function(Le){be+=Le.e.searchKey}),Ce=0;Ce<te.length;Ce++)if((Pe=te[Ce]).e.isComplex){for((ke=B.clone()).queries=[],Ne=0;Ne<Pe.e.predicates.length;Ne++)ke.queries.push({fn:"onWhere",e:Pe.e.predicates[Ne],filter:B.queries.filter});be+=Pe.e.condition+this.generateKey(O,ke)}else be+=Pe.e.field+Pe.e.operator+Pe.e.value;return be},processQuery:function(O,B){var Z,te,H=this.generateKey(O.dataSource.url,B);return window.localStorage&&(Z=a.parseJSON(window.localStorage.getItem(this.guidId))),null==(te=Z?Z.results[Z.keys.indexOf(H)]:null)||this._crudAction||this._insertAction?(this._crudAction=null,this._insertAction=null,this.cacheAdaptor.processQuery.apply(this.cacheAdaptor,[].slice.call(arguments,0))):te},processResponse:function(_e,B,H,Z,te,ae){var de;if(this._insertAction||te&&this.cacheAdaptor.options.batch&&te.url.endsWith(this.cacheAdaptor.options.batch)&&"post"===te.type.toLowerCase())return this.cacheAdaptor.processResponse(_e,B,H,Z,te,ae);_e=this.cacheAdaptor.processResponse.apply(this,[].slice.call(arguments,0));var Se=this.generateKey(B.dataSource.url,H),be={};for(window.localStorage&&(be=a.parseJSON(window.localStorage.getItem(this.guidId))),-1!=(de=v.inArray(Se,be.keys))&&(be.results.splice(de,1),be.keys.splice(de,1)),be.results[be.keys.push(Se)-1]={keys:Se,result:_e.result,timeStamp:new Date,count:_e.count};be.results.length>this.pageSize;)be.results.splice(0,1),be.keys.splice(0,1);return window.localStorage.setItem(this.guidId,JSON.stringify(be)),_e},update:function(O,B,H,Z){return this._crudAction=!0,this.cacheAdaptor.update(O,B,H,Z)},insert:function(O,B,H){return this._insertAction=!0,this.cacheAdaptor.insert(O,B,H)},remove:function(O,B,H,Z){return this._crudAction=!0,this.cacheAdaptor.remove(O,B,H,Z)},batchRequest:function(O,B,H){return this.cacheAdaptor.batchRequest(O,B,H)}});var V=function(O,B){return O.filter(function(H){return H.fn===B})||[]},F=function(O,B){for(var H=O.filter(function(ae){return-1!==B.indexOf(ae.fn)}),Z={},te=0;te<H.length;te++)Z[H[te].fn]||(Z[H[te].fn]=H[te].e);return Z},A=function(O,B,H,Z){if(O[B]){var te=O[B](H,Z);T(te)||(H=te)}return H};a.ODataAdaptor=(new a.UrlAdaptor).extend({options:{requestType:"get",accept:"application/json;odata=light;q=1,application/json;odata=verbose;q=0.5",multipartAccept:"multipart/mixed",sortBy:"$orderby",select:"$select",skip:"$skip",take:"$top",count:"$inlinecount",where:"$filter",expand:"$expand",batch:"$batch",changeSet:"--changeset_",batchPre:"batch_",contentId:"Content-Id: ",batchContent:"Content-Type: multipart/mixed; boundary=",changeSetContent:"Content-Type: application/http\nContent-Transfer-Encoding: binary ",batchChangeSetContentType:"Content-Type: application/json; charset=utf-8 "},onEachWhere:function(O,B){return O.isComplex?this.onComplexPredicate(O,B):this.onPredicate(O,B)},_typeStringQuery:function(O,B,H,Z,te){return-1!=H.indexOf("'")&&(H=H.replace(new RegExp(/'/g),"''")),/[ !@@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]/.test(H)&&(H=encodeURIComponent(H)),B&&(Z="cast("+Z+", 'Edm.String')"),a.isGUID(H="'"+H+"'")&&(te="guid"),O.ignoreCase&&(te||(Z="tolower("+Z+")"),H=H.toLowerCase()),{val:H,guid:te,field:Z}},onPredicate:function(O,B,H){var te,ae,be,Ce,Pe,ke,Z="",de=O.value,_e=typeof de,Se=this._p(O.field);if(de instanceof Date&&(de="datetime'"+R.replacer(de).toJSON()+"'"),"string"===_e&&(de=(Ce=this._typeStringQuery(O,H,de,Se,ae)).val,Se=Ce.field,ae=Ce.guid),te=a.data.odBiOperator[O.operator],""!=O.anyCondition&&te)return Z+=de.table,Z+="/"+O.anyCondition,Z+="(d:d/",Z+=Se,Z+=te,(Z+=de.value)+")";if("in"==O.operator||"notin"==O.operator){for(Z+="(",be=0;be<de.length;be++)de[be]instanceof Date&&(de[be]="datetime'"+R.replacer(de[be]).toJSON()+"'"),"string"==typeof de[be]&&(Ce=this._typeStringQuery(O,H,de[be],Se,ae),de[be]=Ce.val,Se=Ce.field,ae=Ce.guid),Z+=Se,Z+=te,Z+=de[be],be!=de.length-1&&(Z+="in"==O.operator?" or ":" and ");return Z+")"}return te?this.onOperation(Z,te,Se,de,ae):(te=a.data.odUniOperator[O.operator])&&"string"===_e?("substringof"===te&&(Pe=de,de=Se,Se=Pe),Z+=te+"(",Z+=Se+",",ae&&(Z+=ae),Z+=de+")","notcontains"==O.operator&&(Z+=" eq false"),""!=O.anyCondition&&te?(ke+=de.table,ke+="/"+O.anyCondition,Z+=Z,(ke+="(d:d/")+")"):Z):""},onOperation:function(O,B,H,Z,te){return O+=H,O+=B,te&&(O+=te),O+Z},onComplexPredicate:function(O,B){for(var H=[],Z=0;Z<O.predicates.length;Z++)H.push("("+this.onEachWhere(O.predicates[Z],B)+")");return H.join(" "+O.condition+" ")},onWhere:function(O){return this.pvt.searches&&O.push(this.onEachWhere(this.pvt.searches,null,!0)),O.join(" and ")},onEachSearch:function(O){var B,H;for(0===O.fields.length&&D("Query() - Search : oData search requires list of field names to search"),B=this.pvt.searches||[],H=0;H<O.fields.length;H++)B.push(new a.Predicate(O.fields[H],O.operator,O.key,O.ignoreCase));this.pvt.searches=B},onSearch:function(){return this.pvt.searches=a.Predicate.or(this.pvt.searches),""},onEachSort:function(O){var H,B=[];if(O.name instanceof Array)for(H=0;H<O.name.length;H++)B.push(this._p(O.name[H]));else B.push(this._p(O.name)+("descending"===O.direction?" desc":""));return B.join(",")},onSortBy:function(O){return O.reverse().join(",")},onGroup:function(O){return this.pvt.groups=O,""},onSelect:function(O){for(var B=0;B<O.length;B++)O[B]=this._p(O[B]);return O.join(",")},onAggregates:function(O){return this.pvt.aggregates=O,""},onCount:function(O){return!0===O?"allpages":""},beforeSend:function(O,B,H){H.url.endsWith(this.options.batch)&&"post"===H.type.toLowerCase()&&(B.setRequestHeader("Accept",I_multipartAccept),B.setRequestHeader("DataServiceVersion","2.0"),B.overrideMimeType("text/plain; charset=x-user-defined")),O.dataSource.crossDomain||(B.setRequestHeader("DataServiceVersion","2.0"),B.setRequestHeader("MaxDataServiceVersion","2.0"))},processResponse:function(O,B,H,Z,te,ae){var de,_e,Se,be,Ce,Pe,Ne,Le,je;if(!a.isNullOrUndefined(O.d)&&!a.isNullOrUndefined(de=H&&H._requiresCount?O.d.results:O.d))for(Le=0;Le<de.length;Le++)a.isNullOrUndefined(de[Le].__metadata)||delete de[Le].__metadata;if(_e=te&&te.ejPvtData,Z&&Z.getResponseHeader("Content-Type")&&-1!=Z.getResponseHeader("Content-Type").indexOf("xml")&&9==O.nodeType)return H._requiresCount?{result:[],count:0}:[];if(te&&this.options.batch&&te.url.endsWith(this.options.batch)&&"post"===te.type.toLowerCase()){if(Se=(Se=Z.getResponseHeader("Content-Type")).substring(Se.indexOf("=batchresponse")+1),(O=O.split(Se)).length<2)return;for(Pe=/(?:\bContent-Type.+boundary=)(changesetresponse.+)/i.exec(O=O[1]),O.replace(Pe[0],""),Le=(O=O.split(Pe[1])).length;Le>-1;Le--)/\bContent-ID:/i.test(O[Le])&&/\bHTTP.+201/.test(O[Le])&&(be=parseInt(/\bContent-ID: (\d+)/i.exec(O[Le])[1]),ae.added[be]&&(Ce=R.parseJson(/^\{.+\}/m.exec(O[Le])[0]),v.extend(ae.added[be],this.processResponse(Ce))));return ae}var Ae=Z&&Z.getResponseHeader("DataServiceVersion"),Oe=null,Fe={};if(Ae=Ae&&parseInt(Ae,10)||2,H&&H._requiresCount&&((O.__count||O["odata.count"])&&(Oe=O.__count||O["odata.count"]),O.d&&(O=O.d),(O.__count||O["odata.count"])&&(Oe=O.__count||O["odata.count"])),3===Ae&&O.value&&(O=O.value),O.d&&(O=O.d),Ae<3&&O.results&&(O=O.results),_e&&_e.aggregates&&_e.aggregates.length){var He,$e=_e.aggregates,Be={};for(Le=0;Le<$e.length;Le++)(He=a.aggregates[$e[Le].type])&&(Be[$e[Le].field+" - "+$e[Le].type]=He(O,$e[Le].field));Fe=Be}if(_e&&_e.groups&&_e.groups.length)for(Ne=_e.groups,Le=0;Le<Ne.length;Le++)je=ne(Ne[Le],H.queries),O=a.group(O,Ne[Le],_e.aggregates,je);return T(Oe)?O:{result:O,count:Oe,aggregates:Fe}},convertToQueryString:function(O,B,H){var ae,Z=[],te=O.table||"";for(ae in delete O.table,H.dataSource.requiresFormat&&(O.$format="json"),O)Z.push(ae+"="+O[ae]);return Z=Z.join("&"),H.dataSource.url&&-1!==H.dataSource.url.indexOf("?")&&!te?Z:Z.length?te+"?"+Z:te||""},insert:function(O,B,H){return{url:O.dataSource.url.replace(/\/*$/,H?"/"+H:""),data:JSON.stringify(B)}},remove:function(O,B,H,Z){return"string"==typeof H?{type:"DELETE",url:a.isGUID(H)?O.dataSource.url.replace(/\/*$/,Z?"/"+Z:"")+"("+H+")":O.dataSource.url.replace(/\/*$/,Z?"/"+Z:"")+"('"+H+"')"}:{type:"DELETE",url:O.dataSource.url.replace(/\/*$/,Z?"/"+Z:"")+"("+H+")"}},update:function(O,B,H,Z){return{type:"PUT",url:"string"==typeof H[B]?a.isGUID(H[B])?O.dataSource.url.replace(/\/*$/,Z?"/"+Z:"")+"("+H[B]+")":O.dataSource.url.replace(/\/*$/,Z?"/"+Z:"")+"('"+H[B]+"')":O.dataSource.url.replace(/\/*$/,Z?"/"+Z:"")+"("+H[B]+")",data:JSON.stringify(H),accept:this.options.accept}},batchRequest:function(O,B,H){var Z=H.guid=a.getGuid(I_batchPre),te=O.dataSource.url.replace(/\/*$/,"/"+this.options.batch),ae={url:H.url,key:H.key,cid:1,cSet:a.getGuid(I_changeSet)},de="--"+Z+"\n";return de+="Content-Type: multipart/mixed; boundary="+ae.cSet.replace("--","")+"\n",this.pvt.changeSet=0,de+=this.generateInsertRequest(B.added,ae),de+=this.generateUpdateRequest(B.changed,ae),de+=this.generateDeleteRequest(B.deleted,ae),de+=ae.cSet+"--\n",{type:"POST",url:te,contentType:"multipart/mixed; charset=UTF-8;boundary="+Z,data:de+="--"+Z+"--"}},generateDeleteRequest:function(O,B){var H,te;if(!O)return"";for(H="",te=0;te<O.length;te++)H+="\n"+B.cSet+"\n",H+=I_changeSetContent+"\n\n",H+="DELETE ",H+=B.url+"("+("string"==typeof O[te][B.key]?"'"+O[te][B.key]+"'":O[te][B.key])+") HTTP/1.1\n",H+="If-Match : * \n",H+="Accept: "+I_accept+"\n",H+="Content-Id: "+this.pvt.changeSet+++"\n",H+=I_batchChangeSetContentType+"\n";return H+"\n"},generateInsertRequest:function(O,B){var H,Z;if(!O)return"";for(H="",Z=0;Z<O.length;Z++)H+="\n"+B.cSet+"\n",H+=I_changeSetContent+"\n\n",H+="POST ",H+=B.url+" HTTP/1.1\n",H+="Accept: "+I_accept+"\n",H+="Content-Id: "+this.pvt.changeSet+++"\n",H+=I_batchChangeSetContentType+"\n\n",H+=JSON.stringify(O[Z])+"\n";return H},generateUpdateRequest:function(O,B){var H,te;if(!O)return"";for(H="",te=0;te<O.length;te++)H+="\n"+B.cSet+"\n",H+=I_changeSetContent+"\n\n",H+="PUT ",H+=B.url+"("+("string"==typeof O[te][B.key]?"'"+O[te][B.key]+"'":O[te][B.key])+") HTTP/1.1\n",H+="If-Match : * \n",H+="Accept: "+I_accept+"\n",H+="Content-Id: "+this.pvt.changeSet+++"\n",H+=I_batchChangeSetContentType+"\n\n",H+=JSON.stringify(O[te])+"\n\n";return H},_p:function(O){return O.replace(/\./g,"/")}}),a.ODataV4Adaptor=(new a.ODataAdaptor).extend({options:{requestType:"get",accept:"application/json;odata=light;q=1,application/json;odata=verbose;q=0.5",multipartAccept:"multipart/mixed",sortBy:"$orderby",select:"$select",skip:"$skip",take:"$top",count:"$count",search:"$search",where:"$filter",expand:"$expand",batch:"$batch",changeSet:"--changeset_",batchPre:"batch_",contentId:"Content-Id: ",batchContent:"Content-Type: multipart/mixed; boundary=",changeSetContent:"Content-Type: application/http\nContent-Transfer-Encoding: binary ",batchChangeSetContentType:"Content-Type: application/json; charset=utf-8 "},onCount:function(O){return!0===O?"true":""},onPredicate:function(O,B,H){var Z="",ae=O.value instanceof Date;return a.data.odUniOperator.contains="contains",Z=a.ODataAdaptor.prototype.onPredicate.call(this,O,B,H),a.data.odUniOperator.contains="substringof",ae&&(Z=Z.replace(/datetime'(.*)'$/,"$1")),Z},onOperation:function(O,B,H,Z,te){return te?(O+="("+H,O+=B,O+=Z.replace(/["']/g,"")+")"):(O+=H,O+=B,O+=Z),O},onEachSearch:function(O){var B=this.pvt.search||[];B.push(O.key),this.pvt.search=B},onSearch:function(){return this.pvt.search.join(" OR ")},beforeSend:function(){},processQuery:function(O,B){for(var H,Z,te=/\/[\d*\/]*/g,ae="",de=B._expands.length-1;de>0;de--)if(ae.indexOf(B._expands[de])>=0)B._expands.pop();else if(te.test(B._expands[de])){for(H=(ae=B._expands.pop()).replace(te,"($expand="),Z=0;Z<ae.split(te).length-1;Z++)H+=")";B._expands.unshift(H),de++}return a.ODataAdaptor.prototype.processQuery.apply(this,[O,B])},processResponse:function(O,B,H,Z,te,ae){var _e,Se,be,Ce,ke,Ne,Le,je,Ae,de=te&&te.ejPvtData;if(Z&&Z.getResponseHeader("Content-Type")&&-1!=Z.getResponseHeader("Content-Type").indexOf("xml")&&9==O.nodeType)return H._requiresCount?{result:[],count:0}:[];if(te&&this.options.batch&&te.url.endsWith(this.options.batch)&&"post"===te.type.toLowerCase()){if(_e=(_e=Z.getResponseHeader("Content-Type")).substring(_e.indexOf("=batchresponse")+1),(O=O.split(_e)).length<2)return;for(Ce=/(?:\bContent-Type.+boundary=)(changesetresponse.+)/i.exec(O=O[1]),O.replace(Ce[0],""),je=(O=O.split(Ce[1])).length;je>-1;je--)/\bContent-ID:/i.test(O[je])&&/\bHTTP.+201/.test(O[je])&&(Se=parseInt(/\bContent-ID: (\d+)/i.exec(O[je])[1]),ae.added[Se]&&(be=R.parseJson(/^\{.+\}/m.exec(O[je])[0]),v.extend(ae.added[Se],this.processResponse(be))));return ae}if(ke=null,Ne={},H&&H._requiresCount&&"@odata.count"in O&&(ke=O["@odata.count"]),O=a.isNullOrUndefined(O.value)?O:O.value,de&&de.aggregates&&de.aggregates.length){var Fe,Oe=de.aggregates,$e={};for(je=0;je<Oe.length;je++)(Fe=a.aggregates[Oe[je].type])&&($e[Oe[je].field+" - "+Oe[je].type]=Fe(O,Oe[je].field));Ne=$e}if(de&&de.groups&&de.groups.length)for(Le=de.groups,je=0;je<Le.length;je++)Ae=ne(Le[je],H.queries),O=a.group(O,Le[je],de.aggregates,Ae);return T(ke)?O:{result:O,count:ke,aggregates:Ne}}}),a.JsonAdaptor=(new a.Adaptor).extend({processQuery:function(O,B){for(var ae,de,H=O.dataSource.json.slice(0),Z=H.length,te=!0,_e={},Se=0;Se<B.queries.length;Se++)ae=this[(de=B.queries[Se]).fn].call(this,H,de.e,B),"onAggregates"==de.fn?_e[de.e.field+" - "+de.e.type]=ae:H=ae!==h?ae:H,("onPage"===de.fn||"onSkip"===de.fn||"onTake"===de.fn||"onRange"===de.fn)&&(te=!1),te&&(Z=H.length);return B._requiresCount&&(H={result:H,count:Z,aggregates:_e}),H},batchRequest:function(O,B,H){for(var Z=0;Z<B.added.length;Z++)this.insert(O,B.added[Z]);for(Z=0;Z<B.changed.length;Z++)this.update(O,H.key,B.changed[Z]);for(Z=0;Z<B.deleted.length;Z++)this.remove(O,H.key,B.deleted[Z]);return B},onWhere:function(O,B){return O&&O.filter(function(H){return B.validate(H)})},onAggregates:function(O,B){var H=a.aggregates[B.type];return O&&H&&0!=O.length?H(O,B.field):null},onSearch:function(O,B){return O&&O.length?(0===B.fieldNames.length&&a.pvt.getFieldList(O[0],B.fieldNames),O.filter(function(H){for(var Z=0;Z<B.fieldNames.length;Z++)if(B.comparer.call(H,a.pvt.getObject(B.fieldNames[Z],H),B.searchKey,B.ignoreCase,B.ignoreAccent))return!0;return!1})):O},onSortBy:function(O,B,H){var Z,te,ae;if(!O)return O;if(!(te=t(B.fieldName,H)))return O.sort(B.comparer);if(te instanceof Array){for(ae=(te=te.slice(0)).length-1;ae>=0;ae--)te[ae]&&(Z=B.comparer,te[ae].endsWith(" desc")&&(Z=a.pvt.fnSort(a.sortOrder.Descending),te[ae]=te[ae].replace(" desc","")),O=le(O,te[ae],Z,[]));return O}return le(O,te,B.comparer,H?H.queries:[])},onGroup:function(O,B,H){var Z,te,ae,de,_e;if(!O)return O;if(te=[],(Z=V(H.queries,"onAggregates")).length)for(de=0;de<Z.length;de++)te.push({type:(ae=Z[de].e).type,field:t(ae.field,H)});return _e=ne(B.fieldName,H.queries),a.group(O,t(B.fieldName,H),te,_e)},onPage:function(O,B,H){var Z=t(B.pageSize,H),te=(t(B.pageIndex,H)-1)*Z;return O&&O.slice(te,te+Z)},onRange:function(O,B){return O&&O.slice(t(B.start),t(B.end))},onTake:function(O,B){return O&&O.slice(0,t(B.nos))},onSkip:function(O,B){return O&&O.slice(t(B.nos))},onSelect:function(O,B){return O&&a.select(O,t(B.fieldNames))},insert:function(O,B){return O.dataSource.json.push(B)},remove:function(O,B,H){var te,Z=O.dataSource.json;for("object"==typeof H&&(H=a.getObject(B,H)),te=0;te<Z.length&&a.getObject(B,Z[te])!==H;te++);return te!==Z.length?Z.splice(te,1):null},update:function(O,B,H){for(var Z=O.dataSource.json,te=a.getObject(B,H),ae=0;ae<Z.length&&a.getObject(B,Z[ae])!==te;ae++);return ae<Z.length?v.extend(Z[ae],H):null}}),a.ForeignKeyAdaptor=function(O,B){var H=(new a[B||"JsonAdaptor"]).extend({init:function(){var Z,te;for(this.foreignData=[],this.key=[],this.adaptorType=B,this.value=[],this.fValue=[],this.keyField=[],Z=O,te=0;te<Z.length;te++)this.foreignData[te]=Z[te].dataSource,this.key[te]=Z[te].foreignKeyField,this.fValue[te]=a.isNullOrUndefined(Z[te].field)?Z[te].foreignKeyValue:Z[te].field+"_"+Z[te].foreignKeyValue,this.value[te]=Z[te].foreignKeyValue,this.keyField[te]=Z[te].field||Z[te].foreignKeyField,this.initial=!0},processQuery:function(Z,te){var de,_e,Se,ae=Z.dataSource.json;if(this.initial){for(de=0;de<ae.length;de++)for(_e=this,Se=0;Se<this.foreignData.length;Se++)this.foreignData[Se].filter(function(be){a.getObject(_e.key[Se],be)==a.getObject(_e.keyField[Se],ae[de])&&(ae[de][_e.fValue[Se]]=a.getObject(_e.value[Se],be))});this.initial=!1}return this.base.processQuery.apply(this,[Z,te])},setValue:function(Z){for(var te,ae,de,_e=0;_e<this.foreignData.length;_e++)te=this,"string"!=typeof(ae=Z[this.fValue[_e]])||isNaN(ae)||(ae=a.parseFloat(ae)),de=v.grep(te.foreignData[_e],function(Se){return Se[te.value[_e]]==ae})[0],a.isNullOrUndefined(de)&&(de=v.grep(te.foreignData[_e],function(Se){return Se[te.key[_e]]==ae})[0],a.getObject(this.value[_e],de)!=h&&a.createObject(te.value[_e],a.getObject(this.value[_e],de),Z)),a.getObject(this.value[_e],de)!=h&&a.createObject(this.keyField[_e],a.getObject(this.key[_e],de),Z)},insert:function(Z,te,ae){return this.setValue(te),{url:Z.dataSource.insertUrl||Z.dataSource.crudUrl||Z.dataSource.url,data:JSON.stringify({value:te,table:ae,action:"insert",antiForgery:Z.dataSource.antiForgery?Z.antiForgeryToken().value:""})}},update:function(Z,te,ae,de){return this.setValue(ae),a.JsonAdaptor.prototype.update(Z,te,ae,de),{type:"POST",url:Z.dataSource.updateUrl||Z.dataSource.crudUrl||Z.dataSource.url,data:JSON.stringify({value:ae,action:"update",keyColumn:te,key:ae[te],table:de,antiForgery:Z.dataSource.antiForgery?Z.antiForgeryToken().value:""})}}});return v.extend(this,new H),this},a.remoteSaveAdaptor=(new a.JsonAdaptor).extend({beforeSend:a.UrlAdaptor.prototype.beforeSend,insert:a.UrlAdaptor.prototype.insert,update:a.UrlAdaptor.prototype.update,remove:a.UrlAdaptor.prototype.remove,addParams:a.UrlAdaptor.prototype.addParams,batchRequest:function(O,B,H,Z){var te={changed:B.changed,added:B.added,deleted:B.deleted,action:"batch",table:H.url,key:H.key,antiForgery:O.dataSource.antiForgery?O.antiForgeryToken().value:""};return Z&&this.addParams({dm:O,query:Z,params:Z._params,reqParams:te}),{type:"POST",url:O.dataSource.batchUrl||O.dataSource.crudUrl||O.dataSource.url,contentType:"application/json; charset=utf-8",dataType:"json",data:JSON.stringify(te)}},processResponse:function(O,B,H,Z,te,ae,de){if(a.isNullOrUndefined(ae))return O.d?O.d:O;O.d&&(O=O.d),O.added&&(ae.added=a.parseJSON(O.added)),O.changed&&(ae.changed=a.parseJSON(O.changed)),O.deleted&&(ae.deleted=a.parseJSON(O.deleted));for(var _e=0;_e<ae.added.length;_e++)a.JsonAdaptor.prototype.insert(B,ae.added[_e]);for(_e=0;_e<ae.changed.length;_e++)a.JsonAdaptor.prototype.update(B,de,ae.changed[_e]);for(_e=0;_e<ae.deleted.length;_e++)a.JsonAdaptor.prototype.remove(B,de,ae.deleted[_e]);return O}}),a.WebApiAdaptor=(new a.ODataAdaptor).extend({insert:function(O,B){return{type:"POST",url:O.dataSource.url,data:JSON.stringify(B)}},remove:function(O,B,H){return{type:"DELETE",url:O.dataSource.url+"/"+H,data:JSON.stringify(H)}},update:function(O,B,H){return{type:"PUT",url:O.dataSource.url,data:JSON.stringify(H)}},batchRequest:function(O,B,H){var Z=H.guid=a.getGuid(I_batchPre),te=[];return v.each(B.added,function(ae,de){te.push("--"+Z),te.push("Content-Type: application/http; msgtype=request",""),te.push("POST "+O.dataSource.insertUrl+" HTTP/1.1"),te.push("Content-Type: application/json; charset=utf-8"),te.push("Host: "+location.host),te.push("",de?JSON.stringify(de):"")}),v.each(B.changed,function(ae,de){te.push("--"+Z),te.push("Content-Type: application/http; msgtype=request",""),te.push("PUT "+O.dataSource.updateUrl+" HTTP/1.1"),te.push("Content-Type: application/json; charset=utf-8"),te.push("Host: "+location.host),te.push("",de?JSON.stringify(de):"")}),v.each(B.deleted,function(ae,de){te.push("--"+Z),te.push("Content-Type: application/http; msgtype=request",""),te.push("DELETE "+O.dataSource.removeUrl+"/"+de[H.key]+" HTTP/1.1"),te.push("Content-Type: application/json; charset=utf-8"),te.push("Host: "+location.host),te.push("",de?JSON.stringify(de):"")}),te.push("--"+Z+"--",""),{type:"POST",url:O.dataSource.batchUrl||O.dataSource.crudUrl||O.dataSource.url,data:te.join("\r\n"),contentType:'multipart/mixed; boundary="'+Z+'"'}},processResponse:function(O,B,H,Z,te){var de,_e,Se,ae=te&&te.ejPvtData;if(te&&"post"!=te.type.toLowerCase()){var be=Z&&Z.getResponseHeader("DataServiceVersion"),Ce=null,Pe={};if(be=be&&parseInt(be,10)||2,H&&H._requiresCount&&(T(O.Count)||(Ce=O.Count)),be<3&&O.Items&&(O=O.Items),ae&&ae.aggregates&&ae.aggregates.length){var Ne,ke=ae.aggregates,Le={};for(_e=0;_e<ke.length;_e++)(Ne=a.aggregates[ke[_e].type])&&(Le[ke[_e].field+" - "+ke[_e].type]=Ne(O,ke[_e].field));Pe=Le}if(ae&&ae.groups&&ae.groups.length)for(de=ae.groups,_e=0;_e<de.length;_e++)Se=ne(de[_e],H.queries),O=a.group(O,de[_e],ae.aggregates,Se);return T(Ce)?O:{result:O,count:Ce,aggregates:Pe}}}}),t=function(O,B){return"function"==typeof O?O.call(B||{}):O},a.TableModel=function(O,B,H,Z){var te,ae,de,_e;if(!W(this,a.TableModel))return new a.TableModel(B);for(W(B,Array)||D("ej.TableModel - Json Array is required"),te=[],de=C(U,this),_e=0;_e<B.length;_e++)(ae=new a.Model(B[_e],this)).state="unchanged",ae.on("stateChange",de),Z&&ae.computes(Z),te.push(ae);return this.name=O||"table1",this.rows=a.NotifierArray(te),this._deleted=[],this._events=v({}),this.dataManager=H,this._isDirty=!1,this},a.TableModel.prototype={on:function(O,B){this._events.on(O,B)},off:function(O,B){this._events.off(O,B)},setDataManager:function(O){this.dataManagar=O},saveChanges:function(){if(this.dataManager&&W(this.dataManager,a.DataManager)||D("ej.TableModel - saveChanges : Set the dataManager using setDataManager function"),this.isDirty()){var O=this.dataManager.saveChanges(this.getChanges(),this.key,this.name);O.done(C(function(B){for(var H=this.toArray(),Z=0;Z<H.length;Z++)"added"===H.state&&H.set(this.key,B.added.filter(function(te){return te[this.key]===H.get(this.key)})[0][this.key]),H[Z].markCommit();this._events.triggerHandler({type:"save",table:this})},this)),O.fail(C(function(B){this.rejectChanges(),this._events.triggerHandler({type:"reject",table:this,error:B})},this)),this._isDirty=!1}},rejectChanges:function(){for(var O=this.toArray(),B=0;B<O.length;B++)O[B].revert(!0);this._isDirty=!1,this._events.triggerHandler({type:"reject",table:this})},insert:function(O){var B=new a.Model(O);B._isDirty=this._isDirty=!0,this.rows.push(B),this._events.triggerHandler({type:"insert",model:B,table:this})},update:function(O){var B;this.key||D("TableModel - update : Primary key should be assigned to TableModel.key");var Z,H=O,te=this.key,ae=H[te];for(B in Z=(Z=this.rows.array.filter(function(de){return de.get(te)===ae}))[0],H)Z.set(B,H[B]);this._isDirty=!0,this._events.triggerHandler({type:"update",model:Z,table:this})},remove:function(O){var B,H,Z,te;for(this.key||D("TableModel - update : Primary key should be assigned to TableModel.key"),B=this.key,H=-1,O&&"object"==typeof O&&(O=O[B]!==h?O[B]:O.get(B)),te=0;te<this.rows.length();te++)if(this.rows.array[te].get(B)===O){H=te;break}H>-1&&((Z=this.rows.removeAt(H)).markDelete(),this._deleted.push({model:Z,position:H}),this._isDirty=!0,this._events.triggerHandler({type:"remove",model:Z,table:this}))},isDirty:function(){return this._isDirty},getChanges:function(){for(var O={added:[],changed:[]},B=this.toArray(),H=0;H<B.length;H++)O[B[H].state]&&O[B[H].state].push(B[H].json);return O.deleted=a.select(this._deleted,["model"]),O},toArray:function(){return this.rows.toArray()},setDirty:function(O,B){this._isDirty!==!!O&&(this._isDirty=!!O,this._events.triggerHandler({type:"dirty",table:this,model:B}))},get:function(O){return this.rows.array[O]},length:function(){return this.rows.array.length},bindTo:function(O){var te,ae,B=o,H=v(O.html()),Z=this.toArray();for(v.inArray(O.prop("tagName").toLowerCase(),["table","tbody"])&&(B=l),B.insertBefore(O),O.detach().empty(),ae=0;ae<Z.length;ae++)te=H.clone(),Z[ae].bindTo(te),O.append(te);O.insertAfter(B),B.remove()}},o=s?v(document.createElement("div")):{},l=s?v(document.createElement("tr")):{},a.Model=function(O,B,H){"string"==typeof B&&(H=B,B=null),this.$id=xe("m"),this.json=O,this.table=B instanceof a.TableModel?B:null,this.name=H||this.table&&this.table.name,this.dataManager=B instanceof a.DataManager?B:B.dataManagar,this.actual={},this._events=v({}),this.isDirty=!1,this.state="added",this._props=[],this._computeEls={},this._fields={},this._attrEls={},this._updates={},this.computed={}},a.Model.prototype={computes:function(O){v.extend(this.computed,O)},on:function(O,B){this._events.on(O,B)},off:function(O,B){this._events.off(O,B)},set:function(O,B){var te,ae,H=this.json,Z=O;for(O=O.split("."),ae=0;ae<O.length-1;ae++)H=H[(O=O[0])[0]];this.isDirty=!0,this.changeState("changed",{from:"set"}),te=H[O],this.actual[O]!==h||O in this.actual||(this.actual[O]=B),H[O]=B,this._updateValues(O,B),this._events.triggerHandler({type:Z,current:B,previous:te,model:this})},get:function(O){return a.pvt.getObject(O,this.json)},revert:function(O){for(var B in this.actual)this.json[B]=this.actual[B];this.isDirty=!1,O?this.state="unchanged":this.changeState("unchanged",{from:"revert"})},save:function(O,B){return O=O||this.dataManagar,B=B||O.dataSource.key,O||D("ej.Model - DataManager is required to commit the changes"),"added"===this.state?O.insert(this.json,this.name).done(a.proxy(function(H){v.extend(this.json,H.record)},this)):"changed"===this.state?O.update(B,this.json,this.name):"deleted"===this.state?O.remove(B,this.json,this.name):void 0},markCommit:function(){this.isDirty=!1,this.changeState("unchanged",{from:"commit"})},markDelete:function(){this.changeState("deleted",{from:"delete"})},changeState:function(O,B){if(this.state!==O){if("added"===this.state){if("deleted"!==O)return;O="unchanged"}var H=O;B=B||{},this.state=O,this._events.triggerHandler(v.extend({type:"stateChange",current:O,previous:H,model:this},B))}},properties:function(){if(this._props.length)return this._props;for(var O in this.json)this._props.push(O),this._updates[O]={read:[],input:[]};return this._props},bindTo:function(O){var H,Z,de,_e,B=v(O),te=B.find("[ej-observe], [ej-computed], [ej-prop]"),ae=te.length;for(B.data("ejModel",this),de={fields:[],props:[],computes:[]},_e=0;_e<ae;_e++)(Z=(H=te.eq(_e)).attr("ej-prop"))&&this._processAttrib(Z,H,de),(Z=H.attr("ej-observe"))&&-1!==this._props.indexOf(Z)?this._processField(H,Z,de):(Z=H.attr("ej-computed"))&&this._processComputed(Z,H,de);B.data("ejModelBinding"+this.$id,de)},unbind:function(O){var B,te,ae,de,_e,Se,be,H={props:this._attrEls,computes:this._computeEls},Z=!1;for(te in O&&(H=v(O).removeData("ejModel").data("ejModelBinding"+this.$id)||H,Z=!0),this.computed)B=H.computes[te],te=this.computed[te],B&&te.deps&&(this.off(te.deps.join(" "),B.handle),Z&&delete this._computeEls[te]);for(te in Z||(this._computeEls={}),H.props)(B=H.props[te])&&(this.off(B.deps.join(" "),B.handle),delete H.props[te],Z&&delete this._attrEls[te]);if(Z||(this._attrEls={}),H.fields&&H.fields.length)for(ae=H.fields.length,be=0;be<ae;be++)v(de=H.fields[be]).off("change",null,this._changeHandler),Se=-1!==this.formElements.indexOf(de.tagName.toLowerCase())?"input":"read",-1!==(_e=this._updates[Se].indexOf(de))&&this._updates[Se].splice(_e,1)},_processComputed:function(O,B,H){if(O){var Z,te,ae=N(O),de=-1!==this.formElements.indexOf(B[0].tagName.toLowerCase())?"val":"html";this.computed[O]&&this.computed[ae]||(this.computed[ae]={value:new Function("var e = this; return "+O),deps:this._generateDeps(O)},O=ae),(Z=this.computed[O]).get||(Z.get=function(){Z.value.call(this.json)}),te=Z.deps,Z=Z.value,this._updateDeps(te),this._updateElement(B,de,Z),Z={el:B,handle:C(this._computeHandle,this,{value:O,type:de})},this._computeEls[O]=Z,H.computes[O]=Z,this.on(te.join(" "),Z.handle)}},_computeHandle:function(O){var B=this._computeEls[O.value];B&&this.computed[O.value]&&this._updateElement(B.el,O.type,this.computed[O.value].value)},_updateElement:function(O,B,H){O[B](H.call(v.extend({},this.json,this.computed)))},_updateDeps:function(O){for(var B=0;B<O.length;B++)!(O[B]in this.json)&&O[B]in this.computed&&a.merge(O,this.computed[O[B]].deps)},_generateDeps:function(O){for(var H,B=O.replace(/(^e\.)|( e\.)/g,"#%^*##ej.#").split("#%^*#"),Z=[],te=0;te<B.length;te++)B[te].startsWith("#ej.#")&&(H=B[te].replace("#ej.#","").split(" ")[0])&&-1!==this._props.indexOf(H)&&Z.push(H);return Z},_processAttrib:function(O,B,H){var Z,te,de,_e,ae={};for(O=O.replace(/^ +| +$/g,"").split(";"),de=0;de<O.length;de++)O[de]=O[de].split(":"),O[de].length<2||(ae[Z=O[de][0].replace(/^ +| +$/g,"").replace(/^'|^"|'$|"$/g,"")]=O[de][1].replace(/^ +| +$/g,"").replace(/^'|^"|'$|"$/g,""));for(Z in _e=[],O=ae)_e.push(O[Z]);this._updateDeps(_e),this._updateProps(B,O),ae=xe("emak"),te={el:B,handle:C(this._attrHandle,this,ae),value:O,deps:_e},B.prop("ejmodelattrkey",ae),H.props[ae]=te,this._attrEls[ae]=te,this.on(_e.join(" "),te.handle)},_attrHandle:function(O){var B=this._attrEls[O];B&&this._updateProps(B.el,B.value)},_updateProps:function(O,B){var Z,H=this.json,te=this.computed;for(var ae in B)(Z=B[ae])in H?Z=H[Z]:Z in te&&(Z=te[Z])&&(Z=Z.value.call(v.extend({},this.json,te))),T(Z)||O.prop(ae,Z)},_updateValues:function(O,B){var H=this._updates[O];H&&(H.read||H.input)&&(this._ensureItems(H.read,"html",B),this._ensureItems(H.input,"val",B))},_ensureItems:function(O,B,H){if(O)for(var Z=O.length-1;Z>-1;Z--)O[Z].offsetParent?v(O[Z])[B](H):O.splice(Z,1)},_changeHandler:function(O){O.data.self.set(O.data.prop,v(this).val())},_processField:function(O,B,H){var Z={self:this,prop:B},te=this.get(B);return H.fields.push(O[0]),-1===this.formElements.indexOf(O[0].tagName.toLowerCase())?(O.html(te),this._updates[B].read.push(O[0])):(O.val(te).off("change",null,this._changeHandler).on("change",null,Z,this._changeHandler),this._updates[B].input.push(O[0]))},formElements:["input","select","textarea"]};var z=/[^\w]+/g,N=function(O){return O.replace(z,"_")},U=function(O){this.setDirty(!0,O.model)};if(a.Predicate=function(O,B,H,Z,te){if(!(this instanceof a.Predicate))return new a.Predicate(O,B,H,Z,te);if(this.ignoreAccent=!1,"string"==typeof O){var ae="";-1!=B.toLowerCase().indexOf(" any")?(B=B.replace(" any",""),ae="any"):-1!=B.toLowerCase().indexOf(" all")&&(B=B.replace(" all",""),ae="all"),this.field=O,this.operator=B,this.value=H,this.ignoreCase=Z,this.ignoreAccent=te,this.isComplex=!1,this.anyCondition=ae,this._comparer=a.data.fnOperators.processOperator(""!=ae?ae:this.operator)}else(O instanceof a.Predicate&&H instanceof a.Predicate||H instanceof Array)&&(this.isComplex=!0,this.condition=B.toLowerCase(),this.predicates=[O],H instanceof Array?[].push.apply(this.predicates,H):this.predicates.push(H));return this},a.Predicate.and=function(){return p._combinePredicates([].slice.call(arguments,0),"and")},a.Predicate.or=function(){return p._combinePredicates([].slice.call(arguments,0),"or")},a.Predicate.fromJSON=function(O){var B,H,Z;if(W(O,Array)){for(B=[],H=0,Z=O.length;H<Z;H++)B.push(p._fromJSON(O[H]));return B}return p._fromJSON(O)},p={_combinePredicates:function(O,B){if(!O.length)return h;if(1===O.length){if(!W(O[0],Array))return O[0];O=O[0]}return new a.Predicate(O[0],B,O.slice(1))},_combine:function(O,B,H,Z,te,ae,de){return B instanceof a.Predicate?a.Predicate[te](O,B):"string"==typeof B?a.Predicate[te](O,new a.Predicate(B,H,Z,ae,de)):D("Predicate - "+te+" : invalid arguments")},_fromJSON:function(O){var B;if(!O||W(O,a.Predicate))return O;var H=O.predicates||[],Z=H.length,te=[];for(B=0;B<Z;B++)te.push(p._fromJSON(H[B]));return O.isComplex?new a.Predicate(te[0],O.condition,te.slice(1)):new a.Predicate(O.field,O.operator,a.parseJSON({val:O.value}).val,O.ignoreCase,O.ignoreAccent)}},a.Predicate.prototype={and:function(O,B,H,Z,te){return p._combine(this,O,B,H,"and",Z,te)},or:function(O,B,H,Z,te){return p._combine(this,O,B,H,"or",Z,te)},validate:function(O){var H,Z,te,B=this.predicates;if(!this.isComplex)return this._comparer.call(this,a.pvt.getObject(this.field,O),this.value,this.ignoreCase,this.ignoreAccent);for(H="and"===this.condition,te=0;te<B.length;te++)if(Z=B[te].validate(O),H){if(!Z)return!1}else if(Z)return!0;return H},toJSON:function(){var O,B,H;if(this.isComplex)for(O=[],B=this.predicates,H=0;H<B.length;H++)O.push(B[H].toJSON());return{isComplex:this.isComplex,field:this.field,operator:this.operator,value:this.value,ignoreCase:this.ignoreCase,ignoreAccent:this.ignoreAccent,condition:this.condition,predicates:O,anyCondition:this.anyCondition}}},a.dataUtil={swap:function(O,B,H){if(B!=H){var Z=O[B];O[B]=O[H],O[H]=Z}},mergeSort:function(O,B,H){return H&&"string"!=typeof H||(H=a.pvt.fnSort(H,!0)),"function"==typeof B&&(H=B,B=null),a.pvt.mergeSort(O,B,H)},max:function(O,B,H){return"function"==typeof B&&(H=B,B=null),a.pvt.getItemFromComparer(O,B,H||a.pvt.fnDescending)},min:function(O,B,H){return"function"==typeof B&&(H=B,B=null),a.pvt.getItemFromComparer(O,B,H||a.pvt.fnAscending)},distinct:function(O,B,H){for(var te,Z=[],ae={},de=0;de<O.length;de++)(te=ee(O,B,de))in ae||(Z.push(H?O[de]:te),ae[te]=1);return Z},sum:function(O,B){for(var Z,H=0,te="number"!=typeof ee(O,B,0),ae=0;ae<O.length;ae++)Z=ee(O,B,ae),isNaN(Z)||null===Z||(te&&(Z=+Z),H+=Z);return H},avg:function(O,B){return a.sum(O,B)/O.length},select:function(O,B){for(var H=[],Z=0;Z<O.length;Z++)H.push(a.pvt.extractFields(O[Z],B));return H},group:function(O,B,H,Z,te,ae){var de,_e,Se,be,Ce,Pe,ke,Ne,Le,je;if(te=te||1,O.GROUPGUID==a.pvt.consts.GROUPGUID){for(Le=0;Le<O.length;Le++)a.isNullOrUndefined(ae)?(O[Le].items=a.group(O[Le].items,B,H,Z,O.level+1),O[Le].count=O[Le].items.length):(-1,je=v.grep(ae,function(Ae){return Ae.key==O[Le].key}),de=ae.indexOf(je[0]),O[Le].items=a.group(O[Le].items,B,H,Z,O.level+1,ae[de].items),O[Le].count=ae[de].count);return O.childLevels+=1,O}for(_e={},(Se=[]).GROUPGUID=a.pvt.consts.GROUPGUID,Se.level=te,Se.childLevels=0,Se.records=O,Pe=0;Pe<O.length;Pe++)be=ee(O,B,Pe),a.isNullOrUndefined(Z)||(be=Z(be,B)),_e[be]||(_e[be]={key:be,count:0,items:[],aggregates:{},field:B},Se.push(_e[be]),a.isNullOrUndefined(ae)||(Ce=v.grep(ae,function(Ae){return Ae.key==_e[be].key}),_e[be].count=Ce[0].count)),_e[be].count=a.isNullOrUndefined(ae)?_e[be].count+=1:_e[be].count,_e[be].items.push(O[Pe]);if(H&&H.length)for(Pe=0;Pe<Se.length;Pe++){for(ke={},Le=0;Le<H.length;Le++)Ne=a.aggregates[H[Le].type],a.isNullOrUndefined(ae)?Ne&&(ke[H[Le].field+" - "+H[Le].type]=Ne(Se[Pe].items,H[Le].field)):(je=v.grep(ae,function(Ae){return Ae.key==Se[Pe].key}),Ne&&(ke[H[Le].field+" - "+H[Le].type]=Ne(je[0].items,H[Le].field)));Se[Pe].aggregates=ke}return Se},parseTable:function(O,B,H){var _e,Se,be,Ce,Pe,ke,Z=O.rows,ae=[],de=[];if(!Z.length)return[];for(H=H||0,Se=((B||"").toLowerCase()===a.headerOption.tHead?O.tHead.rows[H]:O.rows[H]).cells,_e=0;_e<Se.length;_e++)ae.push(v.trim(Se[_e].innerHTML));for(_e=H+1;_e<Z.length;_e++){for(be={},Ce=Z[_e].cells,Pe=0;Pe<Ce.length;Pe++)be[ae[Pe]]="string"==typeof(ke=Ce[Pe].innerHTML)&&v.isNumeric(ke)?Number(ke):ke;de.push(be)}return de}},a.headerOption={tHead:"thead",row:"row"},a.aggregates={sum:function(O,B){return a.sum(O,B)},average:function(O,B){return a.avg(O,B)},minimum:function(O,B){return a.getObject(B,a.min(O,B))},maximum:function(O,B){return a.getObject(B,a.max(O,B))},truecount:function(O,B){var H=a.Predicate(B,"equal",!0);return a.DataManager(O).executeLocal(a.Query().where(H)).length},falsecount:function(O,B){var H=a.Predicate(B,"equal",!1);return a.DataManager(O).executeLocal(a.Query().where(H)).length},count:function(O){return O.length}},a.pvt={filterQueries:V,mergeSort:function(O,B,H){if(O.length<=1)return O;var Z=parseInt(O.length/2,10),te=O.slice(0,Z),ae=O.slice(Z);return te=a.pvt.mergeSort(te,B,H),ae=a.pvt.mergeSort(ae,B,H),a.pvt.merge(te,ae,B,H)},getItemFromComparer:function(O,B,H){var Z,te,ae,de=0,_e="string"==typeof ee(O,B,0);if(O.length)for(;a.isNullOrUndefined(Z)&&de<O.length;)Z=ee(O,B,de),ae=O[de++];for(;de<O.length;de++)te=ee(O,B,de),a.isNullOrUndefined(te)||(_e&&(Z=+Z,te=+te),H(Z,te)>0&&(Z=te,ae=O[de]));return ae},quickSelect:function(O,B,H,Z,te,ae){if(H==Z)return O[H];var de=a.pvt.partition(O,B,H,Z,ae),_e=de-H+1;return _e==te?O[de]:te<_e?a.pvt.quickSelect(O,B,H,de-1,te,ae):a.pvt.quickSelect(O,B,de+1,Z,te-_e,ae)},extractFields:function(O,B){var Z,H={};if(1==B.length)return a.pvt.getObject(B[0],O);for(Z=0;Z<B.length;Z++)H[B[Z].replace(".",a.pvt.consts.complexPropertyMerge)]=a.pvt.getObject(B[Z],O);return H},partition:function(O,B,H,Z,te){var _e,ae=parseInt((H+Z)/2,10),de=ee(O,B,ae);for(a.swap(O,ae,Z),ae=H,_e=H;_e<Z;_e++)te(ee(O,B,_e),de)&&(a.swap(O,_e,ae),ae++);return a.swap(O,ae,Z),ae},fnSort:function(O){return(O=O?O.toLowerCase():a.sortOrder.Ascending)==a.sortOrder.Ascending?a.pvt.fnAscending:a.pvt.fnDescending},fnGetComparer:function(O,B){return function(H,Z){return B(a.pvt.getObject(O,H),a.pvt.getObject(O,Z))}},fnAscending:function(O,B){return a.isNullOrUndefined(B)&&a.isNullOrUndefined(O)||null===B||B===h?-1:"string"==typeof O?O.localeCompare(B):null===O||O===h?1:O-B},fnDescending:function(O,B){return a.isNullOrUndefined(B)&&a.isNullOrUndefined(O)?-1:null===B||B===h?1:"string"==typeof O?-1*O.localeCompare(B):null===O||O===h?-1:B-O},merge:function(O,B,H,Z){for(var ae,te=[];O.length>0||B.length>0;)ae=O.length>0&&B.length>0?Z?Z(ee(O,H,0),ee(B,H,0))<=0?O:B:O[0][H]<O[0][H]?O:B:O.length>0?O:B,te.push(ae.shift());return te},getObject:function(O,B){var H,Z,te;if(!B)return h;if(!O)return B;if(-1===O.indexOf("."))return B[O];for(H=B,Z=O.split("."),te=0;te<Z.length&&null!=H;te++)H=H[Z[te]];return H},createObject:function(O,B,H){for(var Z=O.split("."),te=H||window,ae=te,de=0;de<Z.length;de++)de+1==Z.length?ae[Z[de]]=B===h?{}:B:null==ae[Z[de]]&&(ae[Z[de]]={}),ae=ae[Z[de]];return te},ignoreDiacritics:function(O){return"string"!=typeof O?O:O.split("").map(function(Z){return Z in a.data.diacritics?a.data.diacritics[Z]:Z}).join("")},getFieldList:function(O,B,H){if(H===h&&(H=""),B===h||null===B)return a.pvt.getFieldList(O,[],H);for(var Z in O)"object"!=typeof O[Z]||O[Z]instanceof Array?B.push(H+Z):a.pvt.getFieldList(O[Z],B,H+Z+".");return B}},a.FilterOperators={lessThan:"lessthan",greaterThan:"greaterthan",lessThanOrEqual:"lessthanorequal",greaterThanOrEqual:"greaterthanorequal",equal:"equal",contains:"contains",startsWith:"startswith",endsWith:"endswith",notEqual:"notequal"},a.data={},a.data.operatorSymbols={"<":"lessthan",">":"greaterthan","<=":"lessthanorequal",">=":"greaterthanorequal","==":"equal","!=":"notequal","*=":"contains","$=":"endswith","^=":"startswith"},a.data.odBiOperator={"<":" lt ",">":" gt ","<=":" le ",">=":" ge ","==":" eq ","!=":" ne ",lessthan:" lt ",lessthanorequal:" le ",greaterthan:" gt ",greaterthanorequal:" ge ",equal:" eq ",notequal:" ne ",in:" eq ",notin:" ne "},a.data.odUniOperator={"$=":"endswith","^=":"startswith","*=":"substringof",endswith:"endswith",startswith:"startswith",contains:"substringof",notcontains:"substringof"},a.data.diacritics={"\u24b6":"A",\uff21:"A",\u00c0:"A",\u00c1:"A",\u00c2:"A",\u1ea6:"A",\u1ea4:"A",\u1eaa:"A",\u1ea8:"A",\u00c3:"A",\u0100:"A",\u0102:"A",\u1eb0:"A",\u1eae:"A",\u1eb4:"A",\u1eb2:"A",\u0226:"A",\u01e0:"A",\u00c4:"A",\u01de:"A",\u1ea2:"A",\u00c5:"A",\u01fa:"A",\u01cd:"A",\u0200:"A",\u0202:"A",\u1ea0:"A",\u1eac:"A",\u1eb6:"A",\u1e00:"A",\u0104:"A",\u023a:"A",\u2c6f:"A",\ua732:"AA",\u00c6:"AE",\u01fc:"AE",\u01e2:"AE",\ua734:"AO",\ua736:"AU",\ua738:"AV",\ua73a:"AV",\ua73c:"AY","\u24b7":"B",\uff22:"B",\u1e02:"B",\u1e04:"B",\u1e06:"B",\u0243:"B",\u0182:"B",\u0181:"B","\u24b8":"C",\uff23:"C",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u00c7:"C",\u1e08:"C",\u0187:"C",\u023b:"C",\ua73e:"C","\u24b9":"D",\uff24:"D",\u1e0a:"D",\u010e:"D",\u1e0c:"D",\u1e10:"D",\u1e12:"D",\u1e0e:"D",\u0110:"D",\u018b:"D",\u018a:"D",\u0189:"D",\ua779:"D",\u01f1:"DZ",\u01c4:"DZ",\u01f2:"Dz",\u01c5:"Dz","\u24ba":"E",\uff25:"E",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u1ec0:"E",\u1ebe:"E",\u1ec4:"E",\u1ec2:"E",\u1ebc:"E",\u0112:"E",\u1e14:"E",\u1e16:"E",\u0114:"E",\u0116:"E",\u00cb:"E",\u1eba:"E",\u011a:"E",\u0204:"E",\u0206:"E",\u1eb8:"E",\u1ec6:"E",\u0228:"E",\u1e1c:"E",\u0118:"E",\u1e18:"E",\u1e1a:"E",\u0190:"E",\u018e:"E","\u24bb":"F",\uff26:"F",\u1e1e:"F",\u0191:"F",\ua77b:"F","\u24bc":"G",\uff27:"G",\u01f4:"G",\u011c:"G",\u1e20:"G",\u011e:"G",\u0120:"G",\u01e6:"G",\u0122:"G",\u01e4:"G",\u0193:"G",\ua7a0:"G",\ua77d:"G",\ua77e:"G","\u24bd":"H",\uff28:"H",\u0124:"H",\u1e22:"H",\u1e26:"H",\u021e:"H",\u1e24:"H",\u1e28:"H",\u1e2a:"H",\u0126:"H",\u2c67:"H",\u2c75:"H",\ua78d:"H","\u24be":"I",\uff29:"I",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u0128:"I",\u012a:"I",\u012c:"I",\u0130:"I",\u00cf:"I",\u1e2e:"I",\u1ec8:"I",\u01cf:"I",\u0208:"I",\u020a:"I",\u1eca:"I",\u012e:"I",\u1e2c:"I",\u0197:"I","\u24bf":"J",\uff2a:"J",\u0134:"J",\u0248:"J","\u24c0":"K",\uff2b:"K",\u1e30:"K",\u01e8:"K",\u1e32:"K",\u0136:"K",\u1e34:"K",\u0198:"K",\u2c69:"K",\ua740:"K",\ua742:"K",\ua744:"K",\ua7a2:"K","\u24c1":"L",\uff2c:"L",\u013f:"L",\u0139:"L",\u013d:"L",\u1e36:"L",\u1e38:"L",\u013b:"L",\u1e3c:"L",\u1e3a:"L",\u0141:"L",\u023d:"L",\u2c62:"L",\u2c60:"L",\ua748:"L",\ua746:"L",\ua780:"L",\u01c7:"LJ",\u01c8:"Lj","\u24c2":"M",\uff2d:"M",\u1e3e:"M",\u1e40:"M",\u1e42:"M",\u2c6e:"M",\u019c:"M","\u24c3":"N",\uff2e:"N",\u01f8:"N",\u0143:"N",\u00d1:"N",\u1e44:"N",\u0147:"N",\u1e46:"N",\u0145:"N",\u1e4a:"N",\u1e48:"N",\u0220:"N",\u019d:"N",\ua790:"N",\ua7a4:"N",\u01ca:"NJ",\u01cb:"Nj","\u24c4":"O",\uff2f:"O",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u1ed2:"O",\u1ed0:"O",\u1ed6:"O",\u1ed4:"O",\u00d5:"O",\u1e4c:"O",\u022c:"O",\u1e4e:"O",\u014c:"O",\u1e50:"O",\u1e52:"O",\u014e:"O",\u022e:"O",\u0230:"O",\u00d6:"O",\u022a:"O",\u1ece:"O",\u0150:"O",\u01d1:"O",\u020c:"O",\u020e:"O",\u01a0:"O",\u1edc:"O",\u1eda:"O",\u1ee0:"O",\u1ede:"O",\u1ee2:"O",\u1ecc:"O",\u1ed8:"O",\u01ea:"O",\u01ec:"O",\u00d8:"O",\u01fe:"O",\u0186:"O",\u019f:"O",\ua74a:"O",\ua74c:"O",\u01a2:"OI",\ua74e:"OO",\u0222:"OU","\u24c5":"P",\uff30:"P",\u1e54:"P",\u1e56:"P",\u01a4:"P",\u2c63:"P",\ua750:"P",\ua752:"P",\ua754:"P","\u24c6":"Q",\uff31:"Q",\ua756:"Q",\ua758:"Q",\u024a:"Q","\u24c7":"R",\uff32:"R",\u0154:"R",\u1e58:"R",\u0158:"R",\u0210:"R",\u0212:"R",\u1e5a:"R",\u1e5c:"R",\u0156:"R",\u1e5e:"R",\u024c:"R",\u2c64:"R",\ua75a:"R",\ua7a6:"R",\ua782:"R","\u24c8":"S",\uff33:"S",\u1e9e:"S",\u015a:"S",\u1e64:"S",\u015c:"S",\u1e60:"S",\u0160:"S",\u1e66:"S",\u1e62:"S",\u1e68:"S",\u0218:"S",\u015e:"S",\u2c7e:"S",\ua7a8:"S",\ua784:"S","\u24c9":"T",\uff34:"T",\u1e6a:"T",\u0164:"T",\u1e6c:"T",\u021a:"T",\u0162:"T",\u1e70:"T",\u1e6e:"T",\u0166:"T",\u01ac:"T",\u01ae:"T",\u023e:"T",\ua786:"T",\ua728:"TZ","\u24ca":"U",\uff35:"U",\u00d9:"U",\u00da:"U",\u00db:"U",\u0168:"U",\u1e78:"U",\u016a:"U",\u1e7a:"U",\u016c:"U",\u00dc:"U",\u01db:"U",\u01d7:"U",\u01d5:"U",\u01d9:"U",\u1ee6:"U",\u016e:"U",\u0170:"U",\u01d3:"U",\u0214:"U",\u0216:"U",\u01af:"U",\u1eea:"U",\u1ee8:"U",\u1eee:"U",\u1eec:"U",\u1ef0:"U",\u1ee4:"U",\u1e72:"U",\u0172:"U",\u1e76:"U",\u1e74:"U",\u0244:"U","\u24cb":"V",\uff36:"V",\u1e7c:"V",\u1e7e:"V",\u01b2:"V",\ua75e:"V",\u0245:"V",\ua760:"VY","\u24cc":"W",\uff37:"W",\u1e80:"W",\u1e82:"W",\u0174:"W",\u1e86:"W",\u1e84:"W",\u1e88:"W",\u2c72:"W","\u24cd":"X",\uff38:"X",\u1e8a:"X",\u1e8c:"X","\u24ce":"Y",\uff39:"Y",\u1ef2:"Y",\u00dd:"Y",\u0176:"Y",\u1ef8:"Y",\u0232:"Y",\u1e8e:"Y",\u0178:"Y",\u1ef6:"Y",\u1ef4:"Y",\u01b3:"Y",\u024e:"Y",\u1efe:"Y","\u24cf":"Z",\uff3a:"Z",\u0179:"Z",\u1e90:"Z",\u017b:"Z",\u017d:"Z",\u1e92:"Z",\u1e94:"Z",\u01b5:"Z",\u0224:"Z",\u2c7f:"Z",\u2c6b:"Z",\ua762:"Z","\u24d0":"a",\uff41:"a",\u1e9a:"a",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u1ea7:"a",\u1ea5:"a",\u1eab:"a",\u1ea9:"a",\u00e3:"a",\u0101:"a",\u0103:"a",\u1eb1:"a",\u1eaf:"a",\u1eb5:"a",\u1eb3:"a",\u0227:"a",\u01e1:"a",\u00e4:"a",\u01df:"a",\u1ea3:"a",\u00e5:"a",\u01fb:"a",\u01ce:"a",\u0201:"a",\u0203:"a",\u1ea1:"a",\u1ead:"a",\u1eb7:"a",\u1e01:"a",\u0105:"a",\u2c65:"a",\u0250:"a",\ua733:"aa",\u00e6:"ae",\u01fd:"ae",\u01e3:"ae",\ua735:"ao",\ua737:"au",\ua739:"av",\ua73b:"av",\ua73d:"ay","\u24d1":"b",\uff42:"b",\u1e03:"b",\u1e05:"b",\u1e07:"b",\u0180:"b",\u0183:"b",\u0253:"b","\u24d2":"c",\uff43:"c",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u00e7:"c",\u1e09:"c",\u0188:"c",\u023c:"c",\ua73f:"c",\u2184:"c","\u24d3":"d",\uff44:"d",\u1e0b:"d",\u010f:"d",\u1e0d:"d",\u1e11:"d",\u1e13:"d",\u1e0f:"d",\u0111:"d",\u018c:"d",\u0256:"d",\u0257:"d",\ua77a:"d",\u01f3:"dz",\u01c6:"dz","\u24d4":"e",\uff45:"e",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u1ec1:"e",\u1ebf:"e",\u1ec5:"e",\u1ec3:"e",\u1ebd:"e",\u0113:"e",\u1e15:"e",\u1e17:"e",\u0115:"e",\u0117:"e",\u00eb:"e",\u1ebb:"e",\u011b:"e",\u0205:"e",\u0207:"e",\u1eb9:"e",\u1ec7:"e",\u0229:"e",\u1e1d:"e",\u0119:"e",\u1e19:"e",\u1e1b:"e",\u0247:"e",\u025b:"e",\u01dd:"e","\u24d5":"f",\uff46:"f",\u1e1f:"f",\u0192:"f",\ua77c:"f","\u24d6":"g",\uff47:"g",\u01f5:"g",\u011d:"g",\u1e21:"g",\u011f:"g",\u0121:"g",\u01e7:"g",\u0123:"g",\u01e5:"g",\u0260:"g",\ua7a1:"g",\u1d79:"g",\ua77f:"g","\u24d7":"h",\uff48:"h",\u0125:"h",\u1e23:"h",\u1e27:"h",\u021f:"h",\u1e25:"h",\u1e29:"h",\u1e2b:"h",\u1e96:"h",\u0127:"h",\u2c68:"h",\u2c76:"h",\u0265:"h",\u0195:"hv","\u24d8":"i",\uff49:"i",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u0129:"i",\u012b:"i",\u012d:"i",\u00ef:"i",\u1e2f:"i",\u1ec9:"i",\u01d0:"i",\u0209:"i",\u020b:"i",\u1ecb:"i",\u012f:"i",\u1e2d:"i",\u0268:"i",\u0131:"i","\u24d9":"j",\uff4a:"j",\u0135:"j",\u01f0:"j",\u0249:"j","\u24da":"k",\uff4b:"k",\u1e31:"k",\u01e9:"k",\u1e33:"k",\u0137:"k",\u1e35:"k",\u0199:"k",\u2c6a:"k",\ua741:"k",\ua743:"k",\ua745:"k",\ua7a3:"k","\u24db":"l",\uff4c:"l",\u0140:"l",\u013a:"l",\u013e:"l",\u1e37:"l",\u1e39:"l",\u013c:"l",\u1e3d:"l",\u1e3b:"l",\u017f:"l",\u0142:"l",\u019a:"l",\u026b:"l",\u2c61:"l",\ua749:"l",\ua781:"l",\ua747:"l",\u01c9:"lj","\u24dc":"m",\uff4d:"m",\u1e3f:"m",\u1e41:"m",\u1e43:"m",\u0271:"m",\u026f:"m","\u24dd":"n",\uff4e:"n",\u01f9:"n",\u0144:"n",\u00f1:"n",\u1e45:"n",\u0148:"n",\u1e47:"n",\u0146:"n",\u1e4b:"n",\u1e49:"n",\u019e:"n",\u0272:"n",\u0149:"n",\ua791:"n",\ua7a5:"n",\u01cc:"nj","\u24de":"o",\uff4f:"o",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u1ed3:"o",\u1ed1:"o",\u1ed7:"o",\u1ed5:"o",\u00f5:"o",\u1e4d:"o",\u022d:"o",\u1e4f:"o",\u014d:"o",\u1e51:"o",\u1e53:"o",\u014f:"o",\u022f:"o",\u0231:"o",\u00f6:"o",\u022b:"o",\u1ecf:"o",\u0151:"o",\u01d2:"o",\u020d:"o",\u020f:"o",\u01a1:"o",\u1edd:"o",\u1edb:"o",\u1ee1:"o",\u1edf:"o",\u1ee3:"o",\u1ecd:"o",\u1ed9:"o",\u01eb:"o",\u01ed:"o",\u00f8:"o",\u01ff:"o",\u0254:"o",\ua74b:"o",\ua74d:"o",\u0275:"o",\u01a3:"oi",\u0223:"ou",\ua74f:"oo","\u24df":"p",\uff50:"p",\u1e55:"p",\u1e57:"p",\u01a5:"p",\u1d7d:"p",\ua751:"p",\ua753:"p",\ua755:"p","\u24e0":"q",\uff51:"q",\u024b:"q",\ua757:"q",\ua759:"q","\u24e1":"r",\uff52:"r",\u0155:"r",\u1e59:"r",\u0159:"r",\u0211:"r",\u0213:"r",\u1e5b:"r",\u1e5d:"r",\u0157:"r",\u1e5f:"r",\u024d:"r",\u027d:"r",\ua75b:"r",\ua7a7:"r",\ua783:"r","\u24e2":"s",\uff53:"s",\u00df:"s",\u015b:"s",\u1e65:"s",\u015d:"s",\u1e61:"s",\u0161:"s",\u1e67:"s",\u1e63:"s",\u1e69:"s",\u0219:"s",\u015f:"s",\u023f:"s",\ua7a9:"s",\ua785:"s",\u1e9b:"s","\u24e3":"t",\uff54:"t",\u1e6b:"t",\u1e97:"t",\u0165:"t",\u1e6d:"t",\u021b:"t",\u0163:"t",\u1e71:"t",\u1e6f:"t",\u0167:"t",\u01ad:"t",\u0288:"t",\u2c66:"t",\ua787:"t",\ua729:"tz","\u24e4":"u",\uff55:"u",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u0169:"u",\u1e79:"u",\u016b:"u",\u1e7b:"u",\u016d:"u",\u00fc:"u",\u01dc:"u",\u01d8:"u",\u01d6:"u",\u01da:"u",\u1ee7:"u",\u016f:"u",\u0171:"u",\u01d4:"u",\u0215:"u",\u0217:"u",\u01b0:"u",\u1eeb:"u",\u1ee9:"u",\u1eef:"u",\u1eed:"u",\u1ef1:"u",\u1ee5:"u",\u1e73:"u",\u0173:"u",\u1e77:"u",\u1e75:"u",\u0289:"u","\u24e5":"v",\uff56:"v",\u1e7d:"v",\u1e7f:"v",\u028b:"v",\ua75f:"v",\u028c:"v",\ua761:"vy","\u24e6":"w",\uff57:"w",\u1e81:"w",\u1e83:"w",\u0175:"w",\u1e87:"w",\u1e85:"w",\u1e98:"w",\u1e89:"w",\u2c73:"w","\u24e7":"x",\uff58:"x",\u1e8b:"x",\u1e8d:"x","\u24e8":"y",\uff59:"y",\u1ef3:"y",\u00fd:"y",\u0177:"y",\u1ef9:"y",\u0233:"y",\u1e8f:"y",\u00ff:"y",\u1ef7:"y",\u1e99:"y",\u1ef5:"y",\u01b4:"y",\u024f:"y",\u1eff:"y","\u24e9":"z",\uff5a:"z",\u017a:"z",\u1e91:"z",\u017c:"z",\u017e:"z",\u1e93:"z",\u1e95:"z",\u01b6:"z",\u0225:"z",\u0240:"z",\u2c6c:"z",\ua763:"z",\u0386:"\u0391",\u0388:"\u0395",\u0389:"\u0397",\u038a:"\u0399",\u03aa:"\u0399",\u038c:"\u039f",\u038e:"\u03a5",\u03ab:"\u03a5",\u038f:"\u03a9",\u03ac:"\u03b1",\u03ad:"\u03b5",\u03ae:"\u03b7",\u03af:"\u03b9",\u03ca:"\u03b9",\u0390:"\u03b9",\u03cc:"\u03bf",\u03cd:"\u03c5",\u03cb:"\u03c5",\u03b0:"\u03c5",\u03c9:"\u03c9",\u03c2:"\u03c3"},a.data.fnOperators={equal:function(O,B,H,Z){return Z&&(O=a.pvt.ignoreDiacritics(O),B=a.pvt.ignoreDiacritics(B)),H?se(O)==se(B):O==B},notequal:function(O,B,H,Z){return Z&&(O=a.pvt.ignoreDiacritics(O),B=a.pvt.ignoreDiacritics(B)),!a.data.fnOperators.equal(O,B,H)},notin:function(O,B,H){for(var Z=0;Z<B.length;Z++)if(0==a.data.fnOperators.notequal(O,B[Z],H))return!1;return!0},lessthan:function(O,B,H){return H?se(O)<se(B):O<B},greaterthan:function(O,B,H){return H?se(O)>se(B):O>B},lessthanorequal:function(O,B,H){return H?se(O)<=se(B):O<=B},greaterthanorequal:function(O,B,H){return H?se(O)>=se(B):O>=B},contains:function(O,B,H,Z){return Z&&(O=a.pvt.ignoreDiacritics(O),B=a.pvt.ignoreDiacritics(B)),H?!T(O)&&!T(B)&&-1!=se(O).indexOf(se(B)):!T(O)&&!T(B)&&-1!=O.toString().indexOf(B)},notcontains:function(O,B,H,Z){return Z&&(O=a.pvt.ignoreDiacritics(O),B=a.pvt.ignoreDiacritics(B)),!a.data.fnOperators.contains(O,B,H)},notnull:function(O){return null!==O},isnull:function(O){return null===O},startswith:function(O,B,H,Z){return Z&&(O=a.pvt.ignoreDiacritics(O),B=a.pvt.ignoreDiacritics(B)),H?O&&B&&se(O).startsWith(se(B)):O&&B&&O.startsWith(B)},endswith:function(O,B,H,Z){return Z&&(O=a.pvt.ignoreDiacritics(O),B=a.pvt.ignoreDiacritics(B)),H?O&&B&&se(O).endsWith(se(B)):O&&B&&O.endsWith(B)},all:function(O,B,H){for(var Z=0;Z<B.length;Z++)if(0==a.data.fnOperators[this.operator](O,B[Z],H))return!1;return!0},any:function(O,B,H){for(var Z=0;Z<B.length;Z++)if(1==a.data.fnOperators[this.operator](O,B[Z],H))return!0;return!1},processSymbols:function(O){var H,B=a.data.operatorSymbols[O];return B&&(H=a.data.fnOperators[B])?H:D("Query - Process Operator : Invalid operator")},processOperator:function(O){return a.data.fnOperators[O]||a.data.fnOperators.processSymbols(O)}},a.data.fnOperators.in=function(O,B,H){for(var Z=0;Z<B.length;Z++)if(1==a.data.fnOperators.equal(O,B[Z],H))return!0;return!1},a.NotifierArray=function(O){return W(this,a.NotifierArray)?(this.array=O,this._events=v({}),this._isDirty=!1,this):new a.NotifierArray(O)},a.NotifierArray.prototype={on:function(O,B){this._events.on(O,B)},off:function(O,B){this._events.off(O,B)},push:function(O){var B;return B=W(O,Array)?[].push.apply(this.array,O):this.array.push(O),this._raise("add",{item:O,index:this.length()-1}),B},pop:function(){var O=this.array.pop();return this._raise("remove",{item:O,index:this.length()-1}),O},addAt:function(O,B){return this.array.splice(O,0,B),this._raise("add",{item:B,index:O}),B},removeAt:function(O){var B=this.array.splice(O,1)[0];return this._raise("remove",{item:B,index:O}),B},remove:function(O){var B=this.array.indexOf(O);return B>-1&&(this.array.splice(B,1),this._raise("remove",{item:O,index:B})),B},length:function(){return this.array.length},_raise:function(O,B){this._events.triggerHandler(v.extend({type:O},B)),this._events.triggerHandler({type:"all",name:O,args:B})},toArray:function(){return this.array}},v.extend(a,a.dataUtil),Array.prototype.forEach=Array.prototype.forEach||function(O,B){for(var H=0,Z=this.length;H<Z;++H)O.call(B,this[H],H,this)},Array.prototype.indexOf=Array.prototype.indexOf||function(O){var H,B=this.length;if(0===B)return-1;for(H=0;H<B;H++)if(H in this&&this[H]===O)return H;return-1},Array.prototype.filter=Array.prototype.filter||function(O){var B,H,Z,te;if("function"!=typeof O)throw new TypeError;for(B=[],H=arguments[1]||this,Z=0;Z<this.length;Z++)O.call(H,te=this[Z],Z,this)&&B.push(te);return B},String.prototype.endsWith=String.prototype.endsWith||function(O){return this.slice(-O.length)===O},String.prototype.startsWith=String.prototype.startsWith||function(O){return this.slice(0,O.length)===O},a.support||(a.support={}),a.support.stableSort=function(){for(var O=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16].sort(function(){return 0}),B=0;B<17;B++)if(B!==O[B])return!1;return!0}(),a.support.cors=v.support.cors,!v.support.cors&&window.XDomainRequest){var J=/^https?:\/\//i,Q=/^get|post$/i,oe=new RegExp("^"+location.protocol,"i"),ue=/\/xml/i;v.ajaxTransport("text html xml json",function(O,B){if(O.crossDomain&&O.async&&Q.test(O.type)&&J.test(B.url)&&oe.test(B.url)){var H=null,Z=(B.dataType||"").toLowerCase();return{send:function(te,ae){H=new XDomainRequest,/^\d+$/.test(B.timeout)&&(H.timeout=B.timeout),H.ontimeout=function(){ae(500,"timeout")},H.onload=function(){var be,de="Content-Length: "+H.responseText.length+"\r\nContent-Type: "+H.contentType,_e={code:200,message:"success"},Se={text:H.responseText};try{if("json"===Z)try{Se.json=JSON.parse(H.responseText)}catch{_e.code=500,_e.message="parseerror"}else if("xml"===Z||"text"!==Z&&ue.test(H.contentType)){(be=new ActiveXObject("Microsoft.XMLDOM")).async=!1;try{be.loadXML(H.responseText)}catch{be=h}if(!be||!be.documentElement||be.getElementsByTagName("parsererror").length)throw _e.code=500,_e.message="parseerror","Invalid XML: "+H.responseText;Se.xml=be}}catch(Ce){throw Ce}finally{ae(_e.code,_e.message,Se,de)}},H.onerror=function(){ae(500,"error",{text:H.responseText})},-1!=navigator.userAgent.indexOf("MSIE 9.0")&&(H.onprogress=function(){}),H.open(O.type,O.url),H.send(B.data)},abort:function(){H&&H.abort()}}}})}v.support.cors=!0,a.sortOrder={Ascending:"ascending",Descending:"descending"},a.pvt.consts={GROUPGUID:"{271bbba0-1ee7}",complexPropertyMerge:"_"},g=function(O,B){B&&(O=C(O,B)),(window.setImmediate||window.setTimeout)(O,0)},a.support.enableLocalizedSort=!1;var le=function(O,B,H,Z){return a.support.stableSort?a.support.enableLocalizedSort||"string"!=typeof a.pvt.getObject(B,O[0]||{})||H!==a.pvt.fnAscending&&H!==a.pvt.fnDescending||1!==Z.filter(function(te){return"onSortBy"===te.fn}).length?O.sort(a.pvt.fnGetComparer(B,H)):he(O,B,H===a.pvt.fnDescending):a.mergeSort(O,B,H)},ne=function(O,B){for(var H=v.grep(B,function(te){return"onGroup"==te.fn}),Z=0;Z<H.length;Z++)if(a.getObject("fieldName",H[Z].e)==O)return a.getObject("fn",H[Z].e)},he=function(O,B,H){var Z=Object.prototype.toString;Object.prototype.toString=-1===B.indexOf(".")?function(){return this[B]}:function(){return a.pvt.getObject(B,this)},O=O.sort(),Object.prototype.toString=Z,H&&O.reverse()},se=function(O){return O?O.toLowerCase?O.toLowerCase():O.toString().toLowerCase():0===O||!1===O?O.toString():""},ee=function(O,B,H){return B?a.pvt.getObject(B,O[H]):O[H]},re=function(O){return"object"==typeof HTMLElement?O instanceof HTMLElement:O&&1===O.nodeType&&"object"==typeof O&&"string"==typeof O.nodeName},W=function(O,B){return O instanceof B},pe=function(O,B,H,Z){return function(te){return"object"==typeof te&&(Z=te,te=null),new a.TableModel(te||O,B,H,Z)}},M=function(O){return function(B,H){var Z,te,ae,de,_e;for((H=H||window.ko)||D("Knockout is undefined"),te=[],_e=0;_e<O.length;_e++){for(ae in Z={},O[_e])ae.startsWith("_")||(Z[ae]=H.observable(O[_e][ae]));for(ae in B)v.isPlainObject(de=B[ae])?(de.owner||(de.owner=Z),de=H.computed(de)):de=H.computed(de,Z),Z[ae]=de;te.push(Z)}return H.observableArray(te)}},fe=0,xe=function(O){return O+(fe+=1)};a.getGuid=function(O){var H;return(O||"")+"00000000-0000-4000-0000-000000000000".replace(/0/g,function(Z,te){if("crypto"in window&&"getRandomValues"in crypto){var ae=new Uint8Array(1);window.crypto.getRandomValues(ae),H=ae[0]%16|0}else H=16*Math.random()|0;return"0123456789abcdef"[19===te?3&H|8:H]})},b=function(O,B){return function(){var H=[].slice.call(arguments,0);return H.push(this),O.apply(B||this,H)}},C=function(O,B,H){return"bind"in O?H?O.bind(B,H):O.bind(B):function(){var Z=H?[H]:[];return Z.push.apply(Z,arguments),O.apply(B||this,Z)}},a.merge=function(O,B){O&&B&&Array.prototype.push.apply(O,B)},T=function(O){return O===h||null===O},D=function(O){try{throw new Error(O)}catch(B){throw B.message+"\n"+B.stack}}}(window.jQuery,window.Syncfusion,window.document),function(v,a){function s(){var le={},ne=[],he={webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,msie:/(msie) ([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};for(var se in he)if(he.hasOwnProperty(se)&&(ne=navigator.userAgent.match(he[se]))){le.name=ne[1].toLowerCase(),le.version=ne[2],!navigator.userAgent.match(/Trident\/7\./)||(le.name="msie");break}return le.isMSPointerEnabled="msie"==le.name&&le.version>9&&window.navigator.msPointerEnabled,le.pointerEnabled=window.navigator.pointerEnabled,le}function h(le,ne,he){var se=he.type;he.type=ne,v.event.dispatch.call(le,he),he.type=se}function t(le,ne){if(ne)for(prop in ne)prop in le||(le[prop]=ne[prop])}function o(le){return le.originalEvent.touches?le.originalEvent.touches[0]:T?le.originalEvent:le}function l(le){var ne=T?le.originalEvent.pointerType:le.originalEvent.touches?"touch":"mouse",he=T&&D==a?4==ne?"mouse":"touch":ne;return le.pointerType=he,"mousedown"!=le.type&&"mouseup"!=le.type&&t(le,le.originalEvent),"touch"==he&&(le.button=a),le}function p(le,ne,he){var se,ee,re,pe,M,W={};return he&&(M=he.originalEvent.touches?[he.originalEvent.touches[0],le.originalEvent.changedTouches[0]]:[he.originalEvent,le.originalEvent],ne._isSwipe||ne._isdrag?(se=v.event.special.pinch._getdistance(M[0],M[1]),ee=ne.time,pe={pageX:ne.stopPoint.pageX,pageY:ne.stopPoint.pageY}):ne._isPinch&&(se=v.event.special.pinch.distance(le),ee=le.timeStamp-he.timeStamp,re=ne._pinchDistance),ne._isDelta&&(W._dTime=le.timeStamp-he.timeStamp,W._x=M[1].pageX-M[0].pageX,W._y=M[1].pageY-M[0].pageY)),{options:le,delta:{time:W._dTime||null,X:W._x||null,Y:W._y||null},distance:se,scale:ne._isPinch?re:null,time:ee,velocity:{XY:se/W._dTime||null,X:W._x/W._dTime||null,Y:W._y/W._dTime||null},currentPosition:{pageX:pe?pe.pageX:null,pageY:pe?pe.pageY:null}}}function g(){return(new Date).getTime()}function b(le){T&&le.css("-ms-touch-action","pinch-zoom").css("touch-action","pinch-zoom")}var C=v(document);v.each("touchstart touchmove touchend tap doubletap taphold swipe swipeleft swiperight pinch pinchin pinchout pinchstop scrollstart scrollstop".split(" "),function(le,ne){v.fn[ne]=function(he){return he?this.on(ne,he):this.trigger(ne)},v.attrFn&&(v.attrFn[ne]=!0)});var T=s().isMSPointerEnabled,D=s().pointerEnabled,L="ontouchstart"in window,R=typeof orientation>"u",V=navigator.userAgent.match(/iPhone|iPad|iPod/i),F=T?D?"pointerdown":"MSPointerDown":L?"touchstart":"mousedown",A=T?D?"pointerup":"MSPointerUp":V||L?"touchend":"mouseup",z=T?D?"pointermove":"MSPointerMove":L?"touchmove":"mousemove",N=T?D?"pointercancel":"MSPointerCancel":L?"touchcancel":"mouseleave",U=T||!R?F:V?"touchstart":"touchstart mousedown",J=T||!R?A:"touchend mouseup",Q=T||!R?z:"touchmove mousemove",oe=s(),ue="msie"==oe.name&&"9.0"==oe.version;v.event.special.ejtouchmove={setup:function(){function he(W){if(!W.which||1===W.which){var M=W.originalEvent;t(W,W.originalEvent),(!T||!re||Math.abs(re.x-M.x)>10||Math.abs(re.y-M.y)>10&&T)&&h(se,"ejtouchmove",W)}}var re,se=this,ee=v(se);ee.on(F,function ne(W){if(W.originalEvent&&(!W.which||1===W.which)){var M=W.originalEvent;T&&(re={x:M.x,y:M.y}),ee.on(z,he)}}),C.on(A,function le(){}),re={}}},v.event.special.swipeupdown={setup:function(){var ne=v(this);b(ne),ne.on(F,function(he){function se(M){if(M.preventDefault(),W){var fe=o(M);pe={time:(new Date).getTime(),coords:[fe.pageX,fe.pageY]},Math.abs(W.coords[1]-pe.coords[1])>10&&M.preventDefault()}}if(he.originalEvent){var pe,ee=he,re=o(he),W={time:(new Date).getTime(),coords:[re.pageX,re.pageY],origin:v(he.target)};ne.on(z,se).one(A,function(M){if(ne.off(z,se),W&&pe&&pe.time-W.time<1e3&&Math.abs(W.coords[1]-pe.coords[1])>30&&Math.abs(W.coords[0]-pe.coords[0])<75){var xe=p(M,{time:pe.time-W.time,_isSwipe:!0,_isDelta:!0,stopPoint:pe},ee);W.origin.trigger(v.extend(!0,{type:"swipeupdown"},xe)).trigger(v.extend(!0,{type:W.coords[1]>pe.coords[1]?"swipeup":"swipedown"},xe))}W=pe=a})}})}},v.event.special.scrollstart={isEnabled:!0,setup:function(){function le(re,W){h(ne,(se=W)?"scrollstart":"scrollstop",re)}var se,ee,ne=this;v(ne).on("scroll",function(re){v.event.special.scrollstart.isEnabled&&(se||le(re,!0),clearTimeout(ee),ee=setTimeout(function(){le(re,!1)},250))})}},v.event.special.tap={doubleTapThreshold:500,tapholdThreshold:650,canDoubleTap:function(le){return g()-le.doubleTapStartTime<=v.event.special.tap.doubleTapThreshold},setup:function(){var se,le=this,ne=v(le),he=ne.data();b(ne),he.isDoubleTapWait=!1,he.stopProcess=!1,he.preTouchend=null,he.preTouchstart=null,ne.on(U,function(ee){function re(){clearTimeout(B),ne.off(J,pe),ue&&C.off(J,pe),C.off(J,re),ne.off(N,re),ne.off(Q,W),ne.off("dragstart",fe)}function W(te){var de=te.originalEvent.changedTouches?te.originalEvent.changedTouches[0]:te.originalEvent,_e=ee.originalEvent.changedTouches?ee.originalEvent.changedTouches[0]:ee.originalEvent;de.pageX-_e.pageX<10&&de.pageX-_e.pageX>-10&&de.pageY-_e.pageY<10&&de.pageY-_e.pageY>-10||("mousemove"==te.type||"pointermove"==te.type&&"mouse"==te.originalEvent.pointerType||"MSPointerMove"==te.type&&4==te.originalEvent.pointerType?(clearTimeout(B),ne.off(N,re),ne.off(Q,W)):re())}function pe(te){var ae,de;"touchend"==te.type&&(he.preTouchend=g()),re(),se!=te.target&&("mouseup"==te.type||"pointerup"==ee.type||"MSPointerUp")&&(ae=te.target,jQuery.contains(se,ae)?M(te,se):jQuery.contains(ae,se)||(de=v(se).parents().has(v(ae)).first()[0],ej.isNullOrUndefined(de)||M(te,de))),xe===te.currentTarget&&(h(le,"tap",v.extend(l(te),{time:g()-he.startTime})),he.isDoubleTapWait&&v.event.special.tap.canDoubleTap(he)?(he.isDoubleTapWait=!1,h(le,"doubletap",v.extend(l(te),{time:g()-he.doubleTapStartTime}))):(he.isDoubleTapWait&&(he.isDoubleTapWait=!1,he.doubleTapStartTime=he.startTime),v.event.special.tap.canDoubleTap(he)&&(he.isDoubleTapWait=!0)))}function M(te,ae){te.target=ae,te.toElement=ae}function fe(){re()}var xe,O,B,H,Z;if(ee.originalEvent)if(se=ee.target,(he=ne.data()).startTime=g(),he.isDoubleTapWait||(he.doubleTapStartTime=he.startTime),"touchstart"==ee.type&&(he.preTouchstart=he.startTime),he.stopProcess="mousedown"==ee.type&&(he.startTime-he.preTouchend<300||he.startTime-he.preTouchstart<30),xe=ee.currentTarget,O=ee.originalEvent,ee.which&&1!==ee.which||he.stopProcess)he.stopProcess&&(he.stopProcess=!1);else{for(Z in ne.on(J,pe),C.on(J,re),ue&&C.on(J,pe),ne.on(N,re),ne.on(Q,W),ne.on("dragstart",fe),H={},O)H[Z]=O[Z];B=setTimeout(function(){he.isDoubleTapWait&&(he.isDoubleTapWait=!1),h(le,"taphold",v.extend(l(ee),{options:H,time:g()-he.startTime}))},v.event.special.tap.tapholdThreshold)}})}},v.event.special.swipe={scrollSupression:10,duration:1e3,horizontalDistance:30,verticalDistance:75,pointers:window.navigator.msPointerEnabled,startPoint:function(le){var ne=o(le);return{time:(new Date).getTime(),Items:ne,coords:[ne.pageX,ne.pageY],origin:v(le.target)}},stopPoint:function(le){var ne=o(le);return{time:(new Date).getTime(),Items:ne,coords:[ne.pageX,ne.pageY]}},handleSwipe:function(le,ne,he,se){if((le.Items.pageY!=le.Items.clientY||ne.Items.pageY!=ne.Items.clientY)&&(v.event.special.swipe.horizontalDistance=130),ne.time-le.time<v.event.special.swipe.duration&&Math.abs(le.coords[0]-ne.coords[0])>v.event.special.swipe.horizontalDistance&&Math.abs(le.coords[1]-ne.coords[1])<v.event.special.swipe.verticalDistance){var re=p(he,{time:ne.time-le.time,_isSwipe:!0,_isDelta:!0,stopPoint:ne},se);le.origin.trigger(v.extend(!0,{type:"swipe"},re)).trigger(v.extend(!0,{type:le.coords[0]>ne.coords[0]?"swipeleft":"swiperight"},re))}},setup:function(){var ne=v(this);b(ne),ne.on(F,function(he){function se(pe){ee&&(re=v.event.special.swipe.stopPoint(pe),Math.abs(ee.coords[0]-re.coords[0])>v.event.special.swipe.scrollSupression&&pe.preventDefault())}if(he.originalEvent){var re,ee=v.event.special.swipe.startPoint(he),W=he;v(he.target).data("_dataTouchStart",{event:he,_now:(new Date).getTime()}),ne.on(z,se).one(A,function(pe){ne.off(z,se),ee&&re&&v.event.special.swipe.handleSwipe(ee,re,pe,W),ee=re=a})}})}},v.event.special.pinch={distance:function(le){return le.originalEvent.touches.length<2?null:v.event.special.pinch._getdistance(le.originalEvent.touches[0],le.originalEvent.touches[1])},_getdistance:function(le,ne){return Math.sqrt((le.pageX-ne.pageX)*(le.pageX-ne.pageX)+(le.pageY-ne.pageY)*(le.pageY-ne.pageY))},setup:function(){var ne=v(this);b(ne),ne.on(F,function(he){var se;if(he.originalEvent&&(se=he,he.originalEvent.touches&&he.originalEvent.touches.length>=2)){let O=function(B){M=B,re=v.event.special.pinch.distance(B)||null,ee&&re&&Math.abs(ee-re)>W&&(v(B.target).trigger(v.extend(!0,{type:ee>re?"pinchin":"pinchout"},p(B,{_isPinch:!0,_pinchDistance:pe},se))),ee=re)};var re,M,ee=v.event.special.pinch.distance(he),W=5,pe=ee,fe=p(he,{_isPinch:!0,_pinchDistance:pe},se);v(he.target).trigger(v.extend(!0,{type:"pinch"},fe)),ne.on(z,O).one(A,function(){ne.off(z,O),v(he.target).trigger(v.extend(!0,{type:"pinchstop"},p(M,{_isPinch:!0,_pinchDistance:re},se))),ee=re=a})}})}},v.event.special.touchdrag={setup:function(){var ne=v(this);b(ne),ne.on(F,function(he){function se(pe){ee&&(re=o(pe),v.event.special.pinch._getdistance(ee,re)>5&&v(pe.target).trigger(v.extend(!0,{type:"touchdrag"},p(pe,{_isdrag:!0,stopPoint:re,_isDelta:!0},W))))}if(he.originalEvent){var re,ee=o(he),W=he;v(he.target).data("_dataTouchStart",{event:he,_now:(new Date).getTime()}),ne.on(z,se).one(A,function(){ne.off(z,se),ee=re=a})}})}},v.each({scrollstop:"scrollstart",doubletap:"tap",taphold:"tap",swipeleft:"swipe",swiperight:"swipe",swipedown:"swipeupdown",swipeup:"swipeupdown",pinchin:"pinch",pinchout:"pinch",pinchstop:"pinch"},function(le,ne){v.event.special[le]={setup:function(){v(this).on(ne,v.noop)}}})}(jQuery),v=jQuery,(a=Syncfusion).widget("ejDraggable","ej.Draggable",{element:null,model:null,validTags:["div","span","a"],defaults:{scope:"default",handle:null,dragArea:null,clone:!1,distance:1,dragOnTaphold:!1,cursorAt:{top:-1,left:-2},dragStart:null,drag:null,dragStop:null,create:null,destroy:null,autoScroll:!1,scrollSensitivity:20,scrollSpeed:20,helper:function(){return v('<div class="e-drag-helper" />').html("draggable").appendTo(document.body)}},_init:function(){this.handler=function(){},this.resizables={},this._wireEvents(),this._browser=a.browserInfo(),this._isIE8="msie"==this._browser.name&&"8.0"==this._browser.version,this._isIE9="msie"==this._browser.name&&"9.0"==this._browser.version,"msie"==this._browser.name&&this.element.addClass("e-pinch"),"edge"==this._browser.name&&this.element.css("touch-action","none")},_setModel:function(h){for(var t in h)switch(t){case"dragArea":this.model.dragArea=h[t];break;case"dragOnTaphold":this.model.dragOnTaphold=h[t];break;case"autoScroll":this.model.autoScroll=h[t]}},_destroy:function(){v(document).off(a.eventType.mouseUp,this._destroyHandler).off(a.eventType.mouseUp,this._dragStopHandler).off(a.eventType.mouseMove,this._dragStartHandler).off(a.eventType.mouseMove,this._dragHandler).off("mouseleave",this._dragMouseOutHandler).off("selectstart",!1),a.widgetBase.droppables[this.scope]=null},_initialize:function(h){var t,o;if(h.target&&h.target.nodeName&&v(h.target).closest("input[type='text'], input[type='checkbox'], textarea, select, option").length)return!0;t=h,h.preventDefault(),h=this._getCoordinate(h),this.target=v(t.currentTarget),this._initPosition={x:h.pageX,y:h.pageY},v(document).on(a.eventType.mouseMove,this._dragStartHandler).on(a.eventType.mouseUp,this._destroyHandler),this.model.clone||(o=this.element.offset(),this._relXposition=h.pageX-o.left,this._relYposition=h.pageY-o.top),v(document.documentElement).trigger(a.eventType.mouseDown,t)},_setDragArea:function(){var t,o,l,p,g,b,C,h=v(this.model.dragArea)[0];if(h){if(p=["left","right","bottom","top"],a.isNullOrUndefined(h.getBoundingClientRect)){for(t=v(this.model.dragArea).outerWidth(),o=v(this.model.dragArea).outerHeight(),C=0;C<p.length;C++)this["border-"+p[C]+"-width"]=0,this["padding-"+p[C]]=0;g=b=0}else{for(t=(l=h.getBoundingClientRect()).width?l.width:l.right-l.left,o=l.height?l.height:l.bottom-l.top,C=0;C<p.length;C++)this["border-"+p[C]+"-width"]=isNaN(parseFloat(v(v(this.model.dragArea)[0]).css("border-"+p[C]+"-width")))?0:parseFloat(v(v(this.model.dragArea)[0]).css("border-"+p[C]+"-width")),this["padding-"+p[C]]=isNaN(parseFloat(v(v(this.model.dragArea)[0]).css("padding-"+p[C])))?0:parseFloat(v(v(this.model.dragArea)[0]).css("padding-"+p[C]));g=v(this.model.dragArea).offset().top,b=v(this.model.dragArea).offset().left}this._left=a.isNullOrUndefined(v(this.model.dragArea).offset())?0+this["border-left-width"]+this["padding-left"]:b+this["border-left-width"]+this["padding-left"],this._top=a.isNullOrUndefined(v(this.model.dragArea).offset())?0+this["border-top-width"]+this["padding-top"]:g+this["border-top-width"]+this["padding-top"],this._right=b+t-[this["border-right-width"]+this["padding-right"]],this._bottom=g+o-[this["border-bottom-width"]+this["padding-bottom"]]}},_dragStart:function(h){var o,l,p,g,b,C;if("touchmove"==h.type||"mousemove"==h.type&&1==(h.buttons!==s?h.buttons:h.which)||this._isIE8||this._isIE9){o=h,h=this._getCoordinate(h),this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0},this.offset=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.position=this._getMousePosition(o);var T=this._initPosition.x-h.pageX,D=this._initPosition.y-h.pageY;if(Math.sqrt(T*T+D*D)>=this.model.distance){if(!(l=this.model.helper({sender:o,element:this.target}))||a.isNullOrUndefined(l))return;if(p=this.model.handle=this.helper=l,this.model.dragStart&&(g=null,"touchmove"==o.type?(b=o.originalEvent.changedTouches[0],g=document.elementFromPoint(b.clientX,b.clientY)):g=o.originalEvent.target||o.target,0==this.model.cursorAt.top&&0==this.model.cursorAt.left&&(g=this._checkTargetElement(h)||g),this._trigger("dragStart",{event:o,element:this.element,target:g,currentTarget:this._getCurrTarget(h)})))return this._destroy(),!1;this.model.dragArea?this._setDragArea():(this._left=this._top=this._right=this._bottom=0,this["border-top-width"]=this["border-left-width"]=0),!a.isNullOrUndefined(p)&&p.length>0&&(C=p.offsetParent().offset(),v(document).off(a.eventType.mouseMove,this._dragStartHandler).off(a.eventType.mouseUp,this._destroyHandler).on(a.eventType.mouseMove,this._dragHandler).on(a.eventType.mouseUp,this._dragStopHandler).on("mouseleave",this._dragMouseOutHandler).on("selectstart",!1),a.widgetBase.droppables[this.model.scope]={draggable:this.element,helper:p.css({position:"absolute",left:this.position.left-C.left,top:this.position.top-C.top}),destroy:this._destroyHandler})}}(this.model.autoScroll&&"touchmove"==h.type||"mousemove"==h.type&&1==(h.buttons!==s?h.buttons:h.which)||this._isIE8||this._isIE9)&&this._getScrollParent(o.target)},_drag:function(h){var t,o,l,p,b,C,T,D,L,I;h.preventDefault(),this.position=this._getMousePosition(h),this.position.top<0&&(this.position.top=0),v(document).height()<this.position.top&&(this.position.top=v(document).height()),v(document).width()<this.position.left&&(this.position.left=v(document).width()),L=a.widgetBase.droppables[this.model.scope].helper,this.model.drag&&(b=null,"touchmove"==h.type?(C=h.originalEvent.changedTouches[0],b=document.elementFromPoint(C.clientX,C.clientY)):b=h.originalEvent.target||h.target,0==this.model.cursorAt.top&&0==this.model.cursorAt.left&&(b=this._checkTargetElement(h)||b),T={event:h,element:this.target,target:b,currentTarget:this._getCurrTarget(h),position:{left:null,top:null}},this._trigger("drag",T)),D=this._checkTargetElement(h),a.isNullOrUndefined(D)?this._hoverTarget&&(h.target=h.toElement=this._hoverTarget,this._hoverTarget.object._out(h),this._hoverTarget=null):(h.target=h.toElement=D,D.object._over(h),this._hoverTarget=D),I=(L=a.widgetBase.droppables[this.model.scope].helper).offsetParent().offset(),l=a.isNullOrUndefined(h.pageX)||0===h.pageX&&"touchmove"==h.type?h.originalEvent.changedTouches[0].pageX:h.pageX,p=a.isNullOrUndefined(h.pageY)||0===h.pageY&&"touchmove"==h.type?h.originalEvent.changedTouches[0].pageY:h.pageY,this.model.dragArea?(this._pageX!=l&&(t=this._left>this.position.left?this._left:this._right<this.position.left+L.outerWidth(!0)?this._right-L.outerWidth(!0):this.position.left),this._pageY!=p&&(o=this._top>this.position.top?this._top:this._bottom<this.position.top+L.outerHeight(!0)?this._bottom-L.outerHeight(!0):this.position.top)):(t=this.position.left,o=this.position.top),(o<0||o-[I.top+this["border-top-width"]]<0)&&(o=[I.top+this["border-top-width"]]),(t<0||t-[I.left+this["border-left-width"]]<0)&&(t=[I.left+this["border-left-width"]]),t=T&&T.position&&T.position.left?T.position.left:t,o=T&&T.position&&T.position.top?T.position.top:o,L.css({left:T&&T.position&&T.position.left?t:t-[I.left+this["border-left-width"]],top:T&&T.position&&T.position.top?o:o-[I.top+this["border-top-width"]]}),this.position.left=t,this.position.top=o,this._pageX=l,this._pageY=p,this.model.autoScroll&&(p-v(document).scrollTop()<this.model.scrollSensitivity?v(document).scrollTop(v(document).scrollTop()-this.model.scrollSpeed):v(window).height()-(p-v(document).scrollTop())<this.model.scrollSensitivity&&v(document).scrollTop(v(document).scrollTop()+this.model.scrollSpeed),l-v(document).scrollLeft()<this.model.scrollSensitivity?v(document).scrollLeft(v(document).scrollLeft()-this.model.scrollSpeed):v(window).width()-(l-v(document).scrollLeft())<this.model.scrollSensitivity&&v(document).scrollLeft(v(document).scrollLeft()+this.model.scrollSpeed))},_dragStop:function(h){var t,o;("mouseup"==h.type||"touchend"==h.type)&&this._destroy(h),this.model.dragStop&&(t=null,"touchend"==h.type?0==this.model.cursorAt.top&&0==this.model.cursorAt.left?t=h.originalEvent.target||h.target:(o=h.originalEvent.changedTouches[0],t=document.elementFromPoint(o.clientX,o.clientY)):t=h.originalEvent.target||h.target,0==this.model.cursorAt.top&&0==this.model.cursorAt.left&&(t=this._checkTargetElement(h)||t),this._trigger("dragStop",{event:h,element:this.target,target:t,currentTarget:this._getCurrTarget(h)})),this._dragEnd(h)},_dragEnd:function(h){var t=this._checkTargetElement(h);a.isNullOrUndefined(t)||(h.target=h.toElement=t,t.object._drop(h,this.element))},_dragMouseEnter:function(h){v(document).off("mouseenter",this._dragMouseEnterHandler),this._isIE9?this._dragManualStop(h):this._isIE8?0==h.button&&this._dragManualStop(h):0==h.buttons&&this._dragManualStop(h)},_dragManualStop:function(h){null!=this.model.dragStop&&this._trigger("dragStop",{event:h,element:this.target,target:h.originalEvent.target||h.target,currentTarget:this._getCurrTarget(h)}),this._destroy(h)},_dragMouseOut:function(){v(document).on("mouseenter",this._dragMouseEnterHandler)},_checkTargetElement:function(h){var t,o;return"touchmove"==h.type||"touchstart"==h.type||"touchend"==h.type||"taphold"==h.type?(o=h.originalEvent.changedTouches[0],t=document.elementFromPoint(o.clientX,o.clientY)):t=h.target,this.helper&&this._contains(this.helper[0],t)?(this.helper.hide(),t=this._elementUnderCursor(h),this.helper.show(),this._withDropElement(t)):this._withDropElement(t)},_getCurrTarget:function(h){var o,l,t=h.originalEvent&&h.originalEvent.target||h.target;if(!a.isNullOrUndefined(t.style))return o=t.style.display,this.element.is(t)&&(t.style.display="none"),l=null,a.isNullOrUndefined(h.pageX)||a.isNullOrUndefined(h.pageY)||(l=document.elementFromPoint(h.pageX,h.pageY)),t.style.display=o,l},_withDropElement:function(h){if(h){var t=v(h).data("ejDroppable");if(a.isNullOrUndefined(t)&&(t=this._checkParentElement(v(h))),!a.isNullOrUndefined(t))return v.extend(h,{object:t})}},_checkParentElement:function(h){var o,t=v(h).closest(".e-droppable");if(t.length>0&&(o=v(t).data("ejDroppable"),!a.isNullOrUndefined(o)))return o},_elementUnderCursor:function(h){return"touchmove"==h.type||"touchstart"==h.type||"touchend"==h.type||"taphold"==h.type?document.elementFromPoint(h.originalEvent.changedTouches[0].clientX,h.originalEvent.changedTouches[0].clientY):document.elementFromPoint(h.clientX,h.clientY)},_contains:function(h,t){try{return v.contains(h,t)||h==t}catch{return!1}},_wireEvents:function(){1==a.isDevice()&&1==this.model.dragOnTaphold?this._on(this.element,"taphold",this._initialize):this._on(this.element,a.eventType.mouseDown,this._initialize),this._dragStartHandler=v.proxy(this._dragStart,this),this._destroyHandler=v.proxy(this._destroy,this),this._dragStopHandler=v.proxy(this._dragStop,this),this._dragHandler=v.proxy(this._drag,this),this._dragMouseEnterHandler=v.proxy(this._dragMouseEnter,this),this._dragMouseOutHandler=v.proxy(this._dragMouseOut,this)},_getMousePosition:function(h){return h=this._getCoordinate(h),{left:(this.model.clone?h.pageX:h.pageX-this._relXposition)-[this.margins.left+this.model.cursorAt.left],top:(this.model.clone?h.pageY:h.pageY-this._relYposition)-[this.margins.top+this.model.cursorAt.top]}},_getCoordinate:function(h){var t=h;return("touchmove"==h.type||"touchstart"==h.type||"touchend"==h.type||"taphold"==h.type&&"msie"!=a.browserInfo().name)&&(t=h.originalEvent.changedTouches[0]),t},_getScrollParent:function(h){return h&&h.scrollHeight>h.clientHeight?h:h&&h.parentNode?this._getScrollParent(h.parentNode):void 0}}),function(v,a){a.widget("ejDroppable","ej.Droppable",{element:null,model:null,validTags:["div","span","a"],dropElements:[],defaults:{accept:null,scope:"default",drop:null,over:null,out:null,create:null,destroy:null},_init:function(){this._mouseOver=!1,this.dropElements.push(this)},_setModel:function(){},_destroy:function(){v(this.element).off("mouseup",v.proxy(this._drop,this))},_over:function(s){this._mouseOver||(this._trigger("over",s),this._mouseOver=!0)},_out:function(s){this._mouseOver&&(this._trigger("out",s),this._mouseOver=!1)},_drop:function(s,h){var l,t=s.target,o=v(t).parents(".e-droppable");for(v(t).hasClass("e-droppable")&&o.push(t),l=0;l<this.dropElements.length;l++)v(o).is(v(this.dropElements[l].element))&&this.dropElements[l]._dropEvent.call(this.dropElements[l],s,h)},_dropEvent:function(s,h){var l,t=a.widgetBase.droppables[this.model.scope],o=!a.isNullOrUndefined(t.helper)&&t.helper.is(":visible");o&&"touchend"==s.type&&v(t.helper).hide(),l=this._isDropArea(s),o&&"touchend"==s.type&&v(t.helper).show(),t&&!a.isNullOrUndefined(this.model.drop)&&o&&l.canDrop&&this.model.drop(v.extend(s,{dropTarget:l.target,dragElement:h},!0),t)},_isDropArea:function(s){var t,o,l,p,g,h={canDrop:!0,target:v(s.target)};if("touchend"==s.type)for(t=s.originalEvent.changedTouches[0],o=document.elementFromPoint(t.clientX,t.clientY),h.canDrop=!1,l=v(o).parents(),p=0;p<this.element.length;p++){if(v(o).is(v(this.element[p])))h={canDrop:!0,target:v(o)};else for(g=0;g<l.length;g++)if(v(this.element[p]).is(v(l[g]))){h={canDrop:!0,target:v(o)};break}if(h.canDrop)break}return h}})}(jQuery,Syncfusion),function(v,a){a.widget("ejResizable","ej.resizable",{element:null,model:null,validTags:["div","span","a"],defaults:{scope:"default",handle:null,distance:1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,cursorAt:{top:1,left:1},resizeStart:null,resize:null,resizeStop:null,create:null,destroy:null,helper:function(){return v('<div class="e-resize-helper" />').html("resizable").appendTo(document.body)}},_init:function(){this.target=this.element,this._browser=a.browserInfo(),this._isIE8="msie"==this._browser.name&&"8.0"==this._browser.version,this._isIE9="msie"==this._browser.name&&"9.0"==this._browser.version,null!=this.handle?v(this.target).delegate(this.handle,a.eventType.mouseDown,v.proxy(this._mousedown,this)).delegate(this.handle,"resizestart",this._blockDefaultActions):v(this.target).on(a.eventType.mouseDown,v.proxy(this._mousedown,this)),this._resizeStartHandler=v.proxy(this._resizeStart,this),this._destroyHandler=v.proxy(this._destroy,this),this._resizeStopHandler=v.proxy(this._resizeStop,this),this._resizeHandler=v.proxy(this._resize,this),this._resizeMouseEnterHandler=v.proxy(this._resizeMouseEnter,this)},_mouseover:function(s){v(s.target).hasClass("e-resizable")?(v(s.target).css({cursor:"se-resize"}),v(this.target).on(a.eventType.mouseDown,v.proxy(this._mousedown,this))):(v(this.target).off(a.eventType.mouseDown),v(this.target).css({cursor:""}))},_blockDefaultActions:function(s){s.cancelBubble=!0,s.returnValue=!1,s.preventDefault&&s.preventDefault(),s.stopPropagation&&s.stopPropagation()},_setModel:function(){},_mousedown:function(s){var h=s;return s=this._getCoordinate(s),this.target=v(h.currentTarget),this._initPosition={x:s.pageX,y:s.pageY},this._pageX=s.pageX,this._pageY=s.pageY,v(document).on(a.eventType.mouseMove,this._resizeStartHandler).on(a.eventType.mouseUp,this._destroyHandler),v(document.documentElement).trigger(a.eventType.mouseDown,h),!1},_resizeStart:function(s){var h;if(v(s.target).hasClass("e-resizable")){s=this._getCoordinate(s);var p,g,o=this._initPosition.x-s.pageX,l=this._initPosition.y-s.pageY;if(Math.sqrt(o*o+l*l)>=this.model.distance){if(null!=this.model.resizeStart&&this._trigger("resizeStart",{event:s,element:this.target}))return;h=this.model.helper({element:this.target}),p=s.pageX-this._pageX+h.outerWidth(),g=s.pageY-this._pageY+h.outerHeight(),this._pageX=s.pageX,this._pageY=s.pageY,this.getElementPosition(h),v(document).off(a.eventType.mouseMove,this._resizeStartHandler).off(a.eventType.mouseUp,this._destroyHandler).on(a.eventType.mouseMove,this._resizeHandler).on(a.eventType.mouseUp,this._resizeStopHandler).on("mouseenter",this._resizeMouseEnterHandler).on("selectstart",!1),a.widgetBase.resizables[this.scope]={resizable:this.target,helper:h.css({width:p,height:g}),destroy:this._destroyHandler}}}},_resize:function(s){var h,t,o,p;s=this._getCoordinate(s),this.getElementPosition(a.widgetBase.resizables[this.scope].helper),p=this.model.helper({element:this.target}),h=s.pageX-this._pageX+p.outerWidth(),t=s.pageY-this._pageY+p.outerHeight(),this._pageX=s.pageX,this._pageY=s.pageY,h<this.model.minWidth&&(o=this.model.minWidth-h,h=this.model.minWidth,this._pageX=s.pageX+o),t<this.model.minHeight&&(o=this.model.minHeight-t,t=this.model.minHeight,this._pageY=s.pageY+o),null!=this.model.maxHeight&&t>this.model.maxHeight&&(o=t-this.model.maxHeight,t=this.model.maxHeight,this._pageY=s.pageY-o),null!=this.model.maxWidth&&h>this.model.maxWidth&&(o=h-this.model.maxWidth,h=this.model.maxWidth,this._pageX=s.pageX-o),a.widgetBase.resizables[this.scope].helper.css({width:h,height:t}),this._trigger("resize",{element:this.target})},_resizeStop:function(s){null!=this.model.resizeStop&&this._trigger("resizeStop",{element:this.target}),("mouseup"==s.type||"touchend"==s.type)&&this._destroy(s)},_resizeMouseEnter:function(s){this._isIE9?this._resizeManualStop(s):this._isIE8?0==s.button&&this._resizeManualStop(s):0==s.buttons&&this._resizeManualStop(s)},_resizeManualStop:function(s){null!=this.model.resizeStop&&this._trigger("resizeStop",{element:this.target}),this._destroy(s)},_destroy:function(){v(document).off(a.eventType.mouseUp,this._destroyHandler).off(a.eventType.mouseUp,this._resizeStopHandler).off(a.eventType.mouseMove,this._resizeStartHandler).off(a.eventType.mouseMove,this._resizeHandler).off("mouseenter",this._resizeMouseEnterHandler).off("selectstart",!1),a.widgetBase.resizables[this.scope]=null},getElementPosition:function(s){return null!=s&&s.length>0?{left:s[0].offsetLeft,top:s[0].offsetTop}:null},_getCoordinate:function(s){var h=s;return("touchmove"==s.type||"touchstart"==s.type||"touchend"==s.type)&&(h=s.originalEvent.changedTouches[0]),h}})}(jQuery,Syncfusion),function(v,a,s,h){"use strict";a.widget("ejScrollBar","ej.ScrollBar",{defaults:{orientation:"horizontal",viewportSize:0,height:18,width:18,smallChange:57,largeChange:57,value:0,maximum:0,minimum:0,buttonSize:18,infiniteScrolling:!1},validTags:["div"],type:"transclude",dataTypes:{buttonSize:"number",smallChange:"number",largeChange:"number"},observables:["value"],value:a.util.valueFunction("value"),_enabled:!0,content:function(){return this._content&&this._content.length||(this._content=this.element.find("horizontal"===this.model.orientation?".e-hhandle":".e-vhandle")),this._content},_init:function(){this.element.addClass("e-widget"),this._ensureScrollers(),this.content(),this._setInitialValues()},_setInitialValues:function(){this.element.addClass(this.model.orientation===a.ScrollBar.Orientation.Horizontal?"e-hscrollbar":"e-vscrollbar"),(0!==this.value()||0!==this.model.minimum)&&(this.value()<this.model.minimum&&this.value(this.model.minimum),this.scroll(this.value(),"none"))},_ensureScrollers:function(){this.model.height&&this.element.height(this.model.height),this.model.width&&this.element.width(this.model.width),this._scrollData||(this._scrollData="vertical"===this.model.orientation?this._createScroller("Height","Y","Top","e-v"):this._createScroller("Width","X","Left","e-h"))},_setModel:function(t){for(var o in t){if("value"!==o){this.refresh();break}this.value()&&this.scroll(this.value(),"none")}},_createScroller:function(t,o,l,p){var C,g={};return g.dimension=t,g.xy=o,g.position=l,g.css=p,g.uDimension=t,this._calculateLayout(g),this._createLayout(g),C=this[g.main].find(".e-button"),this._off(C,"mousedown")._on(C,"mousedown",{d:g,step:1},this._spaceMouseDown),this._off(this[g.scroll],"mousedown")._on(this[g.scroll],"mousedown",{d:g},this._spaceMouseDown),this._off(this[g.handler],"mousedown touchstart")._on(this[g.handler],"mousedown touchstart",{d:g},this._mouseDown),g},_createLayout:function(t){var b,o="<div class='"+t.css+"{0}' style='"+t.dimension+":{1}px'>{2}</div>",l=v.fn.jquery,p={};p[t.dimension]=t.modelDim,b=a.buildTag("div."+t.css+"scroll e-box",String.format(o,"up e-chevron-up_01 e-icon e-box e-button",t.buttonSize)+String.format(o,"handlespace",t.handleSpace,String.format(o,"handle e-box e-pinch",t.handle))+String.format(o,"down e-chevron-down_01 e-icon e-box e-button",t.buttonSize),p),this.element.append(b),this.element.find(".e-vhandle").addClass("e-v-line e-icon"),this.element.find(".e-hhandle").addClass("e-h-line e-icon"),("1.7.1"===l||"1.7.2"===l)&&t.uDimension.toLowerCase(),this[t.handler]=this.element.find("."+t.handler),this[t.handler].css("transition","none"),this[t.scroll]=this[t.handler].parent(),this[t.main]=this[t.scroll].parent(),this[t.main].find(".e-button")["outer"+t.uDimension](t.buttonSize)},_calculateLayout:function(t){var o,l;t.scrollDim="scroll"+t.dimension,t.lPosition=t.position.toLowerCase(),t.clientXy="page"+t.xy,t.scrollVal="scroll"+t.position,t.scrollOneStepBy=this.model.smallChange,t.modelDim=this.model[t.dimension=t.dimension.toLowerCase()],t.handler=t.css+"handle",t.buttonSize=this.model.buttonSize,t.main=t.css+"scroll",t.scroll=t.css+"ScrollSpace",t.handleSpace=t.modelDim-2*t.buttonSize,t.scrollable=this.model.maximum-this.model.minimum,o=this.model.height,"horizontal"===this.model.orientation&&(o=this.model.width),t.handle=this.model.viewportSize/(this.model.maximum-this.model.minimum+this.model.viewportSize)*(o-2*this.model.buttonSize),l=!a.isNullOrUndefined(this.model.elementHeight)&&"string"==typeof this.model.elementHeight&&-1!=this.model.elementHeight.indexOf("%"),t.handle<20&&!l&&(t.handle=20),t.onePx=t.scrollable/(t.handleSpace-t.handle),t.fromScroller=!1,t.up=!0,t.vInterval=h},_updateLayout:function(t){this.element.height(this.model.height),this.element.width(this.model.width);var o=this.element.find("."+t.css+"handle"),l=this.element.find("."+t.css+"handlespace"),p=o.css("width"==t.dimension?"left":"top"),g="width"==t.dimension?l.outerWidth():l.outerHeight();p!==h&&"auto"!==p&&(g>=t.handle+parseFloat(p)||o.css("width"===t.dimension?"left":"top",this.model.enableRTL||parseFloat(g)-t.handle>0?parseFloat(g)-t.handle:0)),this.element.find("."+t.css+"scroll").css(t.dimension,t.modelDim+"px").find(".e-button").css(t.dimension,this.model.buttonSize).end().find("."+t.css+"handlespace").css(t.dimension,t.handleSpace+"px").find("."+t.css+"handle").css(t.dimension,t.handle+"px")},refresh:function(){this._ensureScrollers(),this.value()&&this.scroll(this.value(),"none"),this._scrollData&&(this._calculateLayout(this._scrollData),this._updateLayout(this._scrollData))},scroll:function(t,o,l,p){var b,C,g=this._scrollData;if(!l)if(this.model.orientation===a.ScrollBar.Orientation.Horizontal){if(this._trigger("scroll",{source:o||"custom",scrollData:this._scrollData,scrollLeft:t,originalEvent:p}))return}else if(this._trigger("scroll",{source:o||"custom",scrollData:this._scrollData,scrollTop:t,originalEvent:p}))return;this._scrollData&&(!this._scrollData.enableRTL||"mousemove"!=p&&"touchmove"!=p||"msie"==a.browserInfo().name?!this._scrollData.enableRTL||"mousemove"!=p&&"touchmove"!=p||"msie"!=a.browserInfo().name?this.value(t):this.value(-1*t):this.value(-g.scrollable+t),this.content().length>0&&(this.model.orientation===a.ScrollBar.Orientation.Horizontal?(t=(b=this.element.find(".e-hhandlespace").width()-this.element.find(".e-hhandle").outerWidth())<(t-this.model.minimum)/this._scrollData.onePx?b:(t-this.model.minimum)/this._scrollData.onePx,this._scrollData.enableRTL&&("mousemove"==p||"touchmove"==p)&&"msie"!=a.browserInfo().name&&(t=b-t)>0&&(t*=-1),this._scrollData.enableRTL&&("mousemove"==p||"touchmove"==p)&&"msie"==a.browserInfo().name&&(t=-t),this._scrollData.enableRTL&&t>0&&!this._scrollData._scrollleftflag&&(t=0),this._scrollData._scrollleftflag&&(t>0&&(t*=-1),this.value(t)),this.content()[0].style.left=t+"px",this._scrollData._scrollleftflag=!1):(t=(C=this.element.find(".e-vhandlespace").height()-this.element.find(".e-vhandle").outerHeight())<(t-this.model.minimum)/this._scrollData.onePx?C:(t-this.model.minimum)/this._scrollData.onePx,"msie"==a.browserInfo().name&&isNaN(t)&&(t=""),this.content()[0].style.top=t+"px")))},_changeTop:function(t,o,l){var p,g;return g=(p=this.value())+o,t.step=o,t.enableRTL&&o<0||o>0&&!t.enableRTL?t.enableRTL?g<-1*this.model.maximum&&(g=-1*this.model.maximum):g>this.model.maximum&&(g=this.model.maximum):t.enableRTL?g>this.model.minimum&&(g=this.model.minimum):g<this.model.minimum&&(g=this.model.minimum),(g!==p||this.model.infiniteScrolling)&&this.scroll(g,l),g!==p},_mouseUp:function(t){if(t.data){var o=t.data.d;clearInterval(o.vInterval),"touchend"==t.type&&v(t.target).removeClass("e-touch"),"mouseup"!==t.type&&"touchend"!==t.type&&(t.toElement||t.relatedTarget||t.target)||(this._prevY=this._d=this._data=null,this._off(v(document),"mousemove touchmove",this._mouseMove),v(document).off("mouseup touchend",a.proxy(this._mouseUp,this)),o.fromScroller=!1,this[o.scroll].off("mousemove"),this[o.handler].off("mousemove").css("transition",""),"thumb"!==t.data.source||a.isNullOrUndefined(this.model)||v.when(this.content()).done(a.proxy(function(){this._trigger("thumbEnd",{originalEvent:t,scrollData:o})},this))),o.up=!0}},_mouseDown:function(t){this._enabled&&(this._d=t,this._data=this._d.data.d,this._data.target=this._d.target,this._data.fromScroller=!0,this[this._data.handler].css("transition","none"),this._on(v(document),"mousemove touchmove",{d:this._data,source:"thumb"},this._mouseMove),this._trigger("thumbStart",{originalEvent:this._d,scrollData:this._data}),v(document).one("mouseup touchend",{d:this._data,source:"thumb"},a.proxy(this._mouseUp,this)),"touchstart"==t.type&&v(t.target).addClass("e-touch"))},_mouseCall:function(t){t.type="mouseup",this._mouseUp(t)},_mouseMove:function(t){var o,b,l=0,p=parseInt(this[this._data.handler].css(this._data.lPosition))||0;if(t.preventDefault(),1,a.isNullOrUndefined(t.target.tagName)){if(v(t.target).is(document))return void this._mouseCall(t)}else if("iframe"===t.target.tagName.toLowerCase())return void this._mouseCall(t);b="mousemove"==t.type?t[this._data.clientXy]:t.originalEvent.changedTouches[0][this._data.clientXy],this._prevY&&b!==this._prevY&&(l=b-this._prevY,this.model.infiniteScrolling?(p+=l,this._data.step=l,(this._data.enableRTL?p>0:p<0)&&(p=0),p*(this._data.enableRTL?-1:1)+this._data.handle>=this._data.handleSpace&&(p=(this._data.handleSpace-this._data.handle)*(this._data.enableRTL?-1:1)),o=Math.ceil(p*this._data.onePx),this.scroll(o,"thumb")):this._changeTop(this._data,o=l*this._data.onePx,"thumb",this._d),this._trigger("thumbMove",{originalEvent:t,direction:this._data.step>0?1:-1,scrollData:this._data})),this._prevY=b},_spaceMouseDown:function(t){var o,l,p,g;t.data&&this._enabled&&(l=this[(o=t.data.d).handler][0].getBoundingClientRect(),1===t.which&&t.target!==this[o.handler][0])&&(p=t.data.step?this.model.smallChange:this.model.largeChange,g=t.data.top||l[o.lPosition],t[o.clientXy]=t[o.clientXy]||0,t[o.clientXy]-s.scrollY<g&&(p*=-1),o.target=t.target,this._changeTop(o,p,3===p?"track":"button",t),1!==t.data.step&&this[o.scroll].mousemove(function(){o.up=!0}),o.up=!1,o.vInterval=setInterval(a.proxy(function(){(p<0?g+p/o.onePx<t[o.clientXy]:g+o.handle+p/o.onePx>t[o.clientXy])&&(o.up=!0),o.up?clearInterval(o.vInterval):(this._changeTop(o,p,3===p?"track":"button",t),g=t.data&&t.data.top||l[o.lPosition])},this),150),v(document).one("mouseup",{d:o},a.proxy(this._mouseUp,this)),v(document).mouseout({d:o},a.proxy(this._mouseUp,this)))},_remove:function(){this.model.orientation===a.ScrollBar.Orientation.Horizontal&&this.element.find(".e-hscroll").remove(),this.model.orientation===a.ScrollBar.Orientation.Vertical&&this.element.find(".e-vscroll").remove(),this._scrollData=null,this._content=null},_destroy:function(){this.element.remove()}}),a.ScrollBar.Orientation={Horizontal:"horizontal",Vertical:"vertical"}}(jQuery,Syncfusion,window),function(v,a,s,h){"use strict";a.widget("ejScroller","ej.Scroller",{_addToPersist:["scrollLeft","scrollTop"],defaults:{height:250,autoHide:!1,animationSpeed:600,width:0,scrollOneStepBy:57,buttonSize:18,scrollLeft:0,scrollTop:0,targetPane:null,scrollerSize:18,enablePersistence:!1,enableRTL:h,enableTouchScroll:!0,preventDefault:!1,enabled:!0,create:null,destroy:null,wheelStart:null,wheelMove:null,wheelStop:null},validTags:["div"],type:"transclude",dataTypes:{buttonSize:"number",scrollOneStepBy:"number"},observables:["scrollTop","scrollLeft"],scrollTop:a.util.valueFunction("scrollTop"),scrollLeft:a.util.valueFunction("scrollLeft"),keyConfigs:{up:"38",down:"40",left:"37",right:"39",pageUp:"33",pageDown:"34",pageLeft:"ctrl+37",pageRight:"ctrl+39"},content:function(){return!this._contentOffsetParent&&this._content&&this._content[0]&&(this._contentOffsetParent=this._content[0].offsetParent),this._content&&this._content.length&&this._contentOffsetParent||(this._content=this.element.children().first().addClass("e-content")),this._content},_setFirst:!0,_updateScroll:!1,_init:function(){a.isNullOrUndefined(this.content()[0])||(this._isJquery3=parseInt(v.fn.jquery)>=3,this._tempWidth=this.model.width,this._prevScrollWidth=this.content()[0].scrollWidth,this._prevScrollHeight=this.content()[0].scrollHeight,this.element.addClass("e-widget"),this.content(),this._browser=a.browserInfo().name,this._wheelStart=!0,this._eleHeight=this.model.height,this._eleWidth=this.model.width,this._isNativeScroll=a.isDevice(),null!=this.model.targetPane&&this.content().find(this.model.targetPane).addClass("e-target-pane"),this.model.enableRTL===h&&(this.model.enableRTL="rtl"===this.element.css("direction")),this.model.autoHide&&this._on(this.element,"mousedown",this._mouseDownInitContent),this._ensureScrollers(),this.model.enableRTL&&(this.element.addClass("e-rtl"),this._rtlScrollLeftValue=this.content().scrollLeft()),this._isNativeScroll&&this.element.addClass("e-native-scroll"),this._on(this.content(),"scroll",this._scroll),null!=this.model.targetPane&&this._on(this.content().find(this.model.targetPane),"scroll",this._scroll),this.scrollLeft()&&this._setScrollLeftValue(this.scrollLeft()),this.scrollTop()&&this.scrollTop(this._isJquery3?Math.ceil(this.scrollTop()):this.scrollTop()),this.content().scrollTop(this.scrollTop()),this.model.autoHide&&this._autohide(),this.model.enabled?this.enable():this.disable(),this._setDimension(),(this._prevScrollWidth!==this.content()[0].scrollWidth||this._prevScrollHeight!==this.content()[0].scrollHeight)&&this.refresh()),this._addActionClass(),this._isNativeScroll&&this._on(this.content(),"scrollstop",this._touchDown)},_mouseDownInitContent:function(){this.model.autoHide&&this._on(v(document),"mouseup",this._mouseUpContent),this.element.addClass("e-scroll-focus")},_addActionClass:function(){"msie"==this._browser&&(this.content().removeClass("e-pinch e-pan-x e-pan-y"),this._vScrollbar&&this._hScrollbar?this.content().addClass("e-pinch"):this._vScrollbar&&!this._hScrollbar?this.content().addClass("e-pan-x"):this._hScrollbar&&!this._vScrollbar&&this.content().addClass("e-pan-y"))},_setDimension:function(){a.isNullOrUndefined(this.model.height)||"string"!=typeof this.model.height||-1==this.model.height.indexOf("%")||(this._vScroll||this._hScroll?this.model.height=this._convertPercentageToPixel(parseInt(this._eleHeight),this.element.parent().height()):v(this.content()[0]).height("")),a.isNullOrUndefined(this.model.width)||"string"!=typeof this.model.width||-1==this.model.width.indexOf("%")||(this._hScroll||this._vScroll?this.model.width=this._convertPercentageToPixel(parseInt(this._eleWidth),this.element.parent().width()):v(this.content()[0]).width(""))},_setScrollLeftValue:function(t){this.model.enableRTL&&(t="mozilla"==a.browserInfo().name?t<0?t:-1*t:!a.isNullOrUndefined(this._rtlScrollLeftValue)&&("chrome"==a.browserInfo().name||this._rtlScrollLeftValue>0)?t<0?this._rtlScrollLeftValue+t:this._rtlScrollLeftValue-t:Math.abs(t)),this.content().scrollLeft(t)},_ensureScrollers:function(){var o,t=v.fn.jquery;this.model.height="string"==typeof this.model.height&&-1!=this.model.height.indexOf("px")?parseInt(this.model.height):this.model.height,this.model.width="string"==typeof this.model.width&&-1!=this.model.width.indexOf("px")?parseInt(this.model.width):this.model.width,this.model.height&&this.element.height(this.model.height),this.model.width&&this.element.width(this.model.width),this._off(this.content(),"mousedown touchstart"),this.content().length>0&&(this.isVScroll()?(this._tempVscrollbar||(this._vScrollbar=this._createScrollbar(a.ScrollBar.Orientation.Vertical,this.isHScroll()),this._tempVscrollbar=this._vScrollbar),this.model.enableTouchScroll&&this._on(this.content(),"mousedown touchstart",{d:this._vScrollbar._scrollData},this._mouseDownOnContent)):(this._vScrollbar=null,this._tempVscrollbar=this._vScrollbar,this.element.children(".e-vscrollbar").remove()),this.isHScroll()?(this._tempHscrollbar||(this._hScrollbar=this._createScrollbar(a.ScrollBar.Orientation.Horizontal,this.isVScroll()),this._tempHscrollbar=this._hScrollbar),this.model.enableTouchScroll&&this._on(this.content(),"mousedown touchstart",{d:this._hScrollbar._scrollData},this._mouseDownOnContent)):(this._hScrollbar=null,this._tempHscrollbar=this._hScrollbar,this.element.children(".e-hscrollbar").remove()),this._vScrollbar||this._hScrollbar||this.content().css({width:"auto",height:"auto"}),this.element.find(".e-hscroll").length>0||this._vScrollbar&&this.content().outerHeight(this.content().outerHeight()-1),"1.7.1"===t||"1.7.2"===t?(this._contentHeight="height",this._contentWidth="width"):(this._contentHeight="outerHeight",this._contentWidth="outerWidth"),this._hScroll=this.isHScroll(),this._vScroll=this.isVScroll(),this._hScroll||this._vScroll?(this.content().addClass("e-content"),o=this._exactElementDimension(this.element),this._elementDimension(o),null!==this.model.targetPane&&this.content().find(this.model.targetPane)[0]!==h?this.content().find(this.model.targetPane)[0].scrollLeft=this.scrollLeft():!this.isHScroll()&&this.element.children(".e-hscrollbar").length>0&&this._ensureScrollers(),isNaN(this._eleWidth)&&this._eleWidth.indexOf("%")>0&&isNaN(this._eleHeight)&&this._eleHeight.indexOf("%")>0&&v(s).on("resize",v.proxy(this._resetScroller,this))):this.content().removeClass("e-content"),this._setDimension(),this._parentHeight=v(this.element).parent().height(),this._parentWidth=v(this.element).parent().width())},_elementDimension:function(t){this._ElementHeight=t.height-(this.border_bottom+this.border_top+this.padding_bottom+this.padding_top),this.content()[this._contentHeight](this._ElementHeight-(this._hScroll&&!this.model.autoHide||this.element.find(".e-hscrollbar").is(":visible")?this.model.scrollerSize:0)),this._ElementWidth=t.width-(this.border_left+this.border_right+this.padding_left+this.padding_right),this.content()[this._contentWidth](this._ElementWidth-(this._vScroll&&!this.model.autoHide||this.element.find(".e-vscrollbar").is(":visible")?this.model.scrollerSize:0))},_convertPercentageToPixel:function(t,o){return Math.floor(t*o/100)},isHScroll:function(){var l,t=parseFloat(v.fn.jquery)>=3?Math.ceil(this.element.width()):this.element.width(),o=this.model.width;if(a.isNullOrUndefined(this.model.width)||(o="string"==typeof this.model.width&&-1!=this.model.width.indexOf("%")?t:parseFloat(v.fn.jquery)>=3&&!isNaN(parseFloat(this.model.width))?Math.ceil(parseFloat(this.model.width)):this.model.width),a.isNullOrUndefined(this._tempWidth)||"string"!=typeof this._tempWidth||-1==this._tempWidth.indexOf("%")){if(o>0){if(l=this.content().find(this.model.targetPane),null!=this.model.targetPane&&l.length)return l[0].scrollWidth+l.siblings().width()>o;if(this.content()[0].scrollWidth>o)return!0;if(this.content()[0].scrollWidth==o){if(this.model.autoHide&&v(this.content()[0]).find("> *").length>0)return v(this.content()[0]).find("> *")[0].scrollWidth>v(this.content()[0]).width();if(v(this.content()[0]).find("> *").length>0)return v(this.content()[0]).find("> *")[0].scrollWidth>(a.isNullOrUndefined(this._tempVscrollbar)?o:o-this.model.scrollerSize)}return!1}return!1}return a.isNullOrUndefined(this.model.width)||"string"!=typeof this.model.width||-1==this.model.width.indexOf("%")?this.content()[0].scrollWidth>t||void 0:this.content()[0].scrollWidth>t},isVScroll:function(){return a.isNullOrUndefined(this.model.height)||"string"!=typeof this.model.height||-1==this.model.height.indexOf("%")?!!(this.model.height>0&&(this.content()[0].scrollHeight>Math.ceil(this.model.height)||this.isHScroll()&&(this.content()[0].scrollHeight==this.model.height||this.content()[0].scrollHeight>this.model.height-(this.model.scrollerSize-2)))):this.content()[0].scrollHeight>this.element.outerHeight()},_setModel:function(t){for(var o in t)switch(o){case"enableRTL":t[o]?(this.element.addClass("e-rtl"),this._rtlScrollLeftValue=this.content().scrollLeft(),a.isNullOrUndefined(this._hScrollbar)||(this._hScrollbar._scrollData.enableRTL=!0)):(this.element.removeClass("e-rtl"),a.isNullOrUndefined(this._hScrollbar)||(this._hScrollbar._scrollData.enableRTL=!1)),this._hScrollbar&&(this.element.find(".e-hhandle").css("left",0),this._hScrollbar.value(0));break;case"preventDefault":this.model.preventDefault=t[o];break;case"scrollLeft":(parseFloat(a.util.getVal(t[o]))<0||!this._hScroll)&&(t[o]=0),this._hScrollbar&&(t[o]=parseFloat(a.util.getVal(t[o]))>this._hScrollbar._scrollData.scrollable?this._hScrollbar._scrollData.scrollable:parseFloat(a.util.getVal(t[o]))),this._setScrollLeftValue(parseFloat(t[o])),this.scrollLeft(t[o]),!this._hScrollbar||this._hScrollbar._scrollData._scrollleftflag&&this.model.enableRTL||this.scrollX(t[o],!0);break;case"scrollTop":this._vScrollbar&&(t[o]=parseFloat(a.util.getVal(t[o]))>this._vScrollbar._scrollData.scrollable?this._vScrollbar._scrollData.scrollable:parseFloat(a.util.getVal(t[o]))),(parseFloat(t[o])<0||!this._vScroll)&&(t[o]=0),this.content().scrollTop(parseFloat(t[o])),this.scrollTop(t[o]),this.scrollY(t[o],!0);break;case"touchScroll":this.model.enableTouchScroll?(this._vScrollbar&&this._on(this.content(),"mousedown touchstart",{d:this._vScrollbar._scrollData},this._mouseDownOnContent),this._hScrollbar&&this._on(this.content(),"mousedown touchstart",{d:this._hScrollbar._scrollData},this._mouseDownOnContent)):this._off(this.content(),"mousedown touchstart");break;case"scrollOneStepBy":this._vScrollbar&&(this._vScrollbar._scrollData.scrollOneStepBy=t[o],this._vScrollbar.model.smallChange=t[o]),this._hScrollbar&&(this._hScrollbar._scrollData.scrollOneStepBy=t[o],this._hScrollbar.model.smallChange=t[o]);break;case"buttonSize":this._vScrollbar&&(this._vScrollbar.model.buttonSize=this.model.buttonSize),this._hScrollbar&&(this._hScrollbar.model.buttonSize=this.model.buttonSize),this.refresh();break;case"height":this._eleHeight=t[o],this.refresh();break;case"width":this._eleWidth=t[o],this.refresh();break;case"enabled":t[o]?this.enable():this.disable();break;default:this.refresh()}},_createScrollbar:function(t,o){var p,g,b,C,T,L,I,l=this,D=document.createElement("div");return t===a.ScrollBar.Orientation.Vertical?(g=this.model.scrollerSize,b=p=a.isNullOrUndefined(this.model.height)||"string"!=typeof this.model.height||-1==this.model.height.indexOf("%")?this.model.height-(o?this.model.scrollerSize:0):this.element.height()-(o?this.model.scrollerSize:0),C=this.content()[0].scrollHeight,T=this.scrollTop()):(g=p=this.model.width-(o?this.model.scrollerSize:0),b=this.model.scrollerSize,a.isNullOrUndefined(this.model.width)||"string"!=typeof this.model.width||-1==this.model.width.indexOf("%")?(L=this.content().find(this.model.targetPane),C=null!=this.model.targetPane&&L.length?L[0].scrollWidth+L.parent().width()-L.width():this.content()[0].scrollWidth):(g=p=this.element.width()-(o?this.model.scrollerSize:0),C=this.content()[0].scrollWidth),T=this.scrollLeft()),this.element.children(".e-hscrollbar").length>0?v(this.element.children(".e-hscrollbar")).before(D):this.element.append(D),v(D).ejScrollBar({elementHeight:l._eleHeight,elementWidth:l._eleWidth,buttonSize:l.model.buttonSize,orientation:t,viewportSize:p,height:b,width:g,maximum:C-p,value:T,smallChange:this.model.scrollOneStepBy,largeChange:3*this.model.scrollOneStepBy,scroll:a.proxy(this._scrollChanged,this),thumbEnd:a.proxy(this._thumbEnd,this),thumbStart:a.proxy(this._thumbStart,this),thumbMove:a.proxy(this._thumbMove,this)}),I=v(D).ejScrollBar("instance"),t!==a.ScrollBar.Orientation.Vertical&&o||this._off(this.element,"msie"==this._browser?"wheel mousewheel":"mousewheel DOMMouseScroll",this._mouseWheel)._on(this.element,"msie"==this._browser?"wheel mousewheel":"mousewheel DOMMouseScroll",{d:I._scrollData},this._mouseWheel),t===a.ScrollBar.Orientation.Horizontal?this._scrollXdata=I._scrollData:this._scrollYdata=I._scrollData,t===a.ScrollBar.Orientation.Horizontal&&this.model.enableRTL&&(I._scrollData.enableRTL=!0),I._enabled=this.model.enabled,I},_updateScrollbar:function(t,o){var l=t===a.ScrollBar.Orientation.Vertical?this._vScrollbar:this._hScrollbar;l&&(t===a.ScrollBar.Orientation.Vertical?(l.model.width=this.model.scrollerSize,l.model.height=l.model.viewportSize=this.model.height-(o?this.model.scrollerSize:0),l.model.maximum=this.content()[0].scrollHeight-l.model.viewportSize,l.model.value=this.scrollTop()):(l.model.width=l.model.viewportSize=this.model.width-(o?this.model.scrollerSize:0),l.model.height=this.model.scrollerSize,l.model.maximum=(null!=this.model.targetPane&&this.content().find(this.model.targetPane).length>0?this.content().find(this.model.targetPane)[0].scrollWidth+(this.content().width()-this.content().find(v(this.model.targetPane)).outerWidth()):this.content()[0].scrollWidth)-l.model.viewportSize,this.model.enableRTL||(l.model.value=this.scrollLeft())))},_autohide:function(){this.model.autoHide?(this.element.addClass("e-autohide"),this._on(this.element,"mouseenter mouseleave touchstart touchend",this._scrollerHover),v(":hover").filter(this.element[0]).length||this.content().siblings(".e-scrollbar.e-js").hide(),this._elementDimension(this._exactElementDimension(this.element))):(this.element.removeClass("e-autohide"),this._off(this.element,"mouseenter mouseleave touchstart touchend",this._scrollerHover),this.content().siblings(".e-scrollbar.e-js").show())},_mouseUpContent:function(t){"mouseup"==t.type&&(this.element.removeClass("e-scroll-focus"),this._autohide(),this._off(v(document),"mouseup",this._mouseUpContent))},_scrollChanged:function(t){this._updateScroll=!0,t.scrollTop!==h?this.scrollY(t.scrollTop,!0,"",t.source):t.scrollLeft!==h&&this.scrollX(t.scrollLeft,!0,"",t.source),this._updateScroll=!1;var o=this;v.when(this.content()).done(a.proxy(function(){o._trigger("scrollEnd",{scrollData:t})}))},_bindBlurEvent:function(t,o){this._scrollEle=v(t).data("ejScrollBar"),this._event=o,this._listener=function(){this._scrollEle._off(v(document),"mousemove touchmove",this._scrollEle._mouseMove),v(document).off("mouseup touchend",a.proxy(this._scrollEle._mouseUp,this._scrollEle)),this._scrollEle._prevY=null,this._off(v(document),"mousemove touchmove",this._mouseMove),this._off(v(document),"mouseup touchend",this._mouseUp),this._off(v(s),"blur"),this._scrollEle._trigger("thumbEnd",{originalEvent:this._event,scrollData:this._evtData})},this._on(v(s),"blur",this._listener)},_thumbStart:function(t){this._evtData=t.scrollData;var o=this.element.find("."+t.scrollData.handler).closest(".e-scrollbar");o=this.element.find("."+t.scrollData.handler).closest(".e-scrollbar"),this._bindBlurEvent(o,t),this._trigger("thumbStart",t)},_thumbMove:function(t){this._trigger("thumbMove",t)},_thumbEnd:function(t){this._trigger("thumbEnd",t),this._off(v(s),"blur")},refresh:function(t){var o,l;t?(this._tempVscrollbar=null,this.element.children(".e-vscrollbar").remove(),this._tempHscrollbar=null,this.element.children(".e-hscrollbar").remove()):this.element.find(">.e-content").removeAttr("style"),a.isNullOrUndefined(this._eleHeight)||"string"!=typeof this._eleHeight||-1==this._eleHeight.indexOf("%")||this._parentHeight==v(this.element).parent().height()||(o=(o=this._exactElementDimension(this.element.parent())).height-(this.border_bottom+this.border_top+this.padding_bottom+this.padding_top),this.model.height=this._convertPercentageToPixel(parseInt(this._eleHeight),o)),a.isNullOrUndefined(this._eleWidth)||"string"!=typeof this._eleWidth||-1==this._eleWidth.indexOf("%")||this._parentWidth==v(this.element).parent().width()||(o=(o=this._exactElementDimension(this.element.parent())).width-(this.border_left+this.border_right+this.padding_left+this.padding_right),this.model.width=this._convertPercentageToPixel(parseInt(this._eleWidth),o)),this._ensureScrollers(),l=this.model.scrollLeft,this.model.enableRTL?(this.element.hasClass("e-rtl")||this.element.addClass("e-rtl"),this._rtlScrollLeftValue=this.content().scrollLeft(),l>0?this.content().scrollLeft(this._rtlScrollLeftValue-l):this._setScrollLeftValue(l)):this.content().scrollLeft(l),(this.scrollTop()&&a.isNullOrUndefined(this._vScrollbar)||!a.isNullOrUndefined(this._vScrollbar)&&this._vScrollbar&&null!=this._vScrollbar._scrollData&&!this._vScrollbar._scrollData.skipChange)&&this.scrollTop(this._isJquery3?Math.ceil(this.scrollTop()):this.scrollTop()),this.content().scrollTop(this.scrollTop()),this._vScrollbar&&(this._vScrollbar._scrollData.dimension="Height",this._updateScrollbar(a.ScrollBar.Orientation.Vertical,this._hScroll),this._vScroll&&!this._vScrollbar._calculateLayout(this._vScrollbar._scrollData)&&this._vScrollbar._updateLayout(this._vScrollbar._scrollData)),this._hScrollbar&&(this._hScrollbar._scrollData.dimension="Width",this._updateScrollbar(a.ScrollBar.Orientation.Horizontal,this._vScroll),this._hScroll&&!this._hScrollbar._calculateLayout(this._hScrollbar._scrollData)&&this._hScrollbar._updateLayout(this._hScrollbar._scrollData)),"msie"==a.browserInfo().name&&"8.0"==a.browserInfo().version?this.element.find(".e-hhandle").css("left","0px"):null!=this.model.targetPane&&this._on(this.content().find(this.model.targetPane),"scroll",this._scroll),this._addActionClass(),this._autohide()},_exactElementDimension:function(t){var p,g,b,o=t.get(0).getBoundingClientRect(),l=["left","right","top","bottom"];for(p=o.width?o.width:o.right-o.left,g=o.height?o.height:o.bottom-o.top,b=0;b<l.length;b++)this["border_"+l[b]]=isNaN(parseFloat(t.css("border-"+l[b]+"-width")))?0:parseFloat(t.css("border-"+l[b]+"-width")),this["padding_"+l[b]]=isNaN(parseFloat(t.css("padding-"+l[b])))?0:parseFloat(t.css("padding-"+l[b]));return{width:p,height:g}},_keyPressed:function(t,o){if(this.model.enabled){if(-1!==["input","select","textarea"].indexOf(o.tagName.toLowerCase()))return!0;var l,p;if(-1!==["up","down","pageUp","pageDown"].indexOf(t))this._vScrollbar&&("msie"==a.browserInfo().name&&this.model.allowVirtualScrolling&&this._content.focus(),l=this._vScrollbar._scrollData),p="o";else{if(-1===["left","right","pageLeft","pageRight"].indexOf(t))return!0;this._hScrollbar&&(l=this._hScrollbar._scrollData),p="i"}return!l||!this._changeTop(l,(t.indexOf(p)<0?-1:1)*("p"!==t[0]?1:3)*l.scrollOneStepBy,"key")}},scrollY:function(t,o,l,p,C){var b=this;if(""!==t){if(o){if(C={source:p||"custom",scrollData:this._vScrollbar?this._vScrollbar._scrollData:null,scrollTop:t,originalEvent:C},t=this._isJquery3?Math.ceil(C.scrollTop):C.scrollTop,this.scrollTop(t),this._trigger("scroll",C))return;return void this.content().scrollTop(t)}(a.isNullOrUndefined(l)||""===l)&&(l=100),this._vScrollbar&&(t=parseFloat(t)>this._vScrollbar._scrollData.scrollable?this._vScrollbar._scrollData.scrollable:parseFloat(t)),t=this._isJquery3?Math.ceil(t):t,this.scrollTop(t),this.content().stop().animate({scrollTop:t},l,"linear",function(){b._trigger("scroll",{source:p||"custom",scrollData:b._vScrollbar?b._vScrollbar._scrollData:null,scrollTop:t,originalEvent:C})})}},scrollX:function(t,o,l,p,g){var C,b=this;if(""!==t){if(this._hScrollbar&&(t=parseFloat(t)>this._hScrollbar._scrollData.scrollable?this._hScrollbar._scrollData.scrollable:parseFloat(t)),C=a.browserInfo().name,this.model.enableRTL&&"mozilla"!=C&&(t<0&&(t=Math.abs(t)),null!=this.model.targetPane?this.content().find(this.model.targetPane):this.content(),"mousemove"!=g&&"touchmove"!=g&&"msie"!=C&&"msie"!=C&&(t=this._hScrollbar._scrollData.scrollable-t)),this.scrollLeft(t),o){if(this._trigger("scroll",{source:p||"custom",scrollData:this._hScrollbar?this._hScrollbar._scrollData:null,scrollLeft:t,originalEvent:g}))return;return void(null!=this.model.targetPane&&this.content().find(this.model.targetPane).length?this.content().find(this.model.targetPane).scrollLeft(t):this.content().scrollLeft(t))}(a.isNullOrUndefined(l)||""===l)&&(l=100),null!=this.model.targetPane&&this.content().find(this.model.targetPane).length?this.content().find(this.model.targetPane).stop().animate({scrollLeft:t},l,"linear"):this.content().stop().animate({scrollLeft:t},l,"linear",function(){b._trigger("scroll",{source:p||"custom",scrollData:b._hScrollbar?b._hScrollbar._scrollData:null,scrollLeft:t,originalEvent:g})})}},enable:function(){var t=this.element.find(".e-vscrollbar,.e-hscrollbar,.e-vscroll,.e-hscroll,.e-vhandle,.e-hhandle,.e-vscroll .e-icon,.e-hscroll .e-icon");t.hasClass("e-disable")&&(t.removeClass("e-disable").attr({"aria-disabled":!1}),this.model.enabled=!0),this._vScrollbar&&(this._vScrollbar._enabled=this.model.enabled),this._hScrollbar&&(this._hScrollbar._enabled=this.model.enabled)},disable:function(){this.element.find(".e-vscrollbar,.e-hscrollbar,.e-vscroll,.e-hscroll,.e-vhandle,.e-hhandle,.e-vscroll .e-icon,.e-hscroll .e-icon").addClass("e-disable").attr({"aria-disabled":!0}),this.model.enabled=!1,this._vScrollbar&&(this._vScrollbar._enabled=this.model.enabled),this._hScrollbar&&(this._hScrollbar._enabled=this.model.enabled)},_changeTop:function(t,o,l,p){var b,g=Math.ceil(null!=this.model.targetPane&&"height"!=t.dimension?this.content().find(this.model.targetPane)[t.scrollVal]():this.content()[t.scrollVal]());return"height"==t.dimension&&0==g&&(g=0!=this.scrollTop()?this.scrollTop():0),b=g+o,(t.enableRTL?b<t.scrollable:b>t.scrollable)&&(b=Math.round(t.scrollable)),(t.enableRTL?b>0:b<0)&&(b=0),b!==g&&(this["scroll"+t.xy](b,!0,"",l,p),"X"!==t.xy||a.isNullOrUndefined(this._hScrollbar)?a.isNullOrUndefined(this._vScrollbar)||this._vScrollbar.scroll(b,l,!0,p):this._hScrollbar.scroll(b,l,!0,p)),b!==g},_mouseWheel:function(t){var o;if((!this._vScrollbar||!t.ctrlKey)&&(this._vScrollbar||t.shiftKey)&&t.data&&this.model.enabled){var b,l=0,p=t.data.d,g=t;if(t=t.originalEvent,this._wheelStart&&this._trigger("wheelStart",{originalEvent:t,scrollData:g.data.d}),this._wheelStart=!1,clearTimeout(v.data(this,"timer")),1!=this._wheelx&&(0==t.wheelDeltaX||0==t.wheelDeltaY)&&(this._wheelx=1),0==navigator.platform.indexOf("Mac")&&0==this._wheelx&&("webkit"==this._browser||"chrome"==this._browser))return!0;"mozilla"==this._browser?t.axis==t.HORIZONTAL_AXIS&&(p=this._scrollXdata):"msie"==this._browser?("wheel"==t.type&&(l=t.deltaX/120),"mousewheel"==t.type&&t.shiftKey&&(p=this._scrollXdata,t.preventDefault?t.preventDefault():t.returnValue=!1)):this._wheelx&&0!=t.wheelDeltaX&&0==t.wheelDeltaY&&this._scrollXdata&&(p=this._scrollXdata),0==t.wheelDeltaX&&(this._wheelx=t.wheelDeltaX),t.wheelDelta?(l=this._normalizingDelta(t),s.opera&&parseFloat(s.opera.version,10)<10&&(l=-l)):t.detail&&(l=t.detail/3),l&&(g.originalEvent&&(b=g.originalEvent.wheelDelta&&g.originalEvent.wheelDelta>0||g.originalEvent.detail&&g.originalEvent.detail<0?-1:1),this._changeTop(p,l*p.scrollOneStepBy,"wheel",t)?(t.preventDefault?t.preventDefault():g.preventDefault(),this._trigger("wheelMove",{originalEvent:t,scrollData:g.data.d,direction:b})):(this._trigger("scrollEnd",{originalEvent:t,scrollData:g}),this._wheelx=0),o=this,v.data(this,"timer",setTimeout(function(){o._wheelStart=!0,o._trigger("wheelStop",{originalEvent:t,scrollData:g.data.d,direction:b})},250)))}},_normalizingDelta:function(t){return 0==navigator.platform.indexOf("Mac")?-t.wheelDelta/3:-t.wheelDelta/120},_contentHeightWidth:function(){"block"==this.content().siblings().css("display")&&this.model.autoHide?(this._hScroll&&this.content()[this._contentHeight](this._ElementHeight-this.model.scrollerSize),this._vScroll&&this.content()[this._contentWidth](this._ElementWidth-this.model.scrollerSize)):"none"==this.content().siblings().css("display")&&this.model.autoHide&&(this._vScroll||this._hScroll)&&(this.content()[this._contentHeight](this._ElementHeight),this.content()[this._contentWidth](this._ElementWidth))},_scrollerHover:function(t){this.model.enabled&&("mouseenter"!=t.type&&"touchstart"!=t.type||this.content().siblings().is(":visible")?"mouseleave"!=t.type&&"touchend"!=t.type||this.element.hasClass("e-scroll-focus")||(this.content().siblings().hide(),this._contentHeightWidth(),this._trigger("scrollHide",{originalEvent:t})):(this.content().siblings().css("display","block"),this._contentHeightWidth(),this._ensureScrollers(),this._setScrollLeftValue(this.model.scrollLeft),this._trigger("scrollVisible",{originalEvent:t})))},_mouseUp:function(t){if(t.data){var o=t.data.d;this.model.enableRTL&&("mouseup"==t.type||"touchend"==t.type)&&(this.model.scrollLeft=this._rtlScrollLeftValue-this.model.scrollLeft),"mouseup"!==t.type&&"touchend"!==t.type&&(t.toElement||t.relatedTarget)||(this.content().css("cursor","default"),this._off(v(document),"mousemove touchmove"),this._off(this.content(),"touchmove",this._touchMove),this._off(v(document),"mouseup touchend",this._mouseUp),o.fromScroller=!1,!0!==this._mouseMoved||"thumb"!==t.data.source||a.isNullOrUndefined(this.model)||(v.when(this.content()).done(a.proxy(function(){this._trigger("thumbEnd",{originalEvent:t,scrollData:o})},this)),this._off(v(s),"blur"))),o.up=!0,this._mouseMoved=!1,s.ontouchmove=null}},_mouseDownOnContent:function(t){var o,l;if(this._startX=t.clientX!=h?t.clientX:t.originalEvent.changedTouches[0].clientX,this._startY=t.clientY!=h?t.clientY:t.originalEvent.changedTouches[0].clientY,this._timeStart=t.timeStamp||Date.now(),this.model.enabled&&(o=t.data.d,this._evtData=t.data,l=this.element.find("."+o.handler).closest(".e-scrollbar"),this._bindBlurEvent(l,t),!this._trigger("thumbStart",{originalEvent:t,scrollData:o}))&&(3!=t.which||2!=t.button)){o.fromScroller=!0;var C,p=null,g=1;this._document=v(document),this._window=v(s),this._mouseMove=function(T){var D,L,I;if(this.model.enableRTL&&this._UpdateScrollLeftValue(t),this._startX+this._startY!=T.clientX+T.clientY){if(this._relDisX=(this._startx=T.clientX!=h?T.clientX:T.originalEvent.changedTouches[0].clientX)-this._startX,this._relDisY=(this._starty=T.clientY!=h?T.clientY:T.originalEvent.changedTouches[0].clientY)-this._startY,this._duration=(T.timeStamp||Date.now())-this._timeStart,this._velocityY=Math.abs(this._relDisY)/this._duration,this._velocityX=Math.abs(this._relDisX)/this._duration,this._swipe=Math.abs(this._relDisX)>Math.abs(this._relDisY)?this._relDisX>0?"left":"right":this._relDisY>0?"up":"down",!a.isNullOrUndefined(T.target.tagName)&&"iframe"===T.target.tagName.toLowerCase())return T.type="mouseup",void this._mouseUp(T);if(D="mousemove"==T.type?T[o.clientXy]:T.originalEvent.changedTouches[0][o.clientXy],p&&D!==p&&(this._mouseMoved=!0,I=this.model[o.scrollVal]-(L=D-p),1==g&&Math.abs(L)>5&&(C=o.position,g=0),0==g&&(p=D),I>=0&&I<=o.scrollable&&C===o.position)){var V=this._velocityX>.5&&this._duration<50&&"Left"==o.position;(this._velocityY>.5||this._velocityX>.5)&&this._duration<50?this._velocityY>.5&&this._duration<50&&"Top"==o.position?(I=Math.abs(this._relDisY)+this._duration*this._velocityY,this._startY>this._starty?(I+=this.scrollTop())>o.scrollable&&(I=o.scrollable):(I<this.scrollTop()&&(I=Math.abs(I-this.scrollTop())),I>this.scrollTop()&&(I=0)),this.scrollTop()<=o.scrollable&&this.scrollY(I,!1,this.model.animationSpeed,"thumb")):V&&(I=Math.abs(this._relDisX),this._startX>this._startx?(I+=this.scrollLeft())>o.scrollable&&(I=o.scrollable):(I-=this.scrollLeft(),((I=Math.abs(I))>o.scrollable||I>=this.scrollLeft())&&(I=0)),this.scrollLeft()<=o.scrollable&&this.scrollX(I,!1,this.model.animationSpeed,"thumb")):(this["scroll"+o.xy](I,!0,"","thumb",T.type),"X"===o.xy?this._hScrollbar.scroll(I,"thumb",!0,T.type):a.isNullOrUndefined(this._vScrollbar)||this._vScrollbar.scroll(I,"thumb",!0,T.type),this.content().css("cursor","pointer"),this._trigger("thumbMove",{originalEvent:T,direction:"down"==this._swipe||"right"==this._swipe?1:-1,scrollData:o}))}s.ontouchmove=function(A){(A=A||s.event).preventDefault&&A.preventDefault(),A.returnValue=!1},null==p&&(p=D),(0==Math.round(this._content.scrollTop())&&"down"==this._swipe||(Math.ceil(this._content.scrollTop())==o.scrollable||Math.ceil(this._content.scrollTop())+1==o.scrollable)&&"up"==this._swipe)&&(this._trigger("scrollEnd",{originalEvent:T.originalEvent,scrollData:T}),s.ontouchmove=null)}},this._trigger("touchStart",{originalEvent:t,direction:"down"==this._swipe||"right"==this._swipe?1:-1,scrollData:this._scrollData,scrollTop:this.content().scrollTop(),scrollLeft:this.content().scrollLeft()}),this._on(v(document),"mousemove",{d:o,source:"thumb"},this._mouseMove),this._isNativeScroll?this._on(this.content(),"touchmove",{d:o,source:"thumb"},this._touchMove):this._on(v(document),"touchmove",{d:o,source:"thumb"},this._mouseMove),this._on(v(document),"mouseup touchend",{d:o,source:"thumb"},this._mouseUp)}},_touchMove:function(){this.content().css("cursor","pointer"),this._mouseMoved=!0,this._tempLeft=null!=this.model.targetPane?this.content().find(this.model.targetPane).scrollLeft():this.content().scrollLeft(),this._tempTop=this.content().scrollTop()},_touchDown:function(t){var o;o=this._tempLeft!=this.scrollLeft()?this._scrollXdata:this._tempTop!=this.scrollTop()||this._scrollYdata?this._scrollYdata:this._scrollXdata,this._trigger("scrollStop",{source:"thumb",originalEvent:t,scrollData:o,scrollTop:this.content().scrollTop(),scrollLeft:this.content().scrollLeft()})},_speedScrolling:function(g){var o,l,p,b;if(this._mouseMoved){if(this.element.find(".e-vhandle").length>0&&(o=this.content().scrollTop(),this._tempTop!==o&&(this._trigger("thumbMove",{originalEvent:g,direction:"down"==this._swipe||"right"==this._swipe?1:-1,scrollData:this._scrollData}),this._vScrollbar.scroll(this.content().scrollTop(),"thumb",!0,"touchmove"),g={source:"thumb",scrollData:this._vScrollbar?this._vScrollbar._scrollData:null,scrollTop:this.content().scrollTop(),originalEvent:g},b=this._isJquery3?Math.ceil(g.scrollTop):g.scrollTop,this.scrollTop(b),this._trigger("scroll",g)))||this.element.find(".e-hhandle").length>0&&(p=(l=null!=this.model.targetPane?this.content().find(this.model.targetPane):this.content()).scrollLeft(),this._tempLeft!==p&&(this._trigger("thumbMove",{originalEvent:g,direction:"down"==this._swipe||"right"==this._swipe?1:-1,scrollData:this._scrollData}),this._hScrollbar.scroll(l.scrollLeft(),"thumb",!0,"touchmove"),g={source:"thumb",scrollData:this._hScrollbar?this._hScrollbar._scrollData:null,scrollLeft:this.content().scrollLeft(),originalEvent:g},b=this._isJquery3?Math.ceil(g.scrollLeft):g.scrollLeft,this.scrollLeft(b),this._trigger("scroll",g))))return;this.content().css("cursor","pointer")}},_scroll:function(t){var l,p,g,b,C,o=[this._vScrollbar?this._vScrollbar._scrollData:null,this._hScrollbar?this._hScrollbar._scrollData:null];for(this._evtData&&(l=this._evtData.d?this._evtData.d:this._evtData),p=0;p<2;p++)(g=o[p])&&!g.skipChange&&(this.model&&(!this.model.targetPane||this.model.targetPane&&l&&"X"!=l.xy)&&("height"===g.dimension?this.scrollTop(t.target[g.scrollVal]):this.scrollLeft(t.target[g.scrollVal])),g.sTop=this.model&&null!=this.model.targetPane&&1==p&&this.content().find(this.model.targetPane).length?this.content().find(this.model.targetPane)[0][g.scrollVal]:"scrollTop"==g.scrollVal?this.scrollTop():this.scrollLeft(),this[g.scrollVal](g.sTop),g.fromScroller||(1===p?(b=this.content()[0],this._rtlScrollLeftValue&&b.scrollWidth-b.clientWidth!=this._rtlScrollLeftValue&&(this._rtlScrollLeftValue=b.scrollWidth-b.clientWidth),g.sTop=this.model&&"mozilla"!=a.browserInfo().name&&this.model.enableRTL&&!this._hScrollbar._scrollData._scrollleftflag?0==this._rtlScrollLeftValue?-1*g.sTop:g.sTop-this._rtlScrollLeftValue:g.sTop,this._hScrollbar.scroll(g.sTop,"",!0)):this._vScrollbar.scroll(g.sTop,"",!0),(2==o.length&&1==p||1==o.length&&0==p)&&(this._externalScroller=!1,this.model&&this._trigger("scroll",{source:"custom",scrollData:this._hScrollbar?this._hScrollbar._scrollData:null,scrollLeft:this.scrollLeft(),originalEvent:t}))));this._isNativeScroll&&this.model.enableTouchScroll&&this._speedScrolling(t),this._UpdateScrollLeftValue(t),C=this,this._vScrollbar&&this._scrollYdata&&this.model&&this._scrollYdata.scrollable-this.model.scrollOneStepBy>=this.scrollTop()&&(v(":hover").filter(this.element[0]).length||C._off(a.getScrollableParents(C.wrapper),"scroll",null),s.onmousewheel=function(T){C.model&&C.model.preventDefault&&v(":hover").filter(C.element[0]).length&&T.preventDefault()})},_UpdateScrollLeftValue:function(t){this.model&&"touchstart"!=t.type&&"mousedown"!=t.type&&this.model.enableRTL&&this._rtlScrollLeftValue&&this.model.scrollLeft!=this._previousScrollLeft&&(this.model.scrollLeft=this._rtlScrollLeftValue-this.model.scrollLeft,this._previousScrollLeft=this.model.scrollLeft),(this.model&&"touchstart"==t.type||"mousedown"==t.type)&&this.model.enableRTL&&(this.model.scrollLeft=this.content().scrollLeft(),this.option("scrollLeft",this.content().scrollLeft()))},_changevHandlerPosition:function(t){var o=this._vScrollbar;o&&(t=null!=o._scrollData&&t>=o._scrollData.scrollable?o._scrollData.scrollable:t,null!=o&&t>=0&&t<=o._scrollData.scrollable&&o[o._scrollData.handler].css(o._scrollData.lPosition,t/o._scrollData.onePx+"px"))},_changehHandlerPosition:function(t){var o=this._hScrollbar;o&&(t=null!=o._scrollData&&t>=o._scrollData.scrollable?o._scrollData.scrollable:t,null!=o&&top>=0&&t<=o._scrollData.scrollable&&o[o._scrollData.handler].css(o._scrollData.lPosition,t/o._scrollData.onePx+"px"))},_destroy:function(){this._off(this.content(),"scrollstop",this._touchDown),this._off(v(document),"mouseup",this._mouseUpContent),this.element.css({width:"",height:""}).children(".e-vscrollbar,.e-hscrollbar").remove(),this.content().removeClass("e-content").css({width:"",height:""}),this.element.removeClass("e-widget")},_preventDefault:function(t){(t=t||s.event).preventDefault&&t.preventDefault(),t.returnValue=!1}})}(jQuery,Syncfusion,window),function(v,a){function h(O,B,H){var Z,te,ae,de;if(ej.isNullOrUndefined(O)||"string"==typeof O||!B)throw"Bad Number Format Exception";if(de=B,ae=(Z=function s(O,te){var Le,je,Oe,$e,Be,Ye,dt,Ke,tt,ht,nt,H=O||"",Z=xe,ae=(te=te.toString()).indexOf(".")>-1||O.indexOf(".")>-1,de=0,_e=0,Se="",be="",Ce=O.split(","),Pe="0",Ne=O.toLowerCase().indexOf("e"),Ae=H.indexOf("#");if(O.indexOf("\\")>-1&&(be=O.substr(0,O.lastIndexOf("\\")+1),Ae=(O=O.substr(O.lastIndexOf("\\")+1,O.length)).indexOf("#")),Ne>-1){for(Oe="",H="",je=O.toLowerCase().split("e"),O.indexOf("+")>-1?O.split("+"):O.split("-"),Le=(te=parseInt(te).toExponential()).split("e"),de=je[1].length-Le[1].length,tt=je[1].length-1;tt>0;tt--)"0"!=je[1][tt]?H+=je[1][tt]:de>1?(H+="#",de--):H+="0";for(H=(O.indexOf("+")>-1?"+":"")+H.split("").reverse().join(""),tt=0;tt<Le[0].length;tt++)Oe=Oe.concat("."!=Le[0][tt]?"#":".");Oe.length>je[0].length&&(Oe=je[0]),H=be+Oe+"e"+H}else if(ae){if(je=O.split("."),Le=te.split("."),je[1]=je[1].replace(/[,.]/g,""),(de=je[0].replace(/[,.]/g,"").length-Le[0].replace(/[,.]/g,"").length)<0&&ej.isNullOrUndefined(O.match(/[\[\(\)\]]/g))){for(Ce=je[0].split(","),Se=je[0].split(","),nt=Ce.length-1;nt>=0;nt--)if(Ce[nt])for(Ke=Ce[nt].length,tt=0,ht=Math.abs(de);tt<ht&&3!==Ke;tt++)Se[nt]="0"+Se[nt],Ke++,de++;if(Se=Se.join(),de<0)for(ej.isNullOrUndefined(Ke)||3==Ke||(Se=","+Se),tt=0,ht=Math.abs(de);tt<ht;tt++)3===Ke&&(Se=","+Se,Ke=0),Se="0"+Se,Ke++;de=0,H=be+Se+"."+je[1]}else if(ej.isNullOrUndefined(O.match(/[\[\(\)\]]/g))){for($e="",Ke=0,He=(Se=je[0].replace(/[,.]/g,"")).length-1;He>=0;He--)3===Ke?($e=","+$e,Ke=0):Ke++,$e=Se[He]+$e;H=be+$e+"."+je[1]}}else{if(Be=0,Ye=Ce.splice(1,Ce.length),de=O.replace(/[,.\[\(\]\)]/g,"").length-te.replace(/[,.]/g,"").length,Ae>-1){for(dt=0,ht=O.length;dt<ht;dt++)"#"===O[dt]&&Be++;(1===Be||Ce[1]&&2===Be)&&(Pe="#"),1===Be&&(Ye=Ce[0])}if(de<0){for(Se=(je=H.split(",")).splice(1,je.length),nt=Ce.length-1;nt>=0;nt--)if(Ye[nt])for(Ke=Ye[nt].length,Se[nt]||(Se[nt]=""),tt=0,ht=Math.abs(de)+1;tt<ht;tt++){if(1!=Be&&3===Ke){Ke=0;break}Se[nt]=Se[nt].concat(Pe),Ke++,de++}if(Se=Se.join(),de<0)for(ej.isNullOrUndefined(Ke)||3==Ke||(Se=","+Se),tt=0,ht=Math.abs(de)+1;tt<ht;tt++)1!=Be&&3===Ke&&(Se=","+Se,Ke=0),Se=Pe+Se,Ke++;de=0,H=be+Se}_e=0}for(var wt,Mt,Ct=[],yt=H.split(""),Dt=0,He=0,bt=!1,Pt=!1,jt=O.indexOf("\\");He<H.length;He++)if("e"===(wt=yt[He])&&(Pt=!0),"0"===wt&&Ae<0?de>0&&_e<=He?(de--,_e++):de>0?de--:Mt=Z[wt]:"0"==wt&&(Pt||"0"!=wt)||(Mt=Z[wt]),"0"===wt&&jt>-1&&(Mt=Z[wt]),He===H.lastIndexOf("\\")&&(bt=!1),Mt&&!bt)Ct[Dt]={rule:Mt},Dt+=1;else for("\\"===wt&&(wt="",He===H.lastIndexOf("\\")||(bt=!0)),wt=wt.split(""),nt=0;nt<wt.length;nt++)Ct[Dt]=wt[nt],Dt+=1;return{rules:Z=Ct,format:H}}(B,O)).rules,(B=Z.format).indexOf("\\")>=0){var _e=B.lastIndexOf("\\"),Se=B.slice(0,_e),be=B.slice(_e+1,B.length);te=(Se+(be=be.replace(/[9?CANa#&]/g,"_"))).replace(/[\\]/g,""),B=B.replace(/[\\]/g,"")}else te=B.replace(/[9?CANa#&]/g,"_");return function o(O,B,H,Z,te,ae){var _e,Se,be;if(!ej.isNullOrUndefined(O)){B.toLowerCase().indexOf("e")>-1&&(ae.indexOf("+")>-1?ae.split("+"):ae.split("-"),O=O.toExponential(),ae.indexOf("-")>-1&&(O=O.replace("+","")));var Ce,Pe,ke,Ne,Oe,$e,He,Be,Ye,Le=Ce=Pe=O.toString(),je=H,Ae=ke=0,Fe="_",dt=B.match(/[\(\[\]\)]/g);if(Le=!B.indexOf("\\")>=0?O=Pe.replace(/[\(\)-]/g,""):Ne,_e=Z.length-1,Se=Ce.length-1,ej.isNullOrUndefined(dt))for(;Ae<Z.length&&($e=Z[Ae],!((Oe=Ce[ke])==a||(Oe===$e||Oe===Fe||"e"===Oe&&Oe===$e.toLowerCase()?(He=je.substring(0,Ae),Be=je.substring(Ae),Oe=t(Oe,te),je=He+Oe+Be.substr(1,Be.length),ke+=1,Ae+=1):Z[Ae].rule!=a?(be=Ce.charCodeAt(ke),l(B,be,Ae)?(He=je.substring(0,Ae),Be=je.substring(Ae),Ye=p(Ce,ke,Ae,B,H),je=He+Ye+Be.substr(1,Be.length),Ae++,ke++):Ae++):("e"===$e&&(ke=Ce.indexOf("e")+1),Ae++),ke>Le.length||_e<0))););else for(;_e>=0&&($e=Z[_e],!((Oe=Ce[Se])==a||(Oe===$e||Oe===Fe||"e"===Oe&&Oe===$e.toLowerCase()?(He=je.substring(0,_e+1),Be=je.substring(_e+1),Oe=t(Oe,te),je=He.substr(0,He.length-1)+Oe+Be,_e--,Se--):Z[_e].rule!=a?(be=Ce.charCodeAt(Se),l(B,be,_e)?(He=je.substring(0,_e+1),Be=je.substring(_e+1),Ye=p(Ce,Se,_e,B,H),je=He.substr(0,He.length-1)+Ye+Be,_e--,Se--):_e--):_e--,ke>Le.length||_e<0))););if(O)return(je.indexOf("_")-je.indexOf(",")==1||je.indexOf("_")-je.indexOf(".")==1)&&(je=je.slice(0,je.indexOf("_")-1)),""==v.trim(je.replace(/[_]/g,""))?null:je.replace(/[_]/g,"")}}(O,B,te=t(te,H),ae,H,de)}function t(O,B){var H,Z,te,ae,de,_e;if(0!=O.length){for(de="",Z=(H=ej.preferredCulture(B)).numberFormat[","],te=H.numberFormat.currency.symbol,ae=H.numberFormat["."],_e=0;_e<O.length;_e++)de+=","==O[_e]?Z:"."==O[_e]?ae:"$"==O[_e]?te:O[_e];O=de}return O}function l(O,B,H){var Z=xe,te=!1,ae=O.substr(H,1),de=String.fromCharCode(B);return v.each(Z,function(_e,Se){ae==_e&&(te=!!de.match(new RegExp(Se)))}),te}function p(O,B,H,Z,te){var ae=!1;return Z.indexOf(".")>-1&&H===te.length-1&&O[B+1]>5&&(ae=!0),ae?(parseInt(O[B])+1).toString():O[B]}function g(O,B){return 0===O.indexOf(B)}function b(O,B){return O.substr(O.length-B.length)===B}function C(O){return(O+"").replace(W,"")}function D(O,B,H){for(var Z=O.length;Z<B;Z++)O=H?"0"+O:O+"0";return O}function L(O,B,H){var ae,Z=B["-"],te=B["+"];switch(H){case"n -":Z=" "+Z,te=" "+te;case"n-":b(O,Z)?ae=["-",O.substr(0,O.length-Z.length)]:b(O,te)&&(ae=["+",O.substr(0,O.length-te.length)]);break;case"- n":Z+=" ",te+=" ";case"-n":g(O,Z)?ae=["-",O.substr(Z.length)]:g(O,te)&&(ae=["+",O.substr(te.length)]);break;case"(n)":g(O,"(")&&b(O,")")&&(ae=["-",O.substr(1,O.length-2)])}return ae||["",O]}function R(O,B,H){var Z,te;if(!B||"i"===B)return H.name.length?O.toLocaleString():O.toString();B=B||"D";var Se,ae=H.numberFormat,de=Math.abs(O),_e=-1;switch(B.length>1&&(_e=parseInt(B.slice(1),10)),Z=B.charAt(0).toUpperCase()){case"D":Se="n",de=function T(O){return isNaN(O)?NaN:Math[O<0?"ceil":"floor"](O)}(de),-1!==_e&&(de=D(""+de,_e,!0)),O<0&&(de=-de);break;case"N":(te=ae).pattern=te.pattern||["-n"];case"C":(te=te||ae.currency).pattern=te.pattern||["-$n","$n"];case"P":(te=te||ae.percent).pattern=te.pattern||["-n %","n %"],Se=O<0?te.pattern[0]||"-n":te.pattern[1]||"n",-1===_e&&(_e=te.decimals),de=function I(O,B,H){var Z=H.groupSizes||[3],te=Z[0],ae=1,de=ej._round(O,B);isFinite(de)||(de=O);var Se=(O=de)+"",be="",Ce=Se.split(/e/i),Pe=Ce.length>1?parseInt(Ce[1],10):0;Ce=(Se=Ce[0]).split("."),Se=Ce[0],be=Ce.length>1?Ce[1]:"",Pe>0?(Se+=(be=D(be,Pe,!1)).slice(0,Pe),be=be.substr(Pe)):Pe<0&&(be=(Se=D(Se,1+(Pe=-Pe),!0)).slice(-Pe,Se.length)+be,Se=Se.slice(0,-Pe)),be=B>0?(H["."]||".")+(be.length>B?be.slice(0,B):D(be,B)):"";for(var ke=Se.length-1,Ne=H[","]||",",Le="";ke>=0;){if(0===te||te>ke)return Se.slice(0,ke+1)+(Le.length?Ne+Le+be:be);Le=Se.slice(ke-te+1,ke+1)+(Le.length?Ne+Le:""),ke-=te,ae<Z.length&&(te=Z[ae],ae++)}return Se.slice(0,ke+1)+Ne+Le+be}(de*("P"===Z?100:1),_e,te);break;default:return h(O,B,H)}return function V(O,B,H){for(var ae,de,Z=/n|\$|-|%/g,te="";ae=Z.lastIndex,de=Z.exec(B),te+=B.slice(ae,de?de.index:B.length),de;)switch(de[0]){case"n":te+=O;break;case"$":te+=H.currency.symbol||"$";break;case"-":/[1-9]/.test(O)&&(te+=H["-"]||"-");break;case"%":te+=H.percent.symbol||"%"}return te}(de,Se,ae)}function F(O,B,H){var Z,te,ae,de,_e,Se,be,Ce,Pe,ke,Ne;"string"==typeof H&&(B=H,H=10);var Le=NaN,je=(B=ej.globalize.findCulture(B)).numberFormat,Ae=B.numberFormat.pattern[0];if((O=O.replace(/ /g,"")).indexOf(B.numberFormat.currency.symbol)>-1?(O=(O=O.replace(B.numberFormat.currency.symbol||"$","")).replace(B.numberFormat.currency["."]||".",B.numberFormat["."]||"."),Ae=C(B.numberFormat.currency.pattern[0].replace("$",""))):O.indexOf(B.numberFormat.percent.symbol)>-1&&(O=(O=O.replace(B.numberFormat.percent.symbol||"%","")).replace(B.numberFormat.percent["."]||".",B.numberFormat["."]||"."),Ae=C(B.numberFormat.percent.pattern[0].replace("%",""))),O=C(O),pe.test(O))Le=parseFloat(O,"",H);else if(M.test(O))Le=parseInt(O,16);else{var Oe=L(O,je,Ae),Fe=Oe[0],$e=Oe[1];""===Fe&&"-n"!==je.pattern[0]&&(Fe=(Oe=L(O,je,"-n"))[0],$e=Oe[1]),Fe=Fe||"+",(ae=$e.indexOf("e"))<0&&(ae=$e.indexOf("E")),ae<0?(te=$e,Z=null):(te=$e.substr(0,ae),Z=$e.substr(ae+1)),(be=te.indexOf(Se=je["."]||"."))<0?(de=te,_e=null):(de=te.substr(0,be),_e=te.substr(be+Se.length)),de=de.split(Ce=je[","]||",").join(""),Pe=Ce.replace(/\u00A0/g," "),Ce!==Pe&&(de=de.split(Pe).join("")),ke=Fe+de,null!==_e&&(ke+="."+_e),null!==Z&&(ke+="e"+((Ne=L(Z,je,Ae))[0]||"+")+Ne[1]),!H&&fe.test(ke)?Le=parseFloat(ke):H&&(Le=parseInt(ke,H))}return Le}function A(O,B,H){return O<B||O>H}function z(O,B){var Z,te,H=new Date;return B<100&&(Z="string"==typeof(Z=O.twoDigitYearMax)?(new Date).getFullYear()%100+parseInt(Z,10):Z,(B+=(te=H.getFullYear())-te%100)>Z&&(B-=100)),B}function N(O,B){if(O.indexOf)return O.indexOf(B);for(var H=0,Z=O.length;H<Z;H++)if(O[H]===B)return H;return-1}function U(O){return O.split("\xa0").join(" ").toUpperCase()}function J(O){for(var B=[],H=0,Z=O.length;H<Z;H++)B[H]=U(O[H]);return B}function Q(O,B,H){var Z,te=O.days,ae=O._upperDays;return ae||(O._upperDays=ae=[J(te.names),J(te.namesAbbr),J(te.namesShort)]),B=U(B),H?-1===(Z=N(ae[1],B))&&(Z=N(ae[2],B)):Z=N(ae[0],B),Z}function oe(O,B,H){var _e,Z=O.months,te=O.monthsGenitive||O.months,ae=O._upperMonths,de=O._upperMonthsGen;return ae||(O._upperMonths=ae=[J(Z.names),J(Z.namesAbbr)],O._upperMonthsGen=de=[J(te.names),J(te.namesAbbr)]),B=U(B),(_e=N(H?ae[1]:ae[0],B))<0&&(_e=N(H?de[1]:de[0],B)),_e}function ue(O,B){for(var H,Z=0,te=!1,ae=0,de=O.length;ae<de;ae++)"'"==(H=O.charAt(ae))?(te?B.push("'"):Z++,te=!1):"\\"==H?(te&&B.push("\\"),te=!te):(B.push(H),te=!1);return Z}function le(O,B,H,Z){var ae,je,Ae,Oe;if(!O)return null;for(var de=0,_e=0,Se=null,be=(B=B.split("")).length,Ce=function(je){for(var Ae=0;B[de]===je;)Ae++,de++;return Ae>0&&(de-=1),Ae},ke=function(je,Ae){for(var $e,He,Be,Oe=0,Fe=je.length;Oe<Fe;Oe++)if(Be=O.substr(_e,He=($e=je[Oe]).length),Ae&&(Be=Be.toLowerCase()),Be==$e)return _e+=He,Oe+1;return null},Ne=function(je){for(var Ae=0,Oe=je.length,Fe=[];Ae<Oe;Ae++)Fe[Ae]=(je[Ae]+"").toLowerCase();return Fe},Le=function(je){var Ae={};for(var Oe in je)Ae[Oe]=Ne(je[Oe]);return Ae};de<be;de++)"d"===B[de]&&(ae=Ce("d"),Z._lowerDays||(Z._lowerDays=Le(Z.days)),Se=ae<3?(je=2,Ae=void 0,Oe=void 0,Ae=new RegExp("^\\d{1,"+je+"}"),(Oe=O.substr(_e,je).match(Ae))?(_e+=(Oe=Oe[0]).length,parseInt(Oe,10)):null):ke(Z._lowerDays[3==ae?"namesAbbr":"names"],!0));return Se}function ne(O,B){var H,te=(B=B||"F").length;if(1===te){if(!(H=O.patterns[B]))throw"Invalid date format string '"+B+"'.";B=H}else 2===te&&"%"===B.charAt(0)&&(B=B.charAt(1));return B}function he(O,B,H){var Z,te,ae,de,_e,Se,be,Ce,Pe;O=C(O),B=C(B);var ke=H.calendar,Ne=ej.globalize._getDateParseRegExp(ke,B),Le=new RegExp(Ne.regExp).exec(O);if(null===Le)return null;var Be,je=Ne.groups,Ae=null,Oe=null,Fe=null,He=0,Ye=0,dt=0,Ke=0,tt=null,ht=!1;for(Z=0,te=je.length;Z<te;Z++)if(ae=Le[Z+1]){var nt=je[Z],Ct=nt.length,yt=parseInt(ae,10);switch(nt){case re.DAY_OF_MONTH_DOUBLE_DIGIT:case re.DAY_OF_MONTH_SINGLE_DIGIT:if(A(Fe=yt,1,31))return null;break;case re.MONTH_THREE_LETTER:case re.MONTH_FULL_NAME:if(A(Oe=oe(ke,ae,3===Ct),0,11))return null;break;case re.MONTH_SINGLE_DIGIT:case re.MONTH_DOUBLE_DIGIT:if(A(Oe=yt-1,0,11))return null;break;case re.YEAR_SINGLE_DIGIT:case re.YEAR_DOUBLE_DIGIT:case re.YEAR_FULL:if(A(Ae=Ct<4?z(ke,yt):yt,0,9999))return null;break;case re.HOURS_SINGLE_DIGIT_12_HOUR_CLOCK:case re.HOURS_DOUBLE_DIGIT_12_HOUR_CLOCK:if(12===(He=yt)&&(He=0),A(He,0,11))return null;break;case re.HOURS_SINGLE_DIGIT_24_HOUR_CLOCK:case re.HOURS_DOUBLE_DIGIT_24_HOUR_CLOCK:if(A(He=yt,0,23))return null;break;case re.MINUTES_SINGLE_DIGIT:case re.MINUTES_DOUBLE_DIGIT:if(A(Ye=yt,0,59))return null;break;case re.SECONDS_SINGLE_DIGIT:case re.SECONDS_DOUBLE_DIGIT:if(A(dt=yt,0,59))return null;break;case re.MERIDIAN_INDICATOR_FULL:case re.MERIDIAN_INDICATOR_SINGLE:if(!(ht=ke.PM&&(ae===ke.PM[0]||ae===ke.PM[1]||ae===ke.PM[2]))&&(!ke.AM||ae!==ke.AM[0]&&ae!==ke.AM[1]&&ae!==ke.AM[2]))return null;break;case re.DECISECONDS:case re.CENTISECONDS:case re.MILLISECONDS:if(A(Ke=yt*Math.pow(10,3-Ct),0,999))return null;break;case re.DAY_OF_WEEK_THREE_LETTER:Fe=le(O,B,0,ke);break;case re.DAY_OF_WEEK_FULL_NAME:if(Q(ke,ae,3===Ct),A(null,0,6))return null;break;case re.TIME_ZONE_OFFSET_FULL:if(2!==(de=ae.split(/:/)).length||A(Be=parseInt(de[0],10),-12,13)||A(_e=parseInt(de[1],10),0,59))return null;tt=60*Be+(g(ae,"-")?-_e:_e);break;case re.TIME_ZONE_OFFSET_SINGLE_DIGIT:case re.TIME_ZONE_OFFSET_DOUBLE_DIGIT:if(A(Be=yt,-12,13))return null;tt=60*Be}}if(Se=new Date,be=(Ce=ke.convert)?Ce.fromGregorian(Se)[0]:Se.getFullYear(),null===Ae&&(Ae=be),null===Oe&&(Oe=0),null===Fe&&(Fe=1),Ce){if(null===(Se=Ce.toGregorian(Ae,Oe,Fe)))return null}else if(Se.setFullYear(Ae,Oe,Fe),Se.getDate()!==Fe)return null;return ht&&He<12&&(He+=12),Se.setHours(He,Ye,dt,Ke),null!==tt&&(Pe=Se.getMinutes()-(tt+Se.getTimezoneOffset()),Se.setHours(Se.getHours()+parseInt(Pe/60,10),Pe%60)),Se}function se(O,B,H){function Z(Ke,tt){var ht,nt=Ke+"";return tt>1&&nt.length<tt?(ht=Le[tt-2]+nt).substr(ht.length-tt,tt):nt}var _e,Se,be,Ce,ke,ae=H.calendar,de=ae.convert;if(!B||!B.length||"i"===B)return H&&H.name.length?de?se(O,ae.patterns.F,H):O.toLocaleString():O.toString();Se="s"===B,B=ne(ae,B),_e=[];var Ne,je,Ae,He,Le=["0","00","000"],Oe=/([^d]|^)(d|dd)([^d]|$)/g,Fe=0,$e=/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g;for(!Se&&de&&(He=de.fromGregorian(O));;){var Be=$e.lastIndex,Ye=$e.exec(B);if(Fe+=ue(B.slice(Be,Ye?Ye.index:B.length),_e),!Ye)break;if(Fe%2)_e.push(Ye[0]);else switch(Ce=(be=Ye[0]).length,be){case re.DAY_OF_WEEK_THREE_LETTER:case re.DAY_OF_WEEK_FULL_NAME:_e.push((3===Ce?ae.days.namesAbbr:ae.days.names)[O.getDay()]);break;case re.DAY_OF_MONTH_SINGLE_DIGIT:case re.DAY_OF_MONTH_DOUBLE_DIGIT:je=!0,_e.push(Z(He?He[2]:O.getDate(),Ce));break;case re.MONTH_THREE_LETTER:case re.MONTH_FULL_NAME:ke=He?He[1]:O.getMonth(),_e.push(ae.monthsGenitive&&(je||Ae||(je=Oe.test(B),Ae=!0),je)?ae.monthsGenitive[3===Ce?"namesAbbr":"names"][ke]:ae.months[3===Ce?"namesAbbr":"names"][ke]);break;case re.MONTH_SINGLE_DIGIT:case re.MONTH_DOUBLE_DIGIT:_e.push(Z((He?He[1]:O.getMonth())+1,Ce));break;case re.YEAR_SINGLE_DIGIT:case re.YEAR_DOUBLE_DIGIT:case re.YEAR_FULL:ke=He?He[0]:O.getFullYear(),Ce<4&&(ke%=100),_e.push(Z(ke,Ce));break;case re.HOURS_SINGLE_DIGIT_12_HOUR_CLOCK:case re.HOURS_DOUBLE_DIGIT_12_HOUR_CLOCK:0==(Ne=O.getHours()%12)&&(Ne=12),_e.push(Z(Ne,Ce));break;case re.HOURS_SINGLE_DIGIT_24_HOUR_CLOCK:case re.HOURS_DOUBLE_DIGIT_24_HOUR_CLOCK:_e.push(Z(O.getHours(),Ce));break;case re.MINUTES_SINGLE_DIGIT:case re.MINUTES_DOUBLE_DIGIT:_e.push(Z(O.getMinutes(),Ce));break;case re.SECONDS_SINGLE_DIGIT:case re.SECONDS_DOUBLE_DIGIT:_e.push(Z(O.getSeconds(),Ce));break;case re.MERIDIAN_INDICATOR_SINGLE:case re.MERIDIAN_INDICATOR_FULL:ke=O.getHours()<12?ae.AM?ae.AM[0]:" ":ae.PM?ae.PM[0]:" ",_e.push(1===Ce?ke.charAt(0):ke);break;case re.DECISECONDS:case re.CENTISECONDS:case re.MILLISECONDS:_e.push(Z(O.getMilliseconds(),3).substr(0,Ce));break;case re.TIME_ZONE_OFFSET_SINGLE_DIGIT:case re.TIME_ZONE_OFFSET_DOUBLE_DIGIT:Ne=O.getTimezoneOffset()/60,_e.push((Ne<=0?"+":"-")+Z(Math.floor(Math.abs(Ne)),Ce));break;case re.TIME_ZONE_OFFSET_FULL:Ne=O.getTimezoneOffset()/60,_e.push((Ne<=0?"+":"-")+Z(Math.floor(Math.abs(Ne)),2)+":"+Z(Math.abs(O.getTimezoneOffset()%60),2));break;case re.DATE_SEPARATOR:_e.push(ae["/"]||"/");break;default:throw"Invalid date format pattern '"+be+"'."}}return _e.join("")}function ee(O,B){return B.length?ee(O[B[0]],B.slice(1)):O}var re;ej.globalize={},ej.cultures={},ej.cultures.default=ej.cultures["en-US"]=v.extend(!0,{name:"en-US",englishName:"English",nativeName:"English",language:"en",isRTL:!1,numberFormat:{pattern:["-n"],decimals:2,",":",",".":".",groupSizes:[3],"+":"+","-":"-",percent:{pattern:["-n %","n %"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"%"},currency:{pattern:["($n)","$n"],decimals:2,groupSizes:[3],",":",",".":".",symbol:"$"}},calendars:{standard:{"/":"/",":":":",firstDay:0,week:{name:"Week",nameAbbr:"Wek",nameShort:"Wk"},days:{names:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],namesAbbr:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],namesShort:["Su","Mo","Tu","We","Th","Fr","Sa"]},months:{names:["January","February","March","April","May","June","July","August","September","October","November","December",""],namesAbbr:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""]},AM:["AM","am","AM"],PM:["PM","pm","PM"],twoDigitYearMax:2029,patterns:{d:"M/d/yyyy",D:"dddd, MMMM dd, yyyy",t:"h:mm tt",T:"h:mm:ss tt",f:"dddd, MMMM dd, yyyy h:mm tt",F:"dddd, MMMM dd, yyyy h:mm:ss tt",M:"MMMM dd",Y:"yyyy MMMM",S:"yyyy'-'MM'-'dd'T'HH':'mm':'ss"}}}},ej.cultures["en-US"]),ej.cultures["en-US"].calendar=ej.cultures["en-US"].calendar||ej.cultures["en-US"].calendars.standard;var W=/^\s+|\s+$/g,pe=/^[+-]?infinity$/i,M=/^0x[a-f0-9]+$/i,fe=/^[+-]?\d*\.?\d*(e[+-]?\d+)?$/,xe={9:"[0-9 ]",0:"[0-9 ]",a:"[A-Za-z0-9 ]",A:"[A-Za-z0-9]",N:"[0-9]","#":"[0-9]","&":"[^\x7f]+","<":"",">":"",C:"[A-Za-z ]","?":"[A-Za-z]"};re={DAY_OF_WEEK_THREE_LETTER:"ddd",DAY_OF_WEEK_FULL_NAME:"dddd",DAY_OF_MONTH_SINGLE_DIGIT:"d",DAY_OF_MONTH_DOUBLE_DIGIT:"dd",MONTH_THREE_LETTER:"MMM",MONTH_FULL_NAME:"MMMM",MONTH_SINGLE_DIGIT:"M",MONTH_DOUBLE_DIGIT:"MM",YEAR_SINGLE_DIGIT:"y",YEAR_DOUBLE_DIGIT:"yy",YEAR_FULL:"yyyy",HOURS_SINGLE_DIGIT_12_HOUR_CLOCK:"h",HOURS_DOUBLE_DIGIT_12_HOUR_CLOCK:"hh",HOURS_SINGLE_DIGIT_24_HOUR_CLOCK:"H",HOURS_DOUBLE_DIGIT_24_HOUR_CLOCK:"HH",MINUTES_SINGLE_DIGIT:"m",MINUTES_DOUBLE_DIGIT:"mm",SECONDS_SINGLE_DIGIT:"s",SECONDS_DOUBLE_DIGIT:"ss",MERIDIAN_INDICATOR_SINGLE:"t",MERIDIAN_INDICATOR_FULL:"tt",DECISECONDS:"f",CENTISECONDS:"ff",MILLISECONDS:"fff",TIME_ZONE_OFFSET_SINGLE_DIGIT:"z",TIME_ZONE_OFFSET_DOUBLE_DIGIT:"zz",TIME_ZONE_OFFSET_FULL:"zzz",DATE_SEPARATOR:"/"},ej.globalize._getDateParseRegExp=function(O,B){var Z,te,ae,de,_e,Se,H=O._parseRegExp;if(H){if(Z=H[B])return Z}else O._parseRegExp=H={};for(var Ae,Ce=ne(O,B).replace(/([\^\$\.\*\+\?\|\[\]\(\)\{\}])/g,"\\\\$1"),Pe=["^"],ke=[],Ne=0,Le=0,je=/\/|dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|y|hh|h|HH|H|mm|m|ss|s|tt|t|fff|ff|f|zzz|zz|z|gg|g/g;null!==(Ae=je.exec(Ce));)if(te=Ce.slice(Ne,Ae.index),Ne=je.lastIndex,(Le+=ue(te,Pe))%2)Pe.push(Ae[0]);else{switch(de=(ae=Ae[0]).length,ae){case re.DAY_OF_WEEK_THREE_LETTER:case re.DAY_OF_WEEK_FULL_NAME:case re.MONTH_FULL_NAME:case re.MONTH_THREE_LETTER:_e="(\\D+)";break;case re.MERIDIAN_INDICATOR_FULL:case re.MERIDIAN_INDICATOR_SINGLE:_e="(\\D*)";break;case re.YEAR_FULL:case re.MILLISECONDS:case re.CENTISECONDS:case re.DECISECONDS:_e="(\\d{"+de+"})";break;case re.DAY_OF_MONTH_DOUBLE_DIGIT:case re.DAY_OF_MONTH_SINGLE_DIGIT:case re.MONTH_DOUBLE_DIGIT:case re.MONTH_SINGLE_DIGIT:case re.YEAR_DOUBLE_DIGIT:case re.YEAR_SINGLE_DIGIT:case re.HOURS_DOUBLE_DIGIT_24_HOUR_CLOCK:case re.HOURS_SINGLE_DIGIT_24_HOUR_CLOCK:case re.HOURS_DOUBLE_DIGIT_12_HOUR_CLOCK:case re.HOURS_SINGLE_DIGIT_12_HOUR_CLOCK:case re.MINUTES_DOUBLE_DIGIT:case re.MINUTES_SINGLE_DIGIT:case re.SECONDS_DOUBLE_DIGIT:case re.SECONDS_SINGLE_DIGIT:_e="(\\d\\d?)";break;case re.TIME_ZONE_OFFSET_FULL:_e="([+-]?\\d\\d?:\\d{2})";break;case re.TIME_ZONE_OFFSET_DOUBLE_DIGIT:case re.TIME_ZONE_OFFSET_SINGLE_DIGIT:_e="([+-]?\\d\\d?)";break;case re.DATE_SEPARATOR:_e="(\\"+O["/"]+")";break;default:throw"Invalid date format pattern '"+ae+"'."}_e&&Pe.push(_e),ke.push(Ae[0])}return ue(Ce.slice(Ne),Pe),Pe.push("$"),Se=Pe.join("").replace(/\s+/g,"\\s+"),H[B]={regExp:Se,groups:ke}},ej.globalize.addCulture=function(O,B){ej.cultures[O]=v.extend(!0,v.extend(!0,{},ej.cultures.default,B),ej.cultures[O]),ej.cultures[O].calendar=ej.cultures[O].calendars.standard},ej.globalize.preferredCulture=function(O){return O=typeof O<"u"&&typeof O==typeof this.cultureObject?O.name:O,this.cultureObject=ej.globalize.findCulture(O),this.cultureObject},ej.globalize.setCulture=function(O){return ej.isNullOrUndefined(this.globalCultureObject)&&(this.globalCultureObject=ej.globalize.findCulture(O)),(O=typeof O<"u"&&typeof O==typeof this.globalCultureObject?O.name:O)&&(this.globalCultureObject=ej.globalize.findCulture(O)),ej.cultures.current=this.globalCultureObject,this.globalCultureObject},ej.globalize.culture=function(O){ej.cultures.current=ej.globalize.findCulture(O)},ej.globalize.findCulture=function(O){var B,H,Z,te,ae;if(O){if(v.isPlainObject(O)&&O.numberFormat&&(B=O),"string"==typeof O){if((H=ej.cultures)[O])return H[O];if(O.indexOf("-")>-1){if(H[Z=O.split("-")[0]])return H[Z]}else for(te=v.map(H,function(_e){return _e}),ae=0;ae<te.length;ae++)if(te[ae].name.split("-")[0]===O)return te[ae];return ej.cultures.default}}else B=ej.cultures.current||ej.cultures.default;return B},ej.globalize.format=function(O,B,H){var Z=ej.globalize.findCulture(H);return"number"==typeof O?O=R(O,B,Z):O instanceof Date&&(O=se(O,B,Z)),O},ej.globalize._round=function(O,B){var H=Math.pow(10,B);return Math.round(O*H)/H},ej.globalize.parseInt=function(O,B,H){return B||(B=10),Math.floor(F(O,H,B))},ej.globalize.getISODate=function(O){if(O instanceof Date)return O.toISOString()},ej.globalize.parseFloat=function(O,B,H){return"string"==typeof B&&(H=B,B=10),F(O,H)},ej.globalize.parseDate=function(O,B,H){var Z,te,ae,de,_e,Se;if(H=ej.globalize.findCulture(H),B){if("string"==typeof B&&(B=[B]),B.length)for(de=0,_e=B.length;de<_e&&(!(Se=B[de])||!(Z=he(O,Se,H)));de++);}else for(te in ae=H.calendar.patterns)if(Z=he(O,ae[te],H))break;return Z||null},ej.globalize.getLocalizedConstants=function(O,B){var H,Z=O.replace("ej.","").split(".");return H=ee(ej,Z),v.extend(!0,{},H.Locale.default,H.Locale[B||this.cultureObject.name])},v.extend(ej,ej.globalize)}(jQuery)})?u.apply(c,_):u)&&(n.exports=w)},169:(n,c,r)=>{var u,_,w;_=[r(270)],void 0!==(w="function"==typeof(u=function(){var a,s,h;a=jQuery,(s=Syncfusion).widget({ejNumericTextbox:["ej.NumericTextbox","e-numerictextbox"],ejPercentageTextbox:["ej.PercentageTextbox","e-percentagetextbox"],ejCurrencyTextbox:["ej.CurrencyTextbox","e-currencytextbox"]},{element:null,model:null,validTags:["input"],_addToPersist:["value"],_setFirst:!1,type:"editor",angular:{require:["?ngModel","^?form","^?ngModelOptions"],requireFormatters:!0,requireParser:!0},defaults:{width:"",height:"",value:null,name:null,htmlAttributes:{},minValue:-Number.MAX_VALUE,maxValue:Number.MAX_VALUE,incrementStep:1,decimalPlaces:0,validateOnType:!1,cssClass:"",enablePersistence:!1,showSpinButton:!0,locale:"en-US",enableStrictMode:!1,showRoundedCorner:!1,readOnly:!1,enabled:!0,enableRTL:!1,watermarkText:"Enter value",validationRules:null,validationMessage:null,groupSeparator:null,groupSize:null,positivePattern:null,currencySymbol:null,negativePattern:null,change:null,focusIn:null,focusOut:null,create:null,destroy:null},dataTypes:{minValue:"number",maxValue:"number",incrementStep:"number",decimalPlaces:"number",showSpinButton:"boolean",enableStrictMode:"boolean",showRoundedCorner:"boolean",enableRTL:"boolean",locale:"string",watermarkText:"string",cssClass:"string",readOnly:"boolean",enabled:"boolean",validationRules:"data",validationMessage:"data",htmlAttributes:"data",validateOnType:"boolean",groupSeparator:"string"},observables:["value"],_setModel:function(t){var o=!1;for(var l in t)switch(l){case"value":s.isNullOrUndefined(t.minValue)&&s.isNullOrUndefined(t.maxValue)?(this._setValue(t[l],!0),t[l]=this.model.value):(this.model.value=this._checkNumValue(t[l]),this._localizedFormat(),this._raiseChangeEvent(!0),o=!0);break;case"enableRTL":this._enableRTL(t[l]);break;case"width":this._setWidth(t[l]);break;case"height":this._setHeight(t[l]);break;case"validationRules":null!=this.model.validationRules&&(this.element.rules("remove"),this.model.validationMessage=null),this.model.validationRules=t[l],null!=this.model.validationRules&&(this._initValidator(),this._setValidation());break;case"validationMessage":this.model.validationMessage=t[l],null!=this.model.validationRules&&null!=this.model.validationMessage&&(this._initValidator(),this._setValidation());break;case"minValue":if(isNaN(t[l]))return;this.model.minValue=-1==this.model.decimalPlaces?t[l]:parseFloat(t[l].toFixed(this.model.decimalPlaces)),this._updateValueAttributes(this.model.minValue,this.model.maxValue,this.model.value),o=!0;break;case"maxValue":if(isNaN(t[l]))return;this.model.maxValue=-1==this.model.decimalPlaces?t[l]:parseFloat(t[l].toFixed(this.model.decimalPlaces)),this._updateValueAttributes(this.model.minValue,this.model.maxValue,this.model.value),o=!0;break;case"incrementStep":if(isNaN(t[l]))return;this.model.incrementStep=-1==this.model.decimalPlaces?t[l]:parseFloat(t[l].toFixed(this.model.decimalPlaces));break;case"enableStrictMode":this.model.enableStrictMode=t[l],o=!0;break;case"showSpinButton":this._showSpin(t[l]);break;case"showRoundedCorner":this._roundedCorner(t[l]);break;case"locale":this.model.decimalPlaces=s.isNullOrUndefined(this._options.decimalPlaces)&&this.model.decimalPlaces===this.culture.numberFormat.decimals||-1===this._options.decimalPlaces?-1:this.model.decimalPlaces,this._setLocalize(t[l]),this._options.decimalPlaces=this.model.decimalPlaces,t[l]=this.model.locale;break;case"decimalPlaces":this._setDecimal(t[l]),s.isNullOrUndefined(this._options)&&(this._options={}),this._options.decimalPlaces=t[l];break;case"cssClass":this._setSkin(t[l]);break;case"readOnly":this._setReadOnly(t[l]);break;case"enabled":t[l]?this.enable():this.disable();break;case"watermarkText":s.isNullOrUndefined(this._options)||(this._options=[]),this._options.watermarkText=this.model.watermarkText=t[l],this._localizedLabels.watermarkText=this.model.watermarkText,this._changeWatermark(t[l]);break;case"htmlAttributes":this._addAttr(t[l]);break;case"groupSeparator":this._checkSeparator(t[l]),t[l]=this.model.groupSeparator;break;case"positivePattern":case"negativePattern":case"groupSize":case"currencySymbol":this.model[l]=t[l],this._options[l]=t[l],this._initCustomValue(),t[l]=this.model[l],this._setValue(this.model.value,!0)}o&&(this._validateMinMaxValue(!0,!0),t.value=this.model.value,t.maxValue=this.model.maxValue,t.minValue=this.model.minValue,this.model.minValue!=-Number.MAX_VALUE&&(this._startValue=this.model.minValue),this._updateValueAttributes(this.model.minValue,this.model.maxValue,this.model.value)),this._checkSeparator(this.model.groupSeparator),this.element.val(this._removeSeparator(this.model.value)),this._updateSeparator(),this._checkErrorClass()},_destroy:function(){this.wrapper&&(this.element.insertBefore(this.wrapper),this.wrapper.remove()),this._isWatermark&&this.element.removeAttr("placeholder"),this.element.val("").removeClass("e-input e-disable e-no-spin").empty(),this.element.removeAttr("disabled aria-disabled"),this.wrapper.removeAttr("aria-valuemin aria-valuemax aria-valuenow aria-live"),this._cloneElement.attr("role")||this.element.removeAttr("role"),this.element.css("display","block")},_init:function(t){if(this._cloneElement=this.element.clone(),this._options=s.isNullOrUndefined(t)?{}:t,!this.element.is("input")||!this.element.is("input[type=text]")&&!this.element.is("input[type=number]")&&this.element.attr("type"))return this._destroy(),!1;this.model.decimalPlaces>0&&(this.element[0].type=this.element.is("input[type=number]")?"tel":"text"),this.element.is("input[type=number]")&&this.element.addClass("e-no-spin"),this._isWatermark="placeholder"in document.createElement("input"),this.model.locale="en"==s.preferredCulture(this.model.locale).name?"en-US":s.preferredCulture(this.model.locale).name,this._localizedLabels=this._getLocalizedLabels(),this.culture=s.preferredCulture(this.model.locale),this._browsername=s.browserInfo().name,this._initCustomValue(),this._prevSeparator=null,this._checkSeparator(this.model.groupSeparator),this._checkAttribute(),this._renderControl(),this._setValues(),this._wireEvents(),this._initObjects(),this._addAttr(this.model.htmlAttributes),null!=this.model.validationRules&&(this._initValidator(),this._setValidation()),this._updateSeparator(),t&&t.value!=h&&this._trigger("_change",{value:this.model.value})},_checkAttribute:function(){for(var l,p,t=["min","max","step","readonly","disabled","placeholder"],o=["minValue","maxValue","incrementStep","readOnly","enabled","watermarkText"],g=0;g<t.length;g++)l=this.element.attr(t[g]),p=o[g],s.isNullOrUndefined(l)||s.isNullOrUndefined(this._options)||!s.isNullOrUndefined(this._options[p])||("watermarkText"==p?this._options[p]=l:this.model[p]="disabled"!=p&&"readOnly"!=p?s.parseFloat(l,this.model.locale):"readOnly"==p?this.element.is("[readonly]"):!this.element.is("[disabled]"))},_addAttr:function(t){var o=this;a.map(t,function(l,p){var g=p.toLowerCase();"class"==g?o.wrapper.addClass(l):"accesskey"==g?o._hiddenInput.attr(p,l):"disabled"==g&&"disabled"==l?o.disable():"readonly"==g&&"readOnly"==l?o._setReadOnly(!0):"tabindex"==g?(o._hiddenInput.attr(p,l),o.element.attr(p,l)):"style"==g||"id"==g?o.wrapper.attr(p,l):"aria-label"==g||s.isValidAttr(o.element[0],p)?o.element.attr(p,l):o.wrapper.attr(p,l)})},_setValues:function(){var t;this._id=this.element[0].id,this._textBox=this._hiddenInput[0],this._error=!1,this._timeout=null,this.isValidState=!0,this._allowkeyboard=!0,this._validateOnType=!1,this._focused=!1,this._startValue=0,"ej.CurrencyTextbox"===this.sfType&&this.model.minValue==-Number.MAX_VALUE&&(this.model.minValue=0),s.isNullOrUndefined(this.model.decimalPlaces)&&(this.model.decimalPlaces="ej.CurrencyTextbox"===this.sfType?s.preferredCulture(this.model.locale).numberFormat.currency.decimals:s.preferredCulture(this.model.locale).numberFormat.decimals),this.model.decimalPlaces>=0&&(this.model.minValue=parseFloat(this.model.minValue.toFixed(this.model.decimalPlaces)),this.model.maxValue=parseFloat(this.model.maxValue.toFixed(this.model.decimalPlaces))),this.model.minValue!=-Number.MAX_VALUE&&(this._startValue=this.model.minValue),s.isNullOrUndefined(this._options)||s.isNullOrUndefined(this._options.watermarkText)||(this._localizedLabels.watermarkText=this._options.watermarkText),this._localizedLabelToModel(),this._localizedFormat(),this._validateMinMaxValue(!0),this._updateSymbol(this.model.locale),s.isNullOrUndefined(this.model.value)?(t=this.model.value,this.wrapper.removeClass("e-valid")):(t=-1==this.model.value.toString().indexOf("e")?this._removeSeparator(this.model.value):this._convertToExponetial(this.model.value).unformattedValue,this.wrapper.addClass("e-valid")),this.element.val(t)},_initValidator:function(){this.element.closest("form").data("validator")||this.element.closest("form").validate()},_setValidation:function(){var o,l,p,g,b,t=this.model.validationRules;for(p in this.element.rules("add",t),o=(o=this.element.closest("form").data("validator"))||this.element.closest("form").validate(),l=this.element.attr("name"),o.settings.messages[l]={},t)if(g=null,!s.isNullOrUndefined(t[p])){if(s.isNullOrUndefined(t.messages&&t.messages[p]))for(b in o.settings.messages[l][p]=a.validator.messages[p],this.model.validationMessage)p==b&&(g=this.model.validationMessage[p]);else g=t.messages[p];o.settings.messages[l][p]=g??a.validator.messages[p]}},_updateValueAttributes:function(t,o,l){t&&t!=-Number.MAX_VALUE&&this.wrapper.attr({"aria-valuemin":t}),o&&o!=Number.MAX_VALUE&&this.wrapper.attr({"aria-valuemax":o}),l&&this.wrapper.attr({"aria-valuenow":l})},_renderControl:function(){this.wrapper=s.buildTag("span.e-widget e-pinch"),this.innerWrap=s.buildTag("span.e-in-wrap e-box "),this.wrapper.attr("style",this.element.attr("style")),"ej.NumericTextbox"===this.sfType?this.wrapper.addClass("e-numeric"):"ej.PercentageTextbox"===this.sfType?this.wrapper.addClass("e-percent"):"ej.CurrencyTextbox"===this.sfType&&this.wrapper.addClass("e-currency"),this.wrapper.append(this.innerWrap).insertAfter(this.element),this.innerWrap.append(this.element),this._hiddenInput=s.buildTag("input","",{},{type:"text"}).insertBefore(this.element),this._hiddenInput.attr("data-role","none"),this._hiddenInput[0].tabIndex=this.element[0].tabIndex,this._hiddenInput.attr("accesskey",this.element[0].accessKey),this.element[0].accessKey="",this._hiddenInput.css("display","block"),this.element.css("display","none"),this._isWatermark||(this._hiddenSpan=s.buildTag("span.e-input e-placeholder ").insertAfter(this.element),this._hiddenSpan.text(this._localizedLabels.watermarkText),this._hiddenSpan.css("display","none"),this._on(this._hiddenSpan,"mousedown",this._focusIn),this._on(this._hiddenSpan,"mousewheel",this._mouseWheel),this._on(this._hiddenSpan,"DOMMouseScroll",this._mouseWheel)),this.model.name=null!=this.element.attr("name")?this.element.attr("name"):null!=this.model.name?this.model.name:this.element[0].id,null==this.element.attr("name")&&this.element.attr("name",this.model.name),this.element.addClass("e-input"),s.isNullOrUndefined(this.model.value)&&""!=this.element[0].value?("."==s.preferredCulture(this.model.locale).numberFormat[","]&&(this.element[0].value=this.element[0].value.replace(".",",")),this.model.value=this._checkNumValue(this.element[0].value)):("string"==typeof this.model.value&&"."==s.preferredCulture(this.model.locale).numberFormat[","]&&(this.model.value=this.model.value.replace(".",",")),this.model.value=this._checkNumValue(this.model.value)),this._hiddenInput.attr({value:this.model.value}).addClass("e-input"),this.wrapper.attr({role:"spinbutton"}),this._updateValueAttributes(this._options.minValue,this._options.maxVal,this.model.value),this.element.attr({"aria-live":"assertive",value:this.model.value});var t=a('<span class="e-select"><span class="e-spin e-spin-up " role="button" aria-label="Increase Value" unselectable="on"></span><span class="e-spin e-spin-down" role="button" aria-label="Decrease Value" unselectable="on"></span></span>');t.find(".e-spin-up").append(s.buildTag("span.e-icon e-arrow e-arrow-sans-up").attr({role:"presentation",unselectable:"on"})),t.find(".e-spin-down").append(s.buildTag("span.e-icon e-arrow e-arrow-sans-down").attr({role:"presentation",unselectable:"on"})),this.innerWrap.append(t),this.spin=this.wrapper.find(".e-select"),this.spinUp=this.wrapper.find(".e-spin-up"),this.spinDown=this.wrapper.find(".e-spin-down"),this._setWidth(this.model.width),this._setHeight(this.model.height),""!=this.model.cssClass&&this._setSkin(this.model.cssClass),this._showSpin(this.model.showSpinButton),this.model.showRoundedCorner&&this._roundedCorner(this.model.showRoundedCorner),this.model.enableRTL&&this._enableRTL(this.model.enableRTL),this.model.readOnly&&this._setReadOnly(this.model.readOnly),this.model.enabled?this.model.enabled&&this.element.hasClass("e-disable")&&this.enable():this.disable()},_initObjects:function(){this._preVal=this.model.value,null===this.model.value?(this.isValidState=!0,this._hiddenInput.val(null)):(this.model.value<this.model.minValue||this.model.value>this.model.maxValue)&&(this.isValidState=!1),this._checkErrorClass(),this._setWaterMark()},_showSpin:function(t){t?(this.spin&&(this.spin.show(),this.innerWrap.addClass("e-padding")),this._spinEvents("_on")):(this.spin&&(this.spin.hide(),this.innerWrap.removeClass("e-padding")),this._spinEvents("_off"))},_roundedCorner:function(t){t&&!this.innerWrap.hasClass("e-corner")?this.innerWrap.addClass("e-corner"):this.innerWrap.hasClass("e-corner")&&this.innerWrap.removeClass("e-corner")},_enableRTL:function(t){t?this.spin?this.wrapper.addClass("e-rtl"):this.element.addClass("e-rtl"):this.spin?this.wrapper.removeClass("e-rtl"):this.element.removeClass("e-rtl")},_setWidth:function(t){""!=t?this.wrapper.width(t):this.model.width=this.wrapper.outerWidth()},_setHeight:function(t){""!=t?this.wrapper.height(t):this.model.height=this.wrapper.outerHeight()},_setSkin:function(t){this.wrapper.removeClass(this.model.cssClass),this.wrapper.addClass(t)},_setValue:function(t,o){this._isWatermark||this._hiddenSpan.css("display","none"),this.model.value=this._checkNumValue(t),this._validateMinMaxValue(!1),this._checkErrorClass(),this._localizedFormat(),this._raiseChangeEvent(o),this._setWaterMark()},_setLocalize:function(t){var l,o=s.preferredCulture(this.model.locale).numberFormat[","];this.model.locale="en"==s.preferredCulture(t).name?"en-US":s.preferredCulture(t).name,this.model.groupSeparator=s.isNullOrUndefined(this._options.groupSeparator)&&o===this.model.groupSeparator?s.preferredCulture(this.model.locale).numberFormat[","]:this.model.groupSeparator,this._localizedLabels=this._getLocalizedLabels(),s.isNullOrUndefined(this._options)||s.isNullOrUndefined(this._options.watermarkText)||(this._localizedLabels.watermarkText=this._options.watermarkText),this._localizedLabelToModel(),this.culture=s.preferredCulture(this.model.locale),this._initCustomValue(),this._updateSymbol(this.model.locale),this._localizedFormat(),this._changeWatermark(this.model.watermarkText),l=s.isNullOrUndefined(this.model.value)?this.model.value:-1==this.model.value.toString().indexOf("e")?this._formatValue(this.model.value,"n",!0):this._convertToExponetial(this.model.value).unformattedValue,this.element.val(l)},_localizedLabelToModel:function(){this.model.watermarkText=this._localizedLabels.watermarkText},_updateSymbol:function(t){this._percentSymbol=s.preferredCulture(t).numberFormat.percent.symbol,this._currencySymbol=s.preferredCulture(t).numberFormat.currency.symbol},_setDecimal:function(t){this.model.decimalPlaces=t,this._localizedFormat()},_validateMinMaxValue:function(t,o){var p,l=!1;this.model.minValue>this.model.maxValue&&(this.model.minValue=this.model.maxValue),!s.isNullOrUndefined(this.model.value)&&this.model.minValue>this.model.value?(1!=this.model.enableStrictMode?(this.isValidState=!0,this._startValue=this.model.value=this.model.minValue):this.isValidState=!1,l=!0):!s.isNullOrUndefined(this.model.value)&&this.model.maxValue<this.model.value?(1!=this.model.enableStrictMode?(this.isValidState=!0,this.model.value=this.model.maxValue):this.isValidState=!1,l=!0):this.isValidState=!0,this.model.minValue==this.model.maxValue&&(this._startValue=this.model.minValue),l&&t&&(p=this._formatValue(this.model.value,"n",!0),this._hiddenInput.val(p),p=s.isNullOrUndefined(this.model.value)?this.model.value:-1==this.model.value.toString().indexOf("e")?this._formatValue(this.model.value,"n",!0):this._convertToExponetial(this.model.value).unformattedValue,this.element.val(p),this._localizedFormat(),this._raiseChangeEvent(o))},_convertToExponetial:function(t){var l,p,g,b,T,D,L,o="",C=t<0;for(t=t.toString(),p=s.preferredCulture(this.model.locale).numberFormat,g=t=t.replace(".",p["."]),null,"ej.NumericTextbox"===this.sfType?(l=C?p.pattern[0]:s.isNullOrUndefined(p.pattern[1])?"n":p.pattern[1],t=C?t.replace("-",""):t,b=""):"ej.PercentageTextbox"===this.sfType?(l=C?p.percent.pattern[0]:p.percent.pattern[1],t=C?t.replace("-",""):t,b=p.percent.symbol):"ej.CurrencyTextbox"===this.sfType&&(l=C?p.currency.pattern[0]:p.currency.pattern[1],t=C?t.replace("-",""):t,b=p.currency.symbol),T=0,D=l.length;T<D;T++)o+="n"===(L=l.charAt(T))?t:"$"===L||"%"===L?b:L;return{formattedValue:o,unformattedValue:g}},_localizedFormat:function(){var t,o,l,p;this.culture=s.preferredCulture(this.model.locale),this._decimalSep=s.preferredCulture(this.model.locale).numberFormat["."],s.isNullOrUndefined(this.model.value)?this._textBox.value="":-1==this.model.value.toString().indexOf("e")?(this._textBox.value=this._removeSeparator(this.model.value),this._focused||""==this._textBox.value?(p=this._convertToExponetial(this.model.value),this._textBox.value=p.unformattedValue,this._focused||""==this._textBox.value||(this._textBox.value=p.formattedValue)):(this._textBox.value=this._formatValue(this.model.value,"n",!0),"ej.PercentageTextbox"===this.sfType?this._appendPercentSymbol(this._textBox.value):"ej.CurrencyTextbox"===this.sfType&&this._appendCurrencySymbol(this._textBox.value),t="ej.CurrencyTextbox"===this.sfType?this._textBox.value.indexOf(this._currencySymbol):"ej.PercentageTextbox"===this.sfType?this._textBox.value.indexOf(this._percentSymbol):-1,-1==this.model.decimalPlaces&&0!=this._afterDec&&(this._textBox.value=this._textBox.value.substr(0,this._textBox.value.lastIndexOf(this._decimalSep)),t>1&&(s.isNullOrUndefined(this._afterDec)||""==this._afterDec)&&("ej.CurrencyTextbox"===this.sfType&&(this._textBox.value=this._textBox.value+" "+this._currencySymbol),"ej.PercentageTextbox"===this.sfType&&(this._textBox.value=this._textBox.value+" "+this._percentSymbol)),-1!=this.model.decimalPlaces||s.isNullOrUndefined(this._afterDec)||""==this._afterDec||((o=this._textBox.value.lastIndexOf(this._decimalSep))>=0&&(this._textBox.value=this._textBox.value.substr(0,o)),l=this._afterDec,t>1&&("ej.CurrencyTextbox"===this.sfType&&(l=l+" "+this._currencySymbol),"ej.PercentageTextbox"===this.sfType&&(l=l+" "+this._percentSymbol)),this._textBox.value=this._textBox.value+this._decimalSep+l)))):this._textBox.value=this.model.value.toString()},_checkNumValue:function(t){return"string"==typeof t&&(t=this._changeSeparator?this._replaceSeparator(t,this.model.groupSeparator,s.preferredCulture(this.model.locale).numberFormat[","]):t),"string"!=typeof t||isNaN(this._parseValue(t))?"number"!=typeof t||isNaN(t)?null:t:(t=this._parseValue(t),parseFloat(t))},_setReadOnly:function(t){this.model.readOnly=t,t?(this.element.attr("readonly",!0),this._hiddenInput.attr("readonly",!0)):(this.element.prop("readonly",!1),this._hiddenInput.prop("readonly",!1))},_setWaterMark:function(){null!=this._localizedLabels.watermarkText&&""===this._textBox.value&&""===a.trim(this._hiddenInput.val())&&(this._isWatermark?(this._hiddenInput.attr("placeholder",this._localizedLabels.watermarkText),this.element.attr("placeholder",this._localizedLabels.watermarkText)):this._hiddenSpan.css("display","block").text(this._localizedLabels.watermarkText))},_changeWatermark:function(t){if(!this.model.enabled)return!1;this._isWatermark?(this._hiddenInput.attr("placeholder",t),this.element.attr("placeholder",t)):this._hiddenSpan.text(t)},_setSelectionRange:function(t,o){function l(C){C.collapse(!0),C.moveEnd("character",o),C.moveStart("character",t),C.select()}var b,p=this._textBox;try{p.setSelectionRange?"edge"==this._browsername?setTimeout(function(){p.setSelectionRange(t,o)}):p.setSelectionRange(t,o):p.createTextRange&&l(p.createTextRange())}catch{b=this,window.setTimeout(function(){document.body.focus(),b._textBox.select(),document.selection&&l(document.selection.createRange())},1)}},_getSelection:function(t){if("number"!=this._textBox.type){var o=null;return document.selection?""===(o=document.selection.createRange()).text?o.text:this._removeFormats(o.text):null==t?this.model.value:this._removeFormats(t.substring(this._textBox.selectionStart,this._textBox.selectionEnd))}},_caretPosition:function(){var l,t=this._textBox,o=0;if("number"!=t.type)return document.selection?(t.focus(),(l=document.selection.createRange()).moveStart("character",-t.value.length),o=l.text.length):(t.selectionStart||"0"==t.selectionStart)&&(o=t.selectionEnd),o},_appendPercentSymbol:function(t){this._percentSymbol&&(t=t.replace(this._percentSymbol,"")),t.indexOf(s.preferredCulture(this.model.locale).numberFormat.percent.symbol)<0&&(this._textBox.value=this._formatValue(this._parseValue(t)/100,"p",!0)),this._percentSymbol=s.preferredCulture(this.model.locale).numberFormat.percent.symbol},_appendCurrencySymbol:function(t){this._currencySymbol&&(t=t.replace(this._currencySymbol,"")),t.indexOf(s.preferredCulture(this.model.locale).numberFormat.currency.symbol)<0&&(this._textBox.value=this._formatValue(this._parseValue(t),"c",!0)),this._currencySymbol=s.preferredCulture(this.model.locale).numberFormat.currency.symbol},_removeFormats:function(t){var o=s.preferredCulture(this.model.locale).numberFormat[","];return null!=t?"."==o?t.toString().replace(/["."]/g,""):t.toString().match(new RegExp(o,"g"))?t.toString().replace(new RegExp(o,"g"),""):t:null},_checkErrorClass:function(){this.isValidState?this.wrapper.removeClass("e-error"):this.wrapper.addClass("e-error")},enable:function(){this.model.enabled=!0,this.element[0].disabled=!1,this.element.prop("disabled",!1),this._hiddenInput.prop("disabled",!1),this.element.removeClass("e-disable").attr({"aria-disabled":!1}),this._hiddenInput.removeClass("e-disable").attr({"aria-disabled":!1}),this.wrapper.find(".e-select").removeClass("e-disable").attr({"aria-disabled":!1}),this.wrapper.find(".e-select span.e-icon.e-arrow").removeClass("e-disable"),this.wrapper.removeClass("e-disable-wrap")},disable:function(){this.model.enabled=!1,this.element[0].disabled=!0,this.element.attr("disabled","disabled"),this._hiddenInput.attr("disabled","disabled"),this.element.addClass("e-disable").attr({"aria-disabled":!0}),this._hiddenInput.addClass("e-disable").attr({"aria-disabled":!0}),this.wrapper.find(".e-select").addClass("e-disable").attr({"aria-disabled":!0}),this.wrapper.find(".e-select span.e-icon.e-arrow").addClass("e-disable"),this.wrapper.addClass("e-disable-wrap")},getValue:function(){return this.model.value},_wireEvents:function(){this._on(this._hiddenInput,"focus",this._focusIn),this._on(this.element,"paste",this._paste),this._on(this.element,"blur",this._focusOut),this._on(this.element,"keydown",this._keyDown),this._on(this.element,"keypress",this._keyPress),this._on(this.element,"mousewheel",this._mouseWheel),this._on(this.element,"DOMMouseScroll",this._mouseWheel)},_spinEvents:function(t){this[t](this.spinUp,"mousedown mouseup touchstart touchend",this._spinUpClick),this[t](this.spinDown,"mousedown mouseup touchstart touchend",this._spinDownClick)},_isIE8:function(){var t=!1,o=s.browserInfo();return"msie"==o.name&&"8.0"==o.version&&(t=!0),t},_spinUpClick:function(t){var l,o=!1;t.button?o=this._isIE8()?1!=t.button:0!=t.button:t.which&&(o=3==t.which),o||(l=this,t.preventDefault(),clearTimeout(this._timeout),this.model.enabled&&!this.model.readOnly&&(this.wrapper.find(".e-animate").removeClass("e-animate"),this.spinUp.addClass("e-animate"),this._on(this.spinUp,"mouseleave",this._mouseUpClick),this.spinUp.addClass("e-active"),l=this,"mouseup"==t.type||"touchend"==t.type?(this._updateInputField("increment"),this.spinUp.removeClass("e-active"),this._off(a(document),"mouseup",this._mouseUpClick)):("mousedown"==t.type||"touchstart"==t.type)&&(this._focused||this._hiddenInput[0].focus(),this._timeout=setInterval(function(){l._updateInputField("increment")},150),this._on(a(document),"mouseup",this._mouseUpClick))))},_spinDownClick:function(t){var l,o=!1;t.button?o=this._isIE8()?1!=t.button:0!=t.button:t.which&&(o=3==t.which),o||(l=this,t.preventDefault(),clearTimeout(this._timeout),this.model.enabled&&!this.model.readOnly&&(this.wrapper.find(".e-animate").removeClass("e-animate"),this.spinDown.addClass("e-animate"),this._on(this.spinDown,"mouseleave",this._mouseUpClick),this.spinDown.addClass("e-active"),"mouseup"==t.type||"touchend"==t.type?(this._updateInputField("decrement"),this.spinDown.removeClass("e-active"),this._off(a(document),"mouseup",this._mouseUpClick)):("mousedown"==t.type||"touchstart"==t.type)&&(this._focused||this._hiddenInput[0].focus(),this._timeout=setInterval(function(){l._updateInputField("decrement")},150),this._on(a(document),"mouseup",this._mouseUpClick))))},_mouseUpClick:function(t){t.stopPropagation(),clearTimeout(this._timeout),this._off(this.spinUp,"mouseleave",this._mouseUpClick),this._off(this.spinDown,"mouseleave",this._mouseUpClick),this.spinDown.removeClass("e-active"),this.spinUp.removeClass("e-active")},_mouseWheel:function(t){if(t.preventDefault(),this._focused||this.element[0].focus(),this.model.enabled&&!this.model.readOnly){var o,l=t.originalEvent;l.wheelDelta?o=l.wheelDelta/120:l.detail&&(o=-l.detail/3),o>0?this._updateInputField("increment"):o<0&&this._updateInputField("decrement"),this._cancelEvent(t)}},_numberValue:function(){var t=this._textBox.value;return"ej.NumericTextbox"===this.sfType&&(t=this._formatValue(this.model.value,"n",!0)),("ej.PercentageTextbox"===this.sfType||"ej.CurrencyTextbox"===this.sfType)&&(t=this._formatValue(this.model.value,"n",!0)),"string"!=typeof t||isNaN(this._parseValue(t))?"":t},_formatValue:function(p,o,l){return l&&this._updateCultureInfo(),p=s.format(p,-1!=this.model.decimalPlaces||-1==this.model.decimalPlaces&&null==this.model.value?o+this.model.decimalPlaces:o+this._afterDec.length,this.model.locale),l&&this._restCultureInfo(),p},_parseValue:function(o){return this._updateCultureInfo(),o=s.parseFloat(o,this.model.locale),this._restCultureInfo(),o},_initCustomValue:function(){var t,o="ej.PercentageTextbox"==this.sfType?"percent":"ej.CurrencyTextbox"==this.sfType?"currency":"numeric";switch(o){case"percent":case"currency":t=this.culture.numberFormat[o],s.isNullOrUndefined(this._options.negativePattern)&&(this.model.negativePattern=t.pattern[0]),s.isNullOrUndefined(this._options.positivePattern)&&(this.model.positivePattern=t.pattern[1]),s.isNullOrUndefined(this._options.currencySymbol)&&"currency"==o&&(this.model.currencySymbol=t.symbol),s.isNullOrUndefined(this._options.groupSize)&&(this.model.groupSize=t.groupSizes[0]);break;case"numeric":t=this.culture.numberFormat,s.isNullOrUndefined(this._options.negativePattern)&&(this.model.negativePattern=t.pattern[0]),s.isNullOrUndefined(this._options.positivePattern)&&(this.model.positivePattern=s.isNullOrUndefined(t.pattern[1])?"n":t.pattern[1]),s.isNullOrUndefined(this._options.groupSize)&&(this.model.groupSize=t.groupSizes[0])}},_updateCultureInfo:function(){var t,o="ej.PercentageTextbox"==this.sfType?"percent":"ej.CurrencyTextbox"==this.sfType?"currency":"numeric";this._oldNegativePattern=(t="numeric"==o?this.culture.numberFormat:this.culture.numberFormat[o]).pattern[0],this._oldGroupSize=t.groupSizes[0],t.pattern[0]=this.model.negativePattern,t.groupSizes[0]=this.model.groupSize,this._oldPositivePattern=t.pattern[1],t.pattern[1]=this.model.positivePattern,"currency"==o&&(this._oldcurrencySymbol=t.symbol,t.symbol=this.model.currencySymbol)},_restCultureInfo:function(){var t,o="ej.PercentageTextbox"==this.sfType?"percent":"ej.CurrencyTextbox"==this.sfType?"currency":"numeric";(t="numeric"==o?this.culture.numberFormat:this.culture.numberFormat[o]).pattern[0]=this._oldNegativePattern,t.groupSizes[0]=this._oldGroupSize,t.pattern[1]=this._oldPositivePattern,"currency"==o&&(t.symbol=this._oldcurrencySymbol)},_toggleTextbox:function(t){this._hiddenInput.toggle(t),this.element.toggle(!t)},_paste:function(t){var o,l;window.clipboardData&&window.clipboardData.getData?o=window.clipboardData.getData("Text"):t.originalEvent.clipboardData&&t.originalEvent.clipboardData.getData&&(o=t.originalEvent.clipboardData.getData("text/plain")),l=s.parseFloat(o,this.model.locale),isNaN(l)&&o&&this._cancelEvent(t)},_focusIn:function(){if(!this.model.readOnly){if(this._focused=!0,s.isNullOrUndefined(this.model.value)||this.element.val(this._removeSeparator(this.model.value)),this._toggleTextbox(!1),this._textBox=this.element[0],this.element[0].focus(),this._preVal=this.model.value,this._isWatermark||this._hiddenSpan.css("display","none"),this.wrapper.addClass("e-focus"),this.wrapper.removeClass("e-error"),!this._error){if(""!=this._textBox.value){var t=this._formatValue(this._textBox.value,"n",!0);-1==this.model.decimalPlaces&&(this._separateValue(this._textBox.value.toString(),!0,!0),s.isNullOrUndefined(this._afterDec)||""==this._afterDec||(t=this._beforeDec+this._decimalSep+this._afterDec)),this._textBox.value=t,this._hiddenInput.val(t)}this._setSelectionRange(0,this._textBox.value.length)}this._trigger("focusIn",{value:this.model.value})}},_separateValue:function(t,o,l){var p=t.lastIndexOf(o?this._decimalSep:".");this._beforeDec=p>=0?t.substr(0,p):t,!o&&l&&(this._afterDec=p>=0?t.substr(p+1):"")},_focusOut:function(){var t;this._focused=!1,this.wrapper.removeClass("e-focus"),this._separateValue(this._textBox.value,!1,!0),this._error||(""!=this._textBox.value?((t=s.parseFloat(this._textBox.value,this.model.locale))<this.model.minValue?this.model.enableStrictMode?this.isValidState=!1:this._textBox.value=this._formatValue(this.model.minValue,"n",!1):t>this.model.maxValue&&(this.model.enableStrictMode?this.isValidState=!1:this._textBox.value=this._formatValue(this.model.maxValue,"n",!1)),this.model.value=-1!=this.model.decimalPlaces||s.isNullOrUndefined(this._afterDec)||-1!=this._textBox.value.lastIndexOf(this._decimalSep)||-1!=t.toString().indexOf("e")?s.parseFloat(this._textBox.value,this.model.locale):s.parseFloat(this._textBox.value+this._decimalSep+this._afterDec,this.model.locale),isNaN(this.model.value)&&!this.model.value&&(this.model.value=null,this.isValidState=!1),this._toggleTextbox(!0),this._textBox=this._hiddenInput[0],this._localizedFormat(),this._checkErrorClass()):(this.model.value=t=""==this._textBox.value?null:this._textBox.value,this._hiddenInput.val(t),this._toggleTextbox(!0),this._textBox=this._hiddenInput[0]),null===this.model.value||this.model.value>=this.model.minValue&&this.model.value<=this.model.maxValue?this.isValidState=!0:this.model.enableStrictMode&&(this.isValidState=!1),this._raiseChangeEvent(),this._setWaterMark(),t=s.isNullOrUndefined(this.model.value)?this.model.value:-1==this.model.value.toString().indexOf("e")?this._removeSeparator(this.model.value):this._convertToExponetial(this.model.value).unformattedValue,this.element.val(t),this._updateSeparator(),this._trigger("focusOut",{value:this.model.value})),this._checkErrorClass(),this._afterDec=""},_cancelEvent:function(t){return t.cancelBubble=!0,t.returnValue=!1,t.stopPropagation(),t.preventDefault(),!1},_updateInputField:function(t){var o,p,g;this.isValidState=!0,this._focused||a(this._hiddenInput[0]).focus(),o=this.model.incrementStep,""===this._textBox.value?(this._textBox.value=this._formatValue(this._startValue,"n",!0),o=0):this._textBox.value.indexOf(" ")>=0&&(this._textBox.value=this._textBox.value.replace(" ","")),"ej.PercentageTextbox"===this.sfType||"ej.CurrencyTextbox"===this.sfType?(g=p=this._textBox.value,p.indexOf(s.preferredCulture(this.model.locale).numberFormat.percent.symbol)>-1&&(g=p.substring(0,p.length-1)),this.model.value=this._parseValue(g)):"ej.NumericTextbox"==this.sfType&&(this.model.value=s.parseFloat(this._textBox.value,this.model.locale)),isNaN(this.model.value)&&!this.model.value&&(this.model.value=this._startValue),this.model.value>=this.model.minValue&&this.model.value>this.model.maxValue?(this.model.value=this.model.maxValue,this._setValue(this.model.value)):this.model.value<this.model.minValue&&this.model.value<=this.model.maxValue?(this.model.value=this.model.minValue,this._setValue(this.model.value)):this.model.value>=this.model.minValue&&this.model.value<=this.model.maxValue&&(g="increment"==t?this.model.value+o:this.model.value-o,-1==this.model.decimalPlaces&&(this.value==h&&this._setValue(this.model.value),g=-1==this.model.value.toString().indexOf("e")?parseFloat(g.toFixed(this._afterDec.length)):parseFloat(g)),g>=this.model.minValue&&g<=this.model.maxValue&&this._setValue(g)),this._checkErrorClass()},_validateDecimal:function(t){var o=String.fromCharCode(t.keyCode);return o=188==t.keyCode?",":190==t.keyCode?".":110==t.keyCode?s.preferredCulture(this.model.locale).numberFormat["."]:o,s.preferredCulture(this.model.locale).numberFormat["."].charCodeAt(0)==o.charCodeAt(0)},_allowKeyCodes:function(t){for(var o=[38,40,35,36,109,189,46,8,127,37,39,190,9,13,16,17,18,20,110,173,86,88,67],l=0;l<o.length;l++)if(t.keyCode==o[l]||this._validateDecimal(t)&&0!=this.model.decimalPlaces)return!0;return!1},_raiseChangeEvent:function(t){var l,o=this.model.value;this._checkNumValue(this._preVal)!==this._checkNumValue(o)&&(this._preVal=o,this.model.value=-1!=this.model.decimalPlaces||s.isNullOrUndefined(this.model.value)?this._checkNumValue(this._formatValue(this._preVal,"n",!1)):parseFloat(this.model.value),this._updateHiddenField(),s.isNullOrUndefined(this.model.value)?(l=this.model.value,this.wrapper.removeClass("e-valid")):(l=-1==this.model.value.toString().indexOf("e")?this._removeSeparator(this.model.value):this._convertToExponetial(this.model.value).unformattedValue,-1==this.model.decimalPlaces&&(this._separateValue(this.model.value.toString(),!1,!0),s.isNullOrUndefined(this._afterDec)||""==this._afterDec||(l=this._beforeDec+this._decimalSep+this._afterDec)),this.wrapper.addClass("e-valid")),this.element.val(l),this.wrapper.attr("aria-valuenow",l),this._updateSeparator(),this.element.trigger("change"),this._trigger("_change",{value:this.model.value,isInteraction:!t}),this._trigger("change",{value:this.model.value,isInteraction:!t}))},_updateHiddenField:function(){var t=this._textBox;this._textBox=this._hiddenInput[0],this._localizedFormat(),this._textBox=t},_removeSeparator:function(t){var o,l;if(!s.isNullOrUndefined(t))return-1==this.model.decimalPlaces&&this._separateValue(t.toString(),!1,!0),-1==t.toString().indexOf("e")&&(t=this._checkNumValue(this._formatValue(t,"n",!1))),o=t.toString(),l=s.preferredCulture(this.model.locale).numberFormat,o.replace(".",l["."])},_updateSeparator:function(){var t,o,l,p,g;this._changeSeparator&&this.model.value&&("ej.NumericTextbox"===this.sfType?t=this._formatValue(this.model.value,"n",!0):"ej.PercentageTextbox"===this.sfType?t=this._formatValue(this.model.value/100,"p",!0):"ej.CurrencyTextbox"===this.sfType&&(t=this._formatValue(this.model.value,"c",!0)),-1==this.model.decimalPlaces&&(o=t.lastIndexOf(this._decimalSep),l=t.substr(o+1),this._separateValue(t,!0,!1),p="ej.CurrencyTextbox"===this.sfType?t.indexOf(this._currencySymbol):"ej.PercentageTextbox"===this.sfType?this._textBox.value.indexOf(this._percentSymbol):-1,g=this._afterDec,p>1&&("ej.CurrencyTextbox"===this.sfType&&(g=g+" "+this._currencySymbol),"ej.PercentageTextbox"===this.sfType&&(g=g+" "+this._percentSymbol)),s.isNullOrUndefined(this._afterDec)||""==this._afterDec||(t=this._beforeDec+this._decimalSep+g),s.isNullOrUndefined(this._afterDec)||""!=this._afterDec||(t=this._beforeDec+this._decimalSep+l)),this._hiddenInput.val(this._replaceSeparator(t,s.preferredCulture(this.model.locale).numberFormat[","],this.model.groupSeparator)))},_replaceSeparator:function(t,o,l){var p,g,b,C;return this._decimalSep=s.preferredCulture(this.model.locale).numberFormat["."],p=""===o?new RegExp("\\s","g"):new RegExp("\\"+o,"g"),this.model.groupSeparator==s.preferredCulture(this.model.locale).numberFormat["."]?(g=this.model.decimalPlaces,-1==this.model.decimalPlaces&&(b=t.lastIndexOf(this._decimalSep),g=t.substr(b+1).length),t.substring(0,C=t.length-g-1).replace(p,l)+t.substring(C,t.length)):t.replace(p,l)},_checkSeparator:function(t){this.model.groupSeparator=null!=t?this._validateSeparator(t):s.preferredCulture(this.model.locale).numberFormat[","],this._changeSeparator=s.preferredCulture(this.model.locale).numberFormat[","]!=this.model.groupSeparator,this._prevSeparator=this.model.groupSeparator},_validateSeparator:function(t){var o=t.toString();return new RegExp("[a-zA-Z0-9]").test(o=o.length>1?o[0]:o)?null!=this._prevSeparator?this._prevSeparator:s.preferredCulture(this.model.locale).numberFormat[","]:o},_keyPress:function(t){var l;if(0!==t.which&&!t.metaKey&&!t.ctrlKey&&8!==t.keyCode&&13!==t.keyCode){var C,T,D,L,I;return C=this._caretPosition(),T=this._textBox.value.toString().substring(0,C),D=this._textBox.value.toString().substring(C),L=s.preferredCulture(this.model.locale).numberFormat,I=T+String.fromCharCode(t.which)+D,l="."===(l=L["."])?"\\"+l:l,!!(0===this.model.decimalPlaces?new RegExp("^((-)?(\\d*)(-)?)?$"):new RegExp("^(-)?(((\\d+("+l+"\\d*)?)|("+l+"\\d*)))?((-)?)$")).test(I)&&void 0}},_validateDecimalOnType:function(t){var o,l,b,C,T,D;return o=this._caretPosition(),this._textBox.value.toString().substring(0,o),this._textBox.value.toString().substring(o),b=this._getSelection(this._textBox.value),T=s.preferredCulture(this.model.locale).numberFormat["."],C=s.isNullOrUndefined(this.model.value)?"":this.model.value.toString(),0!=this.model.decimalPlaces?(D=this._textBox.value.split(T)[1],l=C.indexOf(T)>0&&C.substring(C.indexOf(T)+1,C.length).length>this.model.decimalPlaces||!!(0==b.length&&o>this._textBox.value.indexOf(T)&&D&&D.length>=this.model.decimalPlaces)):l=!1,l?(this._keypressFlag=!1,this._cancelEvent(t),!1):void 0},_keyDown:function(t){var o,l,b,C,T,D;if(!this.model.readOnly)if(this._CurrentCultureInfo=JSON.parse(JSON.stringify(s.preferredCulture())),t.keyCode>=48&&t.keyCode<=57||t.keyCode>=96&&t.keyCode<=105||this._allowKeyCodes(t)){if(t.shiftKey&&(35==t.keyCode||36==t.keyCode||37==t.keyCode||39==t.keyCode||46==t.keyCode||127==t.keyCode)||t.ctrlKey&&(86==t.keyCode||118==t.keyCode||67==t.keyCode||88==t.keyCode))return!0;if(1==t.ctrlKey&&9!=t.keyCode&&17!=t.keyCode&&86!=t.keyCode&&67!=t.keyCode||67==t.keyCode||86==t.keyCode||88==t.keyCode)return this._keypressFlag=!1,this._cancelEvent(t),!1;if((t.keyCode>=48&&t.keyCode<=57||t.keyCode>=96&&t.keyCode<=105||110==t.keyCode)&&(o=this._caretPosition(),this._textBox.value.toString().substring(0,o),this._textBox.value.toString().substring(o),b=this._getSelection(this._textBox.value),t.keyCode>=96&&t.keyCode<=105&&(t.keyCode-=48),this.model.validateOnType&&-1!=this.model.decimalPlaces&&this._validateDecimalOnType(t),this._validateOnType)){var L=s.preferredCulture(this.model.locale).numberFormat["."],I=this.model.value.toString(),R=I.indexOf(L),V=this.model.value,F=-1==this.model.decimalPlaces?this.model.minValue:this.model.minValue.toFixed(this.model.decimalPlaces),A=-1==this.model.decimalPlaces?this.model.maxValue:this.model.maxValue.toFixed(this.model.decimalPlaces),z=!1;if((F.toString().indexOf("e")>0||A.toString().indexOf("e")>0)&&(z=!0),z)0!=this.model.decimalPlaces?(C=this._textBox.value.split(".")[1],l=(I.indexOf(L)>0||Number(I)<Number(F)||Number(I)>Number(A))&&I.substring(I.indexOf(L)+1,I.length).length>this.model.decimalPlaces||!!(0==b.length&&o>this._textBox.value.indexOf(L)&&C&&C.length>=this.model.decimalPlaces)):l=!1;else if("."!=L&&(I=this._textBox.value.toString(),this.model.minValue.toString().match(new RegExp(".","g"))&&(F=this.model.minValue.toString().replace(/["."]/g,L)),this.model.maxValue.toString().match(new RegExp(".","g"))&&(A=this.model.maxValue.toString().replace(/["."]/g,L))),oe=F.toString().indexOf(L)>0?Number(F.toString().substring(0,F.toString().indexOf(L))):this.model.minValue,ue=A.toString().indexOf(L)>0?Number(A.toString().toString().substring(0,A.toString().indexOf(L))):this.model.maxValue,R>0){V=Number(I.substring(I.indexOf(L)+1,I.toString().length)),oe=F.toString().indexOf(L)>0?Number(F.toString().substring(F.toString().indexOf(L)+1,F.toString().length)):0,ue=A.toString().indexOf(L)>0?Number(A.toString().substring(A.toString().indexOf(L)+1,A.toString().length)):0;var N=Number(I.substring(0,I.indexOf(L))),U=Number(F.toString().substring(0,F.toString().indexOf(L))),J=Number(A.toString().substring(0,A.toString().indexOf(L)));l=!this._validateValue(V,oe,ue,!0,N,U,J)}else l=!this._validateValue(V,oe,ue,!1);if(l)return this._keypressFlag=!1,this._cancelEvent(t),!1}if(38==t.keyCode&&this._allowkeyboard&&(this._updateInputField("increment"),this._cancelEvent(t)),40==t.keyCode&&this._allowkeyboard&&(this._updateInputField("decrement"),this._cancelEvent(t)),8==t.keyCode&&(o=this._caretPosition(),this._textBox.value.substring(0,o),this._textBox.value.substring(o),b=this._getSelection(this._textBox.value)),(46==t.keyCode||127==t.keyCode)&&(o=this._caretPosition(),this._textBox.value.substring(0,o),this._textBox.value.substring(o),b=this._getSelection(this._textBox.value)),this._validateDecimal(t)&&0!=this.model.decimalPlaces&&46!=t.keyCode){var oe,ue,Q=s.preferredCulture(this.model.locale).numberFormat["."],le=this._textBox.value.split(Q),ne=this._caretPosition();if(this._textBox.selectionEnd-this._textBox.selectionStart==this._textBox.value.length)return this._textBox.value=Q,this._setSelectionRange(ne+1,ne+1),this._keypressFlag=!1,this._cancelEvent(t),!1;if(le[1]==h){if(T=le[0].substring(0,ne),D=le[0].substring(ne),(this.model.minValue.toString().indexOf("e")>0||this.model.maxValue.toString().indexOf("e")>0)&&(z=!0),-1!=this.model.decimalPlaces&&D.length>this.model.decimalPlaces&&1==this.model.validateOnType)return this._keypressFlag=!1,this._cancelEvent(t),!1;if(this._validateOnType&&!z){if(this.model.minValue.toString().match(new RegExp(".","g"))&&(oe=this.model.minValue.toString().replace(/["."]/g,Q)),this.model.maxValue.toString().match(new RegExp(".","g"))&&(ue=this.model.maxValue.toString().replace(/["."]/g,Q)),oe=oe.indexOf(Q)>0?Number(oe.substring(0,oe.indexOf(Q))):Number(oe),ue=ue.indexOf(Q)>0?Number(ue.substring(0,ue.indexOf(Q))):Number(ue),!this._validateValue(this.model.value,oe,ue,"DecimalKeyPressed"))return this._keypressFlag=!1,this._cancelEvent(t),!1;this._textBox.value=T+Q+D}else this._textBox.value=T+Q+D;this._setSelectionRange(ne+1,ne+1)}this._cancelEvent(t)}else(190==t.keyCode||110==t.keyCode)&&this._cancelEvent(t);(109==t.keyCode||189==t.keyCode||173==t.keyCode)&&((this.model.value===this._preVal||null===this.model.value)&&(this.model.value=this._textBox.value),0!=this._caretPosition()&&this._getSelection(this._removeFormats(this._textBox.value))!=this.model.value||this.model.minValue>=0&&!this.model.enableStrictMode||this._textBox.value.toString().match(new RegExp("-","g"))&&""===this._getSelection(this._textBox.value)?(this._preVal=this.model.value,this.model.value=this._textBox.value,this._cancelEvent(t)):this._getSelection()==this.model.value&&(this._preVal=this.model.value,this.model.value=null)),13==t.keyCode&&this._checkNumValue(this._preVal)!==this._checkNumValue(this._textBox.value)&&this._setValue(this._textBox.value)}else(27!=t.keyCode&&!t.ctrlKey||t.ctrlKey&&90==t.keyCode&&""===a.trim(this._textBox.value))&&(this._keypressFlag=!1,this._cancelEvent(t))},_getLocalizedLabels:function(){return s.getLocalizedConstants(this.sfType,this.model.locale)}}),s.NumericTextbox.Locale=s.NumericTextbox.Locale||{},s.NumericTextbox.Locale.default=s.NumericTextbox.Locale["en-US"]={watermarkText:"Enter value"},s.PercentageTextbox.Locale=s.PercentageTextbox.Locale||{},s.PercentageTextbox.Locale.default=s.PercentageTextbox.Locale["en-US"]={watermarkText:"Enter value"},s.CurrencyTextbox.Locale=s.CurrencyTextbox.Locale||{},s.CurrencyTextbox.Locale.default=s.CurrencyTextbox.Locale["en-US"]={watermarkText:"Enter value"},function(a,s){s.widget("ejButton","ej.Button",{element:null,model:null,validTags:["button","input"],_setFirst:!1,_rootCSS:"e-button",_requiresID:!0,defaults:{size:"normal",type:"submit",height:"",width:"",enabled:!0,htmlAttributes:{},text:null,contentType:"textonly",imagePosition:"imageleft",showRoundedCorner:!1,cssClass:"",prefixIcon:null,suffixIcon:null,enableRTL:!1,repeatButton:!1,timeInterval:"150",create:null,click:null,destroy:null},dataTypes:{size:"enum",enabled:"boolean",type:"enum",showRoundedCorner:"boolean",text:"string",contentType:"enum",imagePosition:"enum",prefixIcon:"string",suffixIcon:"string",cssClass:"string",repeatButton:"boolean",enableRTL:"boolean",timeInterval:"string",htmlAttributes:"data"},disable:function(){this.element.addClass("e-disable").attr("aria-disabled",!0),this.model.enabled=!1},enable:function(){this.element.removeClass("e-disable").attr("aria-disabled",!1),this.model.enabled=!0},_init:function(){this._cloneElement=this.element.clone(),this._initialize(),this._render(),this._controlStatus(this.model.enabled),this._wireEvents(this.model.repeatButton),this._addAttr(this.model.htmlAttributes)},_addAttr:function(h){var t=this;a.map(h,function(o,l){"class"==l?t.element.addClass(o):t.element.attr(l,o),"disabled"==l&&"disabled"==o&&t.disable()})},_destroy:function(){this._off(this.element,"blur",this._btnBlur),this.element.removeClass(this.model.cssClass+"e-ntouch e-btn e-txt e-select e-disable e-corner e-widget").removeAttr("role aria-describedby aria-disabled"),!this._cloneElement.attr("type")&&this.element.attr("type")&&this.element.removeAttr("type"),this.element.removeClass("e-btn-"+this.model.size),this.model.contentType&&"textonly"!=this.model.contentType&&this.element.append(this._cloneElement.text())&&this.imgtxtwrap[0].remove()},_setModel:function(h){for(var t in h)switch(t){case"size":this._setSize(h[t]);break;case"height":this._setHeight(h[t]);break;case"width":this._setWidth(h[t]);break;case"contentType":this._setContentType(h[t]);break;case"imagePosition":this._setImagePosition(h[t]);break;case"text":this._setText(h[t]);break;case"prefixIcon":this.element.is("input")||this._setMajorIcon(h[t]);break;case"suffixIcon":this.element.is("input")||this._setMinorIcon(h[t]);break;case"enabled":this._controlStatus(h[t]);break;case"showRoundedCorner":this._roundedCorner(h[t]);break;case"cssClass":this._setSkin(h[t]);break;case"enableRTL":this._setRTL(h[t]);break;case"timeInterval":this.model.timeInterval=h[t];break;case"htmlAttributes":this._addAttr(h[t])}},_setSize:function(h){this.element.removeClass("e-btn-mini e-btn-medium e-btn-small e-btn-large e-btn-normal"),this.element.addClass("e-btn-"+h)},_setType:function(h){this.element.prop({type:h})},_setHeight:function(h){this.element.css("height",h)},_setWidth:function(h){this.element.css("width",h)},_setText:function(h){"inputButton"==this.buttonType?this.element.val(h):this.model.contentType==s.ContentType.TextOnly?this.element.html(h):this.textspan.html(h),this.model.text=h},_setMajorIcon:function(h){this.majorimgtag.removeClass(this.model.prefixIcon),this.majorimgtag.addClass(h),this.model.prefixIcon=h},_setMinorIcon:function(h){this.minorimgtag.removeClass(this.model.suffixIcon),this.minorimgtag.addClass(h),this.model.suffixIcon=h},_setContentType:function(h){h!=this.model.contentType&&(this.element.empty(),this.model.contentType=h,this.element.is("input")||this._renderButtonNormal())},_setImagePosition:function(h){this.model.contentType==s.ContentType.TextAndImage&&h!=this.model.imagePosition&&(this.element.empty(),this.model.imagePosition=h,this.element.is("input")||this._renderButtonNormal())},_setRTL:function(h){h?this.element.addClass("e-rtl"):this.element.removeClass("e-rtl")},_controlStatus:function(h){h?this.enable():this.disable()},_setSkin:function(h){this.model.cssClass!=h&&(this.element.removeClass(this.model.cssClass),this.element.addClass(h))},_initialize:function(){s.isTouchDevice()||this.element.addClass("e-ntouch"),this.element.is("input")?this.buttonType="inputButton":this.element.is("a")||this.element.is("button")?this.buttonType="tagButton":this.element.removeClass("e-button"),this.element.attr("type")?this.model.type=this.element.attr("type"):this._setType(this.model.type),this._timeout=null},_render:function(){this._setSize(this.model.size),this._setHeight(this.model.height),this._setWidth(this.model.width),this._setRTL(this.model.enableRTL),this.element.addClass(this.model.cssClass+" e-btn e-select e-widget").attr("role","button"),"inputButton"==this.buttonType?(this.element.addClass("e-txt"),null!=this.model.text&&""!=this.model.text?this.element.val(this.model.text):this.model.text=this.element.val()):this._renderButtonNormal(),this._roundedCorner(this.model.showRoundedCorner),this.element[0].id&&this.element.attr("aria-describedby",this.element[0].id)},_renderButtonNormal:function(){if((null==this.model.text||""==this.model.text)&&(this.model.text=this.element.html()),this.element.empty(),this.textspan=s.buildTag("span.e-btntxt",this.model.text),this.model.contentType.indexOf("image")>-1&&(this.majorimgtag=s.buildTag("span").addClass(this.model.prefixIcon),this.minorimgtag=s.buildTag("span").addClass(this.model.suffixIcon),this.imgtxtwrap=s.buildTag("span").addClass("e-btn-span")),this.model.contentType==s.ContentType.TextAndImage){switch(this.model.imagePosition){case s.ImagePosition.ImageRight:this.imgtxtwrap.append(this.textspan,this.majorimgtag);break;case s.ImagePosition.ImageLeft:this.imgtxtwrap.append(this.majorimgtag,this.textspan);break;case s.ImagePosition.ImageBottom:this.majorimgtag.attr("style","display:inherit"),this.imgtxtwrap.append(this.textspan,this.majorimgtag);break;case s.ImagePosition.ImageTop:this.majorimgtag.attr("style","display:inherit"),this.imgtxtwrap.append(this.majorimgtag,this.textspan)}this.element.append(this.imgtxtwrap)}else this.model.contentType==s.ContentType.ImageTextImage?(this.imgtxtwrap.append(this.majorimgtag,this.textspan,this.minorimgtag),this.element.append(this.imgtxtwrap)):this.model.contentType==s.ContentType.ImageBoth?(this.imgtxtwrap.append(this.majorimgtag,this.minorimgtag),this.element.append(this.imgtxtwrap)):this.model.contentType==s.ContentType.ImageOnly?(this.imgtxtwrap.append(this.majorimgtag),this.element.append(this.imgtxtwrap)):(this.element.addClass("e-txt"),this.element.html(this.model.text))},_roundedCorner:function(h){1==h?this.element.addClass("e-corner"):this.element.removeClass("e-corner")},_wireEvents:function(h){h&&(this._on(this.element,"mousedown",this._btnRepatMouseClickEvent),this._on(a(document),"mouseup",this._mouseUpClick),this._on(this.element,"keyup",this._btnRepatKeyUpEvent),this._on(a(document),"keypress",this._btnRepatKeyDownEvent)),this._on(this.element,"click",this._btnMouseClickEvent),this._on(this.element,"blur",this._btnBlur)},_btnBlur:function(){this.element.removeClass("e-animate")},_btnMouseClickEvent:function(h){var o,t=this;if(this.element.addClass("e-animate"),!t.model.enabled)return!1;t.element.hasClass("e-disable")||(t._trigger("_click",o={target:h.currentTarget,e:h,status:t.model.enabled}),t._trigger("click",o))},_btnRepatMouseClickEvent:function(h){var t=this;if(!t.model.enabled)return!1;t.element.hasClass("e-disable")||(0==h.button||1==h.which)&&(t._timeout=setInterval(function(){t._trigger("click",{target:h.currentTarget,status:t.model.enabled})},this.model.timeInterval))},_mouseUpClick:function(){clearTimeout(this._timeout)},_btnRepatKeyDownEvent:function(h){var t=this;t.element.hasClass("e-disable")||(32==h.keyCode||13==h.keyCode)&&t._trigger("click",{status:t.model.enabled})},_btnRepatKeyUpEvent:function(h){(32==h.keyCode||13==h.keyCode)&&clearTimeout(this._timeout)}}),s.ContentType={TextOnly:"textonly",ImageOnly:"imageonly",ImageBoth:"imageboth",TextAndImage:"textandimage",ImageTextImage:"imagetextimage"},s.ImagePosition={ImageRight:"imageright",ImageLeft:"imageleft",ImageTop:"imagetop",ImageBottom:"imagebottom"},s.ButtonSize={Normal:"normal",Mini:"mini",Small:"small",Medium:"medium",Large:"large"},s.ButtonType={Button:"button",Reset:"reset",Submit:"submit"}}(jQuery,Syncfusion),function(a,s,h){s.widget("ejCheckBox","ej.CheckBox",{_rootCSS:"e-checkbox",element:null,model:null,validTags:["input"],_addToPersist:["checked","checkState"],_setFirst:!1,angular:{require:["?ngModel","^?form","^?ngModelOptions"]},defaults:{id:null,name:null,value:null,htmlAttributes:{},checked:!1,enabled:!0,enableTriState:!1,showRoundedCorner:!1,enablePersistence:!1,cssClass:"",text:"",enableRTL:!1,idPrefix:"ej",size:"small",checkState:"uncheck",validationRules:null,validationMessage:null,validationMessages:null,beforeChange:null,change:null,create:null,destroy:null},dataTypes:{id:"string",name:"string",enablePersistence:"boolean",enableTriState:"boolean",size:"enum",enabled:"boolean",idPrefix:"string",validationRules:"data",validationMessage:"data",validationMessages:"data",htmlAttributes:"data"},observables:["checked","checkState"],checked:s.util.valueFunction("checked"),checkState:s.util.valueFunction("checkState"),_init:function(t){this._cloneElement=this.element.clone();var o=s.browserInfo();this._isIE8="msie"==o.name&&"8.0"==o.version,this._isIE9="msie"==o.name&&"9.0"==o.version,this._isDevice=this._checkDevice(),this._setValue(),this._renderControl(),this.model.enableRTL&&this._setRTL(),this.model.enabled&&this._wireEvents(),this._setEnabled(this.model.enabled),s.isNullOrUndefined(t)||s.isNullOrUndefined(t.validationMessage)||(this.model.validationMessages=this.model.validationMessage),null!=this.model.validationRules&&(this._initValidator(),this._setValidation()),this._addAttr(this.model.htmlAttributes),(this._isIE9||this._isIE8)&&this.wrapper.addClass("e-tb-cell")},_checkDevice:function(){return s.isDevice()&&s.isTouchDevice()},_setRTL:function(){a(this.maindiv).addClass("e-rtl")},_initValidator:function(){this.wrapper.closest("form").data("validator")||this.wrapper.closest("form").validate()},_setValidation:function(){var t,o,l,p,g;for(l in this.wrapper.find("input").rules("add",this.model.validationRules),t=(t=this.wrapper.closest("form").data("validator"))||this.wrapper.closest("form").validate(),o=this.wrapper.find("input").attr("name"),t.settings.messages[o]={},this.model.validationRules)if(p=null,!s.isNullOrUndefined(this.model.validationRules[l])){if(s.isNullOrUndefined(this.model.validationRules.messages&&this.model.validationRules.messages[l]))for(g in t.settings.messages[o][l]=a.validator.messages[l],this.model.validationMessages)l==g&&(p=this.model.validationMessages[l]);else p=this.model.validationRules.messages[l];t.settings.messages[o][l]=p??a.validator.messages[l]}},_addAttr:function(t){var o=this;a.map(t,function(l,p){"class"==p?o.wrapper.addClass(l):"name"==p||"required"==p?o.element.attr(p,l):"disabled"==p&&"disabled"==l?o._setEnabled(!1):"checked"==p&&"checked"==l?o.checked()instanceof Array?o._updateCheckedItem():o._checked(!0):o.wrapper.attr(p,l)})},_triggerBeforeChange:function(){if(1==this._trigger("beforeChange",{isChecked:this._isChecked,isInteraction:!1}))return!1},_triggerChange:function(){var t={isChecked:this._isChecked,checkState:this.checkState(),isInteraction:!1};this._trigger("change",t)},_setModel:function(t){var o,l;for(o in t)switch(o){case"checked":a(this.maindiv).removeClass("e-material-animate"),this.model.beforeChange&&this._triggerBeforeChange(),this.checked()instanceof Array?(l=s.util.getVal(t[o]),this.model.value==l[l.length-1]&&(this._isChecked=!0)):(this._isChecked=s.util.getVal(t[o]),this.checked(this._isChecked)),this._isChecked?this._checked():this._unChecked(),this.model.change&&this._triggerChange();break;case"enableTriState":t[o]&&(this.model.enableTriState=t[o],this._indeterminateState=t[o]);break;case"checkState":this.model.enableTriState&&(this.model.beforeChange&&this._triggerBeforeChange(),this._isChecked=s.util.getVal(t[o]),this.checkState(this._isChecked),this._changeState(this._isChecked),this._setCheckBoxState(),this.checked(this._isChecked),"indeterminate"==this.model.checkState&&this._setIndeterminate(this._indeterminateState),this.checked()instanceof Array?this._updateCheckedItem():"check"==t[o]?this._hiddenInput.removeAttribute("name"):this._hiddenInput.setAttribute("name",this.model.name),this.model.change&&(this.checked()instanceof Array||(this._isChecked="uncheck"!=this.checkState()),this._triggerChange()));break;case"cssClass":this._changeSkin(t[o]);break;case"enableRTL":t[o]?this._setRTL():a(this.maindiv).removeClass("e-rtl");break;case"text":this._setText(t[o]);break;case"validationRules":null!=this.model.validationRules&&(this.wrapper.find("input").rules("remove"),this.model.validationMessages=null),this.model.validationRules=t[o],null!=this.model.validationRules&&(this._initValidator(),this._setValidation());break;case"validationMessage":case"validationMessages":this.model.validationMessages=t[o],null!=this.model.validationRules&&null!=this.model.validationMessages&&(this._initValidator(),this._setValidation());break;case"id":this._setIdAttr(t[o]);break;case"name":this.element.attr("name",t[o]),(!this._isChecked||this.spanImg.hasClass("e-chk-indeter"))&&this._hiddenInput.setAttribute("name",t[o]),this.model.name=t[o];break;case"value":this.element.attr("value",t[o]);break;case"size":this._setSize(t[o]);break;case"showRoundedCorner":this._setRoundedCorner(t[o]);break;case"enabled":this._setEnabled(t[o]);break;case"htmlAttributes":this._addAttr(t[o])}},_destroy:function(){this.element.removeClass("e-checkbox e-input"),!this._cloneElement.attr("name")&&this.element.attr("name")&&this.element.removeAttr("name"),!this._cloneElement.attr("value")&&this.element.attr("value")&&this.element.removeAttr("value"),this.element.insertBefore(this.wrapper),this.wrapper.remove()},_changeSkin:function(t){this.model.cssClass!=t&&(this.wrapper.removeClass(this.model.cssClass).addClass(t),a("#"+this.model.idPrefix+this.model.id+"_wrapper").removeClass(this.model.cssClass).addClass(t))},_setValue:function(){this._indeterminateState=!1,this._isChecked=!1;var t=this.element[0].getAttribute("id"),o=this.element[0].getAttribute("name"),l=this.element[0].getAttribute("value");s.isNullOrUndefined(t)||(this.model.id=t),s.isNullOrUndefined(o)||(this.model.name=o),s.isNullOrUndefined(l)||""==l||(this.model.value=l),this.checked()||s.isNullOrUndefined(this.element.attr("checked"))||(this._isChecked=!0),s.isNullOrUndefined(this.model.name)&&(this.model.name=this.model.id),this.model.enabled=this.model.enabled&&!this.element.attr("disabled")},_setSize:function(t){t==s.CheckboxSize.Medium?(a(this.innerdiv).removeClass("e-chkbox-small").addClass("e-chkbox-medium"),a(this.maindiv).removeClass("e-check-small").addClass("e-check-medium")):(a(this.innerdiv).removeClass("e-chkbox-medium").addClass("e-chkbox-small"),a(this.maindiv).removeClass("e-check-medium").addClass("e-check-small"))},_setRoundedCorner:function(t){t?this.span.addClass("e-corner"):this.span.removeClass("e-corner")},_setEnabled:function(t){t?this.enable():this.disable()},_setCheckBoxState:function(){this.model.enableTriState?"indeterminate"==this.checkState()?this._indeterminateState=!0:"check"==this.checkState()?this._isChecked=!0:"uncheck"==this.checkState()&&(this._isChecked=!1):"indeterminate"==this.checkState()&&this.checkState("uncheck")},_createElement:function(t,o){var l=document.createElement(t);return this._setAttributes(l,o),l},_setAttributes:function(t,o){for(var l in o)t.setAttribute(l,o[l])},_renderControl:function(){this._setCheckBoxState(),this.maindiv=this._createElement("span",{class:"e-chkbox-wrap e-widget "+this.model.cssClass,role:"checkbox",tabindex:0}),this._isValid(this.model.id)&&(this.maindiv.setAttribute("id",this.model.idPrefix+this.model.id),this.element[0].setAttribute("id",this.model.id)),this.innerdiv=document.createElement("div"),this._setSize(this.model.size),this.span=document.createElement("span"),this.span=a(this.span),this.spanImg=this._createElement("span",{class:"e-chk-image e-icon",role:"presentation"}),this.spanImg=a(this.spanImg),this.element.addClass("e-input"),this.model.name=s.isNullOrUndefined(this.model.name)?this.model.id:this.model.name,this.model.value=!!s.isNullOrUndefined(this.model.value)||this.model.value,this._setAttributes(this.element[0],{name:this.model.name,value:this.model.value});var t=a("#"+this._id+"_hidden");this._hiddenInput=t.length?t[0]:this._createElement("input",{type:"checkbox",value:!1,style:"display:none"}),"hidden"==this.element.attr("data-type")&&this._hiddenInput.setAttribute("type","hidden"),this._isValid(this.model.name)&&this._hiddenInput.setAttribute("id",this.model.name+"_hidden"),this._setRoundedCorner(this.model.showRoundedCorner),this.checked()&&this._setCheckedItem(this.checked()),this._isChecked?(this.spanImg.addClass("e-checkmark"),this.span.addClass("e-chk-act"),this.maindiv.setAttribute("aria-checked",!0),this.element.attr("checked","checked")):(this.span.addClass("e-chk-inact"),this.maindiv.setAttribute("aria-checked",!1),this._hiddenInput.setAttribute("name",this.model.name)),this.checked()instanceof Array||this.checked(this._isChecked),this.span[0].appendChild(this.spanImg[0]),this.innerdiv.appendChild(this.span[0]),this.element[0].parentNode&&this.element[0].parentNode.insertBefore(this.maindiv,this.element[0]),this.maindiv.appendChild(this.element[0]),this.maindiv.appendChild(this._hiddenInput),this.maindiv.appendChild(this.innerdiv),this.wrapper=a(this.maindiv),this._setTextWrapper(this.model.text),this.chkbx=this.element,1==this.model.enableTriState&&1==this._indeterminateState&&this._setIndeterminate(this._indeterminateState),this.checked()instanceof Array&&this._updateCheckedItem()},_changeState:function(t){"indeterminate"==t?(this.spanImg.removeClass("e-checkmark").addClass("e-stop"),this.span.removeClass("e-chk-act e-chk-inact").addClass("e-chk-indeter"),this.wrapper[0].setAttribute("aria-checked","mixed"),this.wrapper.find("input").prop("enableTriState",!0),this.checked()instanceof Array||this.checked(null)):"check"==t?(this.spanImg.removeClass("e-stop").addClass("e-checkmark"),this.span.removeClass("e-chk-act e-chk-inact e-chk-indeter").addClass("e-chk-act"),this.wrapper[0].setAttribute("aria-checked",!0)):"uncheck"==t&&(this.spanImg.removeClass("e-checkmark e-stop"),this.span.removeClass("e-chk-act e-chk-indeter").addClass("e-chk-inact"),this.wrapper[0].setAttribute("aria-checked",!1))},_setIndeterminate:function(t){t?(this.spanImg.removeClass("e-checkmark").addClass("e-stop"),this.span.removeClass("e-chk-act e-chk-inact").addClass("e-chk-indeter"),this.wrapper[0].setAttribute("aria-checked","mixed"),this.wrapper.find("input").prop("enableTriState",!0),this.checkState("indeterminate"),this.checked()instanceof Array||this.checked(null),this._hiddenInput.setAttribute("name",this.model.name)):(this.span.removeClass("e-chk-indeter"),this.spanImg.removeClass("e-stop"),this.wrapper.find("input").removeAttr("enableTriState"),this.wrapper.find("input").prop("enableTriState",!1),this.checked()?this._checked():this._unChecked())},_setTextWrapper:function(t){""!=t&&(this.txtSpan=s.buildTag("div.e-text",t),this.wrapper.append(this.txtSpan),this.model.enableRTL&&this._setRTL())},_setText:function(t){""==this.model.text&&""!=t?this._setTextWrapper(t):this.txtSpan.html(t)},_setIdAttr:function(t){a("#"+this.model.idPrefix+this.model.id+"_wrapper").attr("id",this.model.idPrefix+t+"_wrapper"),this.element[0].setAttribute("id",t)},_isValid:function(t){return!s.isNullOrUndefined(t)&&""!=t},_wireEvents:function(){this._on(this.wrapper,"click",this._checkedHandler),this._isIE8&&this._isValid(this.model.id)&&this._on(a("label[for="+this.model.id+"]"),"click",function(){this.wrapper.click()}),this._on(this.wrapper,"focus",this._focusIn),this._on(this.wrapper,"focusout",this._focusOut)},_unWireEvents:function(){this._off(this.wrapper,this._isDevice&&a.isFunction(a.fn.tap)?"tap":"click"),this._isIE8&&this._isValid(this.model.id)&&this._off(a("label[for="+this.model.id+"]"),"click"),this._off(this.wrapper,"focus"),this._off(this.wrapper,"focusout")},_focusIn:function(){a(this.wrapper).addClass("e-focus"),a(this.wrapper).on("keydown",a.proxy(this._checkUnCheck,this))},_focusOut:function(){a(this.wrapper).removeClass("e-focus"),a(this.wrapper).off("keydown",a.proxy(this._checkUnCheck,this))},_checkUnCheck:function(t){32==t.keyCode&&(t.preventDefault(),this._checkedHandler())},_checkedHandler:function(t){var o={isChecked:this._isChecked,isInteraction:!0,event:t};return 1!=this._trigger("beforeChange",o)&&(this.span.hasClass("e-chk-inact")?(this._checked(),this.checked()instanceof Array||this.checked(!0),this.model.enableTriState&&(this._indeterminateState=!0,this.checkState("check"))):this.span.hasClass("e-chk-act")?1==this.model.enableTriState&&"check"==this.model.checkState&&1==this.model.checked?(this._setIndeterminate(!0),this.checked()instanceof Array||(this.checked(!0),this.checkState("indeterminate"))):(this._unChecked(),this.checked()instanceof Array||(this.checked(!1),this.checkState("uncheck"))):this.span.hasClass("e-chk-indeter")&&(this.checked()instanceof Array?this._isChecked=!1:this.checked(!1),this._setIndeterminate(!1),this._indeterminateState=!1),this.checked()instanceof Array?this._updateCheckedItem():this._isChecked=this.checked(),a(this.maindiv).addClass("e-material-animate"),o={isChecked:this._isChecked,checkState:this.checkState(),isInteraction:!0,event:t},this._trigger("change",o),!0)},_checked:function(){this.span.removeClass("e-chk-inact").addClass("e-chk-act"),this.spanImg.removeClass("e-stop").addClass("e-checkmark"),this.wrapper[0].setAttribute("aria-checked",!0),this.wrapper.find("input[type=checkbox]").prop("checked",!0),this.checkState("check"),this._hiddenInput.removeAttribute("name")},_unChecked:function(){this.span.removeClass("e-chk-act e-chk-indeter").addClass("e-chk-inact"),this.wrapper[0].setAttribute("aria-checked",!1),this.spanImg.removeClass("e-checkmark e-stop"),this.wrapper.find("input[type=checkbox]").prop("checked",!1),this.checkState("uncheck"),this._hiddenInput.setAttribute("name",this.model.name)},_setCheckedItem:function(t){if("boolean"!=typeof t||t instanceof Array){if(t instanceof Array&&!s.isNullOrUndefined(this.model.value)&&""!=this.model.value)for(var o=0;o<t.length;o++)t[o]==this.model.value&&(this._isChecked=!0)}else this._isChecked=!0},_updateCheckedItem:function(){var t=this.model.checked.splice===h?this.model.checked():this.model.checked;s.isNullOrUndefined(this.model.value)||""==this.model.value||this.wrapper.find("span:first").hasClass("e-chk-indeter")||(a.inArray(this.model.value,this.checked())<0&&this.wrapper.find("span:first").hasClass("e-chk-act")?(t.push(this.model.value),this._isChecked=!0,this._hiddenInput.removeAttribute("name")):a.inArray(this.model.value,this.checked())>-1&&this.wrapper.find("span:first").hasClass("e-chk-inact")&&(this._isChecked=!1,t.splice(a.inArray(this.model.value,this.model.checked()),1),this._hiddenInput.setAttribute("name",this.model.name)))},disable:function(){this.wrapper.hasClass("e-disable")||(this.wrapper.addClass("e-disable"),this.wrapper[0].setAttribute("aria-disabled",!0),this.element[0].setAttribute("disabled","disabled"),this._isIE8&&this.span.addClass("e-disable"),this._unWireEvents(),this.model.enabled=!1)},enable:function(){this.wrapper.hasClass("e-disable")&&(this.wrapper.removeClass("e-disable"),this.wrapper[0].setAttribute("aria-disabled",!1),this.element.prop("disabled",!1),this._isIE8&&this.span.removeClass("e-disable"),this._wireEvents(),this.model.enabled=!0)},isChecked:function(){if(null!=this._isChecked&&this._isChecked!=h)return this._isChecked}}),s.CheckboxSize={Small:"small",Medium:"medium"},s.CheckState={Check:"check",Uncheck:"uncheck",Indeterminate:"indeterminate"}}(jQuery,Syncfusion),function(a,s){s.widget("ejToolbar","ej.Toolbar",{element:null,model:null,validTags:["div","span"],_setFirst:!1,_rootCSS:"e-toolbar",angular:{terminal:!1},defaults:{height:"",width:"",enabled:!0,hide:!1,disabledItemIndices:[],enabledItemIndices:[],enableSeparator:!1,orientation:"horizontal",enableRTL:!1,isResponsive:!1,showRoundedCorner:!1,htmlAttributes:{},dataSource:null,Items:{id:"id",tooltipText:"tooltipText",imageUrl:"imageUrl",text:"text",imageAttributes:"imageAttributes",spriteCssClass:"spriteCssClass",htmlAttributes:"htmlAttributes",group:"group",template:"template",overflow:"overflow"},query:null,responsiveType:"popup",fields:{id:"id",tooltipText:"tooltipText",imageUrl:"imageUrl",text:"text",imageAttributes:"imageAttributes",spriteCssClass:"spriteCssClass",htmlAttributes:"htmlAttributes",group:"group",template:"template",overflow:"overflow"},tooltipSettings:{associate:"mouseenter",showShadow:!0,position:{stem:{horizontal:"left",vertical:"top"}},tip:{size:{width:5,height:5},adjust:{xValue:17,yValue:17}},isBalloon:!1},cssClass:"",targetID:null,create:null,click:null,itemHover:null,itemLeave:null,overflowOpen:null,overflowClose:null,destroy:null},dataTypes:{enabled:"boolean",hide:"boolean",enableSeparator:"boolean",disabledItemIndices:"data",enabledItemIndices:"data",orientation:"enum",enableRTL:"boolean",showRoundedCorner:"boolean",isResponsive:"boolean",dataSource:"data",query:"data",fields:"data",cssClass:"string",htmlAttributes:"data",targetID:"string",responsiveType:"enum"},hide:function(){if(!this.model.enabled&&"none"==this.element.css("display"))return!1;this.element.css("display","none"),this.model.hide=!0},show:function(){if(!this.model.enabled&&"none"!=this.element.css("display"))return!1;this.element.css("display","block"),this.model.hide=!1},_init:function(){null!=this.model.targetID&&this.element.html(a("#"+this.model.targetID).find("ul,ol")),this._cloneElement=a(this.element).clone(),this._localDataSource=null,(null!=this.model.dataSource||null!=this.model.Items)&&this._generateTemplate(),this.model.dataSource instanceof s.DataManager||this._initialize(),this._renderTooltip(this.model.tooltipSettings)},_setModel:function(h){var t,o;for(t in h)switch(t){case"height":this._setHeight(h[t]);break;case"width":this.model.width=h[t],this._setWidth(),this._bindUnbindWidth();break;case"enabled":this._controlStatus(h[t]);break;case"disabledItemIndices":this._disableItemByIndex(h[t]),h[t]=this.model.disabledItemIndices;break;case"enabledItemIndices":this._enableItemByIndex(h[t]);break;case"isResponsive":this.model.isResponsive=h[t],this.model.isResponsive?(this._responsiveLayout(),this._renderTooltip(this.model.tooltipSettings)):this._removeResponsive();break;case"hide":this._controlVisibleOptions(h[t]);break;case"orientation":this._setOrientation(h[t]),this.model.orientation=h[t],this._wireResizing();break;case"tooltipSettings":this.model.tooltipSettings=a.extend(!0,this.model.tooltipSettings,h[t]),this._renderTooltip(this.model.tooltipSettings);break;case"enableRTL":this._enableRTL(h[t]);break;case"showRoundedCorner":this._roundedCorner(h[t]);break;case"cssClass":this._setSkin(h[t]);break;case"htmlAttributes":this._addAttr(h[t]);break;case"enableSeparator":this.model.enableSeparator=h[t],this._renderToolbarSeparator();break;case"fields":a.extend(this.model.fields,h[t]);break;case"query":this.model.query=h[t];break;case"dataSource":for(o in h)"fields"==o&&a.extend(this.model.fields,h[o]),"query"==o&&(this.model.query=h[o]);this._refreshTagItems(t,h[t]);break;case"Items":a.extend(this.model.Items,h[t]),this._refreshTagItems(t,h[t]);break;case"targetID":this.model.targetID=h[t],this._setTargetID()}},_setTargetID:function(){this.element.removeAttr("role tabindex aria-disabled style"),a(this._spantag).remove(),a(this._liTemplte).remove(),this._liTemplte=this._tipRes=null,this.element.removeClass("e-widget e-box e-toolbarspan e-rtl"),this.element.find("ul,ol").removeClass("e-ul e-horizontal e-vertical e-separator e-comnrtl"),this.element.find("li").removeClass("e-tooltxt e-comnrtl"),this.element.find("li").removeAttr("aria-label"),this._init()},_refreshTagItems:function(h,t){this.model[h]=t,this.element.empty(),this._generateTemplate(),this._initialize()},_setHeight:function(h){this.element.css("height",h)},_setWidth:function(){var h,t;if("auto"==this.model.width){var g,o=parseFloat(this.element.css("border-left-width"))+parseFloat(this.element.css("border-right-width")),l=this.element.find("ul").children("li"),p=this.element.find("ul");for(g=this.element.find("inline"==this.model.responsiveType?".e-arrow-sans-down":".e-toolbar-res-arrow"),h=0,t=p.length;h<t;h++)null!=p[h]&&a(p[h]).hasClass("e-separator")&&(o+=parseFloat(p.eq(h).css("border-right-width"))+parseFloat(p.eq(h).css("border-left-width")));for(null!=g[0]&&(o+="inline"==this.model.responsiveType?Math.round(this.element.find(".e-arrow-sans-down").outerWidth())+8:Math.round(this.element.find(".e-toolbar-res-arrow").outerWidth())+8),h=0,t=l.length;h<t;h++)null!=l[h]&&(o+=Math.round(l.eq(h).outerWidth()));this.element.css("width",Math.ceil(o))}else this.element.css("width",this.model.width)},_bindUnbindWidth:function(){"auto"!=this.model.width?this._off(a(window),"resize",this._widthHandler):this._on(a(window),"resize",this._widthHandler)},_widthHandler:function(){this._setWidth(this.model.width)},_setOrientation:function(h){h!=s.Orientation.Vertical?(this.element.removeClass(this.model.cssClass).addClass("e-toolbarspan "+this.model.cssClass),this.itemsContainer.removeClass("e-ul e-vertical").addClass("e-ul e-horizontal")):(this.element.removeClass("e-toolbarspan "+this.model.cssClass).addClass(this.model.cssClass),this.itemsContainer.removeClass("e-ul e-horizontal").addClass("e-ul e-vertical")),this.items.addClass("e-tooltxt")},_reSizeHandler:function(){var h,t,o,l,p,g;for(this._isResized&&this._liTemplte.children().length>0&&(h=this.element.children("ol.e-show, ul.e-show"),t=this._liTemplte.children("ol.e-show, ul.e-show"),h.length>0||t.length>0?a(this._liTemplte.children()).appendTo(this.element):a(this._liTemplte.children()).insertBefore(a(this.element).find("span.e-res-pos")),this._renderToolbarSeparator(),"inline"!=this.model.responsiveType&&this._liTemplte.addClass("e-display-none"),this._contstatus=!1),this._elementWidth="function"==typeof getComputedStyle?parseFloat(window.getComputedStyle(this.element[0]).width):this.element.width()-1,this._liWidth=this._spanWidth,o=this.element.children("ol.e-show:visible, ul.e-show:visible"),l=this.element.children("ol:visible:not(.e-show), ul:visible:not(.e-show)"),this._spantag.removeClass("e-display-block").addClass("e-display-none"),this._ensureOverflow(o),p=0,g=0;g<this.itemsContainer.length;g++)p+=a(this.itemsContainer[g]).outerWidth(!0);p>this.element.width()&&this._ensureOverflow(l),"inline"==this.model.responsiveType&&(this._liTemplte.removeClass("e-normal"),this._liTemplte.css("width",this.element.width())),this._isResized=!0},_ensureOverflow:function(h){for(var t,o=0;o<h.length;o++)this._liWidth+=a(h[o]).outerWidth(!0)+8,this._liWidth>=this.element.width()&&(this._spantag.hasClass("e-display-block")||this._spantag.removeClass("e-display-none").addClass("e-display-block"),this._spantag.addClass("e-res-pos"),this._liTemplte.addClass("e-normal"),this._spantag.outerWidth(!0)!=this._spanOuterWidth&&(t=this._spantag.outerWidth(!0)-this._spantag.outerWidth(),this._liWidth-(a(h[o]).outerWidth(!0)+8)+t>=this._elementWidth&&this._liTemplte.append(h[o-1])),this._liTemplte.append(h[o]))},_getZindexPartial:function(){return s.util.getZindexPartial(this.element,this.popup)},_getOffset:function(h){return s.util.getOffset(h)},_btnMouseClick:function(h){var o,l,p,I,b=this.element.outerWidth(),C=this.element.outerHeight(),T=a(this._liTemplte).outerWidth(),D=a(window).width(),L=a(window).scrollLeft();a(h.currentTarget).hasClass("e-disable")||(I=this._getZindexPartial(),p=(o=this._getOffset(this.element)).top+C-1+2,l=(l=this.model.enableRTL?o.left:o.left+b-T)<L?L+1:l+T>D+L?D-T+L-1:l,this._contstatus?(this._liTemplte.addClass("e-display-none"),"inline"==this.model.responsiveType&&this._spantag.removeClass("e-active"),this._contstatus=!1,this._trigger("overflowClose",{currentTarget:h.currentTarget,clientX:h.clientX,clientY:h.clientY,cancel:h.cancellable})):(this._liTemplte.removeClass("e-display-none"),"inline"!=this.model.responsiveType&&this._liTemplte.css({top:p+"px",left:l+"px","z-index":I}),"inline"==this.model.responsiveType&&this._spantag.addClass("e-active"),this._contstatus=!0,this._trigger("overflowOpen",{currentTarget:h.currentTarget,clientX:h.clientX,clientY:h.clientY,cancel:h.cancellable}),"inline"!=this.model.responsiveType&&this._on(s.getScrollableParents(this.element),"scroll",this._hidecontext),this.element.bind("click",a.proxy(this._hidecontext,this))),this._contstatus&&"inline"!=this.model.responsiveType&&this._on(a(document),"mouseup",this._documentClick),this._contstatus||this._off(a(document),"mouseup",this._documentClick),this._removeListHover())},_hidecontext:function(h){a(h.target).is(a("#"+this.element[0].id+"_target"))||"inline"==this.model.responsiveType||(this._liTemplte.addClass("e-display-none"),this._contstatus=!1,this.element.unbind("click",a.proxy(this._hidecontext,this)),this._off(s.getScrollableParents(this.element),"scroll",this._hidecontext),this._off(a(document),"mouseup",this._documentClick))},_documentClick:function(h){a(h.target).is(a("#"+this.element[0].id+"_target"))||0!=a(h.target).closest("div#"+this.element[0].id+"_hiddenlist").length||a(h.target).parents().hasClass("e-ddl-popup")||(this._liTemplte.addClass("e-display-none"),this._contstatus=!1,this._trigger("overflowClose",{currentTarget:h.currentTarget,clientX:h.clientX,clientY:h.clientY,cancel:h.cancellable}),this._off(a(document),"mouseup",this._documentClick))},_setSkin:function(h){this.element.removeClass(this.model.cssClass).addClass(h),this._subControlsSetModel("cssClass","e-toolbarTooltip "+h)},_subControlsSetModel:function(h,t){s.isNullOrUndefined(this._tipToolbar)||a(this.target).ejTooltip("option",h,t),s.isNullOrUndefined(this._tipRes)||a(this._liTemplte).ejTooltip("option",h,t)},_destroy:function(){this.element.html(""),s.isNullOrUndefined(this._tipToolbar)||a(this.target).ejTooltip("destroy"),s.isNullOrUndefined(this._tipRes)||a(this._liTemplte).ejTooltip("destroy"),this._cloneElement.removeClass("e-toolbar e-js"),this.element.replaceWith(this._cloneElement),this._liTemplte&&this._liTemplte.remove(),this._unWireResizing()},_initialize:function(){this.element.attr({role:"toolbar",tabindex:"0"}),this.element.children().find("li"),this._focusEnable=!0,this._renderControl(),this._responsiveLayout(),this._wireEvents()},_responsiveLayout:function(){var t;if(this._roundedCorner(this.model.showRoundedCorner),this.model.isResponsive&&"horizontal"==this.model.orientation){for(s.isNullOrUndefined(this._liTemplte)||(s.isNullOrUndefined(this._tipRes)||this._tipRes.destroy(),a(this._liTemplte).remove()),this._spantag=a("<span id='"+this.element[0].id+"_target' class='e-icon e-toolbar-res-arrow e-rel-position e-display-block' unselectable='on'></span>"),"inline"==this.model.responsiveType&&this._spantag.removeClass("e-toolbar-res-arrow").addClass("e-inlinearrow e-arrow-sans-down"),this.element.children("ol.e-show, ul.e-show").length>0?this.element[0].insertBefore(this._spantag[0],this.element[0].childNodes[0]):this._spantag.appendTo(this.element),this._liTemplte=a("<div id='"+this.element[0].id+"_hiddenlist' class='e-responsive-toolbar e-display-none e-abs-position "+a(this.element)[0].className+"'></div>"),"inline"==this.model.responsiveType&&this._liTemplte.removeClass("e-abs-position").addClass("e-inline"),this._spanWidth=this._spantag.outerWidth(!0)+8,this.model.enableRTL&&this._liTemplte.addClass("e-rtl"),this._isResized=!1,this._elementWidth="function"==typeof getComputedStyle?parseFloat(window.getComputedStyle(this.element[0]).width):this.element.width()-1,this._liWidth=this._spanWidth,t=0;t<this.itemsContainer.length;t++)this._liWidth+=a(this.itemsContainer[t]).outerWidth(!0);this._liWidth>this._elementWidth?this._reSizeHandler():this._spantag.removeClass("e-display-block").addClass("e-display-none"),"inline"==this.model.responsiveType?a(this.element[0]).append(this._liTemplte):a("body").append(this._liTemplte),this._renderTooltip(this.model.tooltipSettings)}this._on(a("#"+this.element[0].id+"_target"),"mousedown",this._btnMouseClick),this._wireResizing(),this._controlVisibleOptions(this.model.hide),this._enableRTL(this.model.enableRTL),this._disabledItems=this.model.disabledItemIndices,this._controlStatus(this.model.enabled),this.model.disabledItemIndices=this._disabledItems,0!=this.model.disabledItemIndices.length&&this._disableItemByIndex(this.model.disabledItemIndices),0!=this.model.enabledItemIndices.length&&this._enableItemByIndex(this.model.enabledItemIndices),this._setWidth()},_removeResponsive:function(){a(this._spantag).remove(),s.isNullOrUndefined(this._tipRes)||a(this._liTemplte).ejTooltip("destroy");var h=a(this._liTemplte).children("ul");a(this._liTemplte).detach(),a(this.element).append(h),this.itemsContainer=this.element.children("ol,ul"),this.items=this.itemsContainer.children("li"),this._off(this.items,"mouseup"),this._off(this.items,"mousedown"),this._off(this.element,"mousedown"),this._wireEvents(),this._wireResizing(),this._setWidth()},_controlVisibleOptions:function(h){0!=h?this.hide():this.show()},_controlStatus:function(h){1!=h?this.disable():this.enable()},_roundedCorner:function(h){h?(this.element.addClass("e-corner"),this._liTemplte&&this._liTemplte.addClass("e-corner")):(this.element.removeClass("e-corner"),this._liTemplte&&this._liTemplte.removeClass("e-corner")),this._subControlsSetModel("showRoundedCorner",h)},_generateTemplate:function(){var h=this;this.element.css("visibility","hidden"),this.model.dataSource instanceof s.DataManager?this.model.dataSource.executeQuery(this.model.query).done(function(o){h._generateGroup(o.result),h._initialize(),h.element.css("visibility","")}):null!=this.model.dataSource?(h._generateGroup(h.model.dataSource),h.element.css("visibility","")):(h._generateGroup(h.model.Items),h.element.css("visibility",""))},_generateGroup:function(h){var o,l,p,g,b,t=this;for(this._localDataSource=h,o=-1,l=[],p=0;p<h.length;p++)if(this._isNewGroup(h[p][this.model.fields.group],l)){for(l[++o]=h[p][this.model.fields.group],g=-1,t.itemsSource=[],b=p;b<h.length;b++)h[p][this.model.fields.group]==h[b][this.model.fields.group]&&(t.itemsSource[++g]=h[b]);t.element.append(t._generateTagitems())}},_isNewGroup:function(h,t){if(!t)return!0;for(var o=0;o<t.length;o++)if(h==t[o])return!1;return!0},_renderControl:function(){this.element.addClass("e-widget e-box"),this._renderToolbarItems(),this._addAttr(this.model.htmlAttributes),this._setOrientation(this.model.orientation),this._renderToolbarSeparator(),this._setHeight(this.model.height),this._bindUnbindWidth()},_renderToolbarItems:function(){var h;for(this.target=this.element[0],this.itemsContainer=this.element.children("ol,ul"),h=0;h<this.itemsContainer.length;h++)a(this.itemsContainer[h]).attr("role","list");for(this.itemsContainer.children("ol,ul").remove(),this.items=this.itemsContainer.children("li"),h=0;h<this.items.length;h++)a(this.items[h]).attr("tabindex","-1"),a(this.items[h]).attr("role","listitem"),s.isNullOrUndefined(a(this.items[h]).attr("title"))&&s.isNullOrUndefined(a(this.items[h]).attr("aria-label"))&&a(this.items[h]).attr("aria-label",this.items[h].id);this._liCount=this.items.length},_generateTagitems:function(){var h,t;for(h=this.itemsSource,this.ultag=s.buildTag("ul"),this.ultag.attr("role","list"),t=0;t<h.length;t++)"show"==h[t][this.model.fields.overflow]&&this.ultag.addClass("e-show"),this.ultag.append(this._generateLi(h[t]));return this.ultag},_generateLi:function(h){var t,o,l;return t=s.buildTag("li"),h[this.model.fields.id]?t.attr("id",h[this.model.fields.id]):h[this.model.fields.text]&&t.attr("id",h[this.model.fields.text]),h[this.model.fields.tooltipText]&&t.attr("title",h[this.model.fields.tooltipText]),h[this.model.fields.imageUrl]&&""!=h[this.model.fields.imageUrl]&&(o=s.buildTag("img.e-align","",{},{src:h[this.model.fields.imageUrl],alt:h[this.model.fields.text]}),h[this.model.fields.imageAttributes]&&this._setAttributes(h[this.model.fields.imageAttributes],o),t.append(o)),h[this.model.fields.spriteCssClass]&&""!=h[this.model.fields.spriteCssClass]&&(l=s.buildTag("div.e-align "+h[this.model.fields.spriteCssClass]+" e-spriteimg"),t.append(l)),h[this.model.fields.text]&&""!=h[this.model.fields.text]&&t.append(h[this.model.fields.text]),h[this.model.fields.htmlAttributes]&&this._setAttributes(h[this.model.fields.htmlAttributes],t),h[this.model.fields.template]&&(l=s.buildTag("div .e-align",h[this.model.fields.template]),t.append(l)),t},_setAttributes:function(h,t){for(var o in h)a(t).attr(o,h[o])},_renderToolbarSeparator:function(){var h,t;if(this.model.enableSeparator){for(h=0,t=this.itemsContainer.length-1;h<t;h++)a(this.itemsContainer[h]).addClass("e-separator");if(1==this.itemsContainer.length)for(h=0,t=this.itemsContainer[0].children.length;h<t;h++)h==t-1?a(this.itemsContainer[0].children[h]).removeClass("e-separator"):a(this.itemsContainer[0].children[h]).addClass("e-separator")}else this.itemsContainer.removeClass("e-separator").find(".e-separator").removeClass("e-separator");this._setWidth()},_addAttr:function(h){var t=this;a.map(h,function(o,l){"class"==l?t.element.addClass(o):"disabled"==l&&"disabled"==o?t.disable():t.element.attr(l,o)})},_enableRTL:function(h){h?(this.element.addClass("e-rtl"),this.items.addClass("e-comnrtl"),this.model.orientation==s.Orientation.Horizontal&&this.itemsContainer.addClass("e-comnrtl"),this._liTemplte&&this._liTemplte.addClass("e-rtl")):(this.element.removeClass("e-rtl"),this.items.removeClass("e-comnrtl"),this.model.orientation==s.Orientation.Horizontal&&this.itemsContainer.removeClass("e-comnrtl"),this._liTemplte&&this._liTemplte.removeClass("e-rtl")),this.model.enableRTL=h,this._subControlsSetModel("enableRTL",h),this._renderToolbarSeparator()},_renderTooltip:function(h){var t=a.extend(!0,{},h);t.cssClass=s.isNullOrUndefined(t.cssClass)?"e-toolbarTooltip "+this.model.cssClass:t.cssClass+" e-toolbarTooltip "+this.model.cssClass,t.enableRTL=this.model.enableRTL,t.showRoundedCorner=this.model.showRoundedCorner,t.target="li[data-content], li[title]",t.beforeOpen=this._showTooltip,this._tipToolbar=a(this.target).ejTooltip(t).data("ejTooltip"),this.model.isResponsive&&!s.isNullOrUndefined(this._liTemplte)&&(this._tipRes=a(this._liTemplte).ejTooltip(t).data("ejTooltip"))},_showTooltip:function(h){a(h.event.currentTarget).hasClass("e-disable")&&(h.cancel=!0)},_hideTooltip:function(){s.isNullOrUndefined(this._tipToolbar)||(this._tipToolbar.hide(),this._tipToolbar._isHidden=!1),s.isNullOrUndefined(this._tipRes)||(this._tipRes.hide(),this._tipRes._isHidden=!1)},_addOverlay:function(h){for(var t,o=0;o<h.length;o++)a(h[o]).hasClass("e-disable")||(a(h[o]).addClass("e-disable"),t=s.buildTag("div.e-item-overlay"),a(h[o]).append(t))},_removeOverlay:function(h){for(var t=0;t<h.length;t++)a(h[t]).children(".e-item-overlay").remove()},disableItem:function(h){var t=a(h);null==t||t.length<=0||(t.hasClass("e-disable")||(t.attr("aria-disabled",!0).removeAttr("aria-label"),this._addOverlay(t)),t.removeClass("e-hover e-active").attr("data-aria-selected",!1))},enableItem:function(h){var t=a(h);null==t||t.length<=0||(t.removeClass("e-disable").attr("aria-disabled",!1).removeClass("e-disable"),this._removeOverlay(t))},disableItemByID:function(h){var t=this.itemsContainer.find("li#"+h);null==t||t.length<=0||this.disableItem(t)},enableItemByID:function(h){var t=this.itemsContainer.find("li#"+h);null==t||t.length<=0||this.enableItem(t)},_enableItemByIndex:function(h){var t,o;if(!this.model.enabled)return!1;if(0!=h.length)for(o=0;o<h.length;o++)a.inArray(h[o],this.model.disabledItemIndices)>-1&&(t=a.inArray(h[o],this.model.disabledItemIndices),this.enableItem(this.items[this.model.disabledItemIndices[t]]),this.model.disabledItemIndices.splice(t,1))},_disableItemByIndex:function(h){var t;if(!this.model.enabled)return!1;for(this._disabledItems=this.model.disabledItemIndices,t=0;t<h.length;t++)a.inArray(h[t],this.model.disabledItemIndices)<0&&this._disabledItems.push(parseInt(h[t]));for(t=0;t<this.items.length;t++)a.inArray(t,this.model.disabledItemIndices)>-1&&this.disableItem(this.items[t]);this.model.disabledItemIndices=this._disabledItems},disable:function(){if("true"==this.element.attr("aria-disabled"))return!1;this.element.attr("aria-disabled",!0).removeAttr("aria-label"),this._addOverlay(this.items),this.model.isResponsive&&"horizontal"==this.model.orientation&&this._spantag.addClass("e-disable"),this.model.enabled=!1,this._subControlsSetModel("enabled",!1)},enable:function(){if(this.model.disabledItemIndices=[],"false"==this.element.attr("aria-disabled"))return!1;this.items.removeClass("e-disable"),this._removeOverlay(this.items),this.element.attr("aria-disabled",!1),this.model.isResponsive&&"horizontal"==this.model.orientation&&this._spantag.removeClass("e-disable"),this.model.enabled=!0,this._subControlsSetModel("enabled",!0)},refresh:function(){this._reSizeHandler()},selectItem:function(h){var t=a(h);null==t||t.length<=0||(t.addClass("e-active").attr("data-aria-selected",!0),this._activeItem=a(this.items).index(t))},deselectItem:function(h){var t=a(h);null==t||t.length<=0||t.removeClass("e-active").attr("data-aria-selected",!1)},selectItemByID:function(h){var t=this.itemsContainer.find("li#"+h);null==t||t.length<=0||this.selectItem(t)},deselectItemByID:function(h){var t=this.itemsContainer.find("li#"+h);null==t||t.length<=0||this.deselectItem(t)},removeItem:function(h){var t,o,l;if(this.model.disabledItemIndices=[],o=0,null!=(t=a(h))&&!(t.length<=0))for(t.remove(),this.items=this.itemsContainer.children("li"),l=0;l<this.items.length;l++)a(this.items[l]).hasClass("e-disable")&&(this.model.disabledItemIndices[o++]=l)},removeItemByID:function(h){var t=this.itemsContainer.find("li#"+h);null==t||t.length<=0||this.removeItem(t)},_wireResizing:function(){this.model.isResponsive&&"horizontal"==this.model.orientation?a(window).bind("resize",a.proxy(this._reSizeHandler,this)):this._unWireResizing()},_unWireResizing:function(){a(window).unbind("resize",a.proxy(this._reSizeHandler,this))},_wireEvents:function(){this._on(this.element,"mousedown",this._clickEventHandler),this._on(this.element,"focus",this._focusElement),this._on(this.element,"blur",this._targetBlur),this._on(this.items,"mouseenter",this._onItemHover),this._on(this.items,"mouseleave",this._onItemLeave),this._on(this.items,"mousedown",this._onItemClick),this._on(this.items,"mouseup",this._onItemClick)},_onItemHover:function(h){var t=a(h.currentTarget),o=h.target;t.hasClass("e-disable")?clearTimeout(this._tipToolbar.mouseTimer):(this.items.removeClass("e-hover"),t.addClass("e-hover").focus(),this._trigger("itemHover",{currentTarget:t,target:o,status:this.model.enabled}))},_onItemClick:function(h){var t,o,l;if(a(h.currentTarget).hasClass("e-disable")||1!=h.which)return!1;t=h.currentTarget,o=h.target,s.isDevice()||this._hideTooltip(),"mousedown"==h.type?(this._focusEnable=!1,a(t).addClass("e-active"),this._focusedItem=this._currentItem=a(t)):"mouseup"==h.type&&a(t).hasClass("e-active")&&(this._removeSelection(),a(t).hasClass("e-disable")||(l={currentTarget:t,text:a(t).attr("data-content"),target:o,status:this.model.enabled,event:h},this._activeItem=this.model.isResponsive&&this._contstatus&&a(t).closest(".e-responsive-toolbar").length>0?this._liTemplte.find(".e-tooltxt").index(t):a(this.items).index(t),this._trigger("click",l)))},_onItemLeave:function(h){var t=a(h.currentTarget),o=h.target;t.hasClass("e-disable")||(this._removeSelection(),t.removeClass("e-hover"),this._trigger("itemLeave",{currentTarget:t,target:o,status:this.model.enabled}))},_onKeyPress:function(h){var t,o,l,p,g;if(t=h.keyCode?h.keyCode:h.which?h.which:h.charCode,this.model.isResponsive&&this._liTemplte.find(".e-tooltxt").length>0?(this._keyPressed=!0,this._items=this._contstatus?this._liTemplte.find(".e-tooltxt"):this.element.find(".e-tooltxt"),o=this._items.filter(".e-tooltxt:visible:not(.e-hidden, .e-disable)")):(this._keyPressed=!1,o=this.items.filter(".e-tooltxt:visible:not(.e-hidden, .e-disable)")),this._focusedItem?(l=this._focusedItem,this._focusedItem=null):l=o.filter(".e-hover"),"keydown"==h.type)9==t&&h.shiftKey&&a(o[o.index(l)-1]).length>0?(h.preventDefault(),p=a(o[o.index(l)-1])):9==t&&a(o[o.index(l)+1]).length>0&&!h.shiftKey?(h.preventDefault(),p=a(o[o.index(l)+1])):(38==t||39==t)&&this.model.orientation!=s.Orientation.Vertical||(39==t||40==t)&&this.model.orientation==s.Orientation.Vertical?(h.preventDefault(),p=a(o[o.index(l)+1]).length>0?a(o[o.index(l)+1]):o.first()):(37==t||40==t)&&this.model.orientation!=s.Orientation.Vertical||(37==t||38==t)&&this.model.orientation==s.Orientation.Vertical?(h.preventDefault(),p=a(o[o.index(l)-1]).length>0?a(o[o.index(l)-1]):o.last()):33==t||36==t?(h.preventDefault(),p=o.first()):(34==t||35==t)&&(h.preventDefault(),p=o.last()),p&&(this._removeListHover(),p[0].focus(),p.addClass("e-hover"));else switch(t){case 13:case 32:if(h.preventDefault(),!l[0])break;g={currentTarget:l[0],target:a(l)[0],status:this.model.enabled,event:h},this._trigger("click",g);break;case 27:h.preventDefault(),this.element.blur()}},_removeListHover:function(){a(this.items).removeClass("e-hover")},_addListHover:function(){var h=this._getActiveItem();h.hasClass("e-disable")||h.addClass("e-hover").focus()},_getActiveItem:function(){return a(this.model.isResponsive&&this._keyPressed?this._items[this._activeItem]:this.items[this._activeItem])},_targetBlur:function(){this.element.focusout().removeClass("e-focus"),this._removeListHover(),this._off(this.element,"keyup",this._onKeyPress)._off(this.element,"keydown",this._onKeyPress),this._trigger("focusOut")},_clickEventHandler:function(){this._clicked=!0},_removeSelection:function(){this._currentItem&&"true"!=this._currentItem.attr("data-aria-selected")&&this._currentItem.removeClass("e-active")},_focusElement:function(){this.element.hasClass("e-focus")||(this.element.addClass("e-focus"),this._on(this.element,"keyup",this._onKeyPress)._on(this.element,"keydown",this._onKeyPress),this._focusEnable)?(this._removeListHover(),this._activeItem=this._clicked?-1:0,(this._getActiveItem().hasClass("e-disable")||this._getActiveItem().is(":hidden"))&&(this._activeItem=a(this.items).filter('li:not([class*="e-disable"])').first().index()),this._addListHover()):this._focusEnable=!0}}),s.Toolbar.ResponsiveType={Popup:"popup",Inline:"inline"}}(jQuery,Syncfusion);var v=this&&this.__extends||function(a,s){function h(){this.constructor=a}for(var t in s)s.hasOwnProperty(t)&&(a[t]=s[t]);a.prototype=null===s?Object.create(s):(h.prototype=s.prototype,new h)};(function(a){var s=function(h){function t(o,l){return h.call(this),this._rootCSS="e-tooltip",this._setFirst=!1,this.PluginName="ejTooltip",this.id="null",this.model=null,this.defaults={height:"auto",width:"auto",enabled:!0,content:null,containment:"body",target:null,title:null,closeMode:"none",autoCloseTimeout:4e3,position:{stem:{horizontal:"center",vertical:"bottom"},target:{horizontal:"center",vertical:"top"}},associate:"target",collision:"flipfit",showShadow:!1,cssClass:null,animation:{effect:"none",speed:0},isBalloon:!0,showRoundedCorner:!1,enableRTL:!1,allowKeyboardNavigation:!0,tip:{size:{width:20,height:10},adjust:{xValue:0,yValue:0}},trigger:"hover",create:null,click:null,destroy:null,hover:null,tracking:null,beforeOpen:null,beforeClose:null,open:null,close:null},this.dataTypes={enabled:"boolean",closeMode:"enum",autoCloseTimeout:"number",trigger:"enum",position:{stem:"data",target:"data"},associate:"enum",collision:"enum",showShadow:"boolean",animation:{effect:"enum",speed:"number"},isBalloon:"boolean",showRoundedCorner:"boolean",enableRTL:"boolean",allowKeyboardNavigation:"boolean",tip:{size:{width:"number",height:"number"},adjust:{xValue:"number",yValue:"number"}}},this.isTrack=!0,this._isCancel=!1,this._isHidden=!0,this.arrowValue={left:0,top:0,width:0,height:0,display:null},this.tooltipPos={width:0,height:0,left:0,top:0,bottom:0,right:0,position:"absolute"},this.targetPos={width:0,height:0,left:0,top:0,bottom:0,right:0,position:"absolute"},this.mouseTimer=null,this.positionTarget=null,this.positionTooltip=null,this.containerSize=null,this._createTitle=function(){this.tooltipTitle=ej.buildTag("div.e-def e-header"," ",{},{}),this.tooltipHeader=ej.buildTag("div"," ",{},{}),a(this.tooltipTitle).html(this.model.title).appendTo(this.tooltipHeader)},o&&(o.jquery||(o=a("#"+o)),o.length)?a(o).ejTooltip(l).data(this.PluginName):void 0}return v(t,h),t.prototype.setModel=function(o,l){this.setModel(o,l)},t.prototype.option=function(o,l){this.option(o,l)},t.prototype.triggerEvents=function(o,l){var p;switch(o){case"click":case"hover":case"tracking":case"beforeOpen":case"open":case"beforeClose":case"close":p=this._trigger(o,l)}return p},t.prototype.enable=function(){this.tooltip.hasClass("e-disable")&&(this.model.enabled=!0,this.tooltip.removeClass("e-disable"))},t.prototype.disable=function(){this.tooltip.hasClass("e-disable")||(this.model.enabled=!1,this.tooltip.addClass("e-disable"))},t.prototype.show=function(o,l){if(this.model.enabled){if(ej.isNullOrUndefined(o)){var p=null==this.model.target?this.element:a(this.element).find(this.model.target+":first");this._positionElement(p)}else this._positionElement(o);ej.isNullOrUndefined(l)?this._showTooltip():"string"==typeof l?a(this.tooltip).show(l):"function"==typeof l&&l.call.apply(this.tooltip)}},t.prototype.hide=function(o){this.model.enabled&&(ej.isNullOrUndefined(o)?this._hideTooltip():"string"==typeof o?a(this.tooltip).hide(o):"function"==typeof o&&o.call.apply(this.tooltip))},t.prototype._destroy=function(){this.mouseTimer&&clearTimeout(this.mouseTimer),this.timer&&clearTimeout(this.timer),a(this.tooltip).remove(),this.tooltip=null},t.prototype._setModel=function(o){var l;for(l in o)switch(l){case"height":this._setHeight(o[l]);break;case"width":this._setWidth(o[l]);break;case"enabled":this._enabled(o[l]);break;case"content":this._setContent(o[l]);break;case"title":this.model.title=o[l],null==this.model.title?(a(this.tooltipHeader).remove(),this.tooltipHeader=null,this.tooltipTitle=null,this.model.closeMode===ej.Tooltip.CloseMode.Sticky&&this._iconRender()):ej.isNullOrUndefined(this.tooltipHeader)?this._createHeader():a(this.tooltipTitle).html(this.model.title),this.tooltipPos.height=a(this.tooltip).outerHeight();break;case"associate":this.model.associate=o[l],this._wireMouseEvents(!1),this._wireMouseEvents(!0);break;case"position":this._setPosition(o[l]);break;case"collision":this.model.collision=o[l];break;case"closeMode":typeof o[l]<"u"&&(this.model.closeMode=o[l],this.model.closeMode==ej.Tooltip.CloseMode.Sticky?this._iconRender():(a(this.tooltipClose).remove(),this.tooltipClose=null),this.tooltipPos.height=a(this.tooltip).outerHeight());break;case"cssClass":this._setSkin(o[l]);break;case"showShadow":this._shadowEffect(o[l],this.model.position);break;case"isBalloon":ej.isNullOrUndefined(o[l])||(this.model.isBalloon=o[l],this.model.isBalloon?this._renderArrow():(a(this.tip).remove(),this.tip=null));break;case"animation":this.model.animation=a.extend(!0,this.model.animation,o[l]),this.model.animation.effect!=ej.Tooltip.Effect.None?(this._off(a(this.tooltip),"mouseenter",this._onTooltipMouseEnter),this._off(a(this.tooltip),"mouseleave",this._onTooltipMouseLeave)):this.model.animation.effect==ej.Tooltip.Effect.None&&(this._on(a(this.tooltip),"mouseenter",this._onTooltipMouseEnter),this._on(a(this.tooltip),"mouseleave",this._onTooltipMouseLeave));break;case"enableRTL":this._setRTL(o[l]);break;case"target":this._wireTriggerEvents(!1),this.model.target=o[l],this._wireTriggerEvents(!0),this._renderTarget();break;case"trigger":this._setTrigger(o[l]);break;case"showRoundedCorner":this.model.showRoundedCorner=o[l],this._roundedCorner(o[l]);break;case"allowKeyboardNavigation":this.model.allowKeyboardNavigation=o[l],this.model.allowKeyboardNavigation?this._on(a(window),"keydown",this._keyDown):this._off(a(window),"keydown",this._keyDown)}},t.prototype._enabled=function(o){o?this.enable(o):this.disable(o),this.model.enabled=o},t.prototype._shadowEffect=function(o,l){this.model.showShadow=o;var p=null;if(a(this.tooltip).removeClass("e-tooltipShadowLeft e-tooltipShadowRight"),this.model.showShadow){if(this.model.isBalloon)switch(l.stem.horizontal){case"center":p="top"==l.stem.vertical?"e-tooltipShadowLeft":"bottom"==l.stem.vertical?"e-tooltipShadowRight":"e-tooltipShadowLeft";break;case"right":p="center"==l.target.horizontal&&"top"==l.stem.vertical?"e-tooltipShadowLeft":"e-tooltipShadowRight";break;case"left":p="center"==l.target.horizontal&&"bottom"==l.stem.vertical?"e-tooltipShadowRight":"e-tooltipShadowLeft"}else p="e-tooltipShadowLeft";a(this.tooltip).addClass(p)}},t.prototype._setContent=function(o){this.model.content=o,a(this.tooltipContent).html(this.model.content),this.tooltipPos.height=a(this.tooltip).outerHeight(),this.tooltipPos.width=a(this.tooltip).outerWidth()},t.prototype._setPosition=function(o){this.model.position.stem=a.extend(!0,this.model.position.stem,o.stem),this.model.position.target=a.extend(!0,this.model.position.target,o.target)},t.prototype._setTrigger=function(o){this._wireTriggerEvents(!1),this.model.trigger=o,this._wireTriggerEvents(!0)},t.prototype._init=function(){this.id=this.element[0].id,this.positionTarget=a.extend(!0,{},this.model.position.target),this.positionTooltip=a.extend(!0,{},this.model.position.stem),this.tipSize=a.extend(!0,{},this.model.tip.size),this._initialize(),this._render(),this.enable(this.model.enabled),this._wireEvents(!0)},t.prototype._initialize=function(){ej.isNullOrUndefined(this.model.target)?ej.isNullOrUndefined(this.model.content)&&!ej.isNullOrUndefined(this.element.attr("title"))&&(this.model.content=this.element.attr("title"),this.element.attr("data-content",this.model.content),this.element.removeAttr("title")):this._renderTarget()},t.prototype._wireEvents=function(o){var l=o?"_on":"_off";this._wireTriggerEvents(o),this.model.allowKeyboardNavigation&&this[l](a(window),"keydown",this._keyDown),null!=this.model.target?this[l](this.element,"scroll",this.model.target,this._hideTooltip):this[l](this.element,"scroll",this._hideTooltip),this[l](a(this.tooltip),"mouseenter",this._onTooltipMouseEnter),this[l](a(this.tooltip),"mouseleave",this._onTooltipMouseLeave),this[l](a(window),"resize",this._hideTooltip),this[l](a(window),"touchend",this._docTouchEndHandler)},t.prototype._wireTriggerEvents=function(o){var p,l=o?"_on":"_off";this.model.trigger==ej.Tooltip.Trigger.Focus?null!=this.model.target?this[l](this.element,"blur",this.model.target,this._hideTooltip):this[l](this.element,"blur",this._hideTooltip):null!=this.model.target?this[l](this.element,ej.isDevice()?"touchstart":"mouseleave",this.model.target,this._onMouseOut):this[l](this.element,ej.isDevice()?"touchstart":"mouseleave",this._onMouseOut),this._wireMouseEvents(o),p=this.model.trigger==ej.Tooltip.Trigger.Click?ej.isDevice()?"touchstart":"click":this.model.trigger==ej.Tooltip.Trigger.Focus?ej.isDevice()?"touchstart":"focus":ej.isDevice()?"touchstart":"mouseenter",null!=this.model.target?this[l](this.element,p,this.model.target,this._targetHover):this[l](this.element,p,this._targetHover)},t.prototype._wireMouseEvents=function(o){var l=o?"_on":"_off";(this.model.associate==ej.Tooltip.Associate.MouseEnter||this.model.associate==ej.Tooltip.Associate.MouseFollow)&&(null!=this.model.target?this[l](this.element,ej.isDevice()?"touchstart":"mousemove",this.model.target,this._tooltipMove):this[l](this.element,ej.isDevice()?"touchstart":"mousemove",this._tooltipMove))},t.prototype._render=function(){this.tooltip=ej.buildTag("div.e-tooltip-wrap e-widget","",{},{role:"tooltip","aria-readonly":"true","aria-hidden":"true","aria-describedby":this.id+"_content",id:this.id+"_Main"}),this.tooltipInter=ej.buildTag("div.e-tipContainer","",{},{}),this.tooltip.append(this.tooltipInter),this.model.isBalloon&&this._renderArrow(),a(this.model.containment).append(this.tooltip),this._setHeight(this.model.height),this._setWidth(this.model.width),this._createHeader(),this._tooltipContent(),this.model.cssClass&&this.tooltip.addClass(this.model.cssClass),this.model.showRoundedCorner&&this._roundedCorner(this.model.showRoundedCorner),this.model.enableRTL&&this._setRTL(this.model.enableRTL),a(this.tooltip).css({top:"auto",left:"auto"}),this.tooltipPos={width:a(this.tooltip).outerWidth(),height:a(this.tooltip).outerHeight(),left:a(this.tooltip).offset().left,top:a(this.tooltip).offset().top,position:"absolute"},ej.isNullOrUndefined(this.model.target)&&(this._containerCalc(this.element),this._positionElement(this.element))},t.prototype._containerCalc=function(o){ej.isNullOrUndefined(o)&&(o=this.element);var l=a(o).offset();this.containerSize={height:"body"==this.model.containment?a(window).innerHeight()||document.documentElement.clientHeight||document.body.clientHeight:a(this.model.containment).innerHeight(),width:"body"==this.model.containment?a(window).innerWidth()||document.documentElement.clientWidth||document.body.clientWidth:a(this.model.containment).innerWidth()},this.containerSize.left="body"!=this.model.containment&&"static"==a(this.model.containment).css("position")?a(this.model.containment).offset().left-a(this.model.containment).offsetParent().offset().left:0,this.containerSize.top="body"!=this.model.containment&&"static"==a(this.model.containment).css("position")?a(this.model.containment).offset().top-a(this.model.containment).offsetParent().offset().top:0,l.left-="body"!=this.model.containment?"static"==a(this.model.containment).css("position")?a(this.model.containment).offsetParent().offset().left:a(this.model.containment).offset().left:0,l.top-="body"!=this.model.containment?"static"==a(this.model.containment).css("position")?a(this.model.containment).offsetParent().offset().top:a(this.model.containment).offset().top:0,this.targetPos.left=l.left,this.targetPos.top=l.top},t.prototype._setHeight=function(o){this.model.height=o,!isNaN(+o)&&isFinite(o)?a(this.tooltip).css("height",o+"px"):a(this.tooltip).css("height",o),this.tooltipPos.height=a(this.tooltip).outerHeight()},t.prototype._setWidth=function(o){this.model.width=o,"auto"!=this.model.width&&(o=!isNaN(+o)&&isFinite(o)?o+"px":o,a(this.tooltip).css("max-width",o),a(this.tooltip).css("min-width","0px")),a(this.tooltip).css("width",o),this.tooltipPos.height=a(this.tooltip).outerHeight()},t.prototype._setRTL=function(o){this.model.enableRTL=o,o?this.tooltip.addClass("e-rtl"):this.tooltip.removeClass("e-rtl")},t.prototype._setSkin=function(o){this.model.cssClass!=o&&(this.tooltip.removeClass(this.model.cssClass).addClass(o),this.model.cssClass=o)},t.prototype._roundedCorner=function(){this.model.showRoundedCorner?this.tooltip.addClass("e-corner"):this.tooltip.removeClass("e-corner")},t.prototype._renderArrow=function(){ej.isNullOrUndefined(this.tip)&&(this.tip=ej.buildTag("div.e-arrowTip"," ",{id:this.id+"_eTip"},{}),a(this.tip).append("<div class='e-arrowTipOuter'></div>").append("<div class='e-arrowTipInner'></div>"),a(this.tip).insertBefore(this.tooltipInter))},t.prototype._adjustArrow=function(o){var l,p,g=a(this.tooltip).width(),b=a(this.tooltip).height(),C=o.stem,T=o.target,D={tipHeight:0,tipWidth:0};"right"==T.horizontal||"left"==T.horizontal?(l="left"==C.horizontal?-this.model.tip.size.height:"right"==C.horizontal?g:g/2-this.tipSize.width/2,p="center"!=C.horizontal?"top"==C.vertical?5:"center"==C.vertical?b/2-this.tipSize.width/2:b-5-this.tipSize.width:"top"==C.vertical?-this.tipSize.height:"bottom"==C.vertical?b:this.tooltipPos.height/2-this.tipSize.width/2,D=this._arrowBinding(o,"horizontal")):(p="top"==C.vertical?-this.tipSize.height:"bottom"==C.vertical?b:b/2-this.tipSize.width/2,l="center"==C.vertical?"left"==C.horizontal?-this.model.tip.size.height:g:"left"==C.horizontal?10:"center"==C.horizontal?this.tooltipPos.width/2-this.tipSize.width/2:g-10-this.tipSize.width,D=this._arrowBinding(o,"vertical")),this.arrowValue.left=l,this.arrowValue.top=p,a(this.tip).css({height:D.tipHeight+"px",width:D.tipWidth+"px",left:l+"px",top:p+"px",display:"center"==C.horizontal&&"center"==C.vertical?"none":"block"})},t.prototype._arrowBinding=function(o,l){var b,C,p=o.stem,g="horizontal"==l?"center"!=p.horizontal:"center"==p.vertical,T=a(this.tooltip).css("border-top-color"),D=a(this.tooltip).css("background-color"),L=this.model.tip.size.height,I=this.model.tip.size.height-1,R={"border-top":"none","border-bottom":"none","border-right":"none","border-left":"none"};return g?(b=this.model.tip.size.height,C=this.model.tip.size.width,a(this.tip).find(".e-arrowTipOuter").css(this._arrow(o,L,T,R,"horizontal")),a(this.tip).find(".e-arrowTipInner").css(this._arrow(o,I,D,R,"horizontal"))):(b=this.model.tip.size.width,C=this.model.tip.size.height,a(this.tip).find(".e-arrowTipOuter").css(this._arrow(o,L,T,R,"vertical")),a(this.tip).find(".e-arrowTipInner").css(this._arrow(o,I,D,R,"vertical"))),{tipHeight:C,tipWidth:b}},t.prototype._arrow=function(o,l,p,g,b){var C=o.stem,T="horizontal"==b&&"right"==C.horizontal?"0px":"1px",D="horizontal"==b?"1px":"bottom"==C.vertical?"0px":"1px";return g["border-top"]="horizontal"==b?l+"px solid transparent":"bottom"==C.vertical?l+"px solid "+p:"none",g["border-bottom"]="horizontal"==b?l+"px solid transparent":"top"==C.vertical?l+"px solid "+p:"none",g["border-right"]="horizontal"==b?"left"==C.horizontal?l+"px solid "+p:"none":l+"px solid transparent",g["border-left"]="horizontal"==b?"right"==C.horizontal?l+"px solid "+p:"none":l+"px solid transparent",l==this.model.tip.size.height-1&&(g.left=T,g.top=D),g},t.prototype._iconRender=function(){this.model.closeMode==ej.Tooltip.CloseMode.Sticky&&(ej.isNullOrUndefined(this.tooltipClose)||a(this.tooltipClose).remove(),this.tooltipClose=ej.buildTag("div .e-icon"," ",{},{id:"_closeIcon"}),null!=this.model.title?a(this.tooltipClose).insertAfter(this.tooltipTitle).addClass("e-close"):a(this.tooltipClose).insertBefore(this.tooltipInter).addClass("e-cross-circle"),this._on(a(this.tooltipClose),"click",this._hideTooltip))},t.prototype._renderTarget=function(){this.targetElement=a(this.element).find(this.model.target);for(var o=0;o<this.targetElement.length;o++)ej.isNullOrUndefined(a(this.targetElement[o]).attr("title"))||(this.targetElement[o].setAttribute("data-content",this.targetElement[o].title),this.targetElement[o].removeAttribute("title"))},t.prototype._tooltipContent=function(){this.tooltipContent=ej.buildTag("div.e-tipcontent e-def","",{},{id:this.id+"_content"}),a(this.tooltipContent).html(this.model.content).addClass("e-def"),null!=this.model.title?a(this.tooltipContent).insertAfter(this.tooltipHeader):a(this.tooltipContent).appendTo(this.tooltipInter)},t.prototype._positionElement=function(o){this.tooltipPos.width=a(this.tooltip).outerWidth(),this.tooltipPos.height=a(this.tooltip).outerHeight(),this.targetPos.width=a(o).outerWidth(),this.targetPos.height=a(o).outerHeight(),this._containerCalc(o),this.model.associate==ej.Tooltip.Associate.Window?this._browserPosition():this.model.associate==ej.Tooltip.Associate.Axis?this._axisPosition():this.model.associate==ej.Tooltip.Associate.Target&&this._tooltipPosition(this.model.position),this.model.collision!=ej.Tooltip.Collision.None&&this.model.associate==ej.Tooltip.Associate.Target&&this._calcCollision(this.model.position,o)},t.prototype._browserPosition=function(){if("body"==this.model.containment){this.containerSize={height:a(window).innerHeight()||document.documentElement.clientHeight||document.body.clientHeight,width:a(window).innerWidth()||document.documentElement.clientWidth||document.body.clientWidth};var o=a.extend(!0,{},this.model.position),l={position:"absolute",left:"auto",top:"auto",bottom:"auto",right:"auto"};ej.isNullOrUndefined(this.tip)||a(this.tip).css({display:"none"}),"right"==this.model.position.target.horizontal?l.right=0:l.left="left"==this.model.position.target.horizontal?0:this.containerSize.width/2-this.tooltipPos.width/2,"top"==this.model.position.target.vertical?l.top=0:"center"==this.model.position.target.vertical?l.top=this.containerSize.height/2-this.tooltipPos.height/2:l.bottom=0,this.model.showShadow&&this._shadowEffect(this.model.showShadow,o),a(this.tooltip).css(l)}},t.prototype._tooltipMove=function(o){if(this.model.closeMode==ej.Tooltip.CloseMode.None&&this.model.enabled){var l=this;if(this._isCancel)return;this.model.associate==ej.Tooltip.Associate.MouseFollow?this._mousePosition(o):this.model.associate==ej.Tooltip.Associate.MouseEnter&&(clearTimeout(this.mouseTimer),this.mouseTimer=setTimeout(function(){l.isTrack&&l._mousePosition(o)},300))}},t.prototype._mousePosition=function(o){var l,p,b;"touchstart"==o.type?(o.preventDefault(),l=o.touches[0].pageX,p=o.touches[0].pageY):"mousemove"==o.type&&(l=o.pageX,p=o.pageY),this.isCollision=!0,this._containerCalc(o.currentTarget);var C=0,T=0,D=0,L=a.extend(!0,{},this.model.position.stem),I=a.extend(!0,{},this.model.position),R={left:0,top:0},V={left:l,top:p},F={left:l,top:p},A=this.containerSize.left,z=this.containerSize.top,N="body"!=this.model.containment?l-a(this.model.containment).offset().left:l,U="body"!=this.model.containment?p-a(this.model.containment).offset().top:p;for(I.target.horizontal=I.target.vertical="center","body"!=this.model.containment&&(R="static"==a(this.model.containment).css("position")?a(this.model.containment).offsetParent().offset():a(this.model.containment).offset()),F.left-=R.left,F.top-=R.top;this.isCollision;)if(V=a.extend(!0,{},F),b=!this.model.isBalloon||"right"!=L.horizontal&&"left"!=L.horizontal?0:10+this.tipSize.width/2,C=0!=this.model.tip.adjust.xValue?this.model.tip.adjust.xValue:7,T=0!=this.model.tip.adjust.yValue?this.model.tip.adjust.yValue:10,D=this.model.isBalloon?"center"!=L.horizontal||"center"!=L.vertical?this.model.tip.size.height:0:2,V.left+="right"==L.horizontal?-this.tooltipPos.width:"left"==L.horizontal?0:-this.tooltipPos.width/2,V.top+="bottom"==L.vertical?-this.tooltipPos.height:"top"==L.vertical?0:-this.tooltipPos.height/2,V.left+="center"!=L.vertical?"right"==L.horizontal?b:"left"==L.horizontal?-b:0:0,V.left+="center"==L.vertical?"right"==L.horizontal?-D:"left"==L.horizontal?+(D+C):0:0,V.top+="top"==L.vertical?+(D+T):"bottom"==L.vertical?-D:0,this.targetElement!=o.currentTarget&&(this.targetElement=o.currentTarget,(V.left<A||V.left+this.tooltipPos.width>A+this.containerSize.width)&&(this.positionTooltip.horizontal=N>=this.tooltipPos.width?"right":this.containerSize.width-N>=this.tooltipPos.width?"left":"center"),(V.top<z||V.top+this.tooltipPos.height>this.containerSize.height+z)&&(this.positionTooltip.vertical=U>=this.tooltipPos.height?"bottom":this.containerSize.height-U>=this.tooltipPos.height?"top":"center")),this.positionTooltip.horizontal!=L.horizontal||this.positionTooltip.vertical!=L.vertical)this.isCollision=!0,L=a.extend(!0,{},this.positionTooltip);else if(this.isCollision=!1,a(this.tooltip).css({top:V.top+"px",left:V.left+"px",position:"absolute",right:"auto",bottom:"auto"}),I.stem=a.extend(!0,{},this.positionTooltip),this.model.showShadow&&this._shadowEffect(this.model.showShadow,I),this.model.isBalloon&&this._adjustArrow(I),this._showTooltip(),this.model.associate==ej.Tooltip.Associate.MouseEnter&&(this.isTrack=!1),this.model.associate==ej.Tooltip.Associate.MouseFollow&&this.triggerEvents("tracking",{position:this.model.position,event:o}))return},t.prototype._axisPosition=function(){var l,p,g,b,o=a.extend(!0,{},this.model.position);"number"==typeof this.model.position.target.horizontal&&(l=this.model.position.target.horizontal.toString()),"number"==typeof this.model.position.target.vertical&&(p=this.model.position.target.vertical.toString()),g=parseInt(l),b=parseInt(p),ej.isNullOrUndefined(this.tip)||a(this.tip).css({display:"none"}),this.model.showShadow&&this._shadowEffect(this.model.showShadow,o),this.model.isBalloon&&this._adjustArrow(o),isFinite(g)&&isFinite(b)&&a(this.tooltip).css({top:b,left:g,position:"absolute"})},t.prototype._tooltipPosition=function(o){var T,l=a.extend(!0,{},o.stem),p=a.extend(!0,{},o.target),g=a.extend(!0,{},this.targetPos),b="top"===l.vertical||"bottom"===l.vertical?5+this.tipSize.width/2:0,C="right"===l.horizontal||"left"===l.horizontal?10+this.tipSize.width/2:0,D=(T=!this.model.isBalloon||"center"===l.horizontal&&"center"===l.vertical?0:this.model.tip.size.height,0!=this.model.tip.adjust.xValue?this.model.tip.adjust.xValue:this.model.isBalloon?0:2),L=0!=this.model.tip.adjust.yValue?this.model.tip.adjust.yValue:this.model.isBalloon?0:2;g.left+="right"===p.horizontal?this.targetPos.width:"left"===p.horizontal?0:this.targetPos.width/2,g.top+="bottom"===p.vertical?this.targetPos.height:"top"===p.vertical?0:this.targetPos.height/2,g.left+="right"===l.horizontal?-this.tooltipPos.width:"left"===l.horizontal?0:-this.tooltipPos.width/2,g.top+="bottom"===l.vertical?-this.tooltipPos.height:"top"===l.vertical?0:-this.tooltipPos.height/2,g.left+="center"!==p.horizontal||"center"===l.vertical?"right"===l.horizontal?-T:"left"===l.horizontal?T:0:0,g.top+="center"===p.horizontal||"center"===l.horizontal?"bottom"===l.vertical?-T:"top"===l.vertical?T:0:0,g.left+="center"===p.horizontal&&"center"!==l.vertical?"right"===l.horizontal?C:"left"===l.horizontal?-C:0:0,g.top+="center"!==p.horizontal&&"center"!==l.horizontal?"top"===l.vertical?-b:"bottom"===l.vertical?b:0:0,g.left+="center"!==p.horizontal||"center"===l.vertical?"right"===l.horizontal?-D:"left"===l.horizontal?D:0:0,g.top+="center"===p.horizontal||"center"===l.horizontal?"bottom"===l.vertical?-L:"top"===l.vertical?L:0:0,this.tooltipPos.left=g.left,this.tooltipPos.top=g.top,this.model.collision===ej.Tooltip.Collision.None&&(this.model.isBalloon&&this._adjustArrow(o),this._shadowEffect(this.model.showShadow,o),a(this.tooltip).css({top:g.top+"px",left:g.left+"px",position:"absolute"}))},t.prototype._calcCollision=function(p,l){p=a.extend(!0,{},p);var g=a.extend(!0,{},p),b=this.model.tip.size.height,C=!0,T="body"!=this.model.containment?a(l).offset().left-a(this.model.containment).offset().left:a(l).offset().left,D="body"!=this.model.containment?a(l).offset().top-a(this.model.containment).offset().top:a(l).offset().top,L={topSpace:D,rightSpace:this.containerSize.width-(T+this.targetPos.width),bottomSpace:this.containerSize.height-(D+this.targetPos.height),leftSpace:T,centerRight:this.containerSize.width-(T+this.targetPos.width/2),centerLeft:T+this.targetPos.width/2,centerTop:D+this.targetPos.height/2,centerBottom:this.containerSize.height-(D+this.targetPos.height/2),tooltipWidth:this.tooltipPos.width+b,tooltipHeight:this.tooltipPos.height+b};if(this.model.collision===ej.Tooltip.Collision.Fit)this._collisionFit(p,L);else{for(;C;)(g=this._collisionFlip(g,L)).target.horizontal!=p.target.horizontal||g.target.vertical!=p.target.vertical||g.stem.horizontal!=p.stem.horizontal||g.stem.vertical!=p.stem.vertical?(this._tooltipPosition(g),p=a.extend(!0,{},g)):C=!1;C||(this.model.collision==ej.Tooltip.Collision.FlipFit?this._collisionFit(g,L):(this._adjustArrow(g),this._shadowEffect(this.model.showShadow,g),a(this.tooltip).css({top:this.tooltipPos.top+"px",left:this.tooltipPos.left+"px",position:"absolute"})))}},t.prototype._collisionFlip=function(o,l){var p=a.extend(!0,{},this.tooltipPos),g=a.extend(!0,{},o),b=a(this.model.containment).scrollLeft(),C=a(this.model.containment).scrollTop(),T=this.containerSize.left,D=this.containerSize.top;return(p.left+p.width>T+this.containerSize.width+b||p.left<T)&&("center"!=o.target.horizontal?g.target.horizontal=l.leftSpace>=l.tooltipWidth?"left":l.rightSpace>=l.tooltipWidth?"right":"center":g.stem.horizontal=l.centerLeft>=l.tooltipWidth?"right":l.centerRight>=l.tooltipWidth?"left":"center"),p.top<D&&(g.target.vertical=l.bottomSpace>=l.tooltipHeight?"bottom":"center"),p.top+p.height>this.containerSize.height+C+D&&(g.target.vertical=l.topSpace>=l.tooltipHeight?"top":"center"),(g.target.horizontal!=o.target.horizontal||g.target.vertical!=o.target.vertical)&&(g.stem.horizontal="center"==g.target.horizontal?l.centerLeft>=l.tooltipWidth?"right":l.centerRight>=l.tooltipWidth?"left":"center":"right"==g.target.horizontal?"left":"right"),(g.target.vertical!=o.target.vertical||g.target.horizontal!=o.target.horizontal)&&(g.stem.vertical="center"==g.target.vertical?l.centerTop>=l.tooltipHeight?"bottom":l.centerBottom>=l.tooltipHeight?"top":l.centerTop>l.centerBottom?"bottom":"top":"top"==g.target.vertical?"bottom":"top"),g},t.prototype._collisionFit=function(o,l){var I,R,V,F,A,D,p=a.extend(!0,{},this.tooltipPos),g=!1,b=!1,C=1,T=1,L=a(this.model.containment).scrollLeft();I="body"==this.model.containment?document.documentElement.scrollTop||document.body.scrollTop:a(this.model.containment).scrollTop(),(p.left<(R=this.containerSize.left)||p.left+p.width>this.containerSize.width+L+R)&&(C=p.left<R?R:p.left+p.width>this.containerSize.width+L+R?p.left-(p.left+p.width-(this.containerSize.width+R)):1,g=!0),(p.top<(V=this.containerSize.top)||p.top+p.height>this.containerSize.height+I+V)&&(T=p.top<V?V:p.top+p.height>this.containerSize.height+I+V?p.top-(p.top+p.height-(this.containerSize.height+V)):1,b=!0),a(this.tooltip).css({top:1!=T?T+"px":p.top+"px",left:1!=C?C+"px":p.left+"px",position:"absolute"}),this._adjustArrow(o),D={left:this.arrowValue.left,top:this.arrowValue.top,height:this.model.tip.size.height,width:this.model.tip.size.width,display:a(this.tip).css("display")},this.tooltipPos.top=T=1!=T?T:p.top,this.tooltipPos.left=C=1!=C?C:p.left,F=a(this.tooltip).width(),A=a(this.tooltip).height(),(g||b&&"none"!=D.display)&&(this.model.isBalloon&&(g&&(this.arrowValue.left=this._horizontalAdjustment(o,l)),b&&(this.arrowValue.top=this._verticalAdjustment(o,l))),this.arrowValue.left==-this.model.tip.size.height||this.arrowValue.left==F||this.arrowValue.top==-this.model.tip.size.height||this.arrowValue.top==A?a(this.tip).css({left:this.arrowValue.left+"px",top:this.arrowValue.top+"px",display:"block"}):a(this.tip).css({left:this.arrowValue.left+"px",top:this.arrowValue.top+"px",display:"none"})),this._shadowEffect(this.model.showShadow,o)},t.prototype._horizontalAdjustment=function(o,l){var g,b,p={left:this.arrowValue.left,top:this.arrowValue.top};return a(this.tooltip).css({display:"block"}),g=this.model.tip.size.height,b="center"!=o.target.horizontal&&"left"==o.stem.horizontal?a(this.tip).offset().left:"center"!=o.target.horizontal&&"right"==o.stem.horizontal?a(this.tip).offset().left+g:a(this.tip).offset().left,a(this.tooltip).css({display:"none"}),b>l.leftSpace&&b+g<l.leftSpace+this.targetPos.width||(b>l.leftSpace+this.targetPos.width||b<l.leftSpace)&&(p.left=l.leftSpace+this.targetPos.width/2-parseInt(this.tooltipPos.left.toString())),p.left},t.prototype._verticalAdjustment=function(o,l){var g,b,p={left:this.arrowValue.left,top:this.arrowValue.top,height:this.model.tip.size.height,width:this.model.tip.size.width,display:this.arrowValue.display};return a(this.tooltip).css({display:"block"}),g=this.model.tip.size.height,b="center"==o.target.horizontal&&"top"==o.stem.vertical?a(this.tip).offset().top:a(this.tip).offset().top+g,a(this.tooltip).css({display:"none"}),b>l.topSpace&&b<l.topSpace+this.targetPos.height||(b<l.topSpace||b+g>l.topSpace+this.targetPos.height)&&(p.top=l.topSpace+this.targetPos.height/2-parseInt(this.tooltipPos.top.toString())),p.top},t.prototype._createHeader=function(){null!=this.model.title&&(ej.isNullOrUndefined(this.tooltipTitle)&&this._createTitle(),ej.isNullOrUndefined(this.tooltipContent)?a(this.tooltipHeader).appendTo(this.tooltipInter).addClass("e-tooltipHeader"):a(this.tooltipHeader).insertBefore(this.tooltipContent).addClass("e-tooltipHeader")),this.model.closeMode==ej.Tooltip.CloseMode.Sticky&&this._iconRender()},t.prototype._hideTooltip=function(){var o;this._isHidden=!0,o=0!=this.model.animation.speed?this.model.animation.speed:this.model.animation.effect==ej.Tooltip.Effect.Slide?200:this.model.animation.effect==ej.Tooltip.Effect.Fade?800:0,1==this.model.enabled&&"block"==a(this.tooltip).css("display")&&(this.triggerEvents("beforeClose",{})||(this.model.animation.effect==ej.Tooltip.Effect.Fade?a(this.tooltip).fadeOut(o):this.model.animation.effect==ej.Tooltip.Effect.Slide?a(this.tooltip).slideUp(o):a(this.tooltip).css({display:"none"}),"none"==a(this.tooltip).css("display")&&a(this.tooltip).attr("aria-hidden","true").removeClass("e-customAnimation"),this.triggerEvents("close",{})))},t.prototype._showTooltip=function(){var o,l,p,g,b,C;this._isHidden&&(o=0!=this.model.animation.speed?this.model.animation.speed:this.model.animation.effect==ej.Tooltip.Effect.Slide?200:this.model.animation.effect==ej.Tooltip.Effect.Fade?800:0,this._isHidden=!1,"none"==a(this.tooltip).css("display")&&1==this.model.enabled&&(this.model.animation.effect==ej.Tooltip.Effect.Fade?a(this.tooltip).fadeIn(o):this.model.animation.effect==ej.Tooltip.Effect.Slide?a(this.tooltip).slideDown(o):a(this.tooltip).css({display:"block"}),"block"==a(this.tooltip).css("display")&&(l=a(this.tooltip[0]).parents(),p=a("body").children(),a(p).each(function(T,D){l.push(D)}),g=a(this.model.target).parents(),a(g).each(function(T,D){l.push(D)}),!(b=Math.max.apply(b,a.map(l,function(T){if("static"!=a(T).css("position"))return parseInt(a(T).css("z-index"))||1})))||b<1e4?b=1e4:b+=1,a(this.tooltip).attr("aria-hidden","false").css({zIndex:b}),this.model.animation.effect==ej.Tooltip.Effect.None&&a(this.tooltip).addClass("e-customAnimation"),C=this._getScrollableParents(),this._on(C,"scroll",this._hideTooltip)),this.triggerEvents("open",{})))},t.prototype._getScrollableParents=function(){return a(this.element).parentsUntil("html").filter(function(){return"visible"!=a(this).css("overflow")}).add(a(window))},t.prototype._tooltipAuto=function(){var o=this;this.timer=setTimeout(function(){o._hideTooltip()},o.model.autoCloseTimeout)},t.prototype._beforeOpenTooltip=function(o){this.positionTooltip=a.extend(!0,{},this.model.position.stem),this.positionTarget=a.extend(!0,{},this.model.position.target),this.targetElement=this.element,ej.isNullOrUndefined(this.model.target)||ej.isNullOrUndefined(a(o.currentTarget).attr("data-content"))||(this.model.content=a(o.currentTarget).attr("data-content"),this._setContent(this.model.content))},t.prototype._targetHover=function(o){if(this.isTrack=!0,this.model.enabled)if(this._isHidden||("msie"==ej.browserInfo().name||"edge"==ej.browserInfo().name)&&this.model.associate==ej.Tooltip.Associate.MouseFollow){if(this.tooltip.stop(!0,!0),this.triggerEvents("beforeOpen",{event:o}))return void(this._isCancel=!0);this._isCancel=!1,this._beforeOpenTooltip(o),this.model.associate!=ej.Tooltip.Associate.MouseEnter&&this.model.associate!=ej.Tooltip.Associate.MouseFollow?(ej.isNullOrUndefined(this.model.target)?this._positionElement(this.element):this._positionElement(o.currentTarget),clearTimeout(this.timer),this._showTooltip(),this.model.closeMode==ej.Tooltip.CloseMode.Auto&&this._tooltipAuto(),this.triggerEvents("click"==o.type?"click":"hover",{event:o})):this.isTrack=!0}else ej.isNullOrUndefined(this.model.target)||this._positionElement(o.currentTarget)},t.prototype._onMouseOut=function(){this.model.enabled&&!this._isHidden&&(this.model.closeMode==ej.Tooltip.CloseMode.None&&this._hideTooltip(),clearTimeout(this.mouseTimer)),this.isTrack=!1},t.prototype._onTooltipMouseEnter=function(){this.model.enabled&&this.model.animation.effect==ej.Tooltip.Effect.None&&a(this.tooltip).css({display:"block"})},t.prototype._onTooltipMouseLeave=function(){this.model.enabled&&this.model.animation.effect==ej.Tooltip.Effect.None&&this.model.closeMode==ej.Tooltip.CloseMode.None&&a(this.tooltip).css({display:"none"})},t.prototype._docTouchEndHandler=function(o){a(o.target).closest(".e-tooltip").length||this.model.closeMode!=ej.Tooltip.CloseMode.None||this._hideTooltip()},t.prototype._keyDown=function(o){this.model.enabled&&27===(o.keyCode?o.keyCode:o.which?o.which:o.charCode)&&(o.preventDefault(),this._hideTooltip())},t}(ej.WidgetBase);window.ej.widget("ejTooltip","ej.Tooltip",new s),window.ejTooltip=null})(jQuery),ej.Tooltip.CloseMode={Auto:"auto",None:"none",Sticky:"sticky"},ej.Tooltip.Effect={Slide:"slide",Fade:"fade",None:"none"},ej.Tooltip.Trigger={Hover:"hover",Click:"click",Focus:"focus"},ej.Tooltip.Collision={Flip:"flip",FlipFit:"flipfit",None:"none",Fit:"fit"},ej.Tooltip.Associate={Window:"window",MouseFollow:"mousefollow",MouseEnter:"mouseenter",Target:"target",Axis:"axis"},function(a,s,h){s.widget("ejTreeView","ej.TreeView",{_rootCSS:"e-treeview",element:null,model:null,validTags:["ul","div"],_addToPersist:["expandedNodes","checkedNodes","selectedNodes"],_setFirst:!1,_requiresID:!0,defaults:{allowMultiSelection:!1,showCheckbox:!1,enableAnimation:!0,allowDragAndDrop:!1,htmlAttributes:{},allowDropChild:!0,allowDropSibling:!0,allowDragAndDropAcrossControl:!0,allowEditing:!1,allowKeyboardNavigation:!0,items:null,fields:{dataSource:null,query:null,tableName:null,child:null,id:"id",parentId:"parentId",text:"text",spriteCssClass:"spriteCssClass",expanded:"expanded",hasChild:"hasChild",selected:"selected",linkAttribute:"linkAttribute",imageAttribute:"imageAttribute",htmlAttribute:"htmlAttribute",imageUrl:"imageUrl",isChecked:"isChecked"},autoCheckParentNode:!1,loadOnDemand:!1,cssClass:"",template:null,enableRTL:!1,expandOn:"dblclick",enablePersistence:!1,enabled:!0,expandedNodes:[],checkedNodes:[],selectedNode:-1,selectedNodes:[],width:null,height:null,autoCheck:!0,enableMultipleExpand:!0,fullRowSelect:!1,sortSettings:{allowSorting:!1,sortOrder:"ascending"},nodeClick:null,beforeExpand:null,nodeExpand:null,beforeCollapse:null,nodeCollapse:null,beforeSelect:null,nodeSelect:null,nodeUnselect:null,nodeCheck:null,nodeUncheck:null,inlineEditValidation:null,beforeEdit:null,nodeEdit:null,keyPress:null,nodeDragStart:null,nodeDrag:null,nodeDragStop:null,nodeDropped:null,beforeAdd:null,nodeAdd:null,beforeDelete:null,nodeDelete:null,beforeCut:null,nodeCut:null,beforePaste:null,nodePaste:null,beforeLoad:null,loadSuccess:null,loadError:null,ready:null,create:null,destroy:null},dataTypes:{allowMultiSelection:"boolean",cssClass:"string",showCheckbox:"boolean",enableAnimation:"boolean",allowDragAndDrop:"boolean",allowDropChild:"boolean",allowDragAndDropAcrossControl:"boolean",allowEditing:"boolean",allowKeyboardNavigation:"boolean",autoCheckParentNode:"boolean",loadOnDemand:"boolean",enableRTL:"boolean",expandOn:"string",enablePersistence:"boolean",enableMultipleExpand:"boolean",fullRowSelect:"boolean",items:"data",fields:{dataSource:"data",query:"data",child:"data"},expandedNodes:"array",checkedNodes:"array",selectedNode:"number",selectedNodes:"array",htmlAttributes:"data",sortSettings:{allowSorting:"boolean",sortOrder:"enum"}},observables:["fields.dataSource"],dataSource:s.util.valueFunction("fields.dataSource"),_setModel:function(t){var o,l,p,g,b,C,T,D;for(o in t)switch(o){case"allowMultiSelection":this.model.allowMultiSelection=t[o],this.model.allowMultiSelection||(l=a(this._liList[this.model.selectedNodes[0]]),this._unselectAll(),this._isRender=!1,this._nodeSelectionAction(l),this._isRender=!0);break;case"cssClass":this._changeSkin(t[o]);break;case"fields":if(this._deepWatch&&!s.isNullOrUndefined(t[o].dataSource)&&JSON.stringify(this._oldDataSource)==JSON.stringify("function"==typeof t[o].dataSource?t[o].dataSource():t[o].dataSource))return;this._unWireEvents(),(b=(g=!this.element.hasClass("e-js"))?this.element.children("ul"):this.element).empty(),null==this.model.fields||null==t[o]?this.model.fields=t[o]:this._extendFields(this.model.fields,t[o]),this.model.expandedNodes=[],this.model.checkedNodes=[],this.model.selectedNodes=[],this.model.selectedNode=-1,this._persistValues(this.model.expandedNodes,"expandedNodes"),this._persistValues(this.model.checkedNodes,"checkedNodes"),this._persistValues(this.model.selectedNodes,"selectedNodes"),this._newDataSource=this.dataSource(),s.isNullOrUndefined(this.model.fields)||null==this.dataSource()?this._initialize():this._checkDataBinding(),g&&(p=this.element.children(".e-treeview-ul"),b.append(p.children()),p.remove());break;case"allowDragAndDropAcrossControl":this.model.allowDragAndDropAcrossControl=t[o],this._enableDragDrop();break;case"enabled":this._enabledAction(t[o]);break;case"showCheckbox":t[o]?(this.model.showCheckbox=t[o],this._showCheckBox(),this.model.enabled||this.element.find(".nodecheckbox").ejCheckBox("disable")):(this.element.find(".e-item > div > .e-chkbox-wrap").remove(),this._updateCheckedNodes());break;case"autoCheck":this.model.autoCheck=t[o];break;case"autoCheckParentNode":this.model.autoCheckParentNode=t[o];break;case"expandedNodes":if(D=t[o].length,C=JSON.parse(JSON.stringify(this.model.expandedNodes)),D>0)for(this._expandNodes(t[o]),T=0,D=C.length;T<D;T++)-1==t[o].indexOf(C[T])&&this._collapseNode(a(this._liList[C[T]]));else 0==D&&this._collapseAll();t[o]=this.model.expandedNodes;break;case"checkedNodes":if(this.model.showCheckbox)if(D=t[o].length,C=JSON.parse(JSON.stringify(this.model.checkedNodes)),D>0)for(this._checkedNodes(t[o]),T=0,D=C.length;T<D;T++)-1==t[o].indexOf(C[T])&&this._nodeUncheck(a(this._liList[C[T]]).find("> div > .e-chkbox-wrap > .nodecheckbox:first")[0]);else 0==D&&this._uncheckAll();t[o]=this.model.checkedNodes;break;case"expandOn":this._off(this.element,this._isDevice&&a.isFunction(a.fn.tap)?this._touchExpandOn:this.model.expandOn,this._expandEventHandler),this._assignTouchExpandOn(t[o]),this._on(this.element,this._isDevice&&a.isFunction(a.fn.tap)?this._touchExpandOn:t[o],this._expandEventHandler);break;case"allowEditing":this._preventEditable(),t[o]&&this._allowEditable();break;case"allowKeyboardNavigation":this[t[o]?"_on":"_off"](this.element,"keydown",this._KeyPress);break;case"allowDragAndDrop":this.model.allowDragAndDrop=t[o],t[o]?this._addDragableClass():this._preventDraggable();break;case"allowDropChild":this.model.allowDropChild=t[o],t[o]?this._addDragableClass():this._preventDropChild();break;case"allowDropSibling":this.model.allowDropSibling=t[o],t[o]?this._addDragableClass():this._preventDropSibling();break;case"enableRTL":this.model.enableRTL=t[o],(this.element.is("UL")?this.element.parent(".e-treeview-wrap"):this.element)[this.model.enableRTL?"addClass":"removeClass"]("e-rtl");break;case"height":this.element.is("ul")?this.element.parent().height(t[o]):this.element.height(t[o]);break;case"width":this.element.is("ul")?this.element.parent().width(t[o]):this.element.width(t[o]);break;case"selectedNode":case"selectedNodes":this.model.selectedNodes="selectedNode"==o?[t[o]]:t[o],this.element.find("a.e-text.e-active").removeClass("e-node-focus e-active").closest("li").attr("aria-selected",!1),this._doSelectNodes(this.model.selectedNodes,!1),"selectedNode"!=o&&(t[o]=this.model.selectedNodes);break;case"htmlAttributes":this._addAttr(t[o]);break;case"enableMultipleExpand":t[o]||this.collapseAll(),this.model.enableMultipleExpand=t[o];break;case"sortSettings":a.extend(this.model.sortSettings,t[o]),s.isNullOrUndefined(this.model.fields)||null==this.dataSource()||(this.model.expandedNodes=[],this.model.checkedNodes=[],this.model.selectedNodes=[],this._checkDataBinding());break;case"fullRowSelect":this._wholeRowEvents("_off"),this.model.fullRowSelect=t[o],this.model.fullRowSelect?this._addWholeRowWrap():this._removeWholeRowWrap(),this._doWholeRowAction(),this._wholeRowEvents("_on")}},_destroy:function(){this.element.html(""),this._cloneElement.removeClass("e-treeview e-js e-treeview-wrap"),(this.element.is("UL")?this.element.parent(".e-treeview-wrap"):this.element).replaceWith(this._cloneElement),a("#"+this._id+"_WaitingPopup").remove(),window.localStorage?(window.localStorage.removeItem(this._id+"_childNodes"),window.localStorage.removeItem(this._id+"_persistedValues")):window.cookie&&(document.cookie=this._id+"_childNodes=; expires=Thu, 01 Jan 1970 00:00:00 UTC",document.cookie=this._id+"_persistedValues=; expires=Thu, 01 Jan 1970 00:00:00 UTC")},_init:function(){var t,l;this._cloneElement=this.element.clone(),this._dataSource=[],this._fragment=[],this._templateType="",this._indexID=0,this._newDataSource=this.dataSource(),this._id=this.element.prop("id"),this._treeList=[],this._isTextbox=!1,this._isDevice=this._checkDevice(),this._deepWatch="true"===this.element.attr("e-deepwatch")&&!(this.dataSource()instanceof s.DataManager),t=s.browserInfo(),this._isIE8="msie"==t.name&&"8.0"==t.version,this._deepWatch&&(this._oldDataSource=JSON.parse(JSON.stringify(this.dataSource()))),this._assignTouchExpandOn(this.model.expandOn),this.model.enablePersistence&&(this._getCookies("_persistedValues")||(l=this._updatePersistAttr(l={selectedNodes:[],expandedNodes:[],checkedNodes:[]}),this._setCookies("_persistedValues",JSON.stringify(l)))),s.isNullOrUndefined(this.model.fields)||null==this.dataSource()?(this._initialize(),this._completeRendering()):this._checkDataBinding()},_initialize:function(){this._cutNode=null,this._beforeEditText=null,this._CurrenctSelectedNodes=[],this._isLoaded=!1,this._renderMultiTouchDialog(),this.element.is("ul")?this._createWrapper():(this.element.addClass("e-treeview-wrap e-widget").attr("tabindex",0).children("ul:first").addClass("e-ul e-box").attr("role","tree"),null!=this.model.width&&this.element.width(this.model.width),null!=this.model.height&&this.element.height(this.model.height),this.model.enableRTL&&this.element.addClass("e-rtl"),null!=this.model.cssClass&&this.element.addClass(this.model.cssClass),this._addAttr(this.model.htmlAttributes)),this._elementSettings(),this._beforeBaseClass(),null==this.dataSource()&&(this._addBaseClass(),this._controlRender()),this._addWholeRowWrap(),this._isIE8&&(this.element.is("UL")?this.element.parent(".e-treeview-wrap").addClass("e-ie8"):this.element.addClass("e-ie8")),this._finalize()},_completeRendering:function(){0!=this._treeList.length||this._isLoaded||(this._finalizeNode(),this._enabledAction(this.model.enabled),this._triggerEvent("ready",{element:this.element[0]}),this._isLoaded=!0)},_addWholeRowWrap:function(){this.model.fullRowSelect&&(this.element.is("UL")?this.element.parent(".e-treeview-wrap").addClass("e-fullrow-wrap"):this.element.addClass("e-fullrow-wrap"))},_removeWholeRowWrap:function(){this.element.is("UL")?this.element.parent(".e-treeview-wrap").removeClass("e-fullrow-wrap"):this.element.removeClass("e-fullrow-wrap")},_doWholeRowAction:function(){var t,o,l,p;if(this.model.fullRowSelect)for(t=0,o=this._liList.length;t<o;t++)null!=(l=a(this._liList[t]))[0]&&(p=l.find("> .e-text-wrap"),this._renderWholeRow(l,p));else this.element.find(".e-fullrow").remove()},_renderWholeRow:function(t,o){if(t&&this.model.fullRowSelect){var l=document.createElement("div");l.setAttribute("class","e-fullrow"),o?a(l).insertAfter(o):t[0].appendChild(l)}},_extendFields:function(t,o){if(null==t||null==o)t=o;else if(null==t.child||null==o.child)a.extend(t,o);else{this._extendFields(t.child,o.child);var l=t.child;a.extend(t,o),a.extend(t.child,l)}},_checkDevice:function(){return s.isDevice()&&s.isTouchDevice()},_assignTouchExpandOn:function(t){this._touchExpandOn="dblclick"==t?"doubletap":"click"==t?"tap":t},_renderMultiTouchDialog:function(){var t,o,l;this._customPop=s.buildTag("div.e-fe-popup","",{display:"none"}),t=s.buildTag("div.e-content"),o=s.buildTag("div.e-downtail e-tail"),this.model.allowMultiSelection&&(l=s.buildTag("span.e-rowselect e-icon"),t.append(l)),this._customPop.append(t),this._customPop.append(o),this.element.is("ul")||this.element.append(this._customPop),this._on(t,this._isDevice&&a.isFunction(a.fn.tap)?"touchstart":"mousedown",this._popupClick)},_popupClick:function(){var t=this._customPop.find(".e-rowselect");t.hasClass("e-spanclicked")?this._hidePopup():(this._isPopup=!0,t.addClass("e-spanclicked"))},_hidePopup:function(){null!=this._customPop&&this._customPop.is(":visible")&&(this._customPop.find(".e-rowselect").removeClass("e-spanclicked"),this._customPop.hide(),this._isPopup=!1)},_elementSettings:function(){var t=this.element.is("UL")?this.element.parent(".e-treeview-wrap"):this.element;this.element.is("ul")&&t.attr("role","tree")},_beforeBaseClass:function(){var t=this.element.is("UL")?this.element.parent(".e-treeview-wrap")[0]:this.element[0];this._ulList=a(t.querySelectorAll("ul")),this._liList=a(t.querySelectorAll("li"))},_createWrapper:function(){var t=this.wrapper=s.buildTag("div.e-treeview-wrap e-widget "+this.model.cssClass,"","",{tabindex:0});null!=this.model.width&&t.width(this.model.width),null!=this.model.height&&t.height(this.model.height),this.model.enableRTL&&t.addClass("e-rtl"),t.insertAfter(this.element),t.append(this.element.addClass("e-ul e-box").attr("tabindex",0)),this.element.is("ul")&&t.append(this._customPop),this._addAttr(this.model.htmlAttributes)},_addAttr:function(t){var o=this;a.map(t,function(l,p){"class"==p?o.element.addClass(l):"disabled"==p&&"disabled"==l?o._enabledAction(!1):o.element.attr(p,l)})},_changeSkin:function(t){if(this.model.cssClass!=t){var o=this.element.is("UL")?this.element.parent(".e-treeview-wrap"):this.element;o.removeClass(this.model.cssClass).addClass(t),o.find(".e-item > div > .e-chkbox-wrap").removeClass(this.model.cssClass).addClass(t),this._waitingPopup&&this._waitingPopup.option("cssClass",t)}},_enabledAction:function(t){this.model.enabled=t,t?(this.element.removeClass("e-disable"),this._wireEvents()):(this.element.addClass("e-disable"),this._unWireEvents())},_checkDataBinding:function(){this.dataSource()instanceof s.DataManager?this._initDataSource():(this._ensureDataSource(this.dataSource()),this._initialize(),this._completeRendering())},_initDataSource:function(){this.element.ejWaitingPopup({cssClass:this.model.cssClass}),this._waitingPopup=this.element.ejWaitingPopup("instance"),this._waitingPopup.maindiv.addClass("e-tree-popup");var l,t=this;this.element.ejWaitingPopup("refresh"),this.element.ejWaitingPopup("show"),this.dataSource().ready!=h?this.dataSource().ready.done(function(p){t._initAfterDataSource(p)}):(l=this._columnToSelect(this.model.fields),this.dataSource().executeQuery(l).done(function(p){t._initAfterDataSource(p)}))},_initAfterDataSource:function(t){var o=this;o.element.ejWaitingPopup("hide"),o.retriveData=t.xhr&&t.xhr.responseJSON&&t.xhr.responseJSON.d?t.xhr.responseJSON.d:t.result?t.result:[],o._typeOfFieldId=o.retriveData[0]?(typeof s.getObject(o.model.fields.id,o.retriveData[0])).toLowerCase():"",o._ensureDataSource(o.retriveData),o._newDataSource=JSON.parse(JSON.stringify(o.retriveData)),o._initialize(),o.dataSource().dataSource.offline||!o.model.loadOnDemand&&s.isNullOrUndefined(o.model.fields.child)||(o._templateType=2),(o.model.loadOnDemand||s.isNullOrUndefined(o.model.fields.child))&&o._completeRendering()},_columnToSelect:function(t){var p,o=[],l=s.Query();if(t.query||s.isNullOrUndefined(t.tableName))l=t.query?t.query.clone():l;else{for(p in t)"tableName"!==p&&"child"!==p&&"dataSource"!==p&&t[p]&&o.push(t[p]);o.length>0&&l.select(o),this.dataSource().dataSource.url.match(t.tableName+"$")||s.isNullOrUndefined(t.tableName)||l.from(t.tableName)}return l},_ensureDataSource:function(t){t=this._getSortAndFilterList(this.model.fields,t),this.currentSelectedData=t,this._renderTemplate(t),this.element.is("ul")?this.element.html(this._fragment.firstChild.children):this.element.html(this._fragment)},_getTemplateType:function(t,o){for(var l=0,p=t.length;l<p;l++){if(s.getObject(o.parentId,t[l])!==h||s.getObject(o.hasChild,t[l])!==h)return 1;if(t[l].hasOwnProperty("child"))return 2}return 1},_groupingObjects:function(t,o){for(var l,p={},g=[],b=0,C=t.length;b<C;b++)p[l=JSON.stringify(o(t[b]))]=p[l]||[],p[l].push(t[b]);for(b in p)g.push(p[b]);return g},_renderTemplate:function(t){this._onlineData=!1,this._loadOnDemandNodes=!1;var o=this;this._templateType=this._getTemplateType(t,this.model.fields),this._dataSource=1==this._templateType?this._groupingObjects(t,function(l){return[!s.isNullOrUndefined(l)&&[s.getObject(o.model.fields.parentId,l)].toString()]}):t,this._templateNodeCreation(t,this.model.fields)},_templateNodeCreation:function(t,o){var l,p,g,b,C;if(this._fragment=document.createDocumentFragment(),l=document.createElement("ul"),this._fragment.appendChild(l),p=this._fragment.firstChild,(this._onlineData||this._loadOnDemandNodes)&&(p.className="e-treeview-ul",p.setAttribute("role","group"),a(p).attr("style","display:none")),null!=this.dataSource()){for(g=0,b=t.length;g<b;g++)t[g]&&(C=s.getObject(this.model.fields.parentId,t[g]),(s.isNullOrUndefined(C)||0==C||this._loadOnDemandNodes)&&p.appendChild(this._genTemplate(t[g],o)));a(p).find(".e-item:first-child:not(:last-child)").addClass("first"),a(p).find(".e-item:last-child").addClass("last")}},_onlineDataSource:function(t,o,l){this._loadOnDemandNodes=!0,this._templateNodeCreation(t,l);var p=this.element.find(".e-item#"+o);null!=p[0]&&(a(p[0]).append(this._fragment),p.children().find("> div:first").addClass("e-icon e-plus"),this._finalizeLoadOnDemand(p)),this._onlineData=!1},_genTemplate:function(t,o){var p,g,b,C,T,D,L,I,R,V,F,A,z,U,J,Q,oe,ue,le,ne,l=document.createDocumentFragment();if(g=document.createElement("li"),l.appendChild(g),(p=l.firstChild).id=s.getObject(o.id,t),p.id&&"undefined"!=p.id||(p.id=""),p.setAttribute("role","treeitem"),(D=s.getObject(o.htmlAttribute,t))&&this._setAttributes(D,p),p.className+=" e-item",C=document.createElement("a"),L=s.getObject(o.imageUrl,t),I=s.getObject(o.spriteCssClass,t),L?((b=document.createElement("img")).className="e-align",b.src=L,(R=s.getObject(o.imageAttribute,t))&&this._setAttributes(R,b)):I&&((b=document.createElement("span")).className=I),this.model.template){if(b&&C.appendChild(b),"function"!=typeof a.fn.render)throw"Error : JsRender dependecy script missing";C.innerHTML+=this._renderEjTemplate(this.model.template,t)}else(V=s.getObject(o.text,t))?a(C).text(V):a(C).text("undefined"),b&&C.insertBefore(b,C.lastChild);if((F=s.getObject(o.linkAttribute,t))&&("object"==typeof F?this._setAttributes(F,C):C.href=F),p.appendChild(C),s.getObject(o.expanded,t)&&(p.className+=" expanded"),s.getObject(o.selected,t)&&(p.className+=" selected"),A=s.getObject(o.isChecked,t),s.isNullOrUndefined(A)||(p.className+=A?" checked":" unchecked"),p.setAttribute("aria-selected",!1),p.setAttribute("aria-expanded",!1),this.dataSource()instanceof s.DataManager)this._updateElement(p,!0),this.model.showCheckbox&&this._checkboxOnTemplate(p.children[0]),this.model.loadOnDemand?(s.getObject(o.hasChild,t)||t.hasOwnProperty("child"))&&(p.children[0].firstChild.className="e-icon e-plus"):!s.isNullOrUndefined(o.child)&&o.child.dataSource instanceof s.DataManager?(z=this,U=o.child.parentId?o.child.parentId:z.model.fields.parentId,J=o.id?o.id:this.model.fields.id,this._treeList.push("false"),Q=s.getObject(J,t),this._executeDataQuery(o.child,U,"number"==this._typeOfFieldId?parseInt(Q):Q).done(function(he){if(z._treeList.pop(),(T=z._getSortAndFilterList(o.child,T=he.xhr&&he.xhr.responseJSON&&he.xhr.responseJSON.d?he.xhr.responseJSON.d:he.result?he.result:[]))&&T.length>0){z._onlineData=!0;var se=T[0][o.child.parentId];z._updateRemoteData(z._newDataSource,se,T,z.model.fields),z._onlineDataSource(T,se,o.child)}0==z._treeList.length&&z._completeRendering()})):s.isNullOrUndefined(this.model.fields.child)&&this._childNodeCreation(t,p,o);else if(this.model.loadOnDemand){if(this._updateElement(p,!0),(s.getObject(o.hasChild,t)||t.hasOwnProperty("child"))&&(p.children[0].firstChild.className="e-icon e-plus"),this.model.showCheckbox&&this._checkboxOnTemplate(p.children[0]),s.getObject(o.expanded,t)&&this._childNodeCreation(t,p,o),this.model.enablePersistence&&(oe=this._getCookies("_childNodes")))for(le=0,ne=(ue=JSON.parse(oe)).length;le<ne;le++)if(ue[le].toString()==s.getObject(o.id,t).toString()){this._childNodeCreation(t,p,o);break}}else this._onlineData||(this._updateElement(p,!0),this.model.showCheckbox&&this._checkboxOnTemplate(p.children[0]),this._childNodeCreation(t,p,o));return p},_childNodeCreation:function(t,o,l){var p,g,b,C,T,D;if(p=2==this._templateType?!s.isNullOrUndefined(t.child)&&t.child.length>0&&t.child:this._getChildNodes(this._dataSource,{id:s.getObject(l.id,t)}),!s.isNullOrUndefined(p)&&p.length>0){for(o.children[0].firstChild.className="e-icon e-plus",g=document.createDocumentFragment(),b=document.createElement("ul"),g.appendChild(b),(C=g.firstChild).className="e-treeview-ul",C.setAttribute("role","group"),a(C).attr("style","display:none"),T=0,D=p.length;T<D;T++)p[T]&&0!=s.getObject(this.model.fields.parentId,[p[T]])&&C.appendChild(this._genTemplate(p[T],l));o.appendChild(b)}},_checkboxOnTemplate:function(t){""==t.parentElement.id&&(t.parentElement.id=this._id+"_"+this._indexID,this._indexID++);var o=document.createElement("input");o.setAttribute("type","checkbox"),o.setAttribute("class","nodecheckbox"),o.setAttribute("name",this._id+"_Checkbox_"+t.parentElement.id),o.setAttribute("value",t.parentElement.id),t.insertBefore(o,t.children[1])},_updateElement:function(t,o){var l,p,g,b,T,D,L,I,C=t.firstChild;C&&(("SPAN"==(T=C.nodeName)||"IMG"==T)&&(b=C),(g=t.lastChild)&&(L=null!=g.lastChild?g.lastChild.nodeValue:"",D=a.trim(g.innerHTML),I=a(g).clone()[0],a(g).remove(),I.className+=" e-text CanSelect",I.innerHTML=D,t.innerHTML=""),(l=document.createElement("div")).setAttribute("class","e-text-wrap"),l.setAttribute("role","presentation"),o&&((p=document.createElement("div")).setAttribute("role","presentation"),l.appendChild(p)),b&&l.appendChild(b),l.appendChild(I),a(t).prop("name")==h&&a(t).prop("name",a.trim(L)),t.appendChild(l),this._renderWholeRow(a(t)))},_setAttributes:function(t,o){for(var l in t)a(o).attr(l,t[l])},_addDragableClass:function(){this.model.allowDragAndDrop&&(this._anchors=this._liList.map(function(){return a("a.e-text",this)[0]}),this._anchors.addClass("e-draggable e-droppable"),this._enableDragDrop(),this._on(this.element,"mouseup touchstart pointerdown MSPointerDown",this._anchors,this._focusElement),this._on(this.element,"focusout",this._anchors,this._blurElement))},_addBaseClass:function(){this._ulList.addClass("e-treeview-ul").attr("role","group"),this._liList.addClass("e-item").attr("role","treeitem"),this.element.is("ul")||this.element.find("ul:first").removeClass("e-treeview-ul").addClass("e-ul")},_controlRender:function(){var o,l,p,g,b,C,T,D,L,I,R,t=this.element;if(null!=t){for(o=t.find(".e-item"),l=0;l<o.length;l++)(T=(p=a(o[l])).children("ul.e-treeview-ul")[0])&&a(p.children("ul.e-treeview-ul")[0]).remove(),(D=p.children("a")[0])?(C=a.trim(a(D).text()),g=a(D).clone(),a(D).remove(),b=p.clone(),a(g).prepend(b.children()),a(g).addClass("e-text CanSelect"),p.html("")):(C=a.trim(this._getText(p)),b=p.clone(),p.html(""),(g=s.buildTag("a.e-text CanSelect","","","")).append(b.children()),g[0].innerHTML+=C),L=s.buildTag("div","",{},{role:"presentation"}),I=s.buildTag("div.e-text-wrap","",{},{role:"presentation"}),a(I).append(L).append(g),p.prepend(I),this._renderWholeRow(p),T&&p.append(T),p.prop("name")==h&&p.prop("name",C),this.model.showCheckbox&&this._checkboxOnTemplate(o[l].children[0]);this.model.showCheckbox&&t.find(".nodecheckbox").ejCheckBox({cssClass:this.model.cssClass,change:this._checkedChange})}(R=t.find(".e-item")).find(">ul").hide(),R.find(".e-text"),R.filter(".e-item:last-child").addClass("last"),a(R[0]).addClass("first"),a(R[0]).hasClass("first")&&a(R[0]).hasClass("last")&&a(R[0]).removeClass("first"),a(R.filter(":has(ul)")).each(function(){a(this).attr("aria-expanded",!1).attr("aria-selected",!1);var F=a(this).children("ul:first");a(F).is(":hidden")?a(this).find("> div > div:first").removeClass("e-icon e-minus").addClass("e-icon e-plus"):a(this.childNodes[1]).removeClass("e-icon e-plus").addClass("e-icon e-minus")})},_getText:function(t){return a(t).clone().children().remove().end().text()},_expandNodes:function(t,o){for(var p=t.length,g=[],b=0;b<p;b++)g=o?this._getNodeByID(t[b]):a(this._liList[t[b]]),s.isNullOrUndefined(g)||!this.model.enableMultipleExpand&&g.siblings().find(">div>.e-minus").closest(".e-item").length>0||this.isExpanded(g)||(!this.model.loadOnDemand||this.dataSource()instanceof s.DataManager?this._expandNode(g):this._createChildNodesWhenExpand(g))},_checkedNodes:function(t){var o,l,p;for(t.length>0&&this._removeField(this._newDataSource,this.model.fields,"isChecked"),l=0,p=t.length;l<p;l++)null!=(o=a(this._liList[t[l]]))[0]&&this._nodeCheck(o.find("> div > .e-chkbox-wrap > .nodecheckbox:first")[0])},_finalize:function(){this.model.showCheckbox&&this.element.find(".e-item > div .nodecheckbox").ejCheckBox({cssClass:this.model.cssClass,change:this._checkedChange}),this.model.allowEditing&&this._allowEditable()},_finalizeNode:function(){var t,l,p,g,b;this._isRender=!1,this._allowOnDemand=!0;var I,V,C=this.element,T=this._getCookies("_persistedValues"),D=[],L=[];if(!(this.model.expandedNodes instanceof Array&&this.model.expandedNodes.length>0))for(p=(I=C.find("li.expanded")).length,l=0;l<p;l++)t=a(I[l]),!this.model.enableMultipleExpand&&t.siblings().find(">div>.e-minus").closest(".e-item").length>0||this._expandNode(t);if(T&&(D=JSON.parse(T).expandedNodes,L=[]),D&&D.length>0&&!s.isNullOrUndefined(this.model.fields)&&null!=this.dataSource()){for(l=0,p=D.length;l<p;l++)if(null!=(L=this.element.find(".e-item#"+D[l]))[0]){if(!this.model.enableMultipleExpand&&L.siblings().find(">div>.e-minus").closest(".e-item").length>0)continue;!this.model.loadOnDemand||this.dataSource()instanceof s.DataManager?this._expandNode(L):this._createChildNodesWhenExpand(L)}}else V=JSON.parse(JSON.stringify(this.model.expandedNodes)),this._expandNodes(V);if(this.model.showCheckbox)if(T&&(D=JSON.parse(T).checkedNodes,L=[]),D&&D.length>0&&!s.isNullOrUndefined(this.model.fields)&&null!=this.dataSource())for(this._removeField(this._newDataSource,this.model.fields,"isChecked"),l=0,p=D.length;l<p;l++)null!=(L=this.element.find(".e-item#"+D[l]))[0]&&this._nodeCheck(L.find("> div > .e-chkbox-wrap > .nodecheckbox:first")[0]);else V=JSON.parse(JSON.stringify(this.model.checkedNodes)),this._checkedNodes(V);this.model.checkedNodes instanceof Array&&this.model.checkedNodes.length>0||this.model.showCheckbox&&this._isCheckedAction(),g=!1,T&&(D=JSON.parse(T).selectedNodes,g=!0),(!T||D&&0==D.length)&&(D=this.model.selectedNodes.length>0?this.model.selectedNodes:-1==this.model.selectedNode?[]:[this.model.selectedNode],g=!1),b={ctrlKey:!0},D&&D.length>0?this._doSelectNodes(D,g):this._isSelectedAction(b),this._isRender=!0,this._allowOnDemand=!1,C.find(".e-item.checked, .e-item.expanded, .e-item.selected").removeClass("checked expanded selected")},_doSelectNodes:function(t,o){for(var l,p={ctrlKey:!0},g=0,b=t.length;g<b&&(null!=(l=o?this._getNodeByID(t[g]):a(this._liList[t[g]]))[0]&&this._nodeSelectionAction(l,p),this.model.allowMultiSelection);g++);},_doUnselectNodes:function(t){for(var o,l=0,p=t.length;l<p&&(null!=(o=this._getNodeByID(t[l]))[0]&&this._nodeUnSelectionAction(o),this.model.allowMultiSelection);l++);},_updateSelectedNode:function(){var o,l,p,t=a(this._liList).find(".e-text.e-active").closest(".e-item");if(this.model.selectedNodes=[],this.model.allowMultiSelection||(this.model.selectedNode=null),t[0]==h||t.length<=0)this._persistValues(this.model.selectedNodes,"selectedNodes");else if(this.model.allowMultiSelection){for(o=0,l=t.length;o<l;o++)p=a(this._liList).index(t[o]),this.model.selectedNodes.push(p);this._persistValues(this.model.selectedNodes,"selectedNodes")}else this._isRender=!1,this._nodeSelectionAction(a(t[0])),this._isRender=!0},_setCookies:function(t,o){window.localStorage?window.localStorage.setItem(this._id+t,o):document.cookie&&s.cookie.set(this._id+t,o)},_getCookies:function(t){return window.localStorage?window.localStorage.getItem(this._id+t):window.cookie?s.cookie.get(this._id+t):void 0},_updateCheckedNodes:function(){for(var t=[],o=this.element.find(".e-item > div > .e-chkbox-wrap > .nodecheckbox.checked").closest(".e-item"),l=0;l<o.length;l++)t.push(a(this._liList).index(o[l]));(t.length>0||0==o.length)&&(this.model.checkedNodes=t),0==o.length&&this.model.checkedNodes.push(-1),this._persistValues(this.model.checkedNodes,"checkedNodes")},_updateExpandedNodes:function(){var t,l,p,o=[];for(l=0,p=(t=this.element.find(".e-item > div > .e-minus").closest(".e-item").addClass("e-collapse")).length;l<p;l++)o.push(a(this._liList).index(t[l]));(o.length>0||0==t.length)&&(this.model.expandedNodes=o),0==t.length&&this.model.expandedNodes.push(-1),this._persistValues(this.model.expandedNodes,"expandedNodes")},_isCheckedAction:function(){for(var t,o,l,p=this.element.find(".e-item.checked"),g=0;g<p.length;g++)if(t=a(p[g]).find(".e-item"),o=a(p[g]).find(".e-item.unchecked"),0==t.length||!(t.length>0&&o.length==t.length)||!this.model.autoCheck)for(this._nodeCheck(a(p[g]).find("> div > .e-chkbox-wrap > input.nodecheckbox:first")[0]),l=0;l<o.length;l++)this._nodeUncheck(a(o[l]).find("> div > .e-chkbox-wrap > .nodecheckbox:first")[0]);this.element.find(".e-item.checked, .e-item.unchecked").removeClass("checked unchecked")},_isExpandedAction:function(){for(var t,l=this.element.find("li.expanded"),p=l.length,g=0;g<p;g++)t=a(l[g]),!this.model.enableMultipleExpand&&t.siblings().find(" > div > .e-minus").closest(".e-item").length>0||this._expandNode(t);this.element.find(".e-item.expanded").removeClass("expanded")},_isSelectedAction:function(t){for(var o=this.element.find(".e-item.selected"),l=0,p=o.length;l<p&&(null!=o[l]&&this._nodeSelectionAction(a(o[l]),t),this.model.allowMultiSelection);l++);this.element.find(".e-item.selected").removeClass("selected")},_checkedChange:function(t){t.isInteraction&&this.element.closest(".e-treeview.e-js").data("ejTreeView")[t.isChecked?"_nodeCheck":"_nodeUncheck"](a(this.element)[0],t)},_doClickAnimation:function(t){var o=a(t.target);o!=h&&t.type!=h&&(o.addClass("e-animate"),o.is("A")&&o.hasClass("e-text")&&o.closest(".e-text-wrap").addClass("e-animate"))},_ClickEventHandler:function(t){var l,b,T,D,L,I,R,p=a(t.target),g=p.closest(".e-item").find("> div > div:first");if(this._isPopup=!1,g&&!g.hasClass("e-process")&&!(l=p.closest(".e-item")).hasClass("e-node-disable")){if(this.element.find(".e-animate").removeClass("e-animate"),this._doClickAnimation(t),b=null!=l[0]?l[0].getAttribute("id"):"",this._triggerEvent("nodeClick",{event:t,currentElement:p[0],id:b,parentId:l.closest("ul").closest(".e-item").attr("id")}),!s.isNullOrUndefined(p)&&p.is("DIV"))if(p.hasClass("e-plus")||p.hasClass("e-minus"))if(p.is("SPAN")&&(p=p.parent("div").find("div:first")),l.children("ul:first"),!(L=this.isChildLoaded(l))&&this.model.loadOnDemand){if(p.removeClass("e-plus").addClass("e-load"),this._checkboxChecked=p.parent().find(".nodecheckbox").hasClass("checked"),D=this._getNodeDetails(l),T={currentElement:l,targetElement:p[0],id:D.id,value:D.text,parentId:D.parentId,isChildLoaded:L,hasParent:!0,async:!0},this._isEventTriggered=!0,this._triggerEvent("beforeExpand",T))return!1;this._loadOnDemand(T,p[0])}else p.hasClass("e-plus")?this._expandNode(l):this._collapseNode(l);else this.model.fullRowSelect&&(p.hasClass("e-fullrow")||p.hasClass("e-text-wrap"))&&(p=p.closest(".e-item").find("> .e-text-wrap .e-text"));p.is("A")||p.hasClass("input-text")||(p=p.closest(".e-text")),!s.isNullOrUndefined(p)&&p.is("A")&&p.hasClass("CanSelect")&&(t&&"touch"==t.pointerType&&null!=this._customPop&&this.model.allowMultiSelection?(I=a(t.target),this._customPop.is(":visible")||this._customPop.show(),this._customPop.is(":visible")&&!this._customPop.find(".e-rowselect").hasClass("e-spanclicked")?(R=I.offset(),this._customPop.offset({left:R.left,top:R.top-40})):t.ctrlKey=!0):this._hidePopup(),p.hasClass("e-active")?this.model.allowMultiSelection&&this._nodeUnSelectionAction(p.closest(".e-item"),t):this._nodeSelectionAction(p.closest(".e-item"),t))}t.target&&["INPUT","BUTTON","TEXTAREA","SELECT"].indexOf(t.target.tagName)<0&&this.element.focus()},_getChildTables:function(t,o,l){if(!s.isNullOrUndefined(t.child))return o==l?t.child:this._getChildTables(t.child,o,l+1)},_loadOnDemand:function(t){var o,l,p,g=this;if(this.dataSource()instanceof s.DataManager){if(l=t.currentElement.parents("ul.e-treeview-ul").length,p=this._getChildTables(g.model.fields,l,1),s.isNullOrUndefined(p)&&s.isNullOrUndefined(this.model.fields.child)&&(p=this.model.fields),!p)return void(a(t.targetElement).hasClass("e-load")&&a(t.targetElement).removeClass(a(t.targetElement).hasClass("e-plus")||a(t.targetElement).hasClass("e-minus")?"e-load":"e-icon e-load"));this._executeDataQuery(p,p.parentId,"number"==this._typeOfFieldId?parseInt(t.currentElement[0].id):t.currentElement[0].id).done(function(C){if((o=g._getSortAndFilterList(p,o=C.xhr&&C.xhr.responseJSON&&C.xhr.responseJSON.d?C.xhr.responseJSON.d:C.result?C.result:[])).length>0){g._onlineData=!0;var T=s.getObject(p.parentId,o[0]);g._updateRemoteData(g._newDataSource,T,o,g.model.fields),g._loadChildNodeWhenOnDemand(o,t,p)}else a(t.targetElement).hasClass("e-load")&&a(t.targetElement).removeClass(a(t.targetElement).hasClass("e-plus")||a(t.targetElement).hasClass("e-minus")?"e-load":"e-icon e-load")})}else o=this._getChildNodes(this._dataSource,t),!s.isNullOrUndefined(o)&&o.length>0?setTimeout(function(){g._createSubNodesWhenLoadOnDemand(o,t.targetElement,g.model.fields)},400):a(t.targetElement).hasClass("e-load")&&a(t.targetElement).removeClass(a(t.targetElement).hasClass("e-plus")||a(t.targetElement).hasClass("e-minus")?"e-load":"e-icon e-load")},_loadChildNodeWhenOnDemand:function(t,o,l){var p=this;!s.isNullOrUndefined(t)&&t.length>0&&setTimeout(function(){p._createSubNodesWhenLoadOnDemand(t,o.targetElement,l)},100)},_createSubNodesWhenLoadOnDemand:function(t,o,l){this._loadOnDemandNodes=!0,this._templateNodeCreation(t,l),a(this._fragment.firstChild).attr("style","display:none"),this._fragment.firstChild.className="e-treeview-ul",this._fragment.firstChild.setAttribute("role","group"),o.parentNode.parentNode.appendChild(this._fragment);var p=a(o).closest(".e-item");p.attr({"aria-expanded":!1,"aria-expanded":!0}),a(o).removeClass("e-load").addClass("e-plus"),this._expandNode(p),this._finalizeLoadOnDemand(p)},_finalizeLoadOnDemand:function(t){var o,l,p,g;this._beforeBaseClass(),this._isRender=!1,this.model.showCheckbox&&(t.children("ul").find("li > div > input.nodecheckbox").ejCheckBox({cssClass:this.model.cssClass,change:this._checkedChange}),o=t.children("ul").find(".e-item"),(l=t.children("ul").find(".e-item.unchecked")).length>=0&&l.length!=o.length&&this._checkboxChecked&&this.model.autoCheck?o.not(".unchecked").addClass("checked"):l.length==o.length&&this.isNodeChecked(t)&&this._nodeUncheck(t.find("> div > .e-chkbox-wrap > .nodecheckbox:first")[0]),this._isLoaded&&(this._isCheckedAction(),this._updateCheckedNodes())),this._isRender=!0,this._addDragableClass(),this._preventEditable(),this.model.allowEditing&&this._allowEditable(),this._isLoaded&&(this._isSelectedAction(),this._updateSelectedNode(),this._allowOnDemand=!0,this._isExpandedAction(),this._updateExpandedNodes(),this._allowOnDemand=!1),!this.model.loadOnDemand||!this.model.enablePersistence||this.dataSource()instanceof s.DataManager||((g=this._getCookies("_childNodes"))&&(p=JSON.parse(g)),s.isNullOrUndefined(p)||-1!=p.indexOf(t[0].id)?p=[t[0].id]:p.push(t[0].id),this._setCookies("_childNodes",JSON.stringify(p)))},_getChildNodes:function(t,o){var p,g,b,l=[];if(1!=this._templateType){for(g=0,b=t.length;g<b;g++){if(s.getObject(this.model.fields.id,t[g])==o.id&&0!=s.getObject(this.model.fields.parentId,t[g]))return t[g].child;if(t[g].hasOwnProperty("child")&&(l=this._getChildNodes(t[g].child,o),!s.isNullOrUndefined(l)&&l.length>0))break}return l}for(g=0,b=t.length;g<b;g++)if(p=s.getObject(this.model.fields.parentId,t[g][0]),!s.isNullOrUndefined(t[g][0])&&!s.isNullOrUndefined(p)&&0!=p&&p==o.id)return t[g]},_getPath:function(t){for(var o=t.prop("name"),l=t.parents(".e-item:first");null!=l[0]&&l[0].parentNode.id!=this._id;)o=l.prop("name")+"/"+o,l=l.parents(".e-item:first");return this._id+"/"+o},_nodeSelectionAction:function(t,o){var l,p,g,b,C;if(null!=t[0]||0!=t.length){var T=a(t.find("> div > .e-text")[0]),D=!1,I=(this.model.selectedNodes.slice(),this._liList.index(t[0]));if(this._currNode=t,!this._triggerEvent("beforeSelect",{target:t,nodeDetails:this._getNodeDetails(t)})){if(this.model.allowMultiSelection&&o&&(!o||o.ctrlKey)||(this.element.find("a.e-text.e-active").removeClass("e-node-focus e-active"),this.element.find("[aria-selected=true]").attr("aria-selected",!1),this.element.find(".e-li-active").removeClass("e-li-active"),this.model.fullRowSelect&&(this.element.find(".e-li-focus").removeClass("e-li-focus"),this.element.find(".e-node-focus").removeClass("e-node-focus")),this.element.find("#"+this._id+"_active").removeAttr("id"),this.model.selectedNodes=[],this._deepWatch&&this._removeField(this._newDataSource,this.model.fields,"selected")),this.model.allowMultiSelection&&o&&o.shiftKey){this._startNode||(this._startNode=this._currNode);var R=this.getVisibleNodes(),V=R.index(this._startNode),F=R.index(t[0]);for(V>F&&(l=V,V=F,F=l),p=V;p<=F;p++)g=a(R.get(p)),b=this._liList.index(g[0]),-1==a.inArray(b,this.model.selectedNodes)&&(this.model.selectedNodes.push(b),(C=g.find("> div > a.e-text")).removeClass("e-node-focus"),g.attr("aria-selected",!0),g.addClass("e-li-active"),C.addClass("e-active"),D=!0,this._deepWatch&&this._updateField(this._newDataSource,g.attr("id"),this.model.fields,"selected",!0))}else this._startNode=t;this.model.allowMultiSelection||(this.model.selectedNode=I),D||(this.element.find("a.e-text.e-node-focus").removeClass("e-node-focus"),t.attr("aria-selected",!0),t.addClass("e-li-active"),T.addClass("e-active"),this.model.allowMultiSelection||(null!=T.closest(".e-item")[0].id&&""!=T.closest(".e-item")[0].id?this.element.attr("aria-activedescendant",T.closest(".e-item")[0].id):T.closest(".e-item").attr("id",this._id+"_active")),-1==a.inArray(I,this.model.selectedNodes)&&this.model.selectedNodes.push(I),this._deepWatch&&this._updateField(this._newDataSource,t.attr("id"),this.model.fields,"selected",!0)),this.model.enablePersistence&&this._persistValues(this.model.selectedNodes,"selectedNodes"),this._deepWatch&&(this._oldDataSource=JSON.parse(JSON.stringify(this._newDataSource)),this.dataSource(this._newDataSource)),this._triggerGivenEvent("nodeSelect",t)}}},_nodeUnSelectionAction:function(t,o){this.model.allowMultiSelection&&o&&!o.ctrlKey?this._nodeSelectionAction(t,o):(t.removeClass("e-li-active"),t.attr("aria-selected",!1).find("> div > .e-text").removeClass("e-active").attr("id",""),this._updateUnselectModel(t[0]),this._deepWatch&&(this._updateField(this._newDataSource,t.attr("id"),this.model.fields,"selected",!1),this._oldDataSource=JSON.parse(JSON.stringify(this._newDataSource)),this.dataSource(this._newDataSource)),this._triggerGivenEvent("nodeUnselect",t))},_updateUnselectModel:function(t){var p,o=this._liList.index(t),l=this.model.selectedNodes;this.model.allowMultiSelection||(this.model.selectedNode=null),(p=a.inArray(o,l))>-1&&this.model.selectedNodes.splice(p,1),this._persistValues(this.model.selectedNodes,"selectedNodes")},_triggerGivenEvent:function(t,o){if(this._isRender){var l={currentElement:o,value:o.find("> div > a.e-text").eq(0).text(),id:o[0].getAttribute("id"),parentId:o.closest("ul").closest(".e-item").attr("id"),selectedNodes:this.model.selectedNodes};this._triggerEvent(t,l)}},_getNodesIndex:function(t){for(var o=[],l=0,p=t.length;l<p;l++)o.push(this._liList.index(t[l]));return o},_nodeEnableAction:function(t){var o=this.getParent(t);null!=o[0]&&o.hasClass("e-node-disable")||(this.model.showCheckbox&&t.find("div > .e-chkbox-wrap > .nodecheckbox").ejCheckBox("enable").prop("disabled",!1),t.find(".e-text").removeClass("e-node-disable").closest(".e-item").removeClass("e-node-disable").removeProp("disabled"))},_nodeDisableAction:function(t){var o,l,p;for(this._collapseNode(t),this.model.showCheckbox&&t.find("div > .e-chkbox-wrap > .nodecheckbox").ejCheckBox("disable").prop("disabled",!0),o=t.find(".e-text.e-active").closest(".e-item"),t.find(".e-text").addClass("e-node-disable").removeClass("e-active").attr("id","").closest(".e-item").addClass("e-node-disable").prop("disabled",!0),l=0,p=o.length;l<p;l++)this._updateUnselectModel(o[l])},_getNodeDetails:function(t){var o,l,I;return null!=t[0]&&t.is("LI")&&t.hasClass("e-item")?(o=t[0].getAttribute("id"),l=t.children("div").find(".e-text:first").text(),null!=this.model.template&&(I=this._getNodeObject(o,!0)).length>0&&(l=I[0]),{id:o,text:l,parentId:t.closest("ul").closest(".e-item").attr("id")||"",level:t.parentsUntil(".e-treeview-wrap","ul").length,count:t.find(".e-item").length,expanded:this._isNodeExpanded(t),checked:this._isChecked(t),selected:t.find("> div > .e-text").hasClass("e-active"),index:this._liList.index(t)}):{id:"",text:"",parentId:"",level:"",count:"",expanded:"",checked:"",selected:"",index:""}},_denyMultipleExpand:function(t){for(var o=t.siblings().find(">div>.e-minus").closest(".e-item"),l=0,p=o.length;l<p;l++)this._collapseNode(a(o[l]))},_expandCollapseAction:function(t){var o,p,g,b,C;if(t&&!t.hasClass("e-process")&&(p=t.closest(".e-item"),t.is("SPAN")&&(t=a(t).parent("div").find("div:first")),(o=p.children("ul:first")).find("> .e-item").length>0)){if(this.model.enableAnimation&&t.addClass("e-process"),g=a(t).closest(".e-treeview.e-js").data("ejTreeView")._getNodeDetails(p),C=this.isChildLoaded(p),b={currentElement:p,value:g.text,isChildLoaded:C,id:g.id,parentId:g.parentId,async:!1},!this._isNodeExpanded(p)&&C){if(!this._isEventTriggered&&this._triggerEvent("beforeExpand",b))return!1;this._isEventTriggered=!1,p.attr("aria-expanded",!0),this._addExpandedNodes(this._liList.index(p)),a(t).removeClass("e-icon e-plus").addClass("e-icon e-minus"),p.addClass("e-collapse"),this._deepWatch&&this._updateField(this._newDataSource,g.id,this.model.fields,"expanded",!0),this._doAnimation(o,t,"nodeExpand",b,350)}else{if(this.element.find(".e-material-animate").removeClass("e-material-animate"),p.attr("aria-expanded",!1),!0===this._triggerEvent("beforeCollapse",b))return!1;this._removeExpandedNodes(this._liList.index(b.currentElement)),a(t).removeClass("e-icon e-minus").addClass("e-icon e-plus"),p.removeClass("e-collapse"),this._deepWatch&&this._updateField(this._newDataSource,g.id,this.model.fields,"expanded",!1),this._doAnimation(o,t,"nodeCollapse",b,200)}this._deepWatch&&(this._oldDataSource=JSON.parse(JSON.stringify(this._newDataSource)),this.dataSource(this._newDataSource))}},_doAnimation:function(t,o,l,p,g){var b=this;this.model.enableAnimation?t.animate({height:"toggle"},g,"linear",function(){s.isNullOrUndefined(b.model)||b._doAnimateAction(o,l,p)}):(t.css("display",200==g?"none":"block"),this._doAnimateAction(o,l,p))},_doAnimateAction:function(t,o,l){t.removeClass("e-process"),this._triggerEvent(o,l)},_isChecked:function(t){return"true"===t.find("> div > .e-chkbox-wrap:first").attr("aria-checked")},_doRecursiveCheck:function(b,o){var l,p,g,C,T,D;l=(C=this._getChildUl(b))?C.querySelectorAll('.e-chkbox-wrap[aria-checked="true"]').length:0,T=C?C.querySelectorAll(".e-item > div > .e-chkbox-wrap > .nodecheckbox"):[],(p=b.firstChild.querySelector(".nodecheckbox"))&&"INPUT"==p.nodeName.toUpperCase()&&(D=a(p).data("ejCheckBox"),l==T.length||this.model.autoCheckParentNode?(D.setModel({enableTriState:!1,checked:!0}),p.className+=" checked",g=b.firstChild.getElementsByTagName("a")[0].innerHTML,o.push({id:b.id,text:g}),this._deepWatch&&!this.model.autoCheckParentNode&&this._updateField(this._newDataSource,b.id,this.model.fields,"isChecked",!0),this._addHiddenInputElement(p,g),this._addCheckNodes(this._liList.index(b))):D.setModel({enableTriState:!0,checkState:"indeterminate"}),"LI"==(b=b.parentNode.parentNode).nodeName.toUpperCase()&&this._doRecursiveCheck(b,o))},_nodeCheck:function(t,o){var l,p,g,b,C,T,D,L,I;if(null!=a(t)[0]){if(this._CurrenctSelectedNodes=[],this._checkedArray=[],t.className+=" checked",l=a(t).data("ejCheckBox")){if(l.setModel({enableTriState:!1,checked:!0}),g=(p=t.parentNode.parentNode.parentNode).firstChild.getElementsByTagName("a")[0].lastChild.nodeValue,this._checkedArray.push({id:p.id,text:g}),this._deepWatch&&this._updateField(this._newDataSource,p.id,this.model.fields,"isChecked",!0),this._addHiddenInputElement(t,g),this._addCheckNodes(this._liList.index(p)),this.model.autoCheck){for(L=0,I=(C=(D=this._getChildUl(p))?D.querySelectorAll(".e-item > div > .e-chkbox-wrap > .nodecheckbox"):[]).length;L<I;L++)a(C[L]).ejCheckBox({checked:!0,enableTriState:!1})[0].className+=" checked",g=(T=C[L].parentNode.parentNode.parentNode).firstChild.getElementsByTagName("a")[0].lastChild.nodeValue,this._checkedArray.push({id:T.id,text:g}),this._deepWatch&&this._updateField(this._newDataSource,T.id,this.model.fields,"isChecked",!0),this._addHiddenInputElement(C[L],g),this._addCheckNodes(this._liList.index(T));"LI"==(b=p.parentNode.parentNode).nodeName.toUpperCase()&&this._doRecursiveCheck(b,this._checkedArray)}o&&(o.checknode=this._checkedArray),this._onChecked(a(t),o)}this._deepWatch&&(this._oldDataSource=JSON.parse(JSON.stringify(this._newDataSource)),this.dataSource(this._newDataSource)),this._persistValues(this.model.checkedNodes,"checkedNodes")}},_addHiddenInputElement:function(t,o){if(null==t.firstChild){var l=document.createElement("input");l.setAttribute("type","hidden"),l.setAttribute("name",this._id+"_Checkbox_"+t.value+"_Text"),l.setAttribute("value",o);try{t.appendChild(l)}catch{}}},_doRecursiveUncheck:function(b,o){var l,p,g,C,T,D;l=(C=this._getChildUl(b))?C.querySelectorAll('.e-chkbox-wrap[aria-checked="true"]').length:0,T=C?C.querySelectorAll(".e-item > div > .e-chkbox-wrap > .nodecheckbox"):[],(p=b.firstChild.querySelector(".nodecheckbox"))&&"INPUT"==p.nodeName.toUpperCase()&&(D=a(p).data("ejCheckBox"),l<=0&&(D.setModel({enableTriState:!1,checked:!1}),a(p).removeClass("checked").removeClass("checked").children().remove(),g=b.firstChild.getElementsByTagName("a")[0].innerHTML,this._removeCheckNodes(this._liList.index(b)),o.push({id:b.id,text:g}),this._deepWatch&&this._updateField(this._newDataSource,b.id,this.model.fields,"isChecked",!1)),l>0&&this.model.autoCheckParentNode?(D.setModel({checked:!0}),p.className+=" checked",g=b.firstChild.getElementsByTagName("a")[0].innerHTML,this._addHiddenInputElement(b,g),this._deepWatch&&this._updateField(this._newDataSource,b.id,this.model.fields,"isChecked",!1)):l>0&&!this.model.autoCheckParentNode&&(D.setModel(T.length>1?{enableTriState:!0,checkState:"indeterminate"}:{checked:!1}),a(p).removeClass("checked").removeClass("checked").children().remove(),this._removeCheckNodes(this._liList.index(b)),this._deepWatch&&this._updateField(this._newDataSource,b.id,this.model.fields,"isChecked",!1)),"LI"==(b=b.parentNode.parentNode).nodeName.toUpperCase()&&this._doRecursiveUncheck(b,o))},_nodeUncheck:function(t,o){var p,g,b,C,T,D,L,I,R;if(null!=a(t)[0]){if(this._uncheckedArray=[],a(p=t.parentNode.parentNode.parentNode).find("div > .e-chkbox-wrap > .nodecheckbox").removeClass("checked").children().remove(),g=a(t).data("ejCheckBox"),this._removeCheckNodes(this._liList.index(p)),g){if(g.setModel({enableTriState:!1,checked:!1}),b=p.firstChild.getElementsByTagName("a")[0].lastChild.nodeValue,this._uncheckedArray.push({id:p.id,text:b}),this._deepWatch&&this._updateField(this._newDataSource,p.id,this.model.fields,"isChecked",!1),this.model.autoCheck){for(D=0,L=(T=(C=this._getChildUl(p))?C.querySelectorAll(".e-item > div > .e-chkbox-wrap > .nodecheckbox"):[]).length;D<L;D++)a(T[D]).ejCheckBox({enableTriState:!1,checked:!1}),b=(I=T[D].parentNode.parentNode.parentNode).firstChild.getElementsByTagName("a")[0].lastChild.nodeValue,this._uncheckedArray.push({id:I.id,text:b}),this._deepWatch&&this._updateField(this._newDataSource,I.id,this.model.fields,"isChecked",!1),this._removeCheckNodes(this._liList.index(I));"LI"==(R=p.parentNode.parentNode).nodeName.toUpperCase()&&this._doRecursiveUncheck(R,this._uncheckedArray)}o&&(o.unchecknode=this._uncheckedArray),this._onUnChecked(a(t),o)}this._deepWatch&&(this._oldDataSource=JSON.parse(JSON.stringify(this._newDataSource)),this.dataSource(this._newDataSource)),this._persistValues(this.model.checkedNodes,"checkedNodes")}},_executeDataQuery:function(t,o,l){var p,g,b;if(p=s.Query(),p=this._columnToSelect(t),!s.isNullOrUndefined(o)&&""!=o){for(g=a.extend(!0,[],p._params),p._params=[],p.addParams(o,l),b=0;b<g.length;b++)g[b].key!=o&&p.addParams(g[b].key,g[b].value);p.where(o,s.FilterOperators.equal,l)}return t.dataSource.executeQuery(p)},_createChildNodesWhenExpand:function(t,o,l,p,g,b){var C,T,D,L,I,R,V,A;if(t.length>0&&0==t.find("ul .e-item").length){if(C=t.attr("id"),T=t.children("div").find(".e-text:first").text(),L=t.children("div").find("div.e-plus:first"),D={currentElement:t,targetElement:L[0],id:C,value:T,isChildLoaded:!1,hasParent:!0,async:!1},V=this,this._isEventTriggered=!0,this._triggerEvent("beforeExpand",D))return!1;if(this.dataSource()instanceof s.DataManager){if(I=D.currentElement.parents("ul.e-treeview-ul").length,R=this._getChildTables(this.model.fields,I,1),s.isNullOrUndefined(R)&&s.isNullOrUndefined(this.model.fields.child)&&(R=this.model.fields),!R)return void(a(D.targetElement).hasClass("e-load")&&a(D.targetElement).removeClass(a(D.targetElement).hasClass("e-plus")||a(D.targetElement).hasClass("e-minus")?"e-load":"e-icon e-load"));R.query&&R.query.queries.length>0&&(R.query.queries=[]),this._treeList.push("false"),this._executeDataQuery(R,R.parentId,"number"==this._typeOfFieldId?parseInt(D.currentElement[0].id):D.currentElement[0].id).done(function(z){if(V._treeList.pop(),(A=V._getSortAndFilterList(R,A=z.xhr&&z.xhr.responseJSON&&z.xhr.responseJSON.d?z.xhr.responseJSON.d:z.result?z.result:[])).length>0){var N=s.getObject(R.parentId,A[0]);V._updateRemoteData(V._newDataSource,N,A,V.model.fields)}V._appendChild(A,t,R,o,l,p),l&&V._expandByLevel(t.find("> ul"),l-1,p),0==V._treeList.length&&(g&&V._doAfterExpand(t,g,b),V._completeRendering()),0==V._parentLevelDropChecking.find("ul .e-item").length&&a(V._parentLevelDropChecking).find("> div > .e-icon").remove()})}else A=this._getChildNodes(this._dataSource,{id:t[0].id}),this._appendChild(A,t,this.model.fields,o,l,p)}else this._expandNode(t)},_appendChild:function(t,o,l,p,g,b){var C,T,D;if(!s.isNullOrUndefined(t)&&t.length>0){if(this._checkboxChecked=o.find("> div > .e-chkbox-wrap > .nodecheckbox").hasClass("checked"),this._loadOnDemandNodes=!0,0==o.find("ul .e-item").length&&(this._templateNodeCreation(t,l),o.append(this._fragment)),this._finalizeLoadOnDemand(o),this._expandNode(o),p&&!g&&!b)for(T=0,D=(C=o.find(".e-item > div > .e-plus").closest(".e-item")).length;T<D;T++)this._createChildNodesWhenExpand(a(C[T]),!0,null,b)}else p&&o.find("> div > .e-plus").removeClass("e-plus e-icon")},_getSortAndFilterList:function(t,o){var l,p;return!o||!o.length||o.length<1?l=[]:this.model.sortSettings.allowSorting?(p=s.Query(),this._addSortingQuery(p,t),l=s.DataManager(o).executeLocal(p)):l=o,l},_addSortingQuery:function(t,o){t.sortBy(o&&o.text?o.text:"text",this.model.sortSettings.sortOrder==s.sortOrder.Descending)},_expandNode:function(t){var o;return null!=t[0]&&t.length>0&&(o=t.find("> div > div:first"),this.model.loadOnDemand&&!this.model.enablePersistence?t.find("> ul > .e-item").length>0&&o.hasClass("e-plus")?(this.model.enableMultipleExpand||this._denyMultipleExpand(t),this._expandCollapseAction(t.find("> div > div.e-plus:first"))):o.hasClass("e-icon")&&!o.hasClass("e-minus")&&this._allowOnDemand&&this._createChildNodesWhenExpand(t):o.hasClass("e-plus")&&t.find("> ul > .e-item").length>0&&(this.model.enableMultipleExpand||this._denyMultipleExpand(t),this._expandCollapseAction(o))),!0},_collapseNode:function(t){if(null!=t[0]&&t.length>0&&t.find("> ul > .e-item").length>0){var o=t.find("> div > div:first");o.hasClass("e-minus")&&this._expandCollapseAction(o)}},_getElement:function(){return this.element.is("UL")?this.element:this.element.find("> ul")},_getImmediateChild:function(t,o){return t.find(o?"> .e-item:not(:hidden)":"> .e-item")},_expandByLevel:function(t,o,l){o>0&&this._expandByNode(this._getImmediateChild(t,l),o,l)},_expandByNode:function(t,o,l){for(var p=0,g=t.length;p<g;p++)a(t[p]).find("> div > div").hasClass("e-plus")&&(this.model.loadOnDemand?this._createChildNodesWhenExpand(a(t[p]),!0,o,l):this._expandNode(a(t[p]))),this._expandByLevel(a(t[p]).find("> ul"),o-1,l)},_expandAll:function(t){var l,p,g;if(g=this.element.find(t?".e-item > div > .e-plus:not(:hidden)":".e-item > div > .e-plus").closest(".e-item"),this.model.loadOnDemand)for(l=0,p=g.length;l<p;l++)this._createChildNodesWhenExpand(a(g[l]),!0,null,t);else for(l=0,p=g.length;l<p;l++)this._expandNode(a(g[l]))},_collapseByLevel:function(t,o,l){o>0&&this._collapseByNode(this._getImmediateChild(t,l),o,l)},_collapseByNode:function(t,o,l){for(var p=0,g=t.length;p<g;p++)a(t[p]).find("> div > div").hasClass("e-minus")&&this._collapseNode(a(t[p])),this._collapseByLevel(a(t[p]).find("> ul"),o-1,l)},_collapseAll:function(t){var l,p,g;if((p=this.element.find(t?".e-item > div > .e-minus:not(:hidden)":".e-item > div > .e-minus").closest(".e-item")).length>0)for(l=0,g=p.length;l<g;l++)this._collapseNode(a(p[l]))},_checkAll:function(){var o,l,p;for(this._CurrenctSelectedNodes=[],(o=this.element.find(".e-item > div > .e-chkbox-wrap > .nodecheckbox")).addClass("checked"),l=0,p=o.length;l<p;l++)a(o[l]).ejCheckBox("setModel",{checked:!0}),this._addHiddenInputElement(o[l],a(o[l]).parent().siblings(".e-text")[0].lastChild.nodeValue);this.model.checkedNodes=this.getCheckedNodesIndex()},_uncheckAll:function(){var o,l,p;for((o=this.element.find(".e-item > div > .e-chkbox-wrap > .nodecheckbox")).removeClass("checked").children().remove(),l=0,p=o.length;l<p;l++)a(o[l]).ejCheckBox("setModel",{checked:!1});this.model.checkedNodes=[],this.model.checkedNodes.push(-1)},_selectAll:function(){var t,o,l,p;for(this._isRender=!1,t={ctrlKey:!0},o=0,l=this._liList.length;o<l&&(null!=(p=a(this._liList[o]))[0]&&this._nodeSelectionAction(p,t),this.model.allowMultiSelection);o++);this._isRender=!0},_unselectAll:function(){this.element.find("a.e-text.e-active").removeClass("e-node-focus e-active"),this.element.find("[aria-selected=true]").attr("aria-selected",!1),this.element.find(".e-li-active").removeClass("e-li-active"),this.element.find(".e-li-focus").removeClass("e-li-focus"),this.element.find(".e-node-focus").removeClass("e-node-focus"),this.model.selectedNodes=[],this.model.enablePersistence&&this._persistValues(this.model.selectedNodes,"selectedNodes")},_isNodeExpanded:function(t){if(null!=t[0])return t.children("ul:first").length>0&&t.find("> div > div.e-minus").length>0},_showCheckBox:function(){for(var t=this.element,o=t.find("li"),l=0;l<o.length;l++)this._checkboxOnTemplate(o[l].children[0]);t.find(".e-item > div > .nodecheckbox").ejCheckBox({cssClass:this.model.cssClass,change:this._checkedChange}),t.find(".e-item.e-node-disable > div > .e-chkbox-wrap > .nodecheckbox").ejCheckBox("disable")},_drag:function(){var t,C,o=!1,l=s.browserInfo(),p=null,g=null,b=null;C="msie"==l.name&&"8.0"==l.version,this.element.is("ul")?(this._treeView=this.element.parent(),this.model.allowDragAndDropAcrossControl||(b=this.element.parent())):(this._treeView=this.element,this.model.allowDragAndDropAcrossControl||(b=this.element)),a(this._treeView).find("ul li div a").not(".e-js").ejDraggable({autoScroll:!0,dragArea:b,clone:!0,dragStart:function(T){if(!t||s.isNullOrUndefined(T.target)||a(T.target).hasClass("e-node-disable")||0!=t.element.find(".e-item > div > .e-text.e-editable").length||(T.element.attr("aria-grabbed",!0),t.element.closest(".e-treeview-wrap").addClass("e-dragging"),a(T.target).is("A")&&!a(T.target).hasClass("e-draggable")))return!1;C&&(document.ondragstart=function(){return!1});var D={target:a(T.target).closest(".e-item"),targetElementData:t._getNodeDetails(a(T.target).closest(".e-item")),dragTarget:T.target,parentElement:a(T.target).closest("ul").closest(".e-item"),parentElementData:t._getNodeDetails(a(T.target).closest("ul").closest(".e-item")),event:T.event};return t._triggerEvent("nodeDragStart",D)?(T.cancel=!0,p&&p.remove(),!1):void 0},drag:function(T){var D,L,I,R,V,F,A;return o=!1,a(T.target).hasClass("e-sibling")&&(T.target=T.target.parentElement),a(".e-sibling").remove(),L=t._findTarget(a(D=T.target)),a(D).closest(".e-treeview-wrap").addClass("e-dragging"),R=(R=a(D).closest(".e-treeview.e-js").data("ejTreeView"))||t,a(p).css({"margin-top":T.event.clientY-20<0?"0px":"10px"}),null!=a(D).closest(".e-treeview.e-js")&&(V=a(D).closest(".e-treeview.e-js").data("ejTreeView")),I=V?{draggedElement:a(T.element).closest(".e-item"),draggedElementData:t._getNodeDetails(a(T.element).closest(".e-item")),dragTarget:D,target:L,targetElementData:V._getNodeDetails(L),event:T.event}:{draggedElement:a(T.element).closest(".e-item"),draggedElementData:t._getNodeDetails(a(T.element).closest(".e-item")),dragTarget:D,target:L,targetElementData:t._getNodeDetails(L),event:T.event},(0==a(T.element).parent().parent().has(a(D)).length||t.model.allowMultiSelection&&t.model.selectedNodes.length>1)&&(a(D).hasClass("e-droppable")||a(D).parent().hasClass("e-droppable"))&&a(D).hasClass("e-dropchild")&&!a(D).hasClass("e-node-disable")&&(t.model.allowDragAndDropAcrossControl||!t.model.allowDragAndDropAcrossControl&&a(D).parents(".e-treeview").is(t.element))?(document.body.style.cursor="",a(p).find("span.e-dropedStatus").removeClass().addClass("e-dropedStatus e-icon e-plus"),a(D).addClass("allowDrop")):R.model.allowDropChild&&R.model.allowDropSibling&&(a(D).hasClass("e-droppable")&&!a(D).hasClass("e-item")&&!a(D).hasClass("e-text")||a(D).is("UL")&&a(D).hasClass("e-ul")&&0==a(D).find(".e-item").length&&a(D).parent(".e-treeview-wrap").length>0)?(document.body.style.cursor="",a(p).find("span.e-dropedStatus").removeClass().addClass("e-dropedStatus e-icon e-plus")):(a(D).hasClass("e-sibling")||a(D).find("a").hasClass("e-text"))&&(a(D).hasClass("e-sibling")||a(D).parent().parent().hasClass("e-item")||a(D).parent().hasClass("e-item")||a(D).hasClass("e-item")||a(D).hasClass("e-text"))&&("LI"!=D.nodeName.toUpperCase()&&(null===D.parentElement||"LI"!=D.parentElement.nodeName.toUpperCase())||R.model.allowDropSibling)&&(t.model.allowDragAndDropAcrossControl||a(D).parents(".e-treeview").is(t.element))||(document.body.style.cursor="not-allowed",a(p).find("span.e-dropedStatus").removeClass().addClass("e-dropedStatus e-icon e-minus"),a(D).removeClass("showline-hover"),a(D).removeClass("noline-hover")),"A"!=D.nodeName&&(0==a(T.element).parent().parent().has(a(D)).length||t.model.allowMultiSelection&&t.model.selectedNodes.length>1)&&a(T.element).parent().parent()[0]!=a(D)[0]?("UL"==D.nodeName&&null!=a(D).children()[0]&&(D=a(D).children()[0],o=!0),"LI"!=D.nodeName&&(D=a(D).closest(".e-droppable")[0]||a(D).parent()),"LI"==D.nodeName&&a(D).hasClass("e-droppable")&&a(D).hasClass("e-dropsibling")&&(t.model.allowDragAndDropAcrossControl||!t.model.allowDragAndDropAcrossControl&&a(D).parents(".e-treeview").is(t.element))?(F=s.buildTag("div.e-sibling"),A=a(D).offset().top+a(D).find("a").height()||-1,(o=!(T.event.pageY>A))?F.insertBefore(a(D).find("> div > a").parent()):F.insertAfter(a(D).find("> div > a").parent()),a(D).parents().hasClass("e-rtl")?(document.body.style.cursor="",a(p).find("span.e-dropedStatus").removeClass().addClass("e-dropedStatus e-icon e-insertInbetween-rtl")):(document.body.style.cursor="",a(p).find("span.e-dropedStatus").removeClass().addClass("e-dropedStatus e-icon e-insertInbetween"))):"A"==D.nodeName&&a(D)&&a(D).hasClass("e-droppable")&&a(D).hasClass("e-dropchild")?(document.body.style.cursor="",a(p).find("span.e-dropedStatus").removeClass().addClass("e-dropedStatus e-icon e-plus"),a(D).addClass("allowDrop")):!a(D).hasClass("e-droppable")||a(D).hasClass("e-item")||a(D).hasClass("e-text")||(document.body.style.cursor="",a(p).find("span.e-dropedStatus").removeClass().addClass("e-dropedStatus e-icon e-plus"))):((1==a(T.element).parent().parent().has(a(D)).length||a(T.element).parent().parent().is(a(D)))&&(!t.model.allowMultiSelection||t.model.allowMultiSelection&&t.model.selectedNodes.length<=1)&&(document.body.style.cursor="not-allowed",a(p).find("span.e-dropedStatus").removeClass().addClass("e-dropedStatus e-icon e-minus")),a(".e-sibling").remove()),!t._triggerEvent("nodeDrag",I)&&void 0},dragStop:function(T){var D,L,I,R,V,F,A,z,N;if(C&&(document.ondragstart=function(){return!0}),T.element.dropped||(p&&p.remove(),document.body.style.cursor=""),a(D=T.target).closest(".e-treeview-wrap").removeClass("e-dragging"),t.element.closest(".e-treeview-wrap").removeClass("e-dragging"),"e-sibling"==D.className&&(D=a(D).closest(".e-item")[0]),a(".e-sibling").remove(),a(D).hasClass("e-node-disable")||(L=o?"Before":"After",R=t._findTarget(a(D)),L="A"==D.nodeName?"Over":L,null!=a(D).closest(".e-treeview.e-js")&&(V=a(D).closest(".e-treeview.e-js").data("ejTreeView")),I=V?{draggedElementData:t._getNodeDetails(a(T.element).closest(".e-item")),draggedElement:a(T.element).closest(".e-item"),dropTarget:a(D),target:R,targetElementData:V._getNodeDetails(R),position:L,event:T.event,preventTargetExpand:!1}:{draggedElementData:t._getNodeDetails(a(T.element).closest(".e-item")),draggedElement:a(T.element).closest(".e-item"),dropTarget:a(D),target:R,targetElementData:t._getNodeDetails(R),position:L,event:T.event,preventTargetExpand:!1},t._triggerEvent("nodeDragStop",I)))return!1;if(F=t._isParentExpand(D),t.model.allowMultiSelection&&a(T.element).hasClass("e-active"))for(z=0,N=(A=t.element.find(".e-item > div > .e-active")).length;z<N;z++)T.element=A[z],"After"==(L=t._dropNode(D,T,L,o))&&a(D).closest(".e-treeview.e-js").length&&(D="LI"==D.nodeName.toUpperCase()?D.nextElementSibling:D.closest("li").nextElementSibling);else L=t._dropNode(D,T,L,o);if(I.preventTargetExpand&&!F&&t._preventParentNode(D),a(".allowDrop").removeClass("allowDrop"),a(T.element).attr("aria-grabbed",!1),a(D).hasClass("e-dropchild")||p&&p.remove(),R=t._findTarget(a(D)),I=V?{droppedElementData:V._getNodeDetails(a(T.element).closest(".e-item")),droppedElement:a(T.element).closest(".e-item"),dropTarget:a(D),target:R,targetElementData:V._getNodeDetails(R),position:L,event:T.event}:{droppedElementData:t._getNodeDetails(a(T.element).closest(".e-item")),droppedElement:a(T.element).closest(".e-item"),dropTarget:a(D),target:R,targetElementData:t._getNodeDetails(R),position:L,event:T.event},t._triggerEvent("nodeDropped",I))return!1;document.body.style.cursor=""},helper:function(T){var D,I,R;if(!s.isNullOrUndefined(T.element)&&!a(T.element).hasClass("e-node-disable")&&a(T.element).hasClass("e-draggable")&&(t=a(T.element).closest(".e-treeview.e-js").data("ejTreeView")))return p=s.buildTag("div.e-dragedNode e-widget"),D=s.util.getZindexPartial(t.element),p.css({"z-index":D}),p.addClass(t.model.cssClass+(t.model.enableRTL?" e-rtl":"")),I=t.element.find(".e-item > div > .e-active").length,g=a(T.element).clone().addClass("dragClone"),this.spanEle=s.buildTag("span.e-icon e-plus e-dropedStatus"),p.append(this.spanEle),p.append(g),R=s.buildTag("span.e-drop-count",I),I>1&&t.model.allowMultiSelection&&a(T.element).hasClass("e-active")&&p.append(R),p.appendTo(a("body"))}})},_isParentExpand:function(t){var o=a(t).closest(".e-item"),l=!1;return o.length>0&&"true"==o[0].getAttribute("aria-expanded")&&(l=!0),l},_preventParentNode:function(t){var p,o=a(t).closest(".e-item"),l=a(o[0]).find(".e-treeview-ul");a(l).css("display","none"),o.length>0&&(o[0].setAttribute("aria-expanded",!1),p=a(o).find(".e-minus"),a(p).removeClass("e-minus").addClass("e-plus"))},_dropNode:function(t,o,l,p){var g=a(t).closest(".e-treeview.e-js").data("ejTreeView");return"A"==t.nodeName&&a(t).hasClass("e-dropchild")&&a(t).hasClass("e-droppable")||"UL"==t.nodeName&&0==a(t).children().length?(l="Over",a(t).is("UL")&&a(t).hasClass("e-ul")&&0==a(t).find(".e-item").length&&a(t).parent(".e-treeview-wrap").length>0&&g.model.allowDropChild?this._dropAsChildNode(a(t),a(o.element),o.event):g.model.allowDropChild&&0==a(o.element).parent().parent().has(a(t)).length&&(0==a(t).parent().parent().has(a(o.element)).length||this._isDescendant(a(t).parents("li:last").find(">ul>li"),a(o.element).parents("li:first")[0]))&&(this.model.allowDragAndDropAcrossControl||!this.model.allowDragAndDropAcrossControl&&a(t).parents(".e-treeview").is(this.element))&&this._dropAsChildNode(a(t).closest(".e-item"),a(o.element),o.event)):("UL"==t.nodeName&&(t=a(t).children()[0]),"LI"!=t.nodeName&&(t=a(t).closest(".e-droppable")[0]||a(t).parent()),"LI"==t.nodeName&&a(t).hasClass("e-dropsibling")&&a(t).hasClass("e-droppable")?g.model.allowDropSibling&&a(o.element).parent().parent().has(a(t)).length<1&&a(o.element).parent().parent()[0]!=a(t)[0]&&(this.model.allowDragAndDropAcrossControl||!this.model.allowDragAndDropAcrossControl&&a(t).parents(".e-treeview").is(this.element))&&this._dropAsSiblingNode(a(t),a(o.element),p,o.event):"A"==t.nodeName&&a(t).hasClass("e-dropchild")&&a(t).hasClass("e-droppable")&&(l="Over",g.model.allowDropChild&&0==a(o.element).parent().parent().has(a(t)).length&&(0==a(t).parent().parent().has(a(o.element)).length||this._isDescendant(a(t).parents("li:last").find(">ul>li"),a(o.element).parents("li:first")[0]))&&this._dropAsChildNode(a(t).closest(".e-item"),a(o.element),o.event))),l},_findTarget:function(t){return t.hasClass("e-text")||t.parents("a").hasClass("e-text")?t.closest(".e-item"):t.closest("ul").closest(".e-item").length>0?t.closest("ul").closest(".e-item"):this.element.find(t).length>0&&!this.model.template?t.parents("ul").first():this.element.find(t).length>0&&this.model.template?t.closest(".e-text").length>0?t.closest(".e-item"):t.parents("ul").first():t},_isDescendant:function(t,o){var l=!0;return a(t).each(function(p,g){if(g==o)return l=!1,!1;l=!0}),l},_childDrop:function(){a(this._treeView).find("ul .e-item div .e-text").ejDroppable({accept:a(this._treeView).find("ul .e-item div .e-text").addClass("e-dropchild"),drop:function(t,o){a(o.helper).hide()}})},_siblingDrop:function(){a(this._treeView).find("ul .e-item").addClass("e-dropsibling").ejDroppable({drop:function(t,o){a(o.helper).hide()}})},_dropAsSiblingNode:function(t,o,l){var g,p=o.parent().parent();p=a(p),g=a(o.parents(".e-item")[1]),s.isNullOrUndefined(this.model.fields)||null==this.dataSource()||this.dataSource()instanceof s.DataManager||this._updateDataSource(o.parents(".e-item:first"),a(t),l,this),l?p.insertBefore(t):p.insertAfter(t),this.model.template||this._autoGenerateNodes(o.parents(".e-item:first")),this._modifyCss(g),this._isRender=!1,this._updateCheckState(p),this._updateCheckState(g),this._isRender=!0,p.find("> div > .e-minus").length>0&&!this.model.enableMultipleExpand&&this._denyMultipleExpand(p),this._updateChanges(a(t))},_dropAsChildNode:function(t,o){var p,l=o.parent().parent();l=a(l),p=this._parentLevelDropChecking=a(o.parents(".e-item")[1]),a(t).is("UL")?a(t).append(l):this._appendNode(t,l),s.isNullOrUndefined(this.model.fields)||null==this.dataSource()||this.dataSource()instanceof s.DataManager||this._updateDataSource(o.parents(".e-item:first"),a(t).find("> div > .e-text").first(),"",this),this.model.template||this._autoGenerateNodes(o.parents(".e-item:first")),this._modifyCss(p),this._isRender=!1,this._updateCheckState(l),this._updateCheckState(p),this._isRender=!0,t.find("> div > .e-icon.e-plus:first").length>0&&this._expandNode(t),this._updateChanges(a(t))},_updateChanges:function(t){if(null!=a(t)[0]){var o=this,l=0;do{o._updateNodes(),1==l&&o._updateTarget(this),l++,o=t.closest(".e-treeview.e-js").data("ejTreeView")}while(o&&this._id!=o._id&&1==l)}},_updateTarget:function(t){this.model.allowDropChild!=t.model.allowDropChild&&(this.model.allowDropChild?this._childDrop():this._preventDropChild()),this.model.allowDropSibling!=t.model.allowDropSibling&&(this.model.allowDropSibling?this._siblingDrop():this._preventDropSibling())},_updatePersistProb:function(){var t,o,l,p,g,b,C,T;for(this._removeField(this._newDataSource,this.model.fields,"selected"),this._removeField(this._newDataSource,this.model.fields,"expanded"),this._removeField(this._newDataSource,this.model.fields,"isChecked"),o=0,l=(t=this.getSelectedNodes()).length;o<l;o++)this._updateField(this._newDataSource,a(t[o]).attr("id"),this.model.fields,"selected",!0);for(g=0,T=(p=this.getExpandedNodes()).length;g<T;g++)this._updateField(this._newDataSource,a(p[g]).attr("id"),this.model.fields,"expanded",!0);if(this.model.showCheckbox)for(C=0,T=(b=this.getCheckedNodes()).length;C<T;C++)this._updateField(this._newDataSource,a(b[C]).attr("id"),this.model.fields,"isChecked",!0)},_orderDataSource:function(){var t,o,l,p,g,b;if(this._beforeBaseClass(),this._updatePersistProb(),t=[],o=JSON.parse(JSON.stringify(this._newDataSource)),this.dataSource()instanceof s.DataManager&&2==this._templateType)return this._newDataSource;for(l=0,p=this._liList.length;l<p;l++)for(g=0,b=o.length;g<b;g++)a(document.getElementById(s.getObject(this.model.fields.id,o[g]))).length>0&&!s.isNullOrUndefined(o[g])&&!s.isNullOrUndefined(o[g][this.model.fields.id])&&o[g][this.model.fields.id].toString()==a(this._liList[l]).attr("id")&&(0==a(document.getElementById(s.getObject(this.model.fields.id,o[g]))).find("> ul .e-item").length?(this._deepPropertyDelete(this.model.fields.hasChild,o[g]),2==this._templateType&&delete o[g].child):1==this._templateType?s.createObject(this.model.fields.hasChild,!0,o[g]):this._updateChildData(o[g].child,this.model.fields),t.push(o[g]));return t},_updateDataSource:function(t,o,l,p){var g,b,C,T,D,L,I;null!=a(t)[0]&&null!=a(o)[0]&&(g=p,b=o.closest(".e-treeview.e-js").data("ejTreeView"),!g||!b||s.isNullOrUndefined(b.model.fields)||null==b.dataSource()||b.dataSource()instanceof s.DataManager||(o.is("A")?(C=o.closest(".e-item").attr("id"),T=(D=o.closest(".e-item").find("> ul > .e-item")).length>0?D.length:o.closest(".e-item").index()):(C=o.parents(".e-item:first").attr("id"),L=o.next(".e-item"),I=o.prev(".e-item"),T=L.length>0?T=I.length>0?L.index()-1:l?o.index():L.index():l?o.index():o.index()+1),b&&g._findAndUpdate(t.attr("id"),C,g._newDataSource,T,b,o,l)))},_removeObject:function(t,o,l){for(var p=0,g=t.length;p<g;p++)if(!s.isNullOrUndefined(t[p])&&!s.isNullOrUndefined(t[p][l])&&t[p][l].toString()==o){t.splice(p,1);break}},_getObjectPosition:function(t,o,l){for(var p,g=0,b=t.length;g<b;g++){if(!s.isNullOrUndefined(t[g])&&!s.isNullOrUndefined(t[g][l])&&t[g][l].toString()==o)return g;if(t[g].hasOwnProperty("child")&&(p=this._getObjectPosition(t[g].child,o,l))>=0)return p}return-1},_convertDataSourceTypes:function(t,o){for(var l=0;l<t.child.length;l++)s.createObject(this.model.fields.parentId,s.getObject(this.model.fields.id,t),t.child[l]),o.push(t.child[l]),t.child[l].hasOwnProperty("child")&&t.child[l].child.length>0&&this._convertDataSourceTypes(t.child[l],o);return t.child&&(delete t.child,s.createObject(this.model.fields.hasChild,!0,t)),o},_childObjectCollection:function(t,o,l,p){for(var g,b=0,C=t.length;b<C;b++)(g=this._getChildNodes(o,{id:s.getObject(this.model.fields.id,t[b])}))&&(2==p?(l[b].hasOwnProperty("child")||(l[b].child=[]),l[b].child=this._childObjectCollection(g,o,g,p)):(l=l.concat(g),l=this._childObjectCollection(g,o,l,p)));return l},_updateCopyData:function(t,o,l){var p=o.model.fields,g=l,b=JSON.parse(JSON.stringify(l[t])),C=this;return a.each(this.model.fields,function(D){("dataSource"!==D||"query"!==D)&&g[t][C.model.fields[D]]!==h&&(delete b[C.model.fields[D]],b[p[D]]=g[t][C.model.fields[D]])}),a.extend(undefined,b,!1)},_updateDataFields:function(t,o,l,p,g){for(var b=[],C=0,T=o.length;C<T;C++)1==g&&(this._removeObject(t,l,this.model.fields.parentId),this._deepPropertyDelete(this.model.fields.parentId,o[C]),this._deepPropertyDelete(this.model.fields.hasChild,o[C])),o[C].hasOwnProperty("child")&&(o[C].child=this._updateDataFields(t,o[C].child,s.getObject(this.model.fields.id,o[C]),p,g)),b.push(this._updateCopyData(C,p,o));return b},_deepPropertyDelete:function(t,o){if(!o||s.isNullOrUndefined(t))return h;var l=t.split(".");l.length>1?deepDelete(l.slice(1).join("."),o[l[0]]):delete o[t]},_findAndUpdate:function(t,o,l,p,g,b,C){var T,D,I,R,V,F,A,z,N,Q;if(!s.isNullOrUndefined(l))if(1==this._templateType){for(z=0,N=l.length;z<N;z++)if(T=s.getObject(this.model.fields.id,l[z]),!s.isNullOrUndefined(l[z])&&!s.isNullOrUndefined(T)&&T.toString()==t){if(this._id==g._id)s.isNullOrUndefined(o)?this._deepPropertyDelete(this.model.fields.parentId,l[z]):s.createObject(this.model.fields.parentId,o,l[z]),D=this.dataSource(),L=this,this._deepWatch&&(I=l.splice(z,1),(Q=this._getObjectPosition(D,b.attr("id"),this.model.fields.id))>=0&&!b.is("A")?l.splice(C?Q:Q+1,0,I[0]):l.push(I[0]),this._oldDataSource=JSON.parse(JSON.stringify(l)),this.dataSource(l)),this._templateType=this._getTemplateType(D,this.model.fields),this._dataSource=1==this._templateType?this._groupingObjects(D,function(ne){return[!s.isNullOrUndefined(ne)&&[s.getObject(L.model.fields.parentId,ne)].toString()]}):D;else{var oe,ue,le,U=[],L=this,J=[];if(ue=this._groupingObjects(l,function(ee){return[!s.isNullOrUndefined(ee)&&[s.getObject(L.model.fields.parentId,ee)].toString()]}),le=l.splice(z,1),U.push(this._updateCopyData(0,g,le)),(oe=this._getChildNodes(ue,{id:t}))&&oe.length>0&&(oe=this._childObjectCollection(oe,ue,oe,g._templateType)),2==g._templateType)oe&&oe.length>0&&(F=this._updateDataFields(l,oe,t,g,this._templateType),U[0].hasOwnProperty("child")||(U[0].child=[]),U[0].child=F),this._deepPropertyDelete(g.model.fields.parentId,U[0]),this._deepPropertyDelete(g.model.fields.hasChild,U[0]),g._deepWatch?(Q=(Q=this._getObjectPosition(g._newDataSource,b.attr("id"),g.model.fields.id))>=0&&!b.is("A")?C?Q:Q+1:p,o?g._changeObjectPos(o,U,g._newDataSource,Q):g._newDataSource.splice(Q,0,U[0])):o?g._changeObjectPos(o,U,g._newDataSource,p):g._newDataSource.splice(p,0,U[0]);else{if(oe&&oe.length>0){for(R=0,V=oe.length;R<V;R++)this._removeObject(l,s.getObject(this.model.fields.id,oe[R]),this.model.fields.id);this._dataSource=1==this._templateType?this._groupingObjects(l,function(ee){return[!s.isNullOrUndefined(ee)&&[s.getObject(L.model.fields.parentId,ee)].toString()]}):l}if(o?s.createObject(g.model.fields.parentId,o,U[0]):this._deepPropertyDelete(g.model.fields.parentId,U[0]),g._deepWatch&&(Q=this._getObjectPosition(g._newDataSource,b.attr("id"),g.model.fields.id))>=0&&!b.is("A")?g._newDataSource.splice(C?Q:Q+1,0,U[0]):g._newDataSource.push(U[0]),F=[],oe&&oe.length>0){if(!(this.dataSource()instanceof s.DataManager)){for(z=0;z<oe.length;z++)F.push(this._updateCopyData(z,g,oe));oe=F}A=g._newDataSource=g._newDataSource.concat(oe),g._dataSource=1==g._templateType?g._groupingObjects(A,function(ee){return[!s.isNullOrUndefined(ee)&&[s.getObject(g.model.fields.parentId,ee)].toString()]}):A}}g._deepWatch&&(g.dataSource(g._newDataSource),g._oldDataSource=JSON.parse(JSON.stringify(g._newDataSource))),this._deepWatch&&(this._oldDataSource=JSON.parse(JSON.stringify(this._newDataSource)),this.dataSource(this._newDataSource))}break}}else for(z=0,N=l.length;z<N;z++){if(s.getObject(this.model.fields.id,l[z]).toString()==t)return U=l.splice(z,1),this._id==g._id?this._deepWatch?(Q=(Q=this._getObjectPosition(this._newDataSource,b.attr("id"),this.model.fields.id))>=0&&!b.is("A")?C?Q:Q+1:p,o?this._changeObjectPos(o,U,this._newDataSource,Q):this._newDataSource.splice(Q,0,U[0]),this._oldDataSource=JSON.parse(JSON.stringify(this._newDataSource)),this.dataSource(this._newDataSource)):o?this._changeObjectPos(o,U,this._newDataSource,p):this._newDataSource.splice(p,0,U[0]):(U=this._updateDataFields(l,U,t,g,this._templateType),1==g._templateType?(J=[],U[0].hasOwnProperty("child")?(J=g._convertDataSourceTypes(U[0],J),U[0]=U.concat(J)):U[0]=U.concat(),o?s.createObject(g.model.fields.parentId,o,U[0][0]):this._deepPropertyDelete(g.model.fields.parentId,U[0][0]),g._deepWatch?((Q=this._getObjectPosition(g._newDataSource,b.attr("id"),g.model.fields.id))>=0&&!b.is("A")?g._newDataSource.splice(C?Q:Q+1,0,U[0][0]):g._newDataSource.push(U[0][0]),g._newDataSource=g._newDataSource.concat(J)):g._newDataSource=g._newDataSource.concat(U[0])):g._deepWatch?(Q=(Q=this._getObjectPosition(g._newDataSource,b.attr("id"),g.model.fields.id))>=0&&!b.is("A")?C?Q:Q+1:p,o?g._changeObjectPos(o,U,g._newDataSource,Q):g._newDataSource.splice(Q,0,U[0])):o?g._changeObjectPos(o,U,g._newDataSource,p):g._newDataSource.splice(p,0,U[0]),g._deepWatch&&(g.dataSource(g._newDataSource),g._oldDataSource=JSON.parse(JSON.stringify(g._newDataSource))),this._deepWatch&&(this._oldDataSource=JSON.parse(JSON.stringify(this._newDataSource)),this.dataSource(this._newDataSource))),!0;if(l[z].hasOwnProperty("child")&&this._findAndUpdate(t,o,l[z].child,p,g,b,C))break}},_changeObjectPos:function(t,o,l,p){for(var g=0,b=l.length;g<b;g++){if(s.getObject(this.model.fields.id,l[g]).toString()==t)return l[g].hasOwnProperty("child")?l[g].child.splice(p,0,o[0]):(l[g].child=[],l[g].child.push(o[0])),!0;if(l[g].hasOwnProperty("child")&&this._changeObjectPos(t,o,l[g].child,p))break}},_finalizeEditing:function(t){if(null!=a(t)[0]){var o=t.closest(".e-treeview.e-js").data("ejTreeView");o&&(o._preventEditable(),o.model.allowEditing&&o._allowEditable())}},_updateCheckState:function(t){var o,p;this._isTreeElement(t)&&(o=t.closest(".e-treeview.e-js").data("ejTreeView"))&&o.model.showCheckbox&&(t.children("ul").find(".e-item > div > .e-chkbox-wrap > .checked").closest(".e-item").addClass("checked").length>0?o._isCheckedAction():(p=o.isNodeChecked(t)?"_nodeCheck":"_nodeUncheck",o[p](t.find("> div > .e-chkbox-wrap > .nodecheckbox:first")[0])))},_autoGenerateNodes:function(t){var o,l,p,g;if(null!=a(t)[0])if((o=t.closest(".e-treeview.e-js").data("ejTreeView"))&&o.model.showCheckbox){if(0==t.find(".e-chkbox-wrap").length){for(this._checkboxOnTemplate(t[0].children[0]),p=0,g=(l=t.find(".e-item")).length;p<g;p++)this._checkboxOnTemplate(l[p].children[0]);t.find(".nodecheckbox").ejCheckBox({cssClass:o.model.cssClass,change:o._checkedChange})}}else t.find(".e-chkbox-wrap").remove()},_appendNode:function(t,o){var l,p,g,C;for(this._isTreeElement(t)?(null==t.find("ul.e-treeview-ul")[0]?((l=t.closest(".e-treeview.e-js").data("ejTreeView"))&&!this._isNodeExpanded(t)&&l.model.loadOnDemand&&t.find("> div > div").first().hasClass("e-plus")&&l._createChildNodesWhenExpand(t,null,null,null,o,l),this.dataSource()instanceof s.DataManager&&l.model.loadOnDemand&&t.find("> div > div").first().hasClass("e-plus")||this._doAfterExpand(t,o,l),this._deepWatch&&1==this._templateType&&(this._updateField(this._newDataSource,t.attr("id"),this.model.fields,"hasChild",!0),this._oldDataSource=JSON.parse(JSON.stringify(this._newDataSource)),this.dataSource(this._newDataSource))):a(t.find("ul.e-treeview-ul")[0]).append(o),this.isDisabled(t)||this._expandNode(t)):this.element.is("UL")?this.element.append(o):this.element.children("ul:first").length>0?this.element.children("ul:first").append(o):((p=s.buildTag("ul.e-treeview-ul","",{},{role:"group"})).append(o),this.element.append(p)),g=this.element.find(".e-item.expanded"),C=0;C<g.length;C++)!this.model.loadOnDemand||this.dataSource()instanceof s.DataManager?this._expandNode(a(g[C])):this._createChildNodesWhenExpand(a(g[C]));g.removeClass("expanded"),this.model.showCheckbox&&this._isCheckedAction()},_doAfterExpand:function(t,o,l){var g,p=s.buildTag("ul.e-treeview-ul","",{},{role:"group",style:"display:none"});a(p).append(a(o)),0==a(t.find("div")[1]).length?((g=document.createElement("div")).setAttribute("role","presentation"),g.className="e-icon e-minus",a(t.find("div")).append(a(g))):a(t.find("div")[1]).hasClass("e-minus")||a(t.find("div")[1]).addClass("e-icon e-plus"),l&&l.model.loadOnDemand&&t.find("ul.e-treeview-ul").length>0?t.children("ul.e-treeview-ul").append(a(o)):t.append(a(p))},_modifyCss:function(t){null!=(t=a(t))[0]&&0==t.find(".e-item").length&&(t.removeClass("e-collapse").attr("aria-expanded",!1).find("> div > .e-icon").removeClass("e-icon e-minus").closest(".e-item").find("ul").remove(),this._deepWatch&&(this._updateField(this._newDataSource,t.attr("id"),this.model.fields,"expanded",!1),1==this._templateType&&this._updateField(this._newDataSource,t.attr("id"),this.model.fields,"hasChild",!1),this._oldDataSource=JSON.parse(JSON.stringify(this._newDataSource)),this.dataSource(this._newDataSource)))},_applyFirstLastChildClass:function(){a(this._liList).removeClass("first last").filter(":first-child:not(:last-child)").addClass("first"),a(this._liList).filter(":last-child").addClass("last")},_expandEventHandler:function(t){var l,p,o=a(t.target);o.hasClass("e-icon")||o.closest(".e-item").hasClass("e-node-disable")||"dblclick"===t.type&&this.model.allowEditing||(t.preventDefault(),l=o.is("A")?a(o.siblings("div")):a(o.parents(".e-text-wrap").find("div")),this.model.fullRowSelect&&(o.is("div.e-text-wrap")||o.is("div.e-fullrow"))&&(l=o.closest(".e-item").find("> .e-text-wrap > div")),p=o.closest(".e-item"),l.hasClass("e-minus")?this._collapseNode(p):this.model.loadOnDemand&&0==l.find(".e-item").length?this._ClickEventHandler({target:l[0]}):this._expandNode(p))},_inlineEdit:function(t){t.preventDefault();var o=a(t.target);return o.hasClass("input-text")||o.hasClass("e-node-disable")||(o.is("A")||(o=o.closest(".e-text")),o.is("A")&&!o.hasClass("e-node-disable")&&this._inlineEditAction(o)),!1},_inlineEditAction:function(t){null==this.element.find(".e-item > div > .e-text > #Edit_Input")[0]&&this._createEditTextBox(t)},_createEditTextBox:function(t){var l,g,b,C;return!this._triggerEvent("beforeEdit",{currentElement:t})&&(null==(l=this.element.find(".e-item > div > .e-text > #Edit_Input"))[0]&&(g=s.buildTag("Input.input-text#Edit_Input","","",{type:"text",value:a.trim(t.text()).replace(/\n\s+/g," "),name:"inplace_value"}),a(g).css("width",t.outerWidth()+5+"px"),a(g).css("height",t.outerHeight()+"px"),g.addClass("e-tree-input e-textbox"),this._beforeEditText=t.text(),t[0].lastChild.nodeValue="",this.model.template&&(b=t.closest("li")[0].id,C=this._getNodeObject(b,!0),t[0].innerHTML=" ",C&&0!=C.length&&(g[0].value=C[0]!=h?C[0]:"",a(g).css("width",t.outerWidth()+80+"px"),a(g).css("height",t.outerHeight()+10+"px"))),t.addClass("e-editable").append(g),""==(l=g).val().length||t.outerWidth(),this._mousePositionAtEnd(l),this._currentEditableNode=t,this._on(l,"keypress",this._editTextBoxKeyPress)._on(l,"keydown",this,this._pressEscKey)._on(l,"mousedown pointerdown MSPointerDown",this,this._preventPropagation)._on(l,this.model.expandOn,this,this._preventPropagation)._on(l,"blur",this._focusout)),l)},_preventPropagation:function(t){t.stopImmediatePropagation(),this._isTextbox=!0},_editTextBoxKeyPress:function(t){t.target.size=t.target.value.length+1},_mousePositionAtEnd:function(t){return t.focus&&t.focus(),t.select&&t.select(),!0},_focusElement:function(t){var o,l;this._isTextbox||(t&&("touchstart"==t.type||"pointerdown"==t.type||"MSPointerDown"==t.type)&&(o=a(t.currentTarget)).hasClass("e-text")&&this.selectNode(o.closest(".e-item")),this.model.template?(l=a(t.target).closest(".e-text")[0],this._focusNode(l=l||t.target)):this._focusNode(t.target))},_blurElement:function(t){a(t.target).hasClass("e-text")&&t.target.removeAttribute("tabindex")},_focusout:function(t){var l,o=a(t.currentTarget);this._isTextbox=!1,l={id:o.closest(".e-item").attr("id"),oldText:this._beforeEditText,newText:o.val()},this._triggerEvent("inlineEditValidation",l)?this._cancelAction(o):this._saveAction(o,t)},_pressEscKey:function(t){var o,l,p;t.cancelBubble=!0,t.returnValue=!1,null!=(o=a(t.currentTarget))[0]&&(l=o.closest(".e-text")[0],13==t.keyCode&&(t.stopPropagation(),this._focusout(t)),27==t.keyCode&&this._cancelAction(o),(13==t.keyCode||27==t.keyCode)&&"msie"==(p=s.browserInfo()).name&&"8.0"==p.version&&this._focusNode(l))},_onFocusHandler:function(t){t.preventDefault()},_onKeyDown:function(t,o){var p,g;this.element.find("#"+this._id+"_active").removeAttr("id"),p=t.find("> div > .e-text:first"),g=o.find("> div > .e-text:first"),p.removeClass("e-node-focus"),g.addClass("e-node-focus"),this.element.removeAttr("aria-activedescendant"),null!=g.closest(".e-item")[0].id&&""!=g.closest(".e-item")[0].id?this.element.attr("aria-activedescendant",g.closest(".e-item")[0].id):(g.closest(".e-item").attr("id",this._id+"_active"),this.element.attr("aria-activedescendant",this._id+"_active")),this.model.fullRowSelect&&(t.removeClass("e-li-focus"),o.addClass("e-li-focus"))},_KeyPress:function(t){var o,p,g,b,C,T,D,L,I,R,V,F,A,z,N,U,J,l=this;if(U=this.element.is("ul")?this.element:this.element.find("> ul"),o=t.keyCode?t.keyCode:t.which?t.which:t.charCode,l.model.allowKeyboardNavigation&&l.element.find("#Edit_Input").length<1&&l.element.find(".e-chkbox-wrap.e-focus").length<1)if(this.element.find(".e-animate").removeClass("e-animate"),p=a(U.find(".e-item > div > .e-text.e-active").closest(".e-item")[0]),g=U.find(".e-item:visible"),l._focusedNode?(b=l._focusedNode,l._focusedNode=null):b=U.find(".e-text.e-node-focus").closest(".e-item"),113==o&&(t.preventDefault(),(U=b.length>0?b:p).length>0&&l.model.allowEditing&&!this.model.template&&(t.target=U.find("> div > .e-text:first"),l._inlineEdit(t))),40!=o||t.altKey)if(38!=o||t.altKey){if(39==o&&!this.model.enableRTL&&!t.altKey||37==o&&this.model.enableRTL)if(t.preventDefault(),A=(C=b.length>0?b.find("> div > div").first():p.find("> div > div").first()).closest(".e-item"),C.hasClass("e-plus"))this.model.loadOnDemand&&0==A.find("> ul .e-item").length?this._ClickEventHandler({target:C[0]}):this._expandNode(a(g[g.index(A)]));else{if(A=this._getNextEle(g,A),l._KeyPressEventHandler(A.length>0?A:"",l,o,t))return;(A.length>0&&A[0]==C.closest(".e-item").find("ul > .e-item:first")[0]||A.find("ul > .e-item").first().hasClass("e-node-disable"))&&l._onKeyDown(b,A)}else if(37==o&&!this.model.enableRTL&&!t.altKey||39==o&&this.model.enableRTL)if(t.preventDefault(),T=(D=b.length>0?b.find("> div > div").first():p.find("> div > div").first()).closest(".e-item"),D.hasClass("e-minus"))this._collapseNode(a(g[g.index(D.closest(".e-item"))]));else{if(T=a(g[g.index(T)]).closest("ul").closest(".e-item"),l._KeyPressEventHandler(T.length>0?T:"",l,o,t))return;T.length>0&&l._onKeyDown(b,T)}else if(36!=o||t.altKey){if(35!=o||t.altKey){if(13==o)t.preventDefault(),(V=(N=b.length>0?b:p).find("> div > .e-text")).removeClass("e-node-focus"),this.model.fullRowSelect&&N.removeClass("e-li-focus"),V.hasClass("e-active")?l.model.allowMultiSelection&&l._nodeUnSelectionAction(N,event):l._nodeSelectionAction(N,t),l._focusedNode=N;else if(32==o)t.preventDefault(),(N=b.length>0?b:p).length>0&&this.model.showCheckbox&&((F=N.find("> div > .e-chkbox-wrap > .nodecheckbox:first")[0]).checked?this._nodeUncheck(F):this._nodeCheck(F),l._focusedNode=N);else if(46==o)t.preventDefault(),(N=b.length>0?b:this.model.allowMultiSelection?U.find(".e-item > div > .e-text.e-active").closest(".e-item"):p).length>0&&(this._removeNode(N,t),A=a(g[0]).find("> div > .e-text:first"),this._focusNode(A[0]));else if(t&&1==t.ctrlKey)if(88==o&&this.model.allowDragAndDrop&&this.model.allowDropChild){if(t.preventDefault(),(N=b.length>0?b:p).length>0){if(z=N.parents(".e-item:first"),this._triggerEvent("beforeCut",{target:N,nodeDetails:this._getNodeDetails(N),keyCode:o,event:t}))return;this._cutNode=a(g[g.index(N)]).detach(),null!=a(this._cutNode)[0]&&(this._isRender=!1,this.unselectNode(N),0==z.find("> ul > .e-item").length&&(this.collapseNode(z),this._modifyCss(z)),this._isRender=!0,this._triggerEvent("nodeCut",{parentElement:z,parentDetails:this._getNodeDetails(z),keyCode:o,event:t}))}}else if(86==o&&null!=this._cutNode&&this.model.allowDragAndDrop&&this.model.allowDropChild){if(t.preventDefault(),0===(N=a(g[g.index(N=b.length>0?b:p)])).length&&(N=this.element),U=this._cutNode.find(" > div > .e-text").first(),a(g).length>0){if(this._triggerEvent("beforePaste",{target:N,nodeDetails:this._getNodeDetails(N),keyCode:o,event:t}))return;this._isRender=!1,this._dropAsChildNode(N,U,t),this._isRender=!0,this._cutNode=null,J=U.closest(".e-item"),this._triggerEvent("nodePaste",{target:J,nodeDetails:this._getNodeDetails(J),keyCode:o,event:t})}}else l.model.allowMultiSelection&&(l._focusedNode=b)}else if(t.preventDefault(),R=b.length>0?b:p,((I=a(g).last()).hasClass("e-node-disable")||I.hasClass("hidden"))&&(I=this._getPrevEle(g,I)),p.length>0&&0==b.length&&p[0]!=I[0]||b.length>0&&b[0]!=I[0]){if(l._KeyPressEventHandler(I,l,o,t))return;l._onKeyDown(R,I)}}else if(t.preventDefault(),R=b.length>0?b:p,((L=a(g).first()).hasClass("e-node-disable")||L.hasClass("hidden"))&&(L=this._getNextEle(g,L)),p.length>0&&0==b.length&&p[0]!=L[0]||b.length>0&&b[0]!=L[0]){if(l._KeyPressEventHandler(L,l,o,t))return;l._onKeyDown(R,L)}}else{if(t.preventDefault(),T=this._getPrevEle(g,R=b.length>0?b:p),l._KeyPressEventHandler(T.length>0?T:null,l,o,t))return;T.length>0&&l._onKeyDown(b,T)}else{if(t.preventDefault(),A=this._getNextEle(g,R=b.length>0?b:p),l._KeyPressEventHandler(A.length>0?A:null,l,o,t))return;A.length>0&&l._onKeyDown(b,A)}},_getNextEle:function(t,o){var p,l=t.index(o);do{l++,p=a(t[l])}while(p.hasClass("e-node-disable")||p.hasClass("hidden"));return p},_getPrevEle:function(t,o){var p,l=t.index(o);do{l--,p=a(t[l])}while(p.hasClass("e-node-disable")||p.hasClass("hidden"));return p},_removeChildNodes:function(t,o,l){for(var p,g,b,T,C=0,D=0;D<o.length;D++)if(p=s.getObject(this.model.fields.parentId,o[D][0]),!s.isNullOrUndefined(p)&&p.toString()==l){C=o[D].length;break}for(D=0;D<C;D++)for(g=0;g<t.length;g++)if(b=s.getObject(this.model.fields.parentId,t[g]),!s.isNullOrUndefined(b)&&b.toString()==l){s.isNullOrUndefined(t[g])||(T=s.getObject(this.model.fields.id,t[g]).toString()),t.splice(g,1),this._removeChildNodes(t,o,T);break}},_removeNode:function(t,o){var l,p,g,b,C;if(null!=t[0]&&null!=t[0]&&t.length>0){if(this,l=a(t[0]).closest("ul").closest(".e-item"),p=a(t[0]),(g=a(t).closest(".e-treeview.e-js").data("ejTreeView"))._triggerEvent("beforeDelete",{target:p,nodeDetails:g._getNodeDetails(p),parentElement:null!=l[0]?l:null,parentDetails:g._getNodeDetails(l),event:o,removedNodes:t})||(this._isRender=!1,this.dataSource()instanceof s.DataManager?this._removeData(t,C=this._newDataSource):!s.isNullOrUndefined(this.dataSource())&&this.dataSource().length>0&&(C=this.dataSource(),this._removeData(t,C),this._deepWatch&&(this._oldDataSource=JSON.parse(JSON.stringify(C)),this.dataSource(C))),t.remove(),this._modifyCss(l),this._updateNodes(),this._updateCheckState(l),this._isRender=!0,g._triggerEvent("nodeDelete",{parentElement:null!=l[0]?l:null,parentDetails:g._getNodeDetails(l),event:o,removedNodes:t})))return;b=this,C=this.dataSource(),setTimeout(function(){null==b.dataSource()||b.dataSource()instanceof s.DataManager||(b._dataSource=b._groupingObjects(C,function(T){return[!s.isNullOrUndefined(T)&&[s.getObject(b.model.fields.parentId,T)].toString()]}))},300)}},_removeData:function(t,o){for(var l=0,p=t.length;l<p;l++)2==this._templateType?this._removeRemoteData(o,a(t[l]),this.model.fields):this._removeLocalData(o,a(t[l]))},_removeLocalData:function(t,o){for(var l,p,g,b=this,C=0;C<t.length;C++)if(l=o.attr("id"),(p=s.getObject(this.model.fields.id,t[C]))&&p.toString()==l){g=this._groupingObjects(t,function(T){return[!s.isNullOrUndefined(T)&&[s.getObject(b.model.fields.parentId,T)].toString()]}),t.splice(C,1),this._removeChildNodes(t,g,l);break}},_removeRemoteData:function(t,o,l){for(var p,g,b=0;b<t.length;b++){if(p=o.attr("id"),(g=s.getObject(l.id,t[b]))&&g.toString()==p){t.splice(b,1);break}t[b].hasOwnProperty("child")&&this._removeRemoteData(t[b].child,o,l.child?l.child:l)}},_updateNodes:function(){this._beforeBaseClass(),this._applyFirstLastChildClass(),this._updateExpandedNodes(),this._updateCheckedNodes(),this._updateSelectedNode()},_updateField:function(t,o,l,p,g){var b,C,T,D,L;if(!(s.isNullOrUndefined(l)||null==this.dataSource()||s.isNullOrUndefined(t)||s.isNullOrUndefined(o)||s.isNullOrUndefined(p)))if(1==this._templateType){for(C=0,T=t.length;C<T;C++)if(b=s.getObject(l.id,t[C]),!s.isNullOrUndefined(t[C])&&!s.isNullOrUndefined(b)&&b.toString()==o){t[C][L=l[p]?l[p]:p]=g,0==g&&delete t[C][L],t.splice(C,1,t[C]);break}}else for(C=0,T=t.length;C<T;C++){if(D=s.getObject(l.id,t[C]),!s.isNullOrUndefined(t[C])&&!s.isNullOrUndefined(D)&&D.toString()==o){t[C][L=l[p]?l[p]:p]=g,0==g&&delete t[C][L],t.splice(C,1,t[C]);break}t[C].hasOwnProperty("child")&&this._updateField(t[C].child,o,l.child?l.child:l,p,g)}},_removeField:function(t,o,l){if(!s.isNullOrUndefined(o)&&null!=this.dataSource()&&!s.isNullOrUndefined(t))for(var p=0;p<t.length;p++)t[p][o[l]]!=h&&delete t[p][o[l]],t[p].hasOwnProperty("child")&&this._removeField(t[p].child,o.child?o.child:o,l)},_KeyPressEventHandler:function(t,o,l,p){var g,b,C,T;return null!=a(t)[0]?(T=this._isNodeExpanded(t),g=this._getNodeDetails(t),C=o._getPath(t),b={keyCode:l,currentElement:t,value:g.text,isExpanded:T,path:C,event:p,id:g.id,parentId:g.parentId}):b={keyCode:l,currentElement:t,value:"",isExpanded:"",path:"",event:p,id:"",parentId:""},this._triggerEvent("keyPress",b)},_documentClick:function(t){var o,g;if("Edit_Input"!=t.target.id&&(o=a("#Edit_Input")[0]),null!=o){var l=a(o).closest(".e-text")[0],p=o.value,b=a(o).closest(".e-item");a(o).remove(),l.lastChild.nodeValue=p,a(l).removeClass("e-editable").removeAttr("style"),this._updateField(this._newDataSource,b.attr("id"),this.model.fields,"text",p),this._deepWatch&&(this._oldDataSource=JSON.parse(JSON.stringify(this._newDataSource)),this.dataSource(this._newDataSource)),this._triggerEvent("nodeEdit",{id:b.attr("id"),oldText:this._beforeEditText,newText:p,target:b,nodeDetails:this._getNodeDetails(b),event:t})}0==this.element.find(t.target).length?(g=this.element.find(".e-item > div > .e-text.e-node-focus"),this._focusedNode=g.closest(".e-item"),g.removeClass("e-node-focus")):a(t.target).hasClass("e-active")&&(this._focusedNode=this.element.find(t.target).closest(".e-item"))},_saveAction:function(t,o){var C,l=t.val(),p=t.closest(".e-item"),g=t.closest(".e-text")[0],b=t.closest("li")[0].id;t.remove(),null!=g&&(g.lastChild.nodeValue=l,a(g).removeClass("e-editable"),this._updateField(this._newDataSource,p.attr("id"),this.model.fields,"text",l),this.model.template&&(C=this._getNodeObject(b))&&0!=C.length&&(g.innerHTML=this._renderEjTemplate(this.model.template,C[0])),this._deepWatch&&(this._oldDataSource=JSON.parse(JSON.stringify(this._newDataSource)),this.dataSource(this._newDataSource)),this._triggerEvent("nodeEdit",{id:p.attr("id"),oldText:this._beforeEditText,newText:l,target:p,nodeDetails:this._getNodeDetails(p),event:o}),this.element.focus(),this._focusedNode=p)},_cancelAction:function(t){var o=t.closest(".e-text")[0];t.remove(),o.lastChild.nodeValue=this._beforeEditText,a(o).removeClass("e-node-hover e-editable"),this.element.focus()},_focusNode:function(t){a(t).hasClass("e-text")&&t.setAttribute("tabindex","0"),t.focus()},_mouseEnterEvent:function(t){this.element.find(".e-node-hover").removeClass("e-node-hover"),a(t.currentTarget).hasClass("e-text")&&!a(t.currentTarget).hasClass("e-node-disable")&&a(t.currentTarget).addClass("e-node-hover")},_mouseLeaveEvent:function(t){a(t.currentTarget).removeClass("e-node-hover")},_liMouseEnterEvent:function(t){this.element.find(".e-node-hover").removeClass("e-node-hover"),this.element.find(".e-li-hover").removeClass("e-li-hover");var o=a(t.currentTarget).closest(".e-item"),l=o.find("> div .e-text");l.length>0&&!l.hasClass("e-node-disable")&&(l.addClass("e-node-hover"),o.addClass("e-li-hover"))},_liMouseLeaveEvent:function(t){var o=a(t.currentTarget).closest(".e-item");o.find("> div .e-text").removeClass("e-node-hover"),o.removeClass("e-li-hover")},_onFocusOutHandler:function(){this._isPopup||this._hidePopup(),this._isPopup=!1},_createObjectByText:function(t,o){if("string"==typeof t){var l={};return s.createObject(this.model.fields.text,t,l),null!=a(o)[0]&&s.createObject(this.model.fields.parentId,o[0].getAttribute("id"),l),l}},_addNodesWhenObject:function(t,o){var g,b,C,T,D,L,l=JSON.stringify(this._dataSource),p=this.dataSource();if(this._dataSource=[],null!=this.dataSource()&&this.dataSource()instanceof s.DataManager&&(p=[]),null!=o[0]&&o.length>0&&(g=o[0].getAttribute("id")),s.isNullOrUndefined(t.length))this._dataSource.push(t),s.isNullOrUndefined(this.dataSource())||(this._setNodeId(t,this.model.fields),s.isNullOrUndefined(g)||s.createObject(this.model.fields.parentId,g,t),p.push(t));else if(this._dataSource=t,!s.isNullOrUndefined(this.dataSource()))for(C=0;C<t.length;C++)this._setNodeId(t[C],this.model.fields),g?s.createObject(this.model.fields.parentId,g,t[C]):this._deepPropertyDelete(this.model.fields.parentId,t[C]),p.push(t[C]);for(b=this._templateType,this._templateType=2,this._liList||(this._liList=a("li",this.element)),T=document.createDocumentFragment(),D=0,L=this._dataSource.length;D<L;D++)T.appendChild(this._genTemplate(this._dataSource[D],this.model.fields)),this._liList.push(a(T).children()[0]),this.dataSource()instanceof s.DataManager&&this._addRemoteData(this._newDataSource,g,this._dataSource[D],this.model.fields);return this._templateType=b,null==this.dataSource()||this.dataSource()instanceof s.DataManager||(this._dataSource=JSON.parse(l),this._deepWatch&&(this._oldDataSource=JSON.parse(JSON.stringify(p)),this.dataSource(p))),T},_setNodeId:function(t,o){var p,g,b,l=o&&o.id?o.id:this.model.fields.id;if((s.isNullOrUndefined(t[l])||""==t[l])&&(t[l]=this._id+"_"+this._indexID,this._indexID++),t.hasOwnProperty("child"))for(g=0,b=(p=t.child).length;g<b;g++)this._setNodeId(p[g],o.child)},_addExpandedNodes:function(t){var o=this.model.expandedNodes;this._removeNullInArray(o),-1==a.inArray(t,o)&&this.model.expandedNodes.push(t),this._persistValues(this.model.expandedNodes,"expandedNodes")},_removeExpandedNodes:function(t){var o=this.model.expandedNodes;a.inArray(t,o)>-1&&(this.model.expandedNodes.splice(a.inArray(t,o),1),0==o.length&&o.push(-1)),this._persistValues(this.model.expandedNodes,"expandedNodes")},_persistValues:function(t,o){var l,p,b,C,T,D,L;if(!s.isNullOrUndefined(this.model.fields)&&null!=this.dataSource()){for(p=[],C=0,T=(l=t).length;C<T;C++)!s.isNullOrUndefined(l[C])&&l[C]>=0&&(b=a(this._liList[l[C]]).attr("id"))&&p.push(b);(D=this._getCookies("_persistedValues"))&&((L=JSON.parse(D))[o]=p,L=this._updatePersistAttr(L),this._setCookies("_persistedValues",JSON.stringify(L)))}},_updatePersistAttr:function(t){return s.isNullOrUndefined(this._ignoreOnPersist)?(-1==a.inArray("selectedNodes",this._addToPersist)&&delete t.selectedNodes,-1==a.inArray("expandedNodes",this._addToPersist)&&delete t.expandedNodes,-1==a.inArray("checkedNodes",this._addToPersist)&&delete t.checkedNodes):(a.inArray("selectedNodes",this._ignoreOnPersist)>-1&&delete t.selectedNodes,a.inArray("expandedNodes",this._ignoreOnPersist)>-1&&delete t.expandedNodes,a.inArray("checkedNodes",this._ignoreOnPersist)>-1&&delete t.checkedNodes),t},_onChecked:function(t,o){var p,g,l=t.closest(".e-item"),C=this._getNodeDetails(l);this._CurrenctSelectedNodes.push(C.text),p=this._isChecked(l),g=s.isNullOrUndefined(o)||s.isNullOrUndefined(o.event)?"":o.event,this._isRender&&this._triggerEvent("nodeCheck",{currentElement:l,id:C.id,parentId:C.parentId,value:C.text,currentNode:this._CurrenctSelectedNodes,currentCheckedNodes:this._checkedArray,isChecked:p,event:g})},_onUnChecked:function(t,o){var p,g,l=t.closest(".e-item"),C=this._getNodeDetails(l);this._CurrenctSelectedNodes.push(C.text),p=this._isChecked(l),g=s.isNullOrUndefined(o)||s.isNullOrUndefined(o.event)?"":o.event,this._triggerEvent("nodeUncheck",{currentElement:l,id:C.id,parentId:C.parentId,value:C.text,currentNode:C.text,currentUncheckedNodes:this._uncheckedArray,isChecked:p,event:g})},_addCheckNodes:function(t){var o=this.model.checkedNodes;this._removeNullInArray(o),!o instanceof Array&&(o=[]),-1==o.indexOf(t)&&o.push(t)},_removeCheckNodes:function(t){var l,o=this.model.checkedNodes;!o instanceof Array&&(o=[]),-1!=(l=o.indexOf(t))&&(o.splice(l,1),0==o.length&&o.push(-1))},_removeNullInArray:function(t){var o=t.indexOf(-1);-1!=o&&t.splice(o,1)},_afterInsertingNode:function(t){this._addDragableClass(),this._finalizeEditing(t);var o=t.closest("ul").closest(".e-item");this._modifyCss(o),this._updateCheckState(o),this._isSelectedAction(),o.length>0&&o.hasClass("e-node-disable")&&this._nodeDisableAction(o),this._updateSelectedNode()},_insertBeforeOrAfter:function(t,o,l){var p,g,b,C;if(null!=(o=this._getNodeByID(o))[0]&&o.is("LI")&&o.hasClass("e-item")){if(this._triggerEvent("beforeAdd",{data:t,targetParent:null!=o[0]?o:null,parentDetails:this._getNodeDetails(o)})||(this._isRender=!1,"object"!=typeof t&&(t=this._createObjectByText(t)),"object"!=typeof t))return;s.getObject(this.model.parentId,t)&&this._deepPropertyDelete(this.model.parentId,t),p=this._addNodesWhenObject(t,o),g=document.createElement("ul"),a(g).append(p),p=a(g.children),this.model.showCheckbox&&p.children().find(".nodecheckbox").ejCheckBox({cssClass:this.model.cssClass,change:this._checkedChange}),o.parents(".e-item:first").length>0?o.parents(".e-item:first").append(p):this.element.append(p),this.model.showCheckbox&&this._isCheckedAction(),this._dropAsSiblingNode(o,p.find("> div > .e-text"),l,""),this._afterInsertingNode(p),this._isRender=!0,this._triggerEvent("nodeAdd",{data:t,nodes:p,parentElement:null!=o[0]?o:null,parentDetails:this._getNodeDetails(o)}),b=this,C=this.dataSource(),setTimeout(function(){null==b.dataSource()||b.dataSource()instanceof s.DataManager||(b._dataSource=b._groupingObjects(C,function(T){return[!s.isNullOrUndefined(T)&&[s.getObject(b.model.fields.parentId,T)].toString()]}))},300)}},_getNodeByID:function(t){return"object"!=typeof t&&""!=t&&t!=h?this.element.find(this._checkValidId(t.toString())):((t=a(t)).is("A")&&t.hasClass("e-text")&&(t=t.closest(".e-item")),t)},_checkValidId:function(t){return"#"==t[0]?t.replace(/(:|\.|\[|\]|,)/g,"\\$1"):"#"+t.replace(/(:|\.|\[|\]|,)/g,"\\$1")},_isTreeElement:function(t){return null!=a(t)[0]&&t.is("LI")&&t.hasClass("e-item")},_isUrl:function(t){return/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/.test(t)},_getChildUl:function(t){return this.model.fullRowSelect?t.children[2]:t.children[1]},_sendAjaxOptions:function(t,o){var p,l=this;(p=this._getNodeDetails(o)).mapper=this.model.fields,p.model=this.model,this._sendAjaxRequest({url:t,data:p,type:"POST",async:!0,crossDomain:!0,dataType:"JSON",contentType:"application/json; charset=utf-8",success:function(b){try{l._ajaxSuccessHandler(b,o)}catch{}},error:function(b){try{l._ajaxErrorHandler(b)}catch{}}})},_sendAjaxRequest:function(t){var o=JSON.parse(JSON.stringify(t));delete o.success,delete o.error,this._triggerEvent("beforeLoad",{ajaxOptions:o})||(delete o.success,delete o.error,a.extend(t,o),a.ajax({type:t.type,url:t.url,dataType:t.dataType,data:t.data,async:t.async,contentType:t.contentType,crossDomain:t.crossDomain,success:t.success,error:t.error}))},_ajaxSuccessHandler:function(t,o){this._isRender=!1,"object"==typeof t&&this.addNode(t,o),this._isRender=!0,this._triggerEvent("loadSuccess",{data:t,targetParent:o,parentDetails:this._getNodeDetails(o)})},_ajaxErrorHandler:function(t){this._triggerEvent("loadError",{error:t})},_wireEvents:function(){this._isDevice&&a.isFunction(a.fn.tap)?this._on(this.element.find("li"),"tap",this._ClickEventHandler):this._on(this.element,"click",this._ClickEventHandler),this._on(this.element,this._isDevice&&a.isFunction(a.fn.tap)?this._touchExpandOn:this.model.expandOn,this._expandEventHandler)._on(this.element,"focus",this._onFocusHandler)._on(this.element,"blur",this._onFocusOutHandler),this._wholeRowEvents("_on"),this.model.allowEditing&&this._allowEditable(),this.model.allowDragAndDrop&&this._addDragableClass(),this.model.showCheckbox&&this.element.find(".nodecheckbox").ejCheckBox("enable"),this.model.allowKeyboardNavigation&&this._on(this.element,"keydown",this._KeyPress)},_unWireEvents:function(){this._isDevice&&a.isFunction(a.fn.tap)?this._off(this.element.find("li"),"tap"):this._off(this.element,"click"),this._off(this.element,this._isDevice&&a.isFunction(a.fn.tap)?this._touchExpandOn:this.model.expandOn)._off(this.element,"focus")._off(this.element,"blur"),this._wholeRowEvents("_off"),this._preventEditable(),this._preventDraggable(),this.model.allowKeyboardNavigation&&this._off(this.element,"keydown"),this.model.showCheckbox&&this.element.find(".nodecheckbox").ejCheckBox("disable")},_wholeRowEvents:function(t){this.model.fullRowSelect?(this[t](this.element,this._isDevice&&a.isFunction(a.fn.touchstart)?"touchstart":"mouseenter",".e-text-wrap",this._liMouseEnterEvent),this[t](this.element,this._isDevice&&a.isFunction(a.fn.touchend)?"touchend":"mouseleave",".e-text-wrap",this._liMouseLeaveEvent),this[t](this.element,this._isDevice&&a.isFunction(a.fn.touchstart)?"touchstart":"mouseenter",".e-fullrow",this._liMouseEnterEvent),this[t](this.element,this._isDevice&&a.isFunction(a.fn.touchend)?"touchend":"mouseleave",".e-fullrow",this._liMouseLeaveEvent)):(this[t](this.element,this._isDevice&&a.isFunction(a.fn.touchstart)?"touchstart":"mouseenter",".e-text",this._mouseEnterEvent),this[t](this.element,this._isDevice&&a.isFunction(a.fn.touchend)?"touchend":"mouseleave",".e-text",this._mouseLeaveEvent))},_enableDragDrop:function(){this.model.allowDragAndDrop&&(this._drag(),this.model.allowDropChild&&this._childDrop(),this.model.allowDropSibling&&this._siblingDrop())},_allowEditable:function(){this.element.find(".e-item").addClass("AllowEdit"),this._on(a(document),"click",this._documentClick)._on(this.element,this._isDevice&&a.isFunction(a.fn.tap)?"doubletap":"dblclick","a.e-text",this._inlineEdit)},_preventEditable:function(){this.element.find(".e-item").removeClass("AllowEdit"),this._off(a(document),"click",this._documentClick)._off(this.element,this._isDevice&&a.isFunction(a.fn.tap)?"doubletap":"dblclick","a.e-text")},_preventDraggable:function(){this.element.find(".e-draggable, .e-droppable").removeClass("e-draggable e-droppable"),this._preventDropSibling(),this._preventDropChild(),this._off(this.element,"mouseup touchstart pointerdown MSPointerDown",this._anchors,this._focusElement),this._off(this.element,"focusout",this._anchors,this._blurElement)},_preventDropSibling:function(){this.element.find(".e-dropsibling").removeClass("e-dropsibling")},_preventDropChild:function(){this.element.find(".e-item > div > .e-dropchild").removeClass("e-dropchild")},_getNodeObject:function(t,o){if(!s.isNullOrUndefined(this.model.fields)&&null!=this.dataSource()&&t!=h){if(1===this._templateType){var l=s.Query().where(this.model.fields.id,"equal",t,!1),p=s.DataManager(this._newDataSource).executeLocal(l);return p.length>0&&o?[p[0][this.model.fields.text]]:p}return this._getRemoteNode(this._newDataSource,this.model.fields,t,o)}return[]},_getChildMapper:function(t){return"string"==typeof t.child||s.isNullOrUndefined(t.child)?t:t.child},_getNodeData:function(t){var o,l,p,g,b,C;if(!s.isNullOrUndefined(this.model.fields)&&null!=this.dataSource()&&t!=h){this._updatePersistProb();var T=[],D=[],L=this._orderDataSource().length,I=null;for(o=0;o<L;o++)this._orderDataSource()[o][this.model.fields.id]==t&&(I=t,o=L);if(I){if(this.dataSource()instanceof s.DataManager&&2==this._templateType)return this._getRemoteNode(this._newDataSource,this.model.fields,t);if(2==this._templateType)T=JSON.parse(JSON.stringify(this._getRemoteNode(this._newDataSource,this.model.fields,t)));else{var R=[],V=this._orderDataSource(),F=s.Query().where(this.model.fields.id,"equal",t,!1),A=s.DataManager(V).executeLocal(F),z=this._getFilterItems(A[0],V);for(o=0,l=z.length;o<l;o++)R.push(new s.Predicate(this.model.fields.id,"equal",z[o],!1));p=s.Query().where(s.Predicate.or(R)),T=JSON.parse(JSON.stringify(s.DataManager(V).executeLocal(p)))}for(g=0,b=T.length;g<b;g++)C=s.getObject(this.model.fields.id,T[g]),a(document.getElementById(C)).length>0&&(0==a(document.getElementById(C)).find("> ul .e-item").length?(this._deepPropertyDelete(this.model.fields.hasChild,T[g]),2==this._templateType&&delete T[g].child):1==this._templateType?s.createObject(this.model.fields.hasChild,!0,T[g]):this._updateChildData(T[g].child,this.model.fields),D.push(T[g]));return D}}},_updateChildData:function(t,o){var l,p,g;if(t!=h)for(l=0,p=t.length;l<p;l++)g=s.getObject(o.id,t[l]),a(document.getElementById(g)).length>0&&(0==a(document.getElementById(g)).find("> ul .e-item").length?(this._deepPropertyDelete(o.hasChild,t[l]),delete t[l].child):this._updateChildData(t[l].child,o.child?o.child:o))},_getFilterItems:function(t,o){var p,g,b,C,T,D,L,I,l=[];if(t==h)return l;for(p=s.getObject(this.model.fields.id,t),l.push(p),g=s.Query().where(this.model.fields.parentId,"equal",p,!1),C=0,T=(b=s.DataManager(o).executeLocal(g)).length;C<T;C++)for(L=0,I=(D=this._getFilterItems(b[C],o)).length;L<I;L++)l.push(D[L]);return l},_getRemoteNode:function(t,o,l,p){for(var g,b=[],C=0,T=t.length;C<T;C++){if((g=s.getObject(o.id,t[C]))&&g.toString()==l)return b.push(p?t[C][o.text]:t[C]),b;if(t[C].hasOwnProperty("child")&&(b=this._getRemoteNode(t[C].child,this._getChildMapper(o),l,p)).length>0)return b}return b},_updateRemoteData:function(t,o,l,p){var g,b,C;if(null==this.dataSource()||!this.dataSource().dataSource.offline)for(g=0,b=t.length;g<b;g++){if((C=s.getObject(p.id,t[g]))&&C.toString()==o){t[g].child=l,t.splice(g,1,t[g]);break}t[g].hasOwnProperty("child")&&this._updateRemoteData(t[g].child,o,l,p.child?p.child:p)}},_addRemoteData:function(t,o,l,p){var g,b,C;if(null==this.dataSource()||!this.dataSource().dataSource.offline)if(s.isNullOrUndefined(o))t.push(l);else for(g=0,b=t.length;g<b;g++){if((C=s.getObject(p.id,t[g]))&&C.toString()==o){s.isNullOrUndefined(t[g].child)?(t[g].child=[l],t.splice(g,1,t[g])):t[g].child.push(l);break}t[g].hasOwnProperty("child")&&this._addRemoteData(t[g].child,o,l,p.child?p.child:p)}},refresh:function(){this._unWireEvents(),this.element.html(""),this._init()},expandAll:function(t,o){this.model.enableMultipleExpand&&(t>0?this._expandByLevel(this._getElement(),t,o):this._expandAll(o))},collapseAll:function(t,o){this.model.enableMultipleExpand&&(t>0?this._collapseByLevel(this._getElement(),t,o):this._collapseAll(o))},checkAll:function(){this.model.showCheckbox&&this._checkAll()},unCheckAll:function(){this.model.showCheckbox&&this._uncheckAll()},selectNode:function(t){t&&"object"==typeof t&&t.length>0?(this._unselectAll(),this._doSelectNodes(t,!0)):(t=this._getNodeByID(t),this._isTreeElement(t)&&this._nodeSelectionAction(t))},unselectNode:function(t){t&&"object"==typeof t&&t.length>0?this._doUnselectNodes(t):(t=this._getNodeByID(t),this._isTreeElement(t)&&this._nodeUnSelectionAction(t))},selectAll:function(){this.model.allowMultiSelection&&this._selectAll()},unselectAll:function(){this.model.allowMultiSelection&&this._unselectAll()},enableNode:function(t){var o,l;if(t&&"object"==typeof t&&t.length>0)for(o=0;o<t.length;o++)this.enableNode(t[o]);else l=this._getNodeByID(t),this._isTreeElement(l)&&this._nodeEnableAction(l)},disableNode:function(t){var o,l;if(t&&"object"==typeof t&&t.length>0)for(o=0;o<t.length;o++)this.disableNode(t[o]);else l=this._getNodeByID(t),this._isTreeElement(l)&&this._nodeDisableAction(l)},addNodes:function(t,o,l){if(t&&"object"==typeof t&&o==h&&t.length>0)for(var p=0;p<t.length;p++)this.addNode(t[p],o,l);else this.addNode(t,o,l)},addNode:function(t,o,l){var p,b,C,T,D,L,I,R,V;s.isNullOrUndefined(t)||(p=null,T=o?this._getNodeByID(o):this.model.allowMultiSelection?this.getSelectedNodes():this.getSelectedNode(),"object"==typeof t&&s.isNullOrUndefined(o)&&(D=s.getObject(this.model.fields.parentId,t),s.isNullOrUndefined(t.length)&&!s.isNullOrUndefined(D)?C=D:s.isNullOrUndefined(t.length)||1!=t.length||(C=s.getObject(this.model.fields.parentId,t[0])),C&&(T=this._getNodeByID(C))),T=this._isTreeElement(T)?a(T[0]):[],L=this._isParentExpand(T),this._triggerEvent("beforeAdd",{data:t,targetParent:null!=T[0]?T:null,parentDetails:this._getNodeDetails(T)}))||(0==T.length||T.hasClass("e-node-disable")||this._expandNode(T),"object"!=typeof t&&(t=this._createObjectByText(t,T)),"object"!=typeof t||s.isNullOrUndefined(t.length)&&0==t.length)||(p=this._addNodesWhenObject(t,T),b=document.createElement("ul"),a(b).append(p),p=a(b.children),this.model.showCheckbox&&p.children().find(".nodecheckbox").ejCheckBox({cssClass:this.model.cssClass,change:this._checkedChange}),this._appendNode(T,p),null!=T[0]&&((I=a(T[0].childNodes[0].childNodes[0])).hasClass("e-plus")||I.hasClass("e-minus")?I.removeClass("e-load"):I.removeClass("e-icon e-load")),null!=T[0]&&T.find("> div > .e-minus").length>0&&!this.model.enableMultipleExpand&&this._denyMultipleExpand(T),this._updateNodes(),this._afterInsertingNode(p),this._isDevice&&a.isFunction(a.fn.tap)&&null==T[0]&&this._on(p,"tap",this._ClickEventHandler),l&&!L&&this._preventParentNode(T),this._triggerEvent("nodeAdd",{data:t,nodes:p,parentElement:null!=T[0]?T:null,parentDetails:this._getNodeDetails(T)}),R=this,V=this.dataSource(),setTimeout(function(){null==R.dataSource()||R.dataSource()instanceof s.DataManager||(R._dataSource=R._groupingObjects(V,function(F){return[!s.isNullOrUndefined(F)&&[s.getObject(R.model.fields.parentId,F)].toString()]}))},300))},removeNode:function(t){var o,l;if(t&&"object"==typeof t&&t.length>0)for(o=0;o<t.length;o++)this.removeNode(t[o]);else l=t?this._getNodeByID(t):this.model.allowMultiSelection?this.getSelectedNodes():this.getSelectedNode(),this._isTreeElement(l)&&this._removeNode(l)},removeAll:function(){this._liList.remove(),this._updateNodes()},checkNode:function(t){var o,l;if(this.model.showCheckbox)if(t&&"object"==typeof t&&t.length>0)for(o=0;o<t.length;o++)this.checkNode(t[o]);else l=this._getNodeByID(t),this._isTreeElement(l)&&this._nodeCheck(l.find("> div > .e-chkbox-wrap > .nodecheckbox:first")[0])},uncheckNode:function(t){var o,l;if(this.model.showCheckbox)if(t&&"object"==typeof t&&t.length>0)for(o=0;o<t.length;o++)this.uncheckNode(t[o]);else l=this._getNodeByID(t),this._isTreeElement(l)&&this._nodeUncheck(l.find("> div > .e-chkbox-wrap > .nodecheckbox:first")[0])},expandNode:function(t){t&&"object"==typeof t&&t.length>0?(this._allowOnDemand=!0,this._expandNodes(t,!0),this._allowOnDemand=!1):(t=this._getNodeByID(t),this._isTreeElement(t)&&(this._allowOnDemand=!0,this._expandNode(t),this._allowOnDemand=!1))},collapseNode:function(t){var o,l;if(t&&"object"==typeof t&&t.length>0)for(o=0;o<t.length;o++)this.collapseNode(t[o]);else l=this._getNodeByID(t),this._isTreeElement(l)&&this._collapseNode(l)},showNode:function(t){var o,l;if(t&&"object"==typeof t&&t.length>0)for(o=0;o<t.length;o++)this.showNode(t[o]);else l=this._getNodeByID(t),this._isTreeElement(l)&&l.css("visibility","").removeClass("hidden")},hideNode:function(t){var o,l;if(t&&"object"==typeof t&&t.length>0)for(o=0;o<t.length;o++)this.hideNode(t[o]);else l=this._getNodeByID(t),this._isTreeElement(l)&&l.css("visibility","hidden").addClass("hidden")},show:function(){this.element.css("visibility","").find(".e-item").removeClass("hidden")},hide:function(){this.element.css("visibility","hidden").find(".e-item").addClass("hidden")},hasChildNode:function(t){return t=this._getNodeByID(t),this._isTreeElement(t)?t.find("> ul > .e-item").length>0:void 0},isChildLoaded:function(t){return t=this._getNodeByID(t),!!(this._isTreeElement(t)&&t.find("ul > .e-item").length>0)},isNodeChecked:function(t){return t=this._getNodeByID(t),this._isTreeElement(t)?this._isChecked(t):void 0},isExpanded:function(t){return t=this._getNodeByID(t),this._isTreeElement(t)?this._isNodeExpanded(t):void 0},isVisible:function(t){return t=this._getNodeByID(t),!(!this._isTreeElement(t)||"hidden"==t.css("visibility"))},isExist:function(t){return t=this._getNodeByID(t),!(!this._isTreeElement(t)||-1==this._liList.index(t))},isSelected:function(t){return t=this._getNodeByID(t),this._isTreeElement(t)?t.find("> div > .e-text").hasClass("e-active"):void 0},isDisabled:function(t){return t=this._getNodeByID(t),!(!this._isTreeElement(t)||!t.hasClass("e-node-disable"))},getTreeData:function(t){return t!=h?this._getNodeData(t):s.isNullOrUndefined(this.model.fields)||null==this.dataSource()?void 0:this._orderDataSource()},getText:function(t){return t=this._getNodeByID(t),this._isTreeElement(t)?a.trim(this.element.find(t).find("> div > .e-text").text()):void 0},getSelectedNode:function(){return this.model.allowMultiSelection?null:this.element.find(".e-item > div > .e-active").closest(".e-item")},getSelectedNodes:function(){return this.element.find(".e-item > div > .e-active").closest(".e-item")},getCheckedNodes:function(){if(this.model.showCheckbox)return this._liList.find('> div > .e-chkbox-wrap[aria-checked="true"]').closest(".e-item")},getExpandedNodes:function(){return this.element.find(".e-item > div > .e-minus").closest(".e-item")},getExpandedNodesIndex:function(){return this._getNodesIndex(this.getExpandedNodes())},getCheckedNodesIndex:function(){return this._getNodesIndex(this.getCheckedNodes())},getSelectedNodeIndex:function(){return this.model.allowMultiSelection?null:this._getNodesIndex(this.getSelectedNode())},getSelectedNodesIndex:function(){return this._getNodesIndex(this.getSelectedNodes())},getVisibleNodes:function(){return this.element.find(".e-item:visible:not(.hidden, .e-node-disable)")},getNodeCount:function(){return this.element.find(".e-item").length},getNode:function(t){return t=this._getNodeByID(t),this._isTreeElement(t)?this._getNodeDetails(t):null},getNodeIndex:function(t){return t=this._getNodeByID(t),this._isTreeElement(t)?this._liList.index(t):void 0},getNodeByIndex:function(t){if("number"==typeof t)return a(this._liList[t])},getParent:function(t){return t=this._getNodeByID(t),this._isTreeElement(t)?t.parents(".e-item:first"):void 0},getChildren:function(t,o){return t=this._getNodeByID(t),this._isTreeElement(t)?t.find(o?".e-item":"> ul > .e-item"):void 0},updateText:function(t,o){var l,p,g,b,C;if(t=this._getNodeByID(t),this._isTreeElement(t)&&!s.isNullOrUndefined(o)){if(l=this.element.find(t).children("div").find("> .e-text")[0],b=t.closest("li")[0].id,null!=l){if(g={currentElement:a(l)},this._triggerEvent("beforeEdit",g))return!1;p=l.lastChild.nodeValue}l.lastChild.nodeValue=o,this._updateField(this._newDataSource,t.attr("id"),this.model.fields,"text",o),this.model.template&&((C=this._getNodeObject(b))&&0!=C.length?l.innerHTML=this._renderEjTemplate(this.model.template,C[0]):l.innerText=o),this._deepWatch&&(this._oldDataSource=JSON.parse(JSON.stringify(this._newDataSource)),this.dataSource(this._newDataSource)),this._triggerEvent("nodeEdit",{id:t.attr("id"),oldText:p,newText:o,target:t,nodeDetails:this._getNodeDetails(t),event:null})}},insertAfter:function(t,o){this._insertBeforeOrAfter(t,o,!1)},insertBefore:function(t,o){this._insertBeforeOrAfter(t,o,!0)},moveNode:function(t,o,l){if(t=this._getNodeByID(t),o=this._getNodeByID(o),this._isTreeElement(t)){if(t.parents(".e-item")[0]==o[0]&&s.isNullOrUndefined(l)||o.find(t).index()==l||null==o[0]&&this._liList.index(t)==l)return;var p=null!=o[0]&&l>=0?o.find("> ul > .e-item").eq(l):this.getNodeByIndex(l);this._isRender=!1,this._isTreeElement(p)?p.parents(".e-item:first")[0]==t.parents(".e-item:first")[0]&&null==p.next(".e-item")[0]?this._dropAsSiblingNode(p,t.find(" > div > .e-text"),!1,""):this._dropAsSiblingNode(p,t.find(" > div > .e-text"),!0,""):this._dropAsChildNode(o,t.find(" > div > .e-text"),""),o.length>0&&o.hasClass("e-node-disable")&&this._nodeDisableAction(o),this._isRender=!0}},loadData:function(t,o){o=this._getNodeByID(o),this._isUrl(t)&&(null==o[0]||this._isTreeElement(o))&&this._sendAjaxOptions(t,o)},ensureVisible:function(t){var o,l,p,g;if(t=this._getNodeByID(t),this._isTreeElement(t)&&!this.isDisabled(t)&&this.isVisible(t)){for(p=0,g=(o=t.parents(".e-item")).length;p<g;p++)this._expandNode(a(o[p]));return l=t.offset(),t.animate({scrollTop:l.top},this.model.enableAnimation?350:0,"linear",function(){t.find("> div > a.e-text")[0].scrollIntoView(!1)}),!0}return!1},_triggerEvent:function(t,o){if(this._isRender)return this._trigger(t,o)}})}(jQuery,Syncfusion),function(a,s,h){s.widget("ejSplitter","ej.Splitter",{element:null,model:null,validTags:["div","span"],_rootCSS:"e-splitter",_setFirst:!1,angular:{terminal:!1},defaults:{cssClass:"",orientation:"horizontal",enableAnimation:!0,properties:[],height:null,width:null,enableAutoResize:!1,isResponsive:!1,enableRTL:!1,allowKeyboardNavigation:!0,htmlAttributes:{},expanderTemplate:null,animationSpeed:300,beforeExpandCollapse:null,clickOnExpander:null,expandCollapse:null,resize:null,create:null,destroy:null},dataTypes:{cssClass:"string",orientation:"enum",properties:"data",enableAutoResize:"boolean",expanderTemplate:"string",isResponsive:"boolean",enableRTL:"boolean",allowKeyboardNavigation:"boolean",animationSpeed:"number",enableAnimation:"boolean",htmlAttributes:"data"},_init:function(){this._initialize(),this._render(),this._wireEvents(!(!this.model.isResponsive&&!this.model.enableAutoResize))},_setModel:function(t){for(var o in t)switch(o){case"cssClass":this._changeSkin(t[o]);break;case"enableAutoResize":case"isResponsive":this._windowResizing(t[o]);break;case"enableRTL":this._rtl(t[o]);break;case"htmlAttributes":this._addAttr(t[o]);break;case"orientation":this._refreshSplitter("orientation",t[o]);break;case"properties":this._refreshSplitter("properties",t[o]);break;case"width":this.model.width=t[o],this._setHeightWidth();break;case"height":this.model.height=t[o],this._setHeightWidth()}},refresh:function(){this._setPanesSize(),this._getPanesPercent()},collapse:function(t){this._clickArrow(t,!0,!0)},expand:function(t){this._clickArrow(t,!1,!0)},_clickArrow:function(t,o,l){if(this._inMovement||t<0||t>this.panes.length||this.panes.length<=1)return!1;var p,g=o?"e-collapse":"e-expand",b=this.element.children(".e-splitbar:not(.e-shadowbar)");if(s.isNullOrUndefined(this.model.expanderTemplate)?p=t==b.length?this._clickArrow(t-1,!o,!1):a(b[t]).children("."+g):(p=a(b[t]).children(".e-splitter-"+this.model.orientation.substr(0,1)+"-template"),o?this._collapseArrowClick(this.templateargs):this._expandArrowClick(this.templateargs)),s.isNullOrUndefined(this.model.expanderTemplate)||this._templateIconPositioning(!0),!l)return p;"none"==p.css("display")&&s.isNullOrUndefined(this.model.expanderTemplate)||p.mouseup()},addItem:function(t,b,l){var g,C,T,D,L,p=this.panes.length;if(l=this._getNumber(l),g=this.element[this.containerCss](),s.isNullOrUndefined(l)&&(l=p),l<0||l>p)return"";b=this._getPaneProperty(b),b=this._checkMinMaxSize(b),C=s.buildTag("div.e-pane e-"+this.model.orientation.substr(0,1)+"-pane"),this.element.append(C[this.containerCss](b.paneSize)),T=b.paneSize=C[this.containerCss](),0==p&&this.panes.push(C),C.remove();var F,A,z,N,R=l,V=p>0?p:this.panes.length,U={},J=0,Q=!1;for(D=T+this._bar,A=0;A<2;A++){for(F=R;F<V;F++){var oe=a(this.panes[F])[this.containerCss](),ue=s.isNullOrUndefined(this.model.properties[F])?b.minSize:this.model.properties[F].minSize,le=oe-ue;if(le>=D-J){U[F]=oe-(D-J),Q=!0;break}0==p&&le>=0?(U[F]=ue,J+=le,Q=!0):le>0&&(U[F]=ue,J+=le)}if(Q)break;V=R,R=0}if(!Q)return"";for(L in U)a(this.panes[L])[this.containerCss](U[L]);return p<=0?C.append(a(this.panes[l])):l==p?(z="insertBefore",N=1,C.insertAfter(a(this.panes[l-1]))):(z="insertAfter",N=0,C.insertBefore(a(this.panes[l]))),this.model.properties.splice(l,0,b),0==p&&this.element.append(C[this.containerCss](g)),p>0&&(this.panes.splice(l,0,C),this._createSplitBar(l-N)[z](C)),C.append(t),this._updateModel(),C},removeItem:function(t){var l,p,g,b,o=this.panes.length-1;if(t=this._getNumber(t),s.isNullOrUndefined(t)&&(t=o),t<0||t>o||o<0)return null;b=(l=a(this.panes[t]))[this.containerCss]()+this._bar,l.remove(),g=this.element.children(".e-splitbar:not(.e-shadowbar)"),t==o?(p=a(this.panes[t-1]),a(g[t-1]).remove()):(p=a(this.panes[t+1]),a(g[t]).remove()),p[this.containerCss](p[this.containerCss]()+b),this._removeArrays(t),this._updateModel()},_checkMinMaxSize:function(t){return!s.isNullOrUndefined(t.minSize)&&t.paneSize<t.minSize&&(t.paneSize=t.minSize),!s.isNullOrUndefined(t.maxSize)&&t.paneSize>t.maxSize&&(t.paneSize=t.maxSize),t},_removeArrays:function(t){this.model.properties.splice(t,1),this.panes.splice(t,1),this.oldPaneSize.splice(t,1),this.oldPanePercent.splice(t,1),this._sizePercent.splice(t,1)},_getNumber:function(t){return t=parseFloat(t),isNaN(t)?null:t},_updateModel:function(){for(var t=0;t<this.panes.length;t++)this.model.properties[t].paneSize=a(this.panes[t])[this.containerCss]();this._getPanesPercent()},_getPaneProperty:function(t){return a.extend({paneSize:10,minSize:10,maxSize:null,collapsible:!0,resizable:!0,expandable:!0},t)},_changeSkin:function(t){this.element.removeClass(this.model.cssClass).addClass(t)},_windowResizing:function(t){t?this._wireEvents(t):this._unWireEvents()},_refreshSplitter:function(t,o){this._unWireEvents(),this._refreshDestroy(),this.model[t]=o,this._init()},_destroy:function(){this.element.removeClass("e-splitter"),this._refreshDestroy(),this._unWireEvents()},_refreshDestroy:function(){this.element.removeClass("e-widget e-box e-rtl"+this.model.cssClass+" e-"+this.model.orientation),this.element.children(".e-splitbar").remove(),this.element.children(".e-pane").removeClass("e-pane e-"+this.model.orientation.substr(0,1)+"-pane").height("").width("")},_initialize:function(){this.panes=[],this.oldPaneSize=[],this.oldPanePercent=[],this._initialPropertiesValue=[],this._updateHeightWidth=!1,this.shadowBar=null,this._inMovement=!1,this.containerCss="horizontal"==this.model.orientation?"width":"height",this.displayCss="horizontal"==this.model.orientation?"left":"top",this.borderCss="horizontal"==this.model.orientation?"right":"bottom",this._bar=9},_render:function(){this.element.addClass("e-widget e-box "+this.model.cssClass+" e-"+this.model.orientation).attr("data-role","splitter");for(var t=this.element[0],o=0;o<t.children.length;o++)a(t.children[o]).addClass("e-pane"),this.panes.push(t.children[o]);this._setPanesProperty(),this._insertSplitBar(),this._setDimentions(),s.isNullOrUndefined(this.model.expanderTemplate)||this.element.find(".e-splitter-"+this.model.orientation.substr(0,1)+"-template").css("z-index",s.getMaxZindex()+1),this._setPanesSize(),this._getPanesPercent(),this._addAttr(this.model.htmlAttributes),this._checkProperties(),this.element.find(".e-pane").addClass("e-"+this.model.orientation.substr(0,1)+"-pane"),this.model.isResponsive&&(isNaN(this.model.height)&&this.model.height.indexOf("%")>0&&this.element.css("height",this.model.height),isNaN(this.model.width)&&this.model.width.indexOf("%")>0&&this.element.css("width",this.model.width))},_templateClick:function(t){var o=this.templateargs={cancel:!1,targetElement:a(t.target),event:t.type,model:this.model,currentTarget:a(t.currentTarget)};this._trigger("clickOnExpander",o)},_templateIconPositioning:function(t){var o=this;"webkit"==s.browserInfo().name&&t&&(o.element.find(".e-splitter-"+o.model.orientation.substr(0,1)+"-template").css("display","none"),setTimeout(function(){o.element.find(".e-splitter-"+o.model.orientation.substr(0,1)+"-template").css("display","block")},o._isMouseMove?10:o.model.animationSpeed),o._isMouseMove=!1),t||setTimeout(function(){o.element.find(".e-splitter-"+o.model.orientation.substr(0,1)+"-template").css("display","inline-block")},100)},_setPanesProperty:function(){for(var t=0;t<this.panes.length;t++)this.model.properties[t]!=h?(this.model.properties[t].paneSize=this.model.properties[t].paneSize==h?"0px":this.model.properties[t].paneSize,this.model.properties[t].minSize=isNaN(parseFloat(this.model.properties[t].minSize))?10:parseFloat(this.model.properties[t].minSize),this.model.properties[t].maxSize=isNaN(parseFloat(this.model.properties[t].maxSize))?null:parseFloat(this.model.properties[t].maxSize),this.model.properties[t].collapsible=0!=this.model.properties[t].collapsible,this.model.properties[t].resizable=0!=this.model.properties[t].resizable,this.model.properties[t].expandable=0!=this.model.properties[t].expandable):this.model.properties.push({paneSize:"0px",minSize:10,maxSize:null,collapsible:!0,resizable:!0,expandable:!0}),this._initialPropertiesValue[t]=this.model.properties[t].paneSize},_addAttr:function(t){var o=this;a.map(t,function(l,p){"class"==p?o.element.addClass(l):o.element.attr(p,l)})},_insertSplitBar:function(){if(this.panes.length>1)for(var o=0;o<this.panes.length-1;o++)this._createSplitBar(o).insertAfter(this.panes[o])},_createSplitBar:function(t){var l,p,g,b,D,o=this.model.orientation.substr(0,1),C=!1;return b=s.buildTag("span.e-box e-splitbar e-split-divider e-"+o+"-bar").attr("aria-expanded",!0),"msie"==s.browserInfo().name&&b.addClass("e-pinch"),s.isNullOrUndefined(this.model.expanderTemplate)?(l=s.buildTag("span.e-icon e-collapse e-"+o+"-arrow "+("h"==o?"e-arrow-sans-left":"e-arrow-sans-up")),b.append(l),g=s.buildTag("span.e-activebar e-"+o+"-arrow "),b.append(g),p=s.buildTag("span.e-icon e-expand e-"+o+"-arrow "+("h"==o?"e-arrow-sans-right":"e-arrow-sans-down")),b.append(p),C=!0,this._on(l,s.isDevice()?"tap":"mouseup",this._collapseArrowClick),this._on(p,s.isDevice()?"tap":"mouseup",this._expandArrowClick),this.model.properties[t].collapsible||l.css("display","none"),this.model.properties[t].expandable||p.css("display","none"),this.model.properties[t+1].collapsible&&p.css("display","block")):(document.getElementsByClassName("e-split-divider"),D=document.createElement("span"),a(D).append(this.model.expanderTemplate),a(D).attr("class","e-splitter-"+this.model.orientation.substr(0,1)+"-template e-resize"),a(D).on(s.isTouchDevice()?"tap":"click",a.proxy(this._templateClick,this)),b.append(D),this._templateIconPositioning(!1)),this.model.properties[t].resizable&&this.model.properties[t+1].resizable&&(b.addClass("e-resize").removeClass("e-icon-hide"),C=!0,this._on(b,s.eventType.mouseDown,this._mouseDownOnDivider),s.isNullOrUndefined(this.model.expanderTemplate)&&this._on(g,s.eventType.mouseDown,this._mouseDownOnDivider)),C?(b.attr({role:"separator",tabindex:"0"}),this._on(b,"focus focusout",this._focusOnDivider)):b.attr({role:"presentation"}),b},_getTemplatedString:function(){for(var p,t=this.model.expanderTemplate,o=t.indexOf("${"),l=t.indexOf("}");-1!=o&&-1!=l;)p=t.substring(o,l+1);return p},_getPanesPercent:function(){this._sizePercent=[];for(var o=this.element[this.containerCss]()-(this.panes.length-1)*this._bar,l=0;l<this.panes.length;l++)a(this.panes[l]).hasClass("collapsed")||(this.oldPaneSize[l]=a(this.panes[l])[this.containerCss]()),this.oldPanePercent[l]=this._convertToPercent(o,this.oldPaneSize[l]),this._sizePercent.push(this._convertToPercent(o,a(this.panes[l])[this.containerCss]()))},_setDimentions:function(){var t=this._getParentObj(),o=parseInt(this.model.width),l=parseInt(this.model.height);isNaN(this.model.width)&&this.model.width.indexOf("%")>0&&(o=this.model.isResponsive?this._convertToPixel(t.innerWidth(),o):this.model.width),isNaN(this.model.height)&&this.model.height.indexOf("%")>0&&(l=this.model.isResponsive?this._convertToPixel(t.innerHeight(),l):this.model.height),this.model.height&&this.element.css("height",l),this.model.width&&this.element.css("width",o)},_setHeightWidth:function(){this._updateHeightWidth=!0,this._setDimentions(),this._setPanesSize(),this._getPanesPercent()},_getParentObj:function(){return this.element.parent()},_checkProperties:function(){this.model.enableRTL&&this._rtl(this.model.enableRTL),this._prevSize=this.element[this.containerCss]()},_getExactInnerWidth:function(){var t=s.browserInfo();return"msie"==t.name?8==t.version||9==t.version?a(this.element)[this.containerCss]():parseFloat(window.getComputedStyle(this.element[0])[this.containerCss]):parseFloat(window.getComputedStyle(this.element[0])[this.containerCss])-(parseFloat(this.element.css("border-"+this.displayCss+"-width"))+parseFloat(this.element.css("border-"+this.borderCss+"-width"))+parseFloat(this.element.css("padding-"+this.displayCss))+parseFloat(this.element.css("padding-"+this.borderCss)))},_rtl:function(t){t?this.element.addClass("e-rtl"):this.element.removeClass("e-rtl")},_setPanesSize:function(){var T,D,I,V,F,A,z,N,t=this.containerCss,o=0,l=0,p=this.element[t](),g=!1,b=this._bar=a(this.element).find(">.e-splitbar").length>0?parseFloat(a(this.element).find(">.e-splitbar").css(t)):this._bar,C=[],L=this.panes.length;if(L>1)for(D=0;D<L;D++)a(this.panes[D]).css(t,1==this._updateHeightWidth?this._initialPropertiesValue[D]:this.model.properties[D].paneSize),this._updateHeightWidth=!1,b=D==L-1?0:b,T=parseFloat(a(this.panes[D])[t]()),s.isNullOrUndefined(this.model.properties[D].maxSize)||(T=T>this.model.properties[D].maxSize?this.model.properties[D].maxSize:T),a(this.panes[D]).css(t,T),T<=0?(o++,C.push(D),l+=b):g?(a(this.panes[D]).css(t,0),l+=T+b,this.model.properties[D].paneSize=0):((l+=T+b)>p&&(I=l-p+b,I+=(L-D-1)*b,a(this.panes[D]).css(t,I),g=!0,l+=I+b),this.model.properties[D].paneSize=T);else 1==L&&(a(this.panes[0]).css(t,"100%"),l=p);if(L>1&&l!=p)if(F=a(this.panes[L-1]),l>p)F.css(t,V=l-p);else if(l<p)if(V=p-l,o>0)for(z=parseFloat(V/o),A=0;A<o;A++)a(this.panes[C[A]]).css(t,z),this.model.properties[C[A]].paneSize=z;else{for(N=L;N>0;N--)if(s.isNullOrUndefined(this.model.properties[N-1].maxSize)){F=a(this.panes[N-1]);break}F.css(t,parseFloat(F[t]()+V)),this.model.properties[L-1].paneSize=F[t]()}L>1&&this._checkPaneSize()},_getUnit:function(t){return"px"==t?"px":"pt"==t?"pt":"%"==t.substr(1)?"%":"px"},_getNormalValue:function(t){var l,p;return"vertical"==this.model.orientation?(l=(t.y-this.element.offset().top)/this.element.outerHeight(),p=this.element.height()):(l=(t.x-this.element.offset().left)/this.element.outerWidth(),p=this.element.width()),l>1&&(l=1),l<0&&(l=0),this._trimValue(l*p)},_trimValue:function(t){var l,p;return p=t-(l=t%1),2*Math.abs(l)>=1&&(p+=l>0?1:-1),parseFloat(p.toFixed(5))},_getSplitbarIndex:function(){return this.element.children(".e-splitbar:not(.e-shadowbar)").index(this.currentSplitBar)},_paneResize:function(){var t,o,l,p,g,b,C,T;if(null==this.shadowBar)return!1;this.currentSplitBar=this.shadowBar.next(),b=this._getSplitbarIndex(),o=this.shadowBar.prev(),l=this.currentSplitBar.next(),p=b,g=b+1,t=this.shadowBar.offset()[this.displayCss],t-=this.currentSplitBar.offset()[this.displayCss],a(o).css(this.containerCss,t+a(o)[this.containerCss]()+"px"),a(l).css(this.containerCss,a(l)[this.containerCss]()-t+"px"),this.oldPaneSize[p]=a(o)[this.containerCss](),this.oldPaneSize[g]=a(l)[this.containerCss](),this.shadowBar.remove(),this._checkPaneSize(),this._updateModelValue(C={item:o,index:p,size:this.oldPaneSize[p]},T={item:l,index:g,size:this.oldPaneSize[g]}),this._trigger("resize",{prevPane:C,nextPane:T,splitbarIndex:b})},_checkPaneSize:function(){for(var l,g,b,t=0,p=this.panes.length,C=0;C<p;C++)t+=("width"==this.containerCss?a(this.panes[C]).outerWidth():a(this.panes[C]).outerHeight())+this._bar;if((t-=this._bar)!=(l=this._getExactInnerWidth()))if(g=l-t,0==(b=a(this.panes[p-1])[this.containerCss]())){for(C=p-1;C>=0;C--)if(a(this.panes[C]).hasClass("expanded")&&!a(this.panes[C]).hasClass("collapsed")){b=a(this.panes[C])[this.containerCss](),a(this.panes[C]).css(this.containerCss,parseFloat(b+g));break}}else a(this.panes[p-1]).css(this.containerCss,parseFloat(b+g))},_maxminDraggableRange:function(t){var o,l,p,g,b,C,T,D,L,I,R,V,F,A;o=this.shadowBar.prev(),this.currentSplitBar=this.shadowBar.next(),l=this.currentSplitBar.next(),p=o[this.containerCss](),g=l[this.containerCss](),C=(b="left"==this.displayCss?this.currentSplitBar[0].offsetLeft:this.currentSplitBar[0].offsetTop)-p,T=g+b,A=this._getSplitbarIndex(),R=this.model.properties[L=A+1].maxSize,I=null!=(I=this.model.properties[D=A].maxSize)?parseInt(I,10):null,R=null!=R?parseInt(R,10):null,this.model.properties[D].minSize=parseInt(this.model.properties[D].minSize,10),this.model.properties[L].minSize=parseInt(this.model.properties[L].minSize,10),V=this.model.properties[D].minSize,F=this.model.properties[L].minSize,this.shadowBar.removeClass("e-end-indicaton"),t>T-F?(this.resizedPosition=T-F,this.shadowBar.addClass("e-end-indicaton")):t<C+V&&(this.resizedPosition=C+V,this.shadowBar.addClass("e-end-indicaton")),null!=I?t>C+I&&(this.resizedPosition=C+I,this.shadowBar.addClass("e-end-indicaton")):null!=R&&t<T-R&&(this.resizedPosition=T-R,this.shadowBar.addClass("e-end-indicaton"))},_collapseArrowClick:function(t){var o,l,p,g,b,C,T,D,L,I,R,V,F,A,z;if(null==this.shadowBar){if(o=s.isNullOrUndefined(t.target)?a(t.currentTarget):a(t.target),this._inMovement=!0,this.currentSplitBar=o.parent(),L={},I=this.panes.length,l=this._getSplitbarIndex(),p=this.currentSplitBar.prev(),g=this.currentSplitBar.next(),b=l,C=l+1,T=p[this.containerCss](),D=g[this.containerCss](),R=this,this._raiseEvent("beforeExpandCollapse",V={item:p,index:b,size:T},F={item:g,index:C,size:D},l,"beforeCollapse"))return!1;if(g.hasClass("collapsed")){if(T<this.oldPaneSize[C])return o.addClass("e-end-indicaton"),this._inMovement=!1,a(document).on("mouseup",a.proxy(this._mouseUpOnArrow,this)),!1;p.removeClass("expanded"),g.removeClass("collapsed"),o.parent().addClass("e-resize").removeClass("e-icon-hide"),a(o.siblings()).not(".e-activebar").css("display","block"),this.model.properties[b].collapsible||o.css("display","none"),C!=I-1&&(z=g.next(),this.model.properties[C+1].collapsible||z.find(".e-expand").css("display","none"),z.find(".e-collapse").css("display","block"),z.next().hasClass("collapsed")||(z.addClass("e-resize").removeClass("e-icon-hide"),z.attr("aria-expanded",!0))),L[this.containerCss]=this.oldPaneSize[C],g.animate(L,this.model.enableAnimation?this.model.animationSpeed:0),L[this.containerCss]=T-this.oldPaneSize[C],p.animate(L,this.model.enableAnimation?this.model.animationSpeed:0,function(){R._raiseEvent("expandCollapse",V,F,l,"collapsed")})}else this.oldPaneSize[b]=T,p.addClass("collapsed"),g.addClass("expanded"),this.currentSplitBar.attr("aria-expanded",!1),o.parent().removeClass("e-resize").addClass("e-icon-hide"),s.isNullOrUndefined(this.model.expanderTemplate)&&o.css("display","none"),this.model.properties[C].collapsible||a(o.siblings()).not(".e-activebar").css("display","block"),0!=b&&((A=p.prev()).find(".e-expand").css("display","none"),!this.model.properties[b-1].collapsible&&a(p.prev().prev()[0]).hasClass("expanded")&&A.find(".e-collapse").css("display","block"),A.removeClass("e-resize").addClass("e-icon-hide")),L[this.containerCss]=0,p.animate(L,this.model.enableAnimation?this.model.animationSpeed:0),L[this.containerCss]=T+D,g.animate(L,this.model.enableAnimation?this.model.animationSpeed:0,function(){R._raiseEvent("expandCollapse",V,F,l,"collapsed")})}},_expandArrowClick:function(t){var o,l,p,g,b,C,T,D,L,I,R,V,F,A,z;if(null==this.shadowBar){if(o=s.isNullOrUndefined(t.target)?a(t.currentTarget):a(t.target),this._inMovement=!0,this.currentSplitBar=o.parent(),L={},I=this.panes.length,l=this._getSplitbarIndex(),p=this.currentSplitBar.prev(),g=this.currentSplitBar.next(),b=l,C=l+1,T=p[this.containerCss](),D=g[this.containerCss](),R=this,this._raiseEvent("beforeExpandCollapse",V={item:g,index:C,size:D},F={item:p,index:b,size:T},l,"beforeExpand"))return!1;if(p.hasClass("collapsed")){if(D<this.oldPaneSize[b])return o.addClass("e-end-indicaton"),this._inMovement=!1,a(document).on("mouseup",a.proxy(this._mouseUpOnArrow,this)),!1;p.removeClass("collapsed"),g.removeClass("expanded"),this.currentSplitBar.attr("aria-expanded",!0),o.parent().addClass("e-resize").removeClass("e-icon-hide"),a(o.siblings()).not(".e-activebar").css("display","block"),this.model.properties[C].collapsible||o.css("display","none"),0!=b&&(z=p.prev(),this.model.properties[l-1].collapsible||z.find(".e-collapse").css("display","none"),z.find(".e-expand").css("display","block"),z.prev().hasClass("collapsed")||z.addClass("e-resize").removeClass("e-icon-hide")),L[this.containerCss]=this.oldPaneSize[b],p.animate(L,this.model.enableAnimation?this.model.animationSpeed:0),L[this.containerCss]=D-this.oldPaneSize[b],g.animate(L,this.model.enableAnimation?this.model.animationSpeed:0,function(){R._raiseEvent("expandCollapse",V,F,l,"expanded")})}else this.oldPaneSize[C]=D,p.addClass("expanded"),g.addClass("collapsed"),o.parent().removeClass("e-resize").addClass("e-icon-hide"),s.isNullOrUndefined(this.model.expanderTemplate)&&o.css("display","none"),this.model.properties[b].collapsible||a(o.siblings()).not(".e-activebar").css("display","block"),C!=I-1&&((A=g.next()).find(".e-collapse").css("display","none"),!this.model.properties[C+1].collapsible&&a(g.next().next()[0]).hasClass("collapsed")&&A.find(".e-expand").css("display","block"),A.removeClass("e-resize").addClass("e-icon-hide"),A.attr("aria-expanded",!1)),L[this.containerCss]=T+D,p.animate(L,this.model.enableAnimation?this.model.animationSpeed:0),L[this.containerCss]=0,g.animate(L,this.model.enableAnimation?this.model.animationSpeed:0,function(){R._raiseEvent("expandCollapse",V,F,l,"expanded")})}},_raiseEvent:function(t,o,l,p,g){return"expandCollapse"==t&&(this._inMovement=!1,this._updateModelValue(o,l)),this._trigger(t,{collapsed:o,expanded:l,splitbarIndex:p,action:g})},_updateModelValue:function(t,o){this.model.properties[t.index].paneSize=t.item[this.containerCss](),this.model.properties[o.index].paneSize=o.item[this.containerCss](),this._getPanesPercent()},_mouseUpOnArrow:function(){this.element.find(".e-end-indicaton").removeClass("e-end-indicaton"),a(document).off("mouseup",a.proxy(this._mouseUpOnArrow,this))},_keydownOnDivider:function(t){var l,p,o=t.keyCode;if(37==o||38==o||39==o||40==o){if(t.preventDefault(),l=a(t.data.target),t.ctrlKey)null==this.shadowBar&&(this.currentSplitBar=l,p=this._getSplitbarIndex(),"vertical"==this.model.orientation?38==t.keyCode?this.collapse(p):40==t.keyCode&&this.expand(p):37==t.keyCode?this.collapse(p):39==t.keyCode&&this.expand(p));else if(l.hasClass("e-resize")){var b=(null!=this.shadowBar?this.shadowBar:l).offset();a.extend(!0,t,{pageX:b.left,pageY:b.top}),("vertical"==this.model.orientation&&(38==t.keyCode||40==t.keyCode)||"horizontal"==this.model.orientation&&(37==t.keyCode||39==t.keyCode))&&(38==t.keyCode?t.pageY-=5:40==t.keyCode?t.pageY+=5:37==t.keyCode?t.pageX-=5:39==t.keyCode&&(t.pageX+=5),this._mouseMoveOnDivider(t))}}else 13==o?(t.preventDefault(),this._mouseUpOnDivider()):27==o&&(t.preventDefault(),null!=this.shadowBar&&this.shadowBar.remove(),this.shadowBar=null,this._mouseUpOnDivider(),this.element.children(".e-splitbar.e-hover").focusout())},_focusOnDivider:function(t){"focus"==t.type?!a(t.target).hasClass("e-hover")&&(a(t.target).addClass("e-hover"),this.model.allowKeyboardNavigation)&&a(document).on("keydown",{target:t.target},a.proxy(this._keydownOnDivider,this)):(this.element.children(".e-splitbar.e-hover").removeClass("e-hover"),this._mouseUpOnDivider(),a(document).off("keydown",a.proxy(this._keydownOnDivider,this)))},_mouseDownOnDivider:function(t){var o;t.preventDefault(),(o=a(t.target).hasClass("e-activebar")?a(t.target.parentElement):!s.isNullOrUndefined(this.model.expanderTemplate)&&a(t.target).parents(".e-splitbar").length>0?a(t.target).parents(".e-splitbar"):a(t.target)).hasClass("e-splitbar")&&o.hasClass("e-resize")?(this._overlayElement=s.buildTag("div.e-pane-overlay"),o.hasClass("e-hover")||o.focus(),this.element.find(".e-pane").not(".e-splitter").append(this._overlayElement),a(document).on(s.eventType.mouseMove,{target:a(t.target).hasClass("e-activebar")?t.target.parentElement:t.target},a.proxy(this._mouseMoveOnDivider,this)),a(document).on(s.eventType.mouseUp,a.proxy(this._mouseUpOnDivider,this)),a(document).on("mouseleave",a.proxy(this._mouseUpOnDivider,this))):(o.hasClass("e-expand")||o.hasClass("e-collapse"))&&o.parent().focus()},_mouseMoveOnDivider:function(t){var p,o=t.data;t="touchmove"==t.type?t.originalEvent.changedTouches[0]:t,this._isMouseMove=!0,this.resizedPosition=this._getNormalValue({x:t.pageX,y:t.pageY}),null==this.shadowBar&&(p=a(o.target).hasClass("e-activebar")?a(o.target.parentElement):!s.isNullOrUndefined(this.model.expanderTemplate)&&a(t.target).parents(".e-splitbar").length>0?a(o.target).parents(".e-splitbar"):a(o.target),this.shadowBar=p.clone().addClass("e-shadowbar").removeClass("e-hover").removeClass("e-split-divider").insertBefore(p),this.shadowBar.children().remove()),this._maxminDraggableRange(this.resizedPosition),this.shadowBar.css(this.displayCss,this.resizedPosition)},_mouseUpOnDivider:function(){this._paneResize(),s.isNullOrUndefined(this.model.expanderTemplate)||this._templateIconPositioning(!0),this.element.find(".e-pane").not(".e-splitter").find(".e-pane-overlay").remove(),a(document).off(s.eventType.mouseMove,a.proxy(this._mouseMoveOnDivider,this)),a(document).off(s.eventType.mouseUp,a.proxy(this._mouseUpOnDivider,this)),a(document).off("mouseleave",a.proxy(this._mouseUpOnDivider,this)),this.shadowBar=null},_windowResized:function(){var o,l,p,g,t=this._getExactInnerWidth();if(this._prevSize==t)return!1;for(l=t-((o=this.panes.length)-1)*this._bar,this._prevSize=t,p=0;p<o;p++)g=this._convertToPixel(l,this._sizePercent[p]),a(this.panes[p]).css(this.containerCss,g+"px");for(p=0;p<this.oldPaneSize.length;p++)this.oldPaneSize[p]=this._convertToPixel(l,this.oldPanePercent[p]);0==a(this.panes[this.panes.length-1])[this.containerCss]()&&this._checkPaneSize()},_convertToPercent:function(t,o){return 100*o/t},_convertToPixel:function(t,o){return parseFloat(t*o/100)},_wireEvents:function(t){t&&a(window).on("resize",a.proxy(this._windowResized,this))},_unWireEvents:function(){a(window).off("resize",a.proxy(this._windowResized,this))}})}(jQuery,Syncfusion),function(a,s){s.widget("ejWaitingPopup","ej.WaitingPopup",{element:null,model:null,validTags:["div","span"],_setFirst:!1,_requiresID:!0,_rootCSS:"e-waitingpopup",defaults:{showOnInit:!1,target:null,appendTo:null,showImage:!0,htmlAttributes:{},cssClass:"",text:null,template:null,create:null,destroy:null},dataTypes:{showOnInit:"boolean",showImage:"boolean",cssClass:"string"},_isTargetVisible:function(){return"none"!=this.element.css("display")},show:function(){this._isTargetVisible()&&(this._refreshPanel(),this.maindiv.css("display","block"),this.model.showOnInit=!0)},hide:function(){this.maindiv.css("display","none"),this.model.showOnInit=!1},refresh:function(){this._isTargetVisible()&&this._refreshPanel()},_setText:function(h){h?this.popupText?this.popupText.html(h):(this._generateTextTag(h),this._setContentPosition()):this.popupText&&(this.popupText.remove(),this.popupText=null)},_showImage:function(h){h?(this.popupImage=s.buildTag("span.e-image"),this.popupText?this.popupImage.insertBefore(this.popupText):this.maindiv.append(this.popupImage)):this.popupImage&&(this.popupImage.remove(),this.popupImage=null)},_setTemplate:function(){var h=this.model.template;"string"==typeof h&&(h=a(h)),this.templateObj="object"==typeof h&&"function"==typeof h.css?h:s.buildTag("div","",{"text-align":"center"}).append(h),this.templateObj.css({visibility:"visible",display:"block"}),this.maindiv.append(this.templateObj)},_setTheme:function(h){this.maindiv.removeClass(this.model.cssClass).addClass(h)},_init:function(){this._initialize(),this._render(),this._wireEvents()},_wireEvents:function(){a(window).on("resize",a.proxy(this._resizeHandler,this))},_unwireEvents:function(){a(window).off("resize",a.proxy(this._resizeHandler,this))},_resizeHandler:function(){this.refresh()},_setModel:function(h){for(var t in h)switch(t){case"text":this._setText(h[t]);break;case"cssClass":this._setTheme(h[t]);break;case"htmlAttributes ":this._addAttr(h[t]);break;case"showOnInit":this._setVisibility(h[t]);break;case"showImage":this._showImage(h[t]),this._setContentPosition();break;case"target":this.model.target=h[t],this._setTarget(),this.refresh();break;case"appendTo":this.model.appendTo=h[t],this._setTarget(),s.isNullOrUndefined(this.model.appendTo)||"document"==this.model.appendTo||"window"==this.model.appendTo?a("body").append(this.maindiv):this.maindiv.appendTo(a(this.model.appendTo)),this.refresh();break;case"template":this.maindiv.empty(),h[t]?(this.model.template=h[t],this._setTemplate()):(this.model.template=h[t]=null,this._showImage(this.model.showImage),this.model.text&&this._generateTextTag(this.model.text)),this._setContentPosition()}},_setTarget:function(){this.targetElement="document"==this.model.target?a(document):"window"==this.model.target?a(window):this.model.target?a(this.model.target):this.element},_destroy:function(){this.maindiv.remove(),this._unwireEvents()},_initialize:function(){this.maindiv=null,this.popupText=null,this.popupImage=null,this.templateObj=null,this.targetElement=null},_render:function(){this._setTarget();var h=a("#"+this.element[0].id+"_WaitingPopup").get(0);h&&a(h).remove(),this.maindiv=s.buildTag("div.e-waitpopup-pane e-widget "+this.model.cssClass+"#"+this.element[0].id+"_WaitingPopup"),this.model.template?this._setTemplate():(this._showImage(this.model.showImage),this.model.text&&this._generateTextTag(this.model.text)),s.isNullOrUndefined(this.model.appendTo)||"document"==this.model.appendTo||"window"==this.model.appendTo?a("body").append(this.maindiv):this.maindiv.appendTo(a(this.model.appendTo)),this._setVisibility(this.model.showOnInit),this._addAttr(this.model.htmlAttributes)},_refreshPanel:function(){this.maindiv.width(this.targetElement.outerWidth()),this.maindiv.height(this.targetElement.outerHeight()),this._setPanelPosition(),this._setContentPosition()},_addAttr:function(h){var t=this;a.map(h,function(o,l){"class"==l?t.maindiv.addClass(o):t.maindiv.attr(l,o)})},_setPanelPosition:function(){var h=s.util.getOffset(this.targetElement);null!=this.model.appendTo&&a(this.model.appendTo).length>0&&("relative"!=this.targetElement.css("position")&&"absolute"!=this.targetElement.css("position")||this.targetElement[0]!==a(this.model.appendTo)[0]?(h.left-=this.targetElement.offsetParent().offset().left,h.top-=this.targetElement.offsetParent().offset().top):h={left:0,top:0}),this.maindiv.css({position:"absolute",left:Math.ceil(h.left)+"px",top:Math.ceil(h.top)+"px","z-index":this._maxZindex()+1})},_setContentPosition:function(){if(null==this.model.template){var o,h=0,t=0,l=null;o=this.targetElement.outerHeight(),this.popupText&&(h=this.popupText.outerHeight()),this.popupImage&&(t=this.popupImage.outerHeight()),this.popupImage&&(l=Math.ceil((o-(t+h))/2),this.popupImage.css("top",l+"px")),this.popupText&&(l||(l=Math.ceil((o-h)/2)),this.popupText.css("top",l+"px"))}else this.templateObj.css({position:"relative",left:Math.ceil((this.targetElement.outerWidth()-this.templateObj.outerWidth())/2),top:Math.ceil((this.targetElement.outerHeight()-this.templateObj.outerHeight())/2)})},_generateTextTag:function(h){this.popupText=s.buildTag("div.e-text",h),this.maindiv.append(this.popupText)},_setVisibility:function(h){h&&this._isTargetVisible()?this.show():this.hide()},_maxZindex:function(){return s.util.getZindexPartial(this.element)}})}(jQuery,Syncfusion),function(a,s){s.widget("ejRadioButton","ej.RadioButton",{_rootCSS:"e-radiobtn",element:null,_requiresID:!0,model:null,validTags:["input"],_addToPersist:["checked"],_setFirst:!1,angular:{require:["?ngModel","^?form","^?ngModelOptions"]},defaults:{id:null,name:null,value:null,checked:!1,cssClass:"",text:"",enableRTL:!1,htmlAttributes:{},enablePersistence:!1,idPrefix:"ej",size:"small",enabled:!0,validationRules:null,validationMessage:null,validationMessages:null,beforeChange:null,change:null,create:null,destroy:null},dataTypes:{id:"string",name:"string",enablePersistence:"boolean",size:"enum",enabled:"boolean",idPrefix:"string",validationRules:"data",validationMessage:"data",validationMessages:"data",htmlAttributes:"data"},observables:["checked"],checked:s.util.valueFunction("checked"),_init:function(h){var t=s.browserInfo();this._cloneElement=this.element.clone(),this._isIE8="msie"==t.name&&"8.0"==t.version,this._setValue(),this._renderControl(),this.isChecked&&this._checkedHandler(),s.isNullOrUndefined(this.radbtn.attr("disabled"))||(this.model.enabled=!1),this._setEnabled(this.model.enabled),this._addAttr(this.model.htmlAttributes),s.isNullOrUndefined(h)||s.isNullOrUndefined(h.validationMessage)||(this.model.validationMessages=this.model.validationMessage),null!=this.model.validationRules&&(this._initValidator(),this._setValidation()),this._wireEvents(),this.initialRender=!1},_addAttr:function(h){var t=this;a.map(h,function(o,l){"class"==l?t.div.addClass(o):"name"==l||"required"==l?t.radbtn.attr(l,o):"disabled"==l&&"disabled"==o?t.disable():"checked"==l&&"checked"==o?t._checkedChange(!0,!0):t.div.attr(l,o)})},_initValidator:function(){this.element.closest("form").data("validator")||this.element.closest("form").validate()},_setValidation:function(){var h,t,o,l,p;for(o in this.element.find("input").rules("add",this.model.validationRules),h=(h=this.element.closest("form").data("validator"))||this.element.closest("form").validate(),t=this.element.find("input").attr("name"),h.settings.messages[t]={},this.model.validationRules)if(l=null,!s.isNullOrUndefined(this.model.validationRules[o])){if(s.isNullOrUndefined(this.model.validationRules.messages&&this.model.validationRules.messages[o]))for(p in h.settings.messages[t][o]=a.validator.messages[o],this.model.validationMessages)o==p&&(l=this.model.validationMessages[o]);else l=this.model.validationRules.messages[o];h.settings.messages[t][o]=l??a.validator.messages[o]}},_setModel:function(h){for(var t in h)switch(t){case"cssClass":this._changeSkin(h[t]);break;case"enableRTL":this.model.text?h[t]?this.div.addClass("e-rtl"):this.div.removeClass("e-rtl")&&this.element.closest(".e-radiobtn-wrap").hasClass("e-rtl")&&this.element.closest(".e-radiobtn-wrap").removeClass("e-rtl"):h[t]?this.element.closest(".e-radiobtn-wrap").addClass("e-rtl"):this.element.closest(".e-radiobtn-wrap").removeClass("e-rtl");break;case"text":this._setText(h[t]);break;case"size":this._setSize(h[t]);break;case"validationRules":null!=this.model.validationRules&&(this.element.find("input").rules("remove"),this.model.validationMessages=null),this.model.validationRules=h[t],null!=this.model.validationRules&&(this._initValidator(),this._setValidation());break;case"validationMessage":case"validationMessages":this.model.validationMessages=h[t],null!=this.model.validationRules&&null!=this.model.validationMessages&&(this._initValidator(),this._setValidation());break;case"checked":a(this.div).removeClass("e-material-animate"),"boolean"==typeof this.checked()?(this.model.checked=h[t],this._checkedChange(this.model.checked)):null!=h[t]()&&h[t]()==this.element.find(".e-input").attr("value")&&this._checkedChange(h[t]());break;case"enabled":this._setEnabled(h[t]);break;case"id":this._setIdAttr(h[t]);break;case"name":this.radbtn.attr("name",h[t]);break;case"value":this.radbtn.attr("value",h[t]);break;case"htmlAttributes":this._addAttr(h[t])}},_destroy:function(){this.radbtn.remove(),this._cloneElement.removeClass("e-js e-input e-radiobtn"),this._cloneElement.insertBefore(this.element),this.element.remove()},_changeSkin:function(h){this.model.cssClass!=h&&(this.element.removeClass(this.model.cssClass).addClass(h),this.div.removeClass(this.model.cssClass).addClass(h))},_setValue:function(){s.isNullOrUndefined(this.element.attr("type"))&&this.element.attr("type","radio"),s.isNullOrUndefined(this.element.attr("id"))||(this.model.id=this.element.attr("id")),s.isNullOrUndefined(this.element.attr("name"))||(this.model.name=this.element.attr("name")),s.isNullOrUndefined(this.element.attr("value"))||(this.model.value=this.element.attr("value")),this.element.attr({id:this.model.id,name:this.model.name,value:this.model.value}),"boolean"==typeof this.checked()?this.model.checked=this.isChecked=this.model.checked||"checked"==this.element.attr("checked"):this.isChecked=this.element.attr("value")==this.checked(),this.isChecked&&this.element.attr("checked","checked"),this._hiddenValue=this.element.attr("value"),this._isUI=!1},_setIdAttr:function(h){a("#"+this.model.idPrefix+this.model.id+"_wrapper").attr("id",this.model.idPrefix+h+"_wrapper"),a("#"+this.model.idPrefix+this.model.id).attr("id",this.model.idPrefix+h),this.radbtn.attr("id",h)},_setSize:function(h){h==s.RadioButtonSize.Medium?(this.span.removeClass("e-radsmaller").addClass("e-radmedium"),this.div.removeClass("e-radsmall").addClass("e-radmed")):(this.span.removeClass("e-radmedium").addClass("e-radsmaller"),this.div.removeClass("e-radmed").addClass("e-radsmall"))},_setEnabled:function(h){h?this.enable():this.disable()},_renderControl:function(){this.initialRender=!0;var h=s.browserInfo();this.div=a("msie"==h.name&&"8.0"==h.version?'<div class="e-radiobtn-wrap e-widget e-rad-outer e-ie8" ></div>':'<div class="e-radiobtn-wrap e-widget" ></div>'),this.div.attr({id:this.model.idPrefix+this.model.id,role:"radio",tabindex:0,"aria-checked":!1}),this.span=a("<span></span>"),this.span.addClass("e-spanicon"),this._setSize(this.model.size),this.spanImg=a('<span class="e-rad-icon e-icon e-rad-select"></span>',"",{},{role:"presentation"}),this.element.addClass("e-input"),this.div.addClass(this.model.cssClass),this.span.append(this.spanImg),this.div.insertBefore(this.element),this.div.append(this.element),this.div.append(this.span),this._setTextWrapper(this.model.text),this.radbtn=this.element,this.element=this.div},_setTextWrapper:function(h){""!=h?(this.txtSpan=s.buildTag("div.e-text",h),this.div.append(this.txtSpan),this.model.enableRTL&&this.div.addClass("e-rtl")):this.model.enableRTL&&this.element.closest(".e-radiobtn-wrap").addClass("e-rtl")},_setText:function(h){""==this.model.text&&""!=h?this._setTextWrapper(h):this.txtSpan.html(h)},_wireEvents:function(){this._on(this.element,"click",function(h){this._isUI=!0,this._checkedHandler(h)}),this._on(this.element,"focus",this._focusIn),this._on(this.element,"focusout",this._focusOut)},_focusIn:function(){a(this.element).addClass("e-focus"),a(this.element).on("keydown",a.proxy(this._checkUnCheck,this))},_focusOut:function(){a(this.element).removeClass("e-focus"),a(this.element).off("keydown",a.proxy(this._checkUnCheck,this))},_checkUnCheck:function(h){(32==h.keyCode||37==h.keyCode||38==h.keyCode||39==h.keyCode||40==h.keyCode)&&(h.preventDefault(),this._checkedHandler())},_checkedHandler:function(h){h&&(this._interacted=!0),this.element.hasClass("e-disable")||(this.isChecked="boolean"==typeof this.checked()?"checked"==this.radbtn.attr("checked"):this.checked()==this.radbtn.attr("value"),a(this.element).find(".e-rad-icon").hasClass("e-circle_01")||this._changeEvent(!0),h&&a(this.div).addClass("e-material-animate"))},_checkedChange:function(h,t){this.isChecked=h,this._changeEvent(t)},_changeEvent:function(h){var t={isChecked:this.isChecked,isInteraction:!!h};if(!this.initialRender&&1==this._trigger("beforeChange",t))return!1;if(a(this.element).find(".e-rad-icon").hasClass("e-circle_01"))this.spanImg.removeClass("e-circle_01").addClass("e-rad-select"),this.span.removeClass("e-rad-active"),this.div.attr({tabindex:0,"aria-checked":!1}),this.radbtn.removeAttr("checked");else{var o=this.element.find(".e-input").attr("name"),l=a('input.e-radiobtn[name="'+o+'"]:radio'),p=this,g=this.element.find(".e-input"),b=a(g).data("ejRadioButton");t.isChecked&&(this.spanImg.addClass("e-circle_01").removeClass("e-rad-select"),this.span.addClass("e-rad-active"),this.div.attr({tabindex:0,"aria-checked":!0}),this.radbtn.attr("checked","checked")),a.each(l,function(C,T){p._interacted&&a(a(T).closest(".e-widget")).find("span.e-spanicon").hasClass("e-rad-active")&&a(T).closest(".e-radiobtn-wrap").addClass("e-material-animate"),a(T).closest(".e-radiobtn-wrap").find(".e-rad-icon").removeClass("e-circle_01").addClass("e-rad-select"),a(T).closest(".e-radiobtn-wrap").find(".e-spanicon").removeClass("e-rad-active"),a(T).closest(".e-radiobtn-wrap").attr({tabindex:0,"aria-checked":!1});var D=a(T).data("ejRadioButton");s.isNullOrUndefined(D)||null==D.checked()||"boolean"!=typeof D.checked()||(D.model.checked=!1,D.isChecked=!1,D.radbtn.removeAttr("checked"))}),null!=b&&null!=b.checked()&&"boolean"==typeof b.checked()?b.model.checked=!0:b.checked(b.radbtn.attr("value")),this.element.find(".e-rad-icon").addClass("e-circle_01").removeClass("e-rad-select"),this.span.addClass("e-rad-active"),this.div.attr({tabindex:0,"aria-checked":!0}),this._isUI&&this.element.find(".e-input").click(),this.isChecked=!0,1==this.isChecked?this.radbtn.attr("checked","checked"):this.radbtn.removeAttr("checked")}t={isChecked:this.isChecked,isInteraction:!!h},this.initialRender||this._trigger("change",t),h&&this._trigger("_change",{value:this._hiddenValue})},disable:function(){this.element.hasClass("e-disable")||(this.element.addClass("e-disable"),this.radbtn.attr("disabled","disabled")),this._isIE8&&this.span.addClass("e-disable"),this.div.attr("aria-disabled",!0),this.model.enabled=!1},enable:function(){this.element.hasClass("e-disable")&&(this.element.removeClass("e-disable"),this.radbtn.prop("disabled",!1)),this._isIE8&&this.span.removeClass("e-disable"),this.div.attr("aria-disabled",!1),this.model.enabled=!0}}),s.RadioButtonSize={Small:"small",Medium:"medium"}}(jQuery,Syncfusion),function(a,s,h){s.widget("ejDatePicker","ej.DatePicker",{element:null,_rootCss:"e-datepicker",model:null,validTags:["input","div","span"],_setFirst:!1,_addToPersist:["value"],_cancelValue:!1,type:"editor",angular:{require:["?ngModel","^?form","^?ngModelOptions"],requireFormatters:!0},defaults:{dayHeaderFormat:"min",showPopupButton:!0,enableAnimation:!0,showFooter:!0,displayInline:!1,htmlAttributes:{},dateFormat:"",watermarkText:"Select date",value:null,minDate:new Date("01/01/1900"),maxDate:new Date("12/31/2099"),startLevel:"month",depthLevel:"",cssClass:"",startDay:-1,stepMonths:1,locale:"en-US",showOtherMonths:!0,enableStrictMode:!1,enablePersistence:!1,enabled:!0,width:"",height:"",enableRTL:!1,showRoundedCorner:!1,headerFormat:"MMMM yyyy",buttonText:"Today",readOnly:!1,specialDates:null,fields:{date:"date",tooltip:"tooltip",iconClass:"iconClass",cssClass:"cssClass"},showTooltip:!0,showDisabledRange:!0,highlightSection:"none",highlightWeekend:!1,validationRules:null,validationMessage:null,validationMessages:null,allowEdit:!0,tooltipFormat:"ddd MMM dd yyyy",allowDrillDown:!0,blackoutDates:[],beforeDateCreate:null,open:null,close:null,select:null,change:null,focusIn:null,focusOut:null,beforeOpen:null,beforeClose:null,navigate:null,create:null,destroy:null,weekNumber:!1,timeZone:!0},dataTypes:{startDay:"number",stepMonths:"number",showOtherMonths:"boolean",enableStrictMode:"boolean",showRoundedCorner:"boolean",enableRTL:"boolean",displayInline:"boolean",showPopupButton:"boolean",locale:"string",readOnly:"boolean",cssClass:"string",dateFormat:"string",watermarkText:"string",headerFormat:"string",buttonText:"string",specialDates:"data",showTooltip:"boolean",highlightSection:"enum",highlightWeekend:"boolean",enableAnimation:"boolean",validationRules:"data",validationMessage:"data",validationMessages:"data",htmlAttributes:"data",tooltipFormat:"string",allowEdit:"boolean",allowDrillDown:"boolean",weekNumber:"boolean"},_renderPopup:function(){this.sfCalendar=s.buildTag("div.e-datepicker e-popup e-widget "+this.model.cssClass+" e-calendar "+(this.model.specialDates&&this.model.specialDates[0][this._mapField._icon]?"e-icons ":""),"",{},{id:this._id?"e-"+this._id:""}).attr({"aria-hidden":"true"}).attr(this._isIE8?{unselectable:"on"}:{}).insertBefore(this.element),this.model.displayInline&&!this.element.is("input")&&this.sfCalendar.addClass("e-inline"),this.popup=this.sfCalendar,s.isTouchDevice()||this.sfCalendar.addClass("e-ntouch"),this._setRestrictDateState(this.model.showDisabledRange),this._createCalender(),this._setDisplayInline(this.model.displayInline),this._resizeCalender(),this._setRTL(this.model.enableRTL),this._setRoundedCorner(this.model.showRoundedCorner),this._wireCalendarEvents()},_setModel:function(t){var g,b,o=!1,l=!1,p=!1;for(g in t)switch("showPopupButton"!=g&&"width"!=g&&"dateFormat"!=g&&"height"!=g&&"readOnly"!=g&&"allowEdit"!=g&&"enabled"!=g&&"watermarkText"!=g&&"htmlAttributes"!=g&&"validationMessages"!=g&&"validationRules"!=g&&s.isNullOrUndefined(this.sfCalendar)&&this._renderPopup(),g){case"dayHeaderFormat":this.model.dayHeaderFormat=t[g],o=l=!0;break;case"weekNumber":this.model.weekNumber=t[g],this._refreshDatepicker();break;case"showPopupButton":this._renderDateIcon(t[g],!0);break;case"displayInline":t[g]||this._bindDateButton(),this._setDisplayInline(t[g]),!this.model.allowEdit&&!t[g]&&this._isInputBox&&this.element.on("mousedown",a.proxy(this._showDatePopUp,this));break;case"value":s.isPlainObject(t[g])&&(t[g]=null),s.isNullOrUndefined(t.minDate)&&s.isNullOrUndefined(t.maxDate)?(this._setDateValue(t[g]),this._specificFormat()&&(this._stopRefresh=!0),t[g]=this.model.value):this._updateDateValue(t[g]),p=o=l=!0;break;case"specialDates":this.model.specialDates=t[g],this._createSpecialDateObject(),o=l=!0;break;case"fields":this.model.fields=t[g],this._mapField=this._getMapper(),o=l=!0;break;case"showTooltip":this.model.showTooltip=t[g],o=l=!0;break;case"highlightWeekend":this.model.highlightWeekend=t[g],o=l=!0;break;case"highlightSection":this.model.highlightSection=t[g],o=l=!0;break;case"dateFormat":this.model.dateFormat=t[g],this._ensureValue();break;case"minDate":this._setMinDate(t[g]),t[g]=this.model.minDate,this._ensureValue(),p=o=l=!0;break;case"maxDate":this._setMaxDate(t[g]),t[g]=this.model.maxDate,this._ensureValue(),p=o=l=!0;break;case"locale":this.model.locale=t[g],this.model.startDay=s.isNullOrUndefined(this._options.startDay)&&this.model.startDay===this.culture.calendar.firstDay||this._options.startDay===this.defaults.startDay?-1:this.model.startDay,this.model.dateFormat=s.isNullOrUndefined(this._options.dateFormat)&&this.model.dateFormat===this.culture.calendar.patterns.d?"":this.model.dateFormat,this._setCulture(t[g]),this.model.value&&this._setDateValue(this.model.value),t[g]=this.model.locale,o=l=!0;break;case"showOtherMonths":this.model.showOtherMonths=t[g],this._otherMonthsVisibility();break;case"enableStrictMode":this.model.enableStrictMode=t[g],p=o=l=!0;break;case"validationRules":null!=this.model.validationRules&&(this.element.rules("remove"),this.model.validationMessages=null),this.model.validationRules=t[g],null!=this.model.validationRules&&(this._initValidator(),this._setValidation());break;case"validationMessages":case"validationMessage":this.model.validationMessages=t[g],null!=this.model.validationRules&&null!=this.model.validationMessages&&(this._initValidator(),this._setValidation());break;case"readOnly":this.model.readOnly=t[g],this._disbleMaualInput();break;case"width":this._setWidth(t[g]);break;case"height":this._setHeight(t[g]);break;case"cssClass":this._setSkin(t[g]);break;case"enableRTL":this._setRTL(t[g]);break;case"showRoundedCorner":this._setRoundedCorner(t[g]);break;case"enabled":t[g]?this.enable():this.disable();break;case"buttonText":s.isNullOrUndefined(this._options)&&(this._options={}),this._options.buttonText=this.model.buttonText=t[g],this._localizedLabels.buttonText=this.model.buttonText,this._setFooterText(t[g]);break;case"showFooter":this._enableFooter(t[g]);break;case"watermarkText":s.isNullOrUndefined(this._options)&&(this._options={}),this._options.watermarkText=this.model.watermarkText=t[g],this._localizedLabels.watermarkText=this.model.watermarkText,this._setWaterMark();break;case"startDay":b=t[g],(parseInt(t[g])<0||parseInt(t[g])>6)&&(t[g]=this.culture.calendar.firstDay,b=-1),this.model.startDay=t[g],s.isNullOrUndefined(this._options)&&(this._options={}),this._options.startDay=b,o=l=!0;break;case"startLevel":this.model.startLevel=t[g],o=l=!0;break;case"headerFormat":this.model.headerFormat=t[g],o=l=!0;break;case"depthLevel":this.model.depthLevel=t[g],o=l=!0;break;case"htmlAttributes":this._addAttr(t[g]);break;case"allowEdit":this._changeEditable(t[g]);break;case"tooltipFormat":this.model.tooltipFormat=t[g],o=l=!0;break;case"allowDrillDown":this._allowQuickPick(t[g]),o=l=!0;break;case"showDisabledRange":this._setRestrictDateState(t[g]);break;case"blackoutDates":this.model.blackoutDates=t[g],this._initDisableObj(this.model.blackoutDates),o=l=!0}p&&(this._validateMinMaxDate(),t.value=this.model.value,t.maxDate=this.model.maxDate,t.minDate=this.model.minDate),this._setWaterMark(),o&&(this.isValidState||this.model.displayInline)&&this._refreshDatepicker(),l&&!this._startNavigate&&this._startLevel(this.model.startLevel),this._triggerChangeEvent(),this._checkErrorClass()},observables:["value"],_destroy:function(){this.model.displayInline&&a(window).off("resize",a.proxy(this._OnWindowResize,this)),this._isOpen&&this.hide(),this.sfCalendar&&this.sfCalendar.remove(),this.wrapper&&(this.element.insertAfter(this.wrapper),this.wrapper.remove()),this.element.removeClass("e-datepicker e-input"),this.element.removeAttr("aria-atomic aria-live aria-activedescendant aria-expanded role placeholder tabindex"),this._cloneElement.hasAttribute("name")||this.element.removeAttr("name")},_init:function(t){this._options=t,this._cloneElement=this.element.clone(),this._dt_drilldown=!1,this._ISORegex(),this._initDisableObj(this.model.blackoutDates),this.animation={open:{duration:200},close:{duration:100}},this._animating=!1,this._isInputBox=this._isInputBox(),this._startNavigate=!1,this._keyboardInteraction=!1,this._isSupport=document.createElement("input").placeholder!=h,this._checkAttribute(),this._setValues(),this._createDatePicker(),s.isNullOrUndefined(t)||s.isNullOrUndefined(t.validationMessage)||(this.model.validationMessages=this.model.validationMessage),null!=this.model.validationRules&&(this._initValidator(),this._setValidation()),t&&t.value!=h&&t.value!=this.element.val()&&this._trigger("_change",{value:this.element.val()})},_ISORegex:function(){this._tokens=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,this._extISORegex=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,this._basicISORegex=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,this._isISODate=/[T]/,this._numberRegex={2:/\d\d?/,4:/^\d{4}/,z:/Z|[+-]\d\d(?::?\d\d)?/gi,t:/T/,"-":/\-/,":":/:/},this._zeroRegex=/Z|[+-]\d\d(?::?\d\d)?/,this._dates=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],this._times=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]]},_initValidator:function(){this.element.closest("form").data("validator")||this.element.closest("form").validate()},_setValidation:function(){var t,o,l,p,g;for(l in this.element.rules("add",this.model.validationRules),t=(t=this.element.closest("form").data("validator"))||this.element.closest("form").validate(),o=this.element.attr("name"),t.settings.messages[o]={},this.model.validationRules)if(p=null,!s.isNullOrUndefined(this.model.validationRules[l])){if(s.isNullOrUndefined(this.model.validationRules.messages&&this.model.validationRules.messages[l]))for(g in t.settings.messages[o][l]=a.validator.messages[l],this.model.validationMessages)l==g&&(p=this.model.validationMessages[l]);else p=this.model.validationRules.messages[l];t.settings.messages[o][l]=p??a.validator.messages[l]}},setValue:function(t){"string"==typeof t&&(t=new Date(t));var o=this.model.value;this._setDateValue(t),this._checkErrorClass(),o!=this.model.value&&this._triggerChangeEvent()},_checkAttribute:function(){for(var l,p,t=["min","max","readonly","disabled"],o=["minDate","maxDate","readOnly","enabled"],g=0;g<t.length;g++)l=this.element.attr(t[g]),p=o[g],s.isNullOrUndefined(l)||(s.isNullOrUndefined(this._options)||s.isNullOrUndefined(this._options[p]))&&(this.model[p]="enabled"!=p&&"readOnly"!=p?new Date(l):"readOnly"==p?this.element.is("[readonly]"):!this.element.is("[disabled]"))},_updateDateValue:function(t){var o=this._checkDateObject(t);null!=o?(this.isValidState=!0,""==o?(this.element.val(""),this.model.value=null):(this.model.value=o,this._preTxtValue=this.element.val(this._formatter(this.model.value,this.model.dateFormat)))):(this.element.val("string"==typeof o&&this.model.enableStrictMode?t:""),this.model.value=null,this.isValidState=""==this.element.val()),this._removeWatermark()},_ensureValue:function(){var t=this._parseDate(this.element.val(),this.model.dateFormat);this.model.value?this._setDateValue(this.model.value):t&&this._setDateValue(t)},_changeEditable:function(t){var o=t?"_on":"_off";this.element.is(":input")&&(t?(this.model.readOnly||this.element.attr("readonly",!1),this.element.off("mousedown",a.proxy(this._showDatePopUp,this))):(this.model.readOnly||this.element.attr("readonly","readonly"),!this.model.displayInline&&this.element.on("mousedown",a.proxy(this._showDatePopUp,this))),this[o](this.element,"blur",this._onFocusOut),this[o](this.element,"focus",this._onFocusIn),this[o](this.element,"keydown",this._onKeyDown))},_allowQuickPick:function(t){a(".e-datepicker-headertext",this.sfCalendar)[t?"on":"off"]("click",a.proxy(this._forwardNavHandler,this))},_setRestrictDateState:function(t){this.sfCalendar[t?"addClass":"removeClass"]("e-dp-restrict-show")},_setValues:function(){this.Date=new Date,this._id=this.element[0].id,this.isValidState=!0,this._setCulture(this.model.locale),this._setMinDate(this.model.minDate),this._setMaxDate(this.model.maxDate),this._calendarDate=this._zeroTime(new Date),(this.model.startDay<0||this.model.startDay>6)&&(this.model.startDay=0),this.Date.firstDayOfWeek=this.model.startDay,this.Date.fullYearStart="20",this._showHeader=!0,s.isNullOrUndefined(this.model.value)&&""!=this.element[0].value&&(this.model.value=this.element[0].value),this._validateMinMaxDate(),this._dateValue=new Date(this._calendarDate.toString()),this._isIE7=this._checkIE7(),this._isIE8="msie"==s.browserInfo().name&&"8.0"==s.browserInfo().version,this._isIE9="msie"==s.browserInfo().name&&"9.0"==s.browserInfo().version,this._getInternalEvents=!1,this._flag=!0,this._ejHLWeekEnd=!1,this._isOpen=!1,this._prevDate=null,this._preValue=null,this._isFocused=!1},_addAttr:function(t){var o=this;a.map(t,function(l,p){var g=p.toLowerCase();"class"==g?o.wrapper.addClass(l):"disabled"==g?o.disable():"readOnly"==g?o.model.readOnly=!0:"style"==g?o.wrapper.attr(p,l):"id"==g?(o.wrapper.attr(p,l+"_wrapper"),o.element.attr(p,l)):s.isValidAttr(o.element[0],p)?o.element.attr(p,l):o.wrapper.attr(p,l)})},_createDatePicker:function(){this._createWrapper(),this._wireEvents(),this.model.displayInline&&this.show(),this.model.enableRTL&&this._setRTL(!0),this.model.showRoundedCorner&&this._setRoundedCorner(!0)},_checkNameAttr:function(){!this.element.attr("name")&&this._isInputBox&&this.element.attr("name",this.element[0].id),this.model.displayInline&&!this._isInputBox&&this._hiddenInput.attr("name",this.element[0].id)},_createWrapper:function(){if(this._getMapper(),this.model.specialDates&&this._createSpecialDateObject(),this.element[0].hasAttribute("tabindex")||this.element.attr("tabindex","0"),this._isInputBox&&(this.element.addClass("e-input").attr({"aria-atomic":"true","aria-live":"assertive","aria-expanded":"false",role:"combobox"}),this.wrapper=s.buildTag("span.e-datewidget e-widget "+this.model.cssClass),this.wrapper.attr("style",this.element.attr("style")),this.element.removeAttr("style"),s.isTouchDevice()||this.wrapper.addClass("e-ntouch"),this.innerWrapper=s.buildTag("span.e-in-wrap e-box e-padding"),this.wrapper.append(this.innerWrapper).insertBefore(this.element),this.innerWrapper.append(this.element),this.dateIcon=s.buildTag("span.e-select#"+this._id+"-img","",{},this._isIE8?{unselectable:"on"}:{}).append(s.buildTag("span.e-icon e-calendar","",{},{"aria-label":"Select"}).attr(this._isIE8?{unselectable:"on"}:{})).insertAfter(this.element)),!this._isSupport||this.model.displayInline&&!this._isInputBox){this._hiddenInput=s.buildTag("input.e-input e-placeholder ","",{},{type:"text"}).insertAfter(this.element),this._isInputBox&&this._hiddenInput.val(this._localizedLabels.watermarkText),this._hiddenInput.css("display","block");var t=this;a(this._hiddenInput).focus(function(){t.element.focus()})}this._checkNameAttr(),this.model.height||(this.model.height=this.element.attr("height")),this.model.width||(this.model.width=this.element.attr("width")),this._setHeight(this.model.height),this._setWidth(this.model.width),this._id&&a("#e-"+this._id).remove(),this._setDateValue(this.model.value),this._preValue=this._parseDate(this.element.val(),this.model.dateFormat),this._setWaterMark(),this._dateValue=new Date(this._calendarDate.toString()),this.model.displayInline?this._renderPopup():this._isInputBox&&this._renderDateIcon(this.model.showPopupButton,!1),this.model.readOnly&&this._disbleMaualInput(),this.model.enabled?this.model.enabled&&a(this.element).hasClass("e-disable")&&this.enable():this.disable(),this._layoutChanged(),this._checkErrorClass(),this._addAttr(this.model.htmlAttributes)},_isInputBox:function(){return this.element.is("input[type=date]")&&this.element.attr("type","text"),this.element.is("input")&&(this.element.is("input[type=text]")||!this.element.attr("type"))},_renderDateIcon:function(t,o){o&&this.model.showPopupButton==t||(!t&&this.dateIcon?(this._bindInputEvent(),this.dateIcon.css("display","none"),this.innerWrapper.removeClass("e-padding")):(this.innerWrapper&&(this.innerWrapper.addClass("e-padding"),this.dateIcon.css("display","block")),this.model.displayInline||this._bindDateButton()),this.model.showPopupButton=t)},_resizeCalender:function(){"short"==this.model.dayHeaderFormat||"min"==this.model.dayHeaderFormat||"none"==this.model.dayHeaderFormat?this.sfCalendar.removeClass("e-headerlong"):"long"==this.model.dayHeaderFormat&&this.sfCalendar.addClass("e-headerlong")},_setWidth:function(t){t?this.wrapper?this.wrapper.width(t):this.element.width(t):this.model.width=this.wrapper?this.wrapper.outerWidth():this.element.width()},_setHeight:function(t){t?this.wrapper?this.wrapper.height(t):this.element.height(t):this.model.height=this.wrapper?this.wrapper.outerHeight():this.element.height(),this._isIE7&&this.element.height(this.innerWrapper.height())},_setRTL:function(t){t?(this.wrapper&&this.wrapper.addClass("e-rtl"),this.sfCalendar&&this.sfCalendar.addClass("e-rtl")):(this.wrapper&&this.wrapper.removeClass("e-rtl"),this.sfCalendar&&this.sfCalendar.removeClass("e-rtl"))},_setRoundedCorner:function(t){t?(this.innerWrapper&&this.innerWrapper.addClass("e-corner"),this.sfCalendar&&this.sfCalendar.addClass("e-corner")):(this.innerWrapper&&this.innerWrapper.removeClass("e-corner"),this.sfCalendar&&this.sfCalendar.removeClass("e-corner"))},_refreshDatepicker:function(){var t,o,l,p;if(this._stopRefresh)this._stopRefresh=!1;else{if(t=this.element.val(),o=!1,null!==this.model.navigate&&this.sfCalendar.find("table")[0]!==h)if("e-dp-viewdays"===(l=this.sfCalendar.find("table")[0].className)&&+this._dateValue!=+this._calendarDate)this._calendarDate=this._dateValue,o=!0;else if("e-dp-viewdays"!==l)return void(("e-dp-viewmonths"===l||"e-dp-viewyears"===l||"e-dp-viewallyears"===l)&&(this._startNavigate=!0));p=this._specificFormat()&&this._formatter(this._preValue,this.model.dateFormat,this.model.locale)!=t?this._parseDate(t,!0):this._parseDate(t),p=this._validateYearValue(p),null!==this.model.navigate&&null!==p&&p!==this._calendarDate&&(p=this._calendarDate),this._setDateValue(p),this._specificFormat()&&this._compareDate(this.model.value,this._calendarDate)&&this.element.val(t),a(".e-datepicker-headertext",this.sfCalendar).text(this._formatter(this._calendarDate,this.model.headerFormat)),this._resizeCalender(),this._dateValue=new Date(this._calendarDate.toString()),this._hoverDate=this._calendarDate.getDate()-1,this._renderCalendar(this,this._dateValue),o&&""===t&&this._addFocus("day",this._hoverDate),this._setFooterText(this._localizedLabels.buttonText),this._enableFooter(this.model.showFooter),this._layoutChanged()}},_removeCurrentMonthFromHideDate:function(){for(var t,o,l,p=this.sfCalendar.find("tbody.e-datepicker-days tr").length,g=0;g<p;g++)for(t=this.sfCalendar.find("tbody.e-datepicker-days tr")[g].cells.length,o=0;o<t;o++)(l=a(this.sfCalendar.find("tbody.e-datepicker-days tr")[g].cells[o])).hasClass("e-hidedate")&&l.hasClass("current-month")&&l.removeClass("current-month")},_validateYearValue:function(t){if(null!=t){var o=s.preferredCulture(this.model.locale).calendars.standard.twoDigitYearMax;o="string"==typeof o?(new Date).getFullYear()%100+parseInt(o,10):o,this._calendarDate.getFullYear()-t.getFullYear()==100&&this._calendarDate.getFullYear()>o&&t.setFullYear(this._calendarDate.getFullYear())}return t},_setFooterText:function(t){a(".e-footer-text",this.sfCalendar).html(t)},_setSkin:function(t){this.wrapper?(this.wrapper.removeClass(this.model.cssClass),this.wrapper.addClass(t)):(this.element.removeClass(this.model.cssClass),this.element.addClass(t)),this.sfCalendar.removeClass(this.model.cssClass),this.sfCalendar.addClass(t)},_setDisplayInline:function(t){this.model.displayInline=t,t&&this._isInputBox?(this.sfCalendar.insertAfter(this.wrapper),this._setDatePickerPosition()):t?(this.element.append(this.sfCalendar),this._isSupport&&this._isInputBox||this._hiddenInput.css("display","none")):(this.sfCalendar.css("display","none"),a("body").append(this.sfCalendar),this._isOpen=!1),t&&(this.show(),this._off(this.dateIcon,"mousedown",this._showDatePopUp),this.element.off("mousedown",a.proxy(this._showDatePopUp,this)))},_disbleMaualInput:function(){this.model.readOnly?(a(this.element).attr("readonly","readonly"),this.model.displayInline||this.hide()):this.model.allowEdit&&a(this.element).prop("readonly",!1)},_checkDateObject:function(t,l){return!t||"object"==typeof JSON&&"{}"===JSON.stringify(t)?null:(t instanceof Date||(t=(l=this._specificFormat()?this._parseDate(t,!0):this._parseDate(t,l))||((l=this._checkJSONString(t))?l:null)),!isNaN(Date.parse(t))&&(this._dateValue=this._calendarDate=this._zeroTime(t),this._validateDate(t))?this._dateValue:null)},_checkJSONString:function(t){if(isNaN(Date.parse(t))){if(this.model.enableStrictMode&&null==s.parseDate(t,this.model.value,this.model.locale))return null;if(this._extISORegex.exec(t)||this._basicISORegex.exec(t))return this._dateFromISO(t)}else if(new Date(t).toJSON()===t||new Date(t).toDateString()===t||new Date(t).toGMTString()===t||new Date(t).toISOString()===t||new Date(t).toLocaleString()===t||new Date(t).toString()===t||new Date(t).toUTCString()===t){if(this.model.timeZone)return new Date(new Date(t).getTime()+36e5*s.serverTimezoneOffset);if(t.match(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(\.\d+)?(([+-]\d\d:\d\d)|Z)?$/i)&&t.match(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(\.\d+)?(([+-]\d\d:\d\d)|Z)?$/i).length>0)return t=t.split("T"),s.parseDate(t=t[0],"yyyy-MM-dd",this.model.locale)}else if("string"==typeof t)return this._dateFromISO(t)},_dateFromISO:function(t){var C,T,D,L,I,R,V,F,A,o=this._isISODate.test(t)&&(this._extISORegex.exec(t)||this._basicISORegex.exec(t)),l="",p="",g="";if(o){for(C=0;C<this._dates.length;C++)if(this._dates[C][1].exec(o[1])){l=this._dates[C][0];break}if(o[3])for(T=0;T<this._times.length;T++)if(this._times[T][1].exec(o[3])){p=(o[2]||" ")+this._times[T][0];break}for(o[4]&&this._zeroRegex.exec(o[4])&&(g="Z"),D=(l+p+g).match(this._tokens),I=[],V=0;V<D.length;V++)F=D[V],R=this._checkLiteral(D[V]),A=this._numberRegex[R?D[V].toLowerCase():F.length]||new RegExp("^\\d{1,"+F.length+"}"),(L=t.match(A))&&(t.substr(0,t.indexOf(L))>=0&&!R&&(D[V].indexOf("M")>=0?I.push(parseInt(L[0])-1):I.push(parseInt(L[0]))),t=t.slice(t.indexOf(L[0])+L[0].length));return"Z"==o[4]?new Date(Date.UTC.apply(null,I)):new Date(I[0],I[1],I[2],I[3],I[4],I[5])}return new Date(t+"")},_checkLiteral:function(t){var o=t.toLowerCase();return"t"==o||"z"==o||":"==o||"-"==o},_checkInstanceType:function(t){return(t=this._stringToObject(t))?(t instanceof Date||(t=this._parseDate(t)),isNaN(Date.parse(t))?null:this._zeroTime(t)):null},_stringToObject:function(t){return"string"==typeof t&&(t=s.parseDate(t,this.model.dateFormat,this.model.locale)??new Date(t)),t},_validateMinMaxDate:function(){var t=!1,o=!1;this.model.maxDate<this.model.minDate&&(this.model.minDate=this.model.maxDate),this.model.enableStrictMode?this.model.value?this.model.value<this.model.minDate?(this._calendarDate=this.model.minDate,this.isValidState=!1,o=!0):this.model.value>this.model.maxDate?(this._calendarDate=this.model.maxDate,this.isValidState=!1,o=!0):this.isValidState=!0:this._calendarDate<this.model.minDate?this._calendarDate=this.model.minDate:this._calendarDate>this.model.maxDate&&(this._calendarDate=this.model.maxDate):(this.model.value?this.model.value<this.model.minDate?(this._calendarDate=this.model.value=this.model.minDate,t=!0):this.model.value>this.model.maxDate&&(this._calendarDate=this.model.value=this.model.maxDate,t=!0):(this.element.val(""),this._calendarDate<this.model.minDate?this._calendarDate=this.model.minDate:this._calendarDate>this.model.maxDate&&(this._calendarDate=this.model.maxDate)),this.isValidState=!0),t&&this.element.val(this._formatter(this.model.value,this.model.dateFormat)),o&&this._getInternalEvents&&this._trigger("outOfRange")},_setCulture:function(t){this.culture=s.preferredCulture(t),this.culture&&(this.model.locale="en"==this.culture.name?"en-US":this.culture.name,this.Date.dayNames=this.culture.calendar.days.names,this.Date.dayNamesMin=this.culture.calendar.days.namesShort,this.Date.abbrDayNames=this.culture.calendar.days.namesAbbr,this.Date.monthNames=this.culture.calendar.months.names,this.Date.abbrMonthNames=this.culture.calendar.months.namesAbbr,this.Date.format=this.culture.calendar.patterns.d,""==this.model.dateFormat&&(this.model.dateFormat=this.culture.calendar.patterns.d),-1==this.model.startDay&&(this.model.startDay=this.culture.calendar.firstDay)),this._separator=this._getSeparator(),this._localizedLabels=this._getLocalizedLabels(),s.isNullOrUndefined(this._options)||(s.isNullOrUndefined(this._options.watermarkText)||(this._localizedLabels.watermarkText=this._options.watermarkText),s.isNullOrUndefined(this._options.buttonText)||(this._localizedLabels.buttonText=this._options.buttonText)),this._localizedLabelToModel()},_localizedLabelToModel:function(){this.model.watermarkText=this._localizedLabels.watermarkText,this.model.buttonText=this._localizedLabels.buttonText},_setWaterMark:function(){if(null!=this.element&&this.element.hasClass("e-input"))return this._localizedLabels.watermarkText&&""==this.element.val()&&(this.isValidState=!0,this._checkErrorClass()),this._isSupport||""!=this.element.val()?a(this.element).attr("placeholder",this._localizedLabels.watermarkText):this._hiddenInput.css("display","block").val(this._localizedLabels.watermarkText),!0},_setDatePickerPosition:function(){if(!this.model.displayInline||this._isInputBox){var l,p,t=this.element.is("input")?this.wrapper:this.element,o=this._getOffset(t),g=a(document).scrollTop()+a(window).height()-(o.top+a(t).outerHeight()),b=o.top-a(document).scrollTop(),C=this.sfCalendar.outerHeight(),T=this.sfCalendar.outerWidth(),D=o.left,L=t.outerHeight(),R=(t.height(),this._getZindexPartial()),F=C<g||C>b?o.top+L+3:o.top-C-3;l=a(document).scrollLeft()+a(window).width()-D,p=a(document).scrollLeft()+D+t.width(),(this.model.enableRTL||T>l&&T<D+t.outerWidth()&&!s.isNullOrUndefined(this.wrapper))&&(D+=this.wrapper.width()-this.sfCalendar.width()),T>p&&(D=o.left),this.sfCalendar.css({left:D+"px",top:F+"px","z-index":R})}},_getOffset:function(t){return s.util.getOffset(t)},_getZindexPartial:function(){return s.util.getZindexPartial(this.element,this.sfCalendar)},_setMinDate:function(t){this.model.minDate=this._checkInstanceType(t),this.model.minDate||(this.model.minDate=new Date("11/31/1899"))},_setMaxDate:function(t){this.model.maxDate=this._checkInstanceType(t),this.model.maxDate||(this.model.maxDate=new Date("12/31/2099"))},_setDateValue:function(t,o){var l=this._checkDateObject(t,o);null!=l?(this.isValidState=!0,this.model.value=new Date(l),this.model.displayInline||this.wrapper.addClass("e-valid"),this._validateMinMaxDate(),this._preTxtValue=this.element.val(this._formatter(this.model.value,this.model.dateFormat))):(t instanceof Date&&(this._validateMinMaxDate(),t=this._formatter(t,this.model.dateFormat)),this.element.val(this.model.enableStrictMode?t:null),this.model.value=null,this.model.displayInline||this.wrapper.removeClass("e-valid"),this._triggerChangeEvent(),this.isValidState=!(""!=this.element.val()&&!s.isNullOrUndefined(this.element.val()))),this._removeWatermark()},_updateInputVal:function(){(null!=this._validateValue()||!this.model.enableStrictMode)&&this.sfCalendar&&this.sfCalendar.find(".e-datepicker-days").is(":visible")&&this._refreshDatepicker()},_validateInputVal:function(){var t=this._validateValue();null!=t&&(this.model.enableStrictMode||(t<=this.model.maxDate&&t>=this.model.minDate||(this.model.value=null),this.isValidState=!0))},_validateValue:function(){var t;return t=this._specificFormat()&&this.element.val()!=this._formatter(this._preValue,this.model.dateFormat,this.model.locale)?this._parseDate(this.element.val(),!0):this._parseDate(this.element.val()),this._validateYearValue(t)},_getSeparator:function(){var t,o,l;for(t=this.culture?this.culture.calendar.patterns.d:this.model.dateFormat,o=new RegExp("^[a-zA-Z0-9]+$"),l=0;l<t.length;l++)if(!o.test(t[l]))return t[l]},_checkIE7:function(){if("Microsoft Internet Explorer"==navigator.appName){var o=-1;if(null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(navigator.userAgent)&&(o=parseFloat(RegExp.$1)),o>=7&&o<8)return!0}return!1},_isValidDate:function(t){return t&&"function"==typeof t.getTime&&isFinite(t.getTime())},_formatter:function(t,o){var l=this._checkFormat(o);return s.format(t,l,this.model.locale)},_parseDate:function(t,o){var l=this._checkFormat(this.model.dateFormat),p=t;return this._specificFormat()&&p!=h&&""!=t&&1!=o&&s.format(s.parseDate(p,l,this.model.locale),this.model.dateFormat,this.model.locale)!=p?this._dateValue:s.parseDate(t,l,this.model.locale)},_checkFormat:function(t){var o=this,l=this._regExp();return t.replace(l,function(p){return"/"===p&&"/"!==s.preferredCulture(o.model.locale).calendars.standard["/"]?"'/'":p})},_regExp:function(){return/\/dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|HH|H|hh|h|mm|m|fff|ff|f|tt|ss|s|zzz|zz|z|gg|g|"[^"]*"|'[^']*'|[/]/g},isLeapYear:function(t){return t%4==0&&t%100!=0||t%400==0},_zeroTime:function(t){var o="string"==typeof t?this._parseDate(t):new Date(t);return o.setMilliseconds(0),o.setSeconds(0),o.setMinutes(0),o.setHours(0),o},_getDaysInMonth:function(t){return[31,this.isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][t.getMonth()]},_addDays:function(t,o){return t.setDate(t.getDate()+o),t},_addYears:function(t,o){return t.setFullYear(t.getFullYear()+o),t},_addMonths:function(t,o){var l=t.getDate();return t.setMonth(t.getMonth()+o),l>t.getDate()&&this._addDays(t,-t.getDate()),t},_isWeekend:function(t){return 0==t.getDay()||6==t.getDay()},_isSpecialDates:function(t){if(this.model.specialDates)for(var o=0;o<this.model.specialDates.length;o++)if(this.model.specialDates[o]&&this.model.specialDates[o][this._mapField._date]&&t.getDate()==this.model.specialDates[o][this._mapField._date].getDate()&&t.getMonth()==this.model.specialDates[o][this._mapField._date].getMonth()&&t.getFullYear()==this.model.specialDates[o][this._mapField._date].getFullYear())return this._getIndex=o,!0;return!1},_getMapper:function(){var t=this.model.fields;this._mapField={},this._mapField._date=t&&t.date?t.date:"date",this._mapField._tooltip=t&&t.tooltip?t.tooltip:"tooltip",this._mapField._icon=t&&t.iconClass?t.iconClass:"iconClass",this._mapField._custom=t&&t.cssClass?t.cssClass:"cssClass"},_createSpecialDateObject:function(){for(var t=0;t<this.model.specialDates.length;t++)this.model.specialDates[t][this._mapField._date]=this._checkInstanceType(this.model.specialDates[t][this._mapField._date])},_getMonthName:function(t,o){return t?this.Date.abbrMonthNames[o.getMonth()]:this.Date.monthNames[o.getMonth()]},_displayNewMonth:function(t,o){return this._setDisplayedMonth(this.displayedMonth+t,this.displayedYear+o,!0),!1},_setDisplayedMonth:function(t,o,l){var p,g,b,C,T,D;this.model.minDate!=h&&this.model.maxDate!=h&&((p=new Date(this.model.minDate.getTime())).setDate(1),(g=new Date(this.model.maxDate.getTime())).setDate(1),!t&&!o||isNaN(t)&&isNaN(o)?(b=this._zeroTime(new Date)).setDate(1):b=isNaN(t)?new Date(o,this.displayedMonth,1):isNaN(o)?new Date(this.displayedYear,t,1):new Date(o,t,1),b.getTime()<p.getTime()?b=p:b.getTime()>g.getTime()&&(b=g),C=this.displayedMonth,T=this.displayedYear,this.displayedMonth=b.getMonth(),this.displayedYear=b.getFullYear(),D=b,l&&(this.displayedMonth!=C||this.displayedYear!=T)&&(this._renderCalendar(this,D),this._dateValue=D,this._trigger("monthChanged",[this.displayedMonth,this.displayedYear])))},_clearSelected:function(){this.numSelected=0,s.isNullOrUndefined(this.sfCalendar)||("week"==this.model.highlightSection?a("td.e-active",this.sfCalendar).removeClass("e-active").addClass("e-state-hover").attr("aria-selected",!1).parent().removeClass("e-selected-week"):"month"==this.model.highlightSection?a("td.e-active",this.sfCalendar).removeClass("e-active").addClass("e-state-hover").attr("aria-selected",!1).parent().parent().removeClass("e-selected-month"):"workdays"==this.model.highlightSection?a("td.e-active",this.sfCalendar).removeClass("e-active").addClass("e-state-hover").attr("aria-selected",!1).parent().removeClass("e-work-week"):a("td.e-active",this.sfCalendar).removeClass("e-active").addClass("e-state-hover").attr("aria-selected",!1))},_addSelected:function(){"week"==this.model.highlightSection?a("td.e-active",this.sfCalendar).parent().addClass("e-selected-week"):"month"==this.model.highlightSection?a("td.e-active, this.sfCalendar").parent().parent().addClass("e-selected-month"):"workdays"==this.model.highlightSection&&a("td.e-active",this.sfCalendar).parent().addClass("e-work-week")},_hideOtherMonths:function(t){a("td.other-month",t).css("visibility","hidden")},_showOtherMonths:function(t){a("td.other-month",t).css({visibility:"visible"})},_otherMonthsVisibility:function(){this.model.showOtherMonths?this._showOtherMonths(this.sfCalendar):this._hideOtherMonths(this.sfCalendar)},_createCalender:function(){s.buildTag("div.e-header").attr(this._isIE8?{unselectable:"on"}:{}).append(s.buildTag("span.e-prev").append(s.buildTag("a.e-icon e-arrow-sans-left").attr({role:"button"}).attr(this._isIE8?{unselectable:"on"}:{}))).append(s.buildTag("span.e-text").append(s.buildTag("span.e-datepicker-headertext").text(this._formatter(this._calendarDate,this.model.headerFormat)).attr({"aria-atomic":"true","aria-live":"assertive",role:"heading"}).attr(this._isIE8?{unselectable:"on"}:{}))).append(s.buildTag("span.e-next").append(s.buildTag("a.e-icon e-arrow-sans-right").attr({role:"button"}).attr(this._isIE8?{unselectable:"on"}:{}))).appendTo(this.sfCalendar),this._enableHeader(this._showHeader);var t=s.buildTag("table.e-dp-viewdays","",{}).data("e-table","data").attr({role:"grid"}).attr(this._isIE8?{unselectable:"on"}:{});this.sfCalendar.append(t),this._renderCalendar(this),this._startLevel(this.model.startLevel),s.buildTag("div.e-footer").append(s.buildTag("span.e-footer-icon")).append(s.buildTag("span.e-footer-text")).appendTo(this.sfCalendar),a(".e-footer-text",this.sfCalendar).html(this._localizedLabels.buttonText),this._enableFooter(this.model.showFooter)},_enableHeader:function(t){t?a(".e-header",this.sfCalendar).show():a(".e-header",this.sfCalendar).hide()},_enableFooter:function(t){t?a(".e-footer",this.sfCalendar).show():a(".e-footer",this.sfCalendar).hide(),this._todayBtnDisable()},_todayBtnDisable:function(){var t=new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate(),0,0,0);+this.model.minDate<=+t&&+this.model.maxDate>=+t?a(".e-footer",this.sfCalendar).removeClass("e-footer-disable"):a(".e-footer",this.sfCalendar).addClass("e-footer-disable")},_checkArrows:function(t,o){this._preArrowCondition(t,this.model.minDate.getFullYear()),this._nextArrowCondition(o,this.model.maxDate.getFullYear())},_checkDateArrows:function(){this._preArrowCondition(this._tempMinDate,this.model.minDate),this._nextArrowCondition(this._tempMaxDate,this.model.maxDate)},_preArrowCondition:function(t,o){t<=o?this.sfCalendar.find(".e-prev").addClass("e-disable").attr({"aria-disabled":!0}):this.sfCalendar.find(".e-prev").removeClass("e-disable").attr({"aria-disabled":!1})},_nextArrowCondition:function(t,o){t>=o?this.sfCalendar.find(".e-next").addClass("e-disable").attr({"aria-disabled":!0}):this.sfCalendar.find(".e-next").removeClass("e-disable").attr({"aria-disabled":!1})},_previousNextHandler:function(t){var o,l,g,T;if(this.model.readOnly||!this.model.enabled||a(t.target).hasClass("e-disable")||a(t.currentTarget).hasClass("e-disable"))return!1;switch(t.preventDefault(),this._keyboardInteraction=!1,o=a("table",this.sfCalendar),l=this._navigateFrom(o),g=!!(a(t.target).is("a")?a(t.target.parentNode):a(t.target)).hasClass("e-prev"),this._processNextPrevDate(g),a("table",this.sfCalendar).get(0).className){case"e-dp-viewdays":T="month";break;case"e-dp-viewmonths":T="year";break;case"e-dp-viewyears":T="decade";break;case"e-dp-viewallyears":T="century"}this._trigger("navigate",{date:this._dateValue,value:this._formatter(this._dateValue,this.model.dateFormat),navigateTo:T,navigateFrom:l})},_processNextPrevDate:function(t){var o,l,p,b,C,T,D,I;if(this._DRPdisableFade&&(o=new Date(this.sfCalendar.find("td.current-month").attr("data-date")),this._dateValue=o),t&&this.sfCalendar.find(".e-arrow-sans-left").hasClass("e-disable")||!t&&this.sfCalendar.find(".e-arrow-sans-right").hasClass("e-disable"))return!1;switch((l=a("table",this.sfCalendar)).get(0).className){case"e-dp-viewdays":if(b=this.model.stepMonths,t){if(this._dateValue<=this.model.minDate)return this._flag=!1,!1}else if(this._dateValue>=this.model.maxDate)return this._flag=!1,!1;this._flag=!0,this._addMonths(this._dateValue,t?-b:b),this._clickedDate&&(this._calendarDate=this._clickedDate),this._dateValue=this._dateValue<this.model.minDate?new Date(this.model.minDate.toString()):this._dateValue,this._dateValue=this._dateValue>this.model.maxDate?new Date(this.model.maxDate.toString()):this._dateValue,this._renderCalendar(this,this._dateValue),this._keyboardInteraction&&(this._trigger("navigate",{date:this._dateValue,value:this._formatter(this._dateValue,this.model.dateFormat)}),this._removeCurrentMonthFromHideDate(),this._keyboardInteraction=!1),a(".e-datepicker-headertext",this.sfCalendar).text(this._formatter(this._dateValue,this.model.headerFormat)),this._addFocus("day",this._hoverDate),C=this._findFirstLastDay(new Date(this._dateValue.toString())),this._preArrowCondition(C.firstDay,this.model.minDate),this._nextArrowCondition(C.lastDay,this.model.maxDate);break;case"e-dp-viewmonths":if((T=this._dateValue).setFullYear(a(".e-datepicker-headertext",this.sfCalendar).text()),t){if(T.getFullYear()<=this.model.minDate.getFullYear())return this._flag=!1,!1}else if(T.getFullYear()>=this.model.maxDate.getFullYear())return this._flag=!1,!1;this._flag=!0,this._addYears(T,t?-1:1),this._renderCalendar(this,T),p=T.getFullYear(),a(".e-datepicker-headertext",this.sfCalendar).text(p),a("tbody,tr.e-week-header",l).not(".e-datepicker-months").hide(),a(a(l).find(".e-datepicker-months")).show(),this._addFocus("month",this._hoverMonth),this._checkArrows(p,p);break;case"e-dp-viewyears":if((D=this._dateValue).setFullYear(a(l).find(".e-state-hover").text()),t){if(parseInt(this.popup.find("td.e-year-first:first").text())<=this.model.minDate.getFullYear())return this._flag=!1,!1}else if(parseInt(a("td.e-year-last:first").prev().text())>=this.model.maxDate.getFullYear())return this._flag=!1,!1;this._flag=!0,a(l).find(".e-state-hover").hasClass("e-year-first")&&t||a(l).find(".e-state-hover").hasClass("e-year-last")&&!t?this._dateValue.setFullYear(D.getFullYear()):a(l).find(".e-state-hover").hasClass("e-year-first")&&!t?this._dateValue.setFullYear(D.getFullYear()+11):a(l).find(".e-state-hover").hasClass("e-year-last")&&t?this._dateValue.setFullYear(D.getFullYear()-11):this._dateValue.setFullYear(D.getFullYear()+(t?-10:10)),this._renderCalendar(this,this._dateValue),I=parseInt(this._dateValue.getFullYear())-(parseInt(this._dateValue.getFullYear())%10+1),a(".e-datepicker-headertext",this.sfCalendar).text(I+1+" - "+(I+10)),a("tbody,tr.e-week-header",l).not(".e-datepicker-years").hide(),a(a(l).find(".e-datepicker-years")).show(),this._addFocus("year",this._hoverYear+(a(".e-year-first.e-hidedate").length?-1:0)),this._checkArrows(I+1,I+10);break;case"e-dp-viewallyears":if(t){if(parseFloat(a("td.e-allyear-first",l.get(0)).text().split("-")[1])<=this.model.minDate.getFullYear())return this._flag=!1,!1;this._flag=!0}else{if(parseFloat(a("td.e-allyear-last",l.get(0)).prev().text().split("-")[1])>=this.model.maxDate.getFullYear())return this._flag=!1,!1;this._flag=!0}this._dateValue.setFullYear((this._lastHoveredYear?this._lastHoveredYear:this._dateValue.getFullYear())+(t?-100:100)),this._lastHoveredYear=this._dateValue.getFullYear(),this._renderCalendar(this,this._dateValue),I=parseInt(this._dateValue.getFullYear())-(parseInt(this._dateValue.getFullYear())%100+1),p=parseFloat(a("td.e-allyear-last",l.get(0)).prev().text().split("-")[1]),a(".e-datepicker-headertext",this.sfCalendar).text(I+1+" - "+p),a("tbody,tr.e-week-header",l).not(".e-datepicker-allyears").hide(),a(a(l).find(".e-datepicker-allyears")).show(),this._addFocus("allyear",this._hoverAllYear+(a(".e-allyear-first.e-hidedate").length?-1:0)),this._checkArrows(I+1,p)}this._layoutChanged()},_addFocus:function(t,o){var p,g,l="e-current-"+t;return"day"==t&&(l="current-month"),p=this.sfCalendar.find("tbody tr td."+l),"month"==t&&a(p).each(function(b,C){parseInt(a(C).attr("data-index"))!=parseInt(o)||(o=b)}),(g=p[o])||(g=p.last()),this.sfCalendar.find("table td").removeClass("e-state-hover"),a(g).hasClass("e-hidedate")||a(g).addClass("e-state-hover"),this._setActiveState(t),o},_setActiveState:function(t){var o,l,p;if(this.model.value instanceof Date){var b,g=this.sfCalendar.find("tbody tr td.e-current-"+t),C=this,T=-1;switch(t){case"month":this.model.value.getFullYear()===parseInt(a(".e-text",this.sfCalendar).text())&&a(g).each(function(D,L){parseInt(a(L).attr("data-index"))!=parseInt(C.model.value.getMonth())||(T=D)});break;case"year":o=this.model.value.getFullYear(),a(g).each(function(D,L){parseInt(L.innerHTML)!=parseInt(o)||(T=D)});break;case"allyear":l=parseInt(this.model.value.getFullYear())-(parseInt(this.model.value.getFullYear())%10+1),p=l+1+" - "+(l+10),a(g).each(function(D,L){parseInt(L.innerHTML)!=parseInt(p)||(T=D)})}(b=g[T])&&(this.sfCalendar.find("table td").removeClass("e-active"),a(b).hasClass("e-hidedate")||a(b).addClass("e-active"))}},_setFocusByName:function(t,o){var p,g,l=this.sfCalendar.find("tbody tr td.e-current-"+t);return a(l).each(function(b,C){parseInt(C.innerHTML)!=parseInt(o)||(p=b)}),(g=l[p])||(g=l.last()),this.sfCalendar.find("table td").removeClass("e-state-hover"),a(g).addClass("e-state-hover"),this._setActiveState(t),p},_getHeaderTxt:function(){return this.sfCalendar.find(".e-datepicker-headertext").text()},_findFirstLastDay:function(t){var o=t.getFullYear(),l=t.getMonth();return{firstDay:new Date(o,l,1),lastDay:new Date(o,l+1,0)}},_forwardNavHandler:function(t){if(this.model.readOnly||!this.model.enabled)return!1;t&&t.preventDefault();var g,b,o=a("table",this.sfCalendar),l=a("table",this.sfCalendar).get(0).className,C=this._navigateFrom(o);switch(l){case"e-dp-viewdays":this._hoverMonth=this._getDateObj(o.find(".e-state-hover")).getMonth()||this._getDateObj(o.find(".e-active")).getMonth()||0,this._DRPdisableFade&&(this._renderCalendar(this,this._calendarDate),a(".e-datepicker-headertext",this.sfCalendar).text(this._formatter(this._dateValue,this.model.headerFormat))),this._startLevel("year"),b="year",this._addFocus("month",this._hoverMonth);break;case"e-dp-viewmonths":g=this._getHeaderTxt(),this._startLevel("decade"),b="decade",this._hoverYear=this._setFocusByName("year",g);break;case"e-dp-viewyears":g=this._getHeaderTxt(),this._startLevel("century"),b="century",this._hoverAllYear=this._setFocusByName("allyear",g)}"century"!=C&&this._trigger("navigate",{date:this._dateValue,value:this._formatter(this._dateValue,this.model.dateFormat),navigateTo:b,navigateFrom:C}),this._layoutChanged()},_cellSelection:function(){var l,p;switch(a("table",this.sfCalendar),a("table",this.sfCalendar).get(0).className){case"e-dp-viewmonths":this._hoverMonth=this._addFocus("month",this._dateValue.getMonth());break;case"e-dp-viewyears":l=new Date(this._dateValue.toString()),this._navigationToPrevNext("year"),this._dateValue=l,this._hoverYear=this._setFocusByName("year",this._dateValue.getFullYear());break;case"e-dp-viewallyears":l=new Date(this._dateValue.toString()),this._navigationToPrevNext("allyear"),this._dateValue=l,p=parseInt(this._dateValue.getFullYear())-(parseInt(this._dateValue.getFullYear())%10+1),this._hoverAllYear=this._setFocusByName("allyear",p+1+" - "+p+10)}this._layoutChanged()},_navigationToPrevNext:function(t){var l,p,o=this.sfCalendar.find("tbody tr td.e-current-"+t),g=this._dateValue.getFullYear();a(o).each(function(b,C){parseInt(C.innerHTML)!=parseInt(g)||(l=b)}),(p=o[l])&&(a(p).hasClass("e-"+t+"-last")?this._processNextPrevDate(!1):a(p).hasClass("e-"+t+"-first")&&this._processNextPrevDate(!0))},_navigateFrom:function(t){var l;switch(t.get(0).className){case"e-dp-viewdays":l="month";break;case"e-dp-viewmonths":l="year";break;case"e-dp-viewyears":l="decade";break;case"e-dp-viewallyears":l="century"}return l},_backwardNavHandler:function(t){var o,l;if(this._animating=!0,this.model.readOnly||!this.model.enabled)return!1;t.type?(t.preventDefault(),o=a(t.currentTarget)):o=t;var g,T,p=a("table",this.sfCalendar),b=a("table",this.sfCalendar).get(0).className,C=this,D=this._navigateFrom(p);switch(b){case"e-dp-viewmonths":p.removeClass("e-dp-viewmonths").addClass("e-dp-viewdays"),this._lastHoveredMonth=parseInt(a(o).attr("data-index")),this._dateValue=new Date(this._dateValue.getFullYear(),this._lastHoveredMonth,1),this._DRPdisableFade&&this._trigger("_month_Loaded",{currentTarget:t.currentTarget}),this._renderCalendar(this,this._dateValue),a("tbody",p).not(".e-datepicker-days,.e-week-header").hide(),a(a(p).find(".e-datepicker-days,.e-week-header")).fadeIn("fast",function(){C._addFocus("day",C._hoverDate||0),C._animating=!1}),a(".e-datepicker-headertext",this.sfCalendar).text(this._formatter(this._dateValue,this.model.headerFormat)),T="month";break;case"e-dp-viewyears":p.removeClass("e-dp-viewyears").addClass("e-dp-viewmonths"),this._lastHoveredYear=parseInt(o.text()),this._dateValue.setFullYear(this._lastHoveredYear),this._renderCalendar(this,this._dateValue),a("tbody,tr.e-week-header",p).not(".e-datepicker-months").hide(),s.isNullOrUndefined(this._hoverMonth)&&!s.isNullOrUndefined(this._dateValue)&&(this._hoverMonth=this._dateValue.getMonth()),a(a(p).find(".e-datepicker-months")).fadeIn("fast",function(){C._addFocus("month",C._hoverMonth||0),C._animating=!1}),g=o.text(),a(".e-datepicker-headertext",this.sfCalendar).text(g),this._checkArrows(g,g),T="year";break;case"e-dp-viewallyears":l=o.text().split("-"),p.removeClass("e-dp-viewallyears").addClass("e-dp-viewyears"),l[0]<this.model.minDate.getFullYear()?l[0]=this.model.minDate.getFullYear().toString():l[0]>this.model.maxDate.getFullYear()&&(l[0]=this.model.maxDate.getFullYear().toString()),this._renderCalendar(this,new Date(l[0],0,1)),a("tbody,tr.e-week-header",p).not(".e-datepicker-years").hide(),a(a(p).find(".e-datepicker-years")).fadeIn("fast",function(){C._addFocus("year",C._hoverYear||0),C._animating=!1}),a(".e-datepicker-headertext",this.sfCalendar).text(l[0]+" - "+l[1]),this._checkArrows(l[0],l[1]),T="decade",this._dateValue=new Date(this._dateValue.setFullYear(parseInt(a.trim(l[0]))+(this._lastHoveredYear?this._lastHoveredYear%10:this._dateValue.getFullYear()%10)));break;default:this._clearSelected(),this.sfCalendar.find("table td").removeClass("e-state-hover"),o.not("td.e-hidedate").addClass("e-active").attr("aria-selected",!0),this._addSelected(),this._hoverDate=this._getDateObj(o).getDate()-1,this._dateValue=new Date(o.attr("data-date")),this._clickedDate=new Date(o.attr("data-date")),this._animating=!1}"month"!=D&&this._trigger("navigate",{date:this._dateValue,value:this._formatter(this._dateValue,this.model.dateFormat),navigateTo:T,navigateFrom:D}),this._layoutChanged()},_startLevel:function(t){var p,g,T,o=a("table",this.sfCalendar),l=a(".e-datepicker-headertext",this.sfCalendar),b=this._dateValue;switch(t){case"decade":o.removeClass("e-dp-viewallyears e-dp-viewmonths e-dp-viewdays").addClass("e-dp-viewyears"),a("tbody,tr.e-week-header",o).not(".e-datepicker-years").hide(),a(a(o).find(".e-datepicker-years")).show(),b=this.model.enableStrictMode&&this._calendarDate<this._dateValue?this._calendarDate:b,T=parseInt(b.getFullYear())-(parseInt(b.getFullYear())%10+1),l.text((p=T+1)+" - "+(g=T+10)),this._checkArrows(p,g),this._hoverYear=this._setFocusByName("year",b.getFullYear());break;case"century":this._calendarDate<this._dateValue||this._renderCalendar(this,b),o.removeClass("e-dp-viewyears e-dp-viewdays e-dp-viewmonths").addClass("e-dp-viewallyears"),a("tbody,tr.e-week-header",o).not(".e-datepicker-allyears").hide(),a(a(o).find(".e-datepicker-allyears")).show(),p=parseFloat(a("td.e-allyear-first",o.get(0)).text().split("-")[1])+1,g=parseFloat(a("td.e-allyear-last",o.get(0)).prev().text().split("-")[1]),l.text(p+" - "+g),this._checkArrows(p,g),T=parseInt(b.getFullYear())-(parseInt(b.getFullYear())%10+1),this._hoverAllYear=this._setFocusByName("allyear",T+1+" - "+(T+10));break;case"year":o.removeClass("e-dp-viewyears e-dp-viewallyears e-dp-viewdays").addClass("e-dp-viewmonths"),a("tbody,tr.e-week-header",o).hide(),a(a(o).find(".e-datepicker-months")).show(),p=this.model.enableStrictMode&&this._calendarDate<this._dateValue?this._calendarDate.getFullYear():b.getFullYear(),l.text(p),this._checkArrows(p,p),this._hoverMonth=b.getMonth(),this._addFocus("month",this._hoverMonth);break;case"month":o.removeClass("e-dp-viewyears e-dp-viewallyears e-dp-viewmonths").addClass("e-dp-viewdays ")}},_depthLevel:function(t){var o=this.sfCalendar;switch(t){case"year":a(o.find(".e-current-year,.e-current-allyear")).on("click",a.proxy(this._backwardNavHandler,this)),this._on(a(".e-current-month",this.sfCalendar),"click",a.proxy(this._onDepthSelectHandler,this));break;case"decade":a(o.find(".e-current-allyear")).on("click",a.proxy(this._backwardNavHandler,this)),a(".e-current-year",this.sfCalendar).on("click",a.proxy(this._onDepthSelectHandler,this));break;case"century":a(o.find(".e-current-allyear")).on("click",a.proxy(this._onDepthSelectHandler,this));break;case"month":this._on(o.find(".current-month,.other-month,.e-current-month,.e-current-year,.e-current-allyear"),"click",a.proxy(this._backwardNavHandler,this)),this._on(o.find(".current-month , .other-month"),"click",a.proxy(this._onSetCancelDateHandler,this))}},_onDepthSelectHandler:function(t){if(this.model.readOnly||!this.model.enabled)return!1;a(t.target).hasClass("e-current-month")?this._dateValue=new Date(this._dateValue.setMonth(parseInt(t.target.attributes["data-index"].value))):(a(t.target).hasClass("e-current-year")||a(t.target).hasClass("e-current-allyear"))&&(this._dateValue=new Date(this._dateValue.setFullYear(parseInt(t.target.innerHTML)))),this._onSetCancelDateHandler(t)},_datepickerMonths:function(t,o,l){for(var p,g,b,C,T=function(I){return document.createElement(I)},D=0,L=0;L<3;L++){for(p=a(T("tr")),g=0;g<4;g++)b=a(T("td")).addClass("e-current-month e-state-default").attr({"data-index":D}).attr(this._isIE8?{unselectable:"on"}:{}).html(this.Date.abbrMonthNames[D++]),(l.getFullYear()<this.model.minDate.getFullYear()||l.getFullYear()>this.model.maxDate.getFullYear()||l.getFullYear()<=this.model.minDate.getFullYear()&&D<this.model.minDate.getMonth()+1||l.getFullYear()>=this.model.maxDate.getFullYear()&&D>this.model.maxDate.getMonth()+1)&&(b.addClass("e-hidedate"),b.removeClass("e-current-month")),p.append(b);t.append(p)}o.append(t),C=l.getFullYear(),this._checkArrows(C,C)},_datepickerYears:function(t,o,l){for(var p,g,b,C,T=function(R){return document.createElement(R)},D=parseInt(l)-(parseInt(l)%10+1),L=[],I=0;I<12;I++)L.push(D+I);for(p=0,g=0;g<3;g++){for(b=a(T("tr")),I=0;I<4;I++)(C=a(T("td"))).attr(this._isIE8?{unselectable:"on"}:{}),C.addClass(0==p?"e-year-first e-current-year ":11==p?"e-year-last e-current-year ":"e-current-year e-state-default"),(L[p]<this.model.minDate.getFullYear()||L[p]>this.model.maxDate.getFullYear())&&(C.addClass("e-hidedate"),C.removeClass("e-current-year")),C.html(L[p++]),b.append(C);t.append(b)}o.append(t),this._checkArrows(L[0],L[L.length])},_datepickerAllYears:function(t,o,l){for(var p,g,b,C,T=parseInt(l)-(parseInt(l)%100+10),L=[],I=this._isIE8||this._isIE9?"":"\n",R=0;R<12;R++)L.push(parseInt(T)+" -"+I+parseInt(T+9)),T+=10;for(p=0,g=0;g<3;g++){for(b=a(document.createElement("tr")),R=0;R<4;R++)(C=a(document.createElement("td"))).attr(this._isIE8?{unselectable:"on"}:{}),C.addClass(0==p?"e-allyear-first e-current-allyear ":11==p?"e-allyear-last e-current-allyear ":"e-current-allyear e-state-default"),(parseInt(L[p].split("-\n")[1])<this.model.minDate.getFullYear()||parseInt(L[p].split("-\n")[0])>this.model.maxDate.getFullYear())&&(C.addClass("e-hidedate"),C.removeClass("e-current-allyear")),C.html(L[p++]),b.append(C);t.append(b)}o.append(t)},_renderHeader:function(t){var p,g,b,C,T,D,L,I,o=a(document.createElement("thead")),l=s.preferredCulture(this.model.locale).calendars.standard.days;if("none"!=t.model.dayHeaderFormat)for(p=s.buildTag("tr.e-week-header").attr({role:"row"}).attr(this._isIE8?{unselectable:"on"}:{}),1==this.model.weekNumber&&(D=(g=s.preferredCulture(this.model.locale).calendars.standard.week).name,L="short"==t.model.dayHeaderFormat?g.nameAbbr:"long"==t.model.dayHeaderFormat?week:g.nameShort,b=s.buildTag("th","",{},{scope:"col",abbr:D,"data-date":D,title:this._formatter(D,"dddd")}).attr(this._isIE8?{unselectable:"on"}:{}).html(L),p.append(b)),C=this.Date.firstDayOfWeek;C<this.Date.firstDayOfWeek+7;C++)D=l.names[T=C%7],L="short"==t.model.dayHeaderFormat?l.namesAbbr[T]:"long"==t.model.dayHeaderFormat?D:l.namesShort[T],I=s.buildTag("th","",{},{scope:"col",abbr:D,"data-date":D,title:this._formatter(D,"dddd"),class:0==T||6==T?"e-week-end":"e-week-day"}).attr(this._isIE8?{unselectable:"on"}:{}).html(L),p.append(I);return o.append(p)},_renderCalendar:function(t,o){var p,g,b,C,T,D,L,I,R,V;t=a.extend({},s.DatePicker.prototype.defaults,t),this.Date.firstDayOfWeek=this.model.startDay,p=o||(this._calendarDate?this._calendarDate:this._zeroTime(new Date)),(g=a("table",this.sfCalendar)).empty(),g.append(this._renderHeader(t)),b=s.buildTag("tbody.e-datepicker-allyears","",{display:"none"}).attr(this._isIE8?{unselectable:"on"}:{}),this._datepickerAllYears(b,g,p.getFullYear()),b=s.buildTag("tbody.e-datepicker-years","",{display:"none"}).attr(this._isIE8?{unselectable:"on"}:{}),this._datepickerYears(b,g,p.getFullYear());var F=t.model.month==h?p.getMonth():t.model.month,A=t.model.year||p.getFullYear(),z=new Date(A,F,1,0,0,0),N=this.Date.firstDayOfWeek-z.getDay()+1;N>1&&(N-=7),C=Math.ceil((-1*N+1+this._getDaysInMonth(z))/7),this._addDays(z,N-1),T=this._zeroTime(new Date),D=this._calendarDate,b=s.buildTag("tbody.e-datepicker-months","",{display:"none"}).attr(this._isIE8?{unselectable:"on"}:{}),this._datepickerMonths(b,g,p),b=s.buildTag("tbody.e-datepicker-days","",{display:"none"}).attr(this._isIE8?{unselectable:"on"}:{});for(var U=0,J=!0,Q=!0;U++<C;){for(L=jQuery(document.createElement("tr")).attr({role:"row"}),1==this.model.weekNumber&&(I=this._weekDate(z),I=a(document.createElement("td")).attr({}).addClass("e-weeknumber").html(I),L.append(I)),R=0;R<7;R++){var oe=z.getMonth()==F,ue=this._isSpecialDates(z),le=this._checkDisableRange(z),ne=this._getIndex,he=a(document.createElement("td")).html(ue?"<span></span>"+z.getDate():z.getDate()+"").attr({"data-date":z.toDateString(),title:this.model.showTooltip?ue&&this.model.specialDates[ne][this._mapField._tooltip]?this.model.specialDates[ne][this._mapField._tooltip]:this._formatter(z,this.model.tooltipFormat):"","aria-selected":!1,role:"gridcell",id:this._formatter(z,"yyyyddMM")}).attr(this._isIE8?{unselectable:"on"}:{}).addClass((oe?"current-month e-state-default ":"other-month e-state-default ")+(this._isWeekend(z)?this._ejHLWeekEnd?"e-dp-weekend e-week-end ":this.model.highlightWeekend?"e-week-end ":"":"e-week-day ")+(oe&&z.getTime()==T.getTime()?"today ":""));he.find("span:first-of-type").addClass(ue?this.model.specialDates[ne][this._mapField._icon]?"e-special-date-icon "+this.model.specialDates[ne][this._mapField._icon]+" ":"e-special-day":""),he.addClass(ue&&this.model.specialDates[ne][this._mapField._custom]?this.model.specialDates[ne][this._mapField._custom]:""),le&&this._disableDates({date:z,element:he}),D.getTime()==z.getTime()&&oe&&(he.hasClass("e-hidedate")||(this.model.value?(he.addClass("e-active").attr({"aria-selected":!0}),"week"==this.model.highlightSection&&L.addClass("e-selected-week"),"month"==this.model.highlightSection&&b.addClass("e-selected-month"),"workdays"==this.model.highlightSection&&L.addClass("e-work-week")):null!=this.model.value&&he.addClass("e-state-hover").attr({"aria-selected":!1})),this._hoverDate||(he.hasClass("e-hidedate")||he.addClass("e-state-hover"),this._hoverDate=z.getDate()-1)),V=!0,(z<this.model.minDate||z>this.model.maxDate)&&(he.addClass("e-hidedate"),he.removeClass("current-month"),this.model.showOtherMonths&&he.removeClass("other-month"),V=Q=!1),oe&&(V&&J&&(this._tempMinDate=z,J=!1,Q=!0),Q&&(this._tempMaxDate=z)),this._trigger("beforeDateCreate",{date:z,value:this._formatter(z,this.model.dateFormat),element:he}),L.append(he),z=new Date(z.getFullYear(),z.getMonth(),z.getDate()+1,0,0,0)}b.append(L)}g.append(b),this._DRPdisableFade?(a(b).css("display","block"),a(b).css({display:"table-row-group","vertical-align":"middle","border-color":"inherit"})):this._isIE8||this._isIE7?a(b).css("display","table-row-group"):a(b).fadeIn("fast"),this.model.startLevel===this.model.depthLevel||"month"!=this.model.depthLevel&&""!=this.model.depthLevel&&("century"==this.model.startLevel||"decade"==this.model.startLevel&&"century"!=this.model.depthLevel||"year"==this.model.startLevel&&"decade"!=this.model.depthLevel&&"century"!=this.model.depthLevel)?this._depthLevel(this.model.depthLevel):(this._on(g.find(".current-month,.other-month,.e-current-month,.e-current-year,.e-current-allyear"),"click",a.proxy(this._backwardNavHandler,this)),this._on(g.find(".current-month , .other-month"),"click",a.proxy(this._onSetCancelDateHandler,this))),this._otherMonthsVisibility(),this._checkDateArrows()},_checkDisableRange:function(t){return!s.isNullOrUndefined(this._disableCollection[t.getFullYear()])&&-1!==jQuery.inArray(t.getMonth(),this._disableCollection[t.getFullYear()])},_initDisableObj:function(){var t,o,l,p;for(this._disableCollection={},t=0;t<this.model.blackoutDates.length;t++)(o=this._checkInstanceType(this.model.blackoutDates[t]))&&(l=o.getFullYear(),p=o.getMonth(),s.isNullOrUndefined(this._disableCollection[l])&&(this._disableCollection[l]=[]),-1==jQuery.inArray(p,this._disableCollection[l])&&this._disableCollection[l].push(p))},_disableDates:function(t){for(var o,l=0;l<this.model.blackoutDates.length;l++)(o=this._checkInstanceType(this.model.blackoutDates[l]))&&+t.date==+o&&t.element.addClass("e-hidedate")},_keyboardNavigation:function(t){var o;if(this._keyboardInteraction=!0,this._animating)return!1;if(!this._isOpen||37!=t.keyCode&&38!=t.keyCode&&39!=t.keyCode&&40!=t.keyCode&&13!=t.keyCode&&36!=t.keyCode&&35!=t.keyCode)if(this.model.displayInline||27!=t.keyCode&&9!=t.keyCode){if(t.altKey&&40==t.keyCode)return this.show(),!1}else this.hide();else{if(t.preventDefault&&t.preventDefault(),t.altKey)return 13==t.keyCode?(this._setCurrDate(t),!1):void 0;(o={row:null,col:null}).col=this.sfCalendar.find("tbody tr td.e-state-hover").index(),o.row=this.sfCalendar.find("tbody tr td.e-state-hover").parent().index(),o.col=-1!=o.col?o.col+1:this.sfCalendar.find("tbody tr td.e-active").index()+1,o.row=-1!=o.row?o.row+1:this.sfCalendar.find("tbody tr td.e-active").parent().index()+1;var p,g=3,b=4;switch(this.sfCalendar.find("table")[0].className){case"e-dp-viewallyears":p=this._changeRowCol(o,t.keyCode,g,b,"yearall",t.ctrlKey),t.ctrlKey||(this._hoverAllYear=this.sfCalendar.find("tbody.e-datepicker-allyears tr td").index(p));break;case"e-dp-viewyears":p=this._changeRowCol(o,t.keyCode,g,b,"year",t.ctrlKey),t.ctrlKey||(this._hoverYear=this.sfCalendar.find("tbody.e-datepicker-years tr td").index(p));break;case"e-dp-viewmonths":p=this._changeRowCol(o,t.keyCode,g,b,"month",t.ctrlKey),t.ctrlKey||(this._hoverMonth=this.sfCalendar.find("tbody.e-datepicker-months tr td").index(p));break;case"e-dp-viewdays":g=this.sfCalendar.find("tbody.e-datepicker-days tr").length,p=this._changeRowCol(o,t.keyCode,g,b=7,"day",t.ctrlKey),t.ctrlKey||(this._hoverDate=this._getDateObj(p).getDate()-1)}t.ctrlKey||(this.sfCalendar.find("table td").removeClass("e-state-hover"),p.addClass("e-state-hover"),this._setAriaAttributes(p))}},_setAriaAttributes:function(t){this._popupOpen&&(this.sfCalendar.find("[aria-selected=true]").attr("aria-selected",!1),this.sfCalendar.find("[aria-label]").removeAttr("aria-label"),a(this.element).attr("aria-activedescendant",t.attr("id")),a(t).attr("aria-selected",!0),a(t).attr("aria-label","The current focused date is "+this._formatter(this._getDateObj(t),"dddd, dd MMMM, yyyy")))},_changeRowCol:function(t,o,l,p,g,b){var C,D,I,R,V,T={parent:null,child:null};switch(g){case"day":C="tbody.e-datepicker-days tr td.current-month",T.parent=".e-datepicker-days",T.child=".current-month";break;case"month":C="tbody.e-datepicker-months tr td.e-current-month",T.parent=".e-datepicker-months",T.child=".e-current-month";break;case"year":C="tbody.e-datepicker-years tr td.e-current-year",T.parent=".e-datepicker-years",T.child=".e-current-year";break;case"yearall":C="tbody.e-datepicker-allyears tr td.e-current-allyear",T.parent=".e-datepicker-allyears",T.child=".e-current-allyear"}if(t.row<=0&&t.col<=0)return this._removeCurrentMonthFromHideDate(),this.sfCalendar.find(C+":first");switch(o){case 36:return this.sfCalendar.find(C+":first");case 35:return this.sfCalendar.find(C+":last");case 38:if(b&&this.model.allowDrillDown)this._forwardNavHandler();else{if(!(t.row>1))return this._processNextPrevDate(!0),this.sfCalendar.find(C+":nth-child("+t.col+"):last");t.row-=1}if((D=this._getCell(t,T)).length<=1){if(null!==(D=this._findVisible(t,T,"up")))return D;this._processNextPrevDate(!0),D=this.sfCalendar.find(C+":nth-child("+t.col+"):last")}return D;case 37:if(b)return this._processNextPrevDate(!0),this.sfCalendar.find("tbody tr td.e-state-hover");if(t.col>1)t.col-=1;else{if(!(t.row>1))return this._processNextPrevDate(!0),this.sfCalendar.find(C+":last");t={row:t.row-1,col:p}}if((D=this._getCell(t,T)).length<=1){if(null!==(D=this._findVisible(t,T,"left")))return D;this._processNextPrevDate(!0),D=this.sfCalendar.find(C+":last")}return D;case 39:if(b)return this._processNextPrevDate(!1),this.sfCalendar.find("tbody tr td.e-state-hover");if(t.col<p)t.col+=1;else{if(!(t.row<l))return this._processNextPrevDate(!1),this.sfCalendar.find(C+":first");t={row:t.row+1,col:1}}if((D=this._getCell(t,T)).length<=1){if(null!==(D=this._findVisible(t,T,"right")))return D;this._processNextPrevDate(!1),D=this.sfCalendar.find(C+":first")}return D;case 40:if(!b){if(!(t.row<l))return this._processNextPrevDate(!1),this.sfCalendar.find(C+":nth-child("+t.col+"):first");if(t.row+=1,(D=this._getCell(t,T)).length<=1){if(null!==(D=this._findVisible(t,T,"down")))return D;this._processNextPrevDate(!1),D=this.sfCalendar.find(C+":nth-child("+t.col+"):first")}return D}case 13:I=a("table",this.sfCalendar).get(0).className,R=this._getCell(t,T),V=a(R)[0],"e-dp-viewmonths"==I&&"year"==this.model.startLevel&&"year"==this.model.depthLevel?(this._dateValue=new Date(this._dateValue.setMonth(parseInt(V.attributes["data-index"].value))),this._onSetCancelDateHandler({type:null,target:R})):"e-dp-viewyears"==I&&"decade"==this.model.startLevel&&"decade"==this.model.depthLevel||"e-dp-viewallyears"==I&&"century"==this.model.startLevel&&"century"==this.model.depthLevel?(this._dateValue=new Date(this._dateValue.setFullYear(parseInt(V.innerHTML))),this._onSetCancelDateHandler({type:null,target:R})):"e-dp-viewdays"==I?(this._backwardNavHandler(R),this._onSetCancelDateHandler({type:null,target:R})):this._backwardNavHandler(R)}return this._getCell(t,T)},_findVisible:function(t,o,l){for(var p,g=t.col,b=t.row,C=o.child.slice(1,o.child.length),T=0;T>=0;T++){if((p=this.sfCalendar.find("tbody"+o.parent+" tr:nth-child("+b+") td:nth-child("+g+")")).length<=0)return null;if(p.hasClass("e-hidedate")||!p.is(":visible")){if("right"==l||"left"==l?"right"==l?g++:g--:"down"==l?b++:b--,b<=0||b>this.sfCalendar.find("tbody"+o.parent+" tr").length||(g>this.sfCalendar.find("tbody"+o.parent+" tr:nth-child("+b+") td").length&&(b++,g=1),g<=0&&(b--,g=this.sfCalendar.find("tbody"+o.parent+" tr:nth-child("+b+") td").length),b<=0||b>this.sfCalendar.find("tbody"+o.parent+" tr").length))return null}else{if(p.hasClass("other-month"))return null;if(p.hasClass(C))return t.col=g,t.row=b,p}}},_getCell:function(t,o){return this.sfCalendar.find("tbody"+o.parent+" tr:nth-child("+t.row+") td"+o.child+":nth-child("+t.col+")")},_getDateObj:function(t){return new Date(t.attr("data-date"))},_touchCalendar:function(t){var o=this.sfCalendar.find("table")[0].className;switch(t.type){case"pinchin":"e-dp-viewdays"!=o&&this._keyboardNavigation({keyCode:13});break;case"pinchout":"e-dp-viewallyears"!=o&&this.model.allowDrillDown&&this._forwardNavHandler();break;case"swipeleft":this._processNextPrevDate(!1);break;case"swiperight":this._processNextPrevDate(!0)}},show:function(t){var o,l;if(s.isNullOrUndefined(this.sfCalendar)&&this._renderPopup(),this._isOpen)return!1;if(o=this,this._popupOpen=!0,a(this.element).attr("aria-expanded",!0),l=null!=this._preValue?new Date(this._preValue.toString()):this._preValue,this.model.enabled){if(this.model.displayInline||this._setDatePickerPosition(),this._trigger("beforeOpen",{element:this.sfCalendar,events:t}))return!1;this.sfCalendar.attr({"aria-hidden":"false"}),o._isOpen=!0,this.sfCalendar.slideDown(this.model.enableAnimation?this.animation.open.duration:0,function(){o.model&&!o.model.displayInline&&a(document).on("mousedown",a.proxy(o._onDocumentClick,o))}),this._isIE8?this.element.val()&&this._compareDate(new Date(this.element.val()),l)&&this._updateInputVal():this._updateInputVal(),this._refreshLevel(l),this._trigger("open",{prevDate:l,date:this.model.value,value:this._formatter(this.model.value,this.model.dateFormat)}),a(window).on("resize",a.proxy(this._OnWindowResize,this)),this.model.displayInline||(this._on(s.getScrollableParents(this.wrapper),"scroll",this.hide),this._on(s.getScrollableParents(this.wrapper),"touchmove",this.hide)),this._isInputBox&&this.wrapper.addClass("e-active"),null!=this.model.value?a(this.element).attr("aria-activedescendant",a(this.sfCalendar.find(".e-active")).attr("id")):a(this.element).attr("aria-activedescendant",a(this.sfCalendar.find(".today")).attr("id"))}},hide:function(t){if(!this._isOpen||this._getInternalEvents||this._trigger("beforeClose",{element:this.sfCalendar,events:t}))return!1;var o=this;this._popupOpen=!1,a(this.element).attr("aria-expanded",!1),this.sfCalendar.attr({"aria-hidden":"true"}),this._popClose&&t!=h&&"click"!=t.type||(this.sfCalendar.slideUp(this.model.enableAnimation?this.animation.close.duration:0,function(){o._isOpen=!1,a(document).off("mousedown",a.proxy(o._onDocumentClick,o)),o._setWaterMark()}),""!=this.element.val()&&this._validateInputVal(),this._trigger("close",{prevDate:this._prevDate,date:this.model.value,value:this._formatter(this.model.value,this.model.dateFormat)}),a(window).off("resize",a.proxy(this._OnWindowResize,this)),this._off(s.getScrollableParents(this.wrapper),"scroll",this.hide),this._off(s.getScrollableParents(this.wrapper),"touchmove",this.hide),this._isInputBox&&this.wrapper.removeClass("e-active"),this.model.value?a(this.element).attr("aria-activedescendant",a(this.sfCalendar.find(".e-active")).attr("id")):a(this.element).removeAttr("aria-activedescendant"))},enable:function(){this.model.enabled=!0,this.wrapper&&this.wrapper.removeClass("e-disable"),this.element.removeClass("e-disable").attr({"aria-disabled":!1}),this.element.prop("disabled",!1),this.dateIcon&&this.dateIcon.removeClass("e-disable").attr({"aria-disabled":!1}),this._isIE8&&this.dateIcon&&this.dateIcon.children().removeClass("e-disable"),this.element.prop("disabled",!1),this._isSupport||this._hiddenInput.prop("disabled",!1),this.sfCalendar&&this.sfCalendar.removeClass("e-disable").attr({"aria-disabled":!1})},disable:function(){this.model.enabled=!1,this.wrapper&&this.wrapper.addClass("e-disable"),this.element.addClass("e-disable").attr({"aria-disabled":!0}),this.element.attr("disabled","disabled"),this.dateIcon&&this.dateIcon.addClass("e-disable").attr({"aria-disabled":!0}),this._isIE8&&this.dateIcon&&this.dateIcon.children().addClass("e-disable"),this.element.attr("disabled","disabled"),this._isSupport||this._hiddenInput.attr("disabled","disabled"),this.sfCalendar&&this.sfCalendar.addClass("e-disable").attr({"aria-disabled":!0}),this._isOpen&&(this.element.is(":input")&&this.element.blur(),this.model.displayInline||this.hide())},getValue:function(){return this._formatter(this.model.value,this.model.dateFormat)},_wireCalendarEvents:function(){this._allowQuickPick(this.model.allowDrillDown),this._on(a(".e-next",this.sfCalendar),"click",a.proxy(this._previousNextHandler,this)),this._on(a(".e-prev",this.sfCalendar),"click",a.proxy(this._previousNextHandler,this)),!this.model.displayInline&&(this.sfCalendar.on("mouseenter touchstart",a.proxy(function(){this._popClose=!0},this)),this.sfCalendar.on("mouseleave touchend",a.proxy(function(){this._popClose=!1},this))),this.model.showFooter&&this._on(a(".e-footer",this.sfCalendar),"click",this._setCurrDate),this.sfCalendar&&this._on(this.sfCalendar,"pinchin pinchout swipeleft swiperight",a.proxy(this._touchCalendar,this))},_wireEvents:function(){this.element.is(":input")&&this.model.allowEdit&&(this._on(this.element,"blur",this._onFocusOut),this._on(this.element,"focus",this._onFocusIn),this._on(this.element,"keydown",this._onKeyDown)),!this.model.allowEdit&&(this.element.attr("readonly","readonly"),this.element.on("mousedown",a.proxy(this._showDatePopUp,this)))},_bindDateButton:function(){this._on(this.dateIcon,"mousedown",this._showDatePopUp),this.model.allowEdit&&this.element.off("mousedown",a.proxy(this._showDatePopUp,this))},_bindInputEvent:function(){this._off(this.dateIcon,"mousedown",this._showDatePopUp)},_specificFormat:function(){var t=s.globalize._getDateParseRegExp(s.globalize.findCulture(this.model.locale).calendar,this.model.dateFormat);return a.inArray("dddd",t.groups)>-1||a.inArray("ddd",t.groups)>-1},_onFocusOut:function(t){var o,l,p,g;if(this._isFocused=!1,o=null!=this._preValue?new Date(this._preValue.toString()):this._preValue,this.model.enableStrictMode&&this.element.val()&&!isNaN(+new Date(this.element.val())))for(this._formatArray=this.model.dateFormat.split(this._getSeparator()),this._valArray=this.element.val().split(this._getSeparator()),l=0;l<this._formatArray.length;l++)this._formatArray[l].startsWith("y")&&this._valArray.length>1&&(4==this._formatArray[l].length&&2==this._valArray[l].length||2==this._formatArray[l].length&&2==this._valArray[l].length)&&(this._valArray[l]=(parseInt(this._valArray[l])+2e3).toString(),this.element.val(this._valArray.join(this._getSeparator())));this._validateOnFocusOut(this._validateValue(),t),this.wrapper.removeClass("e-focus"),s.isNullOrUndefined(this.model.value)?this.wrapper.removeClass("e-valid"):this.wrapper.addClass("e-valid"),this._isOpen&&!this.model.displayInline||this._setWaterMark()||this._compareDate(this._preValue,this._parseDate(this.element.val(),this.model.dateFormat))||this._updateInputVal(),(!this._isOpen||this.model.displayInline)&&this._refreshLevel(o),""!=this.element.val()&&(!this._isOpen||this.model.displayInline)&&this._validateInputVal(),this.element.off("keydown",a.proxy(this._keyboardNavigation,this)),this.model.showPopupButton||this._off(this.element,"click",this._elementClick),p=this.element.val(),g={prevDate:this._prevDate,value:p},this._specificFormat()?this._prevDate!=p&&this._setDateValue(p,!0):this._setDateValue(p),this.model.value||this._clearSelected(),this._trigger("focusOut",g),this._checkErrorClass()},_onFocusIn:function(t){this._isSupport&&(t.preventDefault(),this._isFocused=!0),this.wrapper.removeClass("e-error"),this.isValidState=!0,this.wrapper.addClass("e-focus"),this.wrapper.addClass("e-valid"),!this.model.readOnly&&(this._isSupport||this._hiddenInput.css("display","none"),this.element.on("keydown",a.proxy(this._keyboardNavigation,this)),this.model.showPopupButton||this.model.readOnly||this.show(t),this.model.showPopupButton||this._on(this.element,"click",this._elementClick),this._trigger("focusIn",{date:this.model.value,value:this._formatter(this.model.value,this.model.dateFormat)}))},_elementClick:function(t){this._popupOpen||this.show(t)},_removeWatermark:function(){""==this.element.val()||this._isSupport||this._hiddenInput.css("display","none")},_refreshPopup:function(){this._refreshDatepicker(),this._startLevel(this.model.startLevel)},_weekDate:function(t){var o,l=new Date(t.getTime());return l.setDate(l.getDate()+4-(l.getDay()||7)),o=l.getTime(),l.setMonth(0),l.setDate(1),Math.floor(Math.round((o-l)/864e5)/7)+1},_refreshLevel:function(t){if(this.model.startLevel==this.model.depthLevel&&"month"!=this.model.startLevel){var o=this._stringToObject(this.element.val());(o=this._validateYearValue(o))&&(this._compareDate(t,o)||this._refreshPopup())}},_validateOnFocusOut:function(t,o){var b,T,D,l=null!=this._preValue?this._calendarDate:this._preValue,p=this._formatter(l,this.model.dateFormat);this._prevDate=this._formatter(this._preValue,this.model.dateFormat),b={prevDate:this._prevDate,value:p,isInteraction:!!o},this._specificFormat()&&t>this.model.minDate&&t<this.model.maxDate?null==t?this.model.value=l:(this.model.value=t,this._formatter(t,this.model.dateFormat,this.model.locale)):this._formatter(this._parseDate(this._formatter(new Date,"MM/dd/yyyy")),this.model.dateFormat),T=!1,D=!1,null==t||this.model.enableStrictMode?null!=t||this.model.enableStrictMode?t?(t<this.model.minDate||t>this.model.maxDate?(this.isValidState=!1,D=!0,this._calendarDate=t<this.model.minDate?this.model.minDate:this.model.maxDate):this.isValidState=!0,this._triggerChangeEvent(o),D&&this._getInternalEvents&&this._trigger("outOfRange")):(this.isValidState=!1,this._calendarDate<this.model.minDate?this._calendarDate=this.model.minDate:this._calendarDate>this.model.maxDate&&(this._calendarDate=this.model.maxDate)):(null==this._preTxtValue||""==this.element.val()?(this.element.val(""),this._isSupport||this._hiddenInput.css("display","block")):this.element.val(p),this._triggerChangeEvent(o),null!=this.model.value&&this._trigger("change",b)):(s.isNullOrUndefined(this.model.value)&&(this.model.value=this._parseDate(this.element.val())),this.model.maxDate<this.model.minDate&&(this.model.minDate=this.model.maxDate),this.model.enableStrictMode||(t?(t<this.model.minDate||t>this.model.maxDate)&&(T=!0,this._calendarDate=t=t<this.model.minDate?this.model.minDate:this.model.maxDate):(this.element.val(""),this._calendarDate<this.model.minDate?this._calendarDate=this.model.minDate:this._calendarDate>this.model.maxDate&&(this._calendarDate=this.model.maxDate)),this.isValidState=!0),T&&this.element.val(this._formatter(t,this.model.dateFormat)),this._compareDate(this._preValue,this._parseDate(this.element.val(),!0))||this._triggerChangeEvent(o))},_onKeyDown:function(t){if(13===t.keyCode){var o=null!=this._preValue?new Date(this._preValue.toString()):this._preValue;this._validateOnFocusOut(this._validateValue(),t),this._isOpen&&!this.model.displayInline||this._setWaterMark()||this._compareDate(this._preValue,this._parseDate(this.element.val(),this.model.dateFormat))||this._updateInputVal(),(!this._isOpen||this.model.displayInline)&&this._refreshLevel(o),""!=this.element.val()&&(!this._isOpen||this.model.displayInline)&&this._validateInputVal(),this._checkErrorClass()}},_showhidePopup:function(t){if(!this.model.enabled)return!1;this._isOpen?(this._isFocused||!this.element.is(":input")||s.isTouchDevice()||this.element.focus(),this._cancelValue||this.hide(t)):(this._isFocused||!this.element.is(":input")||s.isTouchDevice()||this.element.focus(),this.show(t))},_compareDate:function(t,o){return+t==+o},_validateDate:function(t){var l,p,o=!0;if(null!=t){for(l=0;l<this.model.blackoutDates.length;l++)(p=this._checkInstanceType(this.model.blackoutDates[l]))&&+t==+p&&(o=!1);(t<this.model.minDate||t>this.model.maxDate)&&this.model.enableStrictMode&&(o=!1,this.isValidState=!1)}return o},_triggerChangeEvent:function(t){var o,p,l=""==this.element.val()?null:this.element.val();this._prevDate=this._formatter(this._preValue,this.model.dateFormat),p={prevDate:this._prevDate,value:l,isInteraction:!!t},o=this._specificFormat()&&t!=h&&"keydown"==t.type&&this._formatter(this._preValue,this.model.dateFormat,this.model.locale)!=this.element.val()?this._parseDate(this.element.val(),!0):this._specificFormat()&&t!=h&&"blur"==t.type?this.model.value:this._parseDate(l),o=this._validateYearValue(o),this._validateDate(o)||(o=null),this._compareDate(this._preValue,o)?""==this.element.val()&&null==this._prevDate||this.element.val()==this._prevDate||(p.value=this.element.val(),this._trigger("_change",p)):(this._preValue=this.model.value=o,p.value=this._formatter(this.model.value,this.model.dateFormat),this.model.value&&(this._clickedDate=this._calendarDate=this.model.value),this.model.displayInline&&!this._isInputBox&&this._hiddenInput.attr("value",l),this.model.value||this.model.enableStrictMode||this._setDateValue(this.model.value),p.value=l,this._trigger("_change",p),p.value=this._formatter(this.model.value,this.model.dateFormat),this._trigger("change",p),this._checkErrorClass())},_triggerSelectEvent:function(){var o,t=this.element.val();this._parseDate(t)&&(o={prevDate:this._prevDate,date:this.model.value,value:t,isSpecialDay:this._isSpecialDates(this.model.value)},this._prevDate!=t&&this._parseDate(o.value)&&this.model.value>=this.model.minDate&&this.model.value<=this.model.maxDate&&(this._cancelValue=this._trigger("select",o)),this._dt_drilldown&&this._trigger("dt_drilldown",o)),this.model.value&&a(this.element).attr("aria-activedescendant",a(this.sfCalendar.find(".e-active")).attr("id"))},_onDocumentClick:function(t){this.model&&(a(t.target).is(this.popup)||a(t.target).parents(".e-popup").is(this.popup)||a(t.target).is(this.wrapper)||a(t.target).parents(".e-datewidget").is(this.wrapper)?(a(t.target).is(this.popup)||a(t.target).parents(".e-popup").is(this.popup))&&t.preventDefault():this.hide(t))},_OnWindowResize:function(){this.sfCalendar&&this._setDatePickerPosition()},_showDatePopUp:function(t){var o=!1;if(t.button?o=2==t.button:t.which&&(o=3==t.which),!o&&(this._isSupport||this.model.showPopupButton||(t.preventDefault(),this._onFocusIn()),!this.model.readOnly)){if(t.preventDefault(),!this.model.enabled&&this.model.displayInline)return!1;this._showhidePopup(t)}},_layoutChanged:function(){this._getInternalEvents&&this._trigger("layoutChange")},_setCurrDate:function(t){if(this.model.readOnly||!this.model.enabled)return!1;t&&t.preventDefault(),this._prevDate=this._formatter(this.model.value,this.model.dateFormat),this._dateValue=this._zeroTime(new Date),this.model.value=this._calendarDate=new Date(this._dateValue.toString()),this._setDateValue(this.model.value),this._triggerSelectEvent(t),this._triggerChangeEvent(t),this._refreshDatepicker(),this._changeDayClass(),this._startLevel(this.model.startLevel),this._onSetCancelDateHandler(t),this._layoutChanged()},_changeDayClass:function(){var t=this.popup.children("table")[0].className;"e-dp-viewdays"!=t&&this.popup.children("table").removeClass(t).addClass("e-dp-viewdays")},_onSetCancelDateHandler:function(t){if(this.model.readOnly||!this.model.enabled||t&&(a(t.target).hasClass("e-disable")||a(t.target).hasClass("e-hidedate")))return!1;t&&t.type&&t.preventDefault(),this._specificFormat()?this._prevDate=this.element.val():this.model.value=this._parseDate(this.element.val()),this._prevDate=this._formatter(this.model.value,this.model.dateFormat),this._setDateValue(this._dateValue),this._triggerSelectEvent(t),this._triggerChangeEvent(t),this._dateValue=null==this.model.value?null:new Date(this.model.value.toString()),this.element.is(":input")&&!this.model.displayInline&&this._showhidePopup(t),t&&a(t.currentTarget).hasClass("other-month")&&this._refreshDatepicker(),this._cellSelection()},_closeCalendar:function(t){t&&t!=this.element||this.sfCalendar.empty().remove()},_checkErrorClass:function(){this.wrapper&&(this.isValidState?this.wrapper.removeClass("e-error"):this.wrapper.addClass("e-error"))},_getLocalizedLabels:function(){return s.getLocalizedConstants(this.sfType,this.model.locale)}}),s.DatePicker.Locale=s.DatePicker.Locale||{},s.DatePicker.Locale.default=s.DatePicker.Locale["en-US"]={watermarkText:"Select date",buttonText:"Today"},s.DatePicker.Header={None:"none",Short:"short",Min:"min",Long:"long"},s.DatePicker.HighlightSection={Month:"month",Week:"week",WorkDays:"workdays",None:"none"},s.DatePicker.Level={Month:"month",Year:"year",Decade:"decade",Century:"century"}}(jQuery,Syncfusion),function(a,s,h){s.widget("ejTimePicker","ej.TimePicker",{element:null,model:null,validTags:["input"],_addToPersist:["value"],_rootCSS:"e-timepicker",_setFirst:!1,type:"editor",angular:{require:["?ngModel","^?form","^?ngModelOptions"],requireFormatters:!0},_requiresID:!0,defaults:{cssClass:"",timeFormat:"",value:null,enableAnimation:!0,locale:"en-US",htmlAttributes:{},readOnly:!1,showPopupButton:!0,enableStrictMode:!1,interval:30,hourInterval:1,minutesInterval:1,secondsInterval:1,height:"",width:"",minTime:"12:00 AM",maxTime:"11:59 PM",showRoundedCorner:!1,enableRTL:!1,popupHeight:"191px",popupWidth:"auto",enabled:!0,enablePersistence:!1,disableTimeRanges:null,validationRules:null,validationMessages:null,focusIn:null,focusOut:null,beforeChange:null,change:null,select:null,create:null,destroy:null,beforeOpen:null,beforeClose:null,open:null,close:null,watermarkText:"select a time"},dataTypes:{timeFormat:"string",minTime:"string",maxTime:"string",readOnly:"boolean",interval:"number",showPopupButton:"boolean",locale:"string",hourInterval:"number",minutesInterval:"number",secondsInterval:"number",enabled:"boolean",enablePersistence:"boolean",enableAnimation:"boolean",enableStrictMode:"boolean",disableTimeRanges:"data",htmlAttributes:"data",validationRules:"data",validationMessages:"data",watermarkText:"string"},observables:["value"],enable:function(){this.model.enabled||(this.element[0].disabled=!1,this.element.prop("disabled",!1),this.model.enabled=!0,this.wrapper.removeClass("e-disable"),this.element.removeClass("e-disable").attr("aria-disabled",!1),this.model.showPopupButton&&(this.timeIcon.removeClass("e-disable").attr("aria-disabled",!1),this.popupList&&this.popupList.removeClass("e-disable").attr("aria-disabled",!1)),this._isIE8&&this.timeIcon.children().removeClass("e-disable"))},disable:function(){this.model.enabled&&(this.element[0].disabled=!0,this.model.enabled=!1,this.element.attr("disabled","disabled"),this.wrapper.addClass("e-disable"),this.element.addClass("e-disable").attr("aria-disabled",!0),this.model.showPopupButton&&(this.timeIcon.addClass("e-disable").attr("aria-disabled",!0),this.popupList&&this.popupList.addClass("e-disable").attr("aria-disabled",!0)),this._isIE8&&this.timeIcon.children().addClass("e-disable"),this._hideResult())},getValue:function(){return this.element.val()},setCurrentTime:function(){this.model.readOnly||this._setMask()},setValue:function(t){var l,o=this.model.value;this.model.value=s.format(this._createObject(t,!0),this.model.timeFormat,this.model.locale),this._ensureValue(),this._enableMask(),this.model.enableStrictMode&&!this._isValid(t,!0)&&(l=this._isValid(this.model.value)?this._localizeTime(this.model.value):this.model.value,this.element.val(l)),o!=this.model.value&&this._raiseChangeEvent(o,!0),this._checkErrorClass()},show:function(){this.showDropdown||this._getInternalEvents||this._showResult()},hide:function(){this.showDropdown&&this._hideResult()},_ISORegex:function(){this._tokens=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,this._extISORegex=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,this._basicISORegex=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,this._numberRegex={2:/\d\d?/,4:/^\d{4}/,z:/Z|[+-]\d\d(?::?\d\d)?/gi,t:/T/,"-":/\-/,":":/:/},this._zeroRegex=/Z|[+-]\d\d(?::?\d\d)?/,this._dates=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],this._times=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]]},_timeFormat:function(t){var o,l;return t||(t=s.preferredCulture(this.model.locale).calendars.standard.patterns.t),(o=this._validateTimeFormat(t))&&(this.model.timeFormat=o,this.model.minTime=s.format(this._createObject(this._minTimeObj),this.model.timeFormat,this.model.locale),this.model.maxTime=s.format(this._createObject(this._maxTimeObj),this.model.timeFormat,this.model.locale),this.model.value?(this._setModelOption=!0,this.model.value=this._localizeTime(this.model.value),this.element.val(this.model.value)):(this._setModelOption=!1,(l=this._localizeTime(this.element.val()))&&this._checkMinMax(l)&&(this.model.value=l,this.element.val(l)))),o},_getTimeFormat:function(){this._prevTimeFormat&&(this.model.timeFormat=s.preferredCulture(this.model.locale).calendar.patterns.t||"h:mm tt"),this.seperator=this._getSeperator()},_changeSkin:function(t){this.wrapper.removeClass(this.model.cssClass).addClass(t),this.popupList&&this.popupList.removeClass(this.model.cssClass).addClass(t)},_localize:function(t){var o=this._createObject(this.model.value,!0);this.model.locale=t,this._getTimeFormat(),this.model.minTime=s.format(this._createObject(this._minTimeObj),this.model.timeFormat,this.model.locale),this.model.maxTime=s.format(this._createObject(this._maxTimeObj),this.model.timeFormat,this.model.locale),s.isNullOrUndefined(this._options)||s.isNullOrUndefined(this._options.watermarkText)||(this._localizedLabels.watermarkText=this._options.watermarkText),o?(this.model.value=this._localizeTime(o),this.element.val(this.model.value)):(o=this._localizeTime(this.element.val()))&&this._checkMinMax(o)&&(this.model.value=o,this.element.val(o)),this._getAmPm()},_setWaterMark:function(){if(null!=this.element&&this.element.hasClass("e-input"))return this._localizedLabels.watermarkText&&""==this.element.val()&&(this.isValidState=!0,this._checkErrorClass()),this._isSupport||""!=this.element.val()?a(this.element).attr("placeholder",this._localizedLabels.watermarkText):this._hiddenInput.css("display","block").val(this._localizedLabels.watermarkText),!0},_localizedLabelToModel:function(){this.model.watermarkText=this._localizedLabels.watermarkText,this.model.buttonText=this._localizedLabels.buttonText},_setLocalize:function(o){(o=s.preferredCulture(o))&&(this.model.locale="en"==o.name?"en-US":o.name,s.isNullOrUndefined(this._options)||!s.isNullOrUndefined(this._options.timeFormat)&&this._options.timeFormat||(this.model.timeFormat=s.preferredCulture(this.model.locale).calendars.standard.patterns.t),this._prevTimeFormat=!(!s.isNullOrUndefined(this._options.timeFormat)&&""!=this._options.timeFormat))},_updateInput:function(){if(!s.isNullOrUndefined(this._options)){var t=this._localizeTime(this._options.value);s.isNullOrUndefined(t)||"string"==typeof t&&this.model.enableStrictMode&&!this.model.value&&(this.element.val(this._options.value),this.isValidState=""==this.element.val(),this._checkErrorClass())}},_createMinMaxObj:function(){this._minTimeObj=this._createObject(this.model.minTime),this._minTimeObj||(this.model.minTime=s.format(this._createObject((new Date).setHours(0,0,0,0)),this.model.timeFormat,this.model.locale)),this._maxTimeObj=this._createObject(this.model.maxTime),this._maxTimeObj||(this.model.maxTime=s.format(this._createObject((new Date).setHours(23,59,59,59)),this.model.timeFormat,this.model.locale))},_setMinMax:function(){var t=(new Date).setHours(0,0,0,0),o=(new Date).setHours(23,59,59,59);!s.isNullOrUndefined(this._options)&&s.isNullOrUndefined(this._options.minTime)&&(this.model.minTime=s.format(this._createObject(t),this.model.timeFormat,this.model.locale)),!s.isNullOrUndefined(this._options)&&s.isNullOrUndefined(this._options.maxTime)&&(this.model.maxTime=s.format(this._createObject(o),this.model.timeFormat,this.model.locale)),this._createMinMaxObj()},_init:function(t){if(this._options=t,this._cloneElement=this.element.clone(),this._ISORegex(),this._isSupport=document.createElement("input").placeholder!=h,!this.element.is("input")||this.element.attr("type")&&"text"!=this.element.attr("type"))return!1;this._initialize(),this._render(),this._wireEvents(),t&&t.value!=h&&t.value!=this.element.val()&&this._trigger("_change",{value:this.element.val()}),this._updateInput(),this._updateTextbox(),null!=this.model.validationRules&&(this._initTimeValidator(),this._setTimeValidation())},_updateTextbox:function(){var t,o;if(this._options.disableTimeRanges){for(t=!0,o=0;o<this._options.disableTimeRanges.length;o++)if((this.model.minTime>=this._options.disableTimeRanges[o].startTime||this.model.minTime<=this._options.disableTimeRanges[o].endTime)&&this._options.disableTimeRanges[o].startTime==this.model.minTime){t=!1;break}(this._options===h||this._options.value===h&&!this.model.value&&t)&&this._setTime(this._localizeTime(this.model.minTime))}else this._options!==h&&(this._options.value!==h||this.model.value)||this._setTime(this._localizeTime(this.model.minTime))},_setMinMaxTime:function(t,o){!s.isNullOrUndefined(o.minTime)&&a.trim(o.minTime)&&this._isValid(o.minTime)&&(this.model.minTime=o.minTime,this._minTimeObj=this._createObject(this.model.minTime),this._validateTimes()),!s.isNullOrUndefined(o.maxTime)&&a.trim(o.maxTime)&&this._isValid(o.maxTime)&&(this.model.maxTime=o.maxTime,this._maxTimeObj=this._createObject(this.model.maxTime),this._validateTimes()),this._validateMinMax(),this._createMinMaxObj(),s.isNullOrUndefined(o.minTime)||(o.minTime=this.model.minTime),s.isNullOrUndefined(o.maxTime)||(o.maxTime=this.model.maxTime),this._checkMinMax(this.model.value)||(this.model.enableStrictMode?(this.isValidState=!1,this.model.value=null):(this.model.minTime&&!this._compareTime(this.model.value,this.model.minTime,!0)&&(this.model.value=this.model.minTime),this.model.maxTime&&!this._compareTime(this.model.maxTime,this.model.value,!0)&&(this.model.value=this.model.maxTime))),t!==this.model.value&&this._isValid(this.model.value,!0)&&this.element.val(this.model.value)},_setModel:function(t){var p,g,b,T,o=!1,l=this.model.value;for(p in t)switch("height"!=p&&"width"!=p&&"htmlAttributes"!=p&&"watermarkText"!=p&&"enabled"!=p&&"validationRules"!=p&&"validationMessages"!=p&&s.isNullOrUndefined(this.popupList)&&this._renderDropdown(),p){case"timeFormat":b=this._createObject(this.model.value),this._preTimeformat=this.model.timeFormat,g=this._timeFormat(t[p]),t[p]=this.model.timeFormat,g&&(this.seperator=this._getSeperator()),o=+b!=+this._createObject(this.model.value);break;case"locale":b=this._createObject(this.model.value),this._localize(t[p]),this.model.minTime=s.format(this._createObject(this._minTimeObj),this.model.timeFormat,this.model.locale),this.model.maxTime=s.format(this._createObject(this._maxTimeObj),this.model.timeFormat,this.model.locale),o=+b!=+this._createObject(this.model.value);break;case"interval":this.model.interval=t[p];break;case"cssClass":this._changeSkin(t[p]);break;case"showRoundedCorner":this._setRoundedCorner(t[p]);break;case"enableRTL":this._setRtl(t[p]);break;case"height":this._setHeight(t[p]);break;case"width":this.wrapper.width(t[p]),this._setListWidth();break;case"value":s.isPlainObject(t[p])&&(t[p]=null),this.model.value=s.format(this._createObject(t[p],!0),this.model.timeFormat,this.model.locale),this._ensureValue(),this._enableMask(),this.model.enableStrictMode&&!this._isValid(t[p],!0)&&(T=this._isValid(t[p])?this._localizeTime(t[p]):t[p],this.element.val(T)),t[p]=this.model.value,o=!0;break;case"enableStrictMode":this.model.enableStrictMode=t[p];break;case"validationRules":null!=this.model.validationRules&&(this.element.rules("remove"),this.model.validationMessages=null),this.model.validationRules=t[p],null!=this.model.validationRules&&(this._initTimeValidator(),this._setTimeValidation());break;case"validationMessages":this.model.validationMessages=t[p],null!=this.model.validationRules&&null!=this.model.validationMessages&&(this._initTimeValidator(),this._setTimeValidation());break;case"popupHeight":this.model.popupHeight=t[p],this._setListHeight();break;case"popupWidth":this.model.popupWidth=t[p],this._setListWidth();break;case"enabled":t[p]?this.enable():this.disable();break;case"htmlAttributes":this._addAttr(t[p]);break;case"disableTimeRanges":this.model.disableTimeRanges=t[p],this._initStartEnd(),this.model.value=s.format(this._createObject(this.element.val(),!0),this.model.timeFormat,this.model.locale),this._ensureValue(),this._enableMask(),this.model.enableStrictMode&&!this._isValid(this.element.val(),!0)&&this.element.val(this.element.val()),o=!0;break;case"watermarkText":s.isNullOrUndefined(this._options)&&(this._options={}),this._options[p]=this.model.watermarkText=t[p],this._localizedLabels.watermarkText=this.model.watermarkText,this._setWaterMark()}s.isNullOrUndefined(t.minTime)&&s.isNullOrUndefined(t.maxTime)||(this._setMinMaxTime(l,t),o=!0),s.isNullOrUndefined(t.showPopupButton)?!this.model.showPopupButton||!g&&s.isNullOrUndefined(t.minTime)&&s.isNullOrUndefined(t.maxTime)&&s.isNullOrUndefined(t.locale)&&s.isNullOrUndefined(t.interval)&&s.isNullOrUndefined(t.disableTimeRanges)||this._reRenderDropdown():this._showButton(t[p]),o&&(this._raiseChangeEvent(l,!0),t.value=this.model.value),this._checkErrorClass()},_destroy:function(){this.element.insertAfter(this.wrapper),this.wrapper.remove(),this.element.removeClass("e-input").removeAttr("ondragstart draggable aria-atomic aria-live aria-readonly").val(this.element.attr("value")),this._cloneElement.attr("name")||this.element.removeAttr("name"),this.popupList&&this.popupList.remove()},_initialize:function(){this.target=this.element[0],this.timeIcon=null,this._disabledItems=[],this.popupList=null,this.focused=!1,this.start=0,this.end=0,this.min=null,this.max=null,this.incomplete=!1,this.downPosition=0,this._setLocalize(this.model.locale),this._setMinMax(),this._getAmPm(),this.showDropdown=!1,this._activeItem=0,this.isValidState=!0,this._manualFocus=!1,this._isIE7=this._checkIE7(),this._initStartEnd(),this._localizedLabels=this._getLocalizedLabels(),s.isNullOrUndefined(this._options)||s.isNullOrUndefined(this._options.watermarkText)||(this._localizedLabels.watermarkText=this._options.watermarkText),s.isNullOrUndefined(this.model.value)&&""!=this.element[0].value&&(this.model.value=this.element[0].value),this._isIE8="msie"==s.browserInfo().name&&"8.0"==s.browserInfo().version,this._getInternalEvents=!1,this._dateTimeInternal=!1,this.model.timeFormat?this.seperator=this._getSeperator():this._getTimeFormat()},_render:function(){this._renderWrapper(),this._setDimentions(),this._renderTimeIcon(),this._validateTimes(),this._createMinMaxObj(),this._addAttr(this.model.htmlAttributes),this._checkProperties(),this._enableMask(),this._checkErrorClass(),this.element.attr({"aria-atomic":"true","aria-live":"assertive","aria-readonly":this.model.readOnly,value:this.model.value}),s.isNullOrUndefined(this.model.value)?this.wrapper.addClass("e-valid"):this.wrapper.removeClass("e-valid")},_renderWrapper:function(){if(this.element.addClass("e-input").attr({tabindex:"0",role:"combobox","aria-expanded":"false"}),this.wrapper=s.buildTag("span.e-timewidget e-widget "+this.model.cssClass+"#"+this.target.id+"_timewidget").insertAfter(this.element),this.wrapper.attr("style",this.element.attr("style")),this.element.removeAttr("style"),s.isTouchDevice()||this.wrapper.addClass("e-ntouch"),this.container=s.buildTag("span.e-in-wrap e-box").append(this.element),this.wrapper.append(this.container),!this._isSupport){this._hiddenInput=s.buildTag("input.e-input e-placeholder ","",{},{type:"text"}).insertAfter(this.element),this._hiddenInput.val(this._localizedLabels.watermarkText),this._hiddenInput.css("display","block");var t=this;a(this._hiddenInput).focus(function(){t.element.focus()})}},_addAttr:function(t){var o=this;a.map(t,function(l,p){var g=p.toLowerCase();"class"==g?o.wrapper.addClass(l):"disabled"==g&&"disabled"==l?o.disable():"readOnly"==g&&"readOnly"==l?o.model.readOnly=!0:"style"==g?o.wrapper.attr(p,l):"id"==g?(o.wrapper.attr(p,l+"_wrapper"),o.element.attr(p,l)):s.isValidAttr(o.element[0],p)?o.element.attr(p,l):o.wrapper.attr(p,l)})},_initTimeValidator:function(){this.element.closest("form").data("validator")||this.element.closest("form").validate()},_setTimeValidation:function(){var t,o,l,p,g;for(l in this.element.rules("add",this.model.validationRules),t=(t=this.element.closest("form").data("validator"))||this.element.closest("form").validate(),o=this.element.attr("name"),t.settings.messages[o]={},this.model.validationRules)if(p=null,!s.isNullOrUndefined(this.model.validationRules[l])){if(s.isNullOrUndefined(this.model.validationRules.messages&&this.model.validationRules.messages[l]))for(g in t.settings.messages[o][l]=a.validator.messages[l],this.model.validationMessages)l==g&&(p=this.model.validationMessages[l]);else p=this.model.validationRules.messages[l];t.settings.messages[o][l]=p??a.validator.messages[l]}},_renderTimeIcon:function(){if(this.model.showPopupButton){this.timeIcon=s.buildTag("span.e-select").attr({role:"button","aria-label":"select"});var t=s.buildTag("span.e-icon e-clock").attr("role","presentation");this._isIE8&&(this.timeIcon.attr("unselectable","on"),t.attr("unselectable","on")),this.timeIcon.append(t),this.container.append(this.timeIcon).addClass("e-padding"),this._on(this.timeIcon,"mousedown",this._timeIconClick)}},_elementClick:function(){this.showDropdown||this._showResult()},_renderDropdown:function(){var o,t=a("#"+this.element[0].id+"_popup").get(0);if(t&&a(t).remove(),this.popupList)return!1;this.popupList=s.buildTag("div.e-time-popup e-popup e-widget e-box "+this.model.cssClass+"#"+this.target.id+"_popup","",{},{tabindex:0,role:"listbox"}),s.isTouchDevice()||this.popupList.addClass("e-ntouch"),this.popup=this.popupList,this.ul=s.buildTag("ul.e-ul"),this._isIE8&&this.ul.attr("unselectable","on"),o=s.buildTag("div").append(this.ul),a("body").append(this.popupList.append(o)),this._renderLiTags(),this._setListHeight(),this._setListWidth(),this.popupList.ejScroller({height:this.popupList.height(),width:0,scrollerSize:20}),this.scrollerObj=this.popupList.ejScroller("instance"),this.popupList.css("display","none"),this._listSize=this.ul.find("li").length},_renderLiTags:function(){var t,o,l,p,g,b,C,T;for(this._disabledItems=[],p=6e4*this.model.interval,g=!s.isNullOrUndefined(this.model.disableTimeRanges)&&this.model.disableTimeRanges.length>0,t=this._minTimeObj,o=this._maxTimeObj,b=0;this._compareTime(o,t,!0);)l=this._localizeTime(t),(C=a(document.createElement("li")))[0].appendChild(document.createTextNode(l)),this._isIE8&&C.attr("unselectable","on"),g&&(this._ensureTimeRange(l)?(C.addClass("e-disable"),this._disabledItems.push(b)):C.removeClass("e-disable")),this.ul[0].appendChild(C[0]),t=new Date(t).getTime()+p,b++;T=this.ul.find("li"),s.isTouchDevice()||(this._on(T,"mouseenter",a.proxy(this._OnMouseEnter,this)),this._on(T,"mouseleave",a.proxy(this._OnMouseLeave,this))),this._on(T,"click",a.proxy(this._OnMouseClick,this)),(this.model.showPopupButton||!s.isNullOrUndefined(this.popupList))&&this.ul.find("li").attr({tabindex:-1,"aria-selected":!1,role:"option"})},_ensureTimeRange:function(t){var o,l;if(!s.isNullOrUndefined(this.model.disableTimeRanges))for(o=this._makeDateTimeObj(t),l=0;l<this.model.disableTimeRanges.length;l++)if(+o>=+this._makeDateTimeObj(this.model.disableTimeRanges[l].startTime)&&+o<=+this._makeDateTimeObj(this.model.disableTimeRanges[l].endTime))return!0;return!1},_initStartEnd:function(){if(this._startTime=[],this._endTime=[],!s.isNullOrUndefined(this.model.disableTimeRanges))for(var t=0;t<this.model.disableTimeRanges.length;t++)this._startTime[t]=this._makeDateTimeObj(this.model.disableTimeRanges[t].startTime),this._endTime[t]=this._makeDateTimeObj(this.model.disableTimeRanges[t].endTime)},_makeDateTimeObj:function(t){var o;if("string"==typeof t){var l=s.preferredCulture(this.model.locale).calendar.patterns.d,p=s.format(new Date("1/1/2000"),l,this.model.locale),g=s.parseDate(p+" "+t,l+" "+this.model.timeFormat,this.model.locale);if(!g){if(o=new Date(t),!isNaN(Date.parse(o))&&!s.isNullOrUndefined(t))return this._setEmptyDate(t);g=new Date("1/1/2000 "+t)}return g}return t instanceof Date?this._setEmptyDate(t):null},_reRenderDropdown:function(){this.ul.empty(),this._renderLiTags(),this._refreshScroller(),this._changeActiveEle()},_refreshScroller:function(){var t="none"==this.popupList.css("display");this.popupList.css("height","auto"),this.popupList.find(".e-content, .e-vscroll").removeAttr("style"),this.popupList.find(".e-vscroll div").removeAttr("style"),t&&this.popupList.css("display","block"),this.scrollerObj.model.height=this.popupList.height(),this.scrollerObj.model.scrollTop=0,this.scrollerObj.refresh(),this._isIE8&&(a("#"+this.scrollerObj._id).children(".e-vscroll").children().attr("unselectable","on"),a("#"+this.scrollerObj._id).find(".e-vhandle").attr("unselectable","on")),t&&this.popupList.css("display","none")},_removeWatermark:function(){""==this.element.val()||this._isSupport||this._hiddenInput.css("display","none")},_setListWidth:function(){if(this.popupList){var o,t=this.model.popupWidth;o="string"==typeof t&&-1!=t.indexOf("%")||"string"==typeof t?parseInt(t)>0?t:this.model.popupWidth="auto":t>0?t:this.model.popupWidth="auto",this.popupList.css(o&&"auto"!=o?{width:o}:{width:this.wrapper.width()})}this.scrollerObj&&(this._refreshScroller(),this._updateScrollTop())},_setListHeight:function(){this.popupList&&this.popupList.css({"max-height":this.model.popupHeight||"191px"}),this.scrollerObj&&(this._refreshScroller(),this._updateScrollTop())},_updateScrollTop:function(){this.scrollerObj.setModel({scrollTop:this._calcScrollTop()})},_refreshPopup:function(){"auto"==this.model.popupWidth&&this.popupList.css({width:this.wrapper.width()}),this._setListPosition(),this._refreshScroller()},_setListPosition:function(){var l,t=this.wrapper,o=this._getOffset(t),p=a(document).scrollTop()+a(window).height()-(o.top+a(t).outerHeight()),g=o.top-a(document).scrollTop(),b=this.popupList.outerHeight(),C=this.popupList.outerWidth(),T=o.left,D=t.outerHeight(),L=(D-t.height())/2,I=this._getZindexPartial(),V=(b<p||b>g?o.top+D+3:o.top-b-3)-L;l=a(document).scrollLeft()+a(window).width()-T,(this.model.enableRTL||C>l&&C<T+t.outerWidth())&&(T-=this.popupList.outerWidth()-t.outerWidth()),this.popupList.css({left:T+"px",top:V+"px","z-index":I})},_getOffset:function(t){return s.util.getOffset(t)},_getZindexPartial:function(){return s.util.getZindexPartial(this.element,this.popupList)},_enableMask:function(){this.isValidState=!(this.model.minTime&&this._compareTime(this.model.minTime,this.model.value)||this.model.maxTime&&this._compareTime(this.model.value,this.model.maxTime)),this._setTime(this.model.value),s.isNullOrUndefined(this.model.value)?this.wrapper.removeClass("e-valid"):this.wrapper.addClass("e-valid"),this._getInternalEvents&&!this.isValidState&&this._trigger("outOfRange"),this._changeActiveEle(),this._preVal=this.element.val()},_setTime:function(t){var o=this._localizeTime(t);this.element.val(o),this.model.value=this.model.enableStrictMode?this._compareTime(this.model.value,this.model.minTime,!0)&&this._compareTime(this.model.maxTime,this.model.value,!0)?o:null:o,this._setWaterMark()},_timeFromISO:function(t){var C,T,D,L,I,R,V,F,A,o=this._extISORegex.exec(t)||this._basicISORegex.exec(t),l="",p="",g="";if(o){for(C=0;C<this._dates.length;C++)if(this._dates[C][1].exec(o[1])){l=this._dates[C][0];break}if(o[3])for(T=0;T<this._times.length;T++)if(this._times[T][1].exec(o[3])){p=(o[2]||" ")+this._times[T][0];break}for(o[4]&&this._zeroRegex.exec(o[4])&&(g="Z"),D=(l+p+g).match(this._tokens),I=[],V=0;V<D.length;V++)F=D[V],R=this._checkLiteral(D[V]),A=this._numberRegex[R?D[V].toLowerCase():F.length]||new RegExp("^\\d{1,"+F.length+"}"),(L=t.match(A))&&(t.substr(0,t.indexOf(L))>=0&&!R&&(D[V].indexOf("M")>=0?I.push(parseInt(L[0])-1):I.push(parseInt(L[0]))),t=t.slice(t.indexOf(L[0])+L[0].length));return"Z"==o[4]?new Date(Date.UTC.apply(null,I)):new Date(I[0],I[1],I[2],I[3],I[4],I[5])}return new Date(t+"")},_checkLiteral:function(t){var o=t.toLowerCase();return"t"==o||"z"==o||":"==o||"-"==o},_setMask:function(){this.model.value=new Date,this._enableMask()},_validateTimes:function(){var t=this._validateTimeFormat(this.model.timeFormat);this.model.timeFormat=t||"h:mm tt",this._isValid(this.model.minTime)||(this.model.minTime="12:00 AM"),this._isValid(this.model.maxTime)||(this.model.maxTime="11:59 PM"),this._isValid(this.model.value,!0)||(this.model.value=null),this._checkMinMax(this.model.value)||this.model.enableStrictMode||(this.model.minTime&&!this._compareTime(this.model.value,this.model.minTime,!0)&&(this.model.value=this.model.minTime),this.model.maxTime&&!this._compareTime(this.model.maxTime,this.model.value,!0)&&(this.model.value=this.model.maxTime)),this._validateMinMax()},_ensureValue:function(){!this._checkMinMax(this.model.value)&&this._isValid(this.model.value,!0)&&(this.model.enableStrictMode?this.isValidState=!1:(this.model.minTime&&!this._compareTime(this.model.value,this.model.minTime,!0)&&(this.model.value=this.model.minTime),this.model.maxTime&&!this._compareTime(this.model.maxTime,this.model.value,!0)&&(this.model.value=this.model.maxTime)))},_validateMinMax:function(){this.model.minTime&&this.model.maxTime&&this._compareTime(this.model.minTime,this.model.maxTime)&&(this.model.minTime=this.model.maxTime)},_checkProperties:function(){this.model.enabled?this.model.enabled&&this.element.hasClass("e-disable")&&(this.model.enabled=!1,this.enable()):(this.model.enabled=!0,this.disable()),this._addProperty(),this._checkAttributes()},_addProperty:function(){this._setRtl(this.model.enableRTL),this._setRoundedCorner(this.model.showRoundedCorner)},_setRtl:function(t){t?(this.wrapper.addClass("e-rtl"),this.popupList&&this.popupList.addClass("e-rtl")):(this.wrapper.removeClass("e-rtl"),this.popupList&&this.popupList.removeClass("e-rtl"))},_setRoundedCorner:function(t){t?(this.container.addClass("e-corner"),this.popupList&&this.popupList.addClass("e-corner")):(this.container.removeClass("e-corner"),this.popupList&&this.popupList.removeClass("e-corner"))},_showButton:function(t){this.model.showPopupButton=t,t?(this.container.addClass("e-padding"),this._renderTimeIcon(),this._renderDropdown(),this._addProperty()):(this.container.removeClass("e-padding"),this.timeIcon.remove(),this.popupList.remove(),this.timeIcon=this.popupList=null,a(document).off("mousedown",a.proxy(this._OnDocumentClick,this)))},_checkAttributes:function(){this.element.attr("name")||this.element.attr({name:this.element[0].id}),"ondragstart"in document.createElement("input")&&this.element.attr({ondragstart:"return false"}),"draggable"in document.createElement("input")&&this.element.attr({draggable:"false"})},_getAmPm:function(){var t=new Date;t.setHours(0),this.ttAM=a.trim(this._localizeMeridian(t)),t.setHours(23),this.ttPM=a.trim(this._localizeMeridian(t))},_setDimentions:function(){this.model.height||(this.model.height=this.element.attr("height")),this.model.width||(this.model.width=this.element.attr("width")),this._setHeight(this.model.height),this.model.width&&this.wrapper.width(this.model.width)},_setHeight:function(t){t&&this.wrapper.height(t),this._isIE7&&this.element.height(this.container.height())},_validateTimeFormat:function(t){var o=t.split(" "),l="";return 1==o.length||2==o.length?(a(o).each(function(p,g){l+=a.trim(g)+" "}),a.trim(l)):null},_getSeperator:function(){for(var t=this._getElePlace(),o=this._formatparts[t.time],l=new RegExp("^[a-zA-Z0-9]+$"),p=0;p<o.length;p++)if(!l.test(o.charAt(p)))return o.charAt(p)},_checkInComplete:function(){var t=this._getCaretSelection(),o=this._getStartEnd(t),l="00",p=this._getSelectedValue(o),g=this._getCategory(o);t.end-t.start==this.element.val().length&&this._checkAll(),g&&"tt"!=g&&(this._findCategoryPosition(g),"__"==p?(("h"==g||"hh"==g)&&(l="12"),this._changeToDefault(l)):1!=g.length&&1==p.length&&(p=this._changeWhole(p),this.element.val(this._replaceAt(this.target.value,this.start,this.end,p))))},_checkAll:function(){for(var l,t=this._getElePlace(),o=this._formatparts[t.time].split(this.seperator),p=0;p<o.length;p++)this._findCategoryPosition(o[p]),l=this._getSelectedValue({start:this.start,end:this.end}),1!=o[p].length&&1==l.length&&(l=this._changeWhole(l),this.element.val(this._replaceAt(this.element.val(),this.start,this.end,l)))},_changeToDefault:function(t){var o,l;this.incomplete=!0,o=this.element[0].value,this.element[0].value=this._replaceAt(this.target.value,this.start,this.end,t),!(l=this._checkExceedRange(this.target.value))||this._setTime(this.model[l]),this._setSelection(this.start,this.end),this._raiseChangeEvent(o)},_setSelection:function(t,o){var l=this.element[0];l.setSelectionRange?l.setSelectionRange(t,o):l.createTextRange&&((l=l.createTextRange()).collapse(!0),l.moveEnd("character",o),l.moveStart("character",t),l.select())},_getSelectedValue:function(t){return this.target.value.substring(t.start,t.end)},_getMinMax:function(t,o){"hh"==t||"h"==t?(this.min=1,this.max=11,o&&(this.max=12)):"HH"==t||"H"==t?(this.min=0,this.max=23):("mm"==t||"m"==t||"ss"==t||"s"==t)&&(this.min=0,this.max=59)},_focusElement:function(){this._manualFocus=!0,this.element.focus()},_targetFocus:function(t){this._clearRange(),t.preventDefault(),this.focused=!0,this.element.on("mousewheel DOMMouseScroll",a.proxy(this._mouseWheel,this)),this.wrapper.addClass("e-focus").removeClass("e-error").attr("aria-invalid","false"),this._getExactPostions(),this._manualFocus||(this._findCategoryPosition(this._getLeast(!1)),this._setSelection(this.start,this.end)),this._manualFocus=!1,this._prevTimeVal=this.element.val(),this._raiseEvent("focusIn"),this.wrapper.addClass("e-valid"),this.model.showPopupButton||this._showResult(),this.model.showPopupButton||this._on(this.element,"click",this._elementClick)},_targetBlur:function(){this.focused=!1,this.element.off("mousewheel DOMMouseScroll",a.proxy(this._mouseWheel,this)),this.model.showPopupButton||this._off(this.element,"click",this._elementClick),this.wrapper.removeClass("e-focus"),this.model.enableStrictMode||this.target.value.indexOf("_")>-1&&this.element.val(""),!this._checkMinMax(this.target.value)&&this._isValid(this.target.value,!0)?this.model.enableStrictMode?this.isValidState=!1:(this.model.minTime&&!this._compareTime(this._createObject(this.target.value),this.model.minTime,!0)&&this.element.val(this.model.minTime),this.model.maxTime&&!this._compareTime(this.model.maxTime,this._createObject(this.target.value),!0)&&this.element.val(this.model.maxTime),this._isValid(this.model.value,!0)||this.element.val(null),this.isValidState=!0,s.isNullOrUndefined(this.model.value)?this.wrapper.removeClass("e-valid"):this.wrapper.addClass("e-valid")):this.isValidState=!0,this._ensureValue(),this._raiseChangeEvent(),this._checkErrorClass(),this._raiseEvent("focusOut"),this.model.enableStrictMode||this._checkInComplete(),s.isNullOrUndefined(this.model.value)?this.wrapper.removeClass("e-valid"):this.wrapper.addClass("e-valid")},_clearRange:function(){var t=this.element[0];isNaN(t.selectionStart)||(t.selectionStart=0,t.selectionEnd=0)},_checkErrorClass:function(){this.isValidState?this.wrapper.removeClass("e-error").attr("aria-invalid","false"):this.wrapper.addClass("e-error").attr("aria-invalid","true")},_getExactPostions:function(){var l,t=this.model.timeFormat;this.model.timeFormat.split(" "),this._formatparts=[],this._valueparts=[],this._amPMPosition=t.match("([t][t]+)")?t.match("([t][t]+)").index:null,this._amPMPosition==h?(this._formatparts=this.model.timeFormat.split(" "),this._valueparts=this.element.val().split(" "),this._noTT=!0):(this._amPMPosition==this.model.timeFormat.length-2?(this._ttAtEnd=!0,this._isSpace=" "==this.model.timeFormat[this.model.timeFormat.split("").indexOf("t")-1]):(this._ttAtEnd=!1,this._isSpace=" "==this.model.timeFormat[this.model.timeFormat.split("").indexOf("t")+2]),1==this._ttAtEnd?(this._ttStartPostion=this.model.timeFormat.match("([t]?[t]+)").index,this._ttEndPosition=this.model.timeFormat.length,this._formatStartPosition=0,l=0,this.element&&this.element.val()&&(l=this.element.val().length-this.model.timeFormat.length),this._updatedttStartPosition=this._ttStartPostion+l,this._formatEndPostion=this.model.timeFormat.match("([t][t]+)").index,this._formatparts[0]=this.model.timeFormat.substr(this._formatStartPosition,this._formatEndPostion).trim(),this._formatparts[1]=this.model.timeFormat.substr(this._ttStartPostion,this._ttEndPosition).trim(),this._valueparts[0]=this.element.val().substr(this._formatStartPosition,this._formatEndPostion+l).trim(),this._valueparts[1]=this.element.val().substr(this._ttStartPostion+l,this._ttEndPosition).trim()):(this._ttStartPostion=0,this._ttEndPosition=this.model.timeFormat.match("([t]?[t]+)")?this._ttStartPostion+this.model.timeFormat.match("([t]?[t]+)")[0].length:0,this._formatStartPosition=this._isSpace?this._ttEndPosition+1:this._ttEndPosition,this._formatEndPostion=this.model.timeFormat.length,this._formatparts[1]=this.model.timeFormat.substr(this._formatStartPosition,this._formatEndPostion).trim(),this._formatparts[0]=this.model.timeFormat.substr(this._ttStartPostion,this._ttEndPosition).trim(),this._valueparts[1]=this.element.val().substr(this._formatStartPosition,this._formatEndPostion).trim(),this._valueparts[0]=this.element.val().substr(this._ttStartPostion,this._ttEndPosition).trim()))},_getCaretSelection:function(){var p,g,b,C,t=this.element[0],l=0;return isNaN(t.selectionStart)?(p=document.selection.createRange().getBookmark(),(g=t.createTextRange()).moveToBookmark(p),(b=t.createTextRange()).collapse(!0),b.setEndPoint("EndToStart",g),{start:C=b.text.length,end:C+g.text.length}):(l=t.selectionEnd,{start:Math.abs(t.selectionStart),end:Math.abs(l)})},_mouseDownOnInput:function(){this.focused||s.isTouchDevice()||this._focusElement(),this._getExactPostions(),this.downPosition=this._getCaretSelection(),a(document).on("mouseup",a.proxy(this._mouseUpOnInput,this))},_mouseUpOnInput:function(t){t.preventDefault(),a(document).off("mouseup",a.proxy(this._mouseUpOnInput,this));var o=this._getCaretSelection();this.incomplete&&(this.incomplete=!1,o=this.downPosition),this.target.value!=this._getSelectedText()&&(o=this._getStartEnd(o),this._setSelection(o.start,o.end))},_getCategoryPosition:function(t){var L,I,o=0,l=0,p=this._getTimeParts(),g=this._getElePlace(),b=this.seperator,C=!1,T=this._getFormatParts()[g.time].split(b),D=p[g.time].split(b);if(T.length>D.length)return{start:o,end:l,isValid:C};if("tt"==t)(p[g.tt]==this.ttAM||p[g.tt]==this.ttPM)&&(l=(o=0==g.tt?0:p[g.time].length+1)+p[g.tt].length,!this._isSpace&&this._ttAtEnd&&(o-=1,l-=1),C=!0);else if(o=0==g.time?0:p[g.tt].length+1,-1!=(L=T.indexOf(t))){for(I=0;I<T.length&&(l=D[I].length+1,I!=L);I++)o+=l;l+=o-1,this._noTT||this._isSpace||this._ttAtEnd||(o-=1,l-=1),C=!0}return{start:o,end:l,isValid:C}},_getCategory:function(t){var o=this._getFormatParts(),l=this.seperator,p=this._getElePlace();return t.isTT?o[p.tt]:o[p.time].split(l)[t.index]},_getTimeParts:function(){return"h:mm tt"==this.model.timeFormat||"h:m tt"==this.model.timeFormat||"hh:m tt"==this.model.timeFormat||"hh:mm:s tt"==this.model.timeFormat?this.element.val().split(" "):this._valueparts},_getFormatParts:function(){return"h:mm tt"==this.model.timeFormat||"h:m tt"==this.model.timeFormat||"hh:m tt"==this.model.timeFormat||"hh:mm:s tt"==this.model.timeFormat?this.model.timeFormat.split(" "):this._formatparts},_getStartEnd:function(t){this._getExactPostions();for(var o,D,l=this.seperator,g=(this.element.val(),this._valueparts),b=0,C=0,T=o=null,L=0;L<g.length;L++)if(g[L]!=this.ttAM&&g[L]!=this.ttPM){var I=g[L].split(l),R=b,V=b+I[0].length;for(D=0;D<I.length;D++)if(C=I[D].length+b,!this._isSpace&&this._ttAtEnd&&t.start>=this._updatedttStartPosition&&t.end<=this._ttEndPosition&&this._formatparts[0].split(this._getSeperator())[1].length==this._valueparts[0].split(this._getSeperator())[1].length)b+=I[D].length+1;else{if(t.start<=C){T=D,o=!1,L=g.length;break}b+=I[D].length+1}}else{if(this._isSpace||this._ttAtEnd?t.start<=b+g[L].length:t.start<b+g[L].length){C=g[L].length+b,T=0,o=!0,L=g.length,!this._isSpace&&this._ttAtEnd&&(b-=1,C-=1);break}b+=g[L].length+1,this._isSpace||this._ttAtEnd||(b-=1)}return null==T&&(b=R,C=V,T=0,o=!1),{start:b,end:C,index:T,isTT:o}},_modifyValue:function(t){var o,l,p,g;this._isValid(this.target.value)&&(this.model.enableStrictMode||this._checkInComplete(),(o=this._getCaretSelection()).start==o.end?(p=this._getLeast(!0),g=this._getCategoryPosition(p),l=this._getStartEnd(g)):l=this._getStartEnd(o),this.start=l.start,this.end=l.end,this._changeValue(l,t))},_keyUpOnInput:function(t){var o,l;t.preventDefault(),this._preVal!=this.element.val()&&(this._preVal=this.element.val());var g=this._getCaretSelection(),b=this._getStartEnd(g),C=this._getCategory(b);o=this._getSelectedValue(b),(l=this.element.val()).split(":"),l[0]<3&&(this._poschange=1==isNaN(l[0]+l[1])&&l[0]<10),"h"==C&&2==g.start&&2==g.end&&o>9&&o<13||"H"==C&&o>9&&o<24||"H"==C&&o<9&&2==g.start&&2==g.end||"mm"==C&&1==this._poschange&&4==g.start&&4==g.end||"ss"==C&&8==g.start&&8==g.end||"ss"==C&&1==this._poschange&&7==g.start&&7==g.end||"mm"==C&&5==g.start&&5==g.end?"mm"==C&&("HH:mm"==this.model.timeFormat||"hh:mm"==this.model.timeFormat||"H:mm"==this.model.timeFormat||"h:mm"==this.model.timeFormat)||"ss"==C&&("HH:mm:ss"==this.model.timeFormat||"hh:mm:ss"==this.model.timeFormat||"H:mm:ss"==this.model.timeFormat||"h:mm:ss"==this.model.timeFormat)||this._movePosition(g,null):("hh"==C||"HH"==C)&&g.start&&2==g.end&&o<24&&this._movePosition(g,null)},_getNextCategory:function(t,o){var b,l=[],p=this.seperator,g=this._getFormatParts();return a(g).each(function(T,D){if("tt"==D)l.push(D);else{var L=D.split(p);l=L.concat(l)}}),-1!=(b=l.indexOf(t))?l[o?0==b?l.length-1:b-1:b==l.length-1?0:b+1]:t},_getElePlace:function(){var o,l;return this._getExactPostions(),"tt"==this._getFormatParts()[0]?(o=1,l=0):(o=0,l=1),{time:o,tt:l}},_movePosition:function(t,o){var g,l=this._getStartEnd(t),p=this._getCategory(l);p||(p=this._getLeast(o)),g=this._getNextCategory(p,o),(l=this._getCategoryPosition(g)).isValid&&this._setSelection(l.start,l.end)},_findActiveIndex:function(){var p,t=this.ul.find("li"),o=this.element.val(),l=t.first().html();p=(this._parse(o)-this._parse(l))/(6e4*this.model.interval),p=Math.round(p),this._activeItem=p==t.length?p:p+1,(this._activeItem<0||this._activeItem>t.length||isNaN(this._activeItem))&&(this._activeItem=0)},_keyDownOnInput:function(t){var o,l,p,g,b,C,T,D,L,I,R,V,A,z,U,J,Q,oe,ue,le;if(this.model.readOnly&&!this._readOnlyKeys(t)||(p=t.keyCode,this._getInternalEvents&&38!=p&&40!=p&&36!=p&&35!=p&&9!=p))return!1;if(!this.model.enableStrictMode){if(this.showDropdown&&38!=p&&40!=p&&27!=p&&!this._readOnlyKeys(t))return!1;this.showDropdown&&(37==p||39==p)&&(t.keyCode=37==p?38:40)}switch(o=this._getCaretSelection(),le=this._getStartEnd(o),l=this._getCategory(le),t.keyCode){case 38:t.preventDefault(),this.showDropdown?this.showDropdown&&(t.preventDefault(),this._findActiveIndex(),b=this._activeItem,this._activeItem=this._disableItemSelectUp(this._activeItem-1),0==this._activeItem&&(this._activeItem=b),this._addListHover(),(g=this._getActiveItem()).length&&this._selectTimeItem(g)):this._isValid(this.target.value)&&this._modifyValue(!0);break;case 40:t.preventDefault(),t.altKey&&this.model.showPopupButton?this._showhidePopup():this.showDropdown?this.showDropdown&&(t.preventDefault(),this._findActiveIndex(),b=this._activeItem,this._activeItem=this._disableItemSelectDown(this._activeItem),this._activeItem<this._listSize?this._activeItem+=1:this._activeItem=b,this._addListHover(),this._selectTimeItem(this._getActiveItem())):this._isValid(this.target.value)&&this._modifyValue(!1);break;case 37:t.preventDefault(),o.start==o.end?this._setSelection(o.start-1,o.start-1):this._movePosition(o,!0);break;case 39:t.preventDefault(),o.start==o.end?this._setSelection(o.start+1,o.start+1):this._movePosition(o,!1);break;case 36:t.preventDefault(),this.showDropdown?(this._activeItem=0,b=this._activeItem,this._activeItem=this._disableItemSelectDown(this._activeItem),this._activeItem<this._listSize?this._activeItem+=1:this._activeItem=b,this._addListHover(),this._selectTimeItem(this._getActiveItem())):(C=this._firstlastVal(!0),(T=this._getCategoryPosition(C)).isValid&&this._setSelection(T.start,T.end));break;case 35:t.preventDefault(),this.showDropdown?(this._activeItem=this._listSize+1,b=this._activeItem,this._activeItem=this._disableItemSelectUp(this._activeItem-1),0==this._activeItem&&(this._activeItem=b),this._addListHover(),this._selectTimeItem(this._getActiveItem())):(D=this._firstlastVal(!1),(L=this._getCategoryPosition(D)).isValid&&this._setSelection(L.start,L.end));break;case 9:if(this._getInternalEvents)break;this._hideResult(),I=null,t.shiftKey&&o.start>0?I=!0:!t.shiftKey&&o.end<this.element.val().length&&(I=!1),null!=I&&(t.preventDefault(),this._checkInComplete(),this._movePosition(o,I));break;case 13:if(!this.showDropdown){this._raiseChangeEvent();break}case 27:t.preventDefault(),this._hideResult();break;case 8:case 46:if(this.model.enableStrictMode)return;this.target.value!=this._getSelectedText()&&(t.preventDefault(),l&&"tt"!=l&&(this._findCategoryPosition(l),R=8==p&&o.start!=this.start,V=46==p&&o.end!=this.end,o.start==o.end&&1!=this.end-this.start||!R&&!V&&o.start==o.end?R?(this.element[0].value=this._replaceAt(this.target.value,o.start-1,o.start,""),this._setSelection(o.start-1,o.start-1)):V&&(this.element[0].value=this._replaceAt(this.target.value,o.end,o.end+1,""),this._setSelection(o.end,o.end)):(this.element[0].value=this._replaceAt(this.target.value,A=this.start,z=this.end,"__"),this._setSelection(A,z-A!=2?z+1:z))))}U=this._getSelectedValue(le),J=t.keyCode?t.keyCode:t.charCode,t.keyCode>47&&t.keyCode<58?Q=String.fromCharCode(J):t.keyCode>95&&t.keyCode<106&&(Q=String.fromCharCode(J-48)),"tt"==l&&(!t.shiftKey&&!t.ctrlKey&&!t.altKey&&t.keyCode>64&&t.keyCode<91||t.keyCode>47&&t.keyCode<58||t.keyCode>95&&t.keyCode<106)&&(t.preventDefault(),oe=this._getCategoryPosition(l),this.start=oe.start,this.end=oe.end,this._changeAmPm(U),this._raiseChangeEvent()),this.target.value!=this._getSelectedText()||t.shiftKey||t.ctrlKey||t.altKey||(t.keyCode>64&&t.keyCode<91&&!this.model.enableStrictMode&&t.preventDefault(),(t.keyCode>47&&t.keyCode<58||t.keyCode>95&&t.keyCode<106)&&(le=this._getStartEnd(o),this._setSelection(le.start,le.end))),!t.shiftKey&&!t.ctrlKey&&!t.altKey&&t.keyCode>47&&t.keyCode<58||t.keyCode>95&&t.keyCode<106?"tt"!=l&&(this._getMinMax(l,!0),o.start==o.end?(this._findCategoryPosition(l),o.start==this.start?(ue=Q+U,0==this.model.enableStrictMode&&(this._validateTimes(),this._targetBlur()),null==this.model.value&&this.element.val(this.model.minTime),le=this._getStartEnd(o),this._setSelection(le.start,le.end)):ue=U+Q,(ue.length>2||!(Number(ue)>=this.min&&this.max>=Number(ue)))&&(this.model.enableStrictMode||t.preventDefault())):Number(Q)>=this.min&&this.max>=Number(Q)||this.model.enableStrictMode||t.preventDefault()):this._allowKeyCodes(t)||(this.model.enableStrictMode||8==t.keyCode||46==t.keyCode?t.stopPropagation():t.preventDefault())},_getSelectedText:function(){if(window.getSelection){var t=a("#"+this.element[0].id).get(0);return t.value.substring(t.selectionStart,t.selectionEnd)}return document.selection.createRange().text},_allowKeyCodes:function(t){return!((!t.ctrlKey||65!=t.keyCode&&67!=t.keyCode&&90!=t.keyCode&&89!=t.keyCode)&&9!=t.keyCode&&116!=t.keyCode&&13!=t.keyCode)},_readOnlyKeys:function(t){return!(35!=t.keyCode&&36!=t.keyCode&&37!=t.keyCode&&39!=t.keyCode&&!this._allowKeyCodes(t))},_firstlastVal:function(t){var p,o=this._getFormatParts(),l=this.seperator;return t?"tt"!=o[0]?o[0].split(l)[0]:"tt":"tt"!=o[0]?"tt":o[1]&&(p=o[1].split(l)).length?p[p.length-1]:"tt"},_mouseWheel:function(t){if(t.preventDefault(),this.model.readOnly)return!1;var o,l=t.originalEvent;l.wheelDelta?o=l.wheelDelta/120:l.detail&&(o=-l.detail/3),o>0?this._modifyValue(!0):o<0&&this._modifyValue(!1)},_addListHover:function(){this._addSelected(),this._updateScrollTop()},_addSelected:function(){this.ul.find("li").removeClass("e-active e-hover");var t=this._getActiveItem();t.length&&!t.hasClass("e-disable")&&t.addClass("e-active")},_disableItemSelectDown:function(t){return(null==t||t<0)&&(t=0),t<this._listSize?a.inArray(t,this._disabledItems)<0?t:this._disableItemSelectDown(t+1):this._listSize},_disableItemSelectUp:function(t){if((null==(t-=1)||t<0)&&(t=0),t<this._listSize){if(a.inArray(t,this._disabledItems)<0)return t+1;if(t>0)return this._disableItemSelectUp(t)}return 0},_getActiveItem:function(){return a(this.ul.find("li")[this._activeItem-1])},_timeIconClick:function(t){var o,l;if(s.isNullOrUndefined(this.popupList)&&(this._renderDropdown(),this._addProperty()),o=!1,t.button?o=2==t.button:t.which&&(o=3==t.which),!o){if(t.preventDefault(),!this.model.enabled||this.model.readOnly||this.ul.find("li").length<1)return!1;this._showhidePopup(),l=this.element.val().length,s.isTouchDevice()||this._setSelection(l,l)}},_showhidePopup:function(){if(this._getInternalEvents)return!1;this.showDropdown?this._hideResult():this._showResult()},_showResult:function(){if(null==this.popupList&&this._renderDropdown(),this._raiseEvent("beforeOpen"))return!1;this.focused||s.isTouchDevice()||this._focusElement(),this.model.value?this._changeActiveEle():this.ul.find("li").removeClass("e-active");var t=this,o=this._visibleAndCalculateTop();this.popupList.slideDown(this.model.enableAnimation?200:0,function(){a(document).on("mousedown",a.proxy(t._OnDocumentClick,t))}),this.scrollerObj.setModel({scrollTop:o}),this.showDropdown=!0,this._listSize=this.ul.find("li").length,a(window).on("resize",a.proxy(this._OnWindowResize,this)),this._on(s.getScrollableParents(this.wrapper),"scroll",this._hideResult),this._on(s.getScrollableParents(this.wrapper),"touchmove",this._hideResult),this._raiseEvent("open"),this.wrapper.addClass("e-active")},_hideResult:function(t){if(this._raiseEvent("beforeClose"))return!1;t&&("touchmove"==t.type||"scroll"==t.type)&&a(t.target).parents("#"+this.popupList[0].id).length>0||this.showDropdown&&!this._getInternalEvents&&(this.showDropdown=!1,this.popupList.slideUp(this.model.enableAnimation?100:0),a(document).off("mousedown",a.proxy(this._OnDocumentClick,this)),a(window).off("resize",a.proxy(this._OnWindowResize,this)),this._off(s.getScrollableParents(this.wrapper),"scroll",this._hideResult),this._off(s.getScrollableParents(this.wrapper),"touchmove",this._hideResult),this._raiseEvent("close"),this.wrapper.removeClass("e-active"))},_visibleAndCalculateTop:function(){this.popupList.css({display:"block"});var t=this._calcScrollTop();return this._refreshPopup(),this.popupList.css({display:"none"}),t},_calcScrollTop:function(){this.ul.outerHeight();var o=this.ul.find("li").outerHeight();return o*this.ul.find("li.e-active").index()-(this.popupList.outerHeight()-o)/2},_changeActiveEle:function(){if(!this.popupList)return!1;var p,t=this.ul.find("li"),o=this.element.val(),l=t.first().html();p=(this._parse(o)-this._parse(l))/(6e4*this.model.interval),p=Math.round(p),this._activeItem=p==t.length?p:p+1,(this._activeItem<0||this._activeItem>t.length||isNaN(this._activeItem)||this._ensureTimeRange(o))&&(this._activeItem=0),this._addListHover()},_OnDocumentClick:function(t){a(t.target).is(this.popupList)||a(t.target).parents(".e-time-popup").is(this.popupList)||a(t.target).is(this.wrapper)||a(t.target).parents(".e-timewidget").is(this.wrapper)?(a(t.target).is(this.popupList)||a(t.target).parents(".e-time-popup").is(this.popupList))&&t.preventDefault():this._hideResult()},_OnWindowResize:function(){this._refreshPopup()},_OnMouseEnter:function(t){var o=t.target;this.ul.find("li").removeClass("e-hover"),a(o).hasClass("e-disable")||a(o).addClass("e-hover")},_OnMouseLeave:function(){(!this._dateTimeInternal||this.model.value)&&this.ul.find("li").removeClass("e-hover")},_OnMouseClick:function(t){t.preventDefault(),a(t.target).hasClass("e-disable")||(this.model.enabled&&!this.model.readOnly&&(this._activeItem=a(t.target).index()+1,this.ul.find("li").attr({tabindex:-1,"aria-selected":!1}),a(t.target).attr({"aria-selected":!0,tabindex:0}),this._addSelected(),this._selectTimeItem(a(t.target))),this._showhidePopup())},_selectTimeItem:function(t){this._beforeChange(t),this._raiseChangeEvent()&&this._trigger("select",{value:this.model.value,prevTime:this._previousValue})},_findCategoryPosition:function(t){"least"==t&&(t=this._getLeast(!0));var o=this._getCategoryPosition(t);this.start=o.start,this.end=o.end},_getLeast:function(t){var o=this._getFormatParts(),l=this.seperator,p=null;return a(o).each(function(g,b){if("tt"!=b){var C=b.split(l);p=t?C[C.length-1]:C[0]}}),p},_changeValue:function(t,o){var p,b,C,g=this._getCategory(t);if(!g)return!1;if(this._setSelection(this.start,this.end),p=this.target.value.substring(this.start,this.end),this._checkMinMax(this.target.value))if(p!=this.ttAM&&p!=this.ttPM){if(p=this._changeCurrentValue(p,g,o),1!=g.length&&(p=this._changeWhole(p)),this._findCategoryPosition(g),this.element.val(this._replaceAt(this.target.value,this.start,this.end,p)),this.end=this.start+p.toString().length,this._setSelection(this.start,this.end),this._ensureTimeRange(this.target.value)&&this._checkMinMax(this.target.value)){var T=this._createObject(this.target.value),D=T.getHours(),L=o?this._startTime:this._endTime,I=o?this._endTime:this._startTime;if(!s.isNullOrUndefined(this.model.disableTimeRanges))for(b=0;b<this.model.disableTimeRanges.length;b++)(L[b].getHours()===D||+T>=+this._startTime[b]&&+T<=+this._endTime[b])&&(this.target.value=this._localizeTime(I[b]),this._findCategoryPosition(g),this._setSelection(this.start,this.end),this._changeValue(t,o))}}else this._changeAmPm(p);else C=this._checkExceedRange(this.target.value),this._setTime(this.model[C]),this._findCategoryPosition(g),this._setSelection(this.start,this.end);this._checkMinMax(this.target.value)?this._raiseChangeEvent():(this.element.val(this.model.value),this._findCategoryPosition(g),this._setSelection(this.start,this.end))},_checkMinMax:function(t){var o=this._checkExceedRange(t);return null==o&&(o=!1),!o},_checkExceedRange:function(t){if(t){if(this.model.minTime&&!this._compareTime(t,this.model.minTime,!0))return"minTime";if(this.model.maxTime&&!this._compareTime(this.model.maxTime,t,!0))return"maxTime"}return null},_changeWhole:function(t){return t>9?""+t:"0"+t},_changeAmPm:function(t){this.element.val(this._replaceAt(this.target.value,this.start,this.end,t=t==this.ttAM?this.ttPM:this.ttAM)),this._setSelection(this.start,this.end)},_changeMinute:function(t){var l,o=this._getExactFormat(["mm","m"]);o&&(this._findCategoryPosition(o),l=Number(this.target.value.substring(this.start,this.end)),this._getMinMax(o),t?l==this.max?(l=this.min,this._changeHour(t)):l+=1:l==this.min?(l=this.max,this._changeHour(t)):l-=1,this._findCategoryPosition(o),1!=o.length&&(l=this._changeWhole(l)),this.element.val(this._replaceAt(this.target.value,this.start,this.end,l)))},_changeHour:function(t){var l,o=this._getExactFormat(["hh","h","HH","H"]);o&&(this._findCategoryPosition(o),l=Number(this.target.value.substring(this.start,this.end)),this._getMinMax(o),t?l==this.max?(l+=1,this._changeMeridian()):l>this.max?l=this.min:l+=1:l==this.min?l=this.max+1:l>this.max?(l=this.max,this._changeMeridian()):l-=1,this._findCategoryPosition(o),1!=o.length&&(l=this._changeWhole(l)),this.element.val(this._replaceAt(this.target.value,this.start,this.end,l)))},_getExactFormat:function(t){for(var o=this.model.timeFormat,l=0;l<t.length;l++)if(-1!=o.indexOf(t[l]))return t[l];return null},_changeMeridian:function(){var o;-1!=this.model.timeFormat.indexOf("tt")&&(this._findCategoryPosition("tt"),o=this.target.value.substring(this.start,this.end),this.element.val(this._replaceAt(this.target.value,this.start,this.end,o=o==this.ttAM?this.ttPM:this.ttAM)))},_changeCurrentValue:function(t,o,l){t=Number(t);var p=o,g=1,b=!0;return this._getMinMax(p),"hh"==p||"h"==p||"HH"==p||"H"==p?g=this.model.hourInterval:"mm"==p||"m"==p?g=this.model.minutesInterval:("ss"==p||"s"==p)&&(g=this.model.secondsInterval),g<=0||(l?(("hh"==p||"h"==p)&&t>this.max?t=this.min-1+g:t<this.max?t+=g:(b=!1,"hh"!=p&&"h"!=p?t=this.min-1+g:t+=g,this._changeAdjacent(p,l)),"hh"!=p&&"h"!=p||t!=this.max+1?t>this.max+1&&(t-=this.max+1,b&&this._changeAdjacent(p,l)):b&&this._changeAdjacent(p,l),"hh"!=p&&"h"!=p&&t==this.max+1&&(t=this.min,b&&this._changeAdjacent(p,l))):("hh"!=p&&"h"!=p&&t>this.min||("hh"==p||"h"==p)&&t>this.min&&t<=this.max?t-=g:"hh"!=p&&"h"!=p||t!=this.min?(b=!1,t=this.max+1-g,this._changeAdjacent(p,l)):t=this.max+2-g,t<this.min&&(t+=this.max+1,b&&this._changeAdjacent(p,l)))),t},_changeAdjacent:function(t,o){"ss"==t||"s"==t?this._changeMinute(o):"mm"==t||"m"==t?this._changeHour(o):("hh"==t||"h"==t||"HH"==t||"H"==t)&&this._changeMeridian()},_valueChange:function(){this._raiseChangeEvent()},_beforeChange:function(t){return this._raiseEvent("beforeChange")||this.element.val(t.text()),!0},_raiseChangeEvent:function(t,o){return this._previousValue=t=t===h?this.model.value:t,t!=(this.target.value?this.target.value:null)&&(this.isValidState=!!(this._checkMinMax(this.target.value)&&this._isValid(this.target.value,this.model.enableStrictMode)||!this.target.value),this.model.value=this._isValid(this.target.value,!0)&&this._checkMinMax(this.target.value)?this.target.value:null,this.model.value||this.model.enableStrictMode||this._setTime(this.model.value),this.model.value!=this._previousValue&&(this._raiseEvent("change",o),this._raiseEvent("_change",o),!0))},_raiseEvent:function(t,o){var l={value:this.model.value,prevTime:this._previousValue};return"change"==t&&(l.isInteraction=!o),this._trigger(t,l)},_checkIE7:function(){if("Microsoft Internet Explorer"==navigator.appName){var o=-1;if(null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(navigator.userAgent)&&(o=parseFloat(RegExp.$1)),o>=7&&o<8)return!0}return!1},_replaceAt:function(t,o,l,p){return t.substring(0,o)+p+t.substring(l)},_localizeTime:function(t){return t?a.trim(s.format(this._createObject(t),this.model.timeFormat,this.model.locale)):null},_localizeMeridian:function(t){return a.trim(s.format(t,"tt",this.model.locale))},_compareTime:function(t,o,l){return(l=!!l)?this._parse(t)>=this._parse(o):this._parse(t)>this._parse(o)},_isValid:function(t,o){return(t=this._createObject(t,o))&&"function"==typeof t.getTime&&isFinite(t.getTime())},_parse:function(t){return Date.parse(this._createObject(t))},_setEmptyDate:function(t){var o=new Date(t);return o.setDate(1),o.setMonth(0),o.setFullYear(2e3),o},_createObject:function(t,o){var p,g,l=null;if("string"==typeof t){var b=this._setModelOption?this._preTimeformat:this.model.timeFormat,C=s.preferredCulture(this.model.locale).calendar.patterns.d,T=s.format(new Date("1/1/2000"),C,this.model.locale);l=s.parseDate(T+" "+t,C+" "+b,this.model.locale),(this._extISORegex.exec(t)||this._basicISORegex.exec(t))&&(this.model.value=l=this._timeFromISO(t)),this._setModelOption=!1,l||(p=new Date(t),l=isNaN(Date.parse(p))||s.isNullOrUndefined(t)?this._dateTimeInternal&&""!=t?new Date("1/1/2000 "+t):null:this._setEmptyDate(t))}else"number"==typeof t?l=new Date(t):t instanceof Date&&(l=this._setEmptyDate(t));return l&&!this._dateTimeInternal&&o&&(g=this._localizeTime(l),this._ensureTimeRange(g)&&(l=null)),l},_getLocalizedLabels:function(){return s.getLocalizedConstants(this.sfType,this.model.locale)},_wireEvents:function(){this._on(this.element,"focus",this._targetFocus),this._on(this.element,"blur",this._targetBlur),this._on(this.element,"mousedown",this._mouseDownOnInput),this._on(this.element,"keydown",this._keyDownOnInput),this._on(this.element,"keyup",this._keyUpOnInput)}}),s.TimePicker.Locale=s.TimePicker.Locale||{},s.TimePicker.Locale.default=s.TimePicker.Locale["en-US"]={watermarkText:"select a time"}}(jQuery,Syncfusion),function(a,s,h){s.widget("ejDateTimePicker","ej.DateTimePicker",{element:null,model:null,validTags:["input"],_addToPersist:["value"],_setFirst:!1,_rootCSS:"e-datetimepicker",type:"editor",angular:{require:["?ngModel","^?form","^?ngModelOptions"],requireFormatters:!0},_requiresID:!0,defaults:{cssClass:"",locale:"en-US",readOnly:!1,showRoundedCorner:!1,enableRTL:!1,htmlAttributes:{},allowEdit:!0,enabled:!0,value:"",name:null,minDateTime:new Date("1/1/1900 12:00:00 AM"),maxDateTime:new Date("12/31/2099 11:59:59 PM"),height:"",width:"",dateTimeFormat:"",showPopupButton:!0,enableStrictMode:!1,buttonText:{today:"Today",timeNow:"Time Now",done:"Done",timeTitle:"Time"},watermarkText:"Select datetime",enablePersistence:!1,interval:30,timeDisplayFormat:"",timePopupWidth:105,popupPosition:"bottom",dayHeaderFormat:"short",startLevel:"month",depthLevel:"",startDay:-1,stepMonths:1,showOtherMonths:!0,specialDates:null,highlightWeekend:!1,enableAnimation:!0,headerFormat:"MMMM yyyy",validationRules:null,validationMessage:null,validationMessages:null,timeDrillDown:{enabled:!1,interval:5,showMeridian:!1,autoClose:!0,showFooter:!0},beforeOpen:null,beforeClose:null,open:null,close:null,change:null,create:null,destroy:null,focusIn:null,focusOut:null,disableDateTimeRanges:null,timeZone:!0,disableTimeRanges:null},dataTypes:{allowEdit:"boolean",cssClass:"string",locale:"string",readOnly:"boolean",showRoundedCorner:"boolean",enableRTL:"boolean",enabled:"boolean",enableAnimation:"boolean",dateTimeFormat:"string",showPopupButton:"boolean",buttonText:"data",watermarkText:"string",enablePersistence:"boolean",enableStrictMode:"boolean",interval:"number",timeDrillDown:"data",timeDisplayFormat:"string",dayHeaderFormat:"string",startLevel:"string",depthLevel:"string",startDay:"number",stepMonths:"number",showOtherMonths:"boolean",highlightWeekend:"boolean",specialDates:"data",headerFormat:"string",validationRules:"data",validationMessage:"data",validationMessages:"data",htmlAttributes:"data",disableDateTimeRanges:"data",disableTimeRanges:"data"},_setModel:function(t){var o,p,g,b,C,l=!1;for(o in t)switch("allowEdit"!=o&&"readOnly"!=o&&"enabled"!=o&&"validationRules"!=o&&"validationMessages"!=o&&"enableStrictMode"!=o&&"height"!=o&&"width"!=o&&"showPopupButton"!=o&&"dateTimeFormat"!=o&&"watermarkText"!=o&&"htmlAttributes"!=o&&(this.popup||this._renderDropdown()),o){case"allowEdit":this._changeEditable(t[o]);break;case"cssClass":this._changeSkin(t[o]);break;case"locale":this._localize(t[o]);break;case"readOnly":this._readOnly(t[o]);break;case"showRoundedCorner":this._setRoundedCorner(t[o]);break;case"enableRTL":this._setRtl(t[o]);break;case"enabled":this._enabled(t[o]);break;case"validationRules":null!=this.model.validationRules&&(this.element.rules("remove"),this.model.validationMessages=null),this.model.validationRules=t[o],null!=this.model.validationRules&&(this._initValidator(),this._setValidation());break;case"validationMessage":case"validationMessages":this.model.validationMessages=t[o],null!=this.model.validationRules&&null!=this.model.validationMessages&&(this._initValidator(),this._setValidation());break;case"value":t[o]=this._setValue(t[o]),this._specificFormat()&&(this._stopRefresh=!0),l=!0,this._prevDateTime=this._prevDateTimeVal||this._preVal;break;case"enableStrictMode":this.model.enableStrictMode=t[o],l=!0;break;case"minDateTime":g=this._stringToObject(t[o]),p=this._getFormat(g,this.timePicker.model.timeFormat),this._isValidDate(g)?(this.datePicker.option("minDate",g),this.datePicker.model.value&&this.datePicker.model.value.toDateString()==this.datePicker.model.minDate.toDateString()&&this.timePicker.option("minTime",p),t[o]=g,this.model.minDateTime=g):t[o]=this.model[o],l=!0;break;case"maxDateTime":g=this._stringToObject(t[o]),b=this._getFormat(t[o],this.timePicker.model.timeFormat),this._isValidDate(g)?(this.datePicker.option("maxDate",g),this.datePicker.model.value&&this.datePicker.model.value.toDateString()==this.datePicker.model.maxDate.toDateString()&&this.timePicker.option("maxTime",b),t[o]=g,this.model.maxDateTime=g):t[o]=this.model[o],l=!0;break;case"height":this.wrapper.height(t[o]);break;case"width":this.wrapper.width(t[o]);break;case"dateTimeFormat":this.model.dateTimeFormat=t[o],this.isValidState&&this._setValue(this.model.value);break;case"showPopupButton":this._showButton(t[o]);break;case"watermarkText":s.isNullOrUndefined(this._options)&&(this._options={}),this._options[o]=this.model.watermarkText=t[o],this._localizedLabels.watermarkText=this.model.watermarkText,this._setWaterMark();break;case"buttonText":s.isNullOrUndefined(this._options)||(this._options.buttonText=this.model.buttonText=t[o]),this._localizedLabels.buttonText=this.model.buttonText,this._buttonText(t[o]);break;case"interval":this._updateTimeHeight(),this.timePicker.option("interval",t[o]);break;case"timeDisplayFormat":this._updateTimeHeight(),this.timePicker.option("timeFormat",t[o]);break;case"disableDateTimeRanges":this._disabledDate&&(this._disabledDates=!1),this.model.disableDateTimeRanges=t[o],this._setValue(this.model.value);break;case"disableTimeRanges":this.model.disableTimeRanges=t[o],this.timePicker.option("disableTimeRanges",this.model.disableTimeRanges);break;case"timePopupWidth":this._updateTimeHeight(),t[o]="string"==typeof(C=t[o])&&-1!=C.indexOf("%")||"string"==typeof C?parseInt(C)>0?C:105:C>0?C:105,this.timePicker.option("popupWidth",t[o]);break;case"dayHeaderFormat":this.datePicker.option("dayHeaderFormat",t[o]);break;case"startLevel":this.datePicker.option("startLevel",t[o]);break;case"depthLevel":this.datePicker.option("depthLevel",t[o]);break;case"startDay":this.datePicker.option("startDay",t[o]),this.model.startDay=this.datePicker.model.startDay,t[o]=this.model.startDay;break;case"stepMonths":this.datePicker.option("stepMonths",t[o]);break;case"showOtherMonths":this.datePicker.option("showOtherMonths",t[o]);break;case"highlightWeekend":this.datePicker.option("highlightWeekend",t[o]);break;case"specialDates":this.datePicker.option("specialDates",t[o]),this.model.specialDates=this.datePicker.model.specialDates;break;case"headerFormat":this.datePicker.option("headerFormat",t[o]);break;case"htmlAttributes":this._addAttr(t[o]);break;case"popupPosition":this.model.popupPosition=t[o],this._setListPosition();break;case"timeDrillDown":s.isNullOrUndefined(t[o].enabled)||(this.model.timeDrillDown.enabled=t[o].enabled,this._changeDesign()),s.isNullOrUndefined(t[o].interval)||(this.model.timeDrillDown.interval=t[o].interval,this._generateMins(a.trim(s.format(this.timePicker._createObject(this._datetimeValue),"HH:00",this.model.locale)))),s.isNullOrUndefined(t[o].showMeridian)||(this.model.timeDrillDown.showMeridian=t[o].showMeridian,this._sfTimeHour.empty(),this._renderHourTable()),s.isNullOrUndefined(t[o].showFooter)||(this.model.timeDrillDown.showFooter=t[o].showFooter,this._changeDesign())}l&&this._validateMinMax(),this._valueChange(!0),"value"==o&&(t[o]=this.model.value),this.popup&&this._updateTimeHeight(),this._checkErrorClass()},observables:["value"],_destroy:function(){this.isPopupOpen&&this._hideResult(),this.wrapper&&(this.element.insertAfter(this.wrapper),this.wrapper.remove()),this.element.removeClass("e-js e-input").removeClass(s.util.getNameSpace(this.sfType)),this.element.removeAttr(" type aria-atomic aria-live tabindex aria-expanded aria-disabled placeholder role"),this._cloneElement[0].hasAttribute("name")||this.element.removeAttr("name"),s.isNullOrUndefined(this.datePicker)||this.datePicker.destroy(),s.isNullOrUndefined(this.timePicker)||this.timePicker.destroy(),this.popup&&this.popup.remove()},_initDisableTimeRanges:function(t){for(var o,l,p,g,D=this._getDateObj(t,this.datePicker.model.dateFormat),L=0;L<this.model.disableDateTimeRanges.length;L++)if(s.isNullOrUndefined(this.model.disableDateTimeRanges[L].endDateTime)&&(this.model.disableDateTimeRanges[L].endDateTime=this.model.disableDateTimeRanges[L].startDateTime),this.model.disableDateTimeRanges[L].startDateTime instanceof Date||this.model.disableDateTimeRanges[L].endDateTime instanceof Date?(o=this._getFormat(this.model.disableDateTimeRanges[L].startDateTime,this.datePicker.model.dateFormat),l=this._getFormat(this.model.disableDateTimeRanges[L].endDateTime,this.datePicker.model.dateFormat)):(o=this.model.disableDateTimeRanges[L].startDateTime.split(" ")[0],l=this.model.disableDateTimeRanges[L].endDateTime.split(" ")[0]),p=new Date(this.model.disableDateTimeRanges[L].startDateTime),g=new Date(this.model.disableDateTimeRanges[L].endDateTime),o==l){if(this._compare(D,this._setEmptyTime(this.model.disableDateTimeRanges[L].startDateTime))){var b,C=this._getFormat(p,this.timePicker.model.timeFormat),T=this._getFormat(g,this.timePicker.model.timeFormat);return(b=[]).push({startTime:C,endTime:T}),void this.timePicker.option("disableTimeRanges",b)}this.timePicker.option("disableTimeRanges",this._defaultMinVal()),this._disabledDates||this.model.disableDateTimeRanges[L].endDateTime!=this.model.disableDateTimeRanges[L].startDateTime||!(this.model.disableDateTimeRanges[L].endDateTime instanceof Date)&&this._getFormat(this.model.disableDateTimeRanges[L].endDateTime,this.model.dateTimeFormat)==this._getFormat(this.model.disableDateTimeRanges[L].endDateTime,this.model.dateFormat)&&s.isNullOrUndefined(this.model.disableDateTimeRanges[L].endDateTime.split(" ")[1])&&this._between.push(new Date(this.model.disableDateTimeRanges[L].endDateTime))}else if(o!=l){if(this._compare(D,this._setEmptyTime(this.model.disableDateTimeRanges[L].startDateTime))||this._compare(D,this._setEmptyTime(this.model.disableDateTimeRanges[L].endDateTime)))return C=this.timePicker.model.minTime,T=this.timePicker.model.maxTime,this.datePicker.model.value.toDateString()==new Date(this.model.disableDateTimeRanges[L].startDateTime).toDateString()&&(C=this._getFormat(new Date(this.model.disableDateTimeRanges[L].startDateTime),this.timePicker.model.timeFormat)),this.datePicker.model.value.toDateString()==new Date(this.model.disableDateTimeRanges[L].endDateTime).toDateString()&&(T=this._getFormat(new Date(this.model.disableDateTimeRanges[L].endDateTime),this.timePicker.model.timeFormat)),(b=[]).push({startTime:C,endTime:T}),void this.timePicker.option("disableTimeRanges",b);this._disabledDates||(C=this._getFormat(new Date(this.model.disableDateTimeRanges[L].startDateTime),this.timePicker.model.timeFormat),T=this._getFormat(new Date(this.model.disableDateTimeRanges[L].endDateTime),this.timePicker.model.timeFormat),C==this.timePicker.model.minTime&&this._between.push(new Date(this.model.disableDateTimeRanges[L].startDateTime)),!(this.model.disableDateTimeRanges[L].endDateTime instanceof Date)&&this._getFormat(this.model.disableDateTimeRanges[L].endDateTime,this.model.dateTimeFormat)==this._getFormat(new Date(this.model.disableDateTimeRanges[L].endDateTime),this.datePicker.model.dateFormat)&&(T=this.timePicker.model.maxTime),T==this.timePicker.model.maxTime&&this._between.push(new Date(this.model.disableDateTimeRanges[L].endDateTime)))}},_disableBetweenDates:function(){for(var t=0;t<this.model.disableDateTimeRanges.length;t++)for(var l=this._setEmptyTime(this.model.disableDateTimeRanges[t].startDateTime),C=(this._getFormat(new Date(this.model.disableDateTimeRanges[t].startDateTime),this.timePicker.model.timeFormat),this._getFormat(new Date(this.model.disableDateTimeRanges[t].endDateTime),this.timePicker.model.timeFormat),this._setEmptyTime(this.model.disableDateTimeRanges[t].endDateTime));l<C;)l.setDate(l.getDate()+1),new Date(l)<C&&this._between.push(new Date(l));this._datesDisabled=!0},_init:function(t){if(this._cloneElement=this.element.clone(),!this.element.is("input")||this.element.attr("type")&&"text"!=this.element.attr("type"))return!1;this._options=t,this._ISORegex(),this._isSupport=document.createElement("input").placeholder!=h,this._validateMeridian(),this._checkAttribute(),this._initialize(),this._initial=!0,this._interval=60,this._render(),this._wireEvents(),this._addAttr(this.model.htmlAttributes),s.isNullOrUndefined(t)||s.isNullOrUndefined(t.validationMessage)||(this.model.validationMessages=this.model.validationMessage),null!=this.model.validationRules&&(this._initValidator(),this._setValidation()),this._removeWatermark(),t&&t.value!=h&&t.value!=this.element.val()&&this._trigger("_change",{value:this.element.val()})},_ISORegex:function(){this._tokens=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,this._extISORegex=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,this._basicISORegex=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,this._numberRegex={2:/\d\d?/,4:/^\d{4}/,z:/Z|[+-]\d\d(?::?\d\d)?/gi,t:/T/,"-":/\-/,":":/:/},this._zeroRegex=/Z|[+-]\d\d(?::?\d\d)?/,this._dates=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],this._times=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]]},_changeDesign:function(){if(this.model.timeDrillDown.enabled){var t=this.model.timeDrillDown.showFooter?"block":"none";this.popup.addClass("e-drill-down"),this._timeContainer.css("display","none"),this._buttonContainer.css("display","none"),this.datePicker.option("showFooter",this.model.timeDrillDown.showFooter),a(".e-footer",this._sfTimeHour).css("display",t),a(".e-footer",this._sfTimeMins).css("display",t)}else this.popup.removeClass("e-drill-down"),this._sfTimeHour.hide(),this._sfTimeMins.hide(),this._updateTimeHeight(),this._dateContainer.show(),this._timeContainer.show(),this._buttonContainer.show(),this.datePicker.option("showFooter",!1),this.timePicker._refreshScroller(),this.timePicker._changeActiveEle()},_initValidator:function(){this.element.closest("form").data("validator")||this.element.closest("form").validate()},_checkAttribute:function(){this.model.value=""===this.model.value?this.element[0].value:this.model.value,this._options.minDateTime||(this.model.minDateTime=this.element[0].min),this._options.maxDateTime||(this.model.maxDateTime=this.element[0].max),s.isNullOrUndefined(this._options.readOnly)&&(this.model.readOnly=this.element.is("[readonly]")),s.isNullOrUndefined(this._options.enabled)&&(this.model.enabled=!this.element.is("[disabled]"))},_setValidation:function(){var t,o,l,p,g;for(l in this.element.rules("add",this.model.validationRules),t=(t=this.element.closest("form").data("validator"))||this.element.closest("form").validate(),o=this.element.attr("name"),t.settings.messages[o]={},this.model.validationRules)if(p=null,!s.isNullOrUndefined(this.model.validationRules[l])){if(s.isNullOrUndefined(this.model.validationRules.messages&&this.model.validationRules.messages[l]))for(g in t.settings.messages[o][l]=a.validator.messages[l],this.model.validationMessages)l==g&&(p=this.model.validationMessages[l]);else p=this.model.validationRules.messages[l];t.settings.messages[o][l]=p??a.validator.messages[l]}},_validateDisableRanges:function(){for(var t,o=0;o<this.model.disableDateTimeRanges.length;o++)t=this.model.value,new Date(this.model.value).getTime()>=new Date(this.model.disableDateTimeRanges[o].startDateTime).getTime()&&new Date(this.model.value).getTime()<=new Date(this.model.disableDateTimeRanges[o].endDateTime).getTime()&&(this.model.value=null),null==this.model.value&&null!=t&&this.model.enableStrictMode&&(this.isValidState=!1),this.isValidState&&this.element.val(this._getFormat(this.model.value,this.model.dateTimeFormat))},_addAttr:function(t){var o=this;a.map(t,function(l,p){var g=p.toLowerCase();"class"==g?o.wrapper.addClass(l):"disabled"==g?o._enabled(!1):"readOnly"==g?o._readOnly(!0):"style"==g?o.wrapper.attr(p,l):"id"==g?(o.wrapper.attr(p,l+"_wrapper"),o.element.attr(p,l)):s.isValidAttr(o.element[0],g)?o.element.attr(g,l):o.wrapper.attr(g,l)})},_validateMeridian:function(){var t=s.preferredCulture(this.model.locale);t&&(this.model.locale="en"==t.name?"en-US":t.name),(s.isNullOrUndefined(this._options)||s.isNullOrUndefined(this._options.timeDrillDown)||s.isNullOrUndefined(this._options.timeDrillDown.showMeridian))&&(this.model.timeDrillDown.showMeridian=!s.isNullOrUndefined(s.preferredCulture(this.model.locale).calendars.standard.AM))},_initialize:function(){var t,o,l,p;this.popup=null,this.isPopupOpen=!1,this.isValidState=!0,this._localizedLabels=this._getLocalizedLabels(),s.isNullOrUndefined(this._options)||(s.isNullOrUndefined(this._options.buttonText)||a.extend(this._localizedLabels.buttonText,this._options.buttonText),s.isNullOrUndefined(this._options.watermarkText)||(this._localizedLabels.watermarkText=this._options.watermarkText)),this._localizedLabelToModel(),-1==this.model.startDay&&(this.model.startDay=s.preferredCulture(this.model.locale).calendar.firstDay),this._isIE8="msie"==s.browserInfo().name&&"8.0"==s.browserInfo().version,this._isIE9="msie"==s.browserInfo().name&&"9.0"==s.browserInfo().version,this.model.dateTimeFormat&&this.model.timeDisplayFormat||this._getDateTimeFormat(),(t=!this.model.value||"object"==typeof JSON&&"{}"===JSON.stringify(this.model.value)?null:this.model.value instanceof Date?this.model.value:(o=s.parseDate(this.model.value,this.model.dateTimeFormat,this.model.locale))||((o=this._checkJSONString(this.model.value))?o:null))&&(this.model.value=t),(l=this.model.minDateTime=this._stringToObject(this.model.minDateTime))&&this._isValidDate(l)||(this.model.minDateTime=this.defaults.minDateTime),(p=this.model.maxDateTime=this._stringToObject(this.model.maxDateTime))&&this._isValidDate(p)||(this.model.maxDateTime=this.defaults.maxDateTime)},_checkJSONString:function(t){var l,o=new Date(t);if(isNaN(Date.parse(o))){if(this._extISORegex.exec(t)||this._basicISORegex.exec(t))return this._dateFromISO(t)}else if(o.toJSON()===this.model.value||o.toGMTString()===this.model.value||o.toISOString()===this.model.value||o.toLocaleString()===this.model.value||o.toString()===this.model.value||o.toUTCString()===this.model.value){if(this.model.timeZone)return new Date(new Date(o).getTime()+36e5*s.serverTimezoneOffset);if(t.match(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(\.\d+)?(([+-]\d\d:\d\d)|Z)?$/i)&&t.match(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(\.\d+)?(([+-]\d\d:\d\d)|Z)?$/i).length>0)return l=(l=t.split("Z"))[0],new Date(l)}else if("string"==typeof t)return this._dateFromISO(t)},_render:function(){this._renderWrapper(),this._renderIcon(),this._setDimentions(),this._checkProperties()},_renderWrapper:function(){if(this.element.addClass("e-input").attr({"aria-atomic":"true","aria-live":"assertive",tabindex:"0",role:"combobox","aria-expanded":"false"}),this.wrapper=s.buildTag("span.e-datetime-wrap e-widget "+this.model.cssClass+"#"+this.element[0].id+"_wrapper").insertAfter(this.element),this._setValue(this.model.value),this.wrapper.attr("style",this.element.attr("style")),this.element.removeAttr("style"),s.isTouchDevice()||this.wrapper.addClass("e-ntouch"),this.container=s.buildTag("span.e-in-wrap e-box").append(this.element),this.wrapper.append(this.container),!this._isSupport){this._hiddenInput=s.buildTag("input.e-input e-placeholder ","",{},{type:"text"}).insertAfter(this.element),this._hiddenInput.val(this._localizedLabels.watermarkText),this._hiddenInput.css("display","block");var t=this;a(this._hiddenInput).focus(function(){t.element.focus()})}},_removeWatermark:function(){""!=this.element.val()&&!this._isSupport&&this._hiddenInput&&this._hiddenInput.css("display","none")},_renderIcon:function(){if(!this.model.showPopupButton)return!1;this.datetimeIcon=s.buildTag("span.e-select","",{}).attr(this._isIE8?{unselectable:"on"}:{});var t=s.buildTag("span.e-icon e-datetime","",{},{"aria-label":"select"}).attr(this._isIE8?{unselectable:"on"}:{});this.datetimeIcon.append(t),this.container.append(this.datetimeIcon).addClass("e-padding"),this._on(this.datetimeIcon,"click",this._iconClick),this._on(this.datetimeIcon,"mousedown",function(o){o.preventDefault()})},_setDimentions:function(){this.model.height||(this.model.height=this.element.attr("height")),this.model.width||(this.model.width=this.element.attr("width")),this.wrapper.height(this.model.height),this.wrapper.width(this.model.width)},_renderDropdown:function(){var o,l,p,g,b,t=a("#"+this.element[0].id+"_popup").get(0);t&&a(t).remove(),this.popup=s.buildTag("div.e-datetime-popup e-popup e-widget e-box "+this.model.cssClass+"#"+this.element[0].id+"_popup").css("visibility","hidden"),s.isTouchDevice()||this.popup.addClass("e-ntouch"),a("body").append(this.popup),this._renderControls(),o=s.buildTag("div.e-header",this._localizedLabels.buttonText.timeTitle).attr(this._isIE8?{unselectable:"on"}:{}),this._dateContainer=s.buildTag("div.e-datecontainer").append(this.datePicker.popup).attr(this._isIE8?{unselectable:"on"}:{}),this._timeContainer=s.buildTag("div.e-timecontainer").append(o,this.timePicker.popup).attr(this._isIE8?{unselectable:"on"}:{}),this._drillDownContainer=s.buildTag("div.e-drillDowncontainer").append().attr(this._isIE8?{unselectable:"on"}:{}),l=s.buildTag("div.e-popup-container").append(this._dateContainer,this._timeContainer,this._drillDownContainer).attr(this._isIE8?{unselectable:"on"}:{}),p=s.buildTag("div.e-dt-button e-dt-today e-btn e-select e-flat",this._localizedLabels.buttonText.today).attr(this._isIE8?{unselectable:"on"}:{}),g=s.buildTag("div.e-dt-button e-dt-now e-btn e-select e-flat",this._localizedLabels.buttonText.timeNow).attr(this._isIE8?{unselectable:"on"}:{}),b=s.buildTag("div.e-dt-button e-dt-done e-btn e-select e-flat",this._localizedLabels.buttonText.done).attr(this._isIE8?{unselectable:"on"}:{}),this._buttonContainer=s.buildTag("div.e-button-container").append(p,g,b).attr(this._isIE8?{unselectable:"on"}:{}),this._renderDrillDown(),this.popup.append(l,this._buttonContainer),this._checkForResponsive(),this._updateTimeHeight(),this._bindOperations(),this._updateValues(),this.popup.css({visibility:"visible",display:"none"}),this._on(p,"click",this._todayClick),this._on(g,"click",this._nowClick),this._on(b,"click",this._doneClick),this.popup.on("mouseenter touchstart",a.proxy(function(){this._popClose=!0},this)),this.popup.on("mouseleave touchend",a.proxy(function(){this._popClose=!1},this)),this._changeDesign()},_renderControls:function(){this._renderDateControl(),this._renderTimeControl();var t=s.buildTag("span").append(this.datePicker.wrapper,this.timePicker.wrapper);t.find("span").css("display","none"),this.popup.append(t)},_renderDrillDown:function(){this._renderHourPopup(),this._renderMinsPopup()},_renderHourPopup:function(){this._sfTimeHour=s.buildTag("div.e-timepicker e-popup e-widget "+this.model.cssClass+" e-time-hours ","",{},{id:this._id?"e-hours-"+this._id:""}).attr({"aria-hidden":"true"}).attr(this._isIE8?{unselectable:"on"}:{}),s.isTouchDevice()||this._sfTimeHour.addClass("e-ntouch"),this._drillDownContainer.append(this._sfTimeHour),this._renderHourTable()},_renderHourTable:function(){var t,o,l,p,g,b,C,T,D,L,I,R;if(s.buildTag("div.e-header").attr(this._isIE8?{unselectable:"on"}:{}).append(s.buildTag("span.e-prev").append(s.buildTag("a.e-icon e-arrow-sans-left").attr({role:"button"}).attr(this._isIE8?{unselectable:"on"}:{}))).append(s.buildTag("span.e-text").append(s.buildTag("span.e-hours-headertext").text("October 2015").attr({"aria-atomic":"true","aria-live":"assertive",role:"heading"}).attr(this._isIE8?{unselectable:"on"}:{}))).append(s.buildTag("span.e-next").append(s.buildTag("a.e-icon e-arrow-sans-right").attr({role:"button"}).attr(this._isIE8?{unselectable:"on"}:{}))).appendTo(this._sfTimeHour),this._interval<1)return!1;C=6e4*this._interval,T=this.model.timeDrillDown.showMeridian?2:1,p=this.model.timeDrillDown.showMeridian?6:4;var V=this.model.timeDrillDown.showMeridian?"hh":"HH:00",F=["AM","PM"],A=0,z="";for(t=this.timePicker._createObject("12:00:00 AM"),o=this.timePicker._createObject(this.model.timeDrillDown.showMeridian?"11:59:59 AM":"11:59:59 PM"),D=0;D<T;D++){for(this.model.timeDrillDown.showMeridian&&(z=F[D].toLowerCase(),L=s.isNullOrUndefined(s.preferredCulture(this.model.locale).calendars.standard[F[D]])?"":s.preferredCulture(this.model.locale).calendars.standard[F[D]][0],s.buildTag("div.e-header-"+z).attr(this._isIE8?{unselectable:"on"}:{}).append(s.buildTag("span.e-text").append(s.buildTag("span.e-hours-meridiantxt-"+z).text(L).attr({"aria-atomic":"true","aria-live":"assertive",role:"heading"}).attr(this._isIE8?{unselectable:"on"}:{}))).appendTo(this._sfTimeHour)),g=s.buildTag("table.e-dp-viewhours","",{}).data("e-table","data").attr({role:"grid"}).attr(this._isIE8?{unselectable:"on"}:{}),this._sfTimeHour.append(g),I=s.buildTag("tbody.e-timepicker-hours").attr(this._isIE8?{unselectable:"on"}:{}),b=s.buildTag("tr","").attr(this._isIE8?{unselectable:"on"}:{});this.timePicker._compareTime(o,t,!0);)l=this._localizeTime(t,V),R=s.buildTag("td.e-hour e-state-default",l),this.model.timeDrillDown.showMeridian&&R.addClass("e-hour-"+z),this._isIE8&&R.attr("unselectable","on"),b.append(R),++A>=p&&(A=0,I.append(b),b=s.buildTag("tr","").attr(this._isIE8?{unselectable:"on"}:{})),t=this.timePicker._createObject(t).getTime()+C;g.append(I),this.model.timeDrillDown.showMeridian&&(t=this.timePicker._createObject("12:00:00 PM"),o=this.timePicker._createObject("11:59:59 PM"))}s.buildTag("div.e-footer").append(s.buildTag("span.e-footer-icon")).append(s.buildTag("span.e-footer-text")).appendTo(this._sfTimeHour),a(".e-footer-text",this._sfTimeHour).html(this._localizedLabels.buttonText.timeNow),a(".e-hours-headertext",this._sfTimeHour).text(s.format(this.datePicker.model.value,"dd MMM yyyy")),this._on(this._sfTimeHour.find(".e-hour"),"click",a.proxy(this._hourNavHandler,this)),this._on(a(".e-next",this._sfTimeHour),"click",a.proxy(this._prevNextHourHandler,this)),this._on(a(".e-prev",this._sfTimeHour),"click",a.proxy(this._prevNextHourHandler,this)),this._on(a(".e-footer",this._sfTimeHour),"click",this._todayBtn),a(".e-hours-headertext",this._sfTimeHour).on("click",a.proxy(this._forwardNavHandler,this)),this._sfTimeHour.hide()},_localizeTime:function(t,o){return a.trim(s.format(this.timePicker._createObject(t),o,this.model.locale))},_renderMinsPopup:function(){var t,o,l,p,g,b,C,T,D;if(this._sfTimeMins=s.buildTag("div.e-timepicker e-popup e-widget "+this.model.cssClass+" e-time-minitues ","",{},{id:this._id?"e-time-minitues-"+this._id:""}).attr({"aria-hidden":"true"}).attr(this._isIE8?{unselectable:"on"}:{}),s.isTouchDevice()||this._sfTimeMins.addClass("e-ntouch"),this._drillDownContainer.append(this._sfTimeMins),s.buildTag("div.e-header").attr(this._isIE8?{unselectable:"on"}:{}).append(s.buildTag("span.e-prev").append(s.buildTag("a.e-icon e-arrow-sans-left").attr({role:"button"}).attr(this._isIE8?{unselectable:"on"}:{}))).append(s.buildTag("span.e-text").append(s.buildTag("span.e-minitues-headertext").attr({"aria-atomic":"true","aria-live":"assertive",role:"heading"}).attr(this._isIE8?{unselectable:"on"}:{}))).append(s.buildTag("span.e-next").append(s.buildTag("a.e-icon e-arrow-sans-right").attr({role:"button"}).attr(this._isIE8?{unselectable:"on"}:{}))).appendTo(this._sfTimeMins),s.buildTag("div.e-mins-header").attr(this._isIE8?{unselectable:"on"}:{}).append(s.buildTag("span.e-text").append(s.buildTag("span.e-minitues-meridiantxt").text("AM").attr({"aria-atomic":"true","aria-live":"assertive",role:"heading"}).attr(this._isIE8?{unselectable:"on"}:{}))).appendTo(this._sfTimeMins),t=s.buildTag("table.e-dp-viewmins","",{}).data("e-table","data").attr({role:"grid"}).attr(this._isIE8?{unselectable:"on"}:{}),this._sfTimeMins.append(t),o=s.buildTag("tbody.e-timepicker-mins").attr(this._isIE8?{unselectable:"on"}:{}),this._intervall<1)return!1;for(b=6e4*this._interval,l=this.timePicker._createObject("12:00:00 AM"),p=this.timePicker._createObject("11:59:59 PM"),C=s.buildTag("tr","").attr(this._isIE8?{unselectable:"on"}:{}),T=0;this.timePicker._compareTime(p,l,!0);)g=this._localizeTime(l,"HH:00"),D=s.buildTag("td.e-mins e-state-default",g),this._isIE8&&D.attr("unselectable","on"),C.append(D),++T>=4&&(T=0,o.append(C),C=s.buildTag("tr","").attr(this._isIE8?{unselectable:"on"}:{})),l=this.timePicker._createObject(l).getTime()+b;t.append(o),a(".e-minitues-headertext",this._sfTimeMins).text(a(".e-hours-headertext",this._sfTimeHour).text()),s.buildTag("div.e-footer").append(s.buildTag("span.e-footer-icon")).append(s.buildTag("span.e-footer-text")).appendTo(this._sfTimeMins),a(".e-footer-text",this._sfTimeMins).html(this._localizedLabels.buttonText.timeNow),a(".e-minitues-headertext",this._sfTimeMins).text(s.format(this.datePicker.model.value,"dd MMM yyyy")),this.model.timeDrillDown.showMeridian||a(".e-mins-header",this._sfTimeMins).css("display","none"),this._on(t.find(".e-mins"),"click",a.proxy(this._minsNavHandler,this)),this._on(a(".e-next",this._sfTimeMins),"click",a.proxy(this._prevNextMinsHandler,this)),this._on(a(".e-prev",this._sfTimeMins),"click",a.proxy(this._prevNextMinsHandler,this)),this._on(a(".e-footer",this._sfTimeMins),"click",this._todayBtn),a(".e-minitues-headertext",this._sfTimeMins).on("click",a.proxy(this._forwardNavHandler,this)),this._sfTimeMins.hide()},_todayBtn:function(){this._nowClick(),this._hideResult()},_hourNavHandler:function(t){var o,l;if(this.model.readOnly||!this.model.enabled||t&&a(t.target).hasClass("e-disable"))return!1;t&&t.type&&t.preventDefault(),a("table",this._sfTimeHour).find("td").removeClass("e-active"),a(t.target).addClass("e-active"),this._sfTimeHour.hide(),this._sfTimeMins.show(),this._addFocus(this._sfTimeMins),this.model.timeDrillDown.showMeridian?(l=a(t.target).hasClass("e-hour-am")?"AM":"PM",o=a(t.target).text()+":00 "+l):o=a(t.target).text(),this._generateMins(o);var p=new Date(this._datetimeValue.toString()).setMinutes(this.model.value.getMinutes()),g=a.trim(s.format(this.timePicker._createObject(p),"HH:mm",this.model.locale)),b=a.trim(s.format(this.timePicker._createObject(p),"HH:00",this.model.locale)),C=(this.timePicker._parse(g)-this.timePicker._parse(b))/(6e4*this.model.timeDrillDown.interval);C=Math.ceil(C),this._hoverMins=this._setFocusByIndex("mins",C,this._sfTimeMins)},_minsNavHandler:function(t){if(this.model.readOnly||!this.model.enabled||t&&a(t.target).hasClass("e-disable"))return!1;if(t&&t.type&&t.preventDefault(),a("table",this._sfTimeMins).find("td").removeClass("e-active").removeClass("e-state-hover"),a(t.target).addClass("e-active"),this.model.timeDrillDown.showMeridian){var o=a(t.target).text()+" "+s.format(this._datetimeValue,"tt","en-US");o=this.timePicker._localizeTime(o)}else o=a(t.target).text();this.timePicker.option("value",o),this.datePicker.option("value",this._datetimeValue),this._datetimeValue=new Date(this.model.value.toString()),this._updateInput(),this.model.timeDrillDown.autoClose&&this._hideResult(t)},_generateMins:function(t){var l,p,o=a("table",this._sfTimeMins);o.empty(),this.model.timeDrillDown.showMeridian?a(".e-mins-header",this._sfTimeMins).show():a(".e-mins-header",this._sfTimeMins).hide(),l=this.model.timeDrillDown.showMeridian?"hh:mm":"HH:mm",a(".e-minitues-headertext",this._sfTimeMins).text(a(".e-hours-headertext",this._sfTimeHour).text());var b,C,T,D,g=s.buildTag("tbody.e-timepicker-mins").attr(this._isIE8?{unselectable:"on"}:{}),L=0,I=6e4*this.model.timeDrillDown.interval;for(b=this.timePicker._createObject(t),this._datetimeValue.setHours(b.getHours()),T=this.timePicker._createObject(b).getTime()+354e4,C=s.buildTag("tr","").attr(this._isIE8?{unselectable:"on"}:{}),g.append(C);this.timePicker._compareTime(T,b,!0);)L>=4&&(L=0,C=s.buildTag("tr","").attr(this._isIE8?{unselectable:"on"}:{}),g.append(C)),D=this._localizeTime(b,l),p=s.buildTag("td.e-mins e-state-default",D),this._isIE8&&p.attr("unselectable","on"),C.append(p),L++,b=this.timePicker._createObject(b).getTime()+I;o.append(g),a(".e-mins-header",this._sfTimeMins).find(".e-minitues-meridiantxt").text(s.format(this._datetimeValue,"tt",this.model.locale)),this._disableRange("mins"),this._on(o.find(".e-mins"),"click",a.proxy(this._minsNavHandler,this))},_prevNextHourHandler:function(t){if(this.model.readOnly||!this.model.enabled)return!1;t.preventDefault();var l=!!(a(t.target).is("a")?a(t.target.parentNode):a(t.target)).hasClass("e-prev");this._processNextPrev(l,this._sfTimeHour)},_prevNextMinsHandler:function(t){if(this.model.readOnly||!this.model.enabled)return!1;t.preventDefault();var l=!!(a(t.target).is("a")?a(t.target.parentNode):a(t.target)).hasClass("e-prev");this._processNextPrev(l,this._sfTimeMins)},_processNextPrev:function(t,o){var g;if(t&&o.find(".e-arrow-sans-left").hasClass("e-disable")||!t&&o.find(".e-arrow-sans-right").hasClass("e-disable"))return!1;switch(a("table",o).get(0).className){case"e-dp-viewhours":g=t?-1:1,this._datetimeValue.setDate(this._datetimeValue.getDate()+g),this._disableRange("hour"),this._hoverHour=this._setFocusByIndex("hour",this._hoverHour,this._sfTimeHour),a(".e-hours-headertext",this._sfTimeHour).text(s.format(this._datetimeValue,"dd MMM yyyy")),a(".e-minitues-headertext",this._sfTimeMins).text(s.format(this._datetimeValue,"dd MMM yyyy"));break;case"e-dp-viewmins":g=t?-1:1,this._datetimeValue.setHours(this._datetimeValue.getHours()+g),this._generateMins(a.trim(s.format(this.timePicker._createObject(this._datetimeValue),"HH:00",this.model.locale)));var p=new Date(this._datetimeValue.toString()).setMinutes(this.model.value.getMinutes()),C=a.trim(s.format(this.timePicker._createObject(p),"HH:mm",this.model.locale)),T=a.trim(s.format(this.timePicker._createObject(p),"HH:00",this.model.locale)),D=(this.timePicker._parse(C)-this.timePicker._parse(T))/(6e4*this.model.timeDrillDown.interval);D=Math.ceil(D),this._disableRange("mins"),this._hoverMins=this._setFocusByIndex("mins",D,this._sfTimeMins),a(".e-hours-headertext",this._sfTimeHour).text(s.format(this._datetimeValue,"dd MMM yyyy")),a(".e-minitues-headertext",this._sfTimeMins).text(s.format(this._datetimeValue,"dd MMM yyyy"))}},_forwardNavHandler:function(t,o){if(this.model.readOnly||!this.model.enabled)return!1;switch(t&&t.preventDefault(),t?a(t.currentTarget).get(0).className:o.find(".e-text>span").get(0).className){case"e-hours-headertext":this._sfTimeHour.css("display","none"),this._dateContainer.css("display","block"),this._addFocus(this._dateContainer.find(".e-datepicker"));break;case"e-minitues-headertext":this._sfTimeMins.css("display","none"),this._disableRange("hour");var g=this._localizeTime(this.timePicker._createObject("12:00:00 AM"),"HH:00"),b=a.trim(s.format(this.timePicker._createObject(this._datetimeValue),"HH:00",this.model.locale)),C=(this.timePicker._parse(b)-this.timePicker._parse(g))/(6e4*this._interval);C=Math.floor(C),this._hoverHour=this._setFocusByIndex("hour",C,this._sfTimeHour),a(".e-hours-headertext",this._sfTimeHour).text(s.format(this._datetimeValue,"dd MMM yyyy")),a(".e-minitues-headertext",this._sfTimeMins).text(s.format(this._datetimeValue,"dd MMM yyyy")),this._sfTimeHour.css("display","block"),this._addFocus(this._sfTimeHour)}},_renderDateControl:function(){var t=s.buildTag("input#"+this.element[0].id+"_date","",{},{type:"text"});this.popup.append(t),t.ejDatePicker({height:"0px",width:"0px",displayInline:!0,showDateIcon:!1,showFooter:!!this.model.timeDrillDown.enabled&&this.model.timeDrillDown.showFooter,enableStrictMode:!0,buttonText:this._localizedLabels.buttonText.today,minDate:this._stringToObject(this.model.minDateTime),maxDate:this._stringToObject(this.model.maxDateTime),dayHeaderFormat:this.model.dayHeaderFormat,startLevel:this.model.startLevel,depthLevel:this.model.depthLevel,startDay:this.model.startDay,stepMonths:this.model.stepMonths,showOtherMonths:this.model.showOtherMonths,specialDates:this.model.specialDates,highlightWeekend:this.model.highlightWeekend,headerFormat:this.model.headerFormat,enabled:this.model.enabled,enableRTL:this.model.enableRTL,showRoundedCorner:this.model.showRoundedCorner,readOnly:this.model.readOnly,cssClass:this.model.cssClass,locale:this.model.locale}),s.isNullOrUndefined(this.model.value)||(this._datetimeValue=new Date(this.model.value.toString())),this.datePicker=t.data("ejDatePicker"),this._datetimeValue=new Date(this.datePicker._dateValue.toString()),this.model.startDay=this.datePicker.model.startDay,this.datePicker._getInternalEvents=!0,this.datePicker._dt_drilldown=!0,this.datePicker.popup.css({position:"static",display:"block"})},_renderTimeControl:function(){var o,l,t=s.buildTag("input#"+this.element[0].id+"_time","",{},{type:"text"});this.popup.append(t),l="string"==typeof(o=this.model.timePopupWidth)&&-1!=o.indexOf("%")||"string"==typeof o?parseInt(o)>0?o:this.model.timePopupWidth=105:o>0?o:this.model.timePopupWidth=105,t.ejTimePicker({height:"0px",width:"0px",interval:this.model.interval,timeFormat:this.model.timeDisplayFormat,popupWidth:l,enabled:this.model.enabled,enableRTL:this.model.enableRTL,showRoundedCorner:this.model.showRoundedCorner,readOnly:this.model.readOnly,cssClass:this.model.cssClass,locale:this.model.locale,disableTimeRanges:this.model.disableTimeRanges}),this.timePicker=t.data("ejTimePicker"),this.timePicker._renderDropdown(),this.timePicker.popup.css({position:"static",display:"block"}),this.timePicker._getInternalEvents=!0,this.timePicker.showDropdown=!0,this.timePicker._dateTimeInternal=!0,this.model.minDateTime&&this._stringToObject(this.model.minDateTime),this.model.maxDateTime&&this._stringToObject(this.model.maxDateTime)},_updateTimeHeight:function(){var t=this.popup.find(".e-timecontainer .e-header").is(":visible")?this.datePicker.popup.height()-this.popup.find(".e-header").height():this.datePicker.popup.height();t=this.popup.hasClass("e-dt-responsive")?"98px":t,this.timePicker.option("popupHeight",t)},_bindOperations:function(){var t=this;this.datePicker.option("layoutChange",function(){t._updateTimeHeight()}),this.datePicker.option("outOfRange",function(){t.isValidState=!1}),this.timePicker.option("outOfRange",function(){t.isValidState=!1}),this.datePicker.option("change",function(o){t._refreshTimes(o)}),this.datePicker.option("select",function(o){t._updateInput(o)}),this.datePicker.option("dt_drilldown",function(o){t.model.timeDrillDown.enabled&&(t._updateInput(o),t._switchToDrilDown(o))}),this.timePicker.option("select",function(){t._updateInput()})},_switchToDrilDown:function(){var t;this._dateContainer.hide(),this._sfTimeHour.show(),this._addFocus(this._sfTimeHour),t=new Date(this.model.value.toString()),this._datetimeValue=new Date(t.setHours(this._datetimeValue.getHours(),this._datetimeValue.getMinutes(),this._datetimeValue.getSeconds(),this._datetimeValue.getMilliseconds())),this._disableRange("hour");var o=this._localizeTime(this.timePicker._createObject("12:00:00 AM"),"HH:00"),l=a.trim(s.format(this.timePicker._createObject(this._datetimeValue),"HH:00",this.model.locale)),p=(this.timePicker._parse(l)-this.timePicker._parse(o))/(6e4*this._interval);p=Math.floor(p),this._hoverHour=this._setFocusByIndex("hour",p,this._sfTimeHour),a(".e-hours-headertext",this._sfTimeHour).text(s.format(this._datetimeValue,"dd MMM yyyy")),a(".e-minitues-headertext",this._sfTimeMins).text(s.format(this._datetimeValue,"dd MMM yyyy"))},_disableRange:function(t){var g,b,C,T,D,L,o="hour"==t?this._interval:this.model.timeDrillDown.interval,l="hour"==t?this._sfTimeHour:this._sfTimeMins,p="hour"==t?"e-hide-hour e-disable":"e-hide-mins e-disable";if(l.find("tbody tr td.e-"+t).removeClass(p),l.find(".e-arrow-sans-left").removeClass("e-disable"),l.find(".e-arrow-sans-right").removeClass("e-disable"),g=this._localizeTime("hour"==t?this.timePicker._createObject("12:00:00 AM"):a.trim(s.format(this.timePicker._createObject(this._datetimeValue),"HH:00",this.model.locale)),"HH:00"),this._compareDate(this.model.minDateTime,this._datetimeValue)){if("mins"==t&&this.model.minDateTime.getHours()!==this._datetimeValue.getHours())return!1;for(b=a.trim(s.format(this.timePicker._createObject(this.model.minDateTime),"HH:mm",this.model.locale)),C=(this.timePicker._parse(b)-this.timePicker._parse(g))/(6e4*o),C="hour"==t?Math.floor(C):Math.ceil(C),D=0;D<C;D++)L=l.find("tbody tr td.e-"+t),a(L[D]).addClass(p);l.find(".e-arrow-sans-left").addClass("e-disable")}if(this._compareDate(this.model.maxDateTime,this._datetimeValue)){if("mins"==t&&this.model.maxDateTime.getHours()!==this._datetimeValue.getHours())return!1;for(b=a.trim(s.format(this.timePicker._createObject(this.model.maxDateTime),"HH:mm",this.model.locale)),C=(this.timePicker._parse(b)-this.timePicker._parse(g))/(6e4*o),C=Math.floor(C)+1,T=l.find("tbody tr td.e-"+t).length,D=C;D<T;D++)L=l.find("tbody tr td.e-"+t),a(L[D]).addClass(p);l.find(".e-arrow-sans-right").addClass("e-disable")}},_setFocusByName:function(t,o,l){var g,b,p=l.find("tbody tr td.e-"+t);return a(p).each(function(C,T){T.innerHTML!=o||(g=C)}),(b=p[g])||(b=p.last()),l.find("table td").removeClass("e-state-hover").removeClass("e-active"),a(b).hasClass("e-hide-"+t)||a(b).addClass("e-state-hover"),this._setActiveState(t,l),g},_setFocusByIndex:function(t,o,l){var g,p=l.find("tbody tr td.e-"+t);return(g=p[o])||(g=p.last()),l.find("table td").removeClass("e-state-hover").removeClass("e-active"),a(g).hasClass("e-hide-"+t)||a(g).addClass("e-state-hover"),this._setActiveState(t,l),o},_setActiveState:function(t,o){var p,C,l=o.find("tbody tr td.e-"+t),b=-1;switch(t){case"hour":this._compareDate(this.model.value,this._datetimeValue)&&(C=this._localizeTime(this.timePicker._createObject("12:00:00 AM"),"HH:00"),T=a.trim(s.format(this.timePicker._createObject(this.model.value),"HH:00",this.model.locale)),b=(this.timePicker._parse(T)-this.timePicker._parse(C))/(6e4*this._interval),b=Math.floor(b));break;case"mins":if(this._compareDate(this.model.value,this._datetimeValue)&&this.model.value.getHours()===this._datetimeValue.getHours()){var D=new Date(this._datetimeValue.toString()).setMinutes(this.model.value.getMinutes()),T=a.trim(s.format(this.timePicker._createObject(D),"HH:mm",this.model.locale)),L=a.trim(s.format(this.timePicker._createObject(D),"HH:00",this.model.locale));b=(this.timePicker._parse(T)-this.timePicker._parse(L))/(6e4*this.model.timeDrillDown.interval),b=Math.ceil(b)}}(p=l[b])&&(o.find("table td").removeClass("e-active"),a(p).removeClass("e-state-hover").addClass("e-active"))},_compareDate:function(t,o){return+new Date(t.toString()).setHours(0,0,0,0)==+new Date(o.toString()).setHours(0,0,0,0)},_updateInput:function(t){var o=+new Date<+this.model.minDateTime||+new Date>+this.model.maxDateTime?this.model.minDateTime:(new Date).setHours(0,0,0,0),l=this._getDate()||new Date(o),p=this._getTime()||this.timePicker._createObject(o);this.model.value=new Date(l.getFullYear(),l.getMonth(),l.getDate(),p.getHours(),p.getMinutes(),p.getSeconds()),this._updateDateTime(),this._raiseChangeEvent(),this._updateModel(t,!0),t&&(t.cancel=!0)},_updateDateTime:function(){this.isValidState=!0;var t=this._objectToString(this.model.value);this.element.val(t),this._removeWatermark()},_refreshTimes:function(t){var l,p,o=this._getDateObj(t.value,this.datePicker.model.dateFormat);if(!o)return!1;this.isValidState=!0,this._compare(o,this._setEmptyTime(this.model.minDateTime))?(l=this._getFormat(this.model.minDateTime,this.timePicker.model.timeFormat),this._getTime(),this.timePicker.option("minTime",l),this.model.enableStrictMode||this._updateInput()):this.timePicker.option("minTime",this._defaultMinVal()),this._compare(o,this._setEmptyTime(this.model.maxDateTime))?(p=this._getFormat(this.model.maxDateTime,this.timePicker.model.timeFormat),this._getTime(),this.timePicker.option("maxTime",p),this.model.enableStrictMode||this._updateInput()):this.timePicker.option("maxTime",this._defaultMaxVal()),this.timePicker._changeActiveEle(),s.isNullOrUndefined(this.model.disableDateTimeRanges)||this._setDisabledTimeRanges(t)},_setDisabledTimeRanges:function(t){var o=t?t.value:this._setEmptyTime(this.model.value);this._between=[],this._initDisableTimeRanges(o),this._datesDisabled||(this._disableBetweenDates(),this.datePicker.option("blackoutDates",this._between))},_defaultMinVal:function(){var t=(new Date).setHours(0,0,0,0);return s.format(this.timePicker._createObject(t),this.timePicker.model.timeFormat,this.timePicker.model.locale)},_defaultMaxVal:function(){var t=(new Date).setHours(23,59,59,59);return s.format(this.timePicker._createObject(t),this.timePicker.model.timeFormat,this.timePicker.model.locale)},_updateValues:function(){var t=this.model.enableStrictMode&&null==this.model.value?this.element.val():this.model.value;null!=this.model.value&&(this.datePicker.option("value",this.model.value),this.timePicker.option("value",this.model.value)),this._setValue(t),this._validateMinMax(),this._preVal=this.element.val(),this._checkErrorClass()},_specificFormat:function(){var t=s.globalize._getDateParseRegExp(s.globalize.findCulture(this.model.locale).calendar,this.model.dateTimeFormat);return a.inArray("dddd",t.groups)>-1||a.inArray("ddd",t.groups)>-1},_changeEditable:function(t){var o=t?"_on":"_off";this.element.is(":input")&&(t?(this.model.readOnly||this.element.attr("readonly",!1),this.element.off("mousedown",a.proxy(this._showhidePopup,this))):(this.model.readOnly||this.element.attr("readonly","readonly"),this.element.on("mousedown",a.proxy(this._showhidePopup,this))),this[o](this.element,"blur",this._targetBlur),this[o](this.element,"focus",this._targetFocus),this[o](this.element,"keydown",this._keyDownOnInput)),this._change("allowEdit",t)},_setValue:function(t){return!t||"object"==typeof JSON&&"{}"===JSON.stringify(t)?(this.element.val(""),this.model.value=null,this.isValidState=!0,this.wrapper.removeClass("e-valid")):"string"==typeof t?this._extISORegex.exec(t)||this._basicISORegex.exec(t)?this._checkObject(this._dateFromISO(t)):(this.element.val(t),this._updateModel(),this._validateMinMax(),this._checkStrictMode(),this.wrapper.addClass("e-valid")):t instanceof Date&&this._isValidDate(t)&&this._checkObject(t),s.isNullOrUndefined(this.model.disableDateTimeRanges)||this._validateDisableRanges(),this._checkErrorClass(),this.model.value},_checkObject:function(t){t instanceof Date&&this._isValidDate(t)&&(this.model.value=t,this._updateDateTime(),this._validateMinMax(),this._checkStrictMode())},_dateFromISO:function(t){var C,T,D,L,I,R,V,F,A,o=this._extISORegex.exec(t)||this._basicISORegex.exec(t),l="",p="",g="";if(o){for(C=0;C<this._dates.length;C++)if(this._dates[C][1].exec(o[1])){l=this._dates[C][0];break}if(o[3])for(T=0;T<this._times.length;T++)if(this._times[T][1].exec(o[3])){p=(o[2]||" ")+this._times[T][0];break}for(o[4]&&this._zeroRegex.exec(o[4])&&(g="Z"),D=(l+p+g).match(this._tokens),I=[],V=0;V<D.length;V++)F=D[V],R=this._checkLiteral(D[V]),A=this._numberRegex[R?D[V].toLowerCase():F.length]||new RegExp("^\\d{1,"+F.length+"}"),(L=t.match(A))&&(t.substr(0,t.indexOf(L))>=0&&!R&&(D[V].indexOf("M")>=0?I.push(parseInt(L[0])-1):I.push(parseInt(L[0]))),t=t.slice(t.indexOf(L[0])+L[0].length));return"Z"==o[4]?new Date(Date.UTC.apply(null,I)):new Date(I[0],I[1],I[2],I[3],I[4],I[5])}return new Date(t+"")},_checkLiteral:function(t){var o=t.toLowerCase();return"t"==o||"z"==o||":"==o||"-"==o},_validateValue:function(t){var o=s.parseDate(t,this.model.dateTimeFormat,this.model.locale),l=null;this.timePicker!=h&&(l=this._getFormat(o,this.timePicker.model.timeFormat)),!o||o<this.model.minDateTime||o>this.model.maxDateTime||!s.isNullOrUndefined(this.timePicker)&&this.timePicker._ensureTimeRange(l)?(this.model.value=null,this._change("value",this.model.value),this.isValidState=!1):(this._change("value",this.model.value),this.isValidState=!0)},_validateMinMax:function(){var t,o,l;if(t=this.model.value?this._stringToObject(this.model.value):null,o=this.model.minDateTime?this._stringToObject(this.model.minDateTime):this.defaults.minDateTime,l=this.model.maxDateTime?this._stringToObject(this.model.maxDateTime):this.defaults.maxDateTime,!t||!o||!l)return!1;o>l&&(this.model.minDateTime=this.model.maxDateTime),t<o&&(this.model.enableStrictMode?this.model.enableStrictMode&&(this.popup&&(this.datePicker.option("minDate",this._getFormat(o,this.datePicker.model.dateFormat)),this.timePicker.option("minTime",this._getFormat(o,this.timePicker.model.timeFormat))),this.isValidState=!1):(this._setValue(o),this.isValidState=!0)),t>l&&(this.model.enableStrictMode?this.model.enableStrictMode&&(this.popup&&(this.datePicker.option("maxDate",this._getFormat(l,this.datePicker.model.dateFormat)),this.timePicker.option("maxTime",this._getFormat(l,this.timePicker.model.timeFormat))),this.isValidState=!1):(this._setValue(l),this.isValidState=!0)),t<o||t>l||(this.isValidState=!0)},_checkProperties:function(){this.model.readOnly&&this._readOnly(!0),this.model.showRoundedCorner&&this._setRoundedCorner(!0),this.model.enableRTL&&this._setRtl(!0),this.model.enabled&&this._enabled(!0),this.model.enabled?this.model.enabled&&this.element.hasClass("e-disable")&&this._enabled(!0):this._enabled(!1),this.model.name=this._options.name?this.model.name:this.element.attr("name")?this.element.attr("name"):this.element[0].id,this.element.attr("name",this.model.name),this._checkStrictMode(),this._checkErrorClass(),this._setWaterMark()},_checkStrictMode:function(){this.model.enableStrictMode?this.model.enableStrictMode&&(this.isValidState||(this.model.value=null,this.isValidState=!1)):this.isValidState||(this.model.value<this.model.minDateTime?(this.element.val(this._objectToString(this.model.minDateTime)),this.model.value=this.model.minDateTime,this.isValidState=!0):this.model.value>this.model.maxDateTime?(this.element.val(this._objectToString(this.model.maxDateTime)),this.model.value=this.model.maxDateTime,this.isValidState=!0):(this.model.value="",this.element.val(""),this.isValidState=!0))},_targetFocus:function(t){t.preventDefault(),this.isFocused=!0,this.wrapper.addClass("e-focus"),this.wrapper.removeClass("e-error"),this._isSupport||this._hiddenInput.css("display","none"),this._prevDateTimeVal=this.element.val(),this.model.showPopupButton||this.model.readOnly||this._showResult(),this.model.showPopupButton||this._on(this.element,"click",this._elementClick),!this.model.showPopupButton&&this.model.readOnly&&this._off(this.element,"click",this._elementClick),this._trigger("focusIn",{value:this.model.value}),this.wrapper.addClass("e-valid")},_targetBlur:function(){var t;this.isFocused=!1,this.wrapper.removeClass("e-focus"),this.model.showPopupButton||this._hideResult(),(t=s.parseDate(this.element.val(),this.model.dateTimeFormat,this.model.locale))&&!this.model.enableStrictMode&&(t<this.model.minDateTime||t>this.model.maxDateTime)&&this.element.val(this._objectToString(t=t<this.model.minDateTime?this.model.minDateTime:this.model.maxDateTime)),null!=s.parseDate(this.element.val(),this.model.dateTimeFormat,this.model.locale)||this.model.enableStrictMode||(null==this._prevDateTimeVal||""==this.element.val()?this.element.val(""):this.element.val(this._preVal)),this._valueChange(),this.model.enableStrictMode?""!=this.element.val()&&this._validateValue(this.element.val()):this.isValidState?this._prevDateTimeVal=this.element.val():(this.element.val(this._prevDateTimeVal),this._preVal=this._prevDateTimeVal,this.model.value=this._stringToObject(this._prevDateTimeVal),this.isValidState=!0),this._isSupport||""!=this.element.val()||this._hiddenInput.css("display","block"),this._checkErrorClass(),this.model.showPopupButton||this._off(this.element,"click",this._elementClick),this._trigger("focusOut",{value:this.model.value}),s.isNullOrUndefined(this.model.value)?this.wrapper.removeClass("e-valid"):this.wrapper.addClass("e-valid"),this._previousDateUpdate()},_previousDateUpdate:function(){return+s.parseDate(this._prevDateTime,this.model.dateTimeFormat)==+s.parseDate(this.element.val(),this.model.dateTimeFormat)||(this._preValString=this._prevDateTime,this._prevDateTime=this.element.val()),this._preValString},_elementClick:function(){this.isPopupOpen||this._showResult()},_keyDownOnInput:function(t){switch(t.keyCode){case 40:t.altKey&&this._showhidePopup();break;case 37:case 39:this.model.timeDrillDown.enabled||t.altKey&&this.isPopupOpen&&(t.preventDefault(),this._addPrevNextFocus(37==t.keyCode));break;case 27:t.preventDefault();case 9:this._hideResult();break;case 13:if(null!=s.parseDate(this.element.val(),this.model.dateTimeFormat)||this.model.enableStrictMode||(null==this._prevDateTimeVal||""==this.element.val()?this.element.val(""):this.element.val(this._preVal)),this._valueChange(),!this.model.timeDrillDown.enabled){this._valueChange(),this.model.enableStrictMode&&this._checkErrorClass();break}}},_addFocus:function(t){t.hasClass("e-focus")||(this._removeFocus(),t.addClass("e-focus"),t.hasClass("e-datepicker e-popup")?a(document).on("keydown",a.proxy(this.datePicker._keyboardNavigation,this.datePicker)):t.hasClass("e-timecontainer")?a(document).on("keydown",a.proxy(this.timePicker._keyDownOnInput,this.timePicker)):t.hasClass("e-time-hours")?a(document).on("keydown",a.proxy(this._keyDownOnHours,this)):t.hasClass("e-time-minitues")?a(document).on("keydown",a.proxy(this._keyDownOnMinutes,this)):t.hasClass("e-dt-button")&&a(document).on("keydown",a.proxy(this._buttonClick,this)))},_removeFocus:function(){var t=this._getFocusedElement();t.length>0&&(t.removeClass("e-focus"),t.hasClass("e-datepicker e-popup")?a(document).off("keydown",a.proxy(this.datePicker._keyboardNavigation,this.datePicker)):t.hasClass("e-timecontainer")?a(document).off("keydown",a.proxy(this.timePicker._keyDownOnInput,this.timePicker)):t.hasClass("e-time-hours")?a(document).off("keydown",a.proxy(this._keyDownOnHours,this)):t.hasClass("e-time-minitues")?a(document).off("keydown",a.proxy(this._keyDownOnMinutes,this)):t.hasClass("e-dt-button")&&a(document).off("keydown",a.proxy(this._buttonClick,this)))},_addPrevNextFocus:function(t){var l,o=this._getFocusedElement();o.length>0?o.hasClass("e-datepicker e-popup")?l=this.popup.find(t?".e-dt-done":".e-timecontainer"):o.hasClass("e-timecontainer")?l=this.popup.find(t?".e-datecontainer >.e-datepicker.e-popup":".e-dt-today"):o.hasClass("e-dt-today")?l=this.popup.find(t?".e-timecontainer":".e-dt-now"):o.hasClass("e-dt-now")?l=this.popup.find(t?".e-dt-today":".e-dt-done"):o.hasClass("e-dt-done")&&(l=this.popup.find(t?".e-dt-now":".e-datecontainer >.e-datepicker.e-popup")):l=this.popup.find(t?".e-dt-done":".e-datecontainer >.e-datepicker.e-popup"),this._addFocus(l)},_getFocusedElement:function(){return this.popup.children("div").find("div.e-focus")},_keyDownOnHours:function(t){var o;if(37==t.keyCode||38==t.keyCode||39==t.keyCode||40==t.keyCode||13==t.keyCode||36==t.keyCode||35==t.keyCode){t.preventDefault&&t.preventDefault(),(o={row:null,col:null}).col=this._sfTimeHour.find("tbody tr td.e-state-hover").index(),o.row=this._sfTimeHour.find("tbody tr td.e-state-hover").parent().index(),o.col=-1!=o.col?o.col+1:this._sfTimeHour.find("tbody tr td.e-active").index()+1,-1!=o.row?(o.row=o.row+1,this.model.timeDrillDown.showMeridian&&this._sfTimeHour.find("tbody tr td.e-state-hover").hasClass("e-hour-pm")&&(o.row=o.row+2)):(o.row=this._sfTimeHour.find("tbody tr td.e-active").parent().index()+1,this.model.timeDrillDown.showMeridian&&this._sfTimeHour.find("tbody tr td.e-active").hasClass("e-hour-pm")&&(o.row=o.row+2)),this._sfTimeHour.find("table");var p,g=this._sfTimeHour.find("tbody.e-timepicker-hours tr").length;p=this._changeRowCol(o,t.keyCode,g,this.model.timeDrillDown.showMeridian?6:4,"hours",t.ctrlKey),t.ctrlKey||(this._hoverHour=this._sfTimeHour.find("tbody.e-timepicker-hours tr td").index(p)),t.ctrlKey||(this._sfTimeHour.find("table td").removeClass("e-state-hover"),p.addClass("e-state-hover"))}},_changeRowCol:function(t,o,l,p,g,b){var C,T,D,I,V,F,L={parent:null,child:null};switch(g){case"hours":C="tbody.e-timepicker-hours tr td.e-hour",L.parent=".e-timepicker-hours",L.child=".e-hour",D=".e-hide-hour",T=this._sfTimeHour;break;case"mins":C="tbody.e-timepicker-mins tr td.e-mins",L.parent=".e-timepicker-mins",L.child=".e-mins",D=".e-hide-mins",p=(T=this._sfTimeMins).find("tbody"+L.parent+" tr:nth-child("+t.row+") td"+L.child).length}if(t.row<=0&&t.col<=0)return T.find(C+":not(.e-disable):first");switch(o){case 36:return T.find(C+":not(.e-disable):first");case 35:return T.find(C+":not(.e-disable):last");case 38:if(b)this._forwardNavHandler(null,T);else{if(!(t.row>1))return this._processNextPrev(!0,T),T.find(C+":nth-child("+t.col+"):last");t.row-=1}if((I=this._getCell(t,L,T).not(D)).length<=0){if(null!==(I=this._findVisible(t,L,"up",T)))return I;this._processNextPrev(!0,T),I=T.find(C+":nth-child("+t.col+"):last")}return I;case 37:if(b)return this._processNextPrev(!0,T),T.find("tbody tr td.e-state-hover");if(t.col>1)t.col-=1;else{if(!(t.row>1))return this._processNextPrev(!0,T),T.find(C+":not(.e-disable):last");t={row:t.row-1,col:p},"mins"==g&&(t.col=p=T.find("tbody"+L.parent+" tr:nth-child("+t.row+") td"+L.child).length)}if((I=this._getCell(t,L,T).not(D)).length<=0){if(null!==(I=this._findVisible(t,L,"left",T)))return I;this._processNextPrev(!0,T),I=T.find(C+":not(.e-disable):last")}return I;case 39:if(b)return this._processNextPrev(!1,T),T.find("tbody tr td.e-state-hover");if(t.col<p)t.col+=1;else{if(!(t.row<l))return this._processNextPrev(!1,T),T.find(C+":not(.e-disable):first");t={row:t.row+1,col:1}}if((I=this._getCell(t,L,T).not(D)).length<=0){if(null!==(I=this._findVisible(t,L,"right",T)))return I;this._processNextPrev(!1,T),I=T.find(C+":not(.e-disable):first")}return I;case 40:if(!b){if(!(t.row<l))return this._processNextPrev(!1,T),T.find(C+":nth-child("+t.col+"):first");if(t.row+=1,(I=this._getCell(t,L,T).not(D)).length<=0){if(null!==(I=this._findVisible(t,L,"down",T)))return I;this._processNextPrev(!1,T),I=T.find(C+":nth-child("+t.col+"):first")}return I}case 13:V=this._getCell(t,L,T),a(V),F={type:null,target:V},"hours"==g&&this._hourNavHandler(F),"mins"==g&&this._minsNavHandler(F)}return this._getCell(t,L,T).not(D)},_getCell:function(t,o,l){var g,p=t.row;return this.model.timeDrillDown.showMeridian&&t.row>2&&l.hasClass("e-time-hours")&&(p-=2),g=l.find("tbody"+o.parent+" tr:nth-child("+p+") td"+o.child+":nth-child("+t.col+")"),this.model.timeDrillDown.showMeridian&&g.length>0&&l.hasClass("e-time-hours")&&(g=a(t.row<=2?g[0]:g[1])),g},_findVisible:function(t,o,l,p){for(var g,b=t.col,C=t.row,T=o.child.slice(1,o.child.length),D=0;D>=0;D++){if((g=this._getCell({row:C,col:b},o,p)).length<=0)return null;if(g.hasClass("e-disable")||!g.is(":visible")){if("right"==l||"left"==l?"right"==l?b++:b--:"down"==l?C++:C--,C<=0||C>p.find("tbody"+o.parent+" tr").length||(b>p.find("tbody"+o.parent+" tr:nth-child("+C+") td").length&&(C++,b=1),b<=0&&(C--,b=p.find("tbody"+o.parent+" tr:nth-child("+C+") td").length),C<=0||C>p.find("tbody"+o.parent+" tr").length))return null}else if(g.hasClass(T))return t.col=b,t.row=C,this._getCell(t,o,p)}},_keyDownOnMinutes:function(t){var o;if(37==t.keyCode||38==t.keyCode||39==t.keyCode||40==t.keyCode||13==t.keyCode||36==t.keyCode||35==t.keyCode){t.preventDefault&&t.preventDefault(),(o={row:null,col:null}).col=this._sfTimeMins.find("tbody tr td.e-state-hover").index(),o.row=this._sfTimeMins.find("tbody tr td.e-state-hover").parent().index(),o.col=-1!=o.col?o.col+1:this._sfTimeMins.find("tbody tr td.e-active").index()+1,o.row=-1!=o.row?o.row+1:this._sfTimeMins.find("tbody tr td.e-active").parent().index()+1,this._sfTimeMins.find("table");var p,g=this._sfTimeMins.find("tbody.e-timepicker-mins tr").length;p=this._changeRowCol(o,t.keyCode,g,4,"mins",t.ctrlKey),t.ctrlKey||(this._hoverHour=this._sfTimeMins.find("tbody.e-timepicker-mins tr td").index(p)),t.ctrlKey||(this._sfTimeMins.find("table td").removeClass("e-state-hover"),p.addClass("e-state-hover"))}},_valueChange:function(t){this.model.enableStrictMode?this.model.enableStrictMode&&(this._preVal!=this.element.val()||this.model.value<this.model.minDateTime||this.model.value>this.model.maxDateTime)&&(this._updateModel(),this._raiseChangeEvent(t)):(this._preVal!=this.element.val()&&(this._preVal=this.element.val(),this._updateModel(),this._validateMinMax(),this._raiseChangeEvent(t)),this._setWaterMark())},_updateModel:function(t,o){var l,p;this._stopRefresh?this._stopRefresh=!1:""==(l=this.element.val())?(this.model.value=null,this._change("value",this.model.value),this.isValidState=!0):(p=t!=h&&"select"==t.type||this._prevDateTimeVal==this.element.val()?this.model.value:s.parseDate(l,this.model.dateTimeFormat,this.model.locale))?(this.model.value=p,this.isValidState=!0,this._refreshPopup(o),this._specificFormat()&&this._prevDateTimeVal!=this.element.val()&&this.element.val(this._objectToString(this.model.value))):(this.model.value=null,this._change("value",this.model.value),this.isValidState=!1,this.model.enableStrictMode||this.element.val(this._objectToString(this.model.value)))},_refreshPopup:function(t){if(this.isValidState&&this.isPopupOpen){var o=this._setEmptyTime(this.model.value),l=this._setEmptyDate(this.model.value),p=this._getDate(),g=this._getTime();p&&this._compare(p,o)||this.datePicker.option("value",o),g&&this._compare(g,l)||t||this.timePicker.option("value",l)}},_buttonClick:function(t){if(13==t.keyCode){t.preventDefault();var o=this._getFocusedElement();o.hasClass("e-dt-today")?this._todayClick():o.hasClass("e-dt-now")?this._nowClick():o.hasClass("e-dt-done")&&this._doneClick()}},_todayClick:function(){if(!this.model.enabled||this.model.readOnly)return!1;this.datePicker.popup.find(".today").hasClass("e-active")&&this.datePicker.popup.children("table").hasClass("e-dp-viewdays")&&""!=this.element.val()&&this.isValidState||(this.datePicker._setCurrDate(),this._updateInput())},_nowClick:function(){var t;if(!this.model.enabled||this.model.readOnly)return!1;this.timePicker.setCurrentTime();var o=this.model.minDateTime,l=this.model.maxDateTime,p=this.datePicker.model.value,g=new Date;p=s.isNullOrUndefined(p)?new Date:p,(t=new Date(p.getFullYear(),p.getMonth(),p.getDate(),g.getHours(),g.getMinutes(),g.getSeconds()))<o?this.timePicker.option("value",this.timePicker._localizeTime(o)):t>l&&this.timePicker.option("value",this.timePicker._localizeTime(l)),this._updateInput()},_doneClick:function(){this._hideResult()},_iconClick:function(t){t.preventDefault(),this.isFocused||s.isTouchDevice()||this.element.focus(),this._showhidePopup(),this.model.disableDateTimeRanges&&s.isNullOrUndefined(this.model.value)&&this._setDisabledTimeRanges(this.datePicker.model.value),this._isIE9&&this.popup.find(".e-popup-container").css("display","inline-block")},_setInitialSelection:function(){var o,l,p,g,b,t=this.timePicker.ul.find("li");t.hasClass("e-hover")||(l=o=this.timePicker._setEmptyDate(new Date),this.timePicker.minTime&&!this._compareTime(this._createObject(o),this.timePicker.minTime,!0)&&(l=this.timePicker.minTime),this.timePicker.maxTime&&!this._compareTime(this.timePicker.maxTime,this._createObject(o),!0)&&(l=this.timePicker.maxTime),p=t.first().html(),g=(this.timePicker._parse(l)-this.timePicker._parse(p))/(6e4*this.timePicker.model.interval),((b=(g=Math.round(g))==t.length?g:g+1)<0||b>t.length||isNaN(b))&&(b=1),a(this.timePicker.ul.find("li")[b-1]).addClass("e-hover")),this._calcScrollTop()},_calcScrollTop:function(){this.timePicker.ul.outerHeight();var p,o=this.timePicker.ul.find("li").outerHeight();p=o*this.timePicker.ul.find("li.e-hover").index()-(this.timePicker.popupList.outerHeight()-o)/2,this.timePicker.scrollerObj.setModel({scrollTop:p})},_showhidePopup:function(){if(this.model.readOnly)return!1;this.isPopupOpen?this._hideResult():this._showResult()},_showResult:function(){if(this.popup||this._renderDropdown(),this.isPopupOpen||!this.model.enabled||(this._setRtl(this.model.enableRTL),this._setRoundedCorner(this.model.showRoundedCorner),this._trigger("beforeOpen",{element:this.popup})))return!1;this.isPopupOpen=!0,this.element.attr({"aria-expanded":"true"}),this._setListPosition(),this._checkForResponsive();var t=this;this.popup.slideDown(this.model.enableAnimation?200:0,function(){t._on(a(document),"mousedown",t._OnDocumentClick),t.model.timeDrillDown.enabled&&t._addFocus(t._dateContainer.find(".e-datepicker")),t.timePicker.model.value||t._setInitialSelection()}),this._updateModel(),this._updateTimeHeight(),this._validateMinMax(),this._on(a(window),"resize",this._OnWindowResize),this._on(s.getScrollableParents(this.wrapper),"scroll",this._hideResult),this._on(s.getScrollableParents(this.wrapper),"touchmove",this._hideResult),this._raiseEvent("open"),this._initial&&(this.timePicker._refreshScroller(),this.timePicker._changeActiveEle(),this._initial=!1),this.wrapper.addClass("e-active")},_hideResult:function(t){if(!t||"touchmove"!=t.type&&"scroll"!=t.type||!(a(t.target).parents("#"+this.popup[0].id).length>0)){var o=this;if(!this.isPopupOpen||this._trigger("beforeClose",{element:this.popup}))return!1;if(this.isPopupOpen=!1,this.element.attr({"aria-expanded":"false"}),this._removeFocus(),this._popClose&&t&&"click"!=t.type)return void(this.isPopupOpen=!0);this.popup.slideUp(this.model.enableAnimation?100:0,function(){o.model&&(o.model.timeDrillDown.enabled&&(o._sfTimeHour.hide(),o._sfTimeMins.hide(),o._dateContainer.show()),s.isNullOrUndefined(o.model.value)||(o._datetimeValue=new Date(o.model.value.toString())))}),this._raiseEvent("close"),this._off(a(document),"mousedown",this._OnDocumentClick),this._off(a(window),"resize",this._OnWindowResize),this._off(s.getScrollableParents(this.wrapper),"scroll",this._hideResult),this._off(s.getScrollableParents(this.wrapper),"touchmove",this._hideResult),this.wrapper.removeClass("e-active")}},_setListPosition:function(){var l,F,t=this.wrapper,o=this._getOffset(t),p=a(document).scrollTop()+a(window).height()-(o.top+a(t).outerHeight()),g=o.top-a(document).scrollTop(),b=this.popup.outerHeight(),C=this.popup.outerWidth(),T=o.left,D=t.outerHeight(),L=(D-t.height())/2,I=this._getZindexPartial();F=this.model.popupPosition==s.PopupPosition.Bottom?(b<p||b>g?o.top+D+3:o.top-b-3)-L:(b>g?o.top+D+3:o.top-b-3)-L,l=a(document).scrollLeft()+a(window).width()-T,(this.model.enableRTL||C>l&&C<T+t.outerWidth())&&(T-=this.popup.outerWidth()-t.outerWidth()),this.popup.css({left:T+"px",top:F+"px","z-index":I})},_getOffset:function(t){return s.util.getOffset(t)},_OnDocumentClick:function(t){this.model&&(a(t.target).is(this.popup)||a(t.target).parents(".e-datetime-popup").is(this.popup)||a(t.target).is(this.wrapper)||a(t.target).parents(".e-datetime-wrap").is(this.wrapper)?(a(t.target).is(this.popup)||a(t.target).parents(".e-datetime-popup").is(this.popup))&&(t.preventDefault(),a(t.target).parents(".e-datepicker").length>0?this._addFocus(a(t.target).parents(".e-datepicker")):a(t.target).parents(".e-timecontainer").length>0?this._addFocus(a(t.target).parents(".e-timecontainer")):a(t.target).hasClass("e-dt-button")?this._addFocus(a(t.target)):a(t.target).parents(".e-time-hours").length>0?this._addFocus(a(t.target).parents(".e-time-hours")):a(t.target).parents(".e-time-minitues").length>0?this._addFocus(a(t.target).parents(".e-time-minitues")):this._removeFocus()):this._hideResult())},_OnWindowResize:function(){this._setListPosition(),this._checkForResponsive(),this._updateTimeHeight()},_raiseChangeEvent:function(t){var p,g,o=s.parseDate(this._prevDateTimeVal,this.model.dateTimeFormat),l=s.parseDate(this.element.val(),this.model.dateTimeFormat);+o==+l?this._prevDateTimeVal!=this.element.val()&&(g={prevDateTime:this._prevDateTimeVal,value:this.element.val(),isValidState:this.isValidState},this._prevDateTimeVal=this.element.val(),this._trigger("_change",g)):(this._preVal=this.element.val(),g={prevDateTime:this._prevDateTimeVal,value:this.element.val(),isInteraction:!t,isValidState:this.isValidState},this.timePicker&&this.timePicker.model?(p=this._getFormat(l,this.timePicker.model.timeFormat),this.timePicker._ensureTimeRange(p)?(this._prevDateTimeVal="",this.model.value=null,this.isValidState=!1):this._prevDateTimeVal=this.element.val()):this._prevDateTimeVal=this.element.val(),this._trigger("_change",g),g.value=""==a.trim(this.element.val())?null:this.element.val(),g.value=this._formatter(this.model.value,this.model.dateTimeFormat),this._trigger("change",g))},_formatter:function(t,o){var l=this._checkFormat(o);return s.format(t,l,this.model.locale)},_raiseEvent:function(t){var o=this._previousDateUpdate();return!(null==this.element||!this.model[t])&&this._trigger(t,{prevDateTime:s.isNullOrUndefined(o||this._preValString)?"":o||this._preValString,value:this.element.val()})},_getDateTimeFormat:function(){var t=s.preferredCulture(this.model.locale).calendar.patterns;this.model.dateTimeFormat||(this.model.dateTimeFormat=t.d+" "+t.t),this.model.timeDisplayFormat||(this.model.timeDisplayFormat=t.t)},_getZindexPartial:function(){return s.util.getZindexPartial(this.element,this.popup)},_checkErrorClass:function(){this.isValidState?this.wrapper.removeClass("e-error"):this.wrapper.addClass("e-error")},_getDate:function(){return this.datePicker.model.value},_getTime:function(){return this._getDateObj(this.timePicker.model.value,this.timePicker.model.timeFormat)},_setEmptyTime:function(t){var o=new Date(t);return o.setMilliseconds(0),o.setSeconds(0),o.setMinutes(0),o.setHours(0),o},_setEmptyDate:function(t){var o=new Date(t);return o.setDate(1),o.setMonth(0),o.setFullYear(2e3),o},_objectToString:function(t){return this._getFormat(t,this.model.dateTimeFormat)},_stringToObject:function(t){return this._getDateObj(t,this.model.dateTimeFormat)},_getFormat:function(t,o){if(t instanceof Date){var l=this._checkFormat(o);return s.format(t,l,this.model.locale)}return t},_checkFormat:function(t){var o=this,l=this._regExp();return t.replace(l,function(p){return"/"===p&&"/"!==s.preferredCulture(o.model.locale).calendars.standard["/"]?"'/'":p})},_regExp:function(){return/\/dddd|ddd|dd|d|MMMM|MMM|MM|M|yyyy|yy|HH|H|hh|h|mm|m|fff|ff|f|tt|ss|s|zzz|zz|z|gg|g|"[^"]*"|'[^']*'|[/]/g},_getDateObj:function(t,o){var l,p;if("string"!=typeof t)return t;if(l=this._checkFormat(o),null!=(p=s.parseDate(t,l,this.model.locale)))return p;if(""==t||null==t)return null;var g,b=/^\s*(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d):(\d\d).*Z\s*$/.exec(t),C=new Date;return b&&((C=new Date).setUTCFullYear(b[1],(g=+b[2])-1,b[3]),C.setUTCHours(b[4],b[5],b[6]),g!=C.getUTCMonth()+1&&C.setTime()),this._isValidDate(C)?C:void 0},_compare:function(t,o){return t&&o&&t.getTime()==o.getTime()},_isValidDate:function(t){return t&&"function"==typeof t.getTime&&isFinite(t.getTime())},_change:function(t,o){this.popup&&(this.datePicker.option(t,o),this.timePicker.option(t,o))},_changeSkin:function(t){this.wrapper.removeClass(this.model.cssClass).addClass(t),this.popup.removeClass(this.model.cssClass).addClass(t),this._change("cssClass",t)},_localize:function(t){var o,l,p;if(this.model.locale=t,s.isNullOrUndefined(this._options.timeDisplayFormat)&&(this.model.timeDisplayFormat=""),s.isNullOrUndefined(this._options.dateTimeFormat)&&(this.model.dateTimeFormat=""),o=["AM","PM"],this._getDateTimeFormat(),this.timePicker.option("timeFormat",this.model.timeDisplayFormat),this._localizedLabels=this._getLocalizedLabels(),s.isNullOrUndefined(this._options)||(s.isNullOrUndefined(this._options.buttonText)||a.extend(this._localizedLabels.buttonText,this._options.buttonText),s.isNullOrUndefined(this._options.watermarkText)||(this._localizedLabels.watermarkText=this._options.watermarkText)),this._localizedLabelToModel(),this._buttonText(this._localizedLabels.buttonText),(this.isValidState||this.model.value instanceof Date&&this._isValidDate(this.model.value))&&this.element.val(this._objectToString(this.model.value)),this._preVal=this.element.val(),this._change("locale",t),this.model.startDay=this.datePicker.model.startDay,this._validateMeridian(),this._sfTimeHour.empty(),this._renderHourTable(),this.model.timeDrillDown.showMeridian)for(l=0;l<2;l++)p=s.isNullOrUndefined(s.preferredCulture(this.model.locale).calendars.standard[o[l]])?"":s.preferredCulture(this.model.locale).calendars.standard[o[l]][0],a("span.e-hours-meridiantxt-"+o[l].toLowerCase(),this._sfTimeHour).text(p)},_setWaterMark:function(){if(null!=this.element&&this.element.hasClass("e-input"))return this._localizedLabels.watermarkText&&""==this.element.val()&&(this.isValidState=!0,this._checkErrorClass()),this._isSupport||""!=this.element.val()?a(this.element).attr("placeholder",this._localizedLabels.watermarkText):this._hiddenInput.css("display","block").val(this._localizedLabels.watermarkText),!0},_localizedLabelToModel:function(){this.model.watermarkText=this._localizedLabels.watermarkText,this.model.buttonText=this._localizedLabels.buttonText},_readOnly:function(t){this.model.readOnly=t,t?this.element.attr("readonly","readonly"):this.element.prop("readonly",!1),this._change("readOnly",t)},_setRoundedCorner:function(t){t?(this.container.addClass("e-corner"),this.popup&&this.popup.addClass("e-corner")):(this.container.removeClass("e-corner"),this.popup&&this.popup.removeClass("e-corner")),s.isNullOrUndefined(this.datePicker)||this.datePicker.option("showRoundedCorner",t),s.isNullOrUndefined(this.timePicker)||this.timePicker.option("showRoundedCorner",t)},_setRtl:function(t){t?(this.wrapper.addClass("e-rtl"),this.popup&&this.popup.addClass("e-rtl")):(this.wrapper.removeClass("e-rtl"),this.popup&&this.popup.removeClass("e-rtl")),this._change("enableRTL",t)},_enabled:function(t){t?(this.model.enabled=!1,this.enable()):(this.model.enabled=!0,this.disable())},_showButton:function(t){this.model.showPopupButton=t,t?(this.container.addClass("e-padding"),this._renderIcon()):(this.container.removeClass("e-padding"),this.datetimeIcon.remove(),this.datetimeIcon=null)},_buttonText:function(t){a.extend(this.model.buttonText,t),this.popup.find(".e-dt-today").html(this.model.buttonText.today),this.popup.find(".e-dt-now").html(this.model.buttonText.timeNow),this.popup.find(".e-dt-done").html(this.model.buttonText.done),this.popup.find(".e-timecontainer").find(".e-header").html(this.model.buttonText.timeTitle)},_checkForResponsive:function(){if(a(window).outerWidth()>200&&a(window).outerWidth()<=500)this.popup.hasClass("e-dt-responsive")||(this.popup.addClass("e-dt-responsive"),this.timePicker.option("popupWidth",this.datePicker.popup.outerWidth()),this.timePicker.option("popupHeight",98),this.timePicker._refreshScroller(),this.timePicker._changeActiveEle());else if(this.popup.hasClass("e-dt-responsive")){this.popup.removeClass("e-dt-responsive"),this.timePicker.option("popupWidth",this.model.timePopupWidth);var t=this.datePicker.popup.height()-this.popup.find(".e-header").height();this.timePicker.option("popupHeight",t),this.timePicker._refreshScroller(),this.timePicker._changeActiveEle()}},enable:function(){this.model.enabled||(this.element[0].disabled=!1,this.model.enabled=!0,this.element.prop("disabled",!1),this.wrapper.removeClass("e-disable"),this.element.removeClass("e-disable").attr("aria-disabled",!1),this._isSupport||this._hiddenInput.prop("disabled",!1),this.datetimeIcon&&this.datetimeIcon.removeClass("e-disable").attr("aria-disabled",!1),this._isIE8&&this.datetimeIcon&&this.datetimeIcon.children().removeClass("e-disable"),this.popup&&(this.popup.children("div").removeClass("e-disable").attr("aria-disabled",!1),this._change("enabled",!0)))},disable:function(){this.model.enabled&&(this.element[0].disabled=!0,this.model.enabled=!1,this.wrapper.addClass("e-disable"),this.element.addClass("e-disable").attr("aria-disabled",!0),this.element.attr("disabled","disabled"),this._isSupport||this._hiddenInput.attr("disabled","disabled"),this.datetimeIcon&&this.datetimeIcon.addClass("e-disable").attr("aria-disabled",!0),this._isIE8&&this.datetimeIcon&&this.datetimeIcon.children().addClass("e-disable"),this._hideResult(),this._change("enabled",!1),this.popup&&(this.popup.children("div").addClass("e-disable").attr("aria-disabled",!0),this.datePicker.popup.removeClass("e-disable").attr("aria-disabled",!1),this.timePicker.popup.removeClass("e-disable").attr("aria-disabled",!1)))},getValue:function(){return this._objectToString(this.model.value)},setCurrentDateTime:function(){this.model.readOnly||this._setValue(new Date)},show:function(){this._showResult()},hide:function(){this._hideResult()},_wireEvents:function(){this.model.allowEdit&&(this._on(this.element,"focus",this._targetFocus),this._on(this.element,"blur",this._targetBlur),this._on(this.element,"keydown",this._keyDownOnInput)),!this.model.allowEdit&&(this.element.attr("readonly","readonly"),this.element.on("mousedown",a.proxy(this._showhidePopup,this)))},_getLocalizedLabels:function(){return s.getLocalizedConstants(this.sfType,this.model.locale)}}),s.DateTimePicker.Locale=s.DateTimePicker.Locale||{},s.DateTimePicker.Locale.default=s.DateTimePicker.Locale["en-US"]={watermarkText:"Select datetime",buttonText:{today:"Today",timeNow:"Time Now",done:"Done",timeTitle:"Time"}},s.PopupPosition={Bottom:"bottom",Top:"top"}}(jQuery,Syncfusion),function(a,s,h){s.widget("ejDropDownList","ej.DropDownList",{element:null,model:null,validTags:["select","input"],_addToPersist:["value","text","selectedIndex","selectedItemIndex","selectedItems","selectedIndices","popupWidth","popupHeight","itemValue"],_setFirst:!1,_rootCSS:"e-dropdownlist",angular:{require:["?ngModel","^?form","^?ngModelOptions"]},_requiresID:!0,defaults:{cssClass:"",value:null,htmlAttributes:{},text:null,itemValue:"",itemsCount:0,dataSource:null,delimiterChar:",",query:null,fields:{id:null,text:null,value:null,category:null,groupBy:null,imageUrl:null,imageAttributes:null,spriteCssClass:null,htmlAttributes:null,selected:null,tableName:null},locale:"en-US",watermarkText:null,height:"",loadOnDemand:!1,width:"",popupHeight:"152px",popupWidth:"auto",popupTarget:"body",maxPopupHeight:null,minPopupHeight:"20",maxPopupWidth:null,minPopupWidth:"0",targetID:null,template:null,headerTemplate:null,selectedItemIndex:-1,selectedIndex:-1,disableItemsByIndex:null,enableItemsByIndex:null,selectedItems:[],selectedIndices:[],cascadeTo:null,enablePopupResize:!1,allowVirtualScrolling:!1,virtualScrollMode:"normal",showRoundedCorner:!1,showPopupOnLoad:!1,enableRTL:!1,enabled:!0,filterType:"contains",sortOrder:"ascending",caseSensitiveSearch:!1,showCheckbox:!1,checkAll:!1,uncheckAll:!1,enablePersistence:!1,enableFilterSearch:!1,enableServerFiltering:!1,enableIncrementalSearch:!0,incrementalSearchDelay:500,readOnly:!1,enableAnimation:!1,multiSelectMode:"none",allowGrouping:!1,enableSorting:!1,validationRules:null,validationMessage:null,actionBegin:null,actionComplete:null,actionFailure:null,actionSuccess:null,create:null,popupHide:null,popupShown:null,beforePopupShown:null,beforePopupHide:null,popupResizeStart:null,popupResize:null,popupResizeStop:null,change:null,select:null,dataBound:null,search:null,checkChange:null,cascade:null,destroy:null},dataTypes:{cssClass:"string",itemsCount:"number",watermarkText:"string",template:"string",disableItemsByIndex:"string",enableItemsByIndex:"string",enableIncrementalSearch:"boolean",incrementalSearchDelay:"number",cascadeTo:"string",delimiterChar:"string",showRoundedCorner:"boolean",showPopupOnLoad:"boolean",enableRTL:"boolean",enablePersistence:"boolean",allowVirtualScrolling:"boolean",virtualScrollMode:"enum",enabled:"boolean",readOnly:"boolean",multiSelectMode:"enum",dataSource:"data",query:"data",fields:"data",selectedItems:"array",selectedIndices:"array",enableAnimation:"boolean",allowGrouping:"boolean",enableSorting:"boolean",validationRules:"data",validationMessage:"data",htmlAttributes:"data",locale:"string"},observables:["value","selectedItemIndex","selectedIndex","dataSource"],value:s.util.valueFunction("value"),selectedItemIndex:s.util.valueFunction("selectedItemIndex"),selectedIndex:s.util.valueFunction("selectedIndex"),_dataSource:s.util.valueFunction("dataSource"),enable:function(){this._visibleInput.hasClass("e-disable")&&(this.target.disabled=!1,this.model.enabled=!0,this.container.removeClass("e-disable"),this._visibleInput.removeClass("e-disable"),this.dropdownbutton.removeClass("e-disable"),s.isNullOrUndefined(this.popupListWrapper)||this.popupListWrapper.removeClass("e-disable"),this._isIE8&&this.drpbtnspan.removeClass("e-disable"),this.container.on("mousedown",a.proxy(this._OnDropdownClick,this)),"visualmode"==this.model.multiSelectMode&&this._ulBox.removeClass("e-disable")),this._wireEvents(),this.wrapper.attr("tabindex",0)},disable:function(){this._visibleInput.hasClass("e-disable")||(this.target.disabled=!0,this.model.enabled=!1,this.container.addClass("e-disable"),this._visibleInput.addClass("e-disable"),s.isNullOrUndefined(this.popupListWrapper)||this.popupListWrapper.addClass("e-disable"),this.dropdownbutton.addClass("e-disable"),this._isIE8&&this.drpbtnspan.addClass("e-disable"),"visualmode"==this.model.multiSelectMode&&this._ulBox.addClass("e-disable"),this.container.off("mousedown",a.proxy(this._OnDropdownClick,this)),this._unwireEvents(),this.wrapper.removeAttr("tabindex"),this._isPopupShown()&&this._hideResult())},getValue:function(){return this._visibleInput.val()},_setValue:function(t,o){s.isNullOrUndefined(t)||(this.model.loadOnDemand&&(s.isNullOrUndefined(this.ultag)||0==this.ultag.children().length)&&this._showFullList(),0!=this.ultag.children().length&&this._setDynamicSelectByVal(this,t,o))},_setDynamicSelectByVal:function(t,o,l){t._raiseEvents=!1,s.isNullOrUndefined(t.model.text)||t.unselectItemByText(t.model.text,l),t._raiseEvents=!0,t.model.allowVirtualScrolling&&t._addValue(o),t.selectItemByValue(o)},_addValue:function(t){var o,p,g,b,C,T,D;if(this.model.itemsCount>0&&""!=t&&(this._checkValue=!0,o="object"==typeof t?t:"number"==typeof t?[t]:t.split(this.model.delimiterChar),s.isNullOrUndefined(this._mapFields())||this._mapFields(),s.isNullOrUndefined(this._rawList)||this._addListItems(o,this._rawList,"local"),this._checkValue))if(p=this._dataSource(),s.DataManager&&p instanceof s.DataManager)if(p.dataSource.offline&&p.dataSource.json&&p.dataSource.json.length>0)this._addListItems(o,p.dataSource.json,"remote");else if(g=this,b=t,C=this.model.fields.value?this.model.fields.value:this.model.fields.text,this._isSingleSelect())p.executeQuery(s.Query().select(C,this.model.fields.text).where(C,"equal",b,!1)).done(function(L){g._addListItems(o,L.result,"remote"),g.selectItemByValue(b)});else for(D=0;D<o.length;D++)p.executeQuery(s.Query().select(C,this.model.fields.text).where(C,"equal",o[D],!1)).done(function(L){T=L.result.slice(0,D),D==o.length&&(g._addListItems(o,T,"remote"),g.selectItemByValue(b))});else this._addListItems(o,p,"remote")},_addListItems:function(t,o,l){for(var p,g=this.mapFld._value==this.model.fields.value?this.mapFld._value:this.model.fields.text,b=0;b<t.length;b++)for(p=0;p<o.length;p++)"local"==l&&o[p][g]==t[b]&&(this._checkValue=!1),"remote"==l&&o[p][g]==t[b]&&this.addItem(o[p])},_setText:function(t){s.isNullOrUndefined(t)||(this.model.loadOnDemand&&(s.isNullOrUndefined(this.ultag)||0==this.ultag.children().length)&&this._showFullList(),this._raiseEvents=!1,this.unselectItemByText(this.model.text),this._raiseEvents=!0,this.selectItemByText(t))},_setItemValue:function(t){this.model.itemValue=t},_changeWatermark:function(t){if(!this.model.enabled)return!1;this._isWatermark?this._visibleInput.attr("placeholder",t):this._hiddenSpan.text(t)},hidePopup:function(){if(!this.model.enabled)return!1;this.ultag.find("li").length>0&&this._hideResult()},showPopup:function(){if(!this.model.enabled)return!1;(s.isNullOrUndefined(this.ultag)?this.model.loadOnDemand:this.ultag.find("li").length>0)&&this._showResult()},clearText:function(){this._clearTextboxValue(),this._isWatermark||this._setWatermark()},addItem:function(t){var o,l,p,g,b,C;if(this.model.loadOnDemand&&(s.isNullOrUndefined(this.ultag)||0==this.ultag.children().length)&&this._showFullList(),!this.model.enabled||!t||(this._mapFields(),(o=a.isArray(t)?t:[t]).length<1))return!1;for((p={_id:null,_imageUrl:null,_imageAttributes:null,_spriteCSS:null,_text:null,_value:null,_htmlAttributes:null,_selected:null,_category:null})._id=o[0][(l=this.mapFld)._id]?l._id:"id",p._imageUrl=o[0][l._imageUrl]?l._imageUrl:"imageUrl",p._imageAttributes=o[0][l._imageAttributes]?l._imageAttributes:"imageAttributes",p._spriteCSS=o[0][l._spriteCSS]?l._spriteCSS:"spriteCssClass",p._text=o[0][l._text]?l._text:"text",p._value=o[0][l._value]?l._value:"value",p._htmlAttributes=o[0][l._htmlAttributes]?l._htmlAttributes:"htmlAttributes",p._selected=o[0][l._selected]?l._selected:"selected",p._category=o[0][l._category]?l._category:"groupBy",this._generateLi(o,p),g=this.dummyUl,b=0;b<o.length;b++)this._listItem(o[b],"add");this.model.showCheckbox?this._appendCheckbox(g,!0):this._isSingleSelect()||this._multiItemSelection(g,!0),this._virtualUl.append(a(this.dummyUl).clone(!0)),this.ultag.append(this.dummyUl),this._isPopupShown()&&(C=this.scrollerObj?this.scrollerObj.scrollTop():0,this._refreshScroller(),this.scrollerObj&&this.scrollerObj.option("scrollTop",C))},_toArray:function(t,o){var l;return"function"==typeof t&&(t=s.util.getVal(t)),a.isArray(t)?l=t:"string"==typeof t?o&&("visualmode"==this.model.multiSelectMode||"delimiter"==this.model.multiSelectMode||this.model.showCheckbox)?0==(l=this._getUpdatedListData(t)).length&&(l=[t]):(o||0==(l=this._getUpdatedListData(t)).length)&&(l=[t]):l=[t],l},_trim:function(t){return"string"==typeof t?a.trim(t):t},selectItemByIndex:function(t){this._selectItemByIndex(t)},selectItemsByIndices:function(t){this._selectItemByIndex(t)},_selectItemByIndex:function(t){var o,l,p,g;if(this.model.loadOnDemand&&(s.isNullOrUndefined(this.ultag)||0==this.ultag.children().length)&&this._showFullList(),this.listitems=this._getLi(),this._selectedIndices=a.map(this._selectedIndices,function(b){return parseInt(b)}),this.model.selectedItems=this.model.selectedIndices=this._selectedIndices,-1==parseInt(t)&&this.model.selectedItems.length>0)this._clearTextboxValue(),this._trigger("change",{text:this._visibleInput[0].value,selectedText:"",selectedValue:"",value:""});else for(o=this._toArray(t,!0),p=0;p<o.length;p++)if(null!=(l=parseInt(o[p]))&&l>=0){if(-1==a.inArray(l,this._selectedIndices))for(g=0;g<this.listitems.length;g++)a(this.listitems[g]).hasClass("e-disable")||g==l&&(this.selectedIndexValue=g,this._activeItem=l,this._enterTextBoxValue())}else!this.model.showCheckbox&&"none"==this.model.multiSelectMode&&this.model.selectedItems.length>0&&(this._clearTextboxValue(),this._trigger("change",{text:this._visibleInput[0].value,selectedText:"",selectedValue:"",value:""}))},unselectItemsByIndices:function(t){this._unselectItemByIndex(t)},unselectItemByIndex:function(t){this._unselectItemByIndex(t)},_unselectItemByIndex:function(t){var o,l,p,g;for(this.model.loadOnDemand&&(s.isNullOrUndefined(this.ultag)||0==this.ultag.children().length)&&this._showFullList(),this._selectedIndices=a.map(this._selectedIndices,function(b){return parseInt(b)}),this.model.selectedItems=this.model.selectedIndices=this._selectedIndices,l=this._toArray(t,!0),this.listitems=this._getLi(),g=0;g<l.length;g++)for(p=parseInt(l[g]),o=0;o<this.listitems.length;o++)o==p&&(this.selectedIndexValue=o,this._activeItem=p,this._activeItem==this._aselectedItem&&(this._aselectedItem=null),this._removeTextBoxValue())},setSelectedValue:function(t){this.selectItemByValue(t)},selectItemByValue:function(t){var o,l,p;if(this.model.loadOnDemand&&(s.isNullOrUndefined(this.ultag)||0==this.ultag.children().length)&&this._showFullList(),this.listitems=this._getLi(),this.inputSearch&&""!=this.inputSearch.val()&&this.model.enableServerFiltering&&!s.isNullOrUndefined(this._searchresult)){for(l=this.model.fields&&this.model.fields.value?this.model.fields.value:"value",o=0;o<this._searchresult.length;o++)for(p=0;p<this.listitems.length;p++)a(this.listitems[p]).attr("data-value")==this._searchresult[o][l]&&(this._searchresult=null);this.addItem(this._searchresult)}s.isNullOrUndefined(t)?this._clearTextboxValue():(this._unselectText&&(this._unselectText=!1),this._selectUnSelectValue(t,"selectValue"))},_selectUnSelectValue:function(t,o,l,p){for(var g,b,C=this._toArray(t,!0),T=0;T<C.length;T++)for(g=0;g<this.listitems.length;g++)if(a(this.listitems[g]).hasClass("e-disable")||"selectValue"!=o&&"selectText"!=o){if(this._getAttributeValue(this.listitems[g])&&("unselectValue"==o&&(this._selectedValue=this._getAttributeValue(this.listitems[g]),this._selectedValue=this._selectedValue==C[T]),"unselectText"==o&&(this.unselectedTextValue=this._isPlainType(this.popupListItems)?this.popupListItems[g]:this._getField(this.popupListItems[g],this.mapFld._text),this._selectedValue=this.unselectedTextValue==C[T]||p&&this.unselectedTextValue.toString().toLowerCase()==C[T].toString().toLowerCase(),this._selectedValue&&this._boxValue&&this.model.showCheckbox&&this.model.enableFilterSearch&&(this._activeItem=g,this._selectedValue=-1!=this._boxValue.indexOf(a(this._getActiveItem(this._activeItem)).attr("data-value"))&&this._selectedValue)),this._selectedValue)){this._activeItem=g,this._activeItem==this._aselectedItem&&(this._aselectedItem=null),(this._visibleInput.val()!=this._checkedValues||l&&"keyup"==l.type||this.model.enablePersistence)&&this._removeTextBoxValue();break}}else if("selectValue"==o&&(b=s.isNullOrUndefined(this._getAttributeValue(this.listitems[g]))?a(this.listitems[g]).text():this._getAttributeValue(this.listitems[g]),this._selectedValue=b==C[T]),"selectText"==o&&(this.selectedTextValue=this._isPlainType(this.popupListItems)?this.popupListItems[g]:this._getField(this.popupListItems[g],this.mapFld._text),this._selectedValue=this.selectedTextValue==C[T]||p&&this.selectedTextValue.toString().toLowerCase()==C[T].toString().toLowerCase()),this._selectedValue){this._activeItem=g,this._aselectedItem=this._activeItem,this._enterTextBoxValue();break}},unselectItemByValue:function(t){this.model.loadOnDemand&&(s.isNullOrUndefined(this.ultag)||0==this.ultag.children().length)&&this._showFullList(),this.listitems=this._getLi(),this._selectUnSelectValue(t,"unselectValue")},setSelectedText:function(t){this.selectItemByText(t)},selectItemByText:function(t,o){this.model.loadOnDemand&&(s.isNullOrUndefined(this.ultag)||0==this.ultag.children().length)&&this._showFullList(),this.listitems=this._getLi(),this._mapFields(),s.isNullOrUndefined(t)?this._clearTextboxValue():this._selectUnSelectValue(t,"selectText",o)},unselectItemByText:function(t,o,l){this.listitems=this._getLi(),this._mapFields(),this._unselectText=!0,this._selectUnSelectValue(t,"unselectText",o,l)},getSelectedValue:function(){return this.element.val()},getSelectedItem:function(){var t,o=[];for(this.listitems=this._getLi(),t=0;t<this._selectedIndices.length;t++)o.push(this.listitems[this._selectedIndices[t]]);return o},getItemDataByValue:function(t){var p,g,T,o=this._toArray(t,!1),l=this.model.enableServerFiltering?s.isNullOrUndefined(this.resultList)?this._rawList:this._rawList.concat(this.resultList):this._rawList,b=[],C=this.model.fields&&this.model.fields.value?this.model.fields.value:"value";if(o.length>0&&(l.indexOf(o[0])>-1||l.indexOf(Number(o[0]))>-1))for(p=0;p<o.length&&(l.indexOf(o[p])>-1||l.indexOf(Number(o[p]))>-1);p++)b.push({text:o[p],value:o[p]});else for(l.length>0&&s.isNullOrUndefined(l[0][C])&&(s.isNullOrUndefined(l[0][T=this.model.fields&&this.model.fields.text?this.model.fields.text:"text"])||(C=T)),p=0;p<o.length;p++)for(g=0;g<l.length;g++)(l[g][C]==o[p]||l[g][C]==Number(o[p]))&&b.push(l[g]);return b},getListData:function(){return this._rawList},getSelectedItemsID:function(){return this._selectedItemsID},disableItemsByIndices:function(t){this._getLi().length>0&&this._disableItemByIndex(t)},disableItemByIndex:function(t){this._getLi().length>0&&this._disableItemByIndex(t,!0)},_disableItemByIndex:function(t){var o,p;if(s.isNullOrUndefined(t)||"string"!=typeof t&&"number"!=typeof t||(t=t.toString().split(",")),this._isInteralCall||(this._initDisabledItems=t),!this.model.enabled)return!1;for(this.model.loadOnDemand&&(s.isNullOrUndefined(this.ultag)||0==this.ultag.children().length)&&this._showFullList(),o=this._toArray(t,!1),p=0;p<o.length;p++)null==o[p]||isNaN(parseInt(o[p]))||o.length>0&&!(a.inArray(parseInt(o[p]),this._disabledItems)>-1)&&(a.inArray(o[p],this._disabledItems),this._setClass(this._getLi()[parseInt(o[p])],"e-disable"),this._disabledItems.push(parseInt(o[p])),this.model.disableItemsByIndex=String(this._disabledItems.join(",")));this._prevDisabledItems=this._disabledItems},enableItemsByIndices:function(t){this._enableItemByIndex(t)},enableItemByIndex:function(t){this._enableItemByIndex(t)},_enableItemByIndex:function(t){var o,l,p;for(s.isNullOrUndefined(t)||"string"!=typeof t&&"number"!=typeof t||(t=t.toString().split(",")),this.model.loadOnDemand&&(s.isNullOrUndefined(this.ultag)||0==this.ultag.children().length)&&this._showFullList(),o=this._toArray(t,!1),this.model.enableItemsByIndex=t,p=0;p<o.length;p++)o.length>0&&a.inArray(parseInt(o[p]),this._disabledItems)>-1&&!isNaN(parseInt(o[p]))&&(l=a.inArray(parseInt(o[p]),this._disabledItems),this._removeClass(this._getLi()[parseInt(o[p])],"e-disable"),this._disabledItems.splice(l,1));this.model.enableItemsByIndex=null,this.model.disableItemsByIndex=this._disabledItems.join(this.model.delimiterChar)},_validateDelimiter:function(t){return 1!=this._trim(t).length||/^[a-zA-Z0-9]+$/.test(t)?",":t},_removeText:function(t){var o,l,p,g;this.removeVal=!((this.checkChange||this.delIconClick)&&(this.model.fields.text||this.model.fields.value||this.mapFld._text||this.mapFld._value)),this._unselectText&&(this.removeVal=!1,this._unselectText=!1),o=this._getUpdatedListData(this.element[0].value,!0),this.removeVal=(this.checkChange||this.delIconClick)&&(this.model.fields.text||this.model.fields.value),this._unselectText||(this._unselectText=!0),l=this._getUpdatedListData(this._visibleInput[0].value,this.model.selectedIndices.length===this._visibleInput[0].value.split(this.model.delimiterChar).length),this._unselectText=!1,p=this.getItemDataByValue(t)[0],g=this.model.fields&&this.model.fields.text?this.model.fields.text:"text",a.inArray(t,o)>=0&&o.splice(a.inArray(t,o),1),!s.isNullOrUndefined(p[g])&&a.inArray(this._decode(p[g]).toString(),l)>=0&&l.splice(a.inArray(this._decode(p[g]).toString(),l),1),a.inArray(t,this._valueContainer)>=0&&this._valueContainer.splice(a.inArray(t,this._valueContainer),1),!s.isNullOrUndefined(p[g])&&a.inArray(p[g].toString(),this._textContainer)>=0&&this._textContainer.splice(a.inArray(p[g].toString(),this._textContainer),1),this.element[0].value=o.join(this.model.delimiterChar),this._visibleInput[0].value=l.join(this.model.delimiterChar),this.removeVal=!1},_getUpdatedListData:function(t,o){var l,g,p=this.getListData();if(o)if(l=[],this.model.fields.value||this.mapFld._value)l=t.split(this.model.delimiterChar);else for(g=0;g<this.model.selectedIndices.length;g++)l.push(p[this.model.selectedIndices[g]][this.model.fields.text?this.model.fields.text:"text"]);else l=t.split(this.model.delimiterChar);var b,C=0,T=0,D=[],L=[],I="";if(this.model.fields.value||this.model.fields.text?(b=this.model.fields.text,this.removeVal||this._unselectText||(b=this.model.fields.value?this.model.fields.value:b)):(this.mapFld._text||this.mapFld._value)&&(b=this.mapFld._text,this.removeVal||this._unselectText||(b=this.mapFld._value?this.mapFld._value:b)),!s.isNullOrUndefined(p))for(;C<p.length;){if(I=this._decode(o?b?p[C][b]:p[C].text?p[C].text:p[C]:b?p[C][b]:p[C].value?p[C].value:p[C]),-1!==l.indexOf(I))o&&(l[l.indexOf(I)]=T),D.push(I),T++;else if(!o&&""===l)break;C++}for(C=0;C<T;)o?L[l.indexOf(C)]=D[C]:L[C]=D[C],C++;return L},_addText:function(t){var l,p,g,b,C,T,D,L;if(this._checkContains(this._hiddenValue)||this.value()&&this.value().split(",").indexOf(t)>0)return!1;for(l=["element","_visibleInput"],g=0;g<l.length;g++)p="element"==l[g]?this._hiddenValue:t,b="element"==l[g]?this._valueContainer:this._textContainer,this[l[g]][0].value&&""!=this[l[g]][0].value?(L=this[l[g]][0].value.split(this.model.delimiterChar),"element"==l[g]&&-1===a.inArray(p,L)?L.push(p):"_visibleInput"==l[g]&&(C=this.model.fields.text?this.model.fields.text:"text",-1!=a.inArray(p,L)?(T=this.popupListItems.filter(function(I){return I[C]==p}),D=L.filter(function(I){return I==p}),T.length>D.length&&L.push(p)):L.push(p)),this[l[g]][0].value=L.join(this.model.delimiterChar)):""==p?this[l[g]][0].value=p:""!=p&&""==this[l[g]][0].value&&(-1!=a.inArray("",b)?((L=this[l[g]][0].value.split(this.model.delimiterChar)).push(p),this[l[g]][0].value=L.join(this.model.delimiterChar)):this[l[g]][0].value=p),b.push(p)},_checkContains:function(t){if(this.contains=!1,this._rawList!==h&&(null!==this.model.dataSource||this.selectOptions!==h||null!==this.model.targetID))for(var o=0;o<this._valueContainer.length;o++)if(this._parseValue(this._valueContainer[o])===this._parseValue(t)){this.contains=!0;break}return this.contains},_parseValue:function(t){return isNaN(parseInt(t))||this.mapFld&&"string"==typeof this._rawList[0][this.mapFld._value]?t:parseInt(t)},_updateLocalConstant:function(){this._localizedLabels=s.getLocalizedConstants("ej.DropDownList",this.model.locale)},_init:function(){var t=s.browserInfo();this._updateLocalConstant(),this._isIE8="msie"==t.name&&"8.0"==t.version,this._textContent=this._isIE8?"innerText":"textContent",(this.element.is("input")&&(this.element.is("input[type=text]")||!this.element.attr("type"))||this.element.is("select"))&&(this._isWatermark="placeholder"in a(document.createElement("input")).attr("placeholder","")[0],this._id=this.element[0].id,this._initialize(),this._render(),this._addAttr(this.model.htmlAttributes),this._enabled(this.model.enabled),this._initValue=!1,this._checkboxValue=!1,this._unselectText=!1,null!=this.model.validationRules&&(this._initValidator(),this._setValidation()))},_initValidator:function(){this.element.closest("form").data("validator")||this.element.closest("form").validate()},_setValidation:function(){var t,o,l,p,g;if(0!=this.element.closest("form").length)for(l in this.element.rules("add",this.model.validationRules),(t=this.element.closest("form").data("validator"))||(t=this.element.closest("form").validate()),o=this.element.attr("name"),t.settings.messages[o]={},this.model.validationRules)if(p=null,!s.isNullOrUndefined(this.model.validationRules[l])){if(s.isNullOrUndefined(this.model.validationRules.messages&&this.model.validationRules.messages[l]))for(g in t.settings.messages[o][l]=a.validator.messages[l],this.model.validationMessage)l==g&&(p=this.model.validationMessage[l]);else p=this.model.validationRules.messages[l];t.settings.messages[o][l]=p??a.validator.messages[l]}},_setInitialPopup:function(t){this.model.enabled&&!this.model.readOnly&&(0==t?this._hideResult():this._showResult())},_changeSkin:function(t){this.wrapper.removeClass(this.model.cssClass).addClass(t),s.isNullOrUndefined(this.popupListWrapper)||this.popupListWrapper.removeClass(this.model.cssClass).addClass(t)},_setRTL:function(t){this.model.enableRTL!=t&&(this.model.enableRTL=t,this._RightToLeft(),s.isNullOrUndefined(this.popupListWrapper)||this._dropbtnRTL())},_changeHeight:function(t){this.wrapper.height(t),this._setListHeight()},_changeWidth:function(t){this.wrapper.width(t),this._setListWidth()},_setModel:function(t){var o,l,p,g,b;for(o in t)switch(o){case"dataSource":if(!this._isEqualDataSource(s.util.getVal(t[o]))){this.model.loadOnDemand&&((l=a("#"+this.element[0].id+"_popup_wrapper").get(0))&&a(l).remove(),this.popupListWrapper=h,this.inputSearch=h),this._checkModelDataBinding(s.util.getVal(t[o]),this.model.query),this._refreshScroller();break}case"query":this._checkModelDataBinding(this._dataSource(),t[o]);break;case"fields":this.model.fields=a.extend(this.model.fields,t[o]),this._checkModelDataBinding(this._dataSource(),this.model.query);break;case"itemsCount":this.model.itemsCount=t[o],this._checkModelDataBinding(this._dataSource(),this.model.query);break;case"template":this.model.template=t[o],this._checkModelDataBinding(this._dataSource(),this.model.query);break;case"value":this._optionValue=s.util.getVal(t[o]),(s.isNullOrUndefined(this._optionValue)||""===this._optionValue)&&this._clearTextboxValue(),s.isNullOrUndefined(this._optionValue)||""===this._optionValue?this._clearTextboxValue():(this._checkedValues.push(t.value),this._setValue(s.util.getVal(t[o])),t[o]=this.model.value);break;case"incrementalSearchDelay":this.model.incrementalSearchDelay=t[o];break;case"delimiterChar":p=this.model.delimiterChar,t[o]=this._validateDelimiter(t[o]),this.model.delimiterChar=t[o],this._isSingleSelect()||(this.model.text&&(this.model.text=this.model.text.split(p).join(this.model.delimiterChar),this._visibleInput.val(this.model.text)),s.isNullOrUndefined(this.value())||(this.value(this.value().split(p).join(this.model.delimiterChar)),this.element.val(this.value())));break;case"text":s.isNullOrUndefined(t[o])||""===t[o]?this._clearTextboxValue():(this._setText(t[o]),t[o]=this.model.text);break;case"itemValue":this._setItemValue(t[o]);break;case"enableRTL":this._setRTL(t[o]);break;case"enabled":this._enabled(t[o]);break;case"height":this._changeHeight(t[o]);break;case"width":this._changeWidth(t[o]);break;case"popupHeight":this.model.popupHeight=t[o],this._setListHeight(t[o]);break;case"popupWidth":this.model.popupWidth=t[o],this._setListWidth();break;case"minPopupHeight":this.model.minPopupHeight=t[o],this._setListHeight(t[o]);break;case"minPopupWidth":this.model.minPopupWidth=t[o],this._setListWidth();break;case"maxPopupHeight":this.model.maxPopupHeight=t[o],this._setListHeight(t[o]);break;case"maxPopupWidth":this.model.maxPopupWidth=t[o],this._setListWidth();break;case"popupTarget":this.model.popupTarget=t[o],this._renderPopupPanelWrapper();break;case"cssClass":this._changeSkin(t[o]);break;case"showCheckbox":this.model.showCheckbox=t[o],g=this.model.text,b=this.model.text?this.model.text.split(this.model.delimiterChar):this.model.text,this._raiseEvents=!1,this._clearTextboxValue(),this._raiseEvents=!0,this._checkboxHideShow(t[o]),this.model.showCheckbox||"none"!=this.model.multiSelectMode?("visualmode"==this.model.multiSelectMode&&this._renderBoxModel(),this._setText(g)):b&&b.length&&this._setText(b[0]),this._isPopupShown()&&this._setListPosition();break;case"checkAll":return this._setCheckAll(t[o]),!1;case"uncheckAll":return this._setUncheckAll(t[o]),!1;case"watermarkText":this._changeWatermark(t[o]);break;case"validationRules":0!=this.element.closest("form").length&&(null!=this.model.validationRules&&(this.element.rules("remove"),this.model.validationMessage=null),this.model.validationRules=t[o],null!=this.model.validationRules&&(this._initValidator(),this._setValidation()));break;case"locale":this.model.locale=t[o],this._updateLocalConstant();break;case"validationMessage":0!=this.element.closest("form").length&&(this.model.validationMessage=t[o],null!=this.model.validationRules&&null!=this.model.validationMessage&&(this._initValidator(),this._setValidation()));break;case"showRoundedCorner":this._roundedCorner(t[o]),this.model.showRoundedCorner=t[o];break;case"showPopupOnLoad":this._setInitialPopup(t[o]);break;case"targetID":this.model.targetID=t[o],this._showFullList();break;case"selectedItemIndex":case"selectedIndex":this._selectItemByIndex(t[o]),this.model.selectedItemIndex=this.model.selectedIndex=t[o];break;case"unselectItemByIndex":this._unselectItemByIndex(t[o]);break;case"disableItemsByIndex":this._disableItemByIndex(t[o]);break;case"enableItemsByIndex":this._enableItemByIndex(t[o]);break;case"selectedItems":case"selectedIndices":this._selectCheckedItem(t[o]),t[o]=this.model.selectedItems=this.model.selectedIndices=this._selectedIndices;break;case"multiSelectMode":"visualmode"==this.model.multiSelectMode&&(this._swapUlandInput(!1),this._ulBox.remove(),this._ulBox=null),this.model.multiSelectMode=t[o],g=this.model.text,b=this.model.text?this.model.text.split(this.model.delimiterChar):this.model.text,this._raiseEvents=!1,this._clearTextboxValue(),this._raiseEvents=!0,this.model.showCheckbox||"none"!=this.model.multiSelectMode?("visualmode"==this.model.multiSelectMode&&this._renderBoxModel(),this._setText(g)):(this._setText(b[0]),this.wrapper.find("input[name="+this._name+"]").remove()),this._isPopupShown()&&this._setListPosition();break;case"allowGrouping":this._setGroupingAndSorting("allowGrouping",t[o]);break;case"enableSorting":this._setGroupingAndSorting("enableSorting",t[o]);break;case"htmlAttributes":this._addAttr(t[o]);break;case"enablePopupResize":this.model.enablePopupResize=t[o],t[o]?this._enablePopupResize():this.popupListWrapper.removeClass("e-resizable").find(".e-resizebar").remove()&&this._hideResult();break;case"enableFilterSearch":if(t[o]){this.model.enableFilterSearch=!0,this._enableSearch();break}this._removeSearch();case"enableServerFiltering":this._enableSearch()}},_clearTextboxValue:function(){this.element.val(""),this._visibleInput.val(""),this._updateValue(""),this._valueContainer=[],this._boxValue=[],this._textContainer=[],this.selectedTextValue=this._selectedValue=this._hiddenValue=this.model.itemValue="",this._updateText(),this.selectedIndexValue=this._hiddenDelimiterIndex=this._activeItem=-1,this._selectedItemsID=[],this._selectedIndices=[],this.model.selectedItems=[],this.model.selectedIndices=[],this.selectedIndex(null),s.isNullOrUndefined(this.ultag)||(this.ultag.children("li").removeClass("e-hover").removeClass("e-active"),this.model.showCheckbox&&this._resetCheck()),0!=this.wrapper.find("ul.e-ul.e-boxes").length&&(this._ulBox.children("li").remove(),""===this._name?this.wrapper.find("input:hidden[id^='#']").remove():this.wrapper.find("input:hidden[id^='#'][name="+this._name+"]").remove(),a(this.element).attr("name",this._name))},_destroy:function(){this.selectOptions?(!this._dataSource()&&this.docbdy?this.docbdy.append(this.selectOptions.removeClass("e-dropdownlist e-js").show()).show():this.selectOptions.insertAfter(this.wrapper).removeClass("e-dropdownlist e-js").show(),this.element.remove()):(this.element.insertAfter(this.wrapper),this.element.width(this.element.width()+this.dropdownbutton.outerWidth()),this._visibleInput.removeClass("e-input "),this._setAttr(this.element[0],{accesskey:this.wrapper.attr("accesskey"),type:"text"}),this._isWatermark&&this._visibleInput.removeAttr("placeholder"),this.element[0].value="",this.element.removeAttr("aria-expanded aria-autocomplete aria-haspopup aria-owns accesskey role").css({width:"",display:"block"}),!this._dataSource()&&this.docbdy&&this.ultag.find("li").removeClass("e-active")&&this.docbdy.append(this.ultag.html()).show()),this.wrapper.remove(),this.container.off("mousedown",a.proxy(this._OnDropdownClick,this)),this._hideResult(),this.popupPanelWrapper.remove(),this._unwireEvents()},_finalize:function(){""==this.value()&&""!==this._visibleInput[0].value&&this._updateValue(this.element[0].value),(s.isNullOrUndefined(this.value())||""!=this.value())&&this.value()===this.element.val()||this._setValue(this.value()),(s.isNullOrUndefined(this.model.text)||""!=this.model.text)&&this.model.text==this._visibleInput.val()||this._setText(this.model.text),this.selectedIndex(-1!=this.selectedIndex()?this.selectedIndex():this.selectedItemIndex()),-1!=this.selectedIndex()?this._selectItemByIndex(this.selectedIndex()):this._selectedIndices.length>0&&this._selectCheckedItem(this._selectedIndices),null!=this.model.disableItemsByIndex&&this._disableItemByIndex(this.model.disableItemsByIndex),null!=this.model.enableItemsByIndex&&this._enableItemByIndex(this.model.enableItemsByIndex)},_initialize:function(){this._selectedIndices=this.model.selectedIndices.length>0?this.model.selectedIndices:this.model.selectedItems,this.model.selectedItems=this.model.selectedIndices=this._selectedIndices,this.model.selectedIndex=-1!=this.model.selectedIndex?this.model.selectedIndex:this.model.selectedItemIndex,this.element.is("select")&&(this.selectelement=!0,this._renderSelectToDropdown()),this._initDisabledItems=[],this._isInteralCall=!1,this._prevSearchValue="",this._selectedItemsID=[],this._hiddenInputElement=[],this._boxValue=[],this._valueContainer=[],this._textContainer=[],this._checkedValues=[],this.target=this.element[0],this._disabledItems=[],this._queryString=null,this.suggLen=0,this._itemId=null,this.checkedStatus=!1,this._incqueryString="",this._activeItem=null,this.ddWidth=0,this._initValue=!0,this._virtualCount=0,this._raiseEvents=!0,this.popUpShow=!1,this._matchedListItems=[],this._prevQueryString=""},_renderSelectToDropdown:function(){var t,o,l,p;if(this.inputElement=s.buildTag("input.e-dropdownlist#"+this._id+"_input","",{},{type:"text","data-role":"none"}),this.inputElement.insertAfter(this.element),this.element.attr("name")&&(this.inputElement.attr("name",this.element.attr("name")),this.element.removeAttr("name")),this.selectOptions=this.element,this.selectOptions.attr("id",this._id),null==this._dataSource()){for(this.optionDiv=s.buildTag("div#"+this._id+"_list"),this.optionDiv.insertAfter(this.inputElement),this.optionUl=s.buildTag("ul"),this.optionDiv.append(this.optionUl),this.selectOptionItems=this.element.children("option"),o=this.selectOptionItems.length,this.optionDummyUl=a(),t=0;t<o;t++)null!=(l=a(p=this.selectOptionItems[t]).attr("label")?a(p).attr("label"):p.innerHTML)&&(this.optionLi=s.buildTag("li",l,{},{"data-value":p.value,unselectable:"on"}),this.optionDummyUl.push(this.optionLi[0]),a(p).attr("selected")&&this.model.showCheckbox&&(-1==a.inArray(t,this._selectedIndices)?(this._selectedIndices.push(t),this.model.selectedItems=this.model.selectedIndices=this._selectedIndices):s.isNullOrUndefined(this.selectedIndex())&&this.selectedIndex(t)));this.optionUl.append(this.optionDummyUl)}this.element.css("display","none"),this.element=this.inputElement},_render:function(){var t,o;this._renderDropdown(),this._setWatermark(),this.model.loadOnDemand&&(!this._dataSource()||0!==this._dataSource().length&&this._dataSource().length<1)&&(t=this.element.parents().last(),this.docbdy=this.model.targetID?t.find("#"+this.model.targetID):this.optionDiv?this.optionDiv:null,this.itemsContainer="UL"==this.docbdy[0].nodeName?this.docbdy:this.docbdy.children("ol,ul"),this.itemsContainer.css("display","none")),this.model.loadOnDemand||(this._renderPopupPanelWrapper(),this._showFullList()),this._roundedCorner(this.model.showRoundedCorner),o=this._dataSource(),s.DataManager&&o instanceof s.DataManager?o.dataSource.offline&&o.dataSource.json&&o.dataSource.json.length>0&&this._finalize():this._finalize(),s.DataManager&&this._dataSource()instanceof s.DataManager||this._finalize(),this.model.loadOnDemand&&s.DataManager&&this._dataSource()instanceof s.DataManager&&!this._dataSource().dataSource.offline&&this._finalize(),this._setCheckAll(this.model.checkAll),(this.element.attr("disabled")||a(this.selectOptions).attr("disabled"))&&this.disable(),this.model.loadOnDemand&&this.model.showPopupOnLoad&&this._showResult()},_isEqualDataSource:function(t){var o,l,p;if(!this._dataSource()||!t||this._rawList&&this._rawList.length!==t.length||s.DataManager&&t instanceof s.DataManager||s.isNullOrUndefined(this._rawList)||0===this._dataSource().length)return!1;for(o=!0,l=0,p=this._dataSource().length;l<p;l++)if(this._dataSource()[l]!==t[l]){o=!1;break}return o},_checkModelDataBinding:function(t,o){this.element.val(""),this._visibleInput.val(""),null!==this.value()&&""!==this.value()&&this._updateValue(""),this.selectedTextValue=this._selectedValue=this._hiddenValue="",this._updateText(),this.selectedIndexValue=this._hiddenDelimiterIndex=this._activeItem=-1,this._selectedItemsID=[],this._textContainer=[],this._valueContainer=[],s.isNullOrUndefined(t)&&s.isNullOrUndefined(this.model.query)&&s.isNullOrUndefined(this.model.template)&&0==this.model.itemsCount&&(this._rawList=[],this.popupListItems=[],this.listitems=[],this.ultag=this.popupListWrapper.find(".e-ul")),this.model.selectedItems=this.model.selectedIndices=this._selectedIndices=[],this.model.selectedIndex=this.model.selectedItemIndex=-1,"visualmode"==this.model.multiSelectMode&&this._destroyBoxModel(),JSON.stringify(this._dataSource())!=JSON.stringify(t)&&this._dataSource(t),this.model.query=o,s.isNullOrUndefined(this.ultag)||this.ultag.empty(),this._showFullList()},_initDataSource:function(t){var o=this;s.DataManager&&t instanceof s.DataManager&&(o._addLoadingClass(),o._trigger("actionBegin",{requestFrom:"default"})||t.executeQuery(this._getQuery()).done(function(p){o._trigger("actionSuccess",{e:p,requestFrom:"default"}),o._totalCount=p.count,o._listItem(p.result),o._removeLoadingClass(),o._renderPopupList(),o._finalize(),o._setDynamicSelectByVal(o,o._optionValue,p),this._optionValue=null}).fail(function(p){o._dataSource(null),o._addLoadingClass(),o._trigger("actionFailure",{e:p,requestFrom:"default"})}).always(function(p){o._trigger("actionComplete",{e:p,requestFrom:"default"})}))},_listItem:function(t,o){"add"==o?(this.popupListItems.push(t),this._rawList.push(t)):a.isArray(t)&&(this.popupListItems=t.slice(0),this._rawList=t.slice(0))},_getQuery:function(t){var o,g,b,l=this.model.fields,p=s.Query();if(!s.isNullOrUndefined(this.model.query)||this.model.template||t)this.model.query&&(p=this.model.query.clone());else{for(b in g=[],l)"tableName"!==b&&l[b]&&g.push(l[b]);g.length>0&&p.select(g)}return this.model.allowVirtualScrolling&&p.requiresCount(),this.model.itemsCount>0&&p.take(this.model.itemsCount),o=this._dataSource().dataSource,l&&(o&&o.url&&!o.url.match(l.tableName+"$")||o&&!o.url||!o)&&(s.isNullOrUndefined(l.tableName)||p.from(l.tableName)),p},_addLoadingClass:function(){this._isPopupShown()?this.popupListWrapper.addClass("e-load"):(this.dropdownbutton.addClass("e-load"),this.drpbtnspan.removeClass("e-icon e-arrow-sans-down")),this._readOnly=!0},_removeLoadingClass:function(){this.dropdownbutton.removeClass("e-load"),this.drpbtnspan.addClass("e-icon e-arrow-sans-down"),this._readOnly=!1,s.isNullOrUndefined(this.popupListWrapper)||this.popupListWrapper.removeClass("e-load")},_renderDropdown:function(){if(this.wrapper=s.buildTag("span.e-ddl e-widget "+this.model.cssClass+"#"+this._id+"_wrapper","",{},{accesskey:this.element.attr("accesskey"),role:"listbox","aria-expanded":!1,"aria-haspopup":!0,"aria-owns":this._id+"_popup",tabIndex:"0"}),this.container=s.buildTag("span.e-in-wrap e-box #"+this._id+"_container"),this.element.removeAttr("accesskey"),null==this.model.value&&null!=this.element.attr("value")&&(this.model.value=this.element.attr("value")),this.element.attr("value","").val(""),this._isIE8?this._setAttr(this.element[0],{unselectable:"on"}).element.hide():this._setAttr(this.element[0],{type:"hidden",unselectable:"on"}).element.hide(),this.drpbtnspan=s.buildTag("span.e-icon e-arrow-sans-down","",{},{"aria-label":"select",unselectable:"on"}),this.dropdownbutton=s.buildTag("span.e-select#"+this._id+"_dropdown","",{},{role:"button",unselectable:"on"}).append(this.drpbtnspan),this.container.insertAfter(this.element),this.container.append(this.element),this.container.append(this.dropdownbutton),this.wrapper.insertBefore(this.container),this.wrapper.append(this.container),this.selectelement&&this.selectOptions.insertBefore(this.element),this._visibleInput=s.buildTag("input#"+this._id+"_hidden","",{}).insertAfter(this.element),this._visibleInput.addClass("e-input "),this._setAttr(this._visibleInput[0],{readonly:"readonly",tabindex:"-1","data-role":"textbox"}),!this._isWatermark){var t=null!=this.model.watermarkText?this.model.watermarkText:this._localizedLabels.watermarkText;this._hiddenSpan=s.buildTag("span.e-input e-placeholder ").insertAfter(this.element),this._hiddenSpan.text(t),this._hiddenSpan.css("display","none"),this._hiddenSpan.on("mousedown",a.proxy(this._OnDropdownClick,this))}this._checkNameAttr(),this._setDimentions(),this._RightToLeft(),this.ddWidth=this.dropdownbutton.outerWidth()>0?this.dropdownbutton.outerWidth():24,this.container.on("mousedown",a.proxy(this._OnDropdownClick,this))},_checkNameAttr:function(){this._name=s.isNullOrUndefined(this.element.attr("name"))?this._id:this.element.attr("name"),this.element.attr("name",this._name)},_addAttr:function(t){var o=this;a.map(t,function(l,p){var g=p.toLowerCase();"class"==g?o.wrapper.addClass(l):"disabled"==g&&"disabled"==l?o.disable():"readOnly"==g&&"readOnly"==l?o.model.readOnly=!0:"style"==g?o.wrapper.attr(p,l):"name"==g?a(o.element).attr(p,l):s.isValidAttr(o._visibleInput[0],p)?a(o._visibleInput).attr(p,l):o.wrapper.attr(p,l)})},_renderBoxModel:function(){if(!s.isNullOrUndefined(this._ulBox)||"visualmode"!=this.model.multiSelectMode)return!1;this._ulBox=s.buildTag("ul.e-ul e-boxes"),this.container.prepend(this._ulBox),this._ulBox.css("min-height","30px"),this._ulBox.css("display","none"),this._on(this.container,"click",function(t){if(!this.model.enabled)return!1;var o=a(t.target);o.hasClass("e-options")&&(!t.ctrlKey&&o.siblings().hasClass("e-active")&&this._removeActive(),o.hasClass("e-active")?o.removeClass("e-active"):o.addClass("e-active")),!t.ctrlKey&&o.hasClass("e-boxes")&&this._removeActive()})},_renderPopupPanelWrapper:function(){var t=a("#"+this.element[0].id+"_popup_wrapper").get(0);t&&a(t).remove(),this.popupPanelWrapper=s.buildTag("div#"+this._id+"_popup_wrapper"),a(this.model.popupTarget).append(this.popupPanelWrapper),this.popupListWrapper=s.buildTag("div.e-ddl-popup e-box e-widget  e-popup#"+this._id+"_popup_list_wrapper","",{display:"none",overflow:"hidden"}),this._setAttr(this.popupListWrapper[0],{"data-role":"popup","aria-hidden":!0}),this.popupList=s.buildTag("div",{tabIndex:0}),this.popupListWrapper.addClass(this.model.cssClass),this.popup=this.popupList,this.popupScroller=s.buildTag("div"),s.isNullOrUndefined(this.ultag)&&(this.ultag=s.buildTag("ul.e-ul","",{},{role:"listbox"})),this._setAttr(this.ultag[0],{id:this._id+"_popup","aria-hidden":!0,unselectable:"on"}),this.popupScroller.append(this.ultag),this.popupList.append(this.popupScroller),this.model.headerTemplate&&(this.headerTemplate=a("<div>").append(this.model.headerTemplate),this.popupListWrapper.append(this.headerTemplate)),this.popupListWrapper.append(this.popupList),this.popupPanelWrapper.append(this.popupListWrapper),this.ultag.on({mouseenter:a.proxy(this._OnMouseEnter,this),mouseleave:a.proxy(this._OnMouseLeave,this),click:a.proxy(this._OnMouseClick,this)},"li:not('.e-category')"),s.isTouchDevice()&&this.ultag.on({tap:a.proxy(this._OnMouseEnter,this)},"li:not('.e-category')"),a(window).on("resize",a.proxy(this._OnWindowResize,this))},_updateText:function(){var t=this._visibleInput.val();this.model.text=""==t?0==this._textContainer.length?null:"":t},_updateValue:function(t){this.value(""==t?0==this._valueContainer.length?null:"":t)},_setGroupingAndSorting:function(t,o){var l,p,g;if(this.model[t]=o,l=this.model.text,this._updateValue(""),this._selectedIndices=[],this.ultag.empty(),this._showFullList(),this.model.showCheckbox&&l)for(p=l.split(this.model.delimiterChar),g=0;g<p.length;g++)this.selectItemByText(p[g]);else this.selectItemByText(l)},_setSortingList:function(){var o,l,t=document.createElement("ul");if(a(t).append(this.itemsContainer.children()),this.model.allowGrouping||a(t).find(">.e-category").length>0)for(this.popupListWrapper.addClass("e-atc-popup"),o=0;o<a(t).find(">.e-category").length;o++)l=a(t).find(">.e-category").eq(0).first().nextUntil(".e-category").get(),this._setSortList(t,l);else a(t).children(">.e-category").remove(),l=a(t).children("li").get(),this._setSortList(t,l);this.itemsContainer=a(t)},_setSortList:function(t,o){o.sort(function(l,p){var g=a(l).text().toUpperCase(),b=a(p).text().toUpperCase();return g<b?-1:g>b?1:0}),"descending"==this.model.sortOrder&&o.reverse(),(this.model.allowGrouping||a(t).find(">.e-category").length>0)&&(a(t).append(a("<li>").text(a(t).find(">.e-category").eq(0).text()).addClass("e-category")),a(t).find(">.e-category").eq(0).remove()),a.each(o,function(l,p){a(t).append(p)})},_renderPopupList:function(){this._doDataBind(),this.model.loadOnDemand&&s.DataManager&&this._dataSource()instanceof s.DataManager&&!this._dataSource().dataSource.offline&&this.model.showCheckbox&&this._checkboxHideShow(this.model.showCheckbox),(s.isNullOrUndefined(this.scrollerObj)||null==this._ulBox)&&this._renderRemaining(),this.model.loadOnDemand&&this.popUpShow&&s.DataManager&&this._dataSource()instanceof s.DataManager&&!this._dataSource().dataSource.offline&&(this._refreshPopup(),this._refreshScroller())},_renderRemaining:function(){var t=this;s.isNullOrUndefined(this.popupListWrapper)||this._dropbtnRTL(),this.model.enableFilterSearch&&this._enableSearch(),this.model.enablePopupResize&&this._enablePopupResize(),this.model.allowVirtualScrolling&&"normal"==this.model.virtualScrollMode&&this._totalCount&&this._totalCount>0&&(this._totalHeight=29*this._totalCount,this._totalPages=this._totalCount/(29*this.model.itemsCount),this._loadedItemHeight=29*this._getLi().length,this._getLi().attr("page",0),this._virtualPages=[0],this.ultag.append(a("<span>").addClass("e-virtual").css({height:this._totalHeight-this._loadedItemHeight,display:"block"}))),this._virtualUl=this.ultag.clone(!0),s.isNullOrUndefined(this.popupListWrapper)||(this._setListWidth(),this._setListHeight()),this._isSingleSelect()||(this.model.showCheckbox?this._checkboxHideShow(this.model.showCheckbox):this._multiItemSelection(this._getLi())),this._setUncheckAll(this.model.uncheckAll),s.isNullOrUndefined(this.popupListWrapper)||(this.popupScroller.css({height:"",width:""}),this.popupList.ejScroller({height:this._getPopupHeight(),width:0,scrollerSize:20,scroll:function(o){t.model.allowVirtualScrolling&&t._onScroll(o)},preventDefault:!0}),this.scrollerObj=this.popupList.ejScroller("instance"),this.popupList.find("div.e-scrollbar div").attr("unselectable","on"),this._setListPosition(),this.popUpShow||this.popupListWrapper.css({display:"none",visibility:"visible"}),this._changeSkin(this.model.cssClass)),this.model.loadOnDemand||this.model.showPopupOnLoad&&this._showResult()},_enableSearch:function(){if(this.model.enableFilterSearch&&!s.isNullOrUndefined(this.popupListWrapper)&&!this.inputSearch){this.inputSearch=s.buildTag("input#"+this._id+"_inputSearch.e-input","",{},{type:"text","data-role":"none"}),this.popupListWrapper.prepend(a("<span>").addClass("e-atc e-search").append(a("<span>").addClass("e-in-wrap ").append(this.inputSearch).append(a("<span>").addClass(" e-icon e-search"))));var t=this.model.enableServerFiltering?this._debounce(this._OnSearchEnter,200):this._OnSearchEnter;this._on(this.inputSearch,"keyup",t)._on(this.inputSearch,"keydown",function(o){9==(o.keyCode||o.which)&&(o.preventDefault(),this.wrapper.focus(),this._hideResult())})}},_removeSearch:function(){this.model.enableFilterSearch=!1,this.popupListWrapper.find(".e-atc.e-search").remove(),this._isPopupShown()&&this.hidePopup(),this.inputSearch=null},_OnSearchEnter:function(t){var l,p;(""==this._prevSearchValue||this._prevSearchValue!=this.inputSearch.val())&&(this._prevSearchValue=this.inputSearch.val(),s.isNullOrUndefined(this._rawList)||(8==t.keyCode&&this.model.enableFilterSearch&&(this._disabledItems=this._initDisabledItems,this._prevDisabledItems=this._disabledItems),this,-1!=a.inArray(t.keyCode,[38,40,13])&&this.ultag.find("li.e-nosuggestion").length<=0?13==t.keyCode?this._OnKeyUp(t):this._OnKeyDown(t):(this._activeItem=-1,this._queryString=this.inputSearch.val(),""==this._queryString&&this._virtualUl?(this._trigger("search",p={searchString:this._queryString,searchQuery:null,items:this._rawList}),this._resetList(t),this._updateSelectedIndexByValue(this.value()),this._refreshScroller(),this._setListPosition(),this._prevDisabledItems&&this._prevDisabledItems.length>0&&(this._disabledItems=[],this._isInteralCall=!0,this.disableItemsByIndices(this._prevDisabledItems),this._isInteralCall=!1,this._prevDisabledItems=this._disabledItems)):(this._mapFields(),l=this._addSearchQuery(s.Query(),!this._isPlainType(this._rawList)),p={searchString:this._queryString,items:this._rawList,searchQuery:l},this.popupListWrapper.find(".e-atc.e-search .e-search").addClass("e-cross-circle").removeClass("e-search"),this._on(this.popupListWrapper.find(".e-atc.e-search .e-cross-circle"),"mousedown",this._refreshSearch),this._trigger("search",p)||this._onActionComplete(p)))))},_debounce:function(t,o){var l,p=this;return function(){var g=arguments;clearTimeout(l),l=setTimeout(function(){return l=null,t.apply(p,g)},o)}},_onActionComplete:function(l){var p,o=this;this._queryString=this.inputSearch.val(),p=this._addSearchQuery(s.Query(),!this._isPlainType(this._rawList)),l={searchString:this._queryString,items:this._rawList,searchQuery:p},s.DataManager&&this._dataSource()instanceof s.DataManager&&this.model.enableServerFiltering&&("Caret"==window.getSelection().type||"msie"==s.browserInfo().name)?(p=l.searchQuery.clone(),o._dataSource().executeQuery(p).done(function(b){o._filterSearch(l.searchQuery,b)})):o._filterSearch(p,l)},_refreshSearch:function(){this._resetSearch(),this._refreshPopup(),this._initDisabledItems&&this._initDisabledItems.length>0&&(this._disabledItems=[],this.disableItemsByIndices(this._initDisabledItems),this._prevDisabledItems=this._disabledItems)},_filterSearch:function(t,o){var p,g,b,C,l=!1;this.resultList=o.result?o.result:s.DataManager(this._rawList).executeLocal(t),0==this.resultList.length&&(l=!0,this.resultList.push(this._getLocalizedLabels("emptyResultText"))),p=[],this._initDisabledItems.forEach(function(D){this._rawList.forEach(function(L){this._rawList.indexOf(L)==D&&p.push(L)},this)},this),g=[],p.length>0&&this.resultList.forEach(function(D){p.indexOf(D)>=0&&g.push(this.resultList.indexOf(D))},this),this.popupListItems=this.resultList,this.ultag.empty(),this._isPlainType(this.popupListItems)?this._plainArrayTypeBinding(this.resultList):this._objectArrayTypeBinding(this.resultList,"search"),l&&1==this.ultag.find("li").length&&this.ultag.find("li").eq(0).addClass("e-nosuggestion"),this.model.showCheckbox&&!l&&this._appendCheckbox(this._getLi()),this._onSearch=!0,b=this.value(),C=this._visibleInput[0].value,this._setValue(this.value()),("function"==typeof this.model.value?this.model.value():this.model.value)!=b&&(this.element[0].value=b,this._visibleInput[0].value=C,this.model.text=""==C?null:C,this.value()==b||null==this.value()&&""==b||this._updateValue(b)),this._onSearch=!1,this._updateSelectedIndexByValue(this.value()),this._refreshScroller(),this._setListPosition(),this._prevDisabledItems=this._disabledItems,this._disabledItems=[],g.length>0&&(this._isInteralCall=!0,this.disableItemsByIndices(g),this._isInteralCall=!1)},_updateSelectedIndexByValue:function(t){var o,l,p;if(t&&this.model.enableFilterSearch){for(this._selectedIndices=this.model.selectedItems=this.model.selectedIndices=[],this._virtualList=this._virtualUl.children("li:not('.e-category')"),o=this._toArray(t),l=0;l<o.length;l++)for(p=0;p<this._virtualList.length;p++)if(o[l]==this._getIndexedValue(this._virtualList[p])){-1==a.inArray(p,this._selectedIndices)&&this._selectedIndices.push(p);break}this.model.selectedItems=this.model.selectedIndices=this._selectedIndices,1==this.model.selectedIndices.length&&(this.model.selectedIndex=this.selectedIndexValue=this.model.selectedIndices[0])}},_getIndexedValue:function(t){return this._getAttributeValue(t)?this._getAttributeValue(t):t.innerText},_resetSearch:function(){this.inputSearch&&this.model&&this.model.enableFilterSearch&&""!=this.inputSearch.val()&&this._virtualUl&&(this.inputSearch.val(""),this._prevSearchValue="",this._resetList())},_resetList:function(t){var o,l,p;if(1==this.popupListWrapper.find(".e-atc.e-search .e-cross-circle").length&&(this.popupListWrapper.find(".e-atc.e-search .e-cross-circle").addClass("e-search").removeClass("e-cross-circle"),this._off(this.popupListWrapper.find(".e-atc.e-search .e-cross-circle"),"mousedown",this._refreshSearch)),this.model.enableServerFiltering){for(o=this.model.fields&&this.model.fields.value?this.model.fields.value:"value",l=0;l<this._rawList.length;l++)this._rawList[l][o]==this._selectedValue&&(this._searchresult=null);s.isNullOrUndefined(this._searchresult)||this.model.allowVirtualScrolling&&"normal"==this.model.virtualScrollMode||this.addItem(this._searchresult)}this._listItem(this._rawList),this.model.enableSorting&&(p=s.Query().sortBy(this.mapFld._text,this.model.sortOrder,!0),this._rawList=s.DataManager(this._rawList).executeLocal(p),this.popupListItems=this._rawList),this.ultag.empty().append(this._virtualUl.children().clone(!0)),this._onSearch=!0,this._setValue(this.value(),t),this._onSearch=!1,this._searchresult=[],this._initDisabledItems&&this._initDisabledItems.length>0&&(this._disabledItems=[],this.disableItemsByIndices(this._initDisabledItems),this._prevDisabledItems=this._disabledItems)},_addSearchQuery:function(t,o){var p,l="";return o&&(l=(p=this.model.fields)&&p.text?p.text:"text"),this._queryString&&t.where(l,this.model.filterType,this._queryString,!this.model.caseSensitiveSearch),this.model.itemsCount>0&&t.take(this.model.itemsCount),t},_targetElementBinding:function(){var o,l,p,g,b,t=this.element.parents().last();if(this.docbdy=this.model.targetID?t.find("#"+this.model.targetID):this.optionDiv?this.optionDiv:null,!this.docbdy)return!1;if(this.itemsContainer="UL"==this.docbdy[0].nodeName?this.docbdy:this.docbdy.children("ol,ul"),(this.model.allowGrouping||this.itemsContainer.find(">.e-category").length>0)&&!this.model.enableSorting)for(this.popupListWrapper.addClass("e-atc-popup"),o=0;o<this.itemsContainer.find(">.e-category").length;o++)(l=this.itemsContainer.find(">.e-category").eq(o)).replaceWith(a("<li>").text(l.text()).addClass("e-category"));else this.model.enableSorting&&this._setSortingList();for(this.itemsContainer.children("ol,ul").remove(),this.items=this.model.loadOnDemand?this.itemsContainer.children().length>0?this.itemsContainer.children("li"):this.items:this.itemsContainer.children("li"),this.items.children("img,div").addClass("e-align"),this._listItem([]),p=0;p<this.items.length;p++)g=a(this.items[p]).text(),b=this._getAttributeValue(this.items[p]),this.items[p].getAttribute("id")&&""!=this.items[p].getAttribute("id")||a(this.items[p]).attr("id",this._id+"_"+p+"_popup_option"),a(this.items[p]).attr("data-value")||a(this.items[p]).attr("data-value",b||g),this._listItem({text:g,value:b||g},"add");this.model.loadOnDemand?this.ultag.empty().append(this.items):this.ultag.empty().append(this.itemsContainer.children()),this.ultag.children("li").attr("role","option").attr("unselectable","on").attr("aria-selected","false").attr("tabindex","-1"),this.docbdy.css({display:"none"}).children("ol,ul").remove()},_plainArrayTypeBinding:function(t){var o,l;if(this.dummyUl=a(),this.model.enableSorting&&(t.sort(),"descending"==this.model.sortOrder&&t.reverse()),t.length>0){for(o=0;o<t.length;o++)s.isNullOrUndefined(t[o])||(l=s.buildTag("li",t[o],{},{"data-value":t[o],unselectable:"on"}),this.dummyUl.push(l[0]));this.ultag.append(this.dummyUl),this._trigger("dataBound",{data:t})}},_mapFields:function(){this.model.fields.groupBy=this.model.fields.groupBy?this.model.fields.groupBy:this.model.fields.category;var t=this.model.fields;this.mapFld={_id:null,_imageUrl:null,_imageAttributes:null,_spriteCSS:null,_text:null,_value:null,_htmlAttributes:null,_selected:null},this.mapFld._id=t&&t.id?t.id:"id",this.mapFld._imageUrl=t&&t.imageUrl?t.imageUrl:"imageUrl",this.mapFld._imageAttributes=t&&t.imageAttributes?t.imageAttributes:"imageAttributes",this.mapFld._spriteCSS=t&&t.spriteCssClass?t.spriteCssClass:"spriteCssClass",this.mapFld._text=t&&t.text?t.text:"text",this.mapFld._value=t&&t.value?t.value:"value",this.mapFld._htmlAttributes=t&&t.htmlAttributes?t.htmlAttributes:"htmlAttributes",this.mapFld._selected=t&&t.selected?t.selected:"selected",this.mapFld._category=t&&t.groupBy?t.groupBy:"groupBy"},_doDataBind:function(){var t=this._dataSource(),o=this.popupListItems;!t||!o||!o.length||o.length<1?this._targetElementBinding():this._isPlainType(o)?this._plainArrayTypeBinding(o):this._objectArrayTypeBinding(o)},_isPlainType:function(t){return"object"!=typeof t[0]},_objectArrayTypeBinding:function(t,o){var l,p,g,b,C,T;if(this.dummyUl=a(),this._mapFields(),this.model.enableSorting&&(l=s.Query().sortBy(this.mapFld._text,this.model.sortOrder,!0),t=s.DataManager(t).executeLocal(l),this.popupListItems=t),this.model.allowGrouping||this.model.fields.groupBy)for(s.isNullOrUndefined(this.popupListWrapper)||this.popupListWrapper.addClass("e-atc-popup"),p=this.mapFld._category,b=s.Query().group(p),this.model.enableSorting||b.queries.splice(0,1),g=s.DataManager(t).executeLocal(b),this._swapUnCategorized(g),"search"==o?this.popupListItems=[]:this._listItem([]),C=0;C<g.length;C++)for(g[C].key&&this.ultag.append(s.buildTag("li.e-category",g[C].key).attr("role","option")[0]),this._generateLi(g[C].items,this.mapFld),this.ultag.append(this.dummyUl),T=0;T<g[C].items.length;T++)"search"==o?this.popupListItems.push(g[C].items[T]):this._listItem(g[C].items[T],"add");else this._generateLi(t,this.mapFld),this.ultag.append(this.dummyUl);this._trigger("dataBound",{data:t})},_onScroll:function(t){var o,p;if(t.scrollTop){var g=t.scrollTop,b=this,C=this._dataSource();b.model.allowVirtualScrolling&&"continuous"==b.model.virtualScrollMode?(p=s.Query().skip(b._rawList.length).take(b.model.itemsCount).clone(),g>=Math.round(a(b.popupList).find("ul,ol").height()-a(b.popupList).height())&&b._rawList.length<b._totalCount&&(b._addLoadingClass(),s.DataManager&&b._dataSource()instanceof s.DataManager&&!s.isNullOrUndefined(b._dataSource().dataSource.url)?(p=b.inputSearch&&""!=b.inputSearch.val()&&this.model.enableServerFiltering?b._addSearchQuery(s.Query(),!b._isPlainType(b._rawList)).skip(b._getLi().length).clone():b._getQuery().skip(b._rawList.length).take(b.model.itemsCount).clone(),b._trigger("actionBegin",{requestFrom:"scroll"})||b._dataSource().executeQuery(p).done(function(T){!s.isNullOrUndefined(b.model.value)&&b.model.enableServerFiltering&&(T.result=b._removeSelectedValue(T.result)),b.addItem(T.result),b._removeLoadingClass(),b._trigger("actionSuccess",{e:T,requestFrom:"scroll"})}).fail(function(){b._dataSource(null),b._removeLoadingClass(),b._trigger("actionFailure",{e:t,requestFrom:"scroll"})}).always(function(T){b._trigger("actionComplete",{e:T,requestFrom:"scroll"})})):s.DataManager&&C instanceof s.DataManager&&C.dataSource.offline&&C.dataSource.json&&C.dataSource.json.length>0?(b.addItem(this._localDataVirtualScroll()),window.setTimeout(function(){b._removeLoadingClass()},100)):(o=s.DataManager(b._dataSource()).executeLocal(p),b.addItem(b._removeSelectedValue(o)),b._removeLoadingClass()))):b.model.allowVirtualScrolling&&"normal"==b.model.virtualScrollMode&&window.setTimeout(function(){0==b._virtualCount&&b._loadList()},300)}},_localDataVirtualScroll:function(){var t=this,o=s.isNullOrUndefined(t.value())?0:"number"==typeof t.value()?1:t.value().split(t.model.delimiterChar).length,l=t._checkValue?t._rawList.length-o:t._rawList.length,p=s.DataManager(t._dataSource().dataSource.json).executeLocal(s.Query().skip(l).take(t.model.itemsCount).clone());return t._removeSelectedValue(p)},_removeSelectedValue:function(t){var o,l,p;if(s.isNullOrUndefined(this.value()))return t;for(o="number"==typeof this.value()?this.value():this.value().split(this.model.delimiterChar),l=0;l<o.length;l++)for(p=0;p<t.length;p++)t[p][this.mapFld._value]==o[l]&&t.splice(t.indexOf(t[p]),1);return t},_loadList:function(){var t,o,p,g,b;this._virtualCount++;var I,C=this._dataSource(),T=this.scrollerObj.scrollTop(),D=this,L=0,R=null;if(this._currentPage=Math.round(T/(29*this.model.itemsCount)),this._virtualPages){if(-1!=a.inArray(this._currentPage,this._virtualPages.sort(function(V,F){return V-F})))if(0==this._currentPage){if(-1!=a.inArray(this._currentPage+1,this._virtualPages))return this._virtualCount--,!1;this._currentPage=this._currentPage+1}else if(-1!=a.inArray(this._currentPage-1,this._virtualPages)){if(-1!=a.inArray(this._currentPage+1,this._virtualPages))return this._virtualCount--,!1;this._currentPage=this._currentPage+1}else this._currentPage=this._currentPage-1;for(I=-1==a.inArray(this._currentPage-1,this._virtualPages),this._addLoadingClass(),t=this._virtualPages.length-1;t>=0;t--)if(this._virtualPages[t]<this._currentPage){L=this._virtualPages[t],t+1==this._virtualPages.length||(R=this._virtualPages[t+1]);break}}if(o=I?(this._currentPage-1)*this.model.itemsCount:this._currentPage*this.model.itemsCount,b=s.Query().range(o,this._currentPage*this.model.itemsCount+this.model.itemsCount),s.DataManager&&D._dataSource()instanceof s.DataManager&&!s.isNullOrUndefined(D._dataSource().dataSource.url)){if(g=I?(this._currentPage-1)*this.model.itemsCount:this._currentPage*this.model.itemsCount,b=this._getQuery().skip(g),I){for(t=0;t<b.queries.length;t++)if("onTake"==b.queries[t].fn){b.queries.splice(t,1);break}b.take(2*this.model.itemsCount)}D._trigger("actionBegin",{requestFrom:"scroll"})||(D.inputSearch&&""!=D.inputSearch.val()&&this.model.enableServerFiltering&&(b=D._addSearchQuery(s.Query(),!D._isPlainType(D._rawList)).skip(D._getLi().length).clone()),D._dataSource().executeQuery(b).done(function(V){V.result=D._removeSelectedValue(V.result),D._appendVirtualList(V.result,L,D._currentPage,R,I),D._removeLoadingClass(),D._trigger("actionSuccess",{e:V,requestFrom:"scroll"})}).fail(function(V){D._virtualCount--,D._removeLoadingClass(),D._trigger("actionFailure",{e:V,requestFrom:"scroll"})}).always(function(V){D._trigger("actionComplete",{e:V,requestFrom:"scroll"})}))}else s.DataManager&&C instanceof s.DataManager&&C.dataSource.offline&&C.dataSource.json&&C.dataSource.json.length>0?(D._appendVirtualList(this._localDataVirtualScroll(),L,D._currentPage,R,I),window.setTimeout(function(){D._removeLoadingClass()},100)):(p=s.DataManager(D._dataSource()).executeLocal(b),D._appendVirtualList(D._removeSelectedValue(p),L,D._currentPage,R,I),D._removeLoadingClass())},_appendVirtualList:function(t,o,l,p,g){var b,C,T,D,L,I;if(this._virtualPages){if(this._virtualCount--,this.ultag.find("span.e-virtual").remove(),s.isNullOrUndefined(this.activeItem)||this.activeItem.attr("page","0"),-1!=a.inArray(l,this._virtualPages.sort(function(R,V){return R-V})))return!1;for(g&&-1!=a.inArray(l-1,this._virtualPages.sort())&&(t.splice(0,this.model.itemsCount),g=!1),b=this.model.itemsCount,C=a("<ul>"),0!=(T=g?(l-1)*b*29-29*(o*b+b):l*b*29-29*(o*b+b))&&C.append(a("<span>").addClass("e-virtual").css({display:"block",height:T})),this._mapFields(),this._generateLi(t,this.mapFld),a(this.dummyUl).attr("page",l),g&&a(this.dummyUl).slice(0,b).attr("page",l-1),this.model.showCheckbox&&this._appendCheckbox(this.dummyUl),C.append(this.dummyUl),D=29*(l*b+b),0!=(D=null!=p?p*b*29-D:this.ultag.height()-D)&&C.append(a("<span>").addClass("e-virtual").css({display:"block",height:D})),(L=this.model.itemsCount>0&&""!=this.value()&&this._dataSource()instanceof s.DataManager&&this._dataSource().dataSource.offline?this.ultag.find("li").last():this.ultag.find("li[page="+o+"]").last()).next().remove(),C.children().insertAfter(L),this._virtualPages.push(l),g&&this._virtualPages.push(l-1),I=0;I<t.length;I++)this._listItem(t[I],"add");this._virtualUl=this.ultag.clone(!0),this._renderBoxModel()}},_generateLi:function(t,o){var l,p,g,b;if(this.mapFld=o,this.dummyUl=[],!t||!t.length||t.length<1)return!1;for(l=0;l<t.length;l++){var C=this._getField(t[l],this.mapFld._id),T=this._getField(t[l],this.mapFld._imageUrl),D=this._getField(t[l],this.mapFld._imageAttributes),L=this._getField(t[l],this.mapFld._spriteCSS),I=this._getField(t[l],this.mapFld._text),R=this._getField(t[l],this.mapFld._value),V=this._getField(t[l],this.mapFld._htmlAttributes),F=this._getField(t[l],this.mapFld._selected),A=document.createElement("li");A.setAttribute("data-uid",Math.random().toString(36).substr(2,4)),s.isNullOrUndefined(R)?A.setAttribute("data-value",I):A.setAttribute("data-value","object"==typeof R?JSON.stringify(R):R),s.isNullOrUndefined(C)||""===C&&0==C||A.setAttribute("id",C),s.isNullOrUndefined(V)||""==V||this._setAttr(A,V),(s.isNullOrUndefined(C)||""==C&&0!=C)&&this._setAttr(A,{id:this._id+"_"+l+"_popup_option","aria-selected":!1,tabindex:-1}),this.model.template?a(A).append(this._getTemplatedString(t[l])):(s.isNullOrUndefined(T)||""==T||(p=document.createElement("img"),this._setClass(p,"e-align")._setAttr(p,{src:T,alt:I}),D&&""!=D&&this._setAttr(p,D),A.appendChild(p)),s.isNullOrUndefined(L)||""==L||(g=document.createElement("div"),this._setClass(g,"div.e-align "+L+" sprite-image"),A.appendChild(g)),F&&this._setClass(A,"chkselect"),s.isNullOrUndefined(I)&&(I=String(I)),(b=document.createElement("span")).appendChild(document.createTextNode(I)),this._setClass(b,"e-ddltxt"),A.appendChild(b)),this._setAttr(A,{role:"option",unselectable:"on"}),this.dummyUl.push(A)}},_setAttr:function(t,o){var l,p,g;if("string"==typeof o)2==(l=o.replace(/['"]/g,"").split("=")).length&&(t.hasAttribute(l[0])&&"class"==l[0]?a(t).addClass(l[1]):t.setAttribute(l[0],l[1]));else for(p in o)if("styles"!=p&&"style"!=p||"object"!=typeof o[p])t.setAttribute(p,o[p]);else for(g in o[p])t.style[g]=o[p][g];return this},_setClass:function(t,o){return t.className+=" "+o,this},_removeClass:function(t,o){var l=t.className.indexOf(o);return l>=0&&(t.className=t.className.replace(0!=l&&" "===t.className[l-1]?" "+o:o,"")),this},_hasClass:function(t,o){return t.className.indexOf(o)>=0},_swapUnCategorized:function(t){a(t).each(function(o,l){if(!l.key){for(var p=o;p>0;p--)t[p]=t[p-1];return t[p]=l,!1}})},_getField:function(t,o){return s.pvt.getObject(o,t)},_getTemplatedString:function(t){for(var g,b,o=this.model.template,l=o.indexOf("${"),p=o.indexOf("}");-1!=l&&-1!=p;)b=(g=o.substring(l,p+1)).replace("${","").replace("}",""),l=(o=o.replace(g,this._getField(t,b))).indexOf("${"),p=o.indexOf("}");return o},_setWatermark:function(){if(""==this.element.val()&&""==this._trim(this._visibleInput.val())){var t=null!=this.model.watermarkText?this.model.watermarkText:this._localizedLabels.watermarkText;this._isWatermark?this._visibleInput.attr("placeholder",t):this._hiddenSpan.css("display","block").text(t),"visualmode"==this.model.multiSelectMode&&this._ulBox&&0==this._ulBox.find("li").length&&this._swapUlandInput(!1)}},_checkboxHideShow:function(t){s.isNullOrUndefined(this.ultag)||(t?(this.listitems=this._getLi(),0==this.listitems.find("input[type=checkbox]").length&&this._appendCheckbox(this.listitems)):this._removeCheck(this.popupList),this.model.showCheckbox=t,this._virtualUl=this.ultag.clone(!0))},_setCheckAll:function(t){!this._isSingleSelect()&&t?this.checkAll():this.model.checkAll=!1},_setUncheckAll:function(t){!this._isSingleSelect()&&t?this.uncheckAll():this.model.uncheckAll=!1},checkAll:function(){var t,o,l,p,g;if(this.model.loadOnDemand&&(s.isNullOrUndefined(this.ultag)||0==this.ultag.children().length)&&this._showFullList(),t=this._selectedIndices,o=!1,this._mapFields(),this.listitems=this._getLi(),this._isWatermark||this._hiddenSpan.css("display","none"),!this._isSingleSelect()){for(l=0;l<this.listitems.length;l++)this._currentText=this._isPlainType(this.popupListItems)?this.popupListItems[l]:this._decode(this._getField(this.popupListItems[l],this.mapFld._text)),this._hiddenValue=this._getAttributeValue(this.listitems[l])||this._currentText,this._checkContains(this._hiddenValue)?o=!0:this.model.showCheckbox?(p=a(this.listitems[l]).children(".e-checkwrap")[0])&&!this._isChecked(p)?(this._setClass(p,"e-check-act"),a(p).hasClass("e-check-inact")&&a(p).removeClass("e-check-inact"),this._setAttr(p,{"aria-checked":!0}),p.firstChild.checked=!0,o=!1):o=!0:(o=!1,a(this.listitems[l]).addClass("e-active")),o||(this.checkedStatus=!0,this._itemID=a(this.listitems[l]).attr("id"),s.isNullOrUndefined(this._itemID)||""==this._itemID&&0!=this._itemID||this._selectedItemsID.push(this._itemID),this._createListHidden(this._hiddenValue),"visualmode"==this.model.multiSelectMode&&(this._ulBox.append(this._createBox(this._currentText,this._hiddenValue)),this._isPopupShown()&&this._setListPosition()),this._addText(this._currentText),-1==a.inArray(l,t)&&(this._selectedIndices.push(l),this.model.selectedItems=this.model.selectedIndices=this._selectedIndices),this._selectedValue=this._getAttributeValue(this.listitems[l])||"",this._initValue||this._trigger("checkChange",{isChecked:this.checkedStatus,data:this.model}),g={text:this._visibleInput[0].value,selectedText:this._currentText,itemId:l,selectedValue:this._selectedValue,value:this._selectedValue,isChecked:this.checkedStatus},this._updateValue(this.element.val()),this._updateText(),this._initValue||this._trigger("change",g),this._activeItem=l,this.activeItem=this._getActiveItem(),this._cascadeAction());this.model.itemValue=this._selectedValue,this.model.uncheckAll=!1,this.model.checkAll=!0,this._activeItem=-1,this._setWatermark()}},_createListHidden:function(t){var o=document.createElement("input"),l=/'/;l.test(t)&&(t=t.replace(l,"&apos;")),this._setAttr(o,{type:"hidden",name:this._name,value:t,id:"#"+t}),-1==a.inArray(o.value,this._hiddenInputElement)&&(this._hiddenInputElement.push(o.value),this._boxValue.push(o.value),this.container.append(o),a(this.element).attr("name","hiddenEle"))},_removeListHidden:function(t){var l,p,o=/'/;o.test(t)&&(t=t.replace(o,"&apos;")),l=this.container.find("[id='#"+t+"']"),this._hiddenInputElement.splice(a.inArray(l.value,this._hiddenInputElement),1),-1!=(p=this._boxValue.indexOf(t))&&this._boxValue.splice(p,1),a(l).remove(),this._isSingleSelect()||""!=this.element.val()||this.element.attr("name",this._name)},_getAttributeValue:function(t){if(!s.isNullOrUndefined(t))var o=s.isNullOrUndefined(t.getAttribute("data-value"))?t.getAttribute("value"):t.getAttribute("data-value");return t?o:null},_selectCheckedItem:function(t){this.model.loadOnDemand&&(s.isNullOrUndefined(this.ultag)||0==this.ultag.children().length)&&this._showFullList();for(var o=0;o<t.length;o++)this._activeItem=t[o],this.ultag.children()[this._activeItem]&&this._enterTextBoxValue()},unCheckAll:function(){this.uncheckAll()},uncheckAll:function(){var o,l,p,g,t=!1;if(this.listitems=this._getLi(),this._mapFields(),!this._isSingleSelect()){for(o=0;o<this.listitems.length;o++)this._currentText=this._isPlainType(this.popupListItems)?this.popupListItems[o]:this._getField(this.popupListItems[o],this.mapFld._text),this._hiddenValue=this._getAttributeValue(this.listitems[o])||this._currentText,this._checkContains(this._hiddenValue)?this.model.showCheckbox?(l=a(this.listitems[o]).children(".e-checkwrap")[0])&&this._isChecked(l)?(this._removeClass(l,"e-check-act"),this._setAttr(l,{"aria-checked":!1}),l.firstChild.checked=!1,t=!0):t=!1:(a(this.listitems[o]).removeClass("e-active"),t=!0):t=!1,t&&(this.checkedStatus=!1,this._activeItem=o,this.activeItem=this._getActiveItem(),this._removeText(this._hiddenValue),this._removeListHidden(this._hiddenValue),a.inArray(o,p=this._selectedIndices)>-1&&(this._selectedIndices.splice(a.inArray(o,p),1),this.model.selectedItems=this.model.selectedIndices=this._selectedIndices),this._selectedValue=this._getAttributeValue(this.listitems[o])||"",this._itemID=a(this.listitems[o]).attr("id"),s.isNullOrUndefined(this._itemID)||""==this._itemID&&0!=this._itemID||this._removeSelectedItemsID(),this._initValue||this._trigger("checkChange",{isChecked:this.checkedStatus,data:this.model}),g={text:this._visibleInput[0].value,selectedText:this._currentText,itemId:o,selectedValue:this._selectedValue,value:this._selectedValue,isChecked:this.checkedStatus},this._updateValue(this.element.val()),this._updateText(),this._initValue||this._trigger("change",g),this._cascadeAction(),"visualmode"==this.model.multiSelectMode&&(this._deleteBoxCheck(this._hiddenValue),this._isPopupShown()&&this._setListPosition()));this.model.itemValue=this._selectedValue,this.model.checkAll=!1,this.model.uncheckAll=!0,this._setWatermark(),this._activeItem=-1,this._clearTextboxValue()}},_removeSelectedItemsID:function(){var t;t=this._selectedItemsID.indexOf(this._itemID),this._selectedItemsID.splice(t,1),this._itemID=""},_refreshScroller:function(){if(!s.isNullOrUndefined(this.popupListWrapper)){this.model.enablePopupResize||(this.popupList.css("height","auto"),this.popupListWrapper.css("height","auto")),this.popupList.find(".e-content, .e-vhandle").removeAttr("style"),this.popupList.find(".e-vhandle div").removeAttr("style"),this.popupList.children(".e-content").removeClass("e-content");var t=this._isPopupShown();this.popupListWrapper.css("display","block"),this.popupList.css({display:"block"}),this.scrollerObj.model.height=Math.ceil(this._getPopupHeight()),this.scrollerObj.refresh(),this.model.enablePopupResize||(this.popupList.css("height","auto"),this.popupListWrapper.css("height","auto")),this.scrollerObj.option("scrollTop",0),t||this.popupListWrapper.css("display","none")}},_enablePopupResize:function(){this.model.enablePopupResize&&!s.isNullOrUndefined(this.popupListWrapper)&&(this.popupListWrapper.addClass("e-resizable").append(s.buildTag("div.e-resizebar").append(s.buildTag("div.e-icon e-resize-handle"))).find(".e-resize-handle").addClass(this.model.enableRTL?"e-rtl-resize":""),this._resizePopup())},_resizePopup:function(){var t=this,o=!1;this.popupListWrapper.find("div.e-resize-handle").ejResizable({minHeight:t._validatePixelData(t.model.minPopupHeight),minWidth:t._validatePixelData(t.model.minPopupWidth),maxHeight:t._validatePixelData(t.model.maxPopupHeight),maxWidth:t._validatePixelData(t.model.maxPopupWidth),handle:"e-ddl-popup",resizeStart:function(l){if(!t.model.enabled)return!1;o||t._trigger("popupResizeStart",{event:l}),o=!0},resize:function(l){var p=a(l.element).parents("div.e-ddl-popup");t._refreshPopupOnResize(a(p).outerHeight(),a(p).outerWidth()),t._trigger("popupResize",{event:l})},resizeStop:function(l){o&&(t._refreshPopupOnResize(t.model.popupHeight,t.model.popupWidth),o&&t._trigger("popupResizeStop",{event:l}),o=!1)},helper:function(l){var p=a(l.element).parents("div.e-ddl-popup");return t._refreshPopupOnResize(a(p).outerHeight(),a(p).outerWidth()),a(t.popupListWrapper)}})},_refreshPopupOnResize:function(t,o){t&&(this.model.popupHeight=t),o&&(this.model.popupWidth=o),this.popupListWrapper.css({height:this._validatePixelData(this.model.popupHeight),"min-height":this._validatePixelData(this.model.minPopupHeight),"max-height":this._validatePixelData(this.model.maxPopupHeight)}),this._setListWidth(),this._refreshScroller()},_setListWidth:function(){if(!s.isNullOrUndefined(this.popupListWrapper)){var t=this.model.popupWidth;this.popupListWrapper.css("auto"!=t?{width:t}:{"min-width":this._validatePixelData(this.model.minPopupWidth)}),this.popupListWrapper.css({"max-width":this._validatePixelData(this.model.maxPopupWidth)})}},_setListHeight:function(){s.isNullOrUndefined(this.popupListWrapper)||(this.model.enablePopupResize&&this.model.enableFilterSearch&&this.model.minPopupHeight&&this.model.minPopupHeight.toString().indexOf("%")<0&&20==this._validatePixelData(this.model.minPopupHeight)&&(this.model.minPopupHeight="65"),this.popupListWrapper.css(this.model.enablePopupResize?{"min-height":this._validatePixelData(this.model.minPopupHeight),"max-height":this._validatePixelData(this.model.maxPopupHeight),height:this._validatePixelData(this.model.popupHeight)}:{"max-height":this._validatePixelData(this.model.popupHeight),"min-height":this._validatePixelData(this.model.minPopupHeight)}))},_validatePixelData:function(t){return t&&!isNaN(t)?Number(t):t},_getPopupHeight:function(){var o,t=this.popupListWrapper.height();return this.model.enablePopupResize&&(t-=this.popupListWrapper.find(">div.e-resizebar").height()),this.model.headerTemplate&&this.headerTemplate&&(t-=this.headerTemplate.height()),this.model.enableFilterSearch&&this.inputSearch&&(o=this.inputSearch.parent(".e-in-wrap"),t-=parseInt(o.css("height"))+parseInt(o.css("margin-top"))+parseInt(o.css("margin-bottom"))),t},_refreshPopup:function(){"auto"!=this.model.popupWidth||this._validatePixelData(this.model.minPopupWidth)?this._validatePixelData(this.model.minPopupWidth)&&this.popupListWrapper.css({"min-width":this._validatePixelData(this.model.minPopupWidth)}):this.popupListWrapper.css({"min-width":this.wrapper.width()}),this.scrollerObj!=h&&this._refreshScroller(),this._setListPosition()},_setListPosition:function(){var l,t=this.wrapper,o=this._getOffset(t),p=a(document).scrollTop()+a(window).height()-(o.top+a(t).outerHeight()),g=o.top-a(document).scrollTop(),b=this.popupListWrapper.outerHeight(),C=this.popupListWrapper.outerWidth(),T=o.left,D=t.outerHeight(),L=(D-t.height())/2,I=this._getZindexPartial(),V=(b<p||b>g?o.top+D+3:o.top-b-3)-L;l=a(document).scrollLeft()+a(window).width()-T,(this.model.enableRTL||C>l&&C<T+t.outerWidth())&&(T-=this.popupListWrapper.outerWidth()-t.outerWidth()),this.popupListWrapper.css({left:T+"px",top:V+"px","z-index":I})},_getOffset:function(t){return s.util.getOffset(t)},_getZindexPartial:function(){return s.util.getZindexPartial(this.element,this.popupListWrapper)},_showResult:function(){var o,t=this;this.popUpShow=!0,this.model.loadOnDemand&&(s.isNullOrUndefined(this.popupListWrapper)&&this._renderPopupPanelWrapper(),(s.isNullOrUndefined(this.ultag)||0==this.ultag.children().length)&&this._showFullList(),this._renderRemaining()),(this.model.allowGrouping||this.model.fields.groupBy)&&this.popupListWrapper.addClass("e-atc-popup"),this._trigger("beforePopupShown",o={text:this._visibleInput[0].value,value:this._selectedValue,refreshPopup:!0})||(o.refreshPopup&&this._refreshPopup(),a(this.popupListWrapper).slideDown(this.model.enableAnimation?200:1,function(){a(document).on("mousedown",a.proxy(t._OnDocumentClick,t)),s.isDevice()||t._on(s.getScrollableParents(t.wrapper),"scroll",t._hideResult)}),this._setAttr(this.wrapper[0],{"aria-expanded":!0}),this._setAttr(this.popupListWrapper[0],{"aria-hidden":!1}),this._setAttr(this.ultag[0],{"aria-hidden":!1}),this._listSize=this._getLi().length,this.wrapper.addClass("e-popactive"),this._trigger("popupShown",{text:this._visibleInput[0].value,value:this._selectedValue}),this.scrollerObj.setModel({scrollTop:this._calcScrollTop("active")}))},_OnWindowResize:function(){!s.isNullOrUndefined(this.model)&&this._isPopupShown()&&this._refreshPopup()},_hideResult:function(t){if(this.model&&this._isPopupShown()){if(!s.isNullOrUndefined(t)&&!s.isNullOrUndefined(this.inputSearch)&&a(this.inputSearch).is(":focus")&&"scroll"==t.type&&s.isTouchDevice())return!1;var o=this;if(this._trigger("beforePopupHide",{text:this._visibleInput[0].value,value:this._selectedValue}))return;a(this.popupListWrapper).slideUp(this.model.enableAnimation?100:0,function(){a(document).off("mousedown",a.proxy(o._OnDocumentClick,o))}),null!=this.element&&this._setAttr(this.wrapper[0],{"aria-expanded":!1}),this.popupListWrapper[0]&&this._setAttr(this.popupListWrapper[0],{"aria-hidden":!0}),this.ultag[0]&&this._setAttr(this.ultag[0],{"aria-hidden":!0}),s.isDevice()||this._off(s.getScrollableParents(this.wrapper),"scroll",this._hideResult),null!=this._visibleInput&&this.wrapper.removeClass("e-popactive"),this.popUpShow=!1,this._trigger("popupHide",{text:this._visibleInput[0].value,value:this._selectedValue}),setTimeout(function(){o._resetSearch()},100),this._getLi().find(".e-ddl-anim").removeClass("e-ddl-anim")}},_isPopupShown:function(){if(!s.isNullOrUndefined(this.popupListWrapper))return"block"==this.popupListWrapper.css("display")},_enterTextBoxValue:function(t){var p,g,l=!0;this.removeID=!1,this.checkedStatus=!1,this._isWatermark||this._hiddenSpan.css("display","none"),this._chooseSelectionType(),(this._activeItem>=0||null!=this._activeItem)&&(this.model.showCheckbox?(p=this.activeItem.find(".e-checkwrap")[0],a(p).removeClass("e-check-inact"),this.checkedStatus=this._isChecked(p)):this.checkedStatus=this.activeItem.hasClass("e-active")),this._initValue||this._onSearch||!this._raiseEvents||!this._trigger("select",{text:this._currentText,selectedText:this._currentText,itemId:this.selectedIndexValue,value:this._selectedValue,isChecked:this.checkedStatus,isInteraction:!!this._uiInteract})?((this._activeItem>=0||null!=this._activeItem)&&(this._isSingleSelect()||this._checkContains(this._selectedValue)&&!(this._checkedValues.length>0)?this._isSingleSelect()?(this.ultag.children("li").removeClass("e-hover").removeClass("e-active"),this.activeItem.addClass("e-active"),this._maintainHiddenValue(),this._visibleInput.val(this._currentText),this.element.val(this._hiddenValue),this.selectedItemIndex(this.selectedIndexValue),this.selectedIndex(this.selectedIndexValue),this._selectedIndices[0]=this.selectedIndexValue):l=!1:(this.model.showCheckbox?(p=this.activeItem.find(".e-checkwrap")[0],this._isChecked(p)||(this._removeClass(p,"e-ddl-anim"),this._setClass(p,"e-check-act e-ddl-anim"),this._setAttr(p,{"aria-checked":!0}),a(p).find(".e-check-input")[0].checked=!0)):this.activeItem.addClass("e-active"),"visualmode"==this.model.multiSelectMode&&(g=this._createBox(this._currentText,this._selectedValue),(!(this._ulBox.children()&&this._ulBox.children().length>0)||this._checkForDuplicates(g))&&this._ulBox.append(g),this._isPopupShown()&&this._setListPosition()),this._maintainHiddenValue(),this._addText(this._currentText),this._isSingleSelect()||JSON.stringify(this._boxValue)==JSON.stringify(this._valueContainer)||this._createListHidden(this._hiddenValue),-1==a.inArray(this.selectedIndexValue,this._selectedIndices)&&(this._selectedIndices.push(this.selectedIndexValue),this.model.selectedItems=this.model.selectedIndices=this._selectedIndices)),l&&(this.checkedStatus=!0,t&&this._checkedValues.push(this.activeItem.text()),this._onValueChange(),this._cascadeAction(),this.selectelement&&a("#"+this._id).children().length>this.selectedIndexValue&&(a("#"+this._id).children()[this.selectedIndexValue].selected=!0))),this.model.uncheckAll=!1,this._setWatermark(),this._uiInteract=!1):this._setWatermark()},_checkForDuplicates:function(t){var o=!0;return this._ulBox.children().toArray().forEach(function(p){if(t.attr("data-value")==a(p).attr("data-value"))return o=!1,!1},this),o},_onValueChange:function(){if(this.model.itemValue=this._selectedValue,this._updateText(),this._isSingleSelect()||JSON.stringify(this._boxValue)==JSON.stringify(this._valueContainer)||(this._valueContainer=this._boxValue),""==this._visibleInput.val()&&this.element.val()&&this.element.val(""),this.value()!=this.element.val()||null==this.value()&&-1!=a.inArray("",this._valueContainer)){s.isNullOrUndefined(a(this.getSelectedItem()).last()[0])||(this.model.enableFilterSearch&&this.model.enableServerFiltering?this._updateSelectedIndex(this.element.val(),a(this.getSelectedItem()).last().attr("data-uid")):this._updateSelectedIndexByValue(this.element.val())),this._isSingleSelect()?this._updateValue(this.element.val()):this._updateValue(this._valueContainer.toString()),this.selectedTextValue=this.model.text,this.model.showCheckbox||"none"!=this.model.multiSelectMode||null!=this.model.value&&""!=this.model.value||(this.model.itemValue="");var t={text:this._visibleInput[0].value,selectedText:this._currentText,itemId:this.selectedIndexValue,selectedValue:this._selectedValue,value:this._selectedValue,isChecked:this.checkedStatus,isInteraction:!!this._uiInteract};this._initValue||this._onSearch||!this._raiseEvents||("function"==typeof this.model._change&&this._trigger("_change",{isChecked:this.checkedStatus,text:this._visibleInput.val(),itemId:this.selectedIndexValue,selectedText:this._currentText,selectedValue:this._selectedValue,value:this.value(),data:this.model,isInteraction:!!this._uiInteract}),this._trigger("change",t),this.model.showCheckbox&&this._trigger("checkChange",{isChecked:this.checkedStatus,text:this._visibleInput.val(),itemId:this.selectedIndexValue,selectedText:this._currentText,selectedValue:this._selectedValue,value:this._selectedValue,data:this.model})),this._uiInteract=!1,this.model.enableFilterSearch&&this.model.enableServerFiltering&&(this._searchresult=[],this._searchresult=this.getItemDataByValue(this.value()))}},_updateSelectedIndex:function(t,o){var l,p,g;if(t){for(this._selectedIndices=this.model.selectedItems=this.model.selectedIndices=[],this._virtualList=this._virtualUl.children("li:not('.e-category')"),l=this._toArray(t),p=0;p<l.length;p++)for(g=0;g<this._virtualList.length;g++)if(l[p]==this._getIndexedValue(this._virtualList[g])&&o==a(this._virtualList[g]).attr("data-uid")){this._selectedIndices.push(g);break}this.model.selectedItems=this.model.selectedIndices=this._selectedIndices}},_decode:function(t){return a("<span>").html(t).text()},_chooseSelectionType:function(){this.activeItem=this._getActiveItem(),this.selectedIndexValue=this._activeItem,this._mapFields();var t=/([^"]*)\&[gl]t;([^"]*)/g;null==this._dataSource()||this._isPlainType(this._dataSource())&&this._isPlainType(this.popupListItems)?(this._currentText=this.activeItem.text(),this._getAttributeValue(this.activeItem[0])?this._selectedValue=this._getAttributeValue(this.activeItem[0]):null!=this._currentText?(s.isNullOrUndefined(this.activeItem[0])||this.activeItem[0].setAttribute("value",this._currentText),this._selectedValue=this._currentText):this._selectedValue="",this._itemID=a(this.activeItem).attr("id")):(this._currentText=this.model.enableFilterSearch&&this.ultag.children()[this._activeItem].textContent==this.activeItem.text()?t.test(this.ultag.children()[this._activeItem].textContent)?this._decode(this.ultag.children()[this._activeItem].textContent):this.ultag.children()[this._activeItem].textContent:t.test(this._getField(this.popupListItems[this._activeItem],this.mapFld._text))?this._decode(this._getField(this.popupListItems[this._activeItem],this.mapFld._text)):this._getField(this.popupListItems[this._activeItem],this.mapFld._text),this._currentText=""===this._currentText||null==this._currentText?this.activeItem.text():this._currentText,this._selectedValue=this._getField(this.popupListItems[this._activeItem],this.mapFld._value),this._selectedValue=null!=this._selectedValue?this._selectedValue:this._currentText,this._itemID=this._getField(this.popupListItems[this._activeItem],this.mapFld._id)),s.isNullOrUndefined(this._itemID)||""==this._itemID&&0!=this._itemID||(this.model.showCheckbox?this.removeID?this._removeSelectedItemsID():this._selectedItemsID.push(this._itemID):(this._selectedItemsID=[],this.removeID||this._selectedItemsID.push(this._itemID))),this.selectedTextValue=this._currentText},_maintainHiddenValue:function(){var t=this._getAttributeValue(this.activeItem[0]);this._hiddenValue=s.isNullOrUndefined(t)?this._currentText:t},_removeTextBoxValue:function(t){var o,p;if(this._uiInteract=!0,this.removeID=!0,this.checkedStatus=!0,this._isFilterInput())for(o=0;o<this._getLi().length;o++)a(this._getLi()[o]).attr("data-value")==t&&(this._activeItem=o);this._chooseSelectionType(),(this._activeItem>=0||null!=this._activeItem)&&(this.model.showCheckbox?(p=this.activeItem.find(".e-checkwrap")[0],a(p).removeClass("e-ddl-anim").addClass("e-check-inact e-ddl-anim"),this.checkedStatus=this._isChecked(p)):this.checkedStatus=this.activeItem.hasClass("e-active")),this._initValue||this._onSearch||!this._raiseEvents||!this._trigger("select",{text:this._currentText,selectedText:this._currentText,itemId:this.selectedIndexValue,value:this._selectedValue,isChecked:this.checkedStatus})?(this._maintainHiddenValue(),this._hiddenValue=this._isFilterInput()&&!s.isNullOrUndefined(t)?t:this._hiddenValue,this._removeText(this._hiddenValue),this._isSingleSelect()||JSON.stringify(this._boxValue)==JSON.stringify(this._valueContainer)||this._removeListHidden(this._hiddenValue),this._isFilterInput()&&!this.activeItem.attr("data-value")==t&&this.activeItem.removeClass("e-active"),this._isSingleSelect()||(this.model.showCheckbox?(p=this.activeItem.find(".e-checkwrap")[0],this._isChecked(p)&&(this._removeClass(p,"e-check-act"),this._setAttr(p,{"aria-checked":!1}),a(p).find(".e-check-input")[0].checked=!0)):this.activeItem.removeClass("e-active"),a.inArray(this.selectedIndexValue,this._selectedIndices)>-1&&(this._selectedIndices.splice(a.inArray(this.selectedIndexValue,this._selectedIndices),1),this.model.selectedItems=this.model.selectedIndices=this._selectedIndices),"visualmode"==this.model.multiSelectMode&&(this._deleteBoxCheck(this._hiddenValue),this._isPopupShown()&&this._setListPosition())),this.checkedStatus=!1,this._onValueChange(),null==this.model.cascadeTo||this._isSingleSelect()||this._initValue||this._cascadeAction(),this.model.checkAll=!1,this._setWatermark()):this._setWatermark()},_createBox:function(t,o){if(!this._checkContains(o)||this._checkedValues.length>0){"none"==this._ulBox.css("display")&&"none"!=this._visibleInput.css("display")&&this._swapUlandInput(!0);var l=s.buildTag("span.e-icon e-close","",{},{unselectable:"on"}),p=s.buildTag("li.e-options").text(t).attr("data-value",o).append(l);return this._on(l,"click",function(g){if(!this.model.enabled)return!1;this.delIconClick=!0,this._deleteBox(a(g.target).parent()),this.delIconClick=!1}),p}},_deleteBoxCheck:function(t){for(var o=this._ulBox.children("li"),l=0;l<o.length;l++)a(o[l]).attr("data-value")==t&&(a(o[l]).remove(),this._checkedValues.splice(l,1))},_deleteLastBox:function(){var o=this._ulBox.children("li:not(.e-search-box)").last();o.hasClass("e-active")?this._deleteBox(o):(this._removeActive(),o.addClass("e-active"))},_deleteBox:function(t){for(var o,l,g,b,C=0;C<t.length;C++)if(o=a(t[C]).attr("data-value"),this._isFilterInput()){for(l=this.getListData(),b=0;b<l.length;b++)if((this._getField(l[b],this.mapFld._value)?this._getField(l[b],this.mapFld._value):this._getField(l[b],this.mapFld._text))==o){this._removeTextBoxValue(o);break}this._resetSearch()}else for(g=this._getLi(),b=0;b<g.length;b++)if(a(g[b]).attr("data-value")==o){this._activeItem=b,this._removeTextBoxValue();break}this._isFocused||this._isPopupShown()||this._setWatermark()},_isFilterInput:function(){return!(!this.model.enableFilterSearch||!this.inputSearch)&&(""==!this.inputSearch.val()||void 0)},_swapUlandInput:function(t){t?(this._visibleInput.css("display","none"),this._ulBox.css("display","block"),this.wrapper.css({height:"auto"})):(this._visibleInput.css("display","block"),this._ulBox.css("display","none"),this.wrapper.css({height:this.model.height}))},_removeActive:function(){this._ulBox.children("li").removeClass("e-active")},_adjustWidth:function(){var t=s.buildTag("span",this._visibleInput.val());this.container.append(t),this._visibleInput.width(t.width()+30),t.remove()},_destroyBoxModel:function(){this._visibleInput.css("display","block"),this.wrapper.height(this.model.height),this._ulBox.remove(),this._ulBox=null,this._off(this.container,"click")},_removeListHover:function(){this.ultag.children("li").removeClass("e-hover")},_addListHover:function(){var t=this._getActiveItem();this._setAttr(t[0],{"aria-selected":!0}),this._setAttr(this.wrapper[0],{"aria-activedescendant":t[0].id.toString(),"aria-labelledby":t[0].id.toString()}),t.addClass("e-hover"),this.scrollerObj.setModel({scrollTop:this._calcScrollTop("hover")})},_getLi:function(){if(this.ultag)return this.ultag.children("li:not('.e-category'):not('.e-nosuggestion')")},_calcScrollTop:function(t){this.ultag.outerHeight();var g,b,C,T,l=this.ultag.find("li"),p=0;for(this._selectedIndices&&this._selectedIndices.length>0&&"active"==t?(T=this._getLi(),g=this._selectedIndices.length==T.length?0:this._selectedIndices[this._selectedIndices.length-1],(null!=this.model.fields.groupBy||this.ultag.find("li.e-category").length>0)&&(g=a.inArray(T.eq(g)[0],l))):g=this.ultag.find("li.e-"+t).index(),C=0;C<g;C++)p+=l.eq(C).outerHeight(!0);return(b=p-(this.popupList.outerHeight()-l.eq(g).outerHeight(!0))/2)<0?0:b},_getActiveItem:function(){return this._getLi().eq(this._activeItem)},_setDimentions:function(){this.model.height&&this.wrapper.height(this.model.height),this.model.width&&this.wrapper.width(this.model.width)},_roundedCorner:function(t){t?(this.container.addClass("e-corner"),s.isNullOrUndefined(this.popupListWrapper)||this.popupListWrapper.addClass("e-corner"),this.inputSearch&&this.inputSearch.parent(".e-in-wrap").addClass("e-corner")):(this.container.removeClass("e-corner"),s.isNullOrUndefined(this.popupListWrapper)||this.popupListWrapper.removeClass("e-corner"),this.inputSearch&&this.inputSearch.parent(".e-in-wrap").removeClass("e-corner"))},_enabled:function(t){t?this.enable():this.disable()},_RightToLeft:function(){this.model.enableRTL?this.wrapper.addClass("e-rtl"):this.wrapper.removeClass("e-rtl")},_dropbtnRTL:function(){this.model.enableRTL?(this.popupListWrapper.addClass("e-rtl").find(".e-resize-handle").addClass("e-rtl-resize"),this.popupList.addClass("e-rtl")):(this.popupListWrapper.removeClass("e-rtl").find(".e-resize-handle").removeClass("e-rtl-resize"),this.popupList.removeClass("e-rtl"))},_OnDropdownClick:function(t){if(this._preventDefaultAction(t),a(t.target).is("li")&&a(t.target).parent().hasClass("e-boxes")||a(t.target).parents("ul").hasClass("e-boxes")&&a(t.target).hasClass("e-icon e-close")||this.model.readOnly||this._readOnly)return!1;(s.isNullOrUndefined(this.ultag)?this.model.loadOnDemand&&!s.isNullOrUndefined(this.model.dataSource):this.ultag.find("li").length>0)&&(t.which&&1==t.which||t.button&&0==t.button)&&this._OnPopupHideShow()},_OnPopupHideShow:function(){if(this._isPopupShown())this._hideResult();else if(this._showResult(),this.model.enableFilterSearch){if(0==this.getSelectedItem().length)this.ultag.find("li:first").addClass("e-hover");else{var t=this.getSelectedItem().length;a(this.getSelectedItem()[t-1]).addClass("e-hover")}a(this.inputSearch).focus()}else this.wrapper.focus()},_showFullList:function(){var t=this._dataSource();s.isNullOrUndefined(this.ultag)&&(this.ultag=s.buildTag("ul.e-ul","",{},{role:"listbox"})),s.DataManager&&t instanceof s.DataManager?t.dataSource.offline||t.dataSource.json&&t.dataSource.json.length>0?this._getFilteredList(t.dataSource.json):this._initDataSource(t):this._getFilteredList(t)},_getFilteredList:function(t){if(!t||!t.length||t.length<1)this._targetElementBinding(),this._renderRemaining();else{var o=s.DataManager(t).executeLocal(this._isPlainType(t)?s.Query():this._getQuery(!0));this._totalCount=o.count,this._listItem(o.result?o.result:o),this._renderPopupList(),this._rawList=this.popupListItems.slice()}},_cascadeAction:function(){if(this.model.cascadeTo)for(var t=this.model.cascadeTo.split(","),o=0;o<t.length;o++)a("#"+t[o]).hasClass("e-dropdownlist")?this._doCascadeAction(t[o],this,this.checkedStatus):a("#"+t[o]).on("ejDropDownListcreate",{Obj:this,status:this.checkedStatus},function(l){s.isNullOrUndefined(l.data.Obj.getValue())||""==l.data.Obj.getValue()||l.data.Obj._doCascadeAction(this.id,l.data.Obj,l.data.status)})},_doCascadeAction:function(t,o,l){o._currentValue=o._getField(o.popupListItems[o._activeItem],o.mapFld._value),o.selectDropObj=a("#"+t).ejDropDownList("instance");var p={cascadeModel:o.selectDropObj.model,cascadeValue:o._currentValue,setCascadeModel:{},requiresDefaultFilter:!0};this._trigger("cascade",p),o.selectDropObj._setCascadeModel=p.setCascadeModel,s.isNullOrUndefined(o[t])&&(o[t]=o.selectDropObj._dataSource()),s.DataManager&&o[t]instanceof s.DataManager?o._cascadeOdataInit(o[t],p.requiresDefaultFilter,l,p.cascadeQuery):o._cascadeJsonInit(o.selectDropObj,o[t],o.mapFld._value,p.requiresDefaultFilter,l,p.cascadeQuery)},_cascadeOdataInit:function(t,o,l,p){var C,g=this;g._dQuery=this.selectDropObj._getQuery().clone(),C=g._dQuery.clone(),o?C.where(g.mapFld._value,"equal",g._currentValue):C=p,g.selectDropObj._addLoadingClass(),g._trigger("actionBegin",{requestFrom:"cascade"})||t.executeQuery(C).fail(function(T){g._changedSource=null,g.selectDropObj.setModel({dataSource:g._changedSource,enabled:!1}),g._trigger("actionFailure",{e:T,requestFrom:"cascade"})}).done(function(T){g._trigger("actionSuccess",{e:T,requestFrom:"cascade"}),g._cascadeDataBind(g.selectDropObj,T.result,l),g.selectDropObj._removeLoadingClass()}).always(function(T){g._trigger("actionComplete",{e:T,requestFrom:"cascade"})})},_cascadeJsonInit:function(t,o,l,p,g,b){var C=p?s.Query().where(l,"==",this._currentValue):b,T=s.DataManager(o).executeLocal(C);this._cascadeDataBind(t,T,g)},_cascadeDataBind:function(t,o,l){var g,b,C,T,D,L,p=t.value();if(this.model.showCheckbox&&l||"none"!=this.model.multiSelectMode&&this.activeItem.hasClass("e-active"))this._changedSource=s.isNullOrUndefined(this._changedSource)?o:this._changedSource.concat(o);else if(this.model.showCheckbox||"none"!=this.model.multiSelectMode){for(g=0;g<o.length;g++)if(this._isPlainType(o)&&this._isPlainType(this._changedSource))this._changedSource.splice(this._changedSource.indexOf(o[g]),1);else for(b=0;b<this._changedSource.length;b++)JSON.stringify(this._changedSource[b])==JSON.stringify(o[g])&&this._changedSource.splice(b,1);t.setModel({dataSource:null})}else this._changedSource=o;if(C=t.model.value,T=JSON.parse(JSON.stringify(t.model)),t.setModel({dataSource:this._changedSource,enabled:this._changedSource.length>0}),this._isSingleSelect()||t.selectItemByValue(p),(t.model.showCheckbox||"none"!=t.model.multiSelectMode)&&a("input:hidden[id^='#'][name="+t._id+"]").remove(),t._setSelectedItem)t.setModel(t._setCascadeModel);else{for(D=["value","text","selectedIndex","selectedIndices"],L=0;L<D.length;L++)t.model[D[L]]=T[D[L]];t.model.value=C,t._finalize()}t._setSelectedItem=!0},_OnMouseEnter:function(t){var o,l;if(!this.model.enabled||this.model.readOnly)return!1;this.ultag.children("li").removeClass("e-hover"),a(t.target).is("li:not('.e-category')")&&a(t.target).addClass("e-hover"),a(t.target).hasClass("e-disable")?a(t.target).removeClass("e-hover"):"li"!=t.target.tagName&&(o=a(t.target).parents("li:not('.e-category')"),a(o).addClass("e-hover")),this.ultag.children("li:not('.e-category')").each(function(p){if(a(this).hasClass("e-hover"))return l=p,!1}),this._activeItem=l},_OnMouseLeave:function(){if(!this.model.enabled||this.model.readOnly||this._readOnly)return!1;this.ultag.children("li").removeClass("e-hover")},_OnMouseClick:function(t){var o,l,p;if(this._uiInteract=!0,!this.model.enabled||this.model.readOnly||this._readOnly||this.model.enableFilterSearch&&a(t.target).is("li")&&a(t.target).hasClass("e-nosuggestion"))return!1;(!a(t.target).is("li")||a(t.target).hasClass("e-disable"))&&(a(t.target).is("li")||a(t.target).closest("li").hasClass("e-disable"))||(this._isSingleSelect()?(this._enterTextBoxValue(),this._hideResult()):this.model.showCheckbox?(o="LI"===t.target.nodeName?t.target:a(t.target).parents("li.e-hover"),l=a(o).find(".e-checkwrap")[0],this._onCheckChange({target:l})):(p=a(t.target).is("li")?t.target:a(t.target).closest("li")[0],this._activeItem=a.inArray(p,this._getLi()),a(p).hasClass("e-active")?this._removeTextBoxValue():this._enterTextBoxValue()))},_OnDocumentClick:function(t){if(this.model&&(!this.model.enabled||this.model.readOnly||this._readOnly))return!1;a(t.target).is(this.popupList)||a(t.target).parents(".e-ddl-popup").is(this.popupListWrapper)||a(t.target).is(this._visibleInput)||a(t.target).parents(".e-ddl").is(this.wrapper)?a(t.target).is(this.inputSearch)?this.inputSearch.focus():(a(t.target).is(this.popupList)||a(t.target).parents(".e-ddl-popup").is(this.popupListWrapper))&&this._preventDefaultAction(t):this._hideResult()},_OnKeyPress:function(t){this.model.enableIncrementalSearch&&13!=t.keyCode&&this._OnTextEnter("mozilla"==s.browserInfo().name?t.charCode:t.keyCode),32==t.keyCode&&this._preventDefaultAction(t)},_OnTextEnter:function(t){var l,p,b,o=this;this._incqueryString+=String.fromCharCode(t),this._incqueryString.length>0&&setTimeout(function(){o._incqueryString=""},this.model.incrementalSearchDelay);var T,C=this._getLi(),D=null,L=this.model.caseSensitiveSearch,I=this._incqueryString,R=this._incqueryString.length;if(L||(I=I.toLowerCase()),this._prevQueryString==I){for(T=0;T<this._matchedListItems.length;T++)if(a(this._matchedListItems[T]).hasClass("e-active")||this.model.showCheckbox&&a(this._matchedListItems[T]).hasClass("e-hover")){D=T==this._matchedListItems.length-1?this._matchedListItems[0]:this._matchedListItems[T+1];break}}else if(!s.isNullOrUndefined(C)){for(this._matchedListItems=[],l=this.selectedIndex(),T=0;T<C.length;T++)T!=l&&((T==C.length||-1==T)&&(T=-1),-1==l&&(l=C.length,T=0),b=a(C[p=-1==T?0:T]).text(),(b=L?b:b.toLowerCase()).substr(0,R)==I&&this._matchedListItems.push(C[p]));this._prevQueryString=I,D=this._matchedListItems[0]}s.isNullOrUndefined(D)||(this._activeItem=a.inArray(D,C),this._isSingleSelect()&&!s.isNullOrUndefined(this.scrollerObj)?(this._enterTextBoxValue(),this.scrollerObj.setModel({scrollTop:this._calcScrollTop("active")})):this._isPopupShown()&&(this._removeListHover(),this._addListHover()))},_selectItem:function(t){this._isSingle||this._clearTextboxValue(),this.activeItem&&this._setAttr(this.activeItem[0],{"aria-selected":!1}),this._activeItem=t,this._addListHover(),this.wrapper.focus(),this._enterTextBoxValue()},_focusItem:function(t){this._removeListHover(),this._activeItem=t,this._addListHover()},_selectFocusedItem:function(t){this._focusItem(t),this._enterTextBoxValue()},_selectShiftDown:function(t,o,l){l||this._clearTextboxValue();for(var p=t;p<=o;p++)a.inArray(p,this._disabledItems)<0&&a.inArray(p,this.model.selectedIndices)<0&&this._selectFocusedItem(p)},_selectShiftUp:function(t,o,l){l||this._clearTextboxValue();for(var p=o;p>=t;p--)a.inArray(p,this._disabledItems)<0&&a.inArray(p,this.model.selectedIndices)<0&&this._selectFocusedItem(p)},_selectShiftHome:function(t,o,l){if(l||this._clearTextboxValue(),t>=0&&t<=this._listSize-1){if(0==t)this._clearTextboxValue();else for(var p=t;p>=o;p--)a.inArray(p,this._disabledItems)<0&&a.inArray(p,this.model.selectedIndices)<0&&(this._activeItem=p,this._enterTextBoxValue());this._activeItem=t,0==t&&this._enterTextBoxValue(),this.scrollerObj.setModel({scrollTop:0})}},_selectShiftEnd:function(t,o,l){if(l||this._clearTextboxValue(),t<=this._listSize-1){if(t==o)this._clearTextboxValue();else for(var p=t;p<=o;p++)a.inArray(p,this._disabledItems)<0&&a.inArray(p,this.model.selectedIndices)<0&&(this._activeItem=p,this._enterTextBoxValue());this._activeItem=t,t==o&&this._enterTextBoxValue(),this.scrollerObj.setModel({scrollTop:this.ultag.outerHeight()})}},_getLastFocusedLi:function(){return this._selectedIndices&&this._selectedIndices.length>0?this._selectedIndices[this._selectedIndices.length-1]:null},_getLastShiftFocusedLi:function(t,o){var l=o?t-1:t+1;return a.inArray(l,this._selectedIndices)<0?t:this._getLastShiftFocusedLi(l,o)},_shiftUp:function(t,o,l){var p,g,b;if(null==t||t<0)this._checkDisableStep(0,o,!1,!1,!0);else if(t>0&&t<=this._listSize-1&&null!=(p=this._disableItemSelectUp(t-o)))if(null!=this._getLastFocusedLi())if(this._selectedIndices.length>1&&t-1==this._selectedIndices[this._selectedIndices.length-2])for(g=1;g<=o&&t-g==this._selectedIndices[this._selectedIndices.length-2];g++)this._activeItem=t+1-g,this._removeTextBoxValue(),this._focusItem(t-g);else b=this._getLastShiftFocusedLi(this._getLastFocusedLi(),!1),this._selectShiftUp(p,b,l);else this._moveUp(t,o,!1)},_shiftDown:function(t,o,l){var p,g,b;if(null==t||t<0)this._checkDisableStep(-1,o,!0,!1,!0);else if(t<this._listSize-1&&null!=(p=this._disableItemSelectDown(t+o)))if(null!=this._getLastFocusedLi())if(this._selectedIndices.length>1&&t+1==this._selectedIndices[this._selectedIndices.length-2])for(g=1;g<=o&&t+g==this._selectedIndices[this._selectedIndices.length-2];g++)this._activeItem=t-1+g,this._removeTextBoxValue(),this._focusItem(t+g);else b=this._getLastShiftFocusedLi(this._getLastFocusedLi(),!0),this._selectShiftDown(b,p,l);else this._moveDown(t,o,!1)},_moveUp:function(t,o,l){null==t||t<=0?this._checkDisableStep(0,o,!1,l):t>this._listSize-1?this._checkDisableStep(this._listSize-1,o,!1,l):t>0&&t<=this._listSize-1&&this._checkDisableStep(t,o,!1,l)},_moveDown:function(t,o,l){null==t||t<0?this._checkDisableStep(-1,o,!0,l):0==t?this._checkDisableStep(0,o,!0,l):t>=this._listSize-1?this._checkDisableStep(this._listSize-1,o,!0,l):t<this._listSize-1&&this._checkDisableStep(t,o,!0,l)},_checkDisableStep:function(t,o,l,p,g){var D,b=l?"_disableItemSelectDown":"_disableItemSelectUp",C=l?t+o:t-o,T=this[b](C);if(null==T)for(D=o;D>=0&&null==(T=this[b](C=l?t+D:t-D));D--);null!=T&&(p?this._focusItem(T):this._selectItem(T),g&&p&&this._enterTextBoxValue())},_disableItemSelectDown:function(t){return(null==t||t<0)&&(t=0),t<this._listSize?a.inArray(t,this._disabledItems)<0?t:this._disableItemSelectDown(t+1):this._listSize-1},_disableItemSelectUp:function(t){if((null==t||t<0)&&(t=0),t<this._listSize){if(a.inArray(t,this._disabledItems)<0)return t;if(t>0)return this._disableItemSelectUp(t-1)}},_preventDefaultAction:function(t,o){t.preventDefault?t.preventDefault():t.returnValue=!1,o&&(t.stopPropagation?t.stopPropagation():t.cancelBubble=!0)},_OnKeyDown:function(t){var o,l,p,g,b;if(this._uiInteract=!0,this.model.enabled&&!s.isNullOrUndefined(this.popupListWrapper))if(this._itemId=null,o=this._getLi(),this._listSize=o.length,p=this.popupList.height(),l=this.ultag.children("li").outerHeight(),g=0!=Math.round(p/l)?Math.round(p/l):5,this._isSingle=this._isSingleSelect(),this._isSingle)switch(t.keyCode){case 38:if(t.altKey){this.ultag.find("li").length>0&&this._hideResult();break}case 33:this._moveUp(this._activeItem,b=33==t.keyCode?g:1),this._preventDefaultAction(t,!0);break;case 8:this._preventDefaultAction(t);break;case 40:if(t.altKey){this.ultag.find("li").length>0&&this._showResult();break}case 34:this._moveDown(this._activeItem,b=34==t.keyCode?g:1),this._preventDefaultAction(t,!0);break;case 37:this.model.enableRTL?this._moveDown(this._activeItem,1):this._moveUp(this._activeItem,1),this._preventDefaultAction(t);break;case 39:this.model.enableRTL?this._moveUp(this._activeItem,1):this._moveDown(this._activeItem,1),this._preventDefaultAction(t);break;case 9:case 27:this._isPopupShown()&&this._hideResult();break;case 35:this._moveDown(this._listSize-1,0),this._preventDefaultAction(t);break;case 36:this._moveUp(b=null!=this._activeItem?this._activeItem:this._listSize-1,b),this._preventDefaultAction(t)}else switch(t.keyCode){case 38:t.altKey?this.ultag.find("li").length>0&&this._hideResult():t.shiftKey?this._shiftUp(this._activeItem,1,t.ctrlKey):this._moveUp(this._activeItem,1,t.ctrlKey),this._preventDefaultAction(t);break;case 33:t.shiftKey?this._shiftUp(this._activeItem,g,t.ctrlKey):this._moveUp(this._activeItem,g,t.ctrlKey),this._preventDefaultAction(t);break;case 8:this._preventDefaultAction(t);break;case 40:t.altKey?this.ultag.find("li").length>0&&this._showResult():t.shiftKey?this._shiftDown(this._activeItem,1,t.ctrlKey):this._moveDown(this._activeItem,1,t.ctrlKey),this._preventDefaultAction(t);break;case 34:t.shiftKey?this._shiftDown(this._activeItem,g,t.ctrlKey):this._moveDown(this._activeItem,g,t.ctrlKey),this._preventDefaultAction(t);break;case 37:this.model.enableRTL?this._moveDown(this._activeItem,1,!1):this._moveUp(this._activeItem,1,!1),this._preventDefaultAction(t);break;case 39:this.model.enableRTL?this._moveUp(this._activeItem,1,!1):this._moveDown(this._activeItem,1,!1),this._preventDefaultAction(t);break;case 9:case 27:this._isPopupShown()&&this._hideResult();break;case 35:t.shiftKey?this._selectShiftEnd(this._activeItem,this._listSize-1,t.ctrlKey):this._moveDown(this._activeItem,this._listSize,t.ctrlKey),this._preventDefaultAction(t);break;case 36:b=null!=this._activeItem?this._activeItem:this._listSize-1,t.shiftKey?this._selectShiftHome(this._activeItem,0,t.ctrlKey):this._moveUp(this._activeItem,b,t.ctrlKey),this._preventDefaultAction(t)}},_OnKeyUp:function(t){var l;if(this.model.enabled&&!s.isNullOrUndefined(this.popupListWrapper)){if(this._preventDefaultAction(t),null==this._activeItem&&(this._activeItem=this._getLi().index(this.popupList.find("ol,ul").children("li.e-hover"))),""==this._trim(this._visibleInput.val())&&38==t.keyCode&&40==t.keyCode)return this._hideResult(),!1;switch(t.keyCode){case 13:!this._isSingle&&this._isPopupShown()&&(t.ctrlKey||t.shiftKey)&&this._activeItem>=0?this._selectAndUnselect():!this._isPopupShown()||t.ctrlKey||t.shiftKey?this._isPopupShown()&&this._hideResult():(s.isNullOrUndefined(this.inputSearch)||(0==this.getSelectedItem().length||!this.listitems[0].classList.contains("e-active")&&this._activeItem>=0?(this.selectItemByIndex(this._activeItem),a(this.listitems[this._activeItem]).removeClass("e-hover")):(l=this._getLastFocusedLi(),("none"!=this.model.multiSelectMode||this.model.showCheckbox)&&(this.unselectItemByIndex(l),a(this.listitems[l]).removeClass("e-hover")))),this._hideResult()),this._preventDefaultAction(t);break;case 32:this._isPopupShown()&&this._isSingle&&this._hideResult(),!this._isSingle&&this._isPopupShown()&&this._activeItem>=0&&this._selectAndUnselect(),this._preventDefaultAction(t);break;case 8:"visualmode"==this.model.multiSelectMode&&this._deleteLastBox(),this._preventDefaultAction(t);break;case 46:if("visualmode"==this.model.multiSelectMode||this.model.showCheckbox){this._deleteBox(this._ulBox.children("li.e-active"));break}}}},_isSingleSelect:function(){return!this.model.showCheckbox&&"none"==this.model.multiSelectMode},_selectAndUnselect:function(){this.model.showCheckbox?this._isChecked(this._getActiveItem().find(".e-checkwrap")[0])?this._removeTextBoxValue():this._enterTextBoxValue():"none"!=this.model.MultiSelectMode&&(this._getActiveItem().hasClass("e-active")?this._removeTextBoxValue():this._enterTextBoxValue())},_targetFocus:function(){this.model.enabled&&!this._isFocused&&(this._isWatermark||this._hiddenSpan.css("display","none"),this.wrapper.addClass("e-focus e-popactive"),this._isFocused=!0,this._trigger("focusIn"))},_targetBlur:function(){this.model.enabled&&(this._isFocused=!1,this.wrapper.removeClass("e-focus e-popactive"),this._setWatermark(),this._trigger("focusOut"))},_getLocalizedLabels:function(t){return this._localizedLabels[t]===h?s.DropDownList.Locale["en-US"][t]:this._localizedLabels[t]},_wireEvents:function(){this._on(this.wrapper,"focus",this._targetFocus),this._on(this.wrapper,"blur",this._targetBlur),this._on(this.wrapper,"keydown",this._OnKeyDown),s.isNullOrUndefined(this.popupList)||this._on(this.popupList,"keydown",this._OnKeyDown),s.isNullOrUndefined(this.popupList)||this._on(this.popupList,"keyup",this._OnKeyUp),this._on(this.wrapper,"keyup",this._OnKeyUp),s.isNullOrUndefined(this.popupList)||this._on(this.popupList,"keypress",this._OnKeyPress),this._on(this.wrapper,"keypress",this._OnKeyPress)},_unwireEvents:function(){this._off(this.wrapper,"focus",this._targetFocus),this._off(this.wrapper,"blur",this._targetBlur),this._off(this.wrapper,"keydown",this._OnKeyDown),s.isNullOrUndefined(this.popupList)||this._off(this.popupList,"keydown",this._OnKeyDown),s.isNullOrUndefined(this.popupList)||this._off(this.popupList,"keyup",this._OnKeyUp),this._off(this.wrapper,"keyup",this._OnKeyUp),s.isNullOrUndefined(this.popupList)||this._off(this.popupList,"keypress",this._OnKeyPress),this._off(this.wrapper,"keypress",this._OnKeyPress),a(window).off("resize",a.proxy(this._OnWindowResize,this))},_multiItemSelection:function(t,o){var l,p;for(this._ulBox||"visualmode"!=this.model.multiSelectMode||this._renderBoxModel(),l=0;l<t.length;l++)p=o?this._rawList.length-(t.length-l):l,this._hasClass(t[l],"chkselect")&&(this._activeItem=p,this._enterTextBoxValue(),this._removeClass(t[l],"chkselect"));this._setWatermark()},_appendCheckbox:function(t,o){var l;for(this._ulBox||"visualmode"!=this.model.multiSelectMode||this._renderBoxModel(),l=0;l<t.length;l++){var p=o?this._rawList.length-(t.length-l):l,g=document.createElement("input"),b=document.createElement("span");this._setAttr(g,{type:"checkbox",name:"list"+p,"data-role":"none",id:this._id+"_check"+p})._setClass(g,"e-check-input")._setAttr(b,{name:"list"+p+"_wrap","data-role":"none",id:this._id+"_check"+p+"wrap",unselectable:"on","aria-checked":!1})._setClass(b,"e-checkwrap e-icon "),b.appendChild(g),t[l].insertBefore(b,t[l].childNodes[0]),this._hasClass(t[l],"chkselect")&&(this._activeItem=p,this._enterTextBoxValue(),this._removeClass(t[l],"chkselect"))}this._setWatermark()},_onCheckChange:function(t){this.checkChange=!0;var o="INPUT"===t.target.nodeName?t.target.parentElement:t.target;this._activeItem=a.inArray(a(o).parents("li")[0],this._getLi()),this._hasClass(o,"e-check-act")?this._removeTextBoxValue():this._enterTextBoxValue(!0),this.checkChange=!1},_isChecked:function(t){return this._hasClass(t,"e-check-act")&&1==a(t).children(".e-check-input")[0].checked},_removeCheck:function(){this._getLi().find(".e-checkwrap").remove()},_resetCheck:function(){var o,l,t=this._getLi();for(t.find(".e-check-act").removeClass("e-check-act").attr("aria-checked",!1),o=t.find(".e-check-input:checked"),l=0;l<o.length;l++)o[l].checked=!1}}),s.DropDownList.Locale=s.DropDownList.Locale||{},s.DropDownList.Locale.default=s.DropDownList.Locale["en-US"]={emptyResultText:"No suggestions",watermarkText:""},s.MultiSelectMode={None:"none",Delimiter:"delimiter",VisualMode:"visualmode"},s.VirtualScrollMode={Normal:"normal",Continuous:"continuous"}}(jQuery,Syncfusion),function(a,s,h){s.widget("ejDialog","ej.Dialog",{_rootCSS:"e-dialog",element:null,_ignoreOnPersist:["drag","dragStart","dragStop","resizeStop","resizeStart","resize","beforeClose","beforeOpen","collapse","expand","close","open","destroy","create","ajaxSuccess","ajaxError","contentLoad","actionButtonClick","enableResize"],model:null,validTags:["div","span"],_setFirst:!1,angular:{terminal:!1},defaults:{showOnInit:!0,closeOnEscape:!0,closeIconTooltip:"close",enableAnimation:!0,allowDraggable:!0,backgroundScroll:!0,height:"auto",minHeight:120,minWidth:200,maxHeight:null,maxWidth:null,enableModal:!1,position:{X:"",Y:""},containment:null,enableResize:!0,htmlAttributes:{},showHeader:!0,showFooter:!1,contentType:null,contentUrl:null,ajaxSettings:{type:"GET",cache:!1,data:{},dataType:"html",contentType:"html",async:!0},title:"",width:400,zIndex:1e3,cssClass:"",enableRTL:!1,allowKeyboardNavigation:!0,showRoundedCorner:!1,actionButtons:["close"],animation:{show:{effect:"fade",duration:400},hide:{effect:"fade",duration:400}},tooltip:{close:"Close",collapse:"Collapse",restore:"Restore",maximize:"Maximize",minimize:"Minimize",expand:"Expand",unPin:"UnPin",pin:"Pin"},footerTemplateId:null,locale:"en-US",faviconCSS:null,content:null,target:null,enablePersistence:!1,enabled:!0,isResponsive:!1,actionButtonClick:null,beforeClose:null,close:null,expand:null,collapse:null,beforeOpen:null,open:null,drag:null,dragStart:null,dragStop:null,resize:null,resizeStart:null,resizeStop:null,contentLoad:null,ajaxSuccess:null,ajaxError:null,create:null,destroy:null,Close:null},dataTypes:{showOnInit:"boolean",closeOnEscape:"boolean",enableAnimation:"boolean",backgroundScroll:"boolean",position:"data",animation:"data",closeIconTooltip:"string",tooltip:"data",allowDraggable:"boolean",enableModal:"boolean",enableResize:"boolean",isResponsive:"boolean",showHeader:"boolean",showFooter:"boolean",title:"string",faviconCSS:"string",zIndex:"number",cssClass:"string",enablePersistence:"boolean",contentUrl:"string",contentType:"string",enableRTL:"boolean",enabled:"boolean",allowKeyboardNavigation:"boolean",showRoundedCorner:"boolean",locale:"string",htmlAttributes:"data",ajaxSettings:"data",actionButtons:"array",footerTemplateId:"string"},_setModel:function(t){var o,l;for(o in t)switch(o){case"closeIconTooltip":this._dialogClose.attr("title",t[o]);break;case"tooltip":this._tooltipText(t[o]);break;case"title":this.model.title=t[o],this._ejDialog.find("span.e-title").length<=0?this._addTitleText():this._ejDialog.find("span.e-title").html(t[o]),this._updateCaptionWidth();break;case"width":this.model.width=t[o],this._changeSize(),this._updateCaptionWidth(),t[o]=this.model.width;break;case"height":this.model.height=t[o],this._changeSize(),t[o]=this.model.height;break;case"position":this.model.position=t[o],this._dialogPosition();break;case"cssClass":this._changeSkin(t[o]);break;case"showRoundedCorner":this.model.showRoundedCorner=t[o],this._roundedCorner(t[o]);break;case"contentType":this.model.contentType=t[o],this._appendContent(t[o]);break;case"enabled":this.model.enabled=t[o],this._enabledAction(t[o]);break;case"contentUrl":this.model.contentUrl=t[o],this._appendContent(this.model.contentType);break;case"backgroundScroll":this.model.backgroundScroll=t[o],!this.model.backgroundScroll&&this.model.enableModal?a("body").addClass("e-dialog-modal"):a("body").removeClass("e-dialog-modal");break;case"content":case"target":this._ejDialog.appendTo(a(t[o])),this.model.target=this.model.content=t[o],this._dialogPosition();break;case"containment":this._setDragArea(t[o]),s.isNullOrUndefined(this._target)?this._ejDialog.appendTo(document.body):this._ejDialog.appendTo(this._target),this.model.position.X=this.model.position.Y="",this._dialogPosition(),this.model.containment=t[o]=this._target,this.model.enableModal&&this._createOverlay(),this._dialogTitlebar.ejDraggable({dragArea:this._target});break;case"locale":this.model.locale=t[o],this.localizedLabels=this._getLocalizedLabels(),this._setLocaleCulture(this.localizedLabels,!0),this._tooltipText(this.model.tooltip),this._ejDialog.find("span.e-title").length<=0?this._addTitleText():this._ejDialog.find("span.e-title").html(this.model.title),this._updateCaptionWidth();break;case"minHeight":this.model.minHeight=t[o],this._ejDialog.css("minHeight",t[o]),this._minMaxValidation(),this._resetScroller(),this._resizeDialog();break;case"minWidth":this.model.minWidth=t[o],this._ejDialog.css("minWidth",t[o]),this._minMaxValidation(),this._resetScroller(),this._resizeDialog();break;case"maxHeight":this.model.maxHeight=t[o],this._ejDialog.css("maxHeight",t[o]),this._minMaxValidation(),this._resetScroller(),this._resizeDialog();break;case"maxWidth":this.model.maxWidth=t[o],this._ejDialog.css("maxWidth",t[o]),this._minMaxValidation(),this._resetScroller(),this._resizeDialog();break;case"zIndex":this._ejDialog.css("z-index",t[o]);break;case"faviconCSS":this.model.faviconCSS=t[o],this._favIcon(),this._updateCaptionWidth();break;case"isResponsive":this.model.isResponsive=t[o],this.model.isResponsive?this._ejDialog.addClass("e-dialog-resize"):this._ejDialog.removeClass("e-dialog-resize"),this._wireResizing();break;case"allowDraggable":this.model.allowDraggable=t[o],t[o]?this._enableDrag():this._dialogTitlebar.removeClass("e-draggable");break;case"enableResize":this.model.enableResize=t[o],t[o]?this._enableResize():(this._ejDialog.removeClass("e-resizable"),this._ejDialog.find(".e-resize-handle").remove()),this._reRenderScroller();break;case"showHeader":this.model.showHeader=t[o],t[o]?(this._renderTitleBar(),this._iconsRender(this.model.actionButtons),this.model.faviconCSS&&(this._dialogFavIcon=!1,this._favIcon()),this._enableDrag(),this._maximize||this._updateScroller(s.isNullOrUndefined(this.contentDiv)?this._ejDialog.outerHeight(!0)-1-this._dialogTitlebar.outerHeight(!0):"0px"==this.contentDiv.css("border-width"),s.isNullOrUndefined(this.contentDiv)?this._ejDialog.width()-2:"0px"==this.contentDiv.css("border-width"))):(this._ejDialog.find(".e-titlebar").remove(),this._maximize?this.refresh():this._updateScroller(s.isNullOrUndefined(this.contentDiv)?this._ejDialog.outerHeight(!0)-1:"0px"==this.contentDiv.css("border-width"),s.isNullOrUndefined(this.contentDiv)?this._ejDialog.width()-2:"0px"==this.contentDiv.css("border-width"))),this._roundedCorner(this.model.showRoundedCorner),this.model.showFooter&&this._setContainerSize()._resetScroller();break;case"showFooter":this.model.showFooter=t[o],t[o]?(this._appendContent(),this._ejDialog.find(".e-resizable").remove()):this._ejDialog.find(".e-footerbar").remove(),this._enableResize()._enableDrag()._sizeInPercent(),this._reRenderScroller(),this._setContainerSize()._resetScroller(),this._roundedCorner(this.model.showRoundedCorner);break;case"footerTemplateId":this.model.footerTemplateId=t[o],this.model.showFooter&&(this._ejDialog.find(".e-footerbar").empty(),l=a("body").find("#"+this.model.footerTemplateId).html(),this._dialogFooterbar.append(l),this._enableResize());break;case"enableRTL":this.model.enableRTL=t[o],this.model.faviconCSS&&this._favIcon(),t[o]?(this._ejDialog.addClass("e-rtl"),this.iframe&&this.iframe.contents().find("body").css("direction","rtl"),this.scroller&&this._resetScroller()):(this._ejDialog.removeClass("e-rtl"),this.iframe&&this.iframe.contents().find("body").css("direction","ltr"),this.scroller&&this._resetScroller());break;case"actionButtons":s.isNullOrUndefined(this._dialogTitlebar)||(this._removeAllIcons(),this._iconsRender(t[o])),this.model.actionButtons=t[o],this._updateCaptionWidth();break;case"enableModal":this._enableModal(t[o]);break;case"htmlAttributes":this._addAttr(t[o])}},_destroy:function(){this._overLay&&this._overLay.remove(),this._cloneElement.appendTo(this._ejDialog.parent()),this._ejDialog.remove(),this.model.enableAnimation&&this._ejDialog.stop(),this._cloneElement.removeClass("e-dialog"),this.element=this._cloneElement,this._isOpen=!1,a(window).off("resize",a.proxy(this._reSizeHandler,this))},keyConfigs:[37,38,39,40],_init:function(){this._init=!0,this._widthPercent=null,this._heightPercent=null,this._windowSize={outerWidth:a(window).outerWidth(),outerHeight:a(window).outerHeight()},this._initSize={width:this.model.width,height:this.model.height},this._sizeType={width:isNaN(this.model.width)?this.model.width.match(/px|%|auto/g)[0]:null,height:isNaN(this.model.height)?this.model.height.match(/px|%|auto/g)[0]:null},this._isOpen=this._maximize=this._minimize=!1,this.localizedLabels=this._getLocalizedLabels(),this._setLocaleCulture(this.localizedLabels),this._setDimension(),this.model.close||(this.model.close=this.model.Close),this.model.target||(this.model.target=this.model.content),this._responsive(),this._renderControl(),this._wireEvents(),this.scrObj=this._ejDialog.closest(".e-dialog.e-js").data("ejDialog"),this.scrObj&&this.scrObj._resetScroller(),this.hidden=!1,this._init=!1,this._keyNavigation=!1},_responsive:function(){this.width=this.model.width,a(this.element).width(this.width),this.height=this.model.height,a(this.element).height(this.height),a(window).on("resize",a.proxy(this._resizeHandler,this))},_resizeHandler:function(){this._maximize&&(this.width=a(this._dialogTitlebar).outerWidth(),a(this.contentDiv).width(this.width),a(this.contentDiv).children().width(this.width),this.model.height=this.height=a(window).height(),this._ejDialog.css({height:this.height}),this.contentDiv.height(this._ejDialog.height()-a(this._dialogTitlebar).outerHeight()-a(this._dialogFooterbar).outerHeight()),this.element.height(this.contentDiv.height())),s.isNullOrUndefined(this.element)||this._collapsible||this._resetScroller()},_setLocaleCulture:function(t,o){this.defaults.closeIconTooltip===this.model.closeIconTooltip&&(this.model.closeIconTooltip=t.closeIconTooltip),o&&(this.model.tooltip=this.localizedLabels.tooltip,this.model.title=this.localizedLabels.title),JSON.stringify(this.model.tooltip)===JSON.stringify(this.defaults.tooltip)&&(this.model.tooltip=t.tooltip),this.model.title===this.defaults.title&&(this.model.title=t.title)},_setDragArea:function(t){s.isNullOrUndefined(t)?this._target=null:"string"==typeof t?("parent"==t&&(this._target=a(this.element).parent()),"document"==t.toLowerCase()&&(this._target=a(document)),"window"==t.toLowerCase()?this._target=a(window):a(t).length>0&&(this._target=a(t))):"object"==typeof t?t.length>0&&(this._target=t):this._target=null},_addAttr:function(t){var o=this;a.map(t,function(l,p){if("class"==p)o._ejDialog.addClass(l);else if("disabled"==p&&"disabled"==l)o.model.enabled=!1,o._enabledAction(!1);else if(o._ejDialog[0].hasAttribute("style")){var g=o._ejDialog[0].getAttribute("style")+l;o._ejDialog.attr(p,g)}})},_tooltipText:function(t){a.extend(this.model.tooltip,t),!s.isNullOrUndefined(this._dialogClose)&&this._dialogClose.hasClass("e-close")&&this._dialogClose.attr("title",this.model.tooltip.close),!s.isNullOrUndefined(this._dialogCollapsible)&&(t.collapse||t.expand)&&(this._dialogCollapsible.hasClass("e-arrowhead-up")&&this._dialogCollapsible.attr("title",this.model.tooltip.collapse),this._dialogCollapsible.hasClass("e-arrowhead-down")&&this._dialogCollapsible.attr("title",this.model.tooltip.expand)),!s.isNullOrUndefined(this._dialogMaximize)&&(t.maximize||t.restore)&&(this._dialogMaximize.hasClass("e-maximize")&&this._dialogMaximize.attr("title",this.model.tooltip.maximize),this._dialogMaximize.hasClass("e-restore")&&this._dialogMaximize.attr("title",this.model.tooltip.restore)),!s.isNullOrUndefined(this._dialogMinimize)&&(t.minimize||t.restore)&&(this._dialogMinimize.hasClass("e-minus")&&this._dialogMinimize.attr("title",this.model.tooltip.minimize),this._dialogMinimize.hasClass("e-restore")&&this._dialogMinimize.attr("title",this.model.tooltip.restore)),!s.isNullOrUndefined(this._dialogPin)&&(t.pin||t.unPin)&&(this._dialogPin.hasClass("e-unpin")&&this._dialogPin.attr("title",this.model.tooltip.pin),this._dialogPin.hasClass("e-pin")&&this._dialogPin.attr("title",this.model.tooltip.unPin))},_renderControl:function(){var t,o,l;this._cloneElement=this.element.clone(),this.element.attr("tabindex",0).attr({role:"dialog","aria-labelledby":this.element.prop("id")+"_title"}),this._ejDialog=s.buildTag("div.e-dialog e-widget e-box "+this.model.cssClass+" e-dialog-wrap e-shadow#"+(""==this.element.prop("id")?"":this.element.prop("id")+"_wrapper"),"",{display:"none",zIndex:this.model.zIndex},{tabindex:0}),this.model.isResponsive&&this._ejDialog.addClass("e-dialog-resize"),this.wrapper=this._ejDialog,this._addAttr(this.model.htmlAttributes),this._setDragArea(this.model.containment),s.isNullOrUndefined(this.model.containment)||s.isNullOrUndefined(this._target)?s.isNullOrUndefined(this.model.target)||(t=this.model.target):t=this._target,o=s.isNullOrUndefined(t)?document.body:t,(l=a(o).find("#"+this._id+"_wrapper").get(0))&&a(l).remove(),this._ejDialog.appendTo(o),this.model.enableRTL&&this._ejDialog.addClass("e-rtl"),this.model.showHeader&&(this._renderTitleBar(),this._iconsRender(this.model.actionButtons),this.model.faviconCSS&&this._favIcon()),this._appendContent(this.model.contentType),this._enableResize()._enableDrag()._setSize(),"auto"!=this.model.height&&this._sizeInPercent(),"ajax"!=this.model.contentType&&(this.model.showOnInit&&this.open()?this._setContainerSize()._resetScroller():this._setHiddenDialogSize()),this._roundedCorner(this.model.showRoundedCorner),this._enabledAction(this.model.enabled),"auto"==this._sizeType.width&&(this._maxWidth=this.model.width),"auto"==this._sizeType.height&&(this._maxHeight=this.model.height)},_setContainerSize:function(){if("auto"!=this.model.height){var t=this._ejDialog.outerHeight()-(this.model.showHeader?a(this._ejDialog.find("div.e-titlebar")).outerHeight(!0):0)+(this.model.showFooter?a(this._ejDialog.find("div.e-footerbar")).outerHeight(!0):0)-1;this.contentDiv.height(t),this.element.outerHeight(t)}return this},_changeSize:function(){this._initSize={width:this.model.width,height:this.model.height},this._sizeType.width=isNaN(this.model.width)?this.model.width.match(/px|%|auto/g):null,this._sizeType.height=isNaN(this.model.height)?this.model.height.match(/px|%|auto/g):null,this._setSize()._sizeInPercent()._setContainerSize()._resetScroller()},_enableDrag:function(){return this.model.allowDraggable&&this.model.showHeader&&(this._dialogTitlebar.addClass("e-draggable"),this._dragDialog()),this},_enableResize:function(){this.model.enableResize&&(this._ejDialog.addClass("e-resizable"),s.buildTag("div.e-icon e-resize-handle").appendTo(this.model.showFooter?this._dialogFooterbar:this._ejDialog),this._resizeDialog());return this},_changeSkin:function(t){this.model.cssClass!=t&&this._ejDialog.removeClass(this.model.cssClass).addClass(t)},_enableModal:function(t){t?this._isOpen&&this._createOverlay():this._overLay&&this._overLay.remove()},_enabledAction:function(t){t?(this._ejDialog.removeClass("e-disable"),this.wrapper.children(".e-disable-overlay").remove(),s.isNullOrUndefined(this.scroller)||this.scroller.enable()):(this._ejDialog.addClass("e-disable"),s.buildTag("div.e-disable-overlay").appendTo(this.wrapper),s.isNullOrUndefined(this.scroller)||this.scroller.disable())},_renderTitleBar:function(){this._elementTitle=this.element.attr("title"),"string"!=typeof this._elementTitle&&(this._elementTitle=""),this.model.title=this.model.title||this._elementTitle,this._dialogTitlebar=s.buildTag("div#"+this.element.prop("id")+"_title.e-titlebar e-header").prependTo(this._ejDialog),this._addTitleText()},_renderFooterBar:function(){this._dialogFooterbar=s.buildTag("div#"+this.element.prop("id")+"_foot.e-footerbar e-js").appendTo(this._ejDialog)},_addTitleText:function(){return this.model.title&&(this._titleText=s.buildTag("span.e-title",this.model.title).prependTo(this._dialogTitlebar)),this},_updateCaptionWidth:function(){var t=this.model.faviconCSS&&!s.isNullOrUndefined(this._dialogFavIcon)?this._dialogFavIcon.outerWidth():0;return this._titleText&&!s.isNullOrUndefined(this._dialogTitlebar)&&this._titleText.css("max-width",this._dialogTitlebar.width()-20-this._dialogTitlebar.find(".e-dialog-icon").width()*this._dialogTitlebar.find(".e-dialog-icon").length-t),this},_iconsRender:function(t){for(var o=0;o<t.length;o++)switch("msie"==s.browserInfo().name&&s.browserInfo().version<=8?a.trim(t[o]):t[o].trim()){case"close":this._closeIcon();break;case"collapse":case"collapsible":this._collapsibleIcon();break;case"maximize":this._maximizeIcon();break;case"minimize":this._minimizeIcon();break;case"pin":this._pinIcon();break;default:this._customIconsRender(t[o])}},_customIconsRender:function(t){this._customIcon=s.util.buildTag("div#"+this.element[0].id+"_"+t+"button.e-dialog-icon e-icon e-"+t,null,null).attr("tabIndex","0").attr("title",t),this._customIcon.appendTo(this._dialogTitlebar),this._on(this._customIcon,"touchstart click",this._iconClick)},_iconClick:function(t){if(!this.element.hasClass("e-disable")){var o={cancel:!1,buttonID:a(t.target).attr("id"),event:t.type,model:this.model,currentTarget:t.currentTarget.title};this._trigger("actionButtonClick",o)}},_removeAllIcons:function(){this._dialogTitlebar.find("div.e-dialog-icon").remove()},_appendContent:function(t){var o,l,p,g,b;this.contentDiv=s.isNullOrUndefined(this.contentDiv)?s.buildTag("div.e-dialog-scroller"):this.contentDiv,this.element.removeAttr("title").addClass("e-widget-content e-box"),o=this,s.isNullOrUndefined(this.model.contentUrl)||s.isNullOrUndefined(t)?(this.dialogIframeContent=this.element.children().find("iframe").contents()[0],s.isNullOrUndefined(this.dialogIframeContent)?this.element.show().appendTo(this.contentDiv):this.element.show().appendTo(this.contentDiv).find("iframe").append(this.dialogIframeContent.lastChild)):"ajax"==t?(this.model.ajaxSettings.url=this.model.contentUrl,this._sendAjaxOptions(this.element,this.model.ajaxSettings.url)):"iframe"==t?(this.element.children(".e-iframe").length>0?(this.iframe=this.element.find("iframe.e-iframe"),this.iframe.attr("src",this.model.contentUrl)):(this.iframe=s.buildTag("iframe.e-iframe","",{width:"100%",height:"100%"},{scrolling:"auto",frameborder:0,src:this.model.contentUrl}),this.element.appendTo(this.contentDiv).append(this.iframe).show()),this.model.enableRTL&&a(this.iframe).load(function(){o.iframe.contents().find("body").css("direction","rtl")}),this._trigger("contentLoad",{contentType:t,url:this.model.contentUrl})):"image"==t?(l=s.buildTag("img.e-images","","",{src:this.model.contentUrl}),this.element.append(l).show().appendTo(this.contentDiv),a(l).on("load",function(){o._dialogPosition()}),this._trigger("contentLoad",{contentType:t,url:this.model.contentUrl})):this.element.show().appendTo(this.contentDiv),this._ejDialog.find("div.e-resize-handle").length>0?0==this._ejDialog.find(".e-footerbar").length&&this.contentDiv.insertBefore(this._ejDialog.find("div.e-resize-handle")):(p=this.element.children().find("iframe").contents()[0],s.isNullOrUndefined(p)?0==this._ejDialog.find(".e-footerbar").length?this.contentDiv.appendTo(this._ejDialog):this.contentDiv.insertBefore(this._dialogFooterbar):(this.contentDiv.appendTo(this._ejDialog),g=a("#"+this.contentDiv.find("iframe").attr("id")),a(g[0].contentDocument.lastChild).remove(),g[0].contentDocument.appendChild(p),"mozilla"==s.browserInfo().name&&setTimeout(function(){a(g[0].contentDocument.lastChild).remove(),g[0].contentDocument.appendChild(p)},500))),this.model.showFooter&&0==this._ejDialog.find(".e-footerbar").length&&(this._renderFooterBar(),null!=this.model.footerTemplateId&&(b=a("body").find("#"+this.model.footerTemplateId).html(),this._dialogFooterbar.append(b)))},_roundedCorner:function(t){this._ejDialog[t?"addClass":"removeClass"]("e-corner"),this.contentDiv.removeClass("e-dialog-top e-dialog-bottom e-dialog-content"),this.model.showRoundedCorner&&(this.model.showHeader&&!this.model.showFooter?this.contentDiv.addClass("e-dialog-bottom"):!this.model.showHeader&&this.model.showFooter?this.contentDiv.addClass("e-dialog-top"):!this.model.showHeader&&!this.model.showFooter&&this.contentDiv.addClass("e-dialog-content"))},_reRenderScroller:function(){if(null!=this.scroller&&(this.scroller.refresh(!0),!this.model.enableRTL)){if(this.scroller._vScrollbar&&this.scroller._vScrollbar._scrollData&&this.model.enableResize){if(this.model.showFooter)var t=this.scroller._vScrollbar.element.find("> div.e-vscroll").height(),o=0,l=0;else t=this.scroller._vScrollbar.element.find("> div.e-vscroll").height(),o=2,l=this._ejDialog.find("div.e-resize-handle").outerHeight();Math.floor(this.contentDiv.outerHeight())===Math.floor(this.scroller._vScrollbar.model.height+1)&&(this.scroller._vScrollbar.model.height-=l+o,this.scroller._vScrollbar._scrollData.handle-=l,this.scroller._vScrollbar._scrollData.handleSpace-=l+o,this.scroller._vScrollbar._updateLayout(this.scroller._vScrollbar._scrollData),this.scroller._vScrollbar.element.find("> div.e-vscroll").height(t-l-o))}if((!this.scroller._vScrollbar||!this.scroller._vScrollbar._scrollData)&&this.scroller._hScrollbar&&this.scroller._hScrollbar._scrollData&&this.model.enableResize){if(this.model.showFooter){var p=this.scroller._hScrollbar.element.find("> div.e-hscroll").width();o=0,l=0}else p=this.scroller._hScrollbar.element.find("> div.e-hscroll").width(),o=2,l=this._ejDialog.find("div.e-resize-handle").outerWidth();this.scroller._hScrollbar.model.width-=l+o,this.scroller._hScrollbar._scrollData.handle-=l+o,this.scroller._hScrollbar._scrollData.handleSpace-=l+o,this.scroller._hScrollbar._updateLayout(this.scroller._hScrollbar._scrollData),this.scroller._hScrollbar.element.find("> div.e-hscroll").width(p-l-o)}}},_dialogMaxZindex:function(){var o,l,p,t=this.element.parents();return o=a("body").children(),a(o).each(function(g,b){t.push(b)}),l=a(this.model.target).children(),a(l).each(function(g,b){t.push(b)}),!(p=Math.max.apply(p,a.map(t,function(g){if("static"!=a(g).css("position"))return parseInt(a(g).css("z-index"))||1})))||p<1e4?p=1e4:p+=1,p},_setZindex:function(){var t=this._dialogMaxZindex();this.model.zIndex<=t&&this._ejDialog.css({zIndex:t+1})},_createOverlay:function(){var o,t=this._ejDialog.css("zIndex");s.isNullOrUndefined(this._overLay)||this._overLay.remove(),this.model.backgroundScroll||a("body").addClass("e-dialog-modal"),this._overLay=s.buildTag("div#"+this.element.attr("id")+"_overLay.e-overlay","",{zIndex:t-1}),a(this._overLay).addClass("e-widget"),s.isNullOrUndefined(this.model.containment)||s.isNullOrUndefined(this._target)?s.isNullOrUndefined(this.model.target)||(o=this.model.target):o=this._target,this._overLay.appendTo(s.isNullOrUndefined(o)?document.body:o);var l=s.isNullOrUndefined(this.model.containment)||s.isNullOrUndefined(this._target)?"fixed":"absolute",p=s.isNullOrUndefined(o)||"fixed"==l||"static"!=a(o).css("position").toLowerCase()?0:a(o).offset().left,g=s.isNullOrUndefined(o)||"fixed"==l||"static"!=a(o).css("position").toLowerCase()?0:a(o).offset().top;this._overLay.css({top:g,left:p,position:l})},_sendAjaxOptions:function(t,o){t.addClass("e-load");var l=this,p=this.model.title,b={success:function(C){try{l._ajaxSuccessHandler(C,t,o,p)}catch{}},error:function(C){try{l._ajaxErrorHandler({status:C.status,responseText:C.responseText,statusText:C.statusText},t,o,p)}catch{}},complete:function(){try{l._setContainerSize(),l._resetScroller(),l.model.showOnInit||l._setHiddenDialogSize()}catch{}}};a.extend(!0,b,this.model.ajaxSettings),this._sendAjaxRequest(b)},_setHiddenDialogSize:function(){this._isOpen||(this._ejDialog.css({display:"block",visibility:"hidden"}),this._setContainerSize()._resetScroller(),this._ejDialog.css({display:"none",visibility:""}))},_sendAjaxRequest:function(t){a.ajax({type:t.type,cache:t.cache,url:t.url,dataType:t.dataType,data:t.data,contentType:t.contentType,async:t.async,success:t.success,error:t.error,beforeSend:t.beforeSend,complete:t.complete})},_ajaxSuccessHandler:function(t,o,l){o.removeClass("e-load"),o.html(t).addClass("e-dialog-loaded").appendTo(this._ejDialog),o.appendTo(this.contentDiv),this._dialogPosition(),this.model.showOnInit&&this.open(),this._trigger("ajaxSuccess",{data:t,url:l})},_ajaxErrorHandler:function(t,o,l){o.addClass("e-dialog-loaded").appendTo(this.contentDiv),this._dialogPosition().open(),this._trigger("ajaxError",{data:t,url:l})},_closeIcon:function(){this._dialogClose=s.util.buildTag("div#"+this.element[0].id+"_closebutton.e-dialog-icon e-icon e-close",null,null).attr("tabIndex","0"),"close"==this.model.closeIconTooltip&&"Close"==this.model.tooltip.close?this._dialogClose.appendTo(this._dialogTitlebar).attr("title",this.model.tooltip.close):"close"!=this.model.closeIconTooltip&&"Close"==this.model.tooltip.close?this._dialogClose.appendTo(this._dialogTitlebar).attr("title",this.model.closeIconTooltip):this._dialogClose.appendTo(this._dialogTitlebar).attr("title",this.model.tooltip.close),this._on(this._dialogClose,"touchstart click",this._closeClick)},_collapsibleIcon:function(){this._dialogCollapsible=s.util.buildTag("div#"+this.element[0].id+"_collapsbutton.e-dialog-icon e-icon",null,null).attr("tabIndex","0"),this._collapsible?this._dialogCollapsible.appendTo(this._dialogTitlebar).attr("title",this.model.tooltip.expand).addClass("e-arrowhead-down").removeClass("e-arrowhead-up"):this._dialogCollapsible.appendTo(this._dialogTitlebar).attr("title",this.model.tooltip.collapse).addClass("e-arrowhead-up").removeClass("e-arrowhead-down"),this._on(this._dialogCollapsible,"touchstart click",this._collapsibleClick)},_maximizeIcon:function(){this._dialogMaximize=s.util.buildTag("div#"+this.element[0].id+"_maximizebutton.e-dialog-icon e-icon",null,null).attr("tabIndex","0"),this._maximize?this._dialogMaximize.appendTo(this._dialogTitlebar).attr("title",this.model.tooltip.restore).addClass("e-restore").removeClass("e-maximize"):this._dialogMaximize.appendTo(this._dialogTitlebar).attr("title",this.model.tooltip.maximize).addClass("e-maximize").removeClass("e-restore"),this._on(this._dialogMaximize,"touchstart click",this._maximizeClick)},_minimizeIcon:function(){this._dialogMinimize=s.util.buildTag("div#"+this.element[0].id+"_minimizebutton.e-dialog-icon e-icon",null,null).attr("tabIndex","0"),this._minimize?this._dialogMinimize.appendTo(this._dialogTitlebar).attr("title",this.model.tooltip.restore).addClass("e-restore").removeClass("e-minus"):this._dialogMinimize.appendTo(this._dialogTitlebar).attr("title",this.model.tooltip.minimize).addClass("e-minus").removeClass("e-restore"),this._on(this._dialogMinimize,"touchstart click",this._minimizeClick)},_pinIcon:function(){this._dialogPin=s.util.buildTag("div#"+this.element[0].id+"_pinbutton.e-dialog-icon e-icon",null,null).attr("tabIndex","0"),this._dialogPin.appendTo(this._dialogTitlebar).attr("title",this.dialogPin?this.model.tooltip.unPin:this.model.tooltip.pin).addClass(this.dialogPin?"e-pin":"e-unpin").removeClass(this.dialogPin?"e-unpin":"e-pin"),this._on(this._dialogPin,"touchstart click",this._pinClick)},_favIcon:function(){if(this._dialogFavIcon)t=this._dialogFavIcon.find("span").removeClass().addClass("e-dialog-custom");else{this._dialogFavIcon=s.util.buildTag("div.e-dialog-favicon","",{},{style:"float:"+(this.model.enableRTL?"right":"left")});var t=s.util.buildTag("span.e-dialog-custom","",{},{role:"presentation"});t.appendTo(this._dialogFavIcon),this._dialogFavIcon.appendTo(this._dialogTitlebar)}this.model.faviconCSS?t.addClass(this.model.faviconCSS):this._dialogFavIcon.remove(),this._dialogFavIcon.css("float",this.model.enableRTL?"right":"left")},_minMaxValidation:function(){var t=parseInt(this.model.minWidth),o=parseInt(this.model.minHeight),l=parseInt(this.model.maxWidth),p=parseInt(this.model.maxHeight),g=parseInt(this.model.width),b=parseInt(this.model.height),C=this._getParentObj();isNaN(this.model.minWidth)&&this.model.minWidth.indexOf("%")>0&&(t=this._convertPercentageToPixel(C.outerWidth(),t)),isNaN(this.model.minHeight)&&this.model.minHeight.indexOf("%")>0&&(o=this._convertPercentageToPixel(C.outerHeight(),o)),isNaN(this.model.maxWidth)&&this.model.maxWidth.indexOf("%")>0&&(l=this._convertPercentageToPixel(C.innerWidth(),l)),isNaN(this.model.maxHeight)&&this.model.maxHeight.indexOf("%")>0&&(p=this._convertPercentageToPixel(C.innerHeight(),p)),isNaN(this.model.width)&&this.model.width.indexOf("%")>0&&(g=this._convertPercentageToPixel(C.innerWidth(),g)),isNaN(this.model.height)&&this.model.height.indexOf("%")>0&&(b=this._convertPercentageToPixel(C.innerHeight(),b)),(l&&g>l||t&&g<t)&&(this.model.width=g>l?l:t),(p&&b>p||o&&b<o)&&(this.model.height=b>p?p:o)},_setSize:function(){var t=this.model;return this._minMaxValidation(),this._ejDialog.css({width:t.width,minWidth:t.minWidth,maxWidth:t.maxWidth}),this._ejDialog.css({height:t.height,minHeight:t.minHeight,maxHeight:t.maxHeight}),this._dialogPosition(),this},_resetScroller:function(){this.element.css({height:"auto","max-width":"","max-height":"",width:""});var o,t=this._ejDialog.outerHeight(!0)-(this.model.showHeader?a(this._ejDialog.find("div.e-titlebar")).outerHeight(!0):0)-(this.model.showFooter?a(this._ejDialog.find("div.e-footerbar")).outerHeight(!0):0),l={width:"0px"==this.contentDiv.css("border-width")||"0px"==this.contentDiv.css("border-left-width")?Math.round(this._ejDialog.width()):Math.round(this._ejDialog.width()-2),enableRTL:this.model.enableRTL,height:"0px"==this.contentDiv.css("border-width")?t:t-1,enableTouchScroll:!1};"auto"==this.model.height&&(this.element.height()<this.model.maxHeight||!this.model.maxHeight)&&!this._maximize&&(l.height="auto"),"auto"!=this.model.width||this._maximize||(l.width=this.model.width),this.contentDiv.ejScroller(l),this.scroller=this.contentDiv.data("ejScroller"),this._reRenderScroller(),this._padding=parseInt(a(this.element).css("padding-top"))+parseInt(a(this.element).css("padding-bottom")),"none"==a(this._ejDialog).css("display")&&(this.hidden=!0,this._ejDialog.css({display:"block"})),!s.isNullOrUndefined(this.contentDiv.height())&&this.contentDiv.height()>0&&(o=s.isNullOrUndefined(this.scroller)?this.contentDiv.outerHeight()-this._padding:!this.scroller._hScrollbar&&this.scroller._vScrollbar?this.contentDiv.outerHeight():this.scroller._hScrollbar?this.contentDiv.outerHeight()-this.scroller.model.buttonSize:this.contentDiv.outerHeight(),"auto"!=this.model.height&&"100%"!=this.model.height?this.element.css({height:o-1}):this.element.css("height",this.model.height),"auto"!=this.model.height&&"100%"!=this.model.height||this.scroller._vScrollbar||this.element.css({"min-height":this.model.minHeight-(this.model.showHeader?a(this._ejDialog.find("div.e-titlebar")).outerHeight(!0):0)}),this.scroller._vScrollbar||"auto"==this.model.width||"100%"==this.model.width?this.scroller._vScrollbar||this.element.css("width",this.model.width):this.element.outerWidth("0px"==this.contentDiv.css("border-width")||"0px"==this.contentDiv.css("border-left-width")?this._ejDialog.width():this._ejDialog.width()-2),this.element.css({"max-width":this.model.maxWidth,"max-height":this.model.maxHeight})),this.hidden&&this._ejDialog.css({display:"none"}),this.hidden=!1},_updateScroller:function(t,o){this.contentDiv.ejScroller({width:o,height:t,enableRTL:this.model.enableRTL,enableTouchScroll:!1}),this.scroller=this.contentDiv.data("ejScroller"),this._reRenderScroller(),this._changeSize()},_dragDialog:function(){var t=this;return this._ejDialog.parents(".e-dialog-scroller"),this._dialogTitlebar.ejDraggable({handle:".e-titlebar",cursorAt:{top:0,left:0},dragArea:t._target,dragStart:function(l){return l.element.attr("aria-grabbed",!0),t._clickHandler(),t.dialogPin||!t.model.allowDraggable||!t.model.enabled||t._trigger("dragStart",{event:l})?(l.cancel=!0,!1):void 0},drag:function(l){t._trigger("drag",{event:l})},dragStop:function(l){var p,g;t._ejDialog.focus(),l.element.attr("aria-grabbed",!1),t.element.find("> .e-draggable.e-titlebar")&&(p=a("#"+t.element.find("> .e-draggable.e-titlebar").attr("id")).data("ejDraggable"))&&p.option("cursorAt",t.element.offset()),g=this.helper.offsetParent().offset(),t._trigger("dragStop",{event:l}),t.model.position.X=s.isNullOrUndefined(this.position.left)?parseInt(this.helper.css("left")):this.position.left-[g.left+parseFloat(this.helper.offsetParent().css("border-left-width"))],t.model.position.Y=s.isNullOrUndefined(this.position.top)?parseInt(this.helper.css("top")):this.position.top-[g.top+parseFloat(this.helper.offsetParent().css("border-top-width"))],t._positionChanged=!0,t.dlgresized=!0},helper:function(){return a(t._ejDialog).addClass("dragClone")}}),this},_resizeDialog:function(){if(this.model.enableResize){var l,t=this,o=!1,p=parseInt(this.model.minWidth),g=parseInt(this.model.minHeight),b=parseInt(this.model.maxWidth),C=parseInt(this.model.maxHeight);return l=this._getParentObj(),isNaN(this.model.minWidth)&&this.model.minWidth.indexOf("%")>0&&(p=this._convertPercentageToPixel(l.outerWidth(),p)),isNaN(this.model.minHeight)&&this.model.minHeight.indexOf("%")>0&&(g=this._convertPercentageToPixel(l.outerHeight(),g)),isNaN(this.model.maxWidth)&&this.model.maxWidth.indexOf("%")>0&&(b=this._convertPercentageToPixel(l.innerWidth(),b)),isNaN(this.model.maxHeight)&&this.model.maxHeight.indexOf("%")>0&&(C=this._convertPercentageToPixel(l.innerHeight(),C)),this._ejDialog.find("div.e-resize-handle").ejResizable({minHeight:g,minWidth:p,maxHeight:C,maxWidth:b,handle:"e-widget-content",resizeStart:function(T){if(t.dlgresized=!0,!t.model.enabled)return!1;o||t._trigger("resizeStart",{event:T}),o=!0,t.model.position={X:t._ejDialog.css("left"),Y:t._ejDialog.css("top")},t._dialogPosition()},resize:function(T){t.dlgresized=!0;var D=a(T.element).parents("div.e-dialog-wrap");t.model.height=a(D).outerHeight(),t.model.width=a(D).outerWidth(),t._setSize(),t._setContainerSize(),t._resetScroller(),t._updateCaptionWidth(),t._trigger("resize",{event:T}),t._sizeType={width:"px",height:"px"},this.scrObj&&this.scrObj._resetScroller()},resizeStop:function(T){t.dlgresized=!0,t._ejDialog.focus(),t._sizeInPercent();var D=a(T.element).parents("div.e-dialog-wrap");t.model.height=a(D).outerHeight(),t.model.width=a(D).outerWidth(),t._setSize(),t._setContainerSize(),t._resetScroller(),o&&t._trigger("resizeStop",{event:T}),o=!1,t._setDimension()},helper:function(){return a(t._ejDialog)}}),this}},_dialogPosition:function(){if(this._ejDialog.parents("form").length>0&&s.isNullOrUndefined(this.model.containment)&&s.isNullOrUndefined(this.model.target)&&this._ejDialog.appendTo(this._ejDialog.parents("form")),""!=this.model.position.X||""!=this.model.position.Y)if(this._ejDialog.css("position","absolute"),s.isNullOrUndefined(this.model.target)&&s.isNullOrUndefined(this.model.containment))this._ejDialog.css("left",this.model.position.X),this._ejDialog.css("top",this.model.position.Y);else{var t=s.isNullOrUndefined(this.model.containment)?this.model.target:this.model.containment;this.dlgresized||this._keyNavigation?(this._ejDialog.css("left",this.model.position.X),this._ejDialog.css("top",this.model.position.Y)):(this._ejDialog.css("left",a(t).offset().left+parseInt(this.model.position.X)),this._ejDialog.css("top",a(t).offset().top+parseInt(this.model.position.Y)))}else this._centerPosition();return this},_centerPosition:function(){var l,p,g,b,t=0,o=0;s.isNullOrUndefined(this.model.target)&&(s.isNullOrUndefined(this._target)||a(this._target).is(a(document))||a(this._target).is(a(window)))?(b=document.documentElement,t=(a(window).outerWidth()>this._ejDialog.width()?(a(window).outerWidth()-this._ejDialog.outerWidth())/2:0)+(window.pageXOffset||b.scrollLeft),o=(a(window).outerHeight()>this._ejDialog.height()?(a(window).outerHeight()-this._ejDialog.outerHeight())/2:0)+(window.pageYOffset||b.scrollTop)):("static"==(l=s.isNullOrUndefined(this._target)?a(this.model.target):a(this._target)).css("position")&&(p=l.offsetParent().offset(),t=(g=l.offset()).left-p.left,o=g.top-p.top),l.outerWidth()>this._ejDialog.width()&&(t+=(l.outerWidth()-this._ejDialog.width())/2),l.outerHeight()>this._ejDialog.height()&&(o+=(l.outerHeight()-this._ejDialog.height())/2)),this._ejDialog.css({top:o,left:t}),this._ejDialog.css("position","absolute")},_closeClick:function(t){"touchstart"==t.type&&t.preventDefault(),this.model.enabled&&(t.stopPropagation(),this.close(t))},_collapsibleClick:function(t){this.model.enabled&&(a(t.target).hasClass("e-arrowhead-up")?this._actionCollapse(t):a(t.target).hasClass("e-arrowhead-down")&&this._actionExpand(t))},_actionCollapse:function(t){this._minimize||(this._dialogCollapsible&&this._dialogCollapsible.removeClass("e-arrowhead-up").addClass("e-arrowhead-down"),this._dialogCollapsible&&this._dialogCollapsible.attr("title",this.model.tooltip.expand),this._ejDialog.find("div.e-resize-handle").hide(),this._ejDialog.find(".e-widget-content").parent().slideUp("fast"),this.model.showFooter&&this._dialogFooterbar.slideUp("fast"),this._ejDialog.removeClass("e-shadow"),this._ejDialog.css("minHeight","0"),this._ejDialog.height("auto"),this._trigger("collapse",{isInteraction:!!t}),this._collapsible=!0)},_actionExpand:function(t){this._minimize||(this._dialogCollapsible&&this._dialogCollapsible.removeClass("e-arrowhead-down").addClass("e-arrowhead-up"),this._dialogCollapsible&&this._dialogCollapsible.attr("title",this.model.tooltip.collapse),this._ejDialog.addClass("e-shadow"),this._ejDialog.find(".e-widget-content").parent().slideDown("fast"),this.model.showFooter&&this._dialogFooterbar.slideDown("fast"),this._maximize?(this._ejDialog.css({width:"100%",height:"100%"}),this.element.css({width:"100%",height:"100%"}),this.contentDiv.css({width:"100%",height:"100%"})):this._ejDialog.height(this.model.height),this._ejDialog.find("div.e-resize-handle").show(),this._trigger("expand",{isInteraction:!!t}),this._collapsible=!1)},_maximizeClick:function(t){if(this.model.enabled){var o=a(t.target),l=this._dialogMaximize;o.hasClass("e-maximize")?(this._actionMaximize(),this._dialogTitlebar&&(this._dialogTitlebar.find(".e-restore").removeClass("e-restore").addClass("e-minus"),this._dialogMinimize&&this._dialogMinimize.attr("title",this.model.tooltip.minimize)),o.removeClass("e-maximize").addClass("e-restore"),this._dialogMaximize.attr("title",this.model.tooltip.restore),this._hideIcon(!0)):o.hasClass("e-restore")&&(this._actionRestore(),o.removeClass("e-restore").addClass("e-maximize"),this._dialogMaximize.attr("title",this.model.tooltip.maximize),!s.isNullOrUndefined(l)&&a(l).hasClass("e-arrowhead-down")&&(a(l).removeClass("e-arrowhead-down").addClass("e-arrowhead-up"),this._dialogMaximize.attr("title",this.model.tooltip.collapse)),this._hideIcon(!0))}this._resetScroller()},_actionMaximize:function(){this._ejDialog.css("top","0px").css("left","0px").css("overflow","hidden").css("position",this.model.containment||this.model.target?"absolute":"fixed"),this._ejDialog.css({width:"100%",height:"100%"}),this.element.css({width:"100%",height:"100%"}),this.contentDiv.css({width:"100%",height:"100%"}),this._maximize=!0,this._minimize=!1;var t=this;this._dialogCollapsible&&!s.isNullOrUndefined(this._dialogCollapsible.hasClass("e-arrowhead-down"))&&(this._dialogCollapsible.removeClass("e-arrowhead-down").addClass("e-arrowhead-up"),this._dialogCollapsible.attr("title",this.model.tooltip.collapse),this._collapseValue=!0),1==this._collapseValue&&this._ejDialog.find(".e-widget-content").parent().slideDown("fast",function(){t.refresh(),t._reRenderScroller()}),this._resetScroller(),a(this.contentDiv).is(":hidden")&&this.contentDiv.show()},_actionRestore:function(){this.element.height("").width(""),this.contentDiv.height("").width(""),this._restoreDialog(),this._maximize=this._minimize=!1},_minimizeClick:function(t){if(this.model.enabled){var o=a(t.target),l=this._dialogMinimize.hasClass("e-icon")&&this._dialogMinimize;o.hasClass("e-minus")?(this._maximize&&this._setSize(),this._actionMinimize()):o.hasClass("e-restore")&&(this._actionRestore(),o.removeClass("e-restore").addClass("e-minus"),this._dialogMinimize.attr("title",this.model.tooltip.minimize),!s.isNullOrUndefined(l)&&a(l).hasClass("e-arrowhead-down")&&(a(l).removeClass("e-arrowhead-down").addClass("e-arrowhead-up"),this._dialogMinimize.attr("title",this.model.tooltip.collapse)),this._hideIcon(!0))}},_actionMinimize:function(){var o;a(window).height(),this._ejDialog.height(),this.element.height(),this._ejDialog.css("top","").css("bottom","0").css("left","0").css("position",this.model.containment||this.model.target?"absolute":"fixed"),this._ejDialog.css("minHeight","0"),this._dialogTitlebar?(this._dialogTitlebar.find(".e-restore").removeClass("e-restore").addClass("e-maximize"),this._dialogMaximize&&this._dialogMaximize.attr("title",this.model.tooltip.maximize),this._dialogTitlebar.find(".e-minus").removeClass("e-minus").addClass("e-restore"),this._dialogMinimize&&this._dialogMinimize.attr("title",this.model.tooltip.restore),this._isOpen?o=this._dialogTitlebar.outerHeight():(this._ejDialog.css({display:"block",visibility:"hidden"}),o=this._dialogTitlebar.outerHeight(),this._ejDialog.css({display:"none",visibility:""})),this._ejDialog.css("height",o+2),this._hideIcon(!1)):this._ejDialog.css("height",""),this.contentDiv.hide(),this.model.showFooter&&this._dialogFooterbar.hide(),this._maximize=!1,this._minimize=!0},_hideIcon:function(t){var o=this._dialogCollapsible?this._dialogCollapsible:null;t?(s.isNullOrUndefined(o)||a(o).parent(".e-dialog-icon").show(),this._ejDialog.find("div.e-resize-handle").show()):(s.isNullOrUndefined(o)||a(o).parent(".e-dialog-icon").hide(),this._ejDialog.find("div.e-resize-handle").hide())},_pinClick:function(t){if(this.model.enabled){var o=a(t.target);o.hasClass("e-unpin")?(this.dialogPin=!0,o.removeClass("e-unpin").addClass("e-pin"),this._dialogPin.attr("title",this.model.tooltip.unPin)):o.hasClass("e-pin")&&(this.dialogPin=!1,o.removeClass("e-pin").addClass("e-unpin"),this._dialogPin.attr("title",this.model.tooltip.pin))}},_restoreDialog:function(){this.contentDiv.show(),this.model.showFooter&&this._dialogFooterbar.show(),this._ejDialog.css({position:"absolute",bottom:""}).addClass("e-shadow"),this._setSize()._resetScroller(),this._dialogTitlebar&&(this._dialogTitlebar.find(".e-minus").parent().show(),this._dialogCollapsible&&(this._dialogCollapsible.removeClass("e-arrowhead-down").addClass("e-arrowhead-up"),this._dialogCollapsible.attr("title",this.model.tooltip.collapse)))},_clickHandler:function(){var t=this._dialogMaxZindex();parseInt(this._ejDialog.css("zIndex"))<t&&this._ejDialog.css({zIndex:t+1})},_mouseClick:function(t){t.currentTarget==this._id&&(a(t.target).hasClass("e-dialog")||a(t.target).hasClass("e-icon e-resize-handle"))&&(this._setZindex(),a(t.target).closest(".e-dialog.e-widget").focus())},_keyDown:function(t){var o;o=t.keyCode?t.keyCode:t.which?t.which:t.charCode,this.model.allowKeyboardNavigation&&this.model.enabled&&a(t.target).hasClass("e-dialog")&&a.inArray(o,this.keyConfigs)>-1&&this.model.allowDraggable&&!this.dialogPin&&(this._keyPressed(o,t.ctrlKey),t.preventDefault()),this.model.closeOnEscape&&27===o&&this.model.enabled&&(this.element.find(".e-js.e-dialog").first().is(":visible")||(this.close(t),t.preventDefault())),13===o&&this.model.enabled&&(a(t.target).hasClass("e-close")?this.close(t):(a(t.target).hasClass("e-arrowhead-up")||a(t.target).hasClass("e-arrowhead-down"))&&this._collapsibleClick(t),a(t.target).hasClass("e-maximize")||a(t.target).hasClass("e-restore")&&a(t.target).is(this._dialogMaximize)?this._maximizeClick(t):(a(t.target).hasClass("e-minus")||a(t.target).hasClass("e-restore")&&a(t.target).is(this._dialogMinimize))&&this._minimizeClick(t),(a(t.target).hasClass("e-pin")||a(t.target).hasClass("e-unpin"))&&this._pinClick(t)),9==o&&this.model.enableModal&&this._focusOnTab(t)},_focusOnTab:function(t){var o=this._ejDialog.find("a, button, :input, select, [tabindex]:not('-1')");o=a(o).find("a, button, :input, select, [tabindex]:not('')"),t.shiftKey?o[o.index(t.target)-1]||(t.preventDefault(),o.last().focus()):o[o.index(t.target)+1]||(t.preventDefault(),o[0].focus())},_keyPressed:function(t,o){switch(this._keyNavigation=!0,t){case 40:o?this._resizing("height",this._ejDialog.outerHeight()+3):this.option("position",{X:this._ejDialog.position().left,Y:this._ejDialog.position().top+3});break;case 39:o?this._resizing("width",this._ejDialog.outerWidth()+3):this.option("position",{X:this._ejDialog.position().left+3,Y:this._ejDialog.position().top});break;case 38:o?this._resizing("height",this._ejDialog.outerHeight()-3):this.option("position",{X:0==this._ejDialog.position().left?0:this._ejDialog.position().left,Y:this._ejDialog.position().top>3?this._ejDialog.position().top-3:0});break;case 37:o?this._resizing("width",this._ejDialog.outerWidth()-3):this.option("position",{X:this._ejDialog.position().left>3?this._ejDialog.position().left-3:0,Y:0==this._ejDialog.position().top?0:this._ejDialog.position().top})}},_resizing:function(t,o){this.model.enableResize&&this.option(t,o)},_sizeInPercent:function(){if(!this._enableWindowResize())return this;var t=this._getParentObj();return this._widthPercent="%"==this._sizeType.width?parseFloat(this.model.width):this._convertPixelToPercentage(t.outerWidth(),this._ejDialog.outerWidth()),this._heightPercent="%"==this._sizeType.height?parseFloat(this.model.height):this._convertPixelToPercentage(t.outerHeight(),this._ejDialog.outerHeight()),this._widthPercent>=100&&(this._widthPercent=100,this._ejDialog.outerWidth(t.outerWidth()),this.model.width=this._ejDialog.width()),this._heightPercent>=100&&(this._heightPercent=100,this._ejDialog.outerHeight(t.outerHeight()),this.model.height=this._ejDialog.height()),this},_getParentObj:function(){return s.isNullOrUndefined(this.model.containment)?s.isNullOrUndefined(this.model.target)?a(document):a(this.model.target):a(this.model.containment)},_convertPercentageToPixel:function(t,o){return Math.round(o*t/100)},_convertPixelToPercentage:function(t,o){return Math.round(o/t*100)},_reSizeHandler:function(){var t;this._maximize?this._resetScroller():(""!=this.model.position.X&&(""!=this.model.position.Y||this._minimize)||this._centerPosition(),t=this._getParentObj(),this._change=!1,this._windowSize.outerWidth!=a(window).outerWidth()?"%"==this._sizeType.width?this._percentageWidthDimension(t):this._pixelsWidthDimension(t):this._windowSize.outerHeight!=a(window).outerHeight()&&("%"==this._sizeType.height?this._percentageHeightDimension(t):this._pixelsHeightDimension(t)),this._change&&this._resizeContainer(t),this._windowSize={outerWidth:a(window).outerWidth(),outerHeight:a(window).outerHeight()},this._centerPosition())},_setDimension:function(){s.isNullOrUndefined(this.model.maxWidth)?s.isNullOrUndefined(this._sizeType.width)?this._maxWidth=+this.model.width:("px"==this._sizeType.width||"auto"==this._sizeType.width)&&(this._maxWidth=this.model.width):this._maxWidth=this.model.maxWidth,s.isNullOrUndefined(this.model.maxHeight)?s.isNullOrUndefined(this._sizeType.height)?this._maxHeight=+this.model.height:("px"==this._sizeType.height||"auto"==this._sizeType.height)&&(this._maxHeight=this.model.height):this._maxHeight=this.model.maxHeight},_percentageWidthDimension:function(t){this._ejDialog.outerWidth(this._convertPercentageToPixel(t.outerWidth(),this._widthPercent)),this._change=!0},_percentageHeightDimension:function(t){this._ejDialog.outerHeight(this._convertPercentageToPixel(t.outerHeight(),this._heightPercent)),this._change=!0},_pixelsWidthDimension:function(t){a(t).outerWidth()<=this._ejDialog.outerWidth()&&this._setWidth(t),a(t).outerHeight()<=this._ejDialog.outerHeight()&&!this.model.isResponsive&&this._setHeight(t),parseInt(this._ejDialog.css("width"))<parseInt(this._maxWidth)&&(parseInt(this._maxWidth)<a(t).outerWidth()?this._ejDialog.outerWidth(parseInt(this._maxWidth)):this._ejDialog.outerWidth(t.outerWidth()),this._change=!0)},_pixelsHeightDimension:function(t){a(t).outerHeight()<=this._ejDialog.outerHeight()&&!this.model.isResponsive&&this._setHeight(t),a(t).outerWidth()<=this._ejDialog.outerWidth()&&this._setWidth(t),parseInt(this._ejDialog.css("height"))<parseInt(this._maxHeight)&&(parseInt(this._maxHeight)<a(t).outerHeight()?this._ejDialog.outerWidth(parseInt(this._maxHeight)):this._ejDialog.outerHeight(t.outerHeight()),this._change=!0)},_setWidth:function(t){this._ejDialog.outerWidth(t.outerWidth()),this._change=!0},_setHeight:function(t){this._ejDialog.outerHeight(t.outerHeight()),this._change=!0},_resizeContainer:function(){this.contentDiv.width(this._ejDialog.width()),this.element.outerWidth(this.contentDiv.width());var t=this._ejDialog.height()-(this.model.showHeader?a(this._ejDialog.find("div.e-titlebar")).outerHeight(!0):0);this.contentDiv.height(s.isNullOrUndefined(this.contentDiv)?t-1:"0px"==this.contentDiv.css("border-width")),this.element.outerHeight(s.isNullOrUndefined(this.contentDiv)?t-1:"0px"==this.contentDiv.css("border-width")),this.scroller=this.contentDiv.ejScroller({width:!s.isNullOrUndefined(this.contentDiv)&&("0px"==this.contentDiv.css("border-width")?this._ejDialog.width():this._ejDialog.width()-2),height:!s.isNullOrUndefined(this.contentDiv)&&("0px"==this.contentDiv.css("border-width")?this.element.outerHeight():this.element.outerHeight()-2),rtl:this.model.rtl,enableTouchScroll:!1}),this.scroller=this.contentDiv.data("ejScroller"),this._reRenderScroller(),""==this.model.position.X||""==this.model.position.Y&&!this._minimize||this._positionChanged?this._centerPosition():this._ejDialog.css("height",this._dialogTitlebar.outerHeight()),this._updateCaptionWidth(),this._change=!1},_getLocalizedLabels:function(){return s.getLocalizedConstants(this.sfType,this.model.locale)},_enableWindowResize:function(){return!!(this.model.isResponsive||isNaN(this.model.width)&&this.model.width.indexOf("%")>0&&isNaN(this.model.height)&&this.model.height.indexOf("%")>0&&"auto"!=this.model.height)},_wireResizing:function(){a(window)[this._enableWindowResize()?"on":"off"]("resize",a.proxy(this._reSizeHandler,this))},_wireEvents:function(){this._on(this._ejDialog,"keydown",this._keyDown),this._on(this._ejDialog,"click",this._mouseClick),this._wireResizing()},refresh:function(){this._resetScroller()},open:function(){var t,o,l,p,g;return!!this._isOpen||1!=this._trigger("beforeOpen")&&(this.element.css("display","block"),this._setZindex(),this._minimize||this._maximize||this._init||this._dialogPosition(),t=this,o={},this._ejDialog.show(),this.model.enableAnimation&&(this._ejDialog.css({opacity:0}),"slide"==this.model.animation.show.effect?(p=this._ejDialog.css("left"),this._ejDialog.css({left:-this._ejDialog.width()}),o={left:p,opacity:1}):o={opacity:1}),this._ejDialog.animate(o,this.model.enableAnimation?Number(this.model.animation.show.duration):0,function(){t.model&&("none"==t._ejDialog.css("display")&&t._ejDialog.show(),t._ejDialog.eq(0).focus(),t._ejDialog.css({opacity:""}),t.contentDiv.find("a:visible:enabled, button:visible:enabled, :input:visible:enabled, select:visible:enabled, .e-input").first().focus(),t._trigger("open"),t._updateCaptionWidth(),t.model.enableModal&&!t.model.backgroundScroll&&(t._ejDialog.height()>a(window).height()&&t._ejDialog.css("height",a(window).height()),t.model.height=a(window).height(),t._overLay.css("position","fixed"),t.scroller.refresh(!0),t.refresh()),(t.model.maxHeight||t.model.maxWidth)&&(l=t._ejDialog.outerHeight(!0)-(t._dialogTitlebar?t._dialogTitlebar.outerHeight(!0):0),("auto"==t.model.height||"100%"==t.model.height)&&(l=t.model.height),t._updateScroller(s.isNullOrUndefined(this.contentDiv)?l-2:"0px"==this.contentDiv.css("border-width"),s.isNullOrUndefined(this.contentDiv)?t._ejDialog.width()-2:"0px"==this.contentDiv.css("border-width")),t.scroller.refresh()))}),1==this.model.enableModal&&this._createOverlay(),this._isOpen=!0,this.element.find("> .e-draggable.e-titlebar")&&(g=a("#"+this.element.find("> .e-draggable.e-titlebar").attr("id")).data("ejDraggable"))&&g.option("cursorAt",this.element.offset()),this)},close:function(t){var o,l,p;return!this._isOpen||!this.model.enabled||1!=this._trigger("beforeClose",{event:t,isInteraction:o=!!t})&&(this._isOpen=!1,l=this,p={},this.model.enableAnimation&&(p="slide"==this.model.animation.hide.effect?{left:-this._ejDialog.width(),opacity:0}:{opacity:0}),this._ejDialog.animate(p,this.model.enableAnimation?Number(this.model.animation.hide.duration):0,function(){l._trigger("close",{event:t,isInteraction:o}),l._ejDialog.hide()}),this.model.enableModal&&(this._overLay&&this._overLay.remove(),this.model.backgroundScroll||a("body").removeClass("e-dialog-modal")),this)},isOpened:function(){return this.isOpen()},isOpen:function(){return this._isOpen},setTitle:function(t){return this.model.title=t,this._titleText.text(t),this._updateCaptionWidth(),this},setContent:function(t){return!!this.model.enabled&&(this.element.html(t),this._resetScroller(),this)},focus:function(){return this._setZindex(),this.element.focus(),this},minimize:function(){if(this.model.showHeader)return this._actionMinimize(),a(this.wrapper.find(".e-minus")[0]).parent().hide(),this},maximize:function(){if(this.model.showHeader)return this._actionMaximize(),a(this.wrapper.find(".e-maximize")[0]).removeClass("e-maximize").addClass("e-restore"),a(this.wrapper.find(".e-restore")[1]).removeClass("e-restore").addClass("e-minus"),this._dialogMaximize&&this._dialogMaximize.attr("title",this.model.tooltip.restore),this._dialogTitlebar&&this._dialogTitlebar.find(".e-minus").parent().show(),this._hideIcon(!0),this},restore:function(){if(this.model.showHeader){var t=this._minimize;return this._actionRestore(),a(this.wrapper.find(".e-restore")[0]).removeClass("e-restore").addClass(t?"e-minus":"e-maximize"),this._dialogMaximize&&this._dialogMaximize.attr("title",this.model.tooltip.maximize),this._hideIcon(!0),this}},pin:function(){if(this.model.showHeader)return this.dialogPin=!0,a(this.wrapper.find(".e-unpin")[0]).removeClass("e-unpin").addClass("e-pin"),this._dialogPin&&this._dialogPin.attr("title",this.model.tooltip.unPin),this},unpin:function(){if(this.model.showHeader)return this.dialogPin=!1,a(this.wrapper.find(".e-pin")[0]).removeClass("e-pin").addClass("e-unpin"),this._dialogPin&&this._dialogPin.attr("title",this.model.tooltip.pin),this},collapse:function(){if(this.model.showHeader)return this._actionCollapse(),this._collapseValue=!0,this},expand:function(){if(this.model.showHeader)return this._actionExpand(),this}}),s.Dialog.Locale=s.Dialog.Locale||{},s.Dialog.Locale.default=s.Dialog.Locale["en-US"]={tooltip:{close:"Close",collapse:"Collapse",restore:"Restore",maximize:"Maximize",minimize:"Minimize",expand:"Expand",unPin:"UnPin",pin:"Pin"},title:"",closeIconTooltip:"close"}}(jQuery,Syncfusion),function(a,s,h){s.widget("ejMaskEdit","ej.MaskEdit",{element:null,model:null,validTags:["input"],_addToPersist:["value"],_setFirst:!1,type:"editor",angular:{require:["?ngModel","^?form","^?ngModelOptions"],requireFormatters:!0},defaults:{maskFormat:"",value:null,watermarkText:"",name:null,height:"",width:"",showError:!1,htmlAttributes:{},cssClass:"",customCharacter:null,inputMode:"text",readOnly:!1,textAlign:s.TextAlign.Left,hidePromptOnLeave:!1,showRoundedCorner:!1,enablePersistence:!1,enabled:!0,locale:"en-US",showPromptChar:!0,validationRules:null,validationMessage:null,keydown:null,keyup:null,keyPress:null,change:null,mouseover:null,mouseout:null,focusIn:null,focusOut:null,create:null,destroy:null},dataTypes:{maskFormat:"string",showError:"boolean",enabled:"boolean",customCharacter:"string",cssClass:"string",watermarkText:"string",showRoundedCorner:"boolean",showPromptChar:"boolean",inputMode:"enum",textAlign:"enum",hidePromptOnLeave:"boolean",readOnly:"boolean",validationRules:"data",validationMessage:"data",htmlAttributes:"data"},_setModel:function(t){for(var o in t)switch(o){case"value":this.temp_index=0,this.indexValue=[],s.isPlainObject(t[o])&&(t[o]=null),this._setValue(t[o]),this._initObjects(),t[o]=this.get_UnstrippedValue(),this._raiseEvents("change",!0);break;case"width":this._setWidth(t[o]);break;case"height":this._setHeight(t[o]);break;case"watermarkText":this.model.watermarkText=t[o],this._changeWatermark(t[o]);break;case"showRoundedCorner":this._roundedCorner(t[o]);break;case"showPromptChar":this._setShowPrompt(t[o]);break;case"validationRules":null!=this.model.validationRules&&(this._hiddenInput.rules("remove"),this.model.validationMessage=null),this.model.validationRules=t[o],null!=this.model.validationRules&&(this._initValidator(),this._setValidation());break;case"validationMessage":this.model.validationMessage=t[o],null!=this.model.validationRules&&null!=this.model.validationMessage&&(this._initValidator(),this._setValidation());break;case"textAlign":this._setTextAlign(t[o]);break;case"inputMode":this._setInputMode(t[o]);break;case"maskFormat":this.model.maskFormat=t[o],this._valueMapper(),this._maskModel=this.model.maskFormat,this._setMask(t[o]),this._initObjects(),t[o]=this.model.maskFormat;break;case"locale":this.model.value=this.get_StrippedValue(),this.model.locale=t[o],this._setValue(this.model.value),this._initObjects();break;case"cssClass":this._setSkin(t[o]);break;case"readOnly":this._setReadOnly(t[o]);break;case"enabled":this.model.enabled=t[o],this._controlStatus(t[o]);break;case"htmlAttributes":this._addAttr(t[o]);break;case"hidePromptOnLeave":this.model.hidePromptOnLeave=t[o],""!=this._textbox.value&&(this.model.hidePromptOnLeave?(this._unStrippedMask=this._textbox.value,this._textbox.value=this.get_UnstrippedValue()):this._textbox.value=this._textbox.value.replace(/[ ]/g,"_"),this.model.value=this._textbox.value)}},observables:["value"],_destroy:function(){s.isNullOrUndefined(this._hiddenInput)||this.element.attr("name",this._hiddenInput.attr("name")),this._isWatermark&&this.element.removeAttr("placeholder"),this.element.insertAfter(this.wrapper),s.isNullOrUndefined(this.wrapper)||this.wrapper.remove(),this.model.textAlign&&this.element.css("text-align",""),this.element.val("").removeClass(" e-mask e-input e-disable").empty(),this.element.removeAttr("aria-invalid aria-disabled")},_init:function(t){if(this.indexValue=[],this.temp_index=0,this._options=t,this._tempMask=this.model.maskFormat,this._keyFlag=!1,this._keyupFlag=!0,this._checkMask=!1,this._isAndroid=/android/i.test(navigator.userAgent.toLowerCase()),!this.element.is("input")||!this.element.is("input[type=text]")&&!this.element.is("input[type=password]")&&this.element.attr("type"))return this._destroy(),!1;this.element.attr("autocomplete","off"),this._isWatermark="placeholder"in document.createElement("input"),this._setValues(),this._valueMapper(),this._renderControl(),this._initObjects(),this._wireEvents(),this._addAttr(this.model.htmlAttributes),null!=this.model.validationRules&&(this._initValidator(),this._setValidation()),t&&t.value!=h&&this.model.value!==t.value&&this._trigger("_change",{value:this.get_UnstrippedValue(),unmaskedValue:this.get_StrippedValue()})},_initValidator:function(){this.element.closest("form").data("validator")||this.element.closest("form").validate()},_addAttr:function(t){var o=this;a.map(t,function(l,p){var g=p.toLowerCase();"class"==g?o.wrapper.addClass(l):"name"==g?o._hiddenInput.attr(p,l):"disabled"==g&&"disabled"==l?o.disable():"readonly"==g&&"readOnly"==l?o._setReadOnly(!0):"style"==g||"id"==g?o.wrapper.attr(p,l):s.isValidAttr(o.element[0],p)?o.element.attr(p,l):o.wrapper.attr(p,l)})},_setValidation:function(){var t,o,l,p,g;for(l in this._hiddenInput.rules("add",this.model.validationRules),t=(t=this.element.closest("form").data("validator"))||this.element.closest("form").validate(),o=this._hiddenInput.attr("name"),t.settings.messages[o]={},this.model.validationRules)if(p=null,!s.isNullOrUndefined(this.model.validationRules[l])){if(s.isNullOrUndefined(this.model.validationRules.messages&&this.model.validationRules.messages[l]))for(g in t.settings.messages[o][l]=a.validator.messages[l],this.model.validationMessage)l==g&&(p=this.model.validationMessage[l]);else p=this.model.validationRules.messages[l];t.settings.messages[o][l]=p??a.validator.messages[l]}},_setShowPrompt:function(t){this.model.showPromptChar=t,this._textbox.value=this.model.showPromptChar?this._unStrippedMask:this.get_UnstrippedValue()},_controlStatus:function(t){1!=t?this.disable():this.enable()},_setValues:function(){this._unStrippedMask=null,this._charMap={9:"[0-9 ]",a:"[A-Za-z0-9 ]",A:"[A-Za-z0-9]",N:"[0-9]","#":"[0-9]","&":"[^\x7f]+","<":"",">":"",C:null!=this.model.customCharacter?"["+this.model.customCharacter+"]":"[A-Za-z ]","?":"[A-Za-z]"}},_renderControl:function(){if(this.model.name=null!=this.element.attr("name")?this.element.attr("name"):null!=this.model.name?this.model.name:this.element[0].id,null!=this.element.attr("name")&&this.element.removeAttr("name"),this.wrapper=s.buildTag("span.e-mask e-widget "+this.model.cssClass),this.innerWrapper=s.buildTag("span.e-in-wrap e-box"),this.wrapper.append(this.innerWrapper).insertBefore(this.element),this.innerWrapper.append(this.element),this._hiddenInput=s.buildTag("input#"+this._id+"_hidden","",{},{type:"hidden"}).insertBefore(this.element),this._isWatermark||"password"==this.model.inputMode||(this._hiddenSpan=s.buildTag("span.e-input e-placeholder ").insertAfter(this.element),this._hiddenSpan.text(this.model.watermarkText),this._hiddenSpan.css("display","none"),this._hiddenSpan.bind("mousedown",a.proxy(this._OnFocusHandler,this))),s.isNullOrUndefined(this.model.value)&&""!=this.element[0].value&&(this.model.value=this.element[0].value),s.isNullOrUndefined(this.model.value)||(this.wrapper.addClass("e-valid"),"number"==typeof this.model.value&&(this.model.value=this.model.value.toString())),this._hiddenInput.attr({name:this.model.name,value:this.model.value}),this.element.attr({"aria-invalid":!1}).addClass("e-input"),""==this.model.maskFormat&&null==this.model.value){var t=this;setTimeout(function(){""!=t.element.val()&&(t.option("value",t.element.val()),t.previousValue=t.model.value,t._initObjects())},500)}else this.element.attr({value:this.model.value});s.isNullOrUndefined(this._options.inputMode)&&!s.isNullOrUndefined(this.element.attr("type"))?this.model.inputMode=this.element.attr("type"):this._setInputMode(this.model.inputMode),this._setWidth(this.model.width),this._setHeight(this.model.height),this._roundedCorner(this.model.showRoundedCorner),this._setTextAlign(this.model.textAlign),this._setReadOnly(this.model.readOnly),this._controlStatus(this.model.enabled),this.previousValue=this.model.value},_initObjects:function(){var t,o,l;if(this._textbox=this.element[0],this._keypressFlag=0,this._selectedTextKeyDown=0,this._keydownFlag=0,this.model.maskFormat.indexOf("\\")>=0){for(t=0,o=0;o<this.model.maskFormat.length;o++)"\\"==this.model.maskFormat[o]&&(t+=1);this._maskLength=this.model.maskFormat.length-t}else this._maskLength=this.model.maskFormat.length;if(this.model.maskFormat.indexOf("\\")>=0)if(this.model.value)for(this._maskModel="",l=0;l<this.model.maskFormat.length;++l)"\\"==this.model.maskFormat[l]?this._maskModel+=this.model.maskFormat[++l]:"\\"==this.model.maskFormat[l]||(this._maskModel+=this.model.maskFormat[l].replace(/[9?CANa#&]/g,"_"));else this._maskModel=this._emptyMask;else this._maskModel=this.model.maskFormat.replace(/[9?CANa#&]/g,"_");this._changeMask(this.model.locale),(this._maskModel.indexOf("<")>=0||this._maskModel.indexOf(">")>=0)&&(this._maskModel=this._maskModel.replace(/[<>]/g,""),this.model.maskFormat=this.model.maskFormat.replace(/[<>]/g,""),this._valueMapper()),this._validatedValue=this._maskModel,"password"!=this.model.inputMode&&(this._setValue(this.model.value),this._setWaterMark()),this.model.showError&&this.element.addClass("e-error").attr("aria-invalid","true"),this._prevValue=this.model.watermarkText?this._textbox.value?this._textbox.value:this._maskModel:this._textbox.value},_setWidth:function(t){this.wrapper.width(t)},_setHeight:function(t){this.wrapper.height(t)},_roundedCorner:function(t){t&&!this.innerWrapper.hasClass("e-corner")?this.innerWrapper.addClass("e-corner"):this.innerWrapper.hasClass("e-corner")&&this.innerWrapper.removeClass("e-corner")},_setTextAlign:function(t){"right"==t?(this.element.css("text-align",""),this.wrapper.addClass("e-rtl")):(this.wrapper.removeClass("e-rtl"),this.element.css("text-align",t))},_setInputMode:function(t){this.element.attr("type",t)},_setReadOnly:function(t){this.model.readOnly=t,t?this.element.attr("readonly",!0):this.element.removeAttr("readonly")},_setSkin:function(t){this.wrapper.removeClass(this.model.cssClass),this.wrapper.addClass(t)},_setWaterMark:function(){var t=this.model.showPromptChar?this._maskModel:""!=this._maskModel&&null!=this._maskModel?this._maskModel.replace(/[_]/g," "):this._maskModel;this._maskModel=this.model.maskFormat.indexOf("\\")>=0?""===this.model.maskFormat?null:t:""===a.trim(this.model.maskFormat.replace(/[9?CANa#&]/g,"_"))?null:this.model.maskFormat.replace(/[9?CANa#&]/g,"_"),(""!=this._maskModel&&null!=this._maskModel&&this._textbox.value==t||""==t&&""==this._textbox.value&&"password"!=this.model.inputMode)&&(this._textbox.value=""),0!=this.model.watermarkText.length||s.isNullOrUndefined(this.element.attr("placeholder"))||(this.model.watermarkText=this.element.attr("placeholder")),this.model.watermarkText&&(this._isWatermark?this.element.attr("placeholder",this.model.watermarkText):this._textbox.value?this._hiddenSpan.css("display","none").text(this.model.watermarkText):this._hiddenSpan.css("display","block").text(this.model.watermarkText)),this.model.watermarkText||this._textbox.value||!this.model.maskFormat||(this.model.hidePromptOnLeave?(this._unStrippedMask=this._maskModel,this._textbox.value=this.get_UnstrippedValue()):this._textbox.value=t)},_changeWatermark:function(t){if(!this.model.enabled)return!1;var o=this.model.showPromptChar?this._maskModel:""!=this._maskModel&&null!=this._maskModel?this._maskModel.replace(/[_]/g," "):this._maskModel;(this._textbox.value==o||""==this._textbox.value||""==a.trim(this.get_StrippedValue()))&&"password"!=this.model.inputMode&&(this._textbox.value=""),this._isWatermark?this.element.attr("placeholder",t):this._hiddenSpan.text(t),!this.model.watermarkText&&""==a.trim(this.get_StrippedValue())&&this.model.maskFormat&&(this.model.hidePromptOnLeave?(this._unStrippedMask=this._maskModel,this._textbox.value=this.get_UnstrippedValue()):this._textbox.value=o)},_showAlert:function(){var t=this;this.element.addClass("e-error").attr("aria-invalid","true").animate({Opacity:1},700,null,function(){a(t._textbox).removeClass("e-error").attr("aria-invalid","false")})},_unMask:function(){for(var t,o,l,T,L,p="",g=0,b=0,C=0,I=this.model.value.toString(),R="",V=this._rules.slice(),F=0;F<this._rules.length;F++){for(t=0;t<I.length;t++)if(V[F].rule&&I[t].match(V[F].rule)||V[F].rule===h){R+=V[F].rule?I.charAt(t):V[F],I=V[F].rule||V[F]===I[t]?I.slice(t+1,I.length):I,g=1;break}0===g&&I.length>0&&(R+=V[F].rule===h?V[F]:""),g=0}for(;b<this._rules.length&&(L=this._rules[b],!((T=R[C])==h||(T===L||"_"===T?(p+="_"===T?"_":T,C+=1,b+=1):L.rule===h?(p+=L,b+=1):this._rules[b].rule!=h&&T.match(this._rules[b].rule)?(l=R.charCodeAt(C),o=b,(">"===this._rules[0]||"<"===this._rules[0])&&(o=b-1),this._validateChars(l,o)?(p+=R.charAt(C),b++,C++):b++):"string"!=typeof L?T.match(this._rules[b].rule)?(l=R.charCodeAt(C),this._validateChars(l,b)&&(p+=R.charAt(C),b++,C++)):(C++,b++):b++,C>R.length))););return p},_validateValue:function(){var t,o,l,p,g,b,C,T,D,L,I;if(!s.isNullOrUndefined(this.model.value)){var A,N,R=this.model.value,V=this._maskModel,F=L=0,U=this._unMask();if(this._isWatermark||"password"==this.model.inputMode||this._hiddenSpan.css("display","none"),0==this._maskLength)return this._textbox.value=R,this._setWaterMark(),!0;for(t=this.model.value.toString(),R=this.model.maskFormat.indexOf("\\")>=0||null!=this.model.customCharacter?this.model.value:this.model.value=t;F<this._rules.length&&("_"===(A=U[L])&&"[^\x7f]+"===this._rules[F].rule&&(this.indexValue[this.temp_index]=F,this.temp_index++),N=this._rules[F],A!=h);)A===N||"_"===A?(p=V.substring(0,F),g=V.substring(F),V=p+A+g.substr(1,g.length),L+=1,F+=1):this._rules[F].rule!=h?(l=U.charCodeAt(L),o=F,(">"===this._rules[0]||"<"===this._rules[0])&&(o=F-1),this._validateChars(l,o)?(p=V.substring(0,o),g=V.substring(o),V=p+U.charAt(L)+g.substr(1,g.length),F++,L++):F++):"string"!=typeof N?A.match(this._rules[F].rule)?(l=U.charCodeAt(L),this._validateChars(l,F)?(p=V.substring(0,F),g=V.substring(F),V=p+U.charAt(L)+g.substr(1,g.length),F++,L++):F++):(p=V.substring(0,F),g=V.substring(F),V=p+"_"+g.substr(1,g.length),L++,F++):F++;if(this.model.value)if(this._textbox.value=V,this.model.value=this.get_UnstrippedValue(),null===this.model.value&&(this.model.value=V),this.model.maskFormat.indexOf("\\")>=0){for(this._textbox.value="",b=0,C=0;C<this.model.maskFormat.length;C++)"\\"==this.model.maskFormat[C]&&(b+=1);if(T=0,this.model.value.length==V.length-b)for(D=0;D<this.model.maskFormat.length;++D)"\\"==this.model.maskFormat[D]?T+=1:"\\"==this.model.maskFormat[D-1]?this._textbox.value+=R[D-T]:"\\"==this.model.maskFormat[D]||(this._textbox.value+=R.length<=D-T?V[D].replace(/[9?CANa#&]/g,"_"):R[D-T].replace(/[9?CANa#&]/g,"_"));else this._textbox.value=V}else this.model.hidePromptOnLeave?(this._unStrippedMask=V.replace(/[ ]/g,"_"),this._textbox.value=V):this._textbox.value=V;else if(this.model.maskFormat.indexOf("\\")>=0)for(D=0;D<this.model.maskFormat.length;++D)"\\"==this.model.maskFormat[D-1]?this._textbox.value+=this.model.maskFormat[D]:"\\"==this.model.maskFormat[D]||(this._textbox.value+=this.model.maskFormat[D].replace(/[9?CANa#&]/g,"_"));else this._textbox.value=this.model.maskFormat.replace(/[9?CANa#&]/g,"_");if(this._textbox.value!=h&&this.model.hidePromptOnLeave&&(this._unStrippedMask=this._textbox.value.replace(/[ ]/g,"_"),this._textbox.value=this.get_UnstrippedValue()),null!=this._maskModel&&(this._textbox.value.indexOf(">")>=0||this._textbox.value.indexOf("<")>=0)&&(this._textbox.value=this._textbox.value.replace(/[<>]/g,""),this._tempMask=this.model.maskFormat,this.model.maskFormat=this.model.maskFormat.replace(/[<>]/g,"")),this.model.showPromptChar||(this._textbox.value=this._getUnstrippedValue(!0)),null!=this._tempMask)for(L=0;L<this._textbox.value.length;L++)I=this._updateCasing(this._textbox.value[L],L),s.isNullOrUndefined(I)||(this._textbox.value=this._textbox.value.substring(0,L)+I+this._textbox.value.substring(L+I.length));this._setWaterMark()}},_selectionText:function(t,o){var l=s.isNullOrUndefined(this._maskModel)?"":this._maskModel.substring(t,o);return this._textbox.value=this._textbox.value.substring(0,t)+l+this._textbox.value.substring(o),1==this._keydownFlag?(this._setCaretPosition(t),t):2==this._keydownFlag?(this._setCaretPosition(o),o):t},_caretPosition:function(t){var l,p,o=0;return document.selection?(p=(l=document.selection.createRange()).text.length,l.moveStart("character",-t.value.length),o=l.text.length-p,0!=p&&(o=this._selectionText(o,l.text.length),this._selectedTextKeyDown=1)):(t.selectionStart||"0"==t.selectionStart)&&(o=t.selectionStart,t.selectionStart!=t.selectionEnd&&(this._keydownFlag&&(o=this._selectionText(t.selectionStart,t.selectionEnd)),this._selectedTextKeyDown=1)),o},_setCaretPosition:function(t){var l,o=this._textbox;"Microsoft Internet Explorer"==window.navigator.appName?o.createTextRange&&((l=o.createTextRange()).move("character",t),l.select()):o.selectionStart||"0"==o.selectionStart?(o.focus(),this._isAndroid?setTimeout(function(){o.setSelectionRange(t,t)},0):o.setSelectionRange(t,t)):o.focus()},_validateChars:function(t,o){var g,b,C,T,l=this._charMap,p=!1;return this.model.maskFormat.indexOf("\\")>=0?(g=this._getCunrrentPos(o),b=this.model.maskFormat.substr(o+g,1)):b=this.model.maskFormat.substr(o,1),C=this.model.customCharacter,T=String.fromCharCode(t),a.each(l,function(D,L){b==D&&(null!=C&&("C"==D?L="["+C+"]":("A"==D||"N"==D||"#"==D)&&(L=L.replace("]","")+C+"]")),p=!!T.match(new RegExp(L)))}),p},_seekNext:function(t,o){for(var C,T,l=this._caretPosition(this._textbox),p=t?o?l-o-1:l-1:l,g=p,b=!0;b;){if(p>=0&&p<this._maskLength){for(C=0,T=0;T<=p;T++)"\\"==this.model.maskFormat[T]&&(C+=1);if("C"!=this.model.maskFormat.charAt(p)&&(this.model.maskFormat.indexOf("\\")>=0?"\\"!=this.model.maskFormat.charAt(p+C)&&"\\"!=this.model.maskFormat.charAt(p+C-1)?this._charMap[this.model.maskFormat.charAt(p+C)]||p++:"\\"!=this.model.maskFormat.charAt(p+C)&&"\\"==this.model.maskFormat.charAt(p+C-1)&&++p:this._charMap[this.model.maskFormat.charAt(p)]||p++,p!=g)){g=p;continue}}b=!1}return p},_seekBefore:function(t){var b,C,o=this._caretPosition(this._textbox),l=t?o+1:o,p=--l,g=!0;for(1==this._selectedTextKeyDown&&(g=!1);g;){if(l>=0&&l<this._maskLength){for(b=0,C=0;C<=l;C++)"\\"==this.model.maskFormat[C]&&(b+=1);if("C"!=this.model.maskFormat.charAt(l)&&(this.model.maskFormat.indexOf("\\")>=0?"\\"!=this.model.maskFormat.charAt(l+b)&&"\\"!=this.model.maskFormat.charAt(l+b-1)?this._charMap[this.model.maskFormat.charAt(l+b)]||this._setCaretPosition(--l):"\\"==this.model.maskFormat.charAt(l+b-1)&&this._setCaretPosition(--l+b):this._charMap[this.model.maskFormat.charAt(l)]||this._setCaretPosition(--l)),l!=p){p=l;continue}}g=!1}return l},_writeBuffer:function(t,o,l){var p,g,b,C,T,D;if(o<=this._maskLength){if(p=this._textbox.value,null!=this.indexValue&&"95"!=l.keyCode)for(D=0;D<this.indexValue.length;D++)this.indexValue[D]==o&&("_"!=t||"8"==l.keyCode)&&(this.indexValue[D]="");if("95"==l.keyCode&&(this.indexValue[this.temp_index]=o,this.temp_index++),null!=this._tempMask&&(g=this._updateCasing(t,o)),t=g==h?t:g,b=p.substring(0,o),C=p.substring(o),this.model.maskFormat.indexOf("\\")>=0){for(T=0,D=0;D<=o;D++)this.model.maskFormat[D].indexOf("\\")>=0&&0!=o&&(T+=1);this._textbox.value=this.model.maskFormat[o+T].indexOf("\\")>=0?b+p[o]+C.substr(1,C.length):b+t+C.substr(1,C.length)}else this._textbox.value=b+t+C.substr(1,C.length);this._setCaretPosition(o+1)}},_updateCasing:function(t,o){for(var l,p=0;p<o+1;p++)("<"==this._tempMask.substr(p,1)||">"==this._tempMask.substr(p,1))&&o++;for(l=o;l>-1;l--){if("<"==this._tempMask.substr(l,1))return t.toLowerCase();if(">"==this._tempMask.substr(l,1))return t.toUpperCase()}},_getStrippedValue:function(t){var o,g,b,C,T,l=this.model.maskFormat,p=t?"":null;if(o=""==this._textbox.value&&"password"!=this.model.inputMode?this._maskModel:this._textbox.value,0==l.length)return o;for(g=0,b=0;b<l.length;b++)p=t?p:a.trim(p),this.model.maskFormat.indexOf("\\")>=0?"\\"==this.model.maskFormat[b]?g+=1:"\\"==this.model.maskFormat[b-1]?p+=this._textbox.value[b-g]:(T=null,-1!="9?$a*".indexOf(C=l[b])?T=this._charMap[C]:"A"==C||"N"==C||"#"==C?T=this._charMap[C].replace("]","")+this.model.customCharacter+"]":"C"==C?T="["+this.model.customCharacter+"]":"&"==C&&(p+=o[b-g]),T&&o[b-g]&&o[b-g].match(new RegExp(T))&&(p+=o[b-g])):(T=null,-1!="9?$a*".indexOf(C=l[b])?T=this._charMap[C]:"A"==C||"N"==C||"#"==C?T=this._charMap[C].replace("]","")+this.model.customCharacter+"]":"C"==C?T="["+this.model.customCharacter+"]":"&"==C&&(p+=o[b-g]),T&&o[b]&&o[b].match(new RegExp(T))&&(p+=o[b]));return p},_getUnstrippedValue:function(t){var o=0,l=""==this._textbox.value&&"password"!=this.model.inputMode?this._maskModel:this._textbox.value,p=null;if(0==this.model.maskFormat.length)return l;if(l!=h&&(p=""==a.trim(l.replace(/[_]/g," "))?null:l.replace(/[_]/g," ")),"_"==this.model.customCharacter&&null==p&&(p=""),null==p&&null!=this.indexValue[o]&&(p=""),l!=h&&null!=this.indexValue[o]&&null!=p)for(;o<this.indexValue.length;o++)(""!=this.indexValue[o]||"0"==this.indexValue[o])&&(p=p.substr(0,this.indexValue[o])+"_"+p.substr(this.indexValue[o]+1));return null==p&&t?"":p},get_StrippedValue:function(){return this._getStrippedValue()},get_UnstrippedValue:function(){return this._getUnstrippedValue()},_setValue:function(t){(s.isNullOrUndefined(t)||""==a.trim(t))&&(t=null),this.model.value=t,this._isWatermark||"password"==this.model.inputMode||this._hiddenSpan.css("display","none"),s.isNullOrUndefined(this.model.maskFormat)||""==this.model.maskFormat?(this._textbox.value=s.isNullOrUndefined(t)?"":t,this._unStrippedMask=this._textbox.value):(this._validateValue(),s.isNullOrUndefined(this.model.value)&&(this._textbox.value=s.isNullOrUndefined(t)?"":t,this._unStrippedMask=this._maskModel)),this._setWaterMark(),this._prevValue=this._textbox.value,this._prevPosition=this.element[0].selectionStart},_valueMapper:function(){for(var b,D,I,t=[],o=0,l=this.model.maskFormat||"",p=l.split(""),g=0,C=0,T="",L=this._charMap;g<l.length;g++)if(D=L[b=p[g]])t[o]={rule:D},T+="_",o+=1;else for("\\"===b&&(C=g+1,g++,b=p[C]),b=b.split(""),I=0;I<b.length;I++)t[o]=b[I],T+=b[I],o+=1;this._rules=t,this._emptyMask=T,this._maskLength=T.length},_changeMask:function(t){var o,l,p,g,b,C;if(0!=this._maskModel.length){for(b="",l=(o=s.preferredCulture(t)).numberFormat[","],p=o.numberFormat.currency.symbol,g=o.numberFormat["."],C=0;C<this._maskModel.length;C++)b+=","==this._maskModel[C]?l:"."==this._maskModel[C]?g:"$"==this._maskModel[C]?p:this._maskModel[C];this._maskModel=b}},_setMask:function(t){if(this._maskLength=t.length,this.model.maskFormat=t,this._tempMask=this.model.maskFormat,this._maskModel=t.replace(/[9?CANa]/g,"_"),(this._maskModel.indexOf("<")>=0||this._maskModel.indexOf(">")>=0)&&(this._maskModel=this._maskModel.replace(/[<>]/g,""),this.model.maskFormat=this.model.maskFormat.replace(/[<>]/g,"")),s.isNullOrUndefined(this.model.maskFormat)||""==this.model.maskFormat){if(!this.model.watermarkText&&this._textbox.value!=this._maskModel)if(this.model.maskFormat)this.model.hidePromptOnLeave?(this._textbox.value=this._maskModel,this._unStrippedMask=this._textbox.value,this._textbox.value=this.get_UnstrippedValue()):this._textbox.value=this._maskModel;else{var o=this._unStrippedMask.replace(/[_]/g," ");this._textbox.value=a.trim(null==this.model.customCharacter?o.replace(/[\(\)-]/g,""):o),this._unStrippedMask=this._textbox.value}}else this._validateValue()},enable:function(){this.element.disabled=!1,this.element.removeAttr("disabled").removeClass("e-disable").attr({"aria-disabled":!1}),this.wrapper.find(".e-placeholder").length>0&&this.wrapper.find(".e-placeholder").removeAttr("disabled","disabled"),this.wrapper.removeClass("e-disable-wrap"),this.model.enabled=!0},disable:function(){this.element.disabled=!0,this.element.attr("disabled","disabled").addClass("e-disable").attr({"aria-disabled":!0}),this.wrapper.find(".e-placeholder").length>0&&this.wrapper.find(".e-placeholder").attr("disabled","disabled"),this.wrapper.addClass("e-disable-wrap"),this.model.enabled=!1},clear:function(){this._textbox.value=this.model.maskFormat.replace(/[9?aCAN]/g,"_"),this.model.value=this.get_StrippedValue()},_wireEvents:function(){this._on(this.element,"focus",this._OnFocusHandler),this._on(this.element,"blur",this._OnBlurHandler),this._on(this.element,"keydown",this._OnKeyDownHandler),this._on(this.element,"input",this._OnInputHandler),this._on(this.element,"keypress",this._OnKeyPressHandler),this._on(this.element,"keyup",this._OnKeyUpHandler),this._on(this.element,"mouseover",this._OnMouseOverHandler),this._on(this.element,"mouseout",this._OnMouseOutHandler),this._on(this.element,"paste",this._OnPasteHandler),this._on(this.element,"cut",this._OnCutHandler)},_OnCutHandler:function(){var t=s.isNullOrUndefined(this._maskModel)?"":this._maskModel.substring(this._textbox.selectionStart,this._textbox.selectionEnd),o=this._textbox.value.substring(0,this._textbox.selectionStart),l=this._textbox.value.substring(this._textbox.selectionEnd),p=this._textbox.selectionStart,g=this;setTimeout(function(){g._textbox.value=o+t+l,g._setCaretPosition(p),g._prevValue=g._textbox.value,g._prevPosition=g.element[0].selectionStart,g._raiseEvents("change")},0)},_OnPasteHandler:function(){var t=this;return this._keyFlag=!0,setTimeout(function(){var o=a(t._textbox).val();t._setValue(o),t._raiseEvents("change")},0),!0},_OnFocusHandler:function(){var t,o;this.wrapper.addClass("e-focus"),t=this.model.showPromptChar?this._maskModel:""!=this._maskModel&&null!=this._maskModel?this._maskModel.replace(/[_]/g," "):this._maskModel,this.model.readOnly||(this._focusValue=this.model.value,this._isWatermark||"password"==this.model.inputMode||this._hiddenSpan.css("display","none"),""==this._textbox.value&&""!=this._maskModel&&"password"!=this.model.inputMode&&(this._textbox.value=this.model.maskFormat.indexOf("\\")>=0?t:s.isNullOrUndefined(this._maskModel)?"":t),null!=this._maskModel&&(this._textbox.value.indexOf("<")>=0||this._textbox.value.indexOf(">")>=0)&&(this._textbox.value=this._textbox.value.replace(/[<>]/g,""),this._maskModel=this._textbox.value,this._tempMask=this.model.maskFormat,this.model.maskFormat=this.model.maskFormat.replace(/[<>]/g,"")),this._textbox.value!=t&&null!=this._unStrippedMask&&this.model.hidePromptOnLeave&&(this._textbox.value=this._unStrippedMask),this.model.showPromptChar||(this._textbox.value=this._getUnstrippedValue(!0)),a.fn.selectRange=function(l,p){return this.each(function(){if(this.setSelectionRange)this.focus(),this.setSelectionRange(l,p);else if(this.createTextRange){var g=this.createTextRange();g.collapse(!0),g.moveEnd("character",p),g.moveStart("character",l),g.select()}})},this.model.maskFormat&&a(this.element).selectRange(0,0),o=this,setTimeout(function(){o._prevPosition=o.element[0].selectionStart},0),this._raiseEvents("focusIn"))},_OnBlurHandler:function(){var t,o,l,p;if(this.wrapper.removeClass("e-focus"),this.model.value=this.get_StrippedValue(),t=[],o=[],(-1!=this._textbox.value.indexOf("_")||-1!=this._textbox.value.indexOf(" "))&&!s.isNullOrUndefined(this.model.value)){for(l=0;l<this.model.maskFormat.length;l++)"A"==this.model.maskFormat[l]||"?"==this.model.maskFormat[l]?t.push(l):("9"==this.model.maskFormat[l]||"a"==this.model.maskFormat[l]||"C"==this.model.maskFormat[l])&&o.push(l);for(l=0;l<t.length;l++)"_"===this._textbox.value[t[l]]&&(this._showAlert(),this.model.value=this._textbox.value);for(l=0;l<o.length;l++)if("_"==this.model.value[o[l]]||" "==this.model.value[o[l]])for(this.model.value=this.model.value.substr(0,o[l])+this.model.value.substr(o[l]+1,this.model.value.length),p=l;p<o.length;p++)o[p]=o[p]-1}this.model.value=null!=this.model.value?this.model.value.replace(/\s+/g,""):this.model.value,this._textbox.value!=h&&(""==this.model.watermarkText||""!=this.model.watermarkText&&""!=this.model.value)&&(this.model.hidePromptOnLeave?(this._unStrippedMask=this._textbox.value,this._textbox.value=this.get_UnstrippedValue()):this._unStrippedMask=this._textbox.value),"password"!=this.model.inputMode&&this._setWaterMark(),this._raiseEvents("change"),this._raiseEvents("focusOut")},_OnKeyDownHandler:function(t){var o,l,p,C;if(!this.model.readOnly){if(this._keyFlag=!0,this._checkMask&&(p=this.element[0].selectionStart,o=this._getStrippedValue(!0),this._setValue(o),this._setCaretPosition(p),this._checkMask=!1),this._keypressFlag=0,this._keyupFlag=!0,g=s.browserInfo().name,l=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,s.isDevice()&&s.isTouchDevice()&&!l&&(229==t.keyCode||"mozilla"==g&&0==t.keyCode&&0==t.charCode||"edge"==g||"msie"==g)&&(this._keyupFlag=!1),this._raiseEvents("onKeyDown",null,{keyCode:t.keyCode,altKey:t.altKey,shiftKey:t.shiftKey,ctrlKey:t.ctrlKey,originalArgs:t}),this._raiseEvents("keyDown",null,{keyCode:t.keyCode,altKey:t.altKey,shiftKey:t.shiftKey,ctrlKey:t.ctrlKey,originalArgs:t}),this.element.removeClass("error"),0==this._maskLength)return!0;var g,T=t.keyCode?t.keyCode:t.charCode,b=(String.fromCharCode(T),this._seekNext()),L=this.model.showPromptChar?"_":" ";if("msie"==(g=s.browserInfo().name)&&""==this._textbox.value){if(this.model.maskFormat.indexOf("\\")>=0)for(p=0;p<this.model.maskFormat.length;++p)"\\"==this.model.maskFormat[p-1]?this._textbox.value+=this.model.maskFormat[p]:"\\"==this.model.maskFormat[p]||(this._textbox.value+=this.model.maskFormat[p].replace(/[9?CANa#&]/g,"_"));else this._textbox.value=this.model.maskFormat.replace(/[9?CANa#&]/g,"_");this._setCaretPosition(b)}return T>=35&&T<=41&&("Mozilla"==window.navigator.appCodeName||"opera"==window.navigator.appCodeName)&&(this._keypressFlag=1),t.shiftKey&&(35==t.keyCode||36==t.keyCode||37==t.keyCode||39==t.keyCode||46==t.keyCode||127==t.keyCode)||t.ctrlKey&&(86==t.keyCode||65==t.keyCode||67==t.keyCode||88==t.keyCode)?void(this._keypressFlag=1):8==T?"password"!=this.model.inputMode?(this._keydownFlag=1,b=this._seekBefore(),this._selectedTextKeyDown?!this.model.showPromptChar&&this._selectedTextKeyDown&&(8==t.keyCode&&"-1"==b&&null!=this.indexValue&&(this.indexValue=[],this.temp_index=0),this._textbox.value=this.get_UnstrippedValue(),this._setCaretPosition(b+1)):(b>=0&&b<this._maskLength&&this._writeBuffer(L,b,t),b<0&&(b=0),this._setCaretPosition(b)),this._keydownFlag=0,this._selectedTextKeyDown=0,8==t.keyCode&&"-1"==b&&null!=this.indexValue&&(this.indexValue=[],this.temp_index=0),t.preventDefault(),this._prevValue=this._textbox.value,this._prevPosition=this.element[0].selectionStart,this._keyFlag=!1,!1):(this._keypressFlag=1,!0):46==t.keyCode||127==t.keyCode?"password"!=this.model.inputMode?(this._keydownFlag=2,b=this._seekNext(),this._selectedTextKeyDown?!this.model.showPromptChar&&this._selectedTextKeyDown&&(this._textbox.value=this.get_UnstrippedValue(),this._setCaretPosition(b)):b>=0&&b<this._maskLength&&(C=this._getCunrrentPos(b),"&"==this.model.maskFormat[b+C]||this._writeBuffer(L,b,t)),this._keydownFlag=0,this._selectedTextKeyDown=0,t.preventDefault(),!1):(this._keypressFlag=1,!0):void 0}},_ErrorHandler:function(t){""==this._textbox.value&&(this._textbox.value=this.model.maskFormat.replace(/[9?$CANa*]/g,this.model.showPromptChar?"_":" ")),this._setCaretPosition(t),this._showAlert()},_getCunrrentPos:function(t){for(var o=0,l=0;l<=t+o;l++)"\\"==this.model.maskFormat[l]&&(o+=1);return o},_OnKeyPressHandler:function(t){var o;if(!this.model.readOnly){if(this._keyFlag=!1,this._raiseEvents("keyPress",null,{keyCode:t.keyCode,altKey:t.altKey,shiftKey:t.shiftKey,ctrlKey:t.ctrlKey,originalArgs:t}),0==this._maskLength)return!0;var l=t.keyCode?t.keyCode:t.charCode,p=String.fromCharCode(l),g=this.model.showPromptChar?"_":" ",b=this._seekNext(),C=s.browserInfo().name,T=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream;if(s.isDevice()&&s.isTouchDevice()&&!T&&("edge"==C||"msie"==C))return!0;if(this._validateChars(l,b)?(("mozilla"==C||"opera"==C)&&(35==t.keyCode||36==t.keyCode||37==t.keyCode||39==t.keyCode)||("mozilla"==C||"opera"==C)&&t.ctrlKey&&(97==l||99==l||118==l||120==l)||(""==this._textbox.value&&(this._textbox.value=this.model.maskFormat.replace(/[9?$CANa&*]/g,g)),this.model.maskFormat.indexOf("\\")>=0?b<this._maskLength&&this._writeBuffer(p,b,t):this._writeBuffer(p,b,t)),this._prevValue=this._textbox.value):("mozilla"==C||"opera"==C)&&(35==t.keyCode||36==t.keyCode||37==t.keyCode||39==t.keyCode)||("mozilla"==C||"opera"==C)&&t.ctrlKey&&(97==l||99==l||118==l||120==l)||(this.model.maskFormat.indexOf("&")>=0||this.model.maskFormat.indexOf("\\")>=0?(o=this._getCunrrentPos(b),"&"==this.model.maskFormat[b+o]&&127==l||(this.model.maskFormat.indexOf("\\")>=0?b<this._maskLength&&(this._validateChars(l,b+o)||"\\"==this.model.maskFormat[b+o-1]?this._writeBuffer(p,b,t):this._ErrorHandler(b)):this._validateChars(l,b+o)?this._writeBuffer(p,b,t):this._ErrorHandler(b))):this._ErrorHandler(b)),!this._keypressFlag&&9!=l)return this._keypressFlag=0,t.preventDefault(),!1;this._keypressFlag=0}},_OnInputHandler:function(t){var b,T,D,o=s.browserInfo().name,l=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream&&!this._keyFlag,p=this._keyupFlag&&("edge"==o||"msie"==o);if(0==this._maskLength)return!0;if(s.isDevice()&&s.isTouchDevice()&&(l||p)){var C=1==(L=this._textbox.value.length-this._prevValue.length)?this._seekNext(!0):this._seekNext(!0,L-1);I=(R=this._textbox.value[this.element[0].selectionStart-1]).charCodeAt(0),this._validateChars(I,C)?(this._textbox.value=this._prevValue,T=String.fromCharCode(I),this._writeBuffer(T,C,t)):(this._textbox.value=this._prevValue,this._setCaretPosition(C),this._ErrorHandler(C)),this._prevValue=this._textbox.value,this._prevPosition=this.element[0].selectionStart,this._checkMask=!0}if(s.isDevice()&&s.isTouchDevice()&&!l&&!this._keyupFlag){this.element[0].selectionStart!=(b=this.element[0].selectionEnd)&&this._textbox.setSelectionRange(b,b);var L,I,V=this.model.showPromptChar?"_":" ",F=(L=this._textbox.value.length-this._prevValue.length)<=0,A=F?this._seekBefore(!0):this._seekNext(!0),R=this._textbox.value[this.element[0].selectionStart-1];if(this.element[0].selectionStart>0&&(I=R.charCodeAt(0)),this._tempMask.length>this._textbox.value.length)s.isNullOrUndefined(R)&&this._emptyMask.slice(1,this._emptyMask.length)==this._textbox.value?this._textbox.value=this._emptyMask:F?(this._textbox.value=this._prevValue,this._writeBuffer(V,A,t)):this._validateChars(I,C=A)?(this._textbox.value=this._prevValue,T=String.fromCharCode(I),this._writeBuffer(T,C,t)):(this._textbox.value=this._prevValue,this._setCaretPosition(C),this._ErrorHandler(C)),this._setCaretPosition(A);else if(this._validateChars(I,C=A))for(this._textbox.value=this._prevValue,T=String.fromCharCode(I),this._writeBuffer(T,C,t),D=0;D<this._emptyMask.length;D++)" "==this._emptyMask[D]&&" "!=this._textbox.value[D]&&R==this._textbox.value[D]&&(this._textbox.value=this._textbox.value.substring(0,startPos-1)+" "+R+this._textbox.value.substring(endPos,this._textbox.value.length),this._setCaretPosition(A+1));else this._textbox.value=this._prevValue,this._setCaretPosition(C),this._ErrorHandler(C);this._prevValue=this._textbox.value,this._prevPosition=this.element[0].selectionStart,this._keyupFlag=!0}this._keyFlag=!1},_OnKeyUpHandler:function(t){0==this._maskLength&&this._raiseEvents("change"),this._raiseEvents("keyUp",null,{keyCode:t.keyCode,altKey:t.altKey,shiftKey:t.shiftKey,ctrlKey:t.ctrlKey,originalArgs:t}),s.isNullOrUndefined(this.model.validationRules)||this._hiddenInput.valid()},_OnMouseOverHandler:function(){this._raiseEvents("mouseOver")},_OnMouseOutHandler:function(){this._raiseEvents("mouseOut")},_raiseEvents:function(t,o,l){var p,g=this.get_StrippedValue(),b=this.get_UnstrippedValue();if(this.model.value=null!==b?null==this.model.customCharacter&&""==a.trim(b.replace(/[\(\)-]/g,""))?null:b:null,"change"==t)if(this.previousValue!=this.model.value)this.previousValue=this.model.value;else if(this._focusValue==this.model.value)return!1;p={value:b,unmaskedValue:g},"change"==t&&(p.isInteraction=!o),"change"==t&&(this._trigger("_change",p),s.isNullOrUndefined(this.model.value)?this.wrapper.removeClass("e-valid"):this.wrapper.addClass("e-valid")),l&&a.extend(!0,p,l),this._hiddenInput.val(g),this._trigger(t,p)},_OnValueChange:function(){""==this._textbox.value&&""!=this._maskModel&&(this._textbox.value=this._maskModel),this._setValue(this._textbox.value)}}),s.InputMode={Password:"password",Text:"text"}}(jQuery,Syncfusion)})?u.apply(c,_):u)&&(n.exports=w)},356:(n,c,r)=>{var u,_,w;_=[r(270)],void 0!==(w="function"==typeof(u=function(){var v,a,s;v=jQuery,(a=Syncfusion).widget("ejBulletGraph","ej.datavisualization.BulletGraph",{element:null,model:null,validTags:["div"],_tags:[{tag:"qualitativeRanges",attr:["rangeEnd","rangeStroke","rangeOpacity"]},{tag:"quantitativeScaleSettings.featureMeasures",attr:["value","comparativeMeasureValue"]}],defaults:{locale:null,enableGroupSeparator:!1,value:0,comparativeMeasureValue:0,width:null,height:null,theme:"flatlight",orientation:"horizontal",flowDirection:"forward",qualitativeRangeSize:32,quantitativeScaleLength:475,tooltipSettings:{enableCaptionTooltip:!1,captionTemplate:null,visible:!0,template:null},quantitativeScaleSettings:{location:{x:10,y:10},minimum:0,maximum:10,interval:1,minorTicksPerInterval:4,majorTickSettings:{size:13,stroke:null,width:2},minorTickSettings:{size:7,stroke:null,width:2},tickPosition:"far",tickPlacement:"outside",labelSettings:{labelPlacement:"outside",labelPrefix:"",labelSuffix:"",stroke:null,size:12,offset:15,font:{fontFamily:"Segoe UI",fontStyle:"Normal ",fontWeight:"regular",opacity:1},position:"below"},featuredMeasureSettings:{stroke:null,width:6},comparativeMeasureSettings:{stroke:null,width:5},featureMeasures:[{value:null,comparativeMeasureValue:null,category:null}]},fields:{dataSource:null,query:null,tableName:null,category:null,featureMeasures:null,comparativeMeasure:null},enableAnimation:!0,enableResizing:!0,isResponsive:!0,applyRangeStrokeToTicks:!1,applyRangeStrokeToLabels:!1,qualitativeRanges:[{rangeEnd:4.3,rangeStroke:null,rangeOpacity:1},{rangeEnd:7.3,rangeStroke:null,rangeOpacity:1},{rangeEnd:10,rangeStroke:null,rangeOpacity:1}],captionSettings:{enableTrim:!0,textPosition:"float",textAlignment:"Near",textAnchor:"start",padding:5,textAngle:0,location:{x:17,y:30},text:"",font:{color:null,fontFamily:"Segoe UI",fontStyle:"Normal",size:"12px",fontWeight:"regular",opacity:1},subTitle:{textPosition:"float",textAlignment:"Near",textAnchor:"start",padding:5,textAngle:0,text:"",location:{x:10,y:45},font:{color:null,fontFamily:"Segoe UI",fontStyle:"Normal ",size:"12px",fontWeight:"regular",opacity:1}},indicator:{textPosition:"float",textAlignment:"Near",textAnchor:"start",padding:5,visible:!1,textAngle:0,textSpacing:3,text:"",symbol:{border:{color:null,width:1},color:null,shape:"",imageURL:"",size:{width:10,height:10},opacity:1},location:{x:10,y:60},font:{color:null,fontFamily:"Segoe UI",fontStyle:"Normal ",size:"12px",fontWeight:"regular",opacity:1}}},load:"",click:"",doubleClick:"",rightClick:"",drawTicks:null,drawLabels:null,drawCaption:null,drawIndicator:null,drawQualitativeRanges:null,drawFeatureMeasureBar:null,drawCategory:null,drawComparativeMeasureSymbol:null},observables:["value","comparativeMeasureValue"],value:a.util.valueFunction("value"),comparativeMeasureValue:a.util.valueFunction("comparativeMeasureValue"),dataTypes:{quantitativeScaleSettings:{labelSettings:"data",featureMeasures:"array"},fields:{dataSource:"data",query:"data"},qualitativeRanges:"array",captionSettings:"data",isResponsive:"boolean"},_init:function(){this._renderBulletGraph()},_destroy:function(){v(this.element).removeClass("e-datavisualization-bulletgraph e-js").find("#"+this.svgObject.id).remove()},_isSVG:function(){return!!window.SVGSVGElement},_value:a.util.valueFunction("value"),_comparativeMeasureValue:a.util.valueFunction("comparativeMeasureValue"),_qualitativeRanges:function(){this.redraw(),this._trigger("refresh")},_quantitativeScaleSettings_featureMeasures:function(){this.redraw(),this._trigger("refresh")},_renderBulletGraph:function(){var h=this.model.theme.toLowerCase();this._isSVG()&&(this.svgRenderer=new a.EjSvgRender(this.element),this.svgObject=this.svgRenderer.svgObj,this._trigger("load"),this._setSvgSize(this),this._setTheme(a.datavisualization.BulletGraph.Themes,h),this.bindEvents(),this._renderBulletElements(),this.model.enableAnimation&&this._animateMeasures())},_animateMeasures:function(){this._doAnimation(),this._doLineAnimation()},_setSvgSize:function(h){var t=h,o=v(t.element).height(),l=90,p=a.isTouchDevice()?250:595,g=v(t.element).width();t.model.width?p=parseInt(t.model.width):g>0&&g<595?p=g:g>595&&(p=595),v(t.svgObject).width(p),t.model.height?l=parseInt(t.model.height):o>0?l=o:v(t.svgObject).css("display","block"),v(t.svgObject).height(l),t.svgObject.setAttribute("width",p),t.svgObject.setAttribute("height",l)},_renderBulletElements:function(){var o;this.svgObject.setAttribute("viewBox","0 0 "+(this.model.width?this.model.width:595)+" "+(this.model.height?this.model.height:90)),this.svgObject.setAttribute("preserveAspectRatio","xMinYMin"),this.svgWidth=v(this.svgObject).width(),this.svgHeight=v(this.svgObject).height();var l=this.svgRenderer.createGroup({id:this.svgObject.id+"_captionGroup"}),p=this.svgRenderer.createGroup({id:this.svgObject.id+"_scaleGroup"}),g=this.svgRenderer.createGroup({id:this.svgObject.id+"_outerWrap"});this._initializeValues(),o=this.model.quantitativeScaleLength/((this._scale.maximum-this._scale.minimum)/this._scale.interval),this._drawCaption(),this._drawIndicator(),this._drawCaptionGroup(l),this._scaleGroup=p,this._drawScale(l,p),this._drawQualitativeRanges(p),this._drawMajorTicks(o,p),this._drawMinorTicks(o,p),this._drawLabels(o,p),this._bindData(),v(p).appendTo(g),v(l).appendTo(g),this._changeOrientation(p),v(g).appendTo(this.svgObject),v(this.svgObject).appendTo(this.element),this._bindHighlightRemoving()},_bindHighlightRemoving:function(){var t;t=this.model.browserInfo.isMSPointerEnabled?this.model.browserInfo.pointerEnabled?"pointerout":"MSPointerOut":"touchout mouseout",this._on(v("[id*="+this.svgObject.id+"_FeatureMeasure_]"),t,function(l){this.isTouch(l)||v(l.target).attr("opacity",1)})},_drawCaptionGroup:function(h){var g,b,C,T,D,t=this.model.captionSettings,o=t.subTitle,l=this._indicator?this._indicator.settings:t.indicator;t._location=o._location=l._location=p;var L="float"!=t.textPosition.toLowerCase()&&""!=t.text,I="float"!=o.textPosition.toLowerCase()&&""!=o.text,R=l.visible&&"float"!=l.textPosition.toLowerCase();if(L||I||R){g=a.EjSvgRender.utils._measureText(t.text,null,t.font),b=a.EjSvgRender.utils._measureText(o.text,null,o.font),l.visible&&(T={x:0,y:0,width:(D={width:l.symbol.size.width+(C=this._indicator.bounds).width+l.textSpacing,height:Math.max(l.symbol.size.height,C.height)}).width,height:D.height,padding:l.padding,anchor:l.textAnchor.toLowerCase(),alignment:l.textAlignment.toLowerCase()});var V={x:0,y:0,width:g.width,height:parseFloat(t.font.size),padding:t.padding,anchor:t.textAnchor.toLowerCase(),alignment:t.textAlignment.toLowerCase()},F={x:0,y:0,width:b.width,height:parseFloat(o.font.size),padding:o.padding,anchor:o.textAnchor.toLowerCase(),alignment:o.textAlignment.toLowerCase()},z=[L?t:null,I?o:null,R?l:null];this._positionTextGroup(z,[V,F,T],{x:this._scale.location.x,y:this._scale.location.y,width:this.model.quantitativeScaleLength,height:this.model.qualitativeRangeSize}),this._locateTextGroup(z,[V,F,T])}var N=t._location==s?t.location:t._location,U=o._location==s?o.location:o._location,J=l._location==s?l.location:l._location;if(t.displayText=t.text,1==t.enableTrim&&(N.x=N.x<0?0:N.x,N.y=N.y<0?0:N.y,t.displayText=this._displayText(t,N)),""!=o.text&&(o.displayText=o.text,1==t.enableTrim&&(U.x=U.x<0?0:U.x,U.y=U.y<0?0:U.y,o.displayText=this._displayText(o,U))),l.visible){l.displayText=l.text,1==this.model.captionSettings.enableTrim&&(J.x=J.x<0?0:J.x,J.y=J.y<0?0:J.y);var p,Q={x:(p=l._location?l._location:l.location).x+l.symbol.size.width/2,y:p.y-l.symbol.size.height/2,width:l.symbol.size.width,height:l.symbol.size.height},oe=this._indicatorTextOptions(l,Q,this._indicator.bounds,this.svgObject.id+"_Indicator"),ue=this._indicatorSymbolOptions(h,l);this._drawBulletSymbol(this._indicator.settings.symbol.shape,Q,ue,h),1==this.model.captionSettings.enableTrim&&(l.displayText=this._displayText(l,Q))}t.displayText="float"!=t.textPosition.toLowerCase()?this._captionOverlap(this.model.captionSettings):t.displayText,this.svgRenderer.drawText(this._textOptions(t,this.svgObject.id+"_Caption"),t.displayText,h),""!=o.text&&(o.displayText="float"!=o.textPosition.toLowerCase()?this._subOverlap(this.model.captionSettings.subTitle):o.displayText,this.svgRenderer.drawText(this._textOptions(o,this.svgObject.id+"_SubTitle"),o.displayText,h)),l.visible&&(l.displayText="float"!=l.textPosition.toLowerCase()?this._indOverlap(l,Q):l.displayText,this.svgRenderer.drawText(oe,l.displayText,h))},_captionOverlap:function(h){var t;return h.textPosition==h.subTitle.textPosition&&h.textAlignment==h.subTitle.textAlignment&&h.textAngle>0&&h.textAngle<120?t=h.subTitle._location.y-h._location.y:h.textPosition==h.indicator.textPosition&&h.textAlignment==h.indicator.textAlignment&&h.textAngle>0&&h.textAngle<120?t=h.indicator._location.y-h._location.y:h.textPosition==h.subTitle.textPosition&&h._location.y<h.subTitle._location.y&&h.textAngle>0&&h.textAngle<180?t=h.subTitle._location.y-h._location.y:h.textPosition==h.subTitle.textPosition&&h._location.y>h.subTitle._location.y&&h.textAngle>190&&h.textAngle<360?t=h._location.y-h.subTitle._location.y:h.textPosition==h.indicator.textPosition&&h._location.y<h.indicator._location.y&&h.textAngle>0&&h.textAngle<180?t=h.indicator._location.y-h._location.y:h.textPosition==h.indicator.textPosition&&h._location.y>h.indicator._location.y&&h.textAngle>190&&h.textAngle<360&&(t=h._location.y-h.indicator._location.y),this._trim(h.displayText,h,t,!0)},_indOverlap:function(h,t){var o,p,g;return g=this.model.captionSettings,h.textPosition==(p=this.model.captionSettings.subTitle).textPosition&&h.textAlignment==p.textAlignment&&h.textAngle>190&&h.textAngle<360?o=t.y-p._location.y:h.textPosition==g.textPosition&&h.textAlignment==g.textAlignment&&h.textAngle>190&&h.textAngle<360?o=t.y-g._location.y:h.textPosition==p.textPosition&&h._location.y<p._location.y&&h.textAngle>0&&h.textAngle<180?o=p._location.y-h._location.y:h.textPosition==p.textPosition&&h._location.y>p._location.y&&h.textAngle>190&&h.textAngle<360?o=h._location.y-p._location.y:h.textPosition==g.textPosition&&h._location.y<g._location.y&&h.textAngle>0&&h.textAngle<180?o=g._location.y-h._location.y:h.textPosition==g.textPosition&&h._location.y>g._location.y&&h.textAngle>190&&h.textAngle<360&&(o=h._location.y-g._location.y),this._trim(h.displayText,h,o,!0)},_subOverlap:function(h){var t,l,p;return p=this.model.captionSettings,h.textPosition==(l=this.model.captionSettings.indicator).textPosition&&h.textAlignment==l.textAlignment&&h.textAngle>0&&h.textAngle<180?t=l._location.y-h._location.y:h.textPosition==p.textPosition&&h.textAlignment==p.textAlignment&&h.textAngle>190&&h.textAngle<360?t=h._location.y-p._location.y:h.textPosition==l.textPosition&&h._location.y<l._location.y&&h.textAngle>0&&h.textAngle<180?t=l._location.y-h._location.y:h.textPosition==l.textPosition&&h._location.y>l._location.y&&h.textAngle>190&&h.textAngle<360?t=h._location.y-l._location.y:h.textPosition==p.textPosition&&h._location.y<p._location.y&&h.textAngle>0&&h.textAngle<180?t=p._location.y-h._location.y:h.textPosition==p.textPosition&&h._location.y>p._location.y&&h.textAngle>190&&h.textAngle<360&&(t=h._location.y-p._location.y),this._trim(h.displayText,h,t,!0)},rotatedLabel:function(h,t,o,l){var g=t.svgRenderer.createText({"font-size":h.size,transform:"rotate("+o+",0,0)","font-family":h.fontFamily,"font-style":h.fontStyle,rotateAngle:"rotate("+o+"deg)","text-anchor":"middle"},l);return Math.ceil(a.EjSvgRender.utils._measureBounds(g,t).width)},calcGap:function(h,t,o,l,p,g,b){var C;return h>=0&&h<=90?l+t.y>=b&&h>0?(C=b-t.y,p=!0):l+t.y<=b&&o+t.x>=g&&h>0?C=g-t.x:l+t.y<=b&&h>0?(C=b-t.y,p=!0):C=g-t.x:h>90&&h<180?l+t.y>=b?(C=b-t.y,p=!0):l+t.y<=b&&o+t.x>=g||o+t.x<=g?C=t.x:(C=b-t.y,p=!0):h>=180&&h<270?t.x-o>=0?(C=t.y,p=!0):t.y-l<=0&&t.x-o<=0?C=t.x:t.y-l<=0?(C=b-t.y,p=!0):C=t.x:o+t.x<=g?(C=t.y,p=!0):t.y-l>=0&&o+t.x>=g||o+t.x>=g?C=g-t.x:(C=t.y,p=!0),{trimSize:C,rotate:p}},_scaleLoc:function(){var l,p,T,h=this._scale,t=h.labelSettings.offset,o=h.majorTickSettings.size,g=this._scale.labelSettings,b=a.EjSvgRender.utils._measureText(g.labelPrefix+h.maximum+g.labelSuffix,null,g),C=this._orientation==a.datavisualization.BulletGraph.Orientation.Horizontal?b.height:b.width;switch(l=h.location.y,T=this.model.qualitativeRangeSize,"center"==this._tickPosition&&(o=o>T&&(o-T)/2),this._tickPosition+this._tickPlacement+this._labelPosition+this._labelPlacement){case"faroutsidebelowoutside":p=l+C+T+t+(o>t&&o-t);break;case"faroutsidebelowinside":p=l+o+T,l-=t+C>T&&t+C-T;break;case"faroutsideaboveoutside":p=l+o+T,l-=t+C;break;case"faroutsideaboveinside":p=l+o+T+(t+C>T+o?t+C-(T+o):0);break;case"farinsidebelowoutside":p=l+C+T+t,l-=o>T&&o-T;break;case"farinsidebelowinside":p=l+T,l=l-(o>T&&o-T)-(t+C>T+o&&t+C-o);break;case"farinsideaboveoutside":p=l+T,l=l-(t+C)-(o>t+C+T&&o-(t+C+T));break;case"farinsideaboveinside":p=l+T+(t+C>T&&C+t-T),l-=o>T&&o-T;break;case"nearoutsidebelowoutside":p=l+T+t+C,l-=o;break;case"nearoutsidebelowinside":p=l+T,l=l-o-(t+C>T+o&&t+C-(T+o));break;case"nearoutsideaboveoutside":p=l+T,l=l-o-(o<t+C&&t+C-o);break;case"nearoutsideaboveinside":p=l+T+(t+C>T&&t+C-T),l-=o;break;case"nearinsidebelowoutside":p=l+T+(o>t+C+T?o-T:t+C);break;case"nearinsidebelowinside":p=l+T+(o>T&&o-T),l-=t+C>T&&t+C-T;break;case"nearinsideaboveoutside":p=l+(o>T?o:T),l=l-t-C;break;case"nearinsideaboveinside":p=l+T+(o>C+t?o-T:C+t-T);break;case"centeroutsidebelowoutside":case"centerinsidebelowoutside":p=l+T+(o>t+C?o:t+C),l-=o;break;case"centeroutsidebelowinside":p=l+T+o,l=l-o-(t+C>T+o&&t+C-(T+o));break;case"centeroutsideaboveoutside":case"centerinsideaboveoutside":p=l+T+o,l=l-o-(o<t+C&&t+C-o);break;case"centeroutsideaboveinside":p=l+T+(t+C>T+o?t+C-T-o:o),l-=o;break;case"centerinsidebelowinside":p=l+T+o,l-=t+C-T>o?t+C-T:o;break;case"centerinsideaboveinside":p=l+T+(o>C+t?o:C+t-T),l-=o}return{x:h.location.x,y:l,height:p}},_displayText:function(h,t){var R,N,o=v.extend(!0,t),l=h.textAngle%360,p=h.text,g=h.font,b=this._scale,C=this._scale.labelSettings,T=a.EjSvgRender.utils._measureText(C.labelPrefix+b.minimum+C.labelSuffix,null,C).width,L=(a.EjSvgRender.utils._measureText(p,null,g),a.EjSvgRender.utils.rotatedLabel(h,this,l,h.text)),I=this.rotatedLabel(g,this,l,h.text),V=this.svgHeight,F=this.svgWidth,A=!1,z=this._scaleLoc();return h.textSpacing&&(I+=h.textSpacing),this._orientation==a.datavisualization.BulletGraph.Orientation.Horizontal?(o.x<=z.x&&z.y<=o.y&&o.y<=z.height?F=b.location.x-T/2:o.x<=z.x&&o.y<=z.y&&l<90||o.x>=z.x&&o.x<=z.x+this.model.quantitativeScaleLength&&o.y<=z.y||o.y<=z.y&&o.x>=z.x+this.model.quantitativeScaleLength&&l>=90?V=z.y:o.x>=z.x+this.model.quantitativeScaleLength&&z.y<=o.y&&o.y<=z.height&&l<270?(F-=z.x+this.model.quantitativeScaleLength,o.x=o.x-(z.x+this.model.quantitativeScaleLength)):(o.x<=z.x&&o.y>=z.height&&l>270||o.x>=z.x&&o.x<=z.x+this.model.quantitativeScaleLength&&o.y>=z.height||o.x>=z.x+this.model.quantitativeScaleLength&&o.y>=z.height&&l>=180&&l<270)&&(o.y=o.y-z.height),A=(R=this.calcGap(l,o,I,L,A,F,V)).rotate,R=R.trimSize):(N=z.height-z.y,z.y=this.svgHeight-b.location.y-this.model.quantitativeScaleLength,z.height=z.y+this.model.quantitativeScaleLength,o.x<=z.x&&z.y<=o.y&&o.y<=z.height?F=b.location.x-T/2:o.x<=z.x&&o.y<=z.y&&l<90||o.x>=z.x&&o.x<=z.x+N&&o.y<=z.y||o.y<=z.y&&o.x>=z.x+N&&l>=90?V=z.y:o.x>=z.x+N&&z.y<=o.y&&o.y<=z.height&&l<=260?(F-=z.x+N,o.x=o.x-(z.x+N)):(o.x<=z.x&&o.y>=z.height&&l>=280||o.x>=z.x&&o.x<=z.x+N&&o.y>=z.height||o.x>=z.x+N&&o.y>=z.height&&l>=180&&l<=260)&&(o.y=o.y-z.height),A=(R=this.calcGap(l,o,I,L,A,F,V)).rotate,R=R.trimSize),this._trim(p,h,R,A)},_trim:function(h,t,o,l){var C,T,p=h,b=(this.rotatedLabel(t.font,this,t.textAngle,h),a.EjSvgRender.utils._measureText(h,null,t.font).width);if(t.textSpacing&&(b+=t.textSpacing),b>o&&""!=h){for(T=1;T<=h.toString().length;T++)if(h=p.toString().substring(0,T)+"... ",C=1==l?a.EjSvgRender.utils.rotatedLabel(t,this,t.textAngle,h):a.EjSvgRender.utils._measureText(h,null,t.font).width,t.textSpacing&&(C+=t.textSpacing),C>=o){p=h=h.toString().substring(0,T-1)+"... ";break}p.toString(0,h.toString.lenght-4)!=p&&(p=h)}return p},_getVerticalScaleLocation:function(h){return{x:this._scale.location.y,y:this.svgHeight-this._scale.location.x-h}},_horizontalTextPositioning:function(h,t,C,l,p){var g=h.textPosition.toLowerCase(),b=t.alignment,T=(C=this._scaleLoc(),this._scale.labelSettings),D=a.EjSvgRender.utils._measureText(T.labelPrefix+this._scale.maximum+T.labelSuffix,null,T).width;switch(g){case"left":t.x=C.x-t.width-t.padding-D/2,t.y=C.y+("center"==b?l.height/2+t.height/3:"far"==b?l.height:t.height),p[0].push(t);break;case"right":t.x=C.x+l.width+t.padding+D/2,t.y=C.y+("center"==b?l.height/2+t.height/3:"far"==b?l.height:t.height),p[1].push(t);break;case"top":t.x="center"==b?l.x+l.width/2-t.width/2:"near"==b?l.x:l.x+l.width-t.width,t.y=C.y-t.padding,p[2].push(t);break;case"bottom":t.x="center"==b?l.x+l.width/2-t.width/2:"near"==b?l.x:l.x+l.width-t.width,t.y=C.height+t.height/2+t.padding,p[3].push(t)}},_VerticalTextPositioning:function(h,t,o,l,p){var g=h.textPosition.toLowerCase(),b=t.alignment,C=this._scaleLoc();switch(g){case"left":t.x=C.y-t.width-t.padding,t.y=o.y+("center"==b?l.height/2+t.height/3:"far"==b?l.height:t.height),"near"==this._tickPosition&&"inside"==this._tickPlacement&&"above"==this._labelPosition&&"inside"==this._labelPlacement&&(t.x+=this._scale.majorTickSettings.size),p[0].push(t);break;case"right":t.x=C.height+t.padding,t.y=o.y+("center"==b?l.height/2+t.height/3:"far"==b?l.height:t.height),p[1].push(t);break;case"top":t.x=l.x-t.width/2+("center"==b?l.width/2:"far"==b&&l.width),t.y=l.y-t.padding,p[2].push(t);break;case"bottom":t.x=l.x-t.width/2+("center"==b?l.width/2:"far"==b&&l.width),t.y=l.y+l.height+t.height+t.padding-t.height/3+this._scale.labelSettings.size/2,p[3].push(t)}},_positionTextGroup:function(h,t,o){for(var l=[[],[],[],[]],p="horizontal"==this._orientation,g=p?this._scaleLocation:this._getVerticalScaleLocation(o.width),b=p?o:{x:g.x,y:g.y,width:o.height,height:o.width},C=0;C<h.length;C++)h[C]&&(p?this._horizontalTextPositioning(h[C],t[C],g,b,l):this._VerticalTextPositioning(h[C],t[C],g,b,l));this._avoidElementsOverlapping(l)},_avoidElementsOverlapping:function(h){for(var t,o,l,p,g=0;g<h.length;g++){t=h[g],o=!1;do{for(l=0;l<t.length;l++)for(p=l-1;p>=0;p--){if(this._isOverlapping(t[l],t[p])){switch(g){case 0:case 1:t[p].y>t[l].y?t[p].y=t[l].y+t[p].height+(t[p].padding>1?t[p].padding:1):t[l].y=t[p].y+t[l].height+(t[l].padding>1?t[l].padding:1);break;case 2:t[p].y=t[l].y-t[l].height-(t[p].padding>1?t[p].padding:1);break;default:t[l].y=t[p].y+t[p].height+(t[p].padding>1?t[p].padding:1)}o=!0;break}o=!1}}while(o)}this._applyLeftRightAnchor([h[0],h[1]]),this._applyTopBottomAnchor([h[2],h[3]])},_locateTextGroup:function(h,t){for(var o=0;o<h.length;o++)h[o]&&(h[o]._location={x:0,y:0},h[o]._location.x=t[o].x,h[o]._location.y=t[o].y)},_applyLeftRightAnchor:function(h){for(var t,o,l,p,g=0;g<h.length;g++){for(t=h[g],o=0,l=0;l<t.length;l++)o=Math.max(o,t[l].width);for(l=0;l<t.length;l++)t[l].x+="start"==(p=t[l].anchor)?0==g&&t[l].width-o:"middle"==p?0==g?(t[l].width-o)/2:(o-t[l].width)/2:0!=g&&o-t[l].width}},_applyTopBottomAnchor:function(h){for(var t,o=0;o<h.length;o++){var l=[],p=[],g=[],b=h[o];for(t=0;t<b.length;t++)"near"==b[t].alignment?l.push(b[t]):"far"==b[t].alignment?p.push(b[t]):g.push(b[t]);this._applyNearAnchor(l),this._applyCenterAnchor(g),this._applyFarAnchor(p)}},_applyNearAnchor:function(h){var t,o;if(h.length>1){for(t=0,o=0;o<h.length;o++)t=Math.max(t,h[o].width);for(o=0;o<h.length;o++)h[o].x+="start"==h[o].anchor?"vertical"==this._orientation&&(h[o].width-t)/2:"middle"==h[o].anchor?"horizontal"==this._orientation&&(t-h[o].width)/2:"horizontal"==this._orientation?t-h[o].width:(t-h[o].width)/2}},_applyCenterAnchor:function(h){var t,o;if(h.length>1){for(t=0,o=0;o<h.length;o++)t=Math.max(t,h[o].width);for(o=0;o<h.length;o++)"start"==h[o].anchor?h[o].x+=(h[o].width-t)/2:"end"==h[o].anchor&&(h[o].x+=(t-h[o].width)/2)}},_applyFarAnchor:function(h){var t,o;if(h.length>1){for(t=0,o=0;o<h.length;o++)t=Math.max(t,h[o].width);for(o=0;o<h.length;o++)"start"==h[o].anchor?h[o].x+="horizontal"==this._orientation?h[o].width-t:(h[o].width-t)/2:"middle"==h[o].anchor?h[o].x+="horizontal"==this._orientation&&(h[o].width-t)/2:"end"==h[o].anchor&&(h[o].x+="vertical"==this._orientation&&(t-h[o].width)/2)}},_isOverlapping:function(h,t){return!(h.x+h.width<t.x||h.x>t.x+t.width||h.y-h.height>t.y||h.y<t.y-t.height)},_initializeValues:function(){this._scale=this.model.quantitativeScaleSettings,this._labelPosition=this._scale.labelSettings.position.toLowerCase(),this._tickPosition=this._scale.tickPosition.toLowerCase(),this._flowDirection=this.model.flowDirection.toLowerCase(),this._orientation=this.model.orientation.toLowerCase(),this._tickPlacement=this._scale.tickPlacement.toLowerCase(),this._labelPlacement=this._scale.labelSettings.labelPlacement.toLowerCase()},_changeOrientation:function(h){this._orientation==a.datavisualization.BulletGraph.Orientation.Vertical&&h.setAttribute("transform","translate(0,"+this.svgHeight+")rotate(-90)")},_setModel:function(h){var o,l,t=!0;for(o in h)switch(this.model.enableAnimation=!1,o){case"height":this.model.height=h[o];break;case"width":this.model.width=h[o];break;case"theme":this.model.theme=h[o],this._setTheme(a.datavisualization.BulletGraph.Themes,this.model.theme);break;case"orientation":this.model.orientation=h[o];break;case"flowDirection":this.model.flowDirection=h[o];break;case"qualitativeRangeSize":this.model.qualitativeRangeSize=h[o];break;case"quantitativeScaleLength":this.model.quantitativeScaleLength=h[o];break;case"quantitativeScaleSettings":v.extend(!0,this.model.quantitativeScaleSettings,{},h[o]);break;case"applyRangeStrokeToTicks":this.model.applyRangeStrokeToTicks=h[o];break;case"applyRangeStrokeToLabels":this.model.applyRangeStrokeToLabels=h[o];break;case"qualitativeRanges":v.extend(!0,this.model.qualitativeRanges,{},h[o]);break;case"captionSettings":v.extend(!0,this.model.captionSettings,{},h[o]);break;case"dataSource":v.extend(!0,this.model.fields,{},h[o]);break;case"value":for(l=0;null!=this.model.quantitativeScaleSettings.featureMeasures[l];l++)this.model.quantitativeScaleSettings.featureMeasures[l].value=parseFloat(this.value());break;case"comparativeMeasureValue":for(l=0;null!=this.model.quantitativeScaleSettings.featureMeasures[l];l++)this.model.quantitativeScaleSettings.featureMeasures[l].comparativeMeasureValue=parseFloat(this.comparativeMeasureValue());break;case"enableAnimation":this.model.enableAnimation=h[o],this.model.enableAnimation&&(v(this.svgObject).empty(),this._renderBulletElements(),this._animateMeasures()),t=!1}t&&(v(this.svgObject).empty(),this._renderBulletElements())},_bindData:function(){a.isNullOrUndefined(this.model.fields)||null==this.model.fields.dataSource?(this._dataCount=this._scale.featureMeasures.length,this._drawMeasures()):this.model.fields.dataSource instanceof a.DataManager?this._initDataSource():(this._dataCount=this.model.fields.dataSource.length,this._drawMeasures())},_drawMeasures:function(){this._drawFeatureMeasureBar(),this._drawComparativeMeasureSymbol()},_initDataSource:function(){var h=this._columnToSelect(this.model.fields),t=this;this.model.fields.dataSource.executeQuery(h).done(function(l){t.model.fields.dataSource=l.result,t._dataCount=l.result.length,t._drawFeatureMeasureBar(),t._drawComparativeMeasureSymbol(),t._bindHighlightRemoving()})},_columnToSelect:function(h){var l,t=[],o=a.Query();if(a.isNullOrUndefined(h.query)){for(l in h)"tableName"!==l&&"query"!==l&&"dataSource"!==l&&t.push(h[l]);t.length>0&&o.select(t),this.model.fields.dataSource.dataSource.url.match(h.tableName+"$")||a.isNullOrUndefined(h.tableName)||o.from(h.tableName)}else o=h.query;return o},_drawCaption:function(){if(this.model.drawCaption){var h={font:this.model.captionSettings.font,location:this.model.captionSettings.location,subTitle:this.model.captionSettings.subTitle,text:this.model.captionSettings.text,textAngle:this.model.captionSettings.textAngle};this._trigger("drawCaption",h),this.model.captionSettings=v.extend(this.model.captionSettings,h)}},_drawBulletSymbol:function(h,t,o,l){var R,p="M "+(t.x-t.width/2+t.width)+" "+(t.y+t.height/4)+" L "+(t.x-t.width/2+t.width)+" "+(t.y+-t.height/4)+" L "+(t.x-t.width/2+t.width/2)+" "+(t.y+-t.height/4)+" L "+(t.x-t.width/2+t.width/2)+" "+(t.y+-t.height/2)+" L "+(t.x-t.width/2)+" "+t.y+" L "+(t.x-t.width/2+t.width/2)+" "+(t.y+t.height/2)+" L "+(t.x-t.width/2+t.width/2)+" "+(t.y+t.height/4)+" L "+(t.x-t.width/2+t.width)+" "+(t.y+t.height/4);switch(h.toLowerCase()){case"circle":g=Math.min(t.height,t.width)/2,o.cx=t.x,o.cy=t.y,o.r=g,this.svgRenderer.drawCircle(o,l);break;case"leftarrow":o.d=p,this.svgRenderer.drawPath(o,l);break;case"rightarrow":o.d=p,o.transform="rotate(180,"+t.x+","+t.y+")",this.svgRenderer.drawPath(o,l);break;case"uparrow":o.d=p,o.transform="rotate(90,"+t.x+","+t.y+")",this.svgRenderer.drawPath(o,l);break;case"downarrow":o.d=p,o.transform="rotate(-90,"+t.x+","+t.y+")",this.svgRenderer.drawPath(o,l);break;case"cross":o.d="M "+(t.x+-t.width/2)+" "+t.y+" L "+(t.x+t.width/2)+" "+t.y+" M "+t.x+" "+(t.y+t.height/2)+" L "+t.x+" "+(t.y+-t.height/2),o.stroke=o.stroke?o.stroke:o.fill,this.svgRenderer.drawPath(o,l);break;case"horizontalline":o.d="M "+(t.x+-t.width/2)+" "+t.y+" L "+(t.x+t.width/2)+" "+t.y,o.stroke=o.stroke?o.stroke:o.fill,this.svgRenderer.drawPath(o,l);break;case"verticalline":o.d="M "+t.x+" "+(t.y+t.height/2)+" L "+t.x+" "+(t.y+-t.height/2),o.stroke=o.stroke?o.stroke:o.fill,this.svgRenderer.drawPath(o,l);break;case"triangle":o.d="M "+(t.x+-t.width/2)+" "+(t.y+t.height/2)+" L "+t.x+" "+(t.y+-t.height/2)+" L "+(t.x+t.width/2)+" "+(t.y+t.height/2)+" L "+(t.x+-t.width/2)+" "+(t.y+t.height/2)+" Z",this.svgRenderer.drawPath(o,l);break;case"invertedtriangle":o.d="M "+(t.x+-t.width/2)+" "+(t.y+t.height/2)+" L "+t.x+" "+(t.y+-t.height/2)+" L "+(t.x+t.width/2)+" "+(t.y+t.height/2)+" L "+(t.x+-t.width/2)+" "+(t.y+t.height/2)+" Z",o.transform="rotate(180,"+t.x+","+t.y+")",this.svgRenderer.drawPath(o,l);break;case"hexagon":o.d="M "+(t.x+-t.width/2)+" "+t.y+" L "+(t.x+-t.width/4)+" "+(t.y+-t.height/2)+" L "+(t.x+t.width/4)+" "+(t.y+-t.height/2)+" L "+(t.x+t.width/2)+" "+t.y+" L "+(t.x+t.width/4)+" "+(t.y+t.height/2)+" L "+(t.x+-t.width/4)+" "+(t.y+t.height/2)+" L "+(t.x+-t.width/2)+" "+t.y,this.svgRenderer.drawPath(o,l);break;case"wedge":o.d="M "+(t.x+-t.width/2)+" "+t.y+" L "+(t.x+t.width/2)+" "+(t.y+-t.height/2)+" L "+(t.x+t.width/4)+" "+t.y+" L "+(t.x+t.width/2)+" "+(t.y+t.height/2)+" L "+(t.x+-t.width/2)+" "+t.y,this.svgRenderer.drawPath(o,l);break;case"pentagon":var g=Math.sqrt(t.height*t.height+t.width*t.width)/2,z=a.EjSvgRender.utils._getStringBuilder();for(R=0;R<=5;R++){var U=Math.PI/180*(72*R),J=g*Math.cos(U),Q=g*Math.sin(U);z.append(0==R?"M "+(t.x+J)+" "+(t.y+Q)+" ":"L "+(t.x+J)+" "+(t.y+Q)+" ")}o.d=z.toString(),this.svgRenderer.drawPath(o,l);break;case"star":o.d="M "+(t.x+t.width/3)+" "+(t.y+-t.height/2)+" L "+(t.x+-t.width/2)+" "+(t.y+t.height/6)+" L "+(t.x+t.width/2)+" "+(t.y+t.height/6)+" L "+(t.x+-t.width/3)+" "+(t.y+-t.height/2)+" L "+t.x+" "+(t.y+t.height/2)+" L "+(t.x+t.width/3)+" "+(t.y+-t.height/2),this.svgRenderer.drawPath(o,l);break;case"rectangle":o.d="M "+(t.x+-t.width/2)+" "+(t.y+-t.height/2)+" L "+(t.x+t.width/2)+" "+(t.y+-t.height/2)+" L "+(t.x+t.width/2)+" "+(t.y+t.height/2)+" L "+(t.x+-t.width/2)+" "+(t.y+t.height/2)+" L "+(t.x+-t.width/2)+" "+(t.y+-t.height/2),this.svgRenderer.drawPath(o,l);break;case"trapezoid":o.d="M "+(t.x+-t.width/2)+" "+t.y+" L "+(t.x+-t.width/2)+" "+(t.y+-t.height/4)+" L "+(t.x+-t.width/2+t.width)+" "+(t.y+-t.height/2)+" L "+(t.x+-t.width/2+t.width)+" "+(t.y+t.height/2)+" L "+(t.x+-t.width/2)+" "+(t.y+t.height/4)+" L "+(t.x+-t.width/2)+" "+t.y,this.svgRenderer.drawPath(o,l);break;case"diamond":o.d="M "+(t.x+-t.width/2)+" "+t.y+" L "+t.x+" "+(t.y+-t.height/2)+" L "+(t.x+t.width/2)+" "+t.y+" L "+t.x+" "+(t.y+t.height/2)+" L "+(t.x+-t.width/2)+" "+t.y,this.svgRenderer.drawPath(o,l);break;case"ellipse":o.cx=t.x,o.cy=t.y,o.rx=t.width/2,o.ry=t.height/2,this.svgRenderer.drawEllipse(o,l);break;case"image":o.x=t.x-t.width/2,o.y=t.y-t.height/2,o.width=t.width,o.height=t.height,o.href=this.model.captionSettings.indicator.symbol.imageURL,o.visibility="visible",this.svgRenderer.drawImage(o,l)}},_drawIndicator:function(){var h,t,o;this.model.captionSettings.indicator.visible&&(h=this.model.captionSettings.indicator,t=v.extend({},{indicatorSettings:this.model.captionSettings.indicator}),this.model.drawIndicator&&(this._trigger("drawIndicator",t),0==t.cancel&&(this.model.captionSettings.indicator=h=t.indicatorSettings)),o=a.EjSvgRender.utils._measureText(h.text,null,h.font),this._indicator={bounds:o,settings:h})},_indicatorTextOptions:function(h,t,o,l){var p=h._location?h._location:h.location;return{class:l,x:p.x+t.width+h.textSpacing,y:p.y-t.height/2+parseFloat(h.font.size)/3,fill:h.font.color,"font-size":h.font.size,"font-family":h.font.fontFamily,"font-style":h.font.fontStyle,"font-weight":h.font.fontWeight,"text-anchor":"start",opacity:h.font.opacity,transform:"rotate("+h.textAngle+","+t.x+","+t.y+")"}},_indicatorSymbolOptions:function(h,t){return{id:h.id+"_indicatorSymbol",stroke:t.symbol.border.color,fill:t.symbol.color,"stroke-width":t.symbol.border.width,opacity:t.symbol.opacity}},_textOptions:function(h,t){var o=h._location?h._location:h.location;return{class:t,x:o.x,y:o.y,fill:h.font.color,"font-size":h.font.size,"font-family":h.font.fontFamily,"font-style":h.font.fontStyle,"font-weight":h.font.fontWeight,"text-anchor":"start",opacity:h.font.opacity,cursor:"default",transform:"rotate("+h.textAngle+","+o.x+","+o.y+")"}},_drawScale:function(h,t){var o=this._scale._location?this._scale._location:this._scale.location;this.svgRenderer.drawRect({id:this.svgObject.id+"_SvgScale",x:this._flowDirection==a.datavisualization.BulletGraph.FlowDirection.Forward?o.x:this._orientation==a.datavisualization.BulletGraph.Orientation.Horizontal?o.x-this._scale.labelSettings.offset:o.x,y:this._tickPosition==a.datavisualization.BulletGraph.TickPosition.Far||this._tickPosition==a.datavisualization.BulletGraph.TickPosition.Center?this._labelPosition==a.datavisualization.BulletGraph.LabelPosition.Below?o.y:o.y+this._scale.labelSettings.offset+this._scale.labelSettings.size:this._labelPosition==a.datavisualization.BulletGraph.LabelPosition.Below?o.y+this._scale.majorTickSettings.size:o.y+this._scale.labelSettings.offset+this._scale.labelSettings.size+this._scale.majorTickSettings.size,width:this.model.quantitativeScaleLength,height:this.model.qualitativeRangeSize,fill:"transparent","stroke-width":0},t)},_drawMajorTicks:function(h,t){var o,l,z,N,U,J,Q,g=this._scale.location,b="inside"==this._tickPlacement,C=this._scale.location.x,T=this.model.quantitativeScaleLength,L=this.model.qualitativeRangeSize,I=this._scale.majorTickSettings.width,R=this._scale.majorTickSettings.size,V=this._orientation==a.datavisualization.BulletGraph.Orientation.Horizontal,F=this._flowDirection==a.datavisualization.BulletGraph.FlowDirection.Forward;o=F?V?C+I/2:C+T+I/2:V?C+T-I/2:C+I/2,l="far"==this._tickPosition?g.y+L+(b?-R:0):"near"==this._tickPosition?g.y+(b?0:-R):g.y+L/2-R/2;var oe=this._scale.minimum,ue=this._scale.maximum,le=this._scale.interval;for(z=oe;z<=ue;z+=le)z>=ue&&(V&&!F?o+=I:o-=I),!V&&F&&(o=z>=ue?o+I:z==oe?o-I:o),this.model.applyRangeStrokeToTicks&&(N=this._bindingRangeStrokes(o-I/2)),U=this._majorTickLines(this._scale,o,l,N),!V&&F&&z==oe&&(o+=I),this.model.drawTicks&&(this._trigger("drawTicks",J={majorTickSettings:this._scale.majorTickSettings,minorTickSettings:this._scale.minorTickSettings,minorTicksPerInterval:this._scale.minorTicksPerInterval,maximum:ue,minimum:oe,interval:le}),U=this._majorTickLines(J,o,l,N)),Q=this.svgRenderer.createLine(U),o=!F&&V||F&&!V?o-h:o+h,t.appendChild(Q)},_majorTickLines:function(h,t,o,l){return{x1:t,y1:o,x2:t,y2:o+h.majorTickSettings.size,"stroke-width":h.majorTickSettings.width,stroke:this.model.applyRangeStrokeToTicks&&l?l:h.majorTickSettings.stroke}},_forwardStrokeBinding:function(h){if(h>=this._scale.location.x&&h<=this._rangeCollection[0]+this._scale.location.x)return this.model.qualitativeRanges[0].rangeStroke;for(var t=0;t<=this._rangeCollection.length-1;t++)if(h>=this._rangeCollection[t]+this._scale.location.x&&h<=this._rangeCollection[t+1]+this._scale.location.x)return this.model.qualitativeRanges[t+1].rangeStroke},_backwardStrokeBinding:function(h){var t,o;if(h>=this._rangeCollection[this._rangeCollection.length-1])return this.model.qualitativeRanges[0].rangeStroke;for(t=0;t<=this._rangeCollection.length-1;t++)if(h>=this._rangeCollection[t]&&h<this._rangeCollection[t+1])return o=v.inArray(this._rangeCollection[t],this._rangeCollection),this.model.qualitativeRanges[this._rangeCollection.length-1-o].rangeStroke},_bindingRangeStrokes:function(h){return 1!=this._rangeCollection.length?this.model.orientation==a.datavisualization.BulletGraph.Orientation.Horizontal&&this._flowDirection==a.datavisualization.BulletGraph.FlowDirection.Forward||this.model.orientation==a.datavisualization.BulletGraph.Orientation.Vertical&&this._flowDirection==a.datavisualization.BulletGraph.FlowDirection.Backward?this._forwardStrokeBinding(h):this._backwardStrokeBinding(h):h>=this._scale.location.x&&h<=this._rangeCollection[0]+this._scale.location.x?this.model.qualitativeRanges[0].rangeStroke:void 0},_drawMinorTicks:function(h,t){var o,l,p,g,b,U,J,Q,oe,ue,ne,C=0,T=this._flowDirection==a.datavisualization.BulletGraph.FlowDirection.Forward,D=this._orientation==a.datavisualization.BulletGraph.Orientation.Horizontal,L="inside"==this._tickPlacement,I=this._scale.location.x,R=this.model.qualitativeRangeSize,A=this._scale.minorTickSettings.size,z=this._scale.minorTickSettings.width,N=this.model.quantitativeScaleLength;switch(o=T?D?I:I+N:D?I+N-z/2:I,this._tickPosition){case"far":g=(p=this._scale.location.y+R)+(L?-A:A);break;case"near":p=this._scale.location.y+(L?A:-A),g=this._scale.location.y;break;default:g=(p=this._scale.location.y+R/2-A/2)+A}var he=this._scale.maximum,se=this._scale.minimum,ee=this._scale.interval,re=this._scale.minorTicksPerInterval;for(U=se;U<=he;U+=ee){for(l=h/re,J=1;J<=re;J++)C++,b=!D&&T||D&&!T?o-l+l/(re+1):o+l-l/(re+1),!T&&D&&C>=(he-se)*re&&(b+=z/2),this.model.applyRangeStrokeToTicks&&(Q=this._bindingRangeStrokes(b)),oe=this._minorTickLines(this._scale,b,p,g,Q),this.model.drawTicks&&(this._trigger("drawTicks",ue={majorTickSettings:this._scale.majorTickSettings,minorTickSettings:this._scale.minorTickSettings,minorTicksPerInterval:this._scale.minorTicksPerInterval,maximum:this._scale.maximum,minimum:this._scale.minimum,interval:this._scale.interval}),this._scale=v.extend(this._scale,ue),oe=this._minorTickLines(ue,b,p,g,Q)),!T&&D?b<=N+I+1&&b>=I+1&&(ne=this.svgRenderer.createLine(oe),t.appendChild(ne)):T&&!D?b>=I+1&&(ne=this.svgRenderer.createLine(oe),t.appendChild(ne)):b<=N+I+1&&(ne=this.svgRenderer.createLine(oe),t.appendChild(ne)),l=h/re*(J+1);o=!T&&D||T&&!D?o-h:o+h}},_minorTickLines:function(h,t,o,l,p){return{x1:t,y1:o,x2:t,y2:l,"stroke-width":h.minorTickSettings.width,stroke:this.model.applyRangeStrokeToTicks&&p?p:h.minorTickSettings.stroke}},_drawLabels:function(h,t){var o,l,b,C,F,A,N,U,J,Q,p=this.model.locale,g=p&&this.model.enableGroupSeparator,T=this._flowDirection==a.datavisualization.BulletGraph.FlowDirection.Forward,D=this._orientation==a.datavisualization.BulletGraph.Orientation.Horizontal,L=this._scale.location.x,I=this._scale.labelSettings.offset,R=this.model.quantitativeScaleLength;o=T?D?L:L+R:D?L+R:L;var oe=this._tickPosition+this._labelPlacement,ue=this._labelPosition==a.datavisualization.BulletGraph.LabelPosition.Below,ne=this.model.qualitativeRangeSize,he=this._scale.labelSettings.size;switch(oe){case"faroutside":case"centeroutside":case"nearoutside":l=ue?this._scale.location.y+ne+I+he:this._scale.location.y-I;break;case"farinside":case"centerinside":l=ue?this._scale.location.y+ne-I:this._scale.location.y+I+(D?he:0);break;case"nearinside":l=ue?this._scale.location.y+ne-I:this._scale.location.y+I+he}var re=this._scale.maximum,W=this._scale.interval;for(A=this._scale.minimum;A<=re;A+=W){var M=l,fe=o,xe=this._scale.labelSettings.font;if(xe.size=he,D)C="rotate(0,"+fe+","+M+")";else{switch(N=this._scale.labelSettings.labelPrefix+A+this._scale.labelSettings.labelSuffix,oe){case"faroutside":case"centeroutside":case"nearoutside":M-=ue?he:a.EjSvgRender.utils._measureText(N,null,xe).width;break;case"farinside":case"centerinside":ue&&(M-=a.EjSvgRender.utils._measureText(N,null,xe).width);break;case"nearinside":M-=ue?a.EjSvgRender.utils._measureText(N,null,xe).width:he}C="rotate(90,"+(fe-=he/3)+","+M+")"}this.model.applyRangeStrokeToLabels&&(U=this._bindingRangeStrokes(o)),J=this._labelOptions(this.model.quantitativeScaleSettings.labelSettings,fe,M,C,U),this.model.drawLabels&&(this._trigger("drawLabels",Q={font:this._scale.labelSettings.font,labelPrefix:this._scale.labelSettings.labelPrefix,labelSuffix:this._scale.labelSettings.labelSuffix,offset:I,size:he,stroke:this._scale.labelSettings.stroke}),J=this._labelOptions(Q,fe,M,C,U)),o=T?D?o+h:o-h:D?o-h:o+h,F=b=g?A.toLocaleString(p):A,a.util.isNullOrUndefined(J.labelPrefix)||(F=J.labelPrefix+b),a.util.isNullOrUndefined(J.labelSuffix)||(F+=J.labelSuffix),this.svgRenderer.drawText(J,F,t)}},_labelOptions:function(h,t,o,l,p){var g={x:t,y:o,"text-anchor":this._orientation==a.datavisualization.BulletGraph.Orientation.Horizontal?"middle":"start",fill:this.model.applyRangeStrokeToLabels&&p?p:h.stroke,"font-size":h.size+"px","font-family":h.font.fontFamily,"font-style":h.font.fontStyle,"font-weight":h.font.fontWeight,opacity:h.font.opacity,transform:l};return""!=h.labelPrefix&&(g.labelPrefix=h.labelPrefix),""!=h.labelSuffix&&(g.labelSuffix=h.labelSuffix),g},_drawQualitativeRanges:function(h){var l,C,T,D,L,t=this._scale.location.x,o=this._scale.location.y,p=this._flowDirection==a.datavisualization.BulletGraph.FlowDirection.Forward,g=this._orientation==a.datavisualization.BulletGraph.Orientation.Horizontal;this._rangeCollection=[];var F=this._scale.location.x,A=this._scale.minimum,z=this._scale.maximum,N=this.model.quantitativeScaleLength;for(C=this.model.qualitativeRanges.length-1;C>=0;C--)T={object:this,rangeIndex:C,rangeOptions:this.model.qualitativeRanges[C],rangeEndValue:this.model.qualitativeRanges[C].rangeEnd},this.model.drawQualitativeRanges&&this._trigger("drawQualitativeRanges",T),D=(D=T.rangeEndValue)>z?z:D,p?(t=g?F:F+(N-N/((z-A)/(z-A-(z-D)))),l=N/((z-A)/(z-A-(z-D)))):(t=g?F+(N-N/((z-A)/(z-A-(z-D)))):F,l=N/((z-A)/(z-A-(z-D)))),L={x:t,y:o,height:this.model.qualitativeRangeSize,width:l>0?l<N?l:N:0,fill:T.rangeOptions.rangeStroke,opacity:T.rangeOptions.rangeOpacity},this._rangeCollection.push(g&&p||!g&&!p?l:t),this.svgRenderer.drawRect(L,h);this._rangeCollection.sort(this._sortRangeCollection)},_sortRangeCollection:function(h,t){return h-t},_calculateFeatureMeasureBounds:function(h,t){var l,p,o=this._scale.minimum;if((h=h<o&&o<0?o:h)>=o){var g,b,C,T=this._scale.location.x,D=this.model.quantitativeScaleLength,L=this._scale.maximum-this._scale.minimum,I=this._scale.maximum-h,R=this._flowDirection.toLowerCase()+this._orientation.toLowerCase();switch(t=t??"",(l=this._scale.labelSettings.font).size=this._scale.labelSettings.size,p=a.EjSvgRender.utils._measureText(t.toString(),null,l).width,R){case"forwardhorizontal":case"backwardvertical":g=T+(o>0?0:D/L*Math.abs(o)),C=D/(L/(o>0?L-I:h)),h<0&&(g-=C=Math.abs(C)),C=g+C<T+D?C:T+D-g,b=T-("forwardhorizontal"==R?p/2+this._scale.labelSettings.offset:this._scale.labelSettings.offset);break;default:g=T+(D-D/(L/(L-I))),C=o>0?D/(L/(L-I)):D/(L/h),h<0&&(g-=C=Math.abs(C)),g<T&&(C=g+C-T,g=T),b=T+D+("backwardhorizontal"==R?p/2+this._scale.labelSettings.offset:this._scale.labelSettings.offset)}return{pointX:g,Width:C,lPointX:b}}return!1},_drawFeatureMeasureBar:function(){var t,o,l,p,g,I,R,V,F,A,h=1,b=this.model.locale,C=b&&this.model.enableGroupSeparator,T=!a.isNullOrUndefined(this.model.fields)&&null!=this.model.fields.dataSource,D=this._orientation==a.datavisualization.BulletGraph.Orientation.Vertical,L="function"==typeof this.model.value?this._value():this.model.value;if(this._dataCount>0)for(I=this._dataCount-1;I>=0;I--)t=T?this.model.fields.dataSource[I][this.model.fields.featureMeasures]:a.isNullOrUndefined(this._scale.featureMeasures[I].value)?L:this._scale.featureMeasures[I].value,p=this._scale.location.y+this.model.qualitativeRangeSize/this._dataCount*h/2-this._scale.featuredMeasureSettings.width/2,g=this._scale.location.y+this.model.qualitativeRangeSize/this._dataCount*h/2+this._scale.featuredMeasureSettings.width/2-1,(R=this._calculateFeatureMeasureBounds(t,o=T?this.model.fields.dataSource[I][this.model.fields.category]:this._scale.featureMeasures[I].category))&&(V=this._featureBar(this._scale,R.pointX,p,R.Width,I),this.model.drawFeatureMeasureBar&&(this._trigger("drawFeatureMeasureBar",A={featuredMeasureSettings:this._scale.featuredMeasureSettings}),V=this._featureBar(A,R.pointX,p,R.Width,I)),this.svgRenderer.drawRect(V,this._scaleGroup),F=this._drawcategory(this.model.quantitativeScaleSettings.labelSettings,R.lPointX,g,l=D?"rotate(90,"+R.lPointX+","+(g-4)+")":"rotate(0,"+R.lPointX+","+g+")"),this.model.drawCategory&&(this._trigger("drawCategory",A={size:this.model.quantitativeScaleSettings.labelSettings.size,stroke:this.model.quantitativeScaleSettings.labelSettings.stroke,font:this.model.quantitativeScaleSettings.labelSettings.font,categoryValue:o}),F=this._drawcategory(A,R.lPointX,g,l),o=A.categoryValue),a.isNullOrUndefined(o)||this.svgRenderer.drawText(F,C?o.toLocaleString(b):o,this._scaleGroup),h+=2,this.value(t))},_drawcategory:function(h,t,o,l){return{x:t,y:o+this._scale.featuredMeasureSettings.width/2,"text-anchor":"middle",fill:h.stroke,"font-size":h.size+"px","font-family":h.font.fontFamily,"font-style":h.font.fontStyle,"font-weight":h.font.fontWeight,opacity:h.font.opacity,transform:l}},_featureBar:function(h,t,o,l,p){return{class:this.svgObject.id+"_FeatureMeasure",id:this.svgObject.id+"_FeatureMeasure_"+p,x:t,y:o,height:h.featuredMeasureSettings.width,width:l,fill:h.featuredMeasureSettings.stroke}},_drawComparativeMeasureSymbol:function(){var t,o,l,p,T,D,L,h=1,g=this._flowDirection==a.datavisualization.BulletGraph.FlowDirection.Forward,b=this._orientation==a.datavisualization.BulletGraph.Orientation.Horizontal,C="function"==typeof this.model.comparativeMeasureValue?this._comparativeMeasureValue():this.model.comparativeMeasureValue;if(this._dataCount>0)for(T=this._dataCount-1;T>=0;T--)(t=a.isNullOrUndefined(this.model.fields)||null==this.model.fields.dataSource?a.isNullOrUndefined(this._scale.featureMeasures[T].comparativeMeasureValue)?C:this._scale.featureMeasures[T].comparativeMeasureValue:this.model.fields.dataSource[T][this.model.fields.comparativeMeasure])>=this._scale.minimum&&t<=this._scale.maximum&&(D=this._compareMeasure(this._scale,p=g?b?this._scale.location.x+this.model.quantitativeScaleLength/((this._scale.maximum-this._scale.minimum)/(this._scale.maximum-this._scale.minimum-(this._scale.maximum-t))):this._scale.location.x+(this.model.quantitativeScaleLength-this.model.quantitativeScaleLength/((this._scale.maximum-this._scale.minimum)/(this._scale.maximum-this._scale.minimum-(this._scale.maximum-t)))):b?this._scale.location.x+(this.model.quantitativeScaleLength-this.model.quantitativeScaleLength/((this._scale.maximum-this._scale.minimum)/(this._scale.maximum-this._scale.minimum-(this._scale.maximum-t)))):this._scale.location.x+this.model.quantitativeScaleLength/((this._scale.maximum-this._scale.minimum)/(this._scale.maximum-this._scale.minimum-(this._scale.maximum-t))),o=this._scale.location.y+this.model.qualitativeRangeSize/this._dataCount*h/2-this._scale.featuredMeasureSettings.width/2-this._scale.featuredMeasureSettings.width,l=this._scale.location.y+this.model.qualitativeRangeSize/this._dataCount*h/2-this._scale.featuredMeasureSettings.width/2+2*this._scale.featuredMeasureSettings.width,T,t),this.model.drawComparativeMeasureSymbol&&(this._trigger("drawComparativeMeasureSymbol",L={comparativeMeasureSettings:this._scale.comparativeMeasureSettings}),D=this._compareMeasure(L,p,o,l,T,t)),this.svgRenderer.drawLine(D,this._scaleGroup),h+=2,this.comparativeMeasureValue(t))},_compareMeasure:function(h,t,o,l,p,g){return{class:this.svgObject.id+"_ComparativeMeasure",id:this.svgObject.id+"_ComparativeMeasure_"+p,x1:g==this._scale.maximum?t-h.comparativeMeasureSettings.width/2:g==this._scale.minimum?t+h.comparativeMeasureSettings.width/2:t,y1:o,x2:g==this._scale.maximum?t-h.comparativeMeasureSettings.width/2:g==this._scale.minimum?t+h.comparativeMeasureSettings.width/2:t,y2:l,"stroke-width":h.comparativeMeasureSettings.width,stroke:h.comparativeMeasureSettings.stroke}},_setTheme:function(h,t){var l,p,g,o=[];for(l in this._scale=this.model.quantitativeScaleSettings,h)o.push(l);for(p=0;p<o.length;p++)for(this._scale.majorTickSettings.stroke=this._scale.majorTickSettings.stroke&&this._scale.majorTickSettings.stroke!=h[o[p]].quantitativeScaleSettings.majorTickSettings.stroke?this._scale.majorTickSettings.stroke:h[t].quantitativeScaleSettings.majorTickSettings.stroke,this._scale.minorTickSettings.stroke=this._scale.minorTickSettings.stroke&&this._scale.minorTickSettings.stroke!=h[o[p]].quantitativeScaleSettings.minorTickSettings.stroke?this._scale.minorTickSettings.stroke:h[t].quantitativeScaleSettings.minorTickSettings.stroke,this._scale.labelSettings.stroke=this._scale.labelSettings.stroke&&this._scale.labelSettings.stroke!=h[o[p]].quantitativeScaleSettings.labelSettings.stroke?this._scale.labelSettings.stroke:h[t].quantitativeScaleSettings.labelSettings.stroke,this._scale.featuredMeasureSettings.stroke=this._scale.featuredMeasureSettings.stroke&&this._scale.featuredMeasureSettings.stroke!=h[o[p]].quantitativeScaleSettings.featuredMeasureSettings.stroke?this._scale.featuredMeasureSettings.stroke:h[t].quantitativeScaleSettings.featuredMeasureSettings.stroke,this._scale.comparativeMeasureSettings.stroke=this._scale.comparativeMeasureSettings.stroke&&this._scale.comparativeMeasureSettings.stroke!=h[o[p]].quantitativeScaleSettings.comparativeMeasureSettings.stroke?this._scale.comparativeMeasureSettings.stroke:h[t].quantitativeScaleSettings.comparativeMeasureSettings.stroke,this.model.captionSettings.font.color=this.model.captionSettings.font.color&&this.model.captionSettings.font.color!=h[o[p]].captionSettings.font.color?this.model.captionSettings.font.color:h[t].captionSettings.font.color,this.model.captionSettings.subTitle.font.color=this.model.captionSettings.subTitle.font.color&&this.model.captionSettings.subTitle.font.color!=h[o[p]].captionSettings.subTitle.font.color?this.model.captionSettings.subTitle.font.color:h[t].captionSettings.subTitle.font.color,this.model.captionSettings.indicator.font.color=this.model.captionSettings.indicator.font.color&&this.model.captionSettings.indicator.font.color!=h[o[p]].captionSettings.indicator.font.color?this.model.captionSettings.indicator.font.color:h[t].captionSettings.indicator.font.color,this.model.captionSettings.indicator.symbol.color=this.model.captionSettings.indicator.symbol.color&&this.model.captionSettings.indicator.symbol.color!=h[o[p]].captionSettings.indicator.symbol.color?this.model.captionSettings.indicator.symbol.color:h[t].captionSettings.indicator.symbol.color,g=0;g<this.model.qualitativeRanges.length;g++)this.model.qualitativeRanges[g].rangeStroke=this.model.qualitativeRanges[g].rangeStroke?this.model.qualitativeRanges[g].rangeStroke:a.isNullOrUndefined(h[t].qualitativeRanges[g])?h[t].qualitativeRanges[0].rangeStroke:h[t].qualitativeRanges[g].rangeStroke},_onDrawQualitativeRanges:function(h,t,o){this._trigger("drawQualitativeRanges",{object:this,scaleElement:this.model.quantitativeScaleSettings,rangeIndex:o,rangeElement:h,rangeEndValue:t})},_doAnimation:function(){for(var t=v("."+this.svgObject.id+"_FeatureMeasure"),o=t.length-1;o>=0;o--)this._animateFeatureBar(t[o])},_doLineAnimation:function(){for(var h,t=v("."+this.svgObject.id+"_ComparativeMeasure"),o=2e3/t.length,l=t.length-1;l>=0;l--)v(h=t[l]).attr("transform","scale(0)"),this._doLineSymbol(h,o,l)},_animateFeatureBar:function(h){var o,l,t=h.getBBox();this._orientation==a.datavisualization.BulletGraph.Orientation.Horizontal&&this._flowDirection==a.datavisualization.BulletGraph.FlowDirection.Backward||this._orientation==a.datavisualization.BulletGraph.Orientation.Vertical&&this._flowDirection==a.datavisualization.BulletGraph.FlowDirection.Forward?(o=t.x+t.width,l=t.y+t.height):(o=t.x,l=t.y),v(h).animate({scale:1},{duration:1e3,step:function(g){v(h).attr("transform","translate("+o+" "+l+") scale("+g+",1) translate("+-o+" "+-l+")")}})},_doLineSymbol:function(h,t,o){var l=parseInt(o*t),p=h.getBBox(),g=p.x+p.width/2,b=p.y+p.height/2;v(h).delay(l).animate({scale:1},{duration:200,step:function(C){v(h).attr("transform","translate("+g+" "+b+") scale("+C+") translate("+-g+" "+-b+")")}})},bindEvents:function(){var h=a.EjSvgRender.utils.browserInfo(),t=h.isMSPointerEnabled,o=h.pointerEnabled,l=t?o?"pointerdown":"MSPointerDown":"touchstart mousedown",p=t?o?"pointerup":"MSPointerUp":"touchend mouseup",g=t?o?"pointermove":"MSPointerMove":"touchmove mousemove",b=t?o?"pointerleave":"MSPointerOut":"touchleave mouseleave";this.model.browserInfo=h,this._on(v(this.svgObject),g,this._bulletMouseMove),this._on(v(this.svgObject),b,this._bulletMouseLeave),this._on(v(this.svgObject),l,this._bulletMouseDown),this._on(v(this.svgObject),p,this._bulletMouseUp),this._on(v(this.svgObject),"contextmenu",this._bulletRightClick),this._on(v(this.svgObject),"click",this._bulletClick),(this.model.enableResizing||this.model.isResponsive)&&(a.isTouchDevice()?this._on(v(window),"orientationchange",this._bulletResize):this._on(v(window),"resize",this._bulletResize))},_unwireEvents:function(){this._off(v(this.svgObject),"contextmenu",this._bulletRightClick),this._off(v(this.svgObject),"click",this._bulletClick)},isDevice:function(){return/mobile|tablet|android|kindle/i.test(navigator.userAgent.toLowerCase())},_bulletResize:function(){var g,h=this,o=this.model.height,l=this.model.width,t=v(h.svgObject),p=(o=90,l=a.isTouchDevice()?250:595,v(h.element).width());h.model.width?l=parseInt(h.model.width):p>0&&p<595?l=p:p>595&&(l=595),h.model.height&&(o=parseInt(h.model.height)),g=v(h.element).height()>o?o:v(h.element).height(),this.resizeTO&&clearTimeout(this.resizeTO),this.resizeTO=setTimeout(function(){l<v(h.element).width()?t.width(l):t.width(v(h.element).width()),t.height(g),h.redraw()},500)},_bulletMouseLeave:function(h){this.isTouch(h)||(v("#tooltip").remove(),v(".tooltipDiv"+this._id).remove())},isTouch:function(h){var t=h.originalEvent?h.originalEvent:h;return"touch"==t.pointerType||2==t.pointerType||t.type.indexOf("touch")>-1},_bulletMouseMove:function(h){var t,o;t=v(h.target).attr("id"),o=v(h.target).attr("class"),this.isTouch(h)||(v("#tooltip").remove(),v(".tooltipDiv"+this._id).remove(),this._elementTooltip(h,o,t),this._displayTooltip(h,o,t))},_bulletMouseDown:function(h){if(this.isTouch(h)){v("#tooltip").remove(),v(".tooltipDiv"+this._id).remove();var t=v(h.target).attr("id"),o=v(h.target).attr("class");this._elementTooltip(h,o,t),this._displayTooltip(h,o,t)}a.isTouchDevice()&&""!=this.model.rightClick&&(this._longPressTimer=new Date)},_bulletMouseUp:function(h){if(this.isTouch(h)){var o,t=this;window.clearTimeout(t.model.timer),1==v(".tooltipDiv"+this._id).length&&(o=v(".tooltipDiv"+this._id)),o&&(t.model.trackerElement=o,t.model.timer=setTimeout(function(){t.model.trackerElement&&v(".tooltipDiv"+t._id).fadeOut(500,function(){v(".tooltipDiv"+t._id).remove(),v("[id*="+t.svgObject.id+"_FeatureMeasure_]").attr("opacity","1")})},1200))}a.isTouchDevice()&&""!=this.model.rightClick&&new Date-this.model._longPressTimer>1500&&this._bulletRightClick(h)},_bulletClick:function(h){var t=new Date;""!=this.model.click&&this._trigger("click",{data:{event:h}}),null!=this._doubleTapTimer&&t-this._doubleTapTimer<300&&this._bulletDoubleClick(h),this._doubleTapTimer=t},_bulletDoubleClick:function(h){""!=this.model.doubleClick&&this._trigger("doubleClick",{data:{event:h}})},_bulletRightClick:function(h){""!=this.model.rightClick&&this._trigger("rightClick",{data:{event:h}})},_elementTooltip:function(h,t){var b,C,T,o=this.model.captionSettings,l=v("<div></div>").attr({id:"tooltip",class:"tooltipDiv"+this._id}),p=this.mousePosition(h),g="";if(v(l).css({left:p.pageX+10,top:p.pageY+10,display:"block",position:"absolute","z-index":"13000",cursor:"default","font-family":"Segoe UI",color:"#707070","font-size":"12px","background-color":"#FFFFFF",border:"1px solid #707070"}),t==this.svgObject.id+"_Caption"?g=h.target.textContent==o.text?"":o.text:t==this.svgObject.id+"_SubTitle"?g=h.target.textContent==o.subTitle.text?"":o.subTitle.text:t==this.svgObject.id+"_Indicator"&&(g=h.target.textContent==o.indicator.text?"":o.indicator.text),""!=g)v(l).html("&nbsp"+g+"&nbsp"),v(document.body).append(l);else if(this.model.tooltipSettings.enableCaptionTooltip&&(t==this.svgObject.id+"_Caption"||t==this.svgObject.id+"_SubTitle"||t==this.svgObject.id+"_Indicator")){var D=v("."+t).text(),L={Text:D},I=this.model.tooltipSettings.captionTemplate;0==v(".tooltipDiv"+this._id).length&&(l=v("<div></div>").attr("class","tooltipDiv"+this._id).css({position:"absolute","z-index":"13000",display:"block"}),v(document.body).append(l)),""!=I&&null!=I?(b=(b=document.getElementById(I))?v(b).clone():v(I),v(b).css("display","block").appendTo(l),v(l).html(v(b).render(L))):v(l).html(D),v(l).css("font-size","12px"),C=p.clientX+v(document).scrollLeft()+10,T=p.clientY+v(document).scrollTop()+10,C=C+v(l).width()<v(window).width()?C:C-v(l).width(),T=T+v(l).height()<v(window).height()?T:T-v(l).height(),(C===s||null===C)&&(C=p.clientX+v(document).scrollLeft()+10),(T===s||null===T)&&(T=p.clientY+v(document).scrollTop()+10),v(l).css({left:C,top:T,"-webkit-border-radius":"5px 5px 5px 5px","-moz-border-radius":"5px 5px 5px 5px","-o-border-radius":"5px 5px 5px 5px","border-radius":"5px 5px 5px 5px","background-color":"White",border:"1px Solid Black","padding-bottom":"5px","padding-left":"5px","padding-right":"5px","padding-top":"5px"})}},mousePosition:function(h){return!a.util.isNullOrUndefined(h.pageX)&&h.pageX>0?h:h.originalEvent&&!a.util.isNullOrUndefined(h.originalEvent.pageX)&&h.originalEvent.pageX>0?h.originalEvent:h.originalEvent&&h.originalEvent.changedTouches!=s&&!a.util.isNullOrUndefined(h.originalEvent.changedTouches[0].pageX)&&h.originalEvent.changedTouches[0].pageX>0?h.originalEvent.changedTouches[0]:h},_displayTooltip:function(h,t,o){var l,p,g,b;if("undefined"!=t&&(t==this.svgObject.id+"_FeatureMeasure"||t==this.svgObject.id+"_ComparativeMeasure")){var D,L,I,R,V,F,C=this.model.locale,T=C&&this.model.enableGroupSeparator,A="function"==typeof this.model.value?this._value():this.model.value,z="function"==typeof this.model.comparativeMeasureValue?this._comparativeMeasureValue():this.model.comparativeMeasureValue,N=this.mousePosition(h);L=o.substring(o.lastIndexOf("_")+1),I=a.isNullOrUndefined(this.model.fields)||null==this.model.fields.dataSource?a.isNullOrUndefined(this._scale.featureMeasures[L].value)?A:this._scale.featureMeasures[L].value:this.model.fields.dataSource[L][this.model.fields.featureMeasures],R=a.isNullOrUndefined(this.model.fields)||null==this.model.fields.dataSource?a.isNullOrUndefined(this._scale.featureMeasures[L].comparativeMeasureValue)?z:this._scale.featureMeasures[L].comparativeMeasureValue:this.model.fields.dataSource[L][this.model.fields.comparativeMeasure],V=a.isNullOrUndefined(this.model.fields)||null==this.model.fields.dataSource?a.isNullOrUndefined(this._scale.featureMeasures[L].category)?null:this._scale.featureMeasures[L].category:a.isNullOrUndefined(this.model.fields.dataSource[L][this.model.fields.category])?null:this.model.fields.dataSource[L][this.model.fields.category],D=T?{currentValue:I.toLocaleString(C),targetValue:R.toLocaleString(C),category:a.util.isNullOrUndefined(V)?V:V.toLocaleString(C)}:{currentValue:I,targetValue:R,category:V},0==v(".tooltipDiv"+this._id).length&&(F=v("<div></div>").attr("class","tooltipDiv"+this._id).css({position:"absolute","z-index":"13000",display:"block"}),v(document.body).append(F)),""!=this.model.tooltipSettings.template&&null!=this.model.tooltipSettings.template?(l=v("#"+this.model.tooltipSettings.template).clone(),v(l).css("display","block").appendTo(F),v(F).html(v(l).render(D))):(p=a.isNullOrUndefined(D.category)?"":"<br/> Category : "+D.category,v(F).html("Current : "+D.currentValue+"<br/> Target : "+D.targetValue+p)),v(F).css("font-size","12px"),g=N.clientX+v(document).scrollLeft()+10,b=N.clientY+v(document).scrollTop()+10,g=g+v(F).width()<v(window).width()?g:g-v(F).width(),b=b+v(F).height()<v(window).height()?b:b-v(F).height(),(g===s||null===g)&&(g=N.clientX+v(document).scrollLeft()+10),(b===s||null===b)&&(b=N.clientY+v(document).scrollTop()+10),v(F).css({left:g,top:b,"-webkit-border-radius":"5px 5px 5px 5px","-moz-border-radius":"5px 5px 5px 5px","-o-border-radius":"5px 5px 5px 5px","border-radius":"5px 5px 5px 5px","background-color":"White",color:"black",border:"1px Solid Black","padding-bottom":"5px","padding-left":"5px","padding-right":"5px","padding-top":"5px"}),t==this.svgObject.id+"_FeatureMeasure"&&v("#"+o).attr("opacity","0.7")}},redraw:function(){v(this.svgObject).empty(),this._renderBulletElements()},destroy:function(){this._unwireEvents(),v(this.element).removeClass("e-bulletgraph e-js").find("#"+this.svgObject.id).remove()},setFeatureMeasureBarValue:function(h,t){this._scale=this.model.quantitativeScaleSettings,h<(a.isNullOrUndefined(this.model.fields)||null==this.model.fields.dataSource?this._scale.featureMeasures.length:this.model.fields.dataSource.length)&&null!=t&&(a.isNullOrUndefined(this.model.fields)||null==this.model.fields.dataSource?this._scale.featureMeasures[h].value=t:this.model.fields.dataSource[h][this.model.fields.featureMeasures]=t,this.redraw(),this.model.enableAnimation&&this._doAnimation())},setComparativeMeasureSymbol:function(h,t){this._scale=this.model.quantitativeScaleSettings,h<(a.isNullOrUndefined(this.model.fields)||null==this.model.fields.dataSource?this._scale.featureMeasures.length:this.model.fields.dataSource.length)&&null!=t&&(a.isNullOrUndefined(this.model.fields)||null==this.model.fields.dataSource?this._scale.featureMeasures[h].comparativeMeasureValue=t:this.model.fields.dataSource[h][this.model.fields.comparativeMeasure]=t,this.redraw(),this.model.enableAnimation&&this._doLineAnimation())}}),a.datavisualization.BulletGraph.Orientation={Horizontal:"horizontal",Vertical:"vertical"},a.datavisualization.BulletGraph.TickPlacement={Inside:"inside",Outside:"outside"},a.datavisualization.BulletGraph.LabelPlacement={Inside:"inside",Outside:"outside"},a.datavisualization.BulletGraph.Shape={Circle:"circle",Cross:"cross",Diamond:"diamond",DownArrow:"downarrow",Ellipse:"ellipse",HorizontalLine:"horizontalLine",Image:"image",InvertedTriangle:"invertedtriangle",LeftArrow:"leftarrow",Pentagon:"pentagon",Rectangle:"Rectangle",RightArrow:"rightarrow",Star:"star",Trapezoid:"trapezoid",Triangle:"triangle",UpArrow:"uparrow",VerticalLine:"verticalline",Wedge:"wedge"},a.datavisualization.BulletGraph.TickPosition={Far:"far",Near:"near",Center:"center"},a.datavisualization.BulletGraph.LabelPosition={Below:"below",Above:"above"},a.datavisualization.BulletGraph.FlowDirection={Forward:"forward",Backward:"backward"},a.datavisualization.BulletGraph.FontStyle={Normal:"Normal",Italic:"Italic",Oblique:"Oblique"},a.datavisualization.BulletGraph.FontWeight={Normal:"Normal",Bold:"Bold",Bolder:"Bolder",Lighter:"Lighter"},a.datavisualization.BulletGraph.Themes={flatlight:{quantitativeScaleSettings:{majorTickSettings:{stroke:"#191919"},minorTickSettings:{stroke:"#191919"},labelSettings:{stroke:"#191919"},featuredMeasureSettings:{stroke:"#191919"},comparativeMeasureSettings:{stroke:"#191919"}},qualitativeRanges:[{rangeStroke:"#ebebeb"},{rangeStroke:"#d8d8d8"},{rangeStroke:"#7f7f7f"}],captionSettings:{font:{color:"#191919"},subTitle:{font:{color:"#191919"}},indicator:{font:{color:"#191919"},symbol:{color:"#191919"}}}},material:{quantitativeScaleSettings:{majorTickSettings:{stroke:"#333333"},minorTickSettings:{stroke:"#191919"},labelSettings:{stroke:"#333333"},featuredMeasureSettings:{stroke:"#333333"},comparativeMeasureSettings:{stroke:"#333333"}},qualitativeRanges:[{rangeStroke:"#ebebeb"},{rangeStroke:"#d8d8d8"},{rangeStroke:"#7f7f7f"}],captionSettings:{font:{color:"#333333"},subTitle:{font:{color:"#333333"}},indicator:{font:{color:"#333333"},symbol:{color:"#333333"}}}},flatdark:{quantitativeScaleSettings:{majorTickSettings:{stroke:"#ffffff"},minorTickSettings:{stroke:"#ffffff"},labelSettings:{stroke:"#ffffff"},featuredMeasureSettings:{stroke:"#ffffff"},comparativeMeasureSettings:{stroke:"#ffffff"}},qualitativeRanges:[{rangeStroke:"#b3b3b3"},{rangeStroke:"#999999"},{rangeStroke:"#4d4d4d"}],captionSettings:{font:{color:"#ffffff"},subTitle:{font:{color:"#ffffff"}},indicator:{font:{color:"#ffffff"},symbol:{color:"#ffffff"}}}}},ej.EjSvgRender=function(v){var a,s;if(this.svgLink="http://www.w3.org/2000/svg",this.svgObj=document.createElementNS(this.svgLink,"svg"),this._rootId=jQuery(v).attr("id"),a=this._rootId+"_svg",$(document).find("#"+a).length>0){s=0;do{s++}while($(document).find("#"+this._rootId+"_svg"+s).length>0);a=this._rootId+"_svg"+s}this.svgObj.setAttribute("id",a)},function(v){function a(s,h,t,o){var l=o*Math.PI/180;return[s+t*Math.cos(l),h+t*Math.sin(l)]}ej.EjSvgRender.prototype={drawPath:function(s,h){if(v("#"+s.id).length>0)v("#"+s.id).attr(s);else{var t=document.createElementNS(this.svgLink,"path");v(t).attr(s).appendTo(h)}},createLegendSvg:function(s){return this.svgLink="http://www.w3.org/2000/svg",this.legendsvgObj=document.createElementNS(this.svgLink,"svg"),this._rootId=jQuery(s).attr("id"),this.legendsvgObj.setAttribute("id","legend_"+this._rootId+"_svg"),this.legendsvgObj},drawPolyline:function(s,h){if(v("#"+s.id).length>0)v("#"+s.id).attr(s);else{var t=document.createElementNS(this.svgLink,"polyline");v(t).attr(s).appendTo(h)}},drawLine:function(s,h){if(v("#"+s.id).length>0)v("#"+s.id).attr(s);else{var t=document.createElementNS(this.svgLink,"line");v(t).attr(s),v(t).appendTo(h)}},drawPolygon:function(s,h){if(v("#"+s.id).length>0)v("#"+s.id).attr(s);else{var t=document.createElementNS(this.svgLink,"polygon");v(t).attr(s),v(t).appendTo(h)}},drawCircle:function(s,h){if(v("#"+s.id).length>0)v("#"+s.id).attr(s);else{var t=document.createElementNS(this.svgLink,"circle");v(t).attr(s).appendTo(h)}},drawEllipse:function(s,h){if(v("#"+s.id).length>0)v("#"+s.id).attr(s);else{var t=document.createElementNS(this.svgLink,"ellipse");v(t).attr(s).appendTo(h)}},drawRect:function(s,h){if(v("#"+s.id).length>0)v("#"+s.id).attr(s);else{var t=document.createElementNS(this.svgLink,"rect");v(t).attr(s).appendTo(h)}},drawCylinder:function(s,h,t){var o,l,p;if(v("#"+s.id).length>0)v("#"+s.id).attr(s);else{var g=s.x,b=s.y,C=s.id,T=s.fill,D=T;this.checkColorFormat(T)||(T=ej.datavisualization.Chart.prototype.colorNameToHex(T));var I,R,V,F,A,z,N,U,Q,oe,ne,J=2,ue=0,le=0,he={svgRenderer:this};if(1==t.isColumn){var ee=s.height;A=Q=g,oe=z=(re=(se=s.width/2)/4)<b?b-re:t.stacking?b+re:b-re,I=2*se,R=0,V=0,F=re<b||ee<2*re?ee:t.stacking?ee-2*re:ee,N=A,U=re<b?z+ee:ee<z?ee+z:t.stacking?ee+(b-re):ee+z,ue=100,(t.stacking=!0)&&(t.isLastSeries||(z=oe=b+re,F=ee<se/2?ee:ee-se/2))}else{var re,se;I=0,R=2*(re=s.height/2),V=ee=s.width,F=0,N=(A=Q=g+(se=re/4))+ee,U=z=oe=b,le=100,(t.stacking=!0)&&(t.isLastSeries||(N=A+ee-2*se,V=ee-2*se))}for(delete s.x,delete s.y,delete s.width,delete s.height,delete s.isColumn;J--;)ne="M"+A.toString()+","+z.toString(),ne+="a"+se.toString()+","+re.toString()+" 0 1,0 "+I.toString()+","+R.toString(),ne+="a"+se.toString()+","+re.toString()+" 0 1,0 "+(-1*I).toString()+","+(-1*R).toString(),s.d=ne,s.id=C+"_Region_"+J,s.fill=ej.Ej3DRender.prototype.polygon3D.prototype.applyZLight(T,he),this.drawPath(s,h),A=N,z=U;ne="M"+Q.toString()+","+oe.toString(),ne+="a"+se.toString()+","+re.toString()+" 0 1,0 "+I.toString()+","+R.toString(),ne+="l"+V.toString()+" "+F.toString(),ne+="a"+se.toString()+","+re.toString()+" 0 1,1 "+(-1*I).toString()+","+(-1*R).toString()+" z",s.d=ne,s.id=C+"_Region_2",-1==D.indexOf("url")&&(0==v("#"+(o=C)).length&&(l={id:o,x1:"0%",y1:"0%",x2:ue.toString()+"%",y2:le.toString()+"%"},(p=[])[0]={colorStop:"0%",color:T},p[1]={colorStop:"30%",color:ej.Ej3DRender.prototype.polygon3D.prototype.applyXLight(T,he)},p[2]={colorStop:"70%",color:ej.Ej3DRender.prototype.polygon3D.prototype.applyXLight(T,he)},p[3]={colorStop:"100%",color:T},this.drawGradient(l,p,h)),s.fill="url(#"+o+")"),this.drawPath(s,h)}},createGradientElement:function(s,h,t,o,l,p,g){var b;return"[object Array]"==Object.prototype.toString.call(h)?(this.drawGradient({id:this.svgObj.id+"_"+s+"Gradient",x1:t+"%",y1:o+"%",x2:l+"%",y2:p+"%"},h,g),b="url(#"+this.svgObj.id+"_"+s+"Gradient)"):b=h,b},drawGradient:function(s,h,t){var p,g,o=this.createDefs(),l=document.createElementNS(this.svgLink,"linearGradient");for(v(l).attr(s),p=0;p<h.length;p++)g=document.createElementNS(this.svgLink,"stop"),v(g).attr({offset:h[p].colorStop,"stop-color":h[p].color,"stop-opacity":1}),v(g).appendTo(l);v(l).appendTo(o),v(o).appendTo(t)},drawText:function(s,h,t,o){var l,p,g,b,C,T;if(v("#"+s.id).length>0)this._textAttrReplace(s,h,o);else{if(l=document.createElementNS(this.svgLink,"text"),p=v(l),"array"==jQuery.type(h))for(g=0,p.attr(s),b=0;b<h.length;b++)(C=document.createElementNS(this.svgLink,"tspan")).textContent=h[b],v(C).attr({x:s.x,dy:g}),v(C).appendTo(l),o=this.enable3D?o.font:o,T=ej.EjSvgRender.utils._measureText(h[b],null,o),g=s.isTrackball?T.height+2:T.height;else l.textContent=h,p.attr(s);p.appendTo(t)}},_textAttrReplace:function(s,h,t){var o,l,p,g;if(v("#"+s.id).attr(s),"array"==jQuery.type(h))if(l=0,(o=v("#"+s.id).children("tspan")).length>0&&o.length==h.length)for(p=0;p<o.length;p++)v(g=o[p]).attr({x:s.x,dy:l}),g.textContent=h[p],l=ej.EjSvgRender.utils._measureText(h[p],null,t).height+2;else v("#"+s.id).remove(),this.drawText(s,h,this.gTransToolEle,t);else v("#"+s.id).text(h)},drawImage:function(s,h){var t=document.createElementNS(this.svgLink,"image");t.setAttributeNS(null,"height",s.height),t.setAttributeNS(null,"width",s.width),t.setAttributeNS("http://www.w3.org/1999/xlink","href",s.href),t.setAttributeNS(null,"x",s.x),t.setAttributeNS(null,"y",s.y),t.setAttributeNS(null,"id",s.id),t.setAttributeNS(null,"visibility",s.visibility),ej.util.isNullOrUndefined(s.clippath)&&ej.util.isNullOrUndefined(s.preserveAspectRatio)||(t.setAttributeNS(null,"clip-path",s.clippath),t.setAttributeNS(null,"preserveAspectRatio",s.preserveAspectRatio)),v(t).appendTo(h)},createDefs:function(){return document.createElementNS(this.svgLink,"defs")},createClipPath:function(s){var h=document.createElementNS(this.svgLink,"clipPath");return v(h).attr(s),h},createForeignObject:function(s){var h=document.createElementNS(this.svgLink,"foreignObject");return v(h).attr(s),h},createGroup:function(s){var h=document.createElementNS(this.svgLink,"g");return v(h).attr(s),h},createPattern:function(s,h){var t=document.createElementNS(this.svgLink,h);for(var o in s)s.hasOwnProperty(o)&&t.setAttribute(o,s[o]);return t},createText:function(s,h){var t=document.createElementNS(this.svgLink,"text");return v(t).attr(s),ej.util.isNullOrUndefined(h)||(t.textContent=h),t},createPath:function(s){var h=document.createElementNS(this.svgLink,"path");return v(h).attr(s),h},createCircle:function(s){var h=document.createElementNS(this.svgLink,"circle");return v(h).attr(s),h},createLine:function(s){var h=document.createElementNS(this.svgLink,"line");return v(h).attr(s),h},_getAttrVal:function(s,h,t){return v(s).attr(h)??t},hexFromRGB:function(s){var l,h=s.R,t=s.G,o=s.B;return s.A?"rgba("+h.toString()+","+t.toString()+","+o.toString()+","+s.A+")":(l=[h.toString(16),t.toString(16),o.toString(16)],v.each(l,function(p,g){1===g.length&&(l[p]="0"+g)}),"#"+l.join("").toUpperCase())},checkColorFormat:function(s){return/(rgba?\((?:\d{1,3}[,\)]){3}(?:\d+\.\d+\))?)|(^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$)/gim.test(s)},hexToRGB:function(s){var t;return 1==/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/.test(s)?(t=/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/.exec(s))?{R:parseInt(t[1]),G:parseInt(t[2]),B:parseInt(t[3]),A:t[4]}:null:(t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(s))?{R:parseInt(t[1],16),G:parseInt(t[2],16),B:parseInt(t[3],16)}:null},createDelegate:function(s,h){return function(t){h.apply(s,[t,this])}},drawClipPath:function(s,h){if(v(h).find("#"+s.id).length>0)v(h).find("#"+s.id).attr(s);else{var t=this.createDefs(),o=this.createClipPath({id:s.id});s.id=s.id+"_Rect",this.drawRect(s,o),this.append(o,t),this.append(t,h)}},drawCircularClipPath:function(s,h){var t=this.createDefs(),o=this.createClipPath({id:s.id});this.drawCircle(s,o),this.append(o,t),this.append(t,h)},append:function(s,h){v(s).appendTo(h)},_setAttr:function(s,h){v(s).attr(h)}},ej.EjSvgRender.commonChartEventArgs={cancel:!1,data:null},ej.EjSvgRender.utils={_decimalPlaces:function(s){var h=(""+s).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return h?Math.max(0,(h[1]?h[1].length:0)-(h[2]?+h[2]:0)):0},_getLabelContent:function(s,h,t){switch(h._categoryValueType){case"number":var o=ej.util.isNullOrUndefined(h.labelFormat)?null:h.labelFormat.match("{value}");return ej.util.isNullOrUndefined(h.labelFormat)?h.labels[Math.floor(s)]:null!=o?h.labelFormat.replace("{value}",h.labels[Math.floor(s)]):ej.format(h.labels[Math.floor(s)],h.labelFormat,t);case"date":return ej.format(new Date(h.labels[Math.floor(s)]),ej.util.isNullOrUndefined(h.labelFormat)?"dd/MM/yyyy":h.labelFormat,t);case"string":return h.labels[Math.floor(s)];default:return""}},_getSeriesTemplateSize:function(p,g,t,o,l){var D,L,I,R,V,b=l.model.AreaType,C=l._id,T=v.inArray(t,l.model._visibleSeries);(D=0!=v("#template_group_"+C).length?v("#template_group_"+C):v("<div></div>").attr("id","template_group_"+C)).css("position","relative").css("z-index",1e3),L=v("#"+t.marker.dataLabel.template).clone(),v(L).attr("id",t.marker.dataLabel.template+"_"+T+"_"+g+"_"+C),(I=v(L)).css("position","absolute"),p.count=1,R={series:t,point:p},I.html(I.html().parseTemplate(R)),V="cartesianaxes"!=b&&t.enableAnimation&&"pyramid"!=t.type.toLowerCase()&&"funnel"!=t.type.toLowerCase()?"none":"block",I.css("display",V).appendTo(v(D)),v(D).appendTo("#"+C),p.size={height:I.height(),width:I.width()},o?((ej.util.isNullOrUndefined(t.LeftLabelMaxHeight)||t.LeftLabelMaxHeight<p.size.height)&&(t.LeftLabelMaxHeight=p.size.height),(ej.util.isNullOrUndefined(t.LeftLabelMaxWidth)||t.LeftLabelMaxWidth<p.size.width)&&(t.LeftLabelMaxWidth=p.size.width)):((ej.util.isNullOrUndefined(t.RightLabelMaxHeight)||t.RightLabelMaxHeight<p.size.height)&&(t.RightLabelMaxHeight=p.size.height),(ej.util.isNullOrUndefined(t.RightLabelMaxWidth)||t.RightLabelMaxWidth<p.size.width)&&(t.RightLabelMaxWidth=p.size.width))},getMinPointsDelta:function(s,h,t){var o=h,l=Number.MAX_VALUE;return v.each(o.model._visibleSeries,function(p,g){var b,C,T;"visible"==g.visibility.toLowerCase()&&s.name==g._xAxisName&&(1!=(b=ej.DataManager(g.points,ej.Query().sortBy("xValue")).executeLocal()).length||o.currentSeries&&o.currentSeries._yAxisName.toLowerCase()!=g._yAxisName.toLowerCase()?v.each(b,function(D,L){if(D>0&&L.xValue){var I=L.xValue-b[D-1].xValue;0!=I&&(l=Math.min(l,I))}}):(C=ej.util.isNullOrUndefined(t)?g.xAxis.visibleRange.min:t,0!=(T=b[0].xValue-C)&&(l=Math.min(l,T))))}),l==Number.MAX_VALUE&&(l=1),l},_getSeriesMaxLabel:function(s){var l,g,b,C,h={width:0,height:0},t=v(this.svgObject).width(),o=[];if(s.labels.length>0){for(C=0;C<s.labels.length;C++)g=this._measureText(s.visibleLabels[C],t,s.marker.dataLabel.font),h.width<g.width&&(h.width=g.width),h.height<g.height&&(h.height=g.height);s.LabelMaxHeight=h.height,s.LabelMaxWidth=h.width}else for(o.push(s.rightsidePoints),o.push(s.leftsidePoints),b=0;b<o.length;b++){for(C=0;C<o[b].length;C++)g=this._measureText((l=o[b][C]).text?l.text:l.y,t,s.marker.dataLabel.font),h.width<g.width&&(h.width=g.width),h.height<g.height&&(h.height=g.height);0==b?(s.RightLabelMaxHeight=h.height,s.RightLabelMaxWidth=h.width):(s.LeftLabelMaxHeight=h.height,s.LeftLabelMaxWidth=h.width)}},_getHighestLabel:function(s,h,t){var o,g,b,T,D,L,I,R,l=0,p=[],C=0;if(ej.isNullOrUndefined(t))for(D=0==s.labels.length?s.visibleLabels:s.labels,L=0;L<D.length;L++){for(C=0,-1!=(I=0==s.labels.length?D[L].Text:D[L]).indexOf("<br>")?p=I.split("<br>"):p.push(I),R=0;R<p.length;R++)C<(b=this._measureText(g=p[R],v(h.svgObject).width(),s.font).width)&&(C=b,o=g);l<C&&(l=C,T=o)}else if(t&&("string"==typeof t&&-1!=t.indexOf("<br>")||"object"==typeof t))for(C=0,p="object"==typeof t?t:t.split("<br>"),R=0;R<p.length;R++)C<(b=this._measureText(g="object"==typeof p[R]?p[R].Text:p[R],h,s.font).width)&&(C=b,o=g),T=o;return T},_getMaxLabelWidth:function(s,h){var t,l,p,g,T,D,L,I,R,V,A,z,N,U,J,Q,oe,ue,le,he,se,ee,W;this.chartObj=h;var Pe,ke,Le,je,pe={width:0,height:0,maxHeight:0,maxWidth:0},M="",xe=h.svgRenderer.vmlNamespace,O=s.visibleRange,B=s.labelIntersectAction?s.labelIntersectAction.toLowerCase():"",H=s.labelPlacement,Z=s.opposedPosition,_e=s.orientation.toLowerCase(),te=h.model.requireInvertedAxes?"vertical"==_e:"horizontal"==_e,ae=s.roundingPlaces,de=s.labelRotation,Se=(_e=s.orientation,0),be=s.visibleLabels,Ce=be.length;if(s.visible){for(t=0;t<Ce;t++)s.visibleLabels[t].y=0,"string"==typeof s.visibleLabels[t].Text&&-1!=s.visibleLabels[t].Text.indexOf("<br>")&&"vertical"==s.orientation?(Pe=s.visibleLabels[t].Text.split("<br>"),ke=this._getHighestLabel(s,v(this.svgObject).width(),Pe),o=this._measureText(ke,v(this.svgObject).width(),s.font,s.labelRotation)):o=this._measureText(s.visibleLabels[t].Text,v(this.svgObject).width(),s.font,s.labelRotation),pe.width<o.width&&(pe.width=o.width,M=s.visibleLabels[t].Text),pe.height<o.height&&(pe.height=o.height);if((s.enableTrim||"trim"==B&&"vertical"!=s.orientation)&&(pe.width=pe.width>(l=s.maximumLabelWidth)?l:pe.width),pe.rows=1,pe.maxWidth=pe.width,pe.maxHeight=pe.height,!xe&&(de||B)&&(p=0,"rotate45"==B?p=45:"rotate90"==B&&(p=90),s.rotationValue=de=null!=de||"vertical"==_e?de:p,de)){if(M=ej.isNullOrUndefined(M)?"":M,g=this._measureText(M,v(this.svgObject).width(),s.font,s.labelRotation),(s.enableTrim||"trim"==B)&&g.width>l&&""!=M)for(C=M,I=1;I<C.toString().length;I++)if(C=C.toString().substring(0,I)+"... ",(b=this._measureText(C,v(h.svgObject).width(),s.font)).width>=l){M=C=C.toString().substring(0,I-1)+"... ";break}M=(B||s.enableTrim)&&de?"string"==typeof M&&-1!=M.indexOf("<br>")?this._getHighestLabel(s,h,null):M:this._getHighestLabel(s,h,null),V=this.rotatedLabel(s,h,de,M),s.labelIntersectAction&&"multiplerows"==s.labelIntersectAction.toLowerCase()&&(Se=pe.height+V.height),pe.height=s.rowsCount&&s.rowsCount>1&&90!=de&&s.enableTrim?s.rowsCount*pe.height:V.height,pe.width=V.width}if(s.labelIntersectAction)if(!s.rowsCount||"none"!=B&&"trim"!=B&&"hide"!=B&&0!=de||"wrap"==B&&!s.enableTrim||"wrapbyword"==B&&!s.enableTrim||"multiplerows"==B&&!s.enableTrim){if("wrap"==B||"wrapbyword"==B){if("betweenticks"==(H=H||ej.datavisualization.Chart.LabelPlacement.BetweenTicks).toLowerCase()?(D=1+(s.labels.length>1?-.5:0),D=parseFloat(D.toFixed(ae||(0==ej.EjSvgRender.utils._decimalPlaces(O.interval)?1:ej.EjSvgRender.utils._decimalPlaces(O.interval)))),T=Math.ceil((D-O.min)/(O.max-O.min)*s.length)):T=Math.ceil(s.length/be.length),"horizontal"==s.orientation){var Ae=0,Oe=0,$e=s.labels.length>0&&"datetimecategory"!=s.valueType?s.labels:s.visibleLabels,He=s.width?s.width/$e.length:(s.length-(h.svgWidth-s.length)-20)/$e.length;for(s.labelsCollection=[],le=0;le<$e.length;le++){var Be=0,Ye=[],dt=[],Ke="object"==typeof $e[le]?$e[le].Text:$e[le];for("string"==typeof Ke&&-1!=Ke.indexOf("<br>")?dt=Ke.split("<br>"):dt.push(Ke),he=0;he<dt.length;he++)for(Be=(L=ej.EjAxisRenderer.prototype.rowscalculation(dt[he],h.model.m_AreaBounds,s,He,null)).length+Be,I=0;I<L.length;I++)Ye.push(L[I]);de&&(M=this._getHighestLabel(s,h,Ye),Oe<(R=this._measureText(M,v(h.svgObject).width(),s.font).width)&&(Oe=R,Fe=M)),Ae=Math.max(Be,Ae),s.labelsCollection[le]=Ye}V=this.rotatedLabel(s,h,de,Fe)}T=T<0?Math.ceil(s.length/be.length):T,F=Math.round(pe.width/T),pe.rows=de?F-1:F+1,pe.rows<0&&(pe.rows=0),A=Ae&&!de?Ae:pe.rows,Ae>F&&!de&&(A-=1),pe.height=de?V.height+A*V.height:pe.height+A*pe.height}else if("multiplerows"==B){var tt=h._getLegendSpace(),ht=h.model.border.width,Ct=v(h.svgObject).width()-h.model.margin.left-h.model.margin.right,yt=""!=(je=(Le=s.title).text)&&s.visible?this._measureText(je,Ct,Le.font).height+2*h.model.elementSpacing:0,Dt=h.model.elementSpacing+yt+s.majorTickLines.size+s.axisLine.width,wt=h._getYValues(h.model._visibleSeries[0].points),Mt=Math.max.apply(Math,wt),bt=h.model._axes[1],o=this._measureText(Mt,v(this.svgObject).width(),bt.font,bt.labelRotation),Pt=tt.rightLegendWidth+Dt+o.width+h.model.margin.right+h.model.margin.left+2*ht,jt=v(h.svgObject).width()-Pt;if(te){var Fe,kt=0,mt=[],F=0;for(Oe=0,t=0;t<be.length;t++){N=[],"string"==typeof(z=be[t]).Text&&-1!=z.Text.indexOf("<br>")?N=z.Text.split("<br>"):N.push(z),U=N.length,J=!1,Se=Math.max(Se,kt),kt=z.y=pe.height;var C,Tt=(C=this._measureText(z.Text,v(this.svgObject).width(),s.font)).height,Zt=Math.abs(Math.floor((z.Value-O.min)/O.delta*jt));if(mt.length>0)for(Q=mt,oe=!0,ue=0;ue<Q.length&&oe;ue++){Be=0;var pt=Q[ue];for(le=0;pt&&le<pt.length;le++)for(he=0;he<U;he++){var b=ej.EjSvgRender.utils._measureText(1==U?N[he].Text:N[he],v(this.svgObject).width(),s.font).width,Et=(Tt=ej.EjSvgRender.utils._measureText(N[he],v(this.svgObject).width(),s.font).height,le==pt.length?pt[le-1]:pt[le]),At=Math.abs(Math.floor((Et.Value-O.min)/O.delta*jt)),vi=ej.EjSvgRender.utils._measureText(Et.Text,v(this.svgObject).width(),s.font).width;if(At+(s.isInversed?-vi/2:vi/2)>=Zt-(b/=2))kt=z.y+Tt,z.y+=Tt,Be++,ue+1==Q.length&&(oe=!1);else if(le+1==pt.length){oe=he!=U-1;break}}}if(z.y=kt,null==mt[F=kt/Tt-1]&&(mt[F]=[]),1==U)mt[F].push(z);else for(he=0;he<U;he++)null==mt[F]&&(mt[F]=[]),mt[F].push({Text:N[he],Value:z.Value}),he!=U-1&&(F+=1,kt=z.y+Tt)}pe.height=pe.height>(Se=mt.length*Tt)?pe.height:Se,Tt>0&&(pe.rows=Math.round(Z?(Se+Tt)/Tt:Se/Tt)),pe.rows=de?pe.rows-1:pe.rows,pe.rows<1&&(pe.rows=1)}if(!te){for(se=0,t=0;t<s.visibleLabels.length;t++){for(b=(C=this._measureText((z=s.visibleLabels[t]).Text,v(this.svgObject).width(),s.font)).width,Tt=C.height,Zt=Math.abs(Math.floor((z.Value-s.visibleRange.min)/s.visibleRange.delta*s.length)),ee=0;ee<t;ee++)pt=s.visibleLabels[ee],Math.abs(Math.floor((pt.Value-s.visibleRange.min)/s.visibleRange.delta*s.length))+this._measureText(pt.Text,v(this.svgObject).width(),s.font).height/2>Zt-Tt/2&&s.visibleLabels[ee].y==z.y&&(z.y=se=z.y+b,J=!0);W=se}pe.width=pe.width+W+(J?5:0)}}}else 0==de&&(pe.rows=s.rowsCount,pe.height=s.rowsCount*pe.height)}return pe},rotatedLabel:function(s,h,t,o,l){var g=(h=l?this.chartObj:h||this.chartObj).svgRenderer.createText({"font-size":s.font.size,transform:"rotate("+t+",0,0)","font-family":s.font.fontFamily,"font-style":s.font.fontStyle,rotateAngle:"rotate("+t+"deg)","text-anchor":"middle"},o);return{height:Math.ceil(this._measureBounds(g,h).height),width:Math.ceil(this._measureBounds(g,h).width)}},_getTransform:function(s,h,t){var o,l,p,g;return t?(o=h.x,l=s.y,p=h.width,g=s.height):(o=s.x,l=h.y,p=s.width,g=h.height),{x:o,y:l,width:p,height:g}},_calculateroundedCorner:function(s,h,t,o,l,p){var I,R,V,F,A,g=h.x,b=h.y,T=this.chartObj.model.enableCanvasRendering&&!p?5/4:0,D=h.width,L=h.height;return"object"!=typeof s||ej.util.isNullOrUndefined(s)?I=R=V=F=s:(I=s.topLeft,R=s.bottomLeft,V=s.topRight,F=s.bottomRight),I=ej.util.isNullOrUndefined(h.rx)?I:h.rx,R=ej.util.isNullOrUndefined(h.rx)?R:h.rx,A="M "+g+" "+(I+b)+" Q "+g+" "+b+" "+(g+I)+" "+b+" ",t&&"top"==o&&(A+="L "+(g+D/2-2.5+T)+" "+b+" L "+(g+D/2+T-l)+" "+(b-5)+" L "+(g+D/2+2.5+T)+" "+b+" "),A+="L "+(g+D-(V=ej.util.isNullOrUndefined(h.ry)?V:h.ry))+" "+b+" Q "+(g+D)+" "+b+" "+(g+D)+" "+(b+V)+" ",t&&"right"==o&&(A+="L "+(g+D)+" "+(b+L/2-2.5+T)+" L "+(g+D+5)+" "+(b+L/2+T-l)+" L "+(g+D)+" "+(b+L/2+2.5+T)+" "),A+="L "+(g+D)+" "+(b+L-(F=ej.util.isNullOrUndefined(h.ry)?F:h.ry))+" Q "+(g+D)+" "+(b+L)+" "+(g+D-F)+" "+(b+L)+" ",t&&"bottom"==o&&(A+="L "+(g+D/2-2.5+T)+" "+(b+L)+" L "+(g+D/2+T-l)+" "+(b+L+5)+" L "+(g+D/2+2.5+T)+" "+(b+L)+" "),A+="L "+(g+R)+" "+(b+L)+" Q "+g+" "+(b+L)+" "+g+" "+(b+L-R)+" ",t&&"left"==o&&(A+="L "+g+" "+(b+L/2-2.5+T)+" L "+(g-5)+" "+(b+L/2+T-l)+" L "+g+" "+(b+L/2+2.5+T)+" "),A+"L "+g+" "+(I+b)+" z"},browserInfo:function(){var s={},h=[],t={webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,msie:/(msie) ([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};for(var o in t)if(t.hasOwnProperty(o)&&(h=navigator.userAgent.match(t[o]))){s.name=h[1].toLowerCase(),s.version=h[2],!navigator.userAgent.match(/Trident\/7\./)||(s.name="msie");break}return s.isMSPointerEnabled="msie"==s.name&&s.version>9&&window.navigator.msPointerEnabled,s.pointerEnabled=window.navigator.pointerEnabled,s},_measureText:function(s,h,t){var l,p,g,b,C,o=v(document).find("#measureTex");v("#measureTex").css("display","block"),0==o.length?(l=document.createElement("text"),v(l).attr({id:"measureTex"}),document.body.appendChild(l)):l=o[0];var T=null,D=null,L=null,I=null;if("string"==typeof s&&(s.indexOf("<")>-1||s.indexOf(">")>-1)){for(p=s.split(" "),g=0;g<p.length;g++)-1==p[g].indexOf("<br/>")&&(p[g]=p[g].replace(/[<>]/g,"&"));s=p.join(" ")}return/<\/?[a-z][\s\S]*>/.test(s)?v(l).html(s):l.textContent=s,null!=t&&null==t.size&&(T=(b=(b=t).split(" "))[0],D=b[1],L=b[2],I=b[3]),null!=t&&(l.style.fontSize=t.size>0?t.size+"px":t.size?t.size:D,l.style.fontStyle&&(l.style.fontStyle=t.fontStyle?t.fontStyle:T),l.style.fontFamily=t.fontFamily?t.fontFamily:L,-1==window.navigator.userAgent.indexOf("MSIE 8.0")&&(l.style.fontWeight=t.fontWeight?t.fontWeight:I)),l.style.backgroundColor="white",l.style.position="absolute",l.style.top=-100,l.style.left=0,l.style.visibility="hidden",l.style.whiteSpace="nowrap",h&&(l.style.maxwidth=h+"px"),C={width:l.offsetWidth,height:l.offsetHeight},v("#measureTex").css("display","none"),C},_trimText:function(s,h,t){var l,p,g;for(p=(l=s.toString()).length,g=1;g<p;g++)if(l=s.substring(0,g)+"...",ej.EjSvgRender.utils._measureText(l,null,t).width>=h)return l.substring(0,g-1)+"... ";return s},_measureBounds:function(s,h){h.model.enableCanvasRendering?v(document.body).append(s):(h.svgRenderer.append(s,h.svgObject),h.svgRenderer.append(h.svgObject,h.element));var t=s.getBoundingClientRect(),o={left:t.left,right:t.right,top:t.top,bottom:t.bottom,width:t.right-t.left,height:t.bottom-t.top};return v(s).remove(),o},_drawAxesBoundsClipPath:function(s,h,t){var o,l=v(s),p=this._getTransform(h.xAxis,h.yAxis,t.model.requireInvertedAxes),g="polaraxes"==t.model.AreaType?v(t.svgObject).width():p.width,b="polaraxes"==t.model.AreaType?v(t.svgObject).height():p.height,C=t.model.requireInvertedAxes?h.yAxis.plotOffset:h.xAxis.plotOffset,T=t.model.requireInvertedAxes?h.xAxis.plotOffset:h.yAxis.plotOffset;"polaraxes"==t.model.AreaType?t.svgRenderer.drawCircularClipPath(o={id:s?s.id+"_ClipRect":"",cx:t.model.centerX,cy:t.model.centerY,r:t.model.Radius,fill:"white","stroke-width":1,stroke:"transparent"},s):t.svgRenderer.drawClipPath(o={id:s?s.id+"_ClipRect":"",x:0-C,y:0-T,width:g+2*C,height:b+2*T,fill:"white","stroke-width":1,stroke:"transparent"},s),o.id.indexOf("_Rect")&&(o.id=o.id.replace("_Rect","")),l.attr("clip-path","url(#"+o.id+")")},_getStringBuilder:function(){var s=[],h=0;return{append:function(t){return s[h++]=t,this},remove:function(t,o){return s.splice(t,o||1),this},insert:function(t,o){return s.splice(t,0,o),this},toString:function(t){return s.join(t||"")}}},_addRegion:function(s,h,t,o,l){var p=t.type,g=v.inArray(t,s.model._visibleSeries);g>=0&&s.model.chartRegions.push({SeriesIndex:g,Region:{PointIndex:l,Bounds:h},type:p})},AddRegion:function(s,h,t){t&&s.model.chartRegions.push({isStripLine:t,Region:{Bounds:h}})},_getSvgXY:function(s,h,t,o){var l,p;return o.model.requireInvertedAxes?(l=s+t.yAxis.x,p=h+t.xAxis.y):(l=s+t.xAxis.x,p=h+t.yAxis.y),{X:l,Y:p}},_getPoint:function(s,h){var o,l,p,t=s.xValue,g="boxandwhisker"==h.type?s.YValues:s.YValues[0],b=h._isTransposed?h.xAxis.height:h.xAxis.width,C=h._isTransposed?h.yAxis.width:h.yAxis.height;return s.location={},h._hiloTypes&&(o=s.YValues[1],o="logarithmic"==h.yAxis._valueType?ej.EjSvgRender.utils._logBase(0==o?1:o,h.xAxis.logBase):o,o=this._getPointXY(o,h.yAxis.visibleRange,h.yAxis.isInversed),s.location.low=(h._isTransposed?o:1-o)*C),l="logarithmic"==h.xAxis._valueType?ej.EjSvgRender.utils._logBase(0==t?1:t,h.xAxis.logBase):t,p="logarithmic"==h.yAxis._valueType?ej.EjSvgRender.utils._logBase(0==g?1:g,h.xAxis.logBase):g,l=this._getPointXY(l,h.xAxis.visibleRange,h.xAxis.isInversed),p=this._getPointXY(p,h.yAxis.visibleRange,h.yAxis.isInversed),s.location.X=h._isTransposed?p*C:l*b,s.location.Y=h._isTransposed?(1-l)*b:(1-p)*C,s.location},_getPointXY:function(s,h,t){var o=0;return o=(s-h.min)/h.delta,o=isNaN(o)?0:o,t?1-o:o},_dateTimeLabelFormat:function(s,h){switch(s.toLowerCase()){case"years":return h._labelFormat="MMM, yyyy";case"months":case"weeks":return h._labelFormat="dd, MMM";case"days":default:return h._labelFormat="dd/MM/yyyy";case"hours":return h._labelFormat="dd, hh:mm";case"minutes":return h._labelFormat="hh:mm";case"seconds":return h._labelFormat="mm:ss";case"milliseconds":return h._labelFormat="ss:fff"}},_getFontString:function(s){return null==s&&(s={}),s.FontFamily||(s.FontFamily="Arial"),s.FontStyle||(s.FontStyle="Normal"),s.Size||(s.Size="12px"),s.FontStyle+" "+s.Size+" "+s.FontFamily},_valueToVector:function(s,h){return this._coefficientToVector(this._valueToPolarCoefficient(s,h))},TransformToVisible:function(s,h,t,o){h="logarithmic"==s.xAxis._valueType&&h>0?Math.log(h,s.xAxis.logBase):h,t="logarithmic"==s.xAxis._valueType&&t>0?Math.log(t,s.yAxis.logBase):t;var l=o.model.Radius*this._valueToCoefficient(s.yAxis,t),p=this._valueToVector(s.xAxis,h);return{X:o.model.centerX+l*p.X,Y:o.model.centerY+l*p.Y}},Transform3DToVisible:function(s,h,t,o){if(null!=s.xAxis&&null!=s.yAxis){if(h=h="logarithmic"==s.xAxis._valueType.toLowerCase()&&h>0?math.log(h,undefined):h,o.model.requireInvertedAxes){var L=o.model.m_AreaBounds.Y;return{X:o.model.m_AreaBounds.X+s.yAxis.width*ej.EjSvgRender.utils._valueToCoefficient(s.yAxis,t,o),Y:L+s.xAxis.height*(1-ej.EjSvgRender.utils._valueToCoefficient(s.xAxis,h,o))}}return L=s.yAxis.y,{X:h=s.xAxis.x+Math.round(s.xAxis.width*ej.EjSvgRender.utils._valueToCoefficient(s.xAxis,h,o)),Y:t=L+Math.round(s.yAxis.height*(1-ej.EjSvgRender.utils._valueToCoefficient(s.yAxis,t,o)))}}return new undefined(0,0)},_valueToPolarCoefficient:function(s,h){var o,l,p;return"category"!=s._valueType?(o=s.visibleRange.max-s.visibleRange.interval-s.visibleRange.min,l=s.visibleLabels.length-1):(o=s.visibleRange.delta,l=s.visibleLabels.length),p=(h-s.visibleRange.min)/o,p*=1-1/l,p=isNaN(p)?0:p,s.isInversed?p:1-p},_coefficientToVector:function(s){var h=Math.PI*(1.5-2*s);return{X:Math.cos(h),Y:Math.sin(h)}},_valueToCoefficient:function(s,h,t){var o;return o=((o=t&&"polaraxes"==t.model.AreaType?h:s._valueType&&"logarithmic"==s._valueType.toLowerCase()?ej.EjSvgRender.utils._logBase(0==h?1:h,s.logBase):h)-s.visibleRange.min)/s.visibleRange.delta,s.isInversed?1-o:o},_getBoundingClientRect:function(s,h,t,o){var g,b,l=s.getBoundingClientRect(),p=v("#"+h.svgObject.id)[0].getBoundingClientRect();return o?(g=this._getTransform(t.xAxis,t.yAxis,!0).x,b=this._getTransform(t.xAxis,t.yAxis,!0).y):(g=this._getTransform(t.xAxis,t.yAxis,!1).x,b=this._getTransform(t.xAxis,t.yAxis,!1).y),{x:l.left-(g+p.left),y:l.top-(b+p.top),width:l.right-l.left,height:l.bottom-l.top}},_minMax:function(s,h,t){return s>t?t:s<h?h:s},_inside:function(s,h){return""!==s&&s<=h.max&&s>=h.min},_logBase:function(s,h){return Math.log(s)/Math.log(h)},_correctRect:function(s,h,t,o){return{X:Math.min(s,t),Y:Math.min(h,o),Width:Math.abs(t-s),Height:Math.abs(o-h)}},_getValuebyPoint:function(s,h,t,o){var l=o?t.xAxis.height:t.xAxis.width,p=o?t.yAxis.width:t.yAxis.height,g=t.xAxis.isInversed?1-s/l:s/l,b=t.yAxis.isInversed?1-h/p:h/p;return g=g*t.xAxis.visibleRange.delta+t.xAxis.visibleRange.min,b=b*t.yAxis.visibleRange.delta+t.yAxis.visibleRange.min,{PointX:g="logarithmic"==t.xAxis._valueType?Math.pow(t.xAxis.logBase,g):g,PointY:b="logarithmic"==t.yAxis._valueType?Math.pow(t.yAxis.logBase,b):b}}},ej.EjSvgRender.chartTransform3D={ToRadial:Math.PI/180,transform3D:function(s){return this.vector||(this.vector=new((new ej.Ej3DRender).vector3D),this.matrixobj=new((new ej.Ej3DRender).matrix3D),this.bsptreeobj=new((new ej.Ej3DRender).BSPTreeBuilder),this.polygon=new((new ej.Ej3DRender).polygon3D)),{mViewport:s,Rotation:0,Tilt:0,Depth:0,PerspectiveAngle:0,needUpdate:!0,centeredMatrix:this.matrixobj.getIdentity(),Perspective:this.matrixobj.getIdentity(),resultMatrix:this.matrixobj.getIdentity(),viewMatrix:this.matrixobj.getIdentity(),Depth:0}},transform:function(s){this.setCenter(this.vector.vector3D(s.mViewport.Width/2,s.mViewport.Height/2,s.Depth/2),s),this.setViewMatrix(this.matrixobj.transform(0,0,s.Depth),s),this.setViewMatrix(this.matrixobj.getMatrixMultiplication(s.viewMatrix,this.matrixobj.turn(-this.ToRadial*s.Rotation)),s),this.setViewMatrix(this.matrixobj.getMatrixMultiplication(s.viewMatrix,this.matrixobj.tilt(-this.ToRadial*s.Tilt)),s),this.updatePerspective(s.PerspectiveAngle,s),s.needUpdate=!0},updatePerspective:function(s,h){var t=(h.mViewport.Width+h.mViewport.Height)*Math.tan(this.degreeToRadianConverter((180-Math.abs(s%181))/2))+h.Depth/1;h.Perspective[0][0]=t,h.Perspective[1][1]=t,h.Perspective[2][3]=1,h.Perspective[3][3]=t},degreeToRadianConverter:function(s){return s*Math.PI/180},toScreen:function(s,h,l,o){return l=l||this.result,o?(this.matrixobj=o,s=o.getMatrixVectorMutiple(l(h,o),s)):(h.chartObj=this.matrixobj,s=this.matrixobj.getMatrixVectorMutiple(l(h),s)),{x:s.x,y:s.y}},setViewMatrix:function(s,h){h.viewMatrix!=s&&(h.viewMatrix=s,h.needUpdate=!0)},setCenteredMatrix:function(s,h){h.viewMatrix!=s&&(h.centeredMatrix=s,h.needUpdate=!0)},result:function(s,h){var t=s.chartObj?s.chartObj:this.matrixobj;return t||(t=h),s.needUpdate&&(s.resultMatrix=t.getMatrixMultiplication((this.matrixobj?this.matrixobj:h).getInvertal(s.centeredMatrix),s.Perspective),s.resultMatrix=t.getMatrixMultiplication(s.resultMatrix,s.viewMatrix),s.resultMatrix=t.getMatrixMultiplication(s.resultMatrix,s.centeredMatrix),s.needUpdate=!1),s.resultMatrix},setCenter:function(s,h){h.centeredMatrix=this.matrixobj.transform(-s.x,-s.y,-s.z),h.needUpdate=!0},toPlane:function(s,h,t){var o=this.vector.vector3D(s.x,s.y,0),l=this.vector.vector3DPlus(o,this.vector.vector3D(0,0,1));return o=this.vector.vector3DMultiply(t.centeredMatrix,o),l=this.vector.vector3DMultiply(t.centeredMatrix,l),o=this.vector.vector3DMultiply(this.matrixobj.getInvertal(t.Perspective),o),l=this.vector.vector3DMultiply(this.matrixobj.getInvertal(t.Perspective),l),o=this.polygon.getPoint(o,this.vector.vector3DMinus(l-o)),o=this.vector.vector3DMultiply(this.matrixobj.getInvertal(t.viewMatrix),o),this.vector.vector3DMultiply(this.matrixobj.getInvertal(t.centeredMatrix),o)}},ej.EjSvgRender.chartSymbol={_drawSeriesType:function(s,h,t){var o=t.model.series[h.SeriesIndex].type.toLowerCase(),l=t.legendItem.drawType;switch(o=ej.util.isNullOrUndefined(l)?o:l){case ej.datavisualization.Chart.Type.Line:return ej.util.isNullOrUndefined(l)?this._drawLine(s,h,t,t.gLegendItemEle):this._drawStraightLine(s,h,t,t.gLegendItemEle);case ej.datavisualization.Chart.Type.StepLine:return this._drawStepLine(s,h,t,t.gLegendItemEle);case ej.datavisualization.Chart.Type.StackingArea:case ej.datavisualization.Chart.Type.StackingArea100:case ej.datavisualization.Chart.Type.Area:case ej.datavisualization.Chart.Type.RangeArea:return this._drawArea(s,h,t,t.gLegendItemEle);case ej.datavisualization.Chart.Type.StepArea:return this._drawStepArea(s,h,t,t.gLegendItemEle);case ej.datavisualization.Chart.Type.Bar:case ej.datavisualization.Chart.Type.StackingBar100:case ej.datavisualization.Chart.Type.StackingBar:return this._drawBar(s,h,t,t.gLegendItemEle);case ej.datavisualization.Chart.Type.Pie:return this._drawPie(s,h,t,t.gLegendItemEle);case ej.datavisualization.Chart.Type.Doughnut:return this._drawDoughnut(s,h,t,t.gLegendItemEle);case ej.datavisualization.Chart.Type.Hilo:return this._drawHilo(s,h,t,t.gLegendItemEle);case ej.datavisualization.Chart.Type.HiloOpenClose:return this._drawHiloOpenClose(s,h,t,t.gLegendItemEle);case ej.datavisualization.Chart.Type.Candle:return this._drawCandle(s,h,t,t.gLegendItemEle);case ej.datavisualization.Chart.Type.Pyramid:return this._drawPyramid(s,h,t,t.gLegendItemEle);case ej.datavisualization.Chart.Type.Funnel:return this._drawFunnel(s,h,t,t.gLegendItemEle);case ej.datavisualization.Chart.Type.Spline:return this._drawSpline(s,h,t,t.gLegendItemEle);case ej.datavisualization.Chart.Type.SplineArea:case ej.datavisualization.Chart.Type.StackingSplineArea:case ej.datavisualization.Chart.Type.StackingSplineArea100:return this._drawSplineArea(s,h,t,t.gLegendItemEle);case ej.datavisualization.Chart.Type.RangeColumn:return this._drawRangeColumn(s,h,t,t.gLegendItemEle);case ej.datavisualization.Chart.Type.Bubble:case ej.datavisualization.Chart.Type.Scatter:return this._drawCircle(s,h,t,t.gLegendItemEle);case ej.datavisualization.Chart.Type.Column:case ej.datavisualization.Chart.Type.StackingColumn:case ej.datavisualization.Chart.Type.StackingColumn100:case ej.datavisualization.Chart.Type.Waterfall:return this._drawColumn(s,h,t,t.gLegendItemEle);default:return this._drawRectangle(s,h,t,t.gLegendItemEle)}},_drawCircle:function(s,h,t,o){var l=t.svgRenderer,g=h.ShapeSize,b=Math.sqrt(g.height*g.height+g.width*g.width)/2,C=h.Style;return l.drawCircle({id:h.ID,cx:s.startX,cy:s.startY,r:b,fill:C.Color,"stroke-width":C.BorderWidth,stroke:C.BorderColor,opacity:C.Opacity,visibility:C.Visibility,lgndCtx:h.context},o),s.startX-b},_drawLeftArrow:function(s,h,t,o){var g=h.ShapeSize;t.svgRenderer.drawPath({id:h.ID,fill:h.Style.Color,"stroke-width":h.Style.BorderWidth,stroke:h.Style.BorderColor,opacity:h.Style.Opacity,visibility:h.Style.Visibility,lgndCtx:h.context,d:"M "+(s.startX-g.width/2+g.width)+" "+(s.startY+g.height/4)+" L "+(s.startX-g.width/2+g.width)+" "+(s.startY+-g.height/4)+" L "+(s.startX-g.width/2+g.width/2)+" "+(s.startY+-g.height/4)+" L "+(s.startX-g.width/2+g.width/2)+" "+(s.startY+-g.height/2)+" L "+(s.startX-g.width/2)+" "+s.startY+" L "+(s.startX-g.width/2+g.width/2)+" "+(s.startY+g.height/2)+" L "+(s.startX-g.width/2+g.width/2)+" "+(s.startY+g.height/4)+" L "+(s.startX-g.width/2+g.width)+" "+(s.startY+g.height/4)+" z"},o)},_drawRightArrow:function(s,h,t,o){var g=h.ShapeSize;t.svgRenderer.drawPath({id:h.ID,fill:h.Style.Color,"stroke-width":h.Style.BorderWidth,stroke:h.Style.BorderColor,opacity:h.Style.Opacity,visibility:h.Style.Visibility,lgndCtx:h.context,d:"M "+(s.startX-g.width/2)+" "+(s.startY+g.height/4)+" L "+(s.startX-g.width/2)+" "+(s.startY+-g.height/4)+" L "+(s.startX-g.width/2+g.width/2)+" "+(s.startY+-g.height/4)+" L "+(s.startX-g.width/2+g.width/2)+" "+(s.startY+-g.height/2)+" L "+(s.startX-g.width/2+g.width)+" "+s.startY+" L "+(s.startX-g.width/2+g.width/2)+" "+(s.startY+g.height/2)+" L "+(s.startX-g.width/2+g.width/2)+" "+(s.startY+g.height/4)+" L "+(s.startX-g.width/2)+" "+(s.startY+g.height/4)+" z"},o)},_drawUpArrow:function(s,h,t,o){var g=h.ShapeSize;t.svgRenderer.drawPath({id:h.ID,fill:h.Style.Color,"stroke-width":h.Style.BorderWidth,stroke:h.Style.BorderColor,opacity:h.Style.Opacity,visibility:h.Style.Visibility,lgndCtx:h.context,d:"M "+(s.startX-g.width/2+g.width/4)+" "+(s.startY-g.height/2+g.height)+" L "+(s.startX-g.width/2+g.width/4)+" "+(s.startY-g.height/2+g.height/2)+" L "+(s.startX-g.width/2)+" "+(s.startY-g.height/2+g.height/2)+" L "+s.startX+" "+(s.startY-g.height/2)+" L "+(s.startX+g.width/2)+" "+(s.startY-g.height/2+g.height/2)+" L "+(s.startX+g.width/2-g.width/4)+" "+(s.startY-g.height/2+g.height/2)+" L "+(s.startX+g.width/2-g.width/4)+" "+(s.startY-g.height/2+g.height)+" L "+(s.startX-g.width/2+g.width/4)+" "+(s.startY-g.height/2+g.height)+" z"},o)},_drawDownArrow:function(s,h,t,o){var g=h.ShapeSize;t.svgRenderer.drawPath({id:h.ID,fill:h.Style.Color,"stroke-width":h.Style.BorderWidth,stroke:h.Style.BorderColor,opacity:h.Style.Opacity,visibility:h.Style.Visibility,lgndCtx:h.context,d:"M "+(s.startX-g.width/2+g.width/4)+" "+(s.startY-g.height/2)+" L "+(s.startX+g.width/2-g.width/4)+" "+(s.startY-g.height/2)+" L "+(s.startX+g.width/2-g.width/4)+" "+(s.startY-g.height/2+g.height/2)+" L "+(s.startX+g.width/2)+" "+(s.startY-g.height/2+g.height/2)+" L "+s.startX+" "+(s.startY-g.height/2+g.height)+" L "+(s.startX-g.width/2)+" "+(s.startY-g.height/2+g.height/2)+" L "+(s.startX-g.width/2+g.width/4)+" "+(s.startY-g.height/2+g.height/2)+" L "+(s.startX-g.width/2+g.width/4)+" "+(s.startY-g.height/2)+" z"},o)},_drawCross:function(s,h,t,o){var g=h.ShapeSize;t.svgRenderer.drawPath({id:h.ID,opacity:h.Style.Opacity,"stroke-width":h.Style.BorderWidth,stroke:h.Style.Color,visibility:h.Style.Visibility,lgndCtx:h.context,d:"M "+(s.startX+-g.width/2)+" "+s.startY+" L "+(s.startX+g.width/2)+" "+s.startY+" M "+s.startX+" "+(s.startY+g.height/2)+" L "+s.startX+" "+(s.startY+-g.height/2)},o)},_drawHorizLine:function(s,h,t,o){var g=h.ShapeSize;t.svgRenderer.drawPath({id:h.ID,opacity:h.Style.Opacity,"stroke-width":h.Style.BorderWidth,stroke:h.Style.Color,visibility:h.Style.Visibility,lgndCtx:h.context,d:"M "+(s.startX+-g.width/2)+" "+s.startY+" L "+(s.startX+g.width/2)+" "+s.startY},o)},_drawVertLine:function(s,h,t,o){var g=h.ShapeSize;t.svgRenderer.drawPath({id:h.ID,opacity:h.Style.Opacity,"stroke-width":h.Style.BorderWidth,stroke:h.Style.Color,visibility:h.Style.Visibility,lgndCtx:h.context,d:"M "+s.startX+" "+(s.startY+g.height/2)+" L "+s.startX+" "+(s.startY+-g.height/2)},o)},_drawTriangle:function(s,h,t,o){var g=h.ShapeSize;t.svgRenderer.drawPath({id:h.ID,fill:h.Style.Color,"stroke-width":h.Style.BorderWidth,stroke:h.Style.BorderColor,opacity:h.Style.Opacity,visibility:h.Style.Visibility,lgndCtx:h.context,d:"M "+(s.startX+-g.width/2)+" "+(s.startY+g.height/2)+" L "+s.startX+" "+(s.startY+-g.height/2)+" L "+(s.startX+g.width/2)+" "+(s.startY+g.height/2)+" L "+(s.startX+-g.width/2)+" "+(s.startY+g.height/2)+" z"},o)},_drawInvertedTriangle:function(s,h,t,o){var g=h.ShapeSize;t.svgRenderer.drawPath({id:h.ID,fill:h.Style.Color,"stroke-width":h.Style.BorderWidth,stroke:h.Style.BorderColor,opacity:h.Style.Opacity,visibility:h.Style.Visibility,lgndCtx:h.context,d:"M "+(s.startX+g.width/2)+" "+(s.startY-g.height/2)+" L "+s.startX+" "+(s.startY+g.height/2)+" L "+(s.startX-g.width/2)+" "+(s.startY-g.height/2)+" L "+(s.startX+g.width/2)+" "+(s.startY-g.height/2)+" z"},o)},_drawHexagon:function(s,h,t,o){var g=h.ShapeSize;t.svgRenderer.drawPath({id:h.ID,fill:h.Style.Color,"stroke-width":h.Style.BorderWidth,stroke:h.Style.BorderColor,opacity:h.Style.Opacity,visibility:h.Style.Visibility,lgndCtx:h.context,d:"M "+(s.startX+-g.width/2)+" "+s.startY+" L "+(s.startX+-g.width/4)+" "+(s.startY+-g.height/2)+" L "+(s.startX+g.width/4)+" "+(s.startY+-g.height/2)+" L "+(s.startX+g.width/2)+" "+s.startY+" L "+(s.startX+g.width/4)+" "+(s.startY+g.height/2)+" L "+(s.startX+-g.width/4)+" "+(s.startY+g.height/2)+" L "+(s.startX+-g.width/2)+" "+s.startY+" z"},o)},_drawWedge:function(s,h,t,o){var g=h.ShapeSize;t.svgRenderer.drawPath({"stroke-linecap":"miter","stroke-miterlimit":g.width/4,id:h.ID,fill:h.Style.Color,"stroke-width":h.Style.BorderWidth,stroke:h.Style.BorderColor,opacity:h.Style.Opacity,visibility:h.Style.Visibility,lgndCtx:h.context,d:"M "+(s.startX-g.width)+" "+s.startY+" L "+(s.startX+g.width)+" "+(s.startY+-g.height/2)+" L "+(s.startX+g.width/4*3)+" "+s.startY+" L "+(s.startX+g.width)+" "+(s.startY+g.height/2)+" L "+(s.startX-g.width)+" "+s.startY+" z"},o)},_drawPentagon:function(s,h,t,o){for(var l,g=t.svgRenderer,C=h.ShapeSize,T=Math.sqrt(C.height*C.height+C.width*C.width)/2,D=ej.EjSvgRender.utils._getStringBuilder(),L=0;L<=5;L++){var R=Math.PI/180*(72*L),V=T*Math.cos(R),F=T*Math.sin(R);D.append(0==L?"M "+(s.startX+V)+" "+(s.startY+F)+" ":"L "+(s.startX+V)+" "+(s.startY+F)+" ")}D.append("z"),l=D.toString(),g.drawPath({id:h.ID,fill:h.Style.Color,"stroke-width":h.Style.BorderWidth,stroke:h.Style.BorderColor,opacity:h.Style.Opacity,visibility:h.Style.Visibility,lgndCtx:h.context,d:l},o)},_drawStar:function(s,h,t,o){var p=h.ShapeSize;t.svgRenderer.drawPath({id:h.ID,fill:h.Style.Color,"stroke-width":h.Style.BorderWidth,stroke:h.Style.BorderColor,opacity:h.Style.Opacity,visibility:h.Style.Visibility,lgndCtx:h.context,d:"M "+(s.startX+p.width/3)+" "+(s.startY+-p.height/2)+" L "+(s.startX+-p.width/2)+" "+(s.startY+p.height/6)+" L "+(s.startX+p.width/2)+" "+(s.startY+p.height/6)+" L "+(s.startX+-p.width/3)+" "+(s.startY+-p.height/2)+" L "+s.startX+" "+(s.startY+p.height/2)+" L "+(s.startX+p.width/3)+" "+(s.startY+-p.height/2)+" z"},o)},_drawRectangle:function(s,h,t,o,l){var C,T,D,b=h.ShapeSize;l&&l.point&&l.point.textOptions&&l.point.textOptions["text-anchor"]&&(C=l.point.textOptions["text-anchor"]),t.svgRenderer.drawPath({id:h.ID,fill:h.Style.Color,"stroke-width":h.Style.BorderWidth,stroke:h.Style.BorderColor,opacity:h.Style.Opacity,visibility:h.Style.Visibility,lgndCtx:h.context,d:"M "+(s.startX+-(T="start"==C?5:b.width/2))+" "+(s.startY+-b.height/2)+" L "+(s.startX+(D="start"==C?b.width-5:b.width/2))+" "+(s.startY+-b.height/2)+" L "+(s.startX+D)+" "+(s.startY+b.height/2)+" L "+(s.startX+-T)+" "+(s.startY+b.height/2)+" L "+(s.startX+-T)+" "+(s.startY+-b.height/2)+" z"},o)},_drawTrapezoid:function(s,h,t,o){var g=h.ShapeSize;t.svgRenderer.drawPath({id:h.ID,fill:h.Style.Color,"stroke-width":h.Style.BorderWidth,stroke:h.Style.BorderColor,opacity:h.Style.Opacity,visibility:h.Style.Visibility,lgndCtx:h.context,d:"M "+(s.startX+-g.width/2)+" "+s.startY+" L "+(s.startX+-g.width/2)+" "+(s.startY+-g.height/4)+" L "+(s.startX+-g.width/2+g.width)+" "+(s.startY+-g.height/2)+" L "+(s.startX+-g.width/2+g.width)+" "+(s.startY+g.height/2)+" L "+(s.startX+-g.width/2)+" "+(s.startY+g.height/4)+" L "+(s.startX+-g.width/2)+" "+s.startY+" z"},o)},_drawDiamond:function(s,h,t,o){var g=h.ShapeSize;t.svgRenderer.drawPath({id:h.ID,fill:h.Style.Color,"stroke-width":h.Style.BorderWidth,stroke:h.Style.BorderColor,opacity:h.Style.Opacity,visibility:h.Style.Visibility,lgndCtx:h.context,d:"M "+(s.startX+-g.width/2)+" "+s.startY+" L "+s.startX+" "+(s.startY+-g.height/2)+" L "+(s.startX+g.width/2)+" "+s.startY+" L "+s.startX+" "+(s.startY+g.height/2)+" L "+(s.startX+-g.width/2)+" "+s.startY+" z"},o)},_drawEllipse:function(s,h,t,o){var g=h.ShapeSize;t.svgRenderer.drawEllipse({id:h.ID,fill:h.Style.Color,"stroke-width":h.Style.BorderWidth,stroke:h.Style.BorderColor,opacity:h.Style.Opacity,visibility:h.Style.Visibility,lgndCtx:h.context,cx:s.startX,cy:s.startY,rx:g.width,ry:g.height/2},o)},_drawImage:function(s,h,t,o){var g=h.ShapeSize;t.svgRenderer.drawImage({id:t.svgObject.id+"_image"+h.PointIndex,height:g.height,width:g.width,href:h.Imageurl,x:s.startX+-g.width/2,y:s.startY+-g.width/2,visibility:"visible",lgndCtx:h.context},o)},_drawStraightLine:function(s,h,t,o){var g=h.ShapeSize,b=h.ElementSpace;return t.svgRenderer.drawPath({id:h.ID,fill:h.Style.Color,"stroke-width":2*h.Style.BorderWidth,stroke:h.Style.Color,opacity:h.Style.Opacity,visibility:h.Style.Visibility,d:"M "+(s.startX+-g.width/2+-b/4)+" "+(s.startY+g.height/10)+" L "+(s.startX+g.width/2+b/4)+" "+(s.startY+g.height/10),lgndCtx:!0},o),s.startX+-g.width/2+-b/4},_drawLine:function(s,h,t,o){var C,l=t.svgRenderer,g=h.ShapeSize,b=h.ElementSpace;if(!0===t.model.enableCanvasRendering){C="M "+(s.startX+-g.width/2+-b/4)+" "+(s.startY+g.height/10)+" L "+(s.startX-Math.floor(g.width/3))+" "+(s.startY+g.height/10)+" M "+(s.startX+Math.floor(g.width/3))+" "+(s.startY+g.height/10)+" L "+(s.startX+g.width/2+b/4)+" "+(s.startY+g.height/10);var T={id:h.ID,fill:h.Style.Color,"stroke-width":2*h.Style.BorderWidth,stroke:h.Style.Color,opacity:h.Style.Opacity,visibility:h.Style.Visibility,d:C,lgndCtx:!0},D="M "+(s.startX-Math.floor(g.width/3))+" "+(s.startY+g.height/10)+" a "+Math.floor(g.width/3)+" "+Math.floor(g.width/3)+" 0 1 0 "+2*Math.floor(g.width/3)+" 0 a"+Math.floor(g.width/3)+" "+Math.floor(g.width/3)+" 0 1 0 "+-2*Math.floor(g.width/3)+" 0",L={id:h.ID,fill:"transparent","stroke-width":2*h.Style.BorderWidth,stroke:h.Style.Color,opacity:h.Style.Opacity,visibility:h.Style.Visibility,d:D,lgndCtx:!0};l.drawPath(T,o),l.drawPath(L,o)}else C="M "+(s.startX+-g.width/2+-b/4)+" "+(s.startY+g.height/10)+" L "+(s.startX-Math.floor(g.width/3))+" "+(s.startY+g.height/10)+" M "+(s.startX+Math.floor(g.width/3))+" "+(s.startY+g.height/10)+" L "+(s.startX+g.width/2+b/4)+" "+(s.startY+g.height/10)+" M "+(s.startX-Math.floor(g.width/3))+" "+(s.startY+g.height/10)+" a "+Math.floor(g.width/3)+" "+Math.floor(g.width/3)+" 0 1 0 "+2*Math.floor(g.width/3)+" 0 a"+Math.floor(g.width/3)+" "+Math.floor(g.width/3)+" 0 1 0 "+-2*Math.floor(g.width/3)+" 0",l.drawPath(T={id:h.ID,fill:"transparent","stroke-width":2*h.Style.BorderWidth,stroke:h.Style.Color,opacity:h.Style.Opacity,visibility:h.Style.Visibility,d:C,lgndCtx:!0},o);return s.startX+-g.width/2+-b/4},_drawColumn:function(s,h,t,o){var g=h.ShapeSize,b=h.ElementSpace;return t.svgRenderer.drawPath({id:h.ID,fill:h.Style.Color,"stroke-width":h.Style.BorderWidth,stroke:h.Style.BorderColor,opacity:h.Style.Opacity,visibility:h.Style.Visibility,d:"M "+(s.startX-g.width/5*3)+" "+(s.startY-g.height/5)+" L "+(s.startX+-g.width/10*3)+" "+(s.startY-g.height/5)+" L "+(s.startX+-g.width/10*3)+" "+(s.startY+g.height/2)+" L "+(s.startX-g.height/5*3)+" "+(s.startY+g.height/2)+" Z M "+(s.startX+-g.width/10-g.width/20)+" "+(s.startY-g.height/4-b/2)+" L "+(s.startX+g.width/10+g.width/20)+" "+(s.startY-g.height/4-b/2)+" L "+(s.startX+g.width/10+g.width/20)+" "+(s.startY+g.height/2)+" L "+(s.startX+-g.width/10-g.width/20)+" "+(s.startY+g.height/2)+" Z M "+(s.startX+g.width/10*3)+" "+s.startY+" L "+(s.startX+g.width/5*3)+" "+s.startY+" L "+(s.startX+g.width/5*3)+" "+(s.startY+g.height/2)+" L "+(s.startX+g.width/10*3)+" "+(s.startY+g.height/2)+" Z",lgndCtx:!0},o),s.startX-g.width/5*3},_drawRangeColumn:function(s,h,t,o){var g=h.ShapeSize,b=h.ElementSpace;return t.svgRenderer.drawPath({id:h.ID,fill:h.Style.Color,"stroke-width":h.Style.BorderWidth,stroke:h.Style.BorderColor,opacity:h.Style.Opacity,visibility:h.Style.Visibility,d:"M "+(s.startX+-g.width/5)+" "+(s.startY+g.height/2+b/4)+" L "+(s.startX+-g.width/5)+" "+(s.startY-g.height/2-b/4)+" L "+(s.startX+g.width/2)+" "+(s.startY+-g.height/2+-b/4)+" L "+(s.startX+g.width/2)+" "+(s.startY+g.height/2+b/4)+" Z",lgndCtx:!0},o),s.startX+-g.width/5},_drawBar:function(s,h,t,o){var g=h.ShapeSize,b=h.ElementSpace;return t.svgRenderer.drawPath({id:h.ID,fill:h.Style.Color,"stroke-width":h.Style.BorderWidth,stroke:h.Style.BorderColor,opacity:h.Style.Opacity,visibility:h.Style.Visibility,d:"M "+(s.startX+-g.width/2+-b/4)+" "+(s.startY-g.height/5*3)+" L "+(s.startX+g.width/10*3)+" "+(s.startY-g.height/5*3)+" L "+(s.startX+g.width/10*3)+" "+(s.startY-g.height/10*3)+" L "+(s.startX-g.width/2+-b/4)+" "+(s.startY-g.height/10*3)+" Z M "+(s.startX+-g.width/2+-b/4)+" "+(s.startY-g.height/5+b/20)+" L "+(s.startX+g.width/2+b/4)+" "+(s.startY-g.height/5+b/20)+" L "+(s.startX+g.width/2+b/4)+" "+(s.startY+g.height/10+b/20)+" L "+(s.startX-g.width/2+-b/4)+" "+(s.startY+g.height/10+b/20)+" Z M "+(s.startX-g.width/2+-b/4)+" "+(s.startY+g.height/5+b/10)+" L "+(s.startX+-g.width/4)+" "+(s.startY+g.height/5+b/10)+" L "+(s.startX+-g.width/4)+" "+(s.startY+g.height/2+b/10)+" L "+(s.startX-g.width/2+-b/4)+" "+(s.startY+g.height/2+b/10)+" Z",lgndCtx:!0},o),s.startX+-g.width/2+-b/4},_drawStepLine:function(s,h,t,o){var g=h.ShapeSize,b=h.ElementSpace;return t.svgRenderer.drawPath({id:h.ID,fill:"transparent","stroke-width":h.Style.BorderWidth,stroke:h.Style.Color,opacity:h.Style.Opacity,visibility:h.Style.Visibility,d:"M "+(s.startX+-g.width/2-b/4)+" "+(s.startY+g.height/2)+" L "+(s.startX+-g.width/2+g.width/10)+" "+(s.startY+g.height/2)+" L "+(s.startX+-g.width/2+g.width/10)+" "+s.startY+" L "+(s.startX+-g.width/10)+" "+s.startY+" L "+(s.startX+-g.width/10)+" "+(s.startY+g.height/2)+" L "+(s.startX+g.width/5)+" "+(s.startY+g.height/2)+" L "+(s.startX+g.width/5)+" "+(s.startY+-g.height/2)+" L "+(s.startX+g.width/2)+" "+(s.startY+-g.height/2)+"L "+(s.startX+g.width/2)+" "+(s.startY+g.height/2)+" L"+(s.startX+g.width/2+b/4)+" "+(s.startY+g.height/2),lgndCtx:!0},o),s.startX+-g.width/2-b/4},_drawSpline:function(s,h,t,o){var g=h.ShapeSize;return t.svgRenderer.drawPath({id:h.ID,fill:"transparent","stroke-width":2*h.Style.BorderWidth,stroke:h.Style.Color,opacity:h.Style.Opacity,visibility:h.Style.Visibility,d:"M "+(s.startX-g.width/2)+" "+(s.startY+g.height/5)+" Q "+s.startX+" "+(s.startY-g.height)+" "+s.startX+" "+(s.startY+g.height/5)+" M "+s.startX+" "+(s.startY+g.height/5)+" Q "+(s.startX+g.width/2)+" "+(s.startY+g.height/2)+" "+(s.startX+g.width/2)+" "+(s.startY-g.height/2),lgndCtx:!0},o),s.startX-g.width/2},_drawSplineArea:function(s,h,t,o){var g=h.ShapeSize;return t.svgRenderer.drawPath({id:h.ID,fill:h.Style.Color,"stroke-width":h.Style.BorderWidth,stroke:h.Style.Color,opacity:h.Style.Opacity,visibility:h.Style.Visibility,d:"M "+(s.startX-g.width/2)+" "+(s.startY+g.height/5)+" Q "+s.startX+" "+(s.startY-g.height)+" "+s.startX+" "+(s.startY+g.height/5)+" Z M "+s.startX+" "+(s.startY+g.height/5)+" Q "+(s.startX+g.width/2)+" "+(s.startY+g.height/2)+" "+(s.startX+g.width/2)+" "+(s.startY-g.height/2)+"  Z",lgndCtx:!0},o),s.startX-g.width/2},_drawArea:function(s,h,t,o){var g=h.ShapeSize,b=h.ElementSpace;return t.svgRenderer.drawPath({id:h.ID,fill:h.Style.Color,"stroke-width":h.Style.BorderWidth,stroke:h.Style.BorderColor,opacity:h.Style.Opacity,visibility:h.Style.Visibility,d:"M "+(s.startX-g.width/2-b/4)+" "+(s.startY+g.height/2)+" L "+(s.startX+-g.width/4+-b/8)+" "+(s.startY-g.height/2)+" L "+s.startX+" "+(s.startY+g.height/4)+" L "+(s.startX+g.width/4+b/8)+" "+(s.startY+-g.height/2+g.height/4)+" L "+(s.startX+g.height/2+b/4)+" "+(s.startY+g.height/2)+" Z",lgndCtx:!0},o),s.startX-g.width/2-b/4},_drawStepArea:function(s,h,t,o){var g=h.ShapeSize,b=h.ElementSpace;return t.svgRenderer.drawPath({id:h.ID,fill:h.Style.Color,"stroke-width":h.Style.BorderWidth,stroke:h.Style.BorderColor,opacity:h.Style.Opacity,visibility:h.Style.Visibility,d:"M "+(s.startX+-g.width/2+-b/4)+" "+(s.startY+g.height/2)+" L "+(s.startX+-g.width/2+-b/4)+" "+(s.startY+-g.height/2)+" L "+(s.startX-g.width/4)+" "+(s.startY-g.height/2)+" L "+(s.startX-g.width/4)+" "+(s.startY-g.height/4)+" L "+(s.startX+g.width/4)+" "+(s.startY-g.height/4)+" L "+(s.startX+g.width/4)+" "+s.startX+" L "+(s.startX+g.width/2+b/4)+" "+s.startY+" L "+(s.startX+g.width/2+b/4)+" "+(s.startY+g.height/2)+" Z",lgndCtx:!0},o),s.startX+-g.width/2+-b/4},_drawPyramid:function(s,h,t,o){var g=h.ShapeSize,b=h.ElementSpace;return t.svgRenderer.drawPath({id:h.ID,fill:h.Style.Color,"stroke-width":h.Style.BorderWidth,stroke:h.Style.BorderColor,opacity:h.Style.Opacity,visibility:h.Style.Visibility,d:"M "+(s.startX+-g.width/2+-b/4)+" "+(s.startY+g.height/2+b/8)+" L "+s.startX+" "+(s.startY+-g.height/2+-b/8)+" L "+(s.startX+g.width/2+b/4)+" "+(s.startY+g.height/2+b/8)+" Z",lgndCtx:!0},o),s.startX+-g.width/2+-b/4},_drawFunnel:function(s,h,t,o){var g=h.ShapeSize,b=h.ElementSpace;return t.svgRenderer.drawPath({id:h.ID,fill:h.Style.Color,"stroke-width":h.Style.BorderWidth,stroke:h.Style.BorderColor,opacity:h.Style.Opacity,visibility:h.Style.Visibility,d:"M "+(s.startX+-g.width/2+-b/5)+" "+(s.startY+-g.height/2+-b/4)+" L "+(s.startX+-g.width/5)+" "+(s.startY+g.height/4)+" L "+(s.startX+-g.width/5)+" "+(s.startY+g.height/2+b/4)+" L "+(s.startX+g.width/5)+" "+(s.startY+g.height/2+b/4)+" L "+(s.startX+g.width/5)+" "+(s.startY+g.height/4)+" L "+(s.startX+g.width/2+b/5)+" "+(s.startY+-g.height/2+-b/4)+" Z",lgndCtx:!0},o),s.startX+-g.width/2+-b/5},_drawCandle:function(s,h,t,o){var g=h.ShapeSize,b=h.ElementSpace;return t.svgRenderer.drawPath({id:h.ID,fill:h.Style.Color,"stroke-width":h.Style.BorderWidth,stroke:h.Style.Color,opacity:h.Style.Opacity,visibility:h.Style.Visibility,d:"M "+(s.startX+-g.width/2)+" "+(s.startY+g.height/4+b/8)+" L "+(s.startX+g.width/2)+" "+(s.startY+g.height/4+b/8)+" L "+(s.startX+g.width/2)+" "+(s.startY+-g.height/2+b/8)+" L "+(s.startX+-g.width/2)+" "+(s.startY+-g.height/2+b/8)+" Z M "+s.startX+" "+(s.startY+-g.height/2+b/8)+" L "+s.startX+" "+(s.startY+-g.height/2+-b/4)+" M "+s.startX+" "+(s.startY+g.height/4+b/8)+" L "+s.startX+" "+(s.startY+g.height/4+b/2),lgndCtx:!0},o),s.startX+-g.width/2},_drawHilo:function(s,h,t,o){var g=h.ShapeSize,b=h.ElementSpace;return t.svgRenderer.drawPath({id:h.ID,fill:h.Style.Color,"stroke-width":h.Style.BorderWidth,stroke:h.Style.Color,opacity:h.Style.Opacity,visibility:h.Style.Visibility,d:"M "+(s.startX+g.width/2)+" "+(s.startY+g.height/2+b/4)+" L "+(s.startX+g.width/2)+" "+(s.startY+-g.height/2+-b/4),lgndCtx:!0},o),s.startX+g.width/2},_drawHiloOpenClose:function(s,h,t,o){var l=t.svgRenderer,g=h.ShapeSize,C=(a(18,12,4.0710678118654755,270),h.ElementSpace);return l.drawPath({id:h.ID,fill:"transparent","stroke-width":h.Style.BorderWidth,stroke:h.Style.Color,opacity:h.Style.Opacity,visibility:h.Style.Visibility,d:"M "+s.startX+" "+(s.startY-g.height/10*3)+" L "+(s.startX-g.width/2-C/4)+" "+(s.startY-g.height/10*3)+" M "+s.startX+" "+(s.startY-g.height/2-C/4)+" L "+s.startX+" "+(s.startY+g.height/2+C/4)+" M "+s.startX+" "+(s.startY+g.height/10*3)+" L "+(s.startX+g.width/2+C/4)+" "+(s.startY+g.height/10*3),lgndCtx:!0},o),s.startX-g.width/2},_drawDoughnut:function(s,h,t,o){var l=t.svgRenderer,g=h.ShapeSize,D=h.ElementSpace,b=Math.sqrt(g.height*g.width)/2,C=a(s.startX,s.startY,b+=D/5,270),T=a(s.startX+g.width/10,s.startY,b,270),R=(D=h.ElementSpace,{id:h.ID,cx:s.startX,cy:s.startY,r:b/2,lgndCtx:!0,fill:"white","stroke-width":h.Style.BorderWidth,stroke:h.Style.BorderColor,opacity:h.Style.Opacity,visibility:h.Style.Visibility});return l.drawPath({id:h.ID,fill:h.Style.Color,"stroke-width":h.Style.BorderWidth,stroke:h.Style.BorderColor,opacity:h.Style.Opacity,visibility:h.Style.Visibility,d:"M "+s.startX+" "+s.startY+" L "+(s.startX+b)+" "+s.startY+" A "+b+" "+b+" 0 1 1 "+C[0]+" "+C[1]+" Z M "+(s.startX+g.width/10)+" "+(s.startY-g.height/10)+" L"+(s.startX+b)+" "+(s.startY-g.height/10)+" A "+b+" "+b+" 0 0 0 "+T[0]+" "+T[1]+" Z",lgndCtx:!0},o),l.drawCircle(R,o),s.startX-b},_drawPie:function(s,h,t,o){var l=t.svgRenderer,g=h.ShapeSize,D=h.ElementSpace,b=Math.sqrt(g.height*g.width)/2,C=a(s.startX,s.startY,b+=D/5,270),T=a(s.startX+g.width/10,s.startY,b,270);return D=h.ElementSpace,l.drawPath({id:h.ID,fill:h.Style.Color,"stroke-width":h.Style.BorderWidth,stroke:h.Style.BorderColor,opacity:h.Style.Opacity,visibility:h.Style.Visibility,d:"M "+s.startX+" "+s.startY+" L "+(s.startX+b)+" "+s.startY+" A "+b+" "+b+" 0 1 1 "+C[0]+" "+C[1]+" Z M "+(s.startX+g.width/10)+" "+(s.startY-g.height/10)+" L"+(s.startX+b)+" "+(s.startY-g.height/10)+" A "+b+" "+b+" 0 0 0 "+T[0]+" "+T[1]+" Z",lgndCtx:!0},o),s.startX-b}},ej.EjSvgRender.seriesPalette={defaultMetro:["#E94649","#F6B53F","#6FAAB0","#C4C24A","#FB954F","#005277","#8BC652","#69D2E7","#E27F2D","#6A4B82"],defaultHighContrast:["#F93A00","#44E2D6","#DDD10D","#0AA368","#0556CB","#AB40B2","#5F930A","#D12E41","#E0670E","#008FFF"],defaultOffice:["#005277","#8BC652","#6A4B82","#E94649","#6FAAB0","#F7B74F","#C4C24A","#EF863F","#69D2E7","#FFD13E"],defaultMaterial:["#663AB6","#EB3F79","#F8AB1D","#B82E3D","#049CB1","#F2424F","#C2C924","#3DA046","#074D67","#02A8F4"],defaultGradient:{borderColors:["#F34649","#F6D321","#6EB9B0","#CBC26A","#FBAF4F","#E2CDB1","#FFC0B7","#68E1E6","#E1A62D","#9C6EBF"],seriesColors:[[{color:"#F34649",colorStop:"0%"},{color:"#B74143",colorStop:"100%"}],[{color:"#F6D321",colorStop:"0%"},{color:"#F6AE26",colorStop:"100%"}],[{color:"#6EB9B0",colorStop:"0%"},{color:"#3F77BD",colorStop:"100%"}],[{color:"#CBC26A",colorStop:"0%"},{color:"#9AAD21",colorStop:"100%"}],[{color:"#FBAF4F",colorStop:"0%"},{color:"#F07542",colorStop:"100%"}],[{color:"#E2CDB1",colorStop:"0%"},{color:"#AAA089",colorStop:"100%"}],[{color:"#8BC652",colorStop:"0%"},{color:"#6F9E41",colorStop:"100%"}],[{color:"#68E1E6",colorStop:"0%"},{color:"#3D9CBE",colorStop:"100%"}],[{color:"#E1A62D",colorStop:"0%"},{color:"#B66824",colorStop:"100%"}],[{color:"#9C6EBF",colorStop:"0%"}],[{color:"#593F6D",colorStop:"100%"}]]},blueMetro:["#005378","#006691","#007EB5","#0D97D4","#00AEFF","#14B9FF","#54CCFF","#87DBFF","#ADE5FF","#C5EDFF"],blueGradient:{seriesColors:[[{color:"#005277",colorStop:"0%"},{color:"#00304F",colorStop:"100%"}],[{color:"#006590",colorStop:"0%"},{color:"#004068",colorStop:"100%"}],[{color:"#007DB4",colorStop:"0%"},{color:"#00558B",colorStop:"100%"}],[{color:"#0D97D4",colorStop:"0%"},{color:"#057FC7",colorStop:"100%"}],[{color:"#00ADFE",colorStop:"0%"},{color:"#008BE9",colorStop:"100%"}],[{color:"#14B8FE",colorStop:"0%"},{color:"#0798EB",colorStop:"100%"}],[{color:"#53CBFF",colorStop:"0%"},{color:"#35AFEB",colorStop:"100%"}],[{color:"#86DAFF",colorStop:"0%"},{color:"#64C0EC",colorStop:"100%"}],[{color:"#ACE5FF",colorStop:"0%"},{color:"#8DCEED",colorStop:"100%"}],[{color:"#C4ECFF",colorStop:"0%"}],[{color:"#A3D1E6",colorStop:"100%"}]],borderColors:["#005277","#006590","#007DB4","#0D97D4","#00ADFE","#14B8FE","#53CBFF","#86DAFF","#ACE5FF","#C4ECFF"]},greenMetro:["#496612","#597B15","#709A1B","#87B62A","#9AD926","#A6DC37","#BCE654","#C8E780","#D5EFA5","#E2F3BE"],greenGradient:{seriesColors:[[{color:"#5C7F16",colorStop:"0%"},{color:"#384C08",colorStop:"100%"}],[{color:"#6A9319",colorStop:"0%"},{color:"#486009",colorStop:"100%"}],[{color:"#739D1C",colorStop:"0%"},{color:"#57760B",colorStop:"100%"}],[{color:"#90B546",colorStop:"0%"},{color:"#6E9215",colorStop:"100%"}],[{color:"#9AD826",colorStop:"0%"},{color:"#75A010",colorStop:"100%"}],[{color:"#A5DB36",colorStop:"0%"},{color:"#8EB91D",colorStop:"100%"}],[{color:"#BBE554",colorStop:"0%"},{color:"#A4C849",colorStop:"100%"}],[{color:"#C8E780",colorStop:"0%"},{color:"#B4D072",colorStop:"100%"}],[{color:"#D4EEA5",colorStop:"0%"},{color:"#BFD593",colorStop:"100%"}],[{color:"#E1F2BD",colorStop:"0%"}],[{color:"#C8D7A8",colorStop:"100%"}]],borderColors:["#5C7F16","#6A9319","#739D1C","#90B546","#9AD826","#A5DB36","#BBE554","#C8E780","#D4EEA5","#E1F2BD"]},sandleMetro:["#6C450C","#82520D","#A36812","#C07F1F","#E69719","#E89A2B","#EEB564","#F3CB93","#F7DEB4","#F9E6CA"],sandleGradient:{seriesColors:[[{color:"#7F602F",colorStop:"0%"},{color:"#512D04",colorStop:"100%"}],[{color:"#986827",colorStop:"0%"},{color:"#673803",colorStop:"100%"}],[{color:"#A16C1F",colorStop:"0%"},{color:"#8A4B05",colorStop:"100%"}],[{color:"#BF812A",colorStop:"0%"},{color:"#AD630D",colorStop:"100%"}],[{color:"#E49519",colorStop:"0%"},{color:"#B86607",colorStop:"100%"}],[{color:"#E7992A",colorStop:"0%"},{color:"#D7780D",colorStop:"100%"}],[{color:"#EDB463",colorStop:"0%"},{color:"#D98F31",colorStop:"100%"}],[{color:"#F2CA92",colorStop:"0%"},{color:"#DAAC6F",colorStop:"100%"}],[{color:"#F6DDB3",colorStop:"0%"},{color:"#DABE8F",colorStop:"100%"}],[{color:"#F8E5C9",colorStop:"0%"}],[{color:"#DDBE92",colorStop:"100%"}]],borderColors:["#7F602F","#986827","#A16C1F","#BF812A","#E49519","#E7992A","#EDB463","#F2CA92","#F6DDB3","#F8E5C9"]}},ej.EjSvgRender.themes={flatlight:{highlightColor:"black",background:"transparent",legend:{font:{color:"#282828"},title:{font:{color:"#282828"}}},title:{font:{color:"#565656"},subTitle:{font:{color:"#565656"}}},primaryXAxis:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},labelBorder:{color:"#8E8E8E"},multiLevelLabelsColor:"#8E8E8E",multiLevelLabelsFontColor:"#282828",axisLine:{color:"#8E8E8E"},font:{color:"#282828"},title:{font:{color:"#282828"}},crosshairLabel:{rx:3,ry:3,border:{color:"#3D3D3D",width:1},fill:"#3D3D3D",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},secondaryX:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},labelBorder:{color:"#8E8E8E"},multiLevelLabelsColor:"#8E8E8E",multiLevelLabelsFontColor:"#282828",axisLine:{color:"#8E8E8E"},font:{color:"#282828"},title:{font:{color:"#282828"}},crosshairLabel:{rx:3,ry:3,border:{color:"#3D3D3D",width:1},fill:"#3D3D3D",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},primaryYAxis:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},labelBorder:{color:"#8E8E8E"},multiLevelLabelsColor:"#8E8E8E",multiLevelLabelsFontColor:"#282828",axisLine:{color:"#8E8E8E"},font:{color:"#282828"},title:{font:{color:"#282828"}},crosshairLabel:{rx:3,ry:3,border:{color:"#3D3D3D",borderWidth:1},fill:"#3D3D3D",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},secondaryY:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},labelBorder:{color:"#8E8E8E"},multiLevelLabelsColor:"#8E8E8E",multiLevelLabelsFontColor:"#282828",axisLine:{color:"#8E8E8E"},font:{color:"#282828"},title:{font:{color:"#282828"}},crosshairLabel:{rx:3,ry:3,border:{color:"#3D3D3D",width:1},fill:"#3D3D3D",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},commonSeriesOptions:{marker:{dataLabel:{font:{color:"#565656"}}},errorBar:{fill:"#000000",cap:{fill:"#000000"}},connectorLine:{color:"#565656"}},crosshair:{line:{width:1,color:"Black"}},seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.defaultMetro,colors:ej.EjSvgRender.seriesPalette.defaultMetro},flatdark:{highlightColor:"white",background:"#111111",legend:{font:{color:"#C9C9C9"},title:{font:{color:"#C9C9C9"}}},title:{font:{color:"#C9C9C9"},subTitle:{font:{color:"#C9C9C9"}}},primaryXAxis:{majorGridLines:{color:"#333333"},majorTickLines:{color:"#AAAAAA"},minorGridLines:{color:"#333333"},minorTickLines:{color:"#AAAAAA"},labelBorder:{color:"#AAAAAA"},multiLevelLabelsColor:"#AAAAAA",multiLevelLabelsFontColor:"#C9C9C9",axisLine:{color:"#AAAAAA"},font:{color:"#C9C9C9"},title:{font:{color:"#C9C9C9"}},crosshairLabel:{rx:0,ry:0,fill:"#B5B5B5",border:{color:"#B5B5B5",width:1},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#444444"}}},secondaryX:{majorGridLines:{color:"#333333"},majorTickLines:{color:"#AAAAAA"},minorGridLines:{color:"#333333"},minorTickLines:{color:"#AAAAAA"},labelBorder:{color:"#AAAAAA"},multiLevelLabelsColor:"#AAAAAA",multiLevelLabelsFontColor:"#C9C9C9",axisLine:{color:"#AAAAAA"},font:{color:"#C9C9C9"},title:{font:{color:"#C9C9C9"}},crosshairLabel:{rx:0,ry:0,fill:"#B5B5B5",border:{color:"#B5B5B5",width:1},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#444444"}}},primaryYAxis:{majorGridLines:{color:"#333333"},majorTickLines:{color:"#AAAAAA"},minorGridLines:{color:"#333333"},minorTickLines:{color:"#AAAAAA"},labelBorder:{color:"#AAAAAA"},multiLevelLabelsColor:"#AAAAAA",multiLevelLabelsFontColor:"#C9C9C9",axisLine:{color:"#AAAAAA"},font:{color:"#C9C9C9"},title:{font:{color:"#C9C9C9"}},crosshairLabel:{rx:0,ry:0,fill:"#B5B5B5",border:{color:"#B5B5B5",width:1},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#444444"}}},secondaryY:{majorGridLines:{color:"#333333"},majorTickLines:{color:"#AAAAAA"},minorGridLines:{color:"#333333"},minorTickLines:{color:"#AAAAAA"},labelBorder:{color:"#AAAAAA"},multiLevelLabelsColor:"#AAAAAA",multiLevelLabelsFontColor:"#C9C9C9",axisLine:{color:"#AAAAAA"},font:{color:"#C9C9C9"},title:{font:{color:"#C9C9C9"}},crosshairLabel:{rx:0,ry:0,fill:"#B5B5B5",border:{color:"#B5B5B5",width:1},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#444444"}}},commonSeriesOptions:{marker:{dataLabel:{font:{color:"#C9C9C9"}}},errorBar:{fill:"#ffffff",cap:{fill:"#ffffff"}},connectorLine:{color:"#C9C9C9"}},crosshair:{line:{width:1,color:"White"}},seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.defaultMetro,colors:ej.EjSvgRender.seriesPalette.defaultMetro},gradientlight:{highlightColor:"black",background:"transparent",legend:{font:{color:"#282828"},title:{font:{color:"#282828"}}},title:{font:{color:"#565656"},subTitle:{font:{color:"#565656"}}},primaryXAxis:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},labelBorder:{color:"#8E8E8E"},multiLevelLabelsColor:"#8E8E8E",multiLevelLabelsFontColor:"#282828",axisLine:{color:"#8E8E8E"},font:{color:"#282828"},title:{font:{color:"#282828"}},crosshairLabel:{rx:3,ry:3,fill:"#3D3D3D",border:{color:"#3D3D3D",width:2},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},secondaryX:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},labelBorder:{color:"#8E8E8E"},multiLevelLabelsColor:"#8E8E8E",multiLevelLabelsFontColor:"#282828",axisLine:{color:"#8E8E8E"},font:{color:"#282828"},title:{font:{color:"#282828"}},crosshairLabel:{rx:3,ry:3,fill:"#3D3D3D",border:{color:"#3D3D3D",width:2},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},primaryYAxis:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},labelBorder:{color:"#8E8E8E"},multiLevelLabelsColor:"#8E8E8E",multiLevelLabelsFontColor:"#282828",axisLine:{color:"#8E8E8E"},font:{color:"#282828"},title:{font:{color:"#282828"}},crosshairLabel:{rx:3,ry:3,fill:"#3D3D3D",border:{color:"#3D3D3D",width:2},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},secondaryY:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},labelBorder:{color:"#8E8E8E"},multiLevelLabelsColor:"#8E8E8E",multiLevelLabelsFontColor:"#282828",axisLine:{color:"#8E8E8E"},font:{color:"#282828"},title:{font:{color:"#282828"}},crosshairLabel:{rx:3,ry:3,fill:"#3D3D3D",border:{color:"#3D3D3D",width:2},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},commonSeriesOptions:{marker:{dataLabel:{font:{color:"#565656"}}},errorBar:{fill:"#000000",cap:{fill:"#000000"}},connectorLine:{color:"#565656"}},crosshair:{line:{width:1,color:"Black"}},seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.defaultGradient.borderColors,colors:ej.EjSvgRender.seriesPalette.defaultGradient.seriesColors},gradientdark:{highlightColor:"white",background:"#111111",legend:{font:{color:"#C9C9C9"},title:{font:{color:"#C9C9C9"}}},title:{font:{color:"#C9C9C9"},subTitle:{font:{color:"#C9C9C9"}}},primaryXAxis:{majorGridLines:{color:"#333333"},majorTickLines:{color:"#AAAAAA"},minorGridLines:{color:"#333333"},minorTickLines:{color:"#AAAAAA"},labelBorder:{color:"#AAAAAA"},multiLevelLabelsColor:"#AAAAAA",multiLevelLabelsFontColor:"#C9C9C9",axisLine:{color:"#AAAAAA"},font:{color:"#C9C9C9"},title:{font:{color:"#C9C9C9"}},crosshairLabel:{rx:3,ry:3,fill:"#B5B5B5",border:{color:"#B5B5B5",width:2},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#444444"}}},secondaryX:{majorGridLines:{color:"#333333"},majorTickLines:{color:"#AAAAAA"},minorGridLines:{color:"#333333"},minorTickLines:{color:"#AAAAAA"},labelBorder:{color:"#AAAAAA"},multiLevelLabelsColor:"#AAAAAA",multiLevelLabelsFontColor:"#C9C9C9",axisLine:{color:"#AAAAAA"},font:{color:"#C9C9C9"},title:{font:{color:"#C9C9C9"}},crosshairLabel:{rx:3,ry:3,fill:"#B5B5B5",border:{color:"#B5B5B5",width:2},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#444444"}}},primaryYAxis:{majorGridLines:{color:"#333333"},majorTickLines:{color:"#AAAAAA"},minorGridLines:{color:"#333333"},minorTickLines:{color:"#AAAAAA"},labelBorder:{color:"#AAAAAA"},multiLevelLabelsColor:"#AAAAAA",multiLevelLabelsFontColor:"#C9C9C9",axisLine:{color:"#AAAAAA"},font:{color:"#C9C9C9"},title:{font:{color:"#C9C9C9"}},crosshairLabel:{rx:3,ry:3,fill:"#B5B5B5",border:{color:"#B5B5B5",width:2},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#444444"}}},secondaryY:{majorGridLines:{color:"#333333"},majorTickLines:{color:"#AAAAAA"},minorGridLines:{color:"#333333"},minorTickLines:{color:"#AAAAAA"},labelBorder:{color:"#AAAAAA"},multiLevelLabelsColor:"#AAAAAA",multiLevelLabelsFontColor:"#C9C9C9",axisLine:{color:"#AAAAAA"},font:{color:"#C9C9C9"},title:{font:{color:"#C9C9C9"}},crosshairLabel:{rx:3,ry:3,fill:"#B5B5B5",border:{color:"#B5B5B5",width:2},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#444444"}}},commonSeriesOptions:{marker:{dataLabel:{font:{color:"#C9C9C9"}}},errorBar:{fill:"#ffffff",cap:{fill:"#ffffff"}},connectorLine:{color:"#C9C9C9"}},crosshair:{line:{width:1,color:"White"}},seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.defaultGradient.borderColors,colors:ej.EjSvgRender.seriesPalette.defaultGradient.seriesColors},highcontrast01:{highlightColor:"white",background:"#111111",legend:{font:{color:"#ffffff"},title:{font:{color:"#ffffff"}}},title:{font:{color:"#ffffff"},subTitle:{font:{color:"#ffffff"}}},primaryXAxis:{majorGridLines:{color:"#333333"},majorTickLines:{color:"#AAAAAA"},minorGridLines:{color:"#333333"},minorTickLines:{color:"#AAAAAA"},labelBorder:{color:"#AAAAAA"},multiLevelLabelsColor:"#AAAAAA",multiLevelLabelsFontColor:"#ffffff",axisLine:{color:"#AAAAAA"},font:{color:"#ffffff"},title:{font:{color:"#ffffff"}},crosshairLabel:{rx:3,ry:3,fill:"#B5B5B5",border:{color:"#B5B5B5",width:2},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#444444"}}},secondaryX:{majorGridLines:{color:"#333333"},majorTickLines:{color:"#AAAAAA"},minorGridLines:{color:"#333333"},minorTickLines:{color:"#AAAAAA"},axisLine:{color:"#AAAAAA"},font:{color:"#ffffff"},title:{font:{color:"#ffffff"}},crosshairLabel:{rx:3,ry:3,fill:"#B5B5B5",border:{color:"#B5B5B5",width:2},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#444444"}}},primaryYAxis:{majorGridLines:{color:"#333333"},majorTickLines:{color:"#AAAAAA"},minorGridLines:{color:"#333333"},minorTickLines:{color:"#AAAAAA"},labelBorder:{color:"#AAAAAA"},multiLevelLabelsColor:"#AAAAAA",multiLevelLabelsFontColor:"#ffffff",axisLine:{color:"#AAAAAA"},font:{color:"#ffffff"},title:{font:{color:"#ffffff"}},crosshairLabel:{rx:3,ry:3,fill:"#B5B5B5",border:{color:"#B5B5B5",width:2},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#444444"}}},secondaryY:{majorGridLines:{color:"#333333"},majorTickLines:{color:"#AAAAAA"},minorGridLines:{color:"#333333"},minorTickLines:{color:"#AAAAAA"},axisLine:{color:"#AAAAAA"},font:{color:"#ffffff"},title:{font:{color:"#ffffff"}},crosshairLabel:{rx:3,ry:3,fill:"#B5B5B5",border:{color:"#B5B5B5",width:2},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#444444"}}},commonSeriesOptions:{marker:{dataLabel:{font:{color:"#ffffff"}}},errorBar:{fill:"#ffffff",cap:{fill:"#ffffff"}},connectorLine:{color:"#C9C9C9"}},crosshair:{line:{width:1,color:"White"}},seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.defaultHighContrast,colors:ej.EjSvgRender.seriesPalette.defaultHighContrast},material:{highlightColor:"black",background:"transparent",legend:{font:{color:"#333333"},title:{font:{color:"#333333"}}},title:{font:{color:"#333333"},subTitle:{font:{color:"#333333"}}},primaryXAxis:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},labelBorder:{color:"#8E8E8E"},multiLevelLabelsColor:"#8E8E8E",multiLevelLabelsFontColor:"#333333",axisLine:{color:"#8E8E8E"},font:{color:"#333333"},title:{font:{color:"#333333"}},crosshairLabel:{rx:0,ry:0,border:{color:"#3D3D3D",width:1},fill:"#3D3D3D",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},secondaryX:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},axisLine:{color:"#8E8E8E"},font:{color:"#333333"},title:{font:{color:"#333333"}},crosshairLabel:{rx:0,ry:0,border:{color:"#3D3D3D",width:1},fill:"#3D3D3D",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},primaryYAxis:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},labelBorder:{color:"#8E8E8E"},multiLevelLabelsColor:"#8E8E8E",multiLevelLabelsFontColor:"#333333",axisLine:{color:"#8E8E8E"},font:{color:"#333333"},title:{font:{color:"#333333"}},crosshairLabel:{rx:0,ry:0,border:{color:"#3D3D3D",borderWidth:1},fill:"#3D3D3D",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},secondaryY:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},axisLine:{color:"#8E8E8E"},font:{color:"#333333"},title:{font:{color:"#333333"}},crosshairLabel:{rx:0,ry:0,border:{color:"#3D3D3D",width:1},fill:"#3D3D3D",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},commonSeriesOptions:{marker:{dataLabel:{font:{color:"#333333"}}},errorBar:{fill:"#000000",cap:{fill:"#000000"}},connectorLine:{color:"#565656"}},crosshair:{line:{width:1,color:"Black"}},seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.defaultMaterial,colors:ej.EjSvgRender.seriesPalette.defaultMaterial},office365:{highlightColor:"black",background:"transparent",legend:{font:{color:"#333333"},title:{font:{color:"#333333"}}},title:{font:{color:"#333333"},subTitle:{font:{color:"#333333"}}},primaryXAxis:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},labelBorder:{color:"#8E8E8E"},multiLevelLabelsColor:"#8E8E8E",multiLevelLabelsFontColor:"#333333",axisLine:{color:"#8E8E8E"},font:{color:"#333333"},title:{font:{color:"#333333"}},crosshairLabel:{rx:0,ry:0,border:{color:"#3D3D3D",width:1},fill:"#3D3D3D",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},secondaryX:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},axisLine:{color:"#8E8E8E"},font:{color:"#333333"},title:{font:{color:"#333333"}},crosshairLabel:{rx:0,ry:0,border:{color:"#3D3D3D",width:1},fill:"#3D3D3D",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},primaryYAxis:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},labelBorder:{color:"#8E8E8E"},multiLevelLabelsColor:"#8E8E8E",multiLevelLabelsFontColor:"#333333",axisLine:{color:"#8E8E8E"},font:{color:"#333333"},title:{font:{color:"#333333"}},crosshairLabel:{rx:0,ry:0,border:{color:"#3D3D3D",borderWidth:1},fill:"#3D3D3D",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},secondaryY:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},axisLine:{color:"#8E8E8E"},font:{color:"#333333"},title:{font:{color:"#333333"}},crosshairLabel:{rx:0,ry:0,border:{color:"#3D3D3D",width:1},fill:"#3D3D3D",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},commonSeriesOptions:{marker:{dataLabel:{font:{color:"#333333"}}},errorBar:{fill:"#000000",cap:{fill:"#000000"}},connectorLine:{color:"#565656"}},crosshair:{line:{width:1,color:"Black"}},seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.defaultOffice,colors:ej.EjSvgRender.seriesPalette.defaultOffice}},v.extend(ej.EjSvgRender.themes,{azure:{seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.blueMetro,colors:ej.EjSvgRender.seriesPalette.blueMetro},azuredark:{seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.blueMetro,colors:ej.EjSvgRender.seriesPalette.blueMetro},"gradient-azure":{seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.blueGradient.borderColors,colors:ej.EjSvgRender.seriesPalette.blueGradient.seriesColors},"gradient-azuredark":{seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.blueGradient.borderColors,colors:ej.EjSvgRender.seriesPalette.blueGradient.seriesColors},lime:{seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.greenMetro,colors:ej.EjSvgRender.seriesPalette.greenMetro},limedark:{seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.greenMetro,colors:ej.EjSvgRender.seriesPalette.greenMetro},"gradient-lime":{seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.greenGradient.borderColors,colors:ej.EjSvgRender.seriesPalette.greenGradient.seriesColors},"gradient-limedark":{seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.greenGradient.borderColors,colors:ej.EjSvgRender.seriesPalette.greenGradient.seriesColors},saffron:{seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.sandleMetro,colors:ej.EjSvgRender.seriesPalette.sandleMetro},saffrondark:{seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.sandleMetro,colors:ej.EjSvgRender.seriesPalette.sandleMetro},"gradient-saffron":{seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.sandleGradient.borderColors,colors:ej.EjSvgRender.seriesPalette.sandleGradient.seriesColors},"gradient-saffrondark":{seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.sandleGradient.borderColors,colors:ej.EjSvgRender.seriesPalette.sandleGradient.seriesColors}})}(jQuery)})?u.apply(c,_):u)&&(n.exports=w)},471:(module,exports,__webpack_require__)=>{var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_ARRAY__,__WEBPACK_AMD_DEFINE_RESULT__,n;n=function(){var n;ej.Ej3DRender=function(){},function(n){ej.Ej3DRender.Polygons=[],ej.Ej3DRender.prototype={matrix3D:function(){},vector3D:function(){},BSPTreeBuilder:function(){},Graphics3D:function(){},polygon3D:function(){}},(c=new ej.Ej3DRender).vector3D.prototype={x:"",y:"",z:"",Epsilon:1e-5,isValid:function(a){return!isNaN(a.x)&&!isNaN(a.y)&&!isNaN(a.z)},vector3D:function(a,s){this.x=a.x,this.y=a.y,this.z=s},vector3D:function(a,s,h){return this.x=a,this.y=s,this.z=h,{x:a,y:s,z:h}},vector3DMinus:function(a,s){return this.vector3D(a.x-s.x,a.y-s.y,a.z-s.z)},vector3DPlus:function(a,s){return this.vector3D(a.x+s.x,a.y+s.y,a.z+s.z)},vector3DMultiply:function(a,s){return this.vector3D(a.y*s.z-s.y*a.z,a.z*s.x-s.z*a.x,a.x*s.y-s.x*a.y)},vector3dAND:function(a,s){return a.x*s.x+a.y*s.y+a.z*s.z},vector3DStarMultiply:function(a,s){return this.vector3D(a.x*s,a.y*s,a.z*s)},getLength:function(a){var s=this.vector3dAND(a,a);return Math.sqrt(s)},normalize:function(){this.getLength()},getNormal:function(a,s,h){var t=this.vector3DMinus(a,s),o=this.vector3DMinus(h,s),l=this.vector3DMultiply(t,o),p=this.getLength(l);return p<this.Epsilon&&(p=0),{x:l.x/p,y:l.y/p,z:l.z/p}}},c.matrix3D.prototype={MATRIX_SIZE:4,matrix3D:function(a){for(var s=[],h=0;h<a;h++)s[h]=this.createArray(a);return s},isAffine:function(a){return 0==a[0][3]&&0==a[1][3]&&0==a[2][3]&&1==a[3][3]},createArray:function(a){for(var s=[],h=0;h<a;++h)s[h]=0;return s},getIdentity:function(){for(var a=this.matrix3D(this.MATRIX_SIZE),s=0;s<this.MATRIX_SIZE;s++)a[s][s]=1;return a},getInvertal:function(a){for(var s,h=this.getIdentity(),t=0;t<this.MATRIX_SIZE;t++)for(s=0;s<this.MATRIX_SIZE;s++)h[t][s]=this.getMinor(a,t,s);return h=this.transposed(h),this.getMatrixMultiple(1/this.getDeterminant(a),h)},getMatrixMultiple:function(a,s){for(var h,t=0;t<s.length;t++)for(h=0;h<s[t].length;h++)s[t][h]=s[t][h]*a;return s},getMatrixVectorMutiple:function(a,s){var l,h=a[0][0]*s.x+a[1][0]*s.y+a[2][0]*s.z+a[3][0],t=a[0][1]*s.x+a[1][1]*s.y+a[2][1]*s.z+a[3][1],o=a[0][2]*s.x+a[1][2]*s.y+a[2][2]*s.z+a[3][2];return this.isAffine(a)||(h*=l=1/(a[0][3]*s.x+a[1][3]*s.y+a[2][3]*s.z+a[3][3]),t*=l,o*=l),{x:h,y:t,z:o}},getMatrixVectorAnd:function(a,s){return c.vector3D.prototype.vector3D(a[0][0]*s.x+a[1][0]*s.y+a[2][0]*s.z,a[0][1]*s.x+a[1][1]*s.y+a[2][1]*s.z,a[0][2]*s.x+a[1][2]*s.y+a[2][2]*s.z)},getMatrixAdd:function(a,s){for(var h,t=this.matrix3D(4),o=0;o<4;o++)for(h=0;h<4;h++)t[o][h]=a[o][h]+s[o][h];return t},getMatrixMultiplication:function(a,s){for(var h,t,o,p=this.getIdentity(),g=0;g<this.MATRIX_SIZE;g++)for(h=0;h<this.MATRIX_SIZE;h++){for(t=0,o=0;o<this.MATRIX_SIZE;o++)t+=a[o][h]*s[g][o];p[g][h]=t}return p},getMatrixEqual:function(a,s){for(var h,t=!0,o=0;o<a.length;o++)for(h=0;h<a.length;h++)a[o][h]!=s[o][h]&&(t=!1);return t},getMatrixNotEqual:function(a,s){for(var h,t=!0,o=0;o<a.length;o++)for(h=0;h<a.length;h++)a[o][h]!=s[o][h]&&(t=!1);return!t},getMinor:function(a,s,h){return((s+h)%2==0?1:-1)*this.getDeterminant(this.getMMtr(a,s,h))},getMMtr:function(a,s,h){for(var t,o,p=a.length-1,g=this.createArray(p),b=0;b<p;b++)for(t=b>=s?b+1:b,g[b]=this.createArray(p),o=0;o<p;o++)g[b][o]=a[t][o>=h?o+1:o];return g},getDeterminant:function(a){var t,o,l,s=a.length,h=0;if(s<2)h=a[0][0];else for(t=1,o=0;o<s;o++)l=this.getMMtr(a,o,0),h+=t*a[o][0]*this.getDeterminant(l),t=t>0?-1:1;return h},transform:function(a,s,h){var t=this.getIdentity();return t[3][0]=a,t[3][1]=s,t[3][2]=h,t},turn:function(a){var s=this.getIdentity();return s[0][0]=Math.cos(a),s[2][0]=-Math.sin(a),s[0][2]=Math.sin(a),s[2][2]=Math.cos(a),s},tilt:function(a){var s=this.getIdentity();return s[1][1]=Math.cos(a),s[2][1]=Math.sin(a),s[1][2]=-Math.sin(a),s[2][2]=Math.cos(a),s},transposed:function(a){for(var s,h=this.getIdentity(),t=0;t<this.MATRIX_SIZE;t++)for(s=0;s<this.MATRIX_SIZE;s++)h[t][s]=a[s][t];return h},shear:function(a,s,h,t,o,l){var p=this.getIdentity();return p[0]=a,p[0]=s,p[1]=h,p[1]=t,p[2]=o,p[2]=l,p}},c.Graphics3D.prototype={addVisual:function(a){return null==a||w.test(a)?-1:(a.Graphics3D=this,_.add(a))},getVisualCount:function(){return ej.Ej3DRender.Polygons.length()},remove:function(a){ej.Ej3DRender.Polygons.Remove(a)},clearVisual:function(){ej.Ej3DRender.Polygons=null},getVisual:function(){return ej.Ej3DRender.Polygons},prepareView:function(a,s,h,t,o,l){0==arguments.length?_.build():(null==ej.Ej3DRender.transform?ej.Ej3DRender.transform=ej.EjSvgRender.chartTransform3D.transform3D(o):ej.Ej3DRender.transform.mViewport=o,ej.Ej3DRender.tree||(ej.Ej3DRender.tree=[]),ej.Ej3DRender.transform.Rotation=h,ej.Ej3DRender.transform.Tilt=t,ej.Ej3DRender.transform.Depth=s,ej.Ej3DRender.transform.PerspectiveAngle=a,ej.EjSvgRender.chartTransform3D.transform(ej.Ej3DRender.transform),ej.Ej3DRender.tree[l._id]=_.build())},view:function(a,s,h,t,o,l,p){var b;if(2==arguments.length){if(null==a)return;b=r.vector3D(0,0,32767),this.drawBspNode3D(ej.Ej3DRender.tree[s._id],b,a,s)}else{if(null==a)return;null==ej.Ej3DRender.transform?ej.Ej3DRender.transform=ej.EjSvgRender.chartTransform3D.transform3D(o):ej.Ej3DRender.transform.mViewport=o,ej.Ej3DRender.transform.Rotation=h,ej.Ej3DRender.transform.Tilt=t,ej.Ej3DRender.transform.Depth=p,ej.Ej3DRender.transform.PerspectiveAngle=l,ej.EjSvgRender.chartTransform3D.transform(ej.Ej3DRender.transform),b=r.vector3D(0,0,32767),this.drawBspNode3D(ej.Ej3DRender.tree[s._id],b,a,s)}},draw3DElement:function(a,s){a.Plane.element?"text"==a.Plane.element.tag||"dataLabel"==a.Plane.element.tag?w.drawText(a.Plane,s):"polyline"==a.Plane.element.tag?w.drawPolyLine(a.Plane,s):"template"==a.Plane.element.tag?w.drawTemplate(a.Plane,s):w.drawLine(a.Plane,s):w.draw(a.Plane,s)},drawBspNode3D:function(a,s,h,t){if(null!=a&&null!=ej.Ej3DRender.transform)for(;;){if(r.vector3dAND(w.getNormal(ej.EjSvgRender.chartTransform3D.result(ej.Ej3DRender.transform),a.Plane.VectorPoints),s)>a.Plane.D){if(null!=a.Front&&this.drawBspNode3D(a.Front,s,h,t),this.draw3DElement(a,t),null!=a.Back){a=a.Back;continue}}else if(null!=a.Back&&this.drawBspNode3D(a.Back,s,h,t),this.draw3DElement(a,t),null!=a.Front){a=a.Front;continue}break}}},c.BSPTreeBuilder.prototype={EPSILON:5e-4,Polygon:[],add:function(a){return ej.Ej3DRender.Polygons.push(a),ej.Ej3DRender.Polygons.length-1},remove:function(a){ej.Ej3DRender.Polygons.splice(a,1)},clear:function(){ej.Ej3DRender.Polygons=[]},count:function(){return ej.Ej3DRender.Polygons.length},getNext:function(a,s){return a>=s?a-s:a<0?a+s:a},getNodeCount:function(a){return null==a?0:1+this.getNodeCount(a.Back)+this.getNodeCount(a.Front)},vector3DIndexClassification:function(a,s,h){return{index:s,result:h,vector:a,isCuttingBackPoint:!1,cuttingBackPairIndex:null,alreadyCuttedBack:!1,isCuttingFrontPoint:!1,cuttingFrontPairIndex:null,alreadyCuttedFront:!1}},classifyPoint:function(a,s){var h="OnPlane",t=-s.D-c.vector3D.prototype.vector3dAND(a,s.normal);return t>this.EPSILON?h="OnBack":t<-this.EPSILON&&(h="OnFront"),h},classifyPolygon:function(a,s){var t,o,l,h=s.Points;if(null==h)return"Unknown";var p=0,g=0,b=0,C=a.normal,T=a.D;for(t=0,o=h.length;t<o&&((l=-T-c.vector3D.prototype.vector3dAND(h[t],C))>this.EPSILON?p++:l<-this.EPSILON?g++:b++,!(p>0&&g>0));t++);return b==h.length?"OnPlane":g+b==h.length?"ToRight":p+b==h.length?"ToLeft":"Unknown"},splitPolygon:function(a,s){var o,l,p,b,C,T,D,h=[],t=[];if(null!=a.Points){var g,V,L=[],I=[],R=[],F=a.Points.length;for(C=0;C<F;C++){var A=a.Points[C],z=a.Points[this.getNext(C+1,F)],N=this.classifyPoint(A,s),U=this.classifyPoint(z,s),J=this.vector3DIndexClassification(A,L.length,N);if(L.push(J),N!=U&&"OnPlane"!=N&&"OnPlane"!=U){var Q=r.vector3DMinus(A,z),oe=r.vector3DMinus(r.vector3DStarMultiply(s.normal,-s.D),z),le=r.vector3dAND(oe,s.normal)/r.vector3dAND(s.normal,Q),ne=r.vector3DPlus(z,r.vector3DStarMultiply(Q,le)),he=this.vector3DIndexClassification(ne,L.length,"OnPlane");L.push(he),I.push(he),R.push(he)}else if("OnPlane"==N){if(o=a.Points[this.getNext(C-1,F)],(l=this.classifyPoint(o,s))==U)continue;if("OnPlane"!=l&&"OnPlane"!=U)I.push(J),R.push(J);else if("OnPlane"==l)switch(U){case"OnBack":I.push(J);break;case"OnFront":R.push(J)}else if("OnPlane"==U)switch(l){case"OnBack":I.push(J);break;case"OnFront":R.push(J)}}}if(0!=R.length||0!=I.length){for(C=0;C<I.length-1;C+=2)T=I[C+1],(p=I[C]).CuttingBackPoint=!0,T.CuttingBackPoint=!0,p.CuttingBackPairIndex=T.index,T.CuttingBackPairIndex=p.index;for(C=0;C<R.length-1;C+=2)T=R[C+1],(p=R[C]).CuttingFrontPoint=!0,T.CuttingFrontPoint=!0,p.CuttingFrontPairIndex=T.index,T.CuttingFrontPairIndex=p.index;for(C=0;C<I.length-1;C++)(p=I[C]).alreadyCuttedBack||(g=this.cutOutBackPolygon(L,p)).length>2&&(b=w.polygon3D(g,a),h.push(n.extend({},b)));for(C=0;C<R.length-1;C++)(T=R[C]).alreadyCuttedFront||(V=this.cutOutFrontPolygon(L,T)).length>2&&(D=w.polygon3D(V,a),t.push(n.extend({},D)))}}else h.push(a),t.push(a);return{BackP:h,FrontP:t}},cutOutFrontPolygon:function(a,s){for(var o,l,p,g,b,h=[],t=s;;)if(t.alreadyCuttedFront=!0,h.push(t.vector),o=a[t.CuttingFrontPairIndex],t.CuttingFrontPoint)if(o.alreadyCuttedFront)if(l=a[this.getNext(t.index-1,a.length)],p=a[this.getNext(t.index+1,a.length)],"OnFront"!=l.result||l.alreadyCuttedFront){if("OnFront"!=p.result||p.alreadyCuttedFront)return h;t=p}else t=l;else t=o;else if(g=a[this.getNext(t.index-1,a.length)],b=a[this.getNext(t.index+1,a.length)],"OnBack"==g.result||g.alreadyCuttedFront){if("OnBack"==b.result||b.alreadyCuttedFront)return h;t=b}else t=g;return h},cutOutBackPolygon:function(a,s){for(var o,l,p,h=[],t=s;;)if(t.alreadyCuttedBack=!0,h.push(t.vector),o=a[t.CuttingBackPairIndex],t.CuttingBackPoint)if(o.alreadyCuttedBack)if(l=a[this.getNext(t.index-1,a.length)],p=a[this.getNext(t.index+1,a.length)],"OnBack"!=l.result||l.alreadyCuttedBack){if("OnBack"!=p.result||p.alreadyCuttedBack)return h;t=p}else t=l;else t=o;else if(l=a[this.getNext(t.index-1,a.length)],p=a[this.getNext(t.index+1,a.length)],"OnFront"==l.result||l.alreadyCuttedBack){if("OnFront"==p.result||p.alreadyCuttedBack)return h;t=p}else t=l;return h},build:function(){var a,s,h,t,o,l,p,g,b,C,T,D;if(arguments[0]){if((a=arguments[0]).length<1)return null;for((s={Back:null,Front:null,Plane:null}).Plane=h=a[0],t=[],o=[],l=1,p=a.length;l<p;l++)if((g=a[l])!=h)switch(b=this.classifyPolygon(h,g),b){case"OnPlane":case"ToRight":o.push(g);break;case"ToLeft":t.push(g);break;case"Unknown":if(!g.element||"line"!=g.element.tag&&"text"!=g.element.tag){for(C=this.splitPolygon(g,h),T=0;T<C.BackP.length;T++)C.BackP[T].Name=C.BackP[T].Name+"back",t.push(C.BackP[T]);for(D=0;D<C.FrontP.length;D++)C.FrontP[D].Name=C.FrontP[D].Name+"front",o.push(C.FrontP[D])}else t.push(g)}return t.length>0&&(s.Back=this.build(t)),o.length>0&&(s.Front=this.build(o)),s}return this.build(ej.Ej3DRender.Polygons)}},c.polygon3D.prototype={epsilon:1e-5,normal:{x:0,y:0,z:0},vector:new((new ej.Ej3DRender).vector3D),polygon3D:function(a,s,h,t,o,l,p,g){var C;if(3!=arguments.length)return 2==arguments.length?(this.calcNormal((a=arguments[0])[0],a[1],a[2]),this.vectorPoints=a,this.calcNormal(this.vectorPoints),(C=arguments[1]).Normal=this.normal,C.normal=this.normal,C.Points=a,C.VectorPoints=this.vectorPoints,C.IsSplitted=!0,C.d=this.d,C.D=this.d,C):(this.calcNormal(a[0],a[1],a[2]),this.vectorPoints=a,this.calcNormal(this.vectorPoints),C={Normal:this.normal,normal:this.normal,Points:a,VectorPoints:this.vectorPoints,Index:h,Tag:s,Name:g||null,StrokeThickness:o,Opacity:l,Fill:p,d:this.d,D:this.d},1!=arguments.length&&(C.Element={Tag:"path",Parent:arguments[arguments.length-1]}),C);this.calcNormal(arguments[0],arguments[1],arguments[2])},createLine:function(a,s,h,t,o,l){var p=a.width,g=[];return g[0]=r.vector3D(s,h,l),g[1]=r.vector3D(s+p,o+p,l),g[2]=r.vector3D(t,o,l),this.line3D(a,g)},createPolyline:function(a,s){if(2==a.length){var h=a[1];a.push(r.vector3D(h.x,h.y,h.z))}return this.polyLine3D(s,a)},polyLine3D:function(a,s){var h=this.polygon3D(s);return h.element=a,h},line3D:function(a,s){var h=this.polygon3D(s);return h.element=a,h},text3D:function(a,s){var h=this.polygon3D(s);return h.element=a,h},createCylinder:function(a,s,h,t,ee,l,p,g,b,C,T,D){var I,R,V,F,L=0,A=24,z=360/A,N=Math.PI/180,U=parseFloat((a.z+s.z)/2),J=[],Q=[],oe=[],ue=[],le=s.y-a.y<s.z-a.z?parseFloat((s.y-a.y)/2):parseFloat((s.z-a.z)/2),ne=s.x-a.x<s.z-a.z?parseFloat((s.x-a.x)/2):parseFloat((s.z-a.z)/2),he=parseFloat((a.x+s.x)/2),se=parseFloat((a.y+s.y)/2);switch(ee=ee.toLowerCase()){case"bar":case"stackingbar":case"stackingbar100":for(A++;A--;)R=parseFloat(se+le*Math.cos(L*z*N)),V=parseFloat(U+le*Math.sin(L*z*N)),Q[L]={Y:R,Z:V},oe.push(r.vector3D(a.x,Q[L].Y,Q[L].Z)),ue.push(r.vector3D(s.x,Q[L].Y,Q[L].Z)),L>0&&(F=[r.vector3D(a.x,Q[L-1].Y,Q[L-1].Z),r.vector3D(s.x,Q[L-1].Y,Q[L-1].Z),r.vector3D(s.x,Q[L].Y,Q[L].Z),r.vector3D(a.x,Q[L].Y,Q[L].Z)],J[L+1]=this.polygon3D(F,h,t,p,0,b,p,"_"+(L+1).toString()+"_"+T,D),v.addVisual(J[L+1])),L++;break;case"column":case"stackingcolumn":case"stackingcolumn100":for(A++;A--;)I=parseFloat(he+ne*Math.cos(L*z*N)),V=parseFloat(U+ne*Math.sin(L*z*N)),Q[L]={X:I,Z:V},oe.push(r.vector3D(Q[L].X,a.y,Q[L].Z)),ue.push(r.vector3D(Q[L].X,s.y,Q[L].Z)),L>0&&(F=[r.vector3D(Q[L-1].X,a.y,Q[L-1].Z),r.vector3D(Q[L-1].X,s.y,Q[L-1].Z),r.vector3D(Q[L].X,s.y,Q[L].Z),r.vector3D(Q[L].X,a.y,Q[L].Z)],J[L+1]=this.polygon3D(F,h,t,p,0,b,p,"_"+(L+1).toString()+"_"+T,D),v.addVisual(J[L+1])),L++}return J[0]=this.polygon3D(ue,h,t,l,0,b,p,"_0_"+T,D),J[1]=this.polygon3D(oe,h,t,l,g,b,p,"_1_"+T,D),v.addVisual(J[0]),v.addVisual(J[1]),J},createBox:function(a,s,h,t,o,l,p,g,b,C,T,N){var L=[],I=[r.vector3D(a.x,a.y,a.z),r.vector3D(s.x,a.y,a.z),r.vector3D(s.x,s.y,a.z),r.vector3D(a.x,s.y,a.z)],R=[r.vector3D(a.x,a.y,s.z),r.vector3D(s.x,a.y,s.z),r.vector3D(s.x,s.y,s.z),r.vector3D(a.x,s.y,s.z)],V=[r.vector3D(a.x,a.y,s.z),r.vector3D(s.x,a.y,s.z),r.vector3D(s.x,a.y,a.z),r.vector3D(a.x,a.y,a.z)],F=[r.vector3D(a.x,s.y,s.z),r.vector3D(s.x,s.y,s.z),r.vector3D(s.x,s.y,a.z),r.vector3D(a.x,s.y,a.z)],A=[r.vector3D(a.x,a.y,a.z),r.vector3D(a.x,a.y,s.z),r.vector3D(a.x,s.y,s.z),r.vector3D(a.x,s.y,a.z)],z=[r.vector3D(s.x,a.y,a.z),r.vector3D(s.x,a.y,s.z),r.vector3D(s.x,s.y,s.z),r.vector3D(s.x,s.y,a.z)];return arguments[10]?(L[0]=this.polygon3D(I,h,t,l,g,b,p,"_0_"+T,N),L[1]=this.polygon3D(R,h,t,l,g,b,p,"_1_"+T,N),L[2]=this.polygon3D(V,h,t,l,g,b,p,"_2_"+T,N),L[3]=this.polygon3D(F,h,t,l,g,b,p,"_3_"+T,N),L[4]=this.polygon3D(A,h,t,l,g,b,p,"_4_"+T,N),L[5]=this.polygon3D(z,h,t,l,g,b,p,"_5_"+T,N)):(L[0]=this.polygon3D(I,h,t,l,g,b,p,"_0_"+t,N=arguments[arguments.length-1]),L[1]=this.polygon3D(R,h,t,l,g,b,p,"_1_"+t,N),L[2]=this.polygon3D(V,h,t,l,g,b,p,"_2_"+t,N),L[3]=this.polygon3D(F,h,t,l,g,b,p,"_3_"+t,N),L[4]=this.polygon3D(A,h,t,l,g,b,p,"_4_"+t,N),L[5]=this.polygon3D(z,h,t,l,g,b,p,"_5_"+t,N)),C?(v.addVisual(L[0]),v.addVisual(L[1]),v.addVisual(L[2]),v.addVisual(L[3]),v.addVisual(L[4]),v.addVisual(L[5])):(v.addVisual(L[5]),v.addVisual(L[4]),v.addVisual(L[0]),v.addVisual(L[1]),v.addVisual(L[2]),v.addVisual(L[3])),L},calcNormal:function(){var a,s;if(arguments.length>=3){var h=arguments[0],t=arguments[1],o=arguments[2],l=r.vector3DMinus(h,t),p=r.vector3DMinus(o,t),g=r.vector3DMultiply(l,p),b=r.getLength(g);b<this.epsilon&&(b=1),this.normal=r.vector3D(g.x/b,g.y/b,g.z/b),this.d=-(this.normal.x*h.x+this.normal.y*h.y+this.normal.z*h.z),arguments[3]&&(arguments[3].normal=this.normal,arguments.d=this.d)}else for(this.calcNormal((a=arguments[0])[0],a[1],a[2],arguments[1]),s=3;s<a.length&&this.test();s++)this.calcNormal(a[s],a[0],a[s/2])},test:function(){return!r.isValid(this.normal)},transform:function(a,s){var h,t;if(null!=s.Points){for(h=0;h<s.Points.length;h++)s.VectorPoints[h]=s.Points[h]=u.getMatrixVectorMutiple(a,s.Points[h]);this.calcNormal(s.VectorPoints,s)}else t=a*s.normal*-s.d,s.normal=u.getMatrixVectorAnd(a,s.normal),r.normalize(),s.d=-(s.normal&t)},getPoint:function(a,s,h,t){if("number"==typeof a)return r.vector3D(a,s,-(h.x*a+h.y*s+t)/h.z);var l=a,p=s,g=r.vector3DMinus(r.vector3DStarMultiply(h,-t),l),C=r.vector3dAND(g,h)/r.vector3dAND(h,p);return r.vector3DPlus(l,r.vector3DStarMultiply(p*C))},getNormal:function(a,s){var h,t;if(null!=s)for(h=r.getNormal(u.getMatrixVectorMutiple(a,s[0]),u.getMatrixVectorMutiple(a,s[1]),u.getMatrixVectorMutiple(a,s[2])),t=3;t<s.length&&!r.isValid(h)&&s[t/2];t++){var o=u.getMatrixVectorMutiple(a,s[t]),l=u.getMatrixVectorMutiple(a,s[0]),p=u.getMatrixVectorMutiple(a,s[t/2]);h=r.getNormal(o,l,p)}else h=u.getMatrixVectorAnd(a),r.normalize();return h},createTextElement:function(a,s,h,t){var o=[],l=a.x,p=a.y,g=s.Width,b=s.Height;return o[0]=this.vector.vector3D(l,p,a.z),o[1]=this.vector.vector3D(l+g,p+b+t,a.z),o[2]=this.vector.vector3D(l+g+h,p+b+t,a.z),this.text3D(s,o)},redraw:function(){},drawPolyLine:function(a,s){var l,p,g,b,h=ej.Ej3DRender.transform,t=ej.EjSvgRender.utils._getStringBuilder(),o=ej.EjSvgRender.chartTransform3D.toScreen(a.VectorPoints[0],h);for(t.append("M "+o.x+" "+o.y+" "),l=0;l<a.VectorPoints.length;l++)p=ej.EjSvgRender.chartTransform3D.toScreen(a.VectorPoints[l],h),t.append("L "+p.x+" "+p.y+" ");g=t.toString(),(b={id:a.element.id,"stroke-dasharray":a.element.dashArray,"stroke-width":a.element.width,stroke:a.element.stroke,d:g}).id=b.id.replace(/[^a-zA-Z0-9]/g,""),s.svgRenderer.drawPath(b,a.element.child)},drawLine:function(a,s){var h=ej.Ej3DRender.transform;if(null!=h){var t=ej.EjSvgRender.chartTransform3D.toScreen(a.VectorPoints[0],h),o=ej.EjSvgRender.chartTransform3D.toScreen(a.VectorPoints[2],h),l={id:a.element.id,x1:t.x,y1:t.y,x2:o.x,y2:o.y,"stroke-dasharray":a.element.dashArray,"stroke-width":a.element.width,stroke:a.element.stroke,opacity:a.element.opacity};l.id=l.id.replace(/[^a-zA-Z0-9]/g,""),s.svgRenderer.drawLine(l,a.element.child)}},drawTemplate:function(a,s){var o,h=a.element,t=ej.Ej3DRender.transform;null!=t&&(o=ej.EjSvgRender.chartTransform3D.toScreen(a.VectorPoints[0],t),ej.EjSeriesRender.prototype.drawLabelTemplate(h.Label.series,h.Label.series.points[h.Label.pointIndex],h.Label.pointIndex,{X:o.x,Y:o.y},s))},drawText:function(a,s){var l,h=a.element,t=ej.Ej3DRender.transform;if(null!=t){var p=ej.EjSvgRender.chartTransform3D.toScreen(a.VectorPoints[0],t),g=p.x,b=p.y;if("text"==h.tag)s.svgRenderer.drawText({id:h.id,x:g,y:b,fill:h.font.color,"font-size":h.font.size,"font-family":h.font.fontFamily,"font-style":h.font.fontStyle,"font-weight":h.font.fontWeight,opacity:h.font.opacity,"text-anchor":h.TextAnchor,cursor:"default",transform:h.Angle?"rotate("+h.Angle+","+g+","+b+")":null},a.element.Label.Text,a.element.child,a.element.font);else{var A,C=h.series,T=C.yAxis&&C.yAxis.labelFormat?C.yAxis.labelFormat:"",D=h.point.text?h.point.text:h.point.y+T.substring(T.indexOf("}")+1),L=ej.EjSvgRender.utils._measureText(D,null,C.marker.dataLabel.font),I=C.marker.dataLabel.margin,R=L.width+I.left+I.right,V=L.height+I.top+I.bottom,F={X:p.x,Y:p.y};l=C.marker.dataLabel.shape||C.marker.dataLabel.shape?C.marker.dataLabel.shape:"None",n.each(s.model.symbolShape,function(J){l.toLowerCase()==J.toLowerCase()&&(A=J)});var z=F.X-I.left/2+I.right/2,N=F.Y-I.top/2-V/I.top+I.bottom/2,U=n.inArray(C,s.model.series);ej.EjSeriesRender.prototype.dataLabelSymbol(U,C,h.pointIndex,z,N,R,V,A,s)}}},draw:function(a,s){var h,t,o,l;if(null!=a.VectorPoints&&!(a.VectorPoints.length<=0)){var p=ej.Ej3DRender.transform,g=ej.EjSvgRender.utils._getStringBuilder(),b=a.Fill;if(s.svgRenderer.checkColorFormat(b)||(b=s.colorNameToHex(b)),h={Segments:null,StartPoint:null},null!=p)for(h.StartPoint=ej.EjSvgRender.chartTransform3D.toScreen(a.VectorPoints[0],p),g.append("M "+h.StartPoint.x+" "+h.StartPoint.y+" "),t=0;t<a.VectorPoints.length;t++)o=ej.EjSvgRender.chartTransform3D.toScreen(a.VectorPoints[t],p),g.append("L "+o.x+" "+o.y+" ");var T=g.toString(),D="Light",L=2*(Math.abs(r.vector3dAND(a.normal,r.vector3D(0,0,1)))-1),I=2*(Math.abs(r.vector3dAND(a.normal,r.vector3D(0,1,0)))-1);L==2*(Math.abs(r.vector3dAND(a.normal,r.vector3D(1,0,0)))-1)?(D="ZLight",b=this.applyZLight(b,s)):I==L||0!=L&&I<L?(D="XLight",b=this.applyXLight(b,s)):L<0?(D="ZLight",b=this.applyZLight(b,s)):D="Light","none"==s.model.AreaType&&(a.StrokeThickness=0),s.svgRenderer.drawPath(l={id:s.svgObject.id+"_"+a.Name,name:D,fill:b,stroke:a.Stroke,"stroke-width":a.StrokeThickness,opacity:a.Opacity,d:T},a.Element.Parent),s.model.previousID&&s.model.touchCross&&n("#"+l.id).insertAfter(n("#"+s.model.previousID)),s.model.previousID=l.id}},applyXLight:function(a,s){var h=s.svgRenderer.hexToRGB(a);return h.R=parseInt(.7*h.R),h.G=parseInt(.7*h.G),h.B=parseInt(.7*h.B),s.svgRenderer.hexFromRGB(h)},applyZLight:function(a,s){var h=s.svgRenderer.hexToRGB(a);return h.R=parseInt(.9*h.R),h.G=parseInt(.9*h.G),h.B=parseInt(.9*h.B),s.svgRenderer.hexFromRGB(h)},update:function(a,s,h){var t,o,l,p;if(null!=s.VectorPoints&&!(s.VectorPoints.length<=0)){s.VectorPoints=a;var g=ej.Ej3DRender.transform,b=ej.EjSvgRender.utils._getStringBuilder(),T={Segments:null,StartPoint:null};if(null!=g)for(T.StartPoint=ej.EjSvgRender.chartTransform3D.toScreen(s.VectorPoints[0],g),b.append("M "+T.StartPoint.x+" "+T.StartPoint.y+" "),t=0;t<s.VectorPoints.length;t++)o=ej.EjSvgRender.chartTransform3D.toScreen(s.VectorPoints[t],g),b.append("L "+o.x+" "+o.y+" ");l=b.toString(),n(h.chartObj.chart3D).find("#"+h.chartObj.svgObject.id+"_"+s.Name).length>0&&(p=n(h.chartObj.chart3D).find("#"+h.chartObj.svgObject.id+"_"+s.Name)[0],h.chartObj.svgRenderer._setAttr(n(p),{d:l}))}}};var c,r=new((c=new ej.Ej3DRender).vector3D),u=new c.matrix3D,_=new c.BSPTreeBuilder,w=new c.polygon3D,v=new c.Graphics3D}(jQuery),ej.Ej3DAxisRenderer=function(){},ej.Ej3DSeriesRender=function(){},ej.Ej3DChart=function(){},ej.series3DTypes={},n=jQuery,ej.Ej3DAxisRenderer.prototype={_drawAxes:function(c,r,u){r.majorGridLines.visible&&this._drawGridLines3D(r,u),r.visible&&r.majorTickLines.visible&&this._renderTicks3D(r,r.majorTickLines.size,r.majorTickLines.width,u),r.visible&&(this._drawAxisLabel(r,u),this._drawMultiLevelLabel(c,r,u),this._drawAxisTitle(r))},_drawAxisTitle:function(c){var r,_,w,s,h;if(c.title.visible){r=c.title.font,this.gAxisTitleEle=this.svgRenderer.createGroup({id:this.svgObject.id+"axisTitle_"+c.name});var t=c._opposed,o={Width:n(this.svgObject).width(),Height:n(this.svgObject).height()},p=ej.EjSvgRender.chartTransform3D.transform3D(o);p.mViewport=o,p.Rotation=0,p.Tilt=0,p.Depth=100,p.PerspectiveAngle=90,ej.EjSvgRender.chartTransform3D.transform(p);var D,L,g=ej.EjSvgRender.chartTransform3D.result,b=ej.Ej3DRender.prototype.matrix3D.prototype,C=c.orientation.toLowerCase(),T=!1;for(_=0;_<this.model._axes.length;_++)if((D=this.model._axes[_]).orientation.toLowerCase()==C)for(w=0;w<D.multiLevelLabels.length;w++)if(D.multiLevelLabels[w].visible){T=!0;break}if("horizontal"==C){var I=this.model.elementSpacing+c._LableMaxWidth.height,R=ej.EjSvgRender.utils._measureText(c.title.text,c.width,c.title.font).height/2;(V=n.extend({},ej.EjSvgRender.commonChartEventArgs)).data={Text:c.title.text,location:{x:c.width/2,y:I+R+c.majorTickLines.size+c.axisLine.width+this.model.wallSize+c._multiLevelLabelHeight},axes:c},this._trigger("axesTitleRendering",V),v=V.data.location.x+c.x,a=t?c.y-V.data.location.y:V.data.location.y+c.y,L={Width:R.width,Height:R.height,Label:V.data,TextAnchor:"middle",tag:"text",font:r=c.title.font,id:this.svgObject.id+"axisTitle",child:this.chart3D},T?(s={id:this.svgObject.id+"axisTitle",x:v,y:a,fill:r.color,"font-size":r.size,"font-family":r.fontFamily,"font-style":r.fontStyle,"font-weight":r.fontWeight,opacity:r.opacity,"text-anchor":"middle"},h=ej.EjSvgRender.chartTransform3D.toScreen({x:v,y:a,z:0},p,g,b),s.x=h.x,s.y=h.y,this.svgRenderer.drawText(s,V.data.Text,this.gAxisTitleEle),this.svgRenderer.append(this.gAxisTitleEle,this.svgObject)):this.graphics.addVisual(this.polygon.createTextElement(this.vector.vector3D(v,a,0),L,10,10))}else{var V,F=ej.EjSvgRender.utils._measureText(c.title.text,c.height,c.title.font),v=t?c.x+(4*this.model.elementSpacing+c._LableMaxWidth.width+c.majorTickLines.size+c.axisLine.width+this.model.wallSize+c._multiLevelLabelHeight):c.x-(3*this.model.elementSpacing+c._LableMaxWidth.width+c.majorTickLines.size+c.axisLine.width+this.model.wallSize+c._multiLevelLabelHeight);(V=n.extend({},ej.EjSvgRender.commonChartEventArgs)).data={Text:c.title.text,location:{x:F.width/2,y:0},axes:c},this._trigger("axesTitleRendering",V);var a=V.data.location.y+(c.y+c.height)+c.height/-2,z=t?25:-25;L={Width:F.width,Height:F.height,Angle:-90,Label:V.data,TextAnchor:"middle",tag:"text",font:r=c.title.font,id:this.svgObject.id+"_YAxisTitle",child:this.chart3D},T?(s={id:void 0,x:v,y:a,fill:r.color,"font-size":r.size,"font-family":r.fontFamily,"font-style":r.fontStyle,"font-weight":r.fontWeight,opacity:r.opacity,"text-anchor":"middle",transform:"rotate(-90,"+v+","+(t?a+10:a-10)+")"},h=ej.EjSvgRender.chartTransform3D.toScreen({x:v,y:a,z:0},p,g,b),s.x=h.x+z,s.y=h.y,this.svgRenderer.drawText(s,V.data.Text,this.gAxisTitleEle),this.svgRenderer.append(this.gAxisTitleEle,this.svgObject)):this.graphics.addVisual(this.polygon.createTextElement(this.vector.vector3D(v,a,0),L,10,10))}}},_drawMultiLevelLabel:function(c,r,u){var _,w,v,a,h,t;this.gMultiLevelEle=this.svgRenderer.createGroup({id:this.svgObject.id+"_axisMultiLevelLabels_"+c});var o,l,p,g,b,C,D,L,I,R,A,le,ne,he,se,ee,re,W,pe,M,fe,xe,O,H,te,Se,Pe,Ne,Le,Ae,Oe,z=r.multiLevelLabels.length,N=this.model,U=N.elementSpacing,J=10,Q=0,oe=0,B=N.m_AreaBounds,Z=r.visibleRange,ae=N.wallSize,de=r._opposed,_e=u.axes[r.name]._validCross,be=r.orientation.toLowerCase(),Ce=_e?r.y:B.Y+(!de&&B.Height),ke=_e?r.x:B.X+(de&&B.Width),je=[],Fe={Width:n(this.svgObject).width(),Height:n(this.svgObject).height()},$e=ej.EjSvgRender.chartTransform3D.transform3D(Fe);for($e.mViewport=Fe,$e.Rotation=0,$e.Tilt=0,$e.Depth=100,$e.PerspectiveAngle=N.perspectiveAngle,ej.EjSvgRender.chartTransform3D.transform($e),_=ej.EjSvgRender.chartTransform3D.result,w=ej.Ej3DRender.prototype.matrix3D.prototype,o=0;o<z;o++)if(b=this.svgObject.id+"_"+r.name+"MultiLevelLabels_"+c+"_"+o,""!=(g=r.multiLevelLabels[o]).text&&g.visible){if(le=g._level,ne="middle",C=g.font,Oe=g.border.width,pe=g.maximumTextWidth,Pe=g.textAlignment.toLowerCase(),W=re=g.text,R=g.textOverflow.toLowerCase(),H=ej.EjSvgRender.utils._measureText(g.text,B.Width,g.font),D=(g.start+(g.end-g.start)/2-Z.min)/Z.delta,L=(g.start-Z.min)/Z.delta,I=(g.end-Z.min)/Z.delta,r.isInversed&&(D=isNaN(D)?0:1-D,L=isNaN(L)?0:1-L,I=isNaN(I)?0:1-I),"horizontal"==be?(Q=Math.round(r.width*D)+B.X+r.plotOffset,oe=de?Ce-ae-r.majorTickLines.size-U-5-r._LableMaxWidth.height:Ce+ae+r.majorTickLines.size+U+r._LableMaxWidth.height,L=Math.round(r.width*L)+B.X+r.plotOffset,I=Math.round(r.width*I)+B.X+r.plotOffset,p=pe||I-L-J):(oe=Math.round(r.plotOffset+r.y+r.height*(1-D)),Q=de?r.x+ae+r.majorTickLines.size+r.axisLine.width+U/2+r._LableMaxWidth.width+r.prevHeight[le]+r.multiLevelLabelHeight[le]/2:ke-ae-r.majorTickLines.size-U/2-r._LableMaxWidth.width-r.prevHeight[le]-r.multiLevelLabelHeight[le]/2,L=Math.round(r.plotOffset+r.y+r.height*(1-L)),I=Math.round(r.plotOffset+r.y+r.height*(1-I)),p=pe||r.multiLevelLabelHeight[le]+J),"horizontal"==be&&(oe=de?oe-r.prevHeight[le]:oe+r.prevHeight[le]),"far"==Pe?(Q=Q+p/2-Oe/2,ne="end"):"near"==Pe&&(ne="start",Q=Q-p/2+Oe/2),re=W=(v=ej.EjAxisRenderer.prototype._triggerMultiLevelLabelsRendering(W,Q,oe,R,C,g.border,this)).text,Q=v.location.x,oe=v.location.y,R=v.textOverflow.toLowerCase(),(C=v.font).color=C.color?C.color:r.multiLevelLabelsFontColor,A=v.border.type.toLowerCase(),Oe=v.border.width,Ne={id:b,x:Q,y:oe,fill:C.color,"font-size":C.size,"font-family":C.fontFamily,"font-style":C.fontStyle,"font-weight":C.fontWeight,opacity:C.opacity,"text-anchor":ne},"none"!=R&&(re=ej.EjAxisRenderer.prototype.textOverflowMultiLevelLabels(r,p,re,W,R,C,H,{x:Q,y:oe},null,this)),"wrap"==R||"wrapandtrim"==R)for(a=oe,l=0;l<re.length;l++)H=ej.EjSvgRender.utils._measureText(re[l],null,C),0!=l&&(a=de?a-H.height:a+H.height),Ne.id=Ne.id+"_"+l,Le=ej.EjSvgRender.chartTransform3D.toScreen({x:Q,y:a+5,z:0},$e,_,w),Ne.x=Le.x,Ne.y=Le.y,this.svgRenderer.drawText(Ne,re[l],this.gMultiLevelEle);if(Q="horizontal"==be?Q:de?Q+J:Q-J,"wrap"!=R&&"wrapandtrim"!=R&&(Le=ej.EjSvgRender.chartTransform3D.toScreen({x:Q,y:oe+5,z:0},$e,_,w),Ne.x=Le.x,Ne.y=Le.y,this.svgRenderer.drawText(Ne,re,this.gMultiLevelEle)),this.model.multiLevelLabelRegions.push("horizontal"==be?{bounds:{x:L,y:oe-J,height:r.multiLevelLabelHeight[le],width:p},axisIndex:c,multiLevelLabel:g}:{bounds:{x:Q-M/2-5,y:I,height:L-I,width:M},axisIndex:c,multiLevelLabel:g}),"none"!=A&&Oe>0){for(b=this.svgObject.id+"_"+r.name+"MultiLevelLabelsBorder_"+c+"_"+o,h=oe-J+r.multiLevelLabelHeight[le]+5,t=g.border.color?g.border.color:r.multiLevelLabelsColor,"horizontal"==be?(he={x1:L,y1:oe-J,x2:I,y2:oe-J},se={x1:L,y1:h,x2:I,y2:h},ee={x1:L,y1:oe-J,x2:L,y2:h},O={x1:I,y1:oe-J,x2:I,y2:h}):(he={x1:Q-(M=r.multiLevelLabelHeight[le]-5)/2-5,y1:I,x2:Q+M/2+5,y2:I},se={x1:Q-M/2-5,y1:L,x2:Q+M/2+5,y2:L},ee={x1:Q-M/2-5,y1:I,x2:Q-M/2-5,y2:L},O={x1:Q+M/2+5,y1:I,x2:Q+M/2+5,y2:L}),Ae=0;Ae<4;Ae++){switch(Ae){case 0:fe=b+"_top",xe=he;break;case 1:fe=b+"_bottom",xe=se;break;case 2:fe=b+"_left",xe=ee;break;case 3:fe=b+"_right",xe=O}je[0]=ej.Ej3DRender.prototype.vector3D.prototype.vector3D(xe.x1,xe.y1,0),je[1]=ej.Ej3DRender.prototype.vector3D.prototype.vector3D(xe.x2,xe.y2,0),te=ej.EjSvgRender.chartTransform3D.toScreen(je[0],$e,_,w),Se=ej.EjSvgRender.chartTransform3D.toScreen(je[1],$e,_,w),this.svgRenderer.drawLine(Ne={id:fe,x1:te.x,y1:te.y,x2:Se.x,y2:Se.y,stroke:t,"stroke-width":Oe},this.gMultiLevelEle)}this.svgRenderer.append(this.gMultiLevelEle,this.svgObject)}}},_textTrim:function(c,r,u){var v,s,_=r.length;if(!(ej.EjSvgRender.utils._measureText(r,this.model.m_AreaBounds.Width,u).width>c))return r;for(s=_-1;s>=0;--s)if(v=r.substring(0,s)+"...",ej.EjSvgRender.utils._measureText(v,this.model.m_AreaBounds.Width,u).width<=c)return v},_textWrap:function(c,r,u){for(var _=r.toString().split(" "),w="",v=[],a=_.length,s="",h=0;h<a;h++)s=_[h],ej.EjSvgRender.utils._measureText(w.concat(s),this.model.m_AreaBounds.Width,u).width<c?w=w.concat((""===w?"":" ")+s):""!==w?(v.push(this._textTrim(c,w,u)),w=s):(v.push(this._textTrim(c,s,u)),s=""),w&&h===a-1&&v.push(this._textTrim(c,w,u));return v},_textWrapByLength:function(c,r,u){var a,s,_=0,w=[],v="";for(a=(r=r.toString()).length,s=0;s<=a;s++)v=0==_?r.slice(_,s):"-"+r.slice(_,s),ej.EjSvgRender.utils._measureText(v,this.model.m_AreaBounds.Width,u).width>c-5?(w.push(v),_=s++):s===a&&w.push(v);return w},_multipleRows:function(c,r,u,_){for(var w,a,s=[],t=c-1;t>=0;t--)w=_.visibleLabels[t],a=ej.EjSvgRender.utils._measureText(w.Text,this.model.m_AreaBounds.Width,_.font),r<ej.EjSvgRender.utils._valueToCoefficient(_,t)*_.width+_.x+a.width/2?(w.index=w.index?w.index:0,s.push(w.index),u.index=u.index>w.index?u.index:w.index+1):u.index=s.indexOf(w.index)>-1?u.index:w.index},_drawAxisLabel:function(c,r){for(var u,_,w,v,a,g,h=[],t=null,o=c.visibleLabels.length,l=this.model.m_AreaBounds,p=c._opposed,b=r.axes[c.name]._validCross,C=b?c.y:l.Y+(!p&&l.Height),T=b?c.x:l.X+(p&&l.Width),D=0;D<o;D++)if(!ej.util.isNullOrUndefined(c.visibleLabels[D].Text)){var F,A,L=0,I=0;if(c.visibleLabels[D].originalText=c.visibleLabels[D].Text,_=ej.EjSvgRender.utils._measureText(c.visibleLabels[D].Text,this.model.m_AreaBounds.Width,c.font),w=(c.visibleLabels[D].Value-c.visibleRange.min)/c.visibleRange.delta,w=c.isInversed?1-w:w,w=isNaN(w)?0:w,"horizontal"==c.orientation.toLowerCase()?(L=Math.round(c.width*w)+this.model.m_AreaBounds.X+c.plotOffset,I=p?C-this.model.wallSize-c.majorTickLines.size-this.model.elementSpacing/2:C+this.model.wallSize+c.majorTickLines.size+this.model.elementSpacing,u="middle"):(I=Math.round(c.plotOffset+c.y+_.height/4+c.height*(1-w)),L=p?c.x+c.majorTickLines.size+c.axisLine.width+this.model.elementSpacing/2:T-this.model.wallSize-c.majorTickLines.size-this.model.elementSpacing/2,u=p?"start":"end"),h.push({x:L,y:I,size:_}),v=c.width/c.visibleLabels.length-5,((a=h[D]).x-a.size.width/2<c.x&&0===D||a.x+a.size.width/2>c.x+c.width&&D===c.visibleLabels.length-1)&&"trim"!=c.labelIntersectAction&&c.labelIntersectAction.indexOf("wrap")<0){if("hide"===c.edgeLabelPlacement)continue;"shift"===c.edgeLabelPlacement&&(0==D?a.x=L=c.x+a.size.width/2:D==c.visibleLabels.length-1&&(a.x=L=c.x+c.width-a.size.width/2))}if("horizontal"==c.orientation.toLowerCase())if(c.labelRotation)t=c.labelRotation,I+=ej.EjSvgRender.utils.rotatedLabel(c,this,c.labelRotation,c.visibleLabels[D].Text,!0).height/2;else if("trim"==c.labelIntersectAction)c.visibleLabels[D].Text=this._textTrim(v,c.visibleLabels[D].Text,c.font);else if("wrapByWord"==c.labelIntersectAction)c.visibleLabels[D].Text=this._textWrap(v,c.visibleLabels[D].Text,c.font);else if("wrap"==c.labelIntersectAction)c.visibleLabels[D].Text=this._textWrapByLength(v,c.visibleLabels[D].Text,c.font);else if("rotate45"==c.labelIntersectAction||"rotate90"==c.labelIntersectAction)t=c.labelIntersectAction.indexOf("45")>-1?45:90,I+=ej.EjSvgRender.utils.rotatedLabel(c,this,t,c.visibleLabels[D].Text,!0).height/2;else if("multipleRows"===c.labelIntersectAction)F=a.x,this._multipleRows(D,F-=_.width/2,c.visibleLabels[D],c),I=c.visibleLabels[D].index?I+c.visibleLabels[D].index*(_.height+5):I;else if("hide"===c.labelIntersectAction){if(A=A||0,0!=D&&h[A].x+h[A].size.width/2>=h[D].x-h[D].size.width/2)continue;A=D}g={Width:_.width,Height:_.height,Label:c.visibleLabels[D],TextAnchor:u,tag:"text",font:c.font,id:this.svgObject.id+c.orientation+D,child:this.chart3D,Angle:t},this.graphics.addVisual(this.polygon.createTextElement(this.vector.vector3D(L,I,0),g,10,10))}},_renderTicks3D:function(c,r,u,_){for(var w,v,a,h,s=c.visibleLabels.length,t=this.model.m_AreaBounds,l=0;l<s;l++){var p=0,g=0,b=0,C=0,T=(c.visibleLabels[l].Value-c.visibleRange.min)/c.visibleRange.delta;if(T=c.isInversed?1-T:T,T=isNaN(T)?0:T,"horizontal"==c.orientation.toLowerCase()?g=p=Math.round(c.width*T)+t.X+c.plotOffset:b=C=Math.round(c.plotOffset+c.height*(1-T)+c.y),v=this._calculatePosition3D(c,c.tickLinesPosition,r,u,p,b,g,C,_),(a={width:c.majorTickLines.width,stroke:c.majorTickLines.color,child:this.chart3D,tag:"line"}).id=this.svgObject.id+c.name+"_majorTickLines_"+l,this.graphics.addVisual(this.polygon.createLine(a,v.X1,v.Y1,v.X2,v.Y2,0)),c.minorGridLines.visible&&c.minorTicksPerInterval>0&&l<s-1)for(h=c.visibleRange.interval/(c.minorTicksPerInterval+1),w=0;w<c.minorTicksPerInterval;w++)T=ej.EjSvgRender.utils._valueToCoefficient(c,c.visibleLabels[l].Value+h*(w+1)),T=isNaN(T)?0:T,"horizontal"==c.orientation.toLowerCase()?p=g=Math.round(c.plotOffset+t.Width*T+t.X):b=C=Math.round(c.plotOffset+t.Height*(1-T))+c.y,v=this._calculatePosition3D(c,c.tickLinesPosition,r,u,p,b,g,C,_),(a={width:c.minorTickLines.width,stroke:c.minorTickLines.color,child:this.chart3D,tag:"line"}).id=this.svgObject.id+c.name+"_minorTickLines_"+l+w,this.graphics.addVisual(this.polygon.createLine(a,v.X1,v.Y1,v.X2,v.Y2,0))}},_calculatePosition3D:function(c,l,u,_,w,v,a,s,h){var T,D,o=c._opposed,p=(l="outside",this.model.m_AreaBounds),g=h.axes[c.name]._validCross,b=g?c.y:p.Y+(!o&&p.Height),C=g?c.x:p.X+(o&&p.Width);if("horizontal"==c.orientation.toLowerCase()){switch(l){case"inside":v=o?_:0,s=o?v+u:u;break;case"outside":v=0,s=o?u:v+u}T=c.x,v+=D=o?b-this.model.wallSize-u:b+this.model.wallSize-u/2,s+=D,w=a=w}else{switch(l){case"inside":w=0,a=o?u:w+u;break;case"outside":w=0,a=o?w+u:u}D=this.model.m_AreaBounds.Y,w+=T=o?C+this.model.wallSize:C-this.model.wallSize-u,a+=T,v=s=v}return{X1:w,Y1:v,X2:a,Y2:s}},_drawGridLines3D:function(c,r){var u,_,v,a,s,t,o;if(null!=c){var p,T,D,L,I,l=c.visibleLabels.length,g=c._opposed,C=r.axes[c.name]._validCross;if("horizontal"==c.orientation.toLowerCase())for(_=0;_<l;_++){s=ej.EjSvgRender.utils._valueToCoefficient(c,c.visibleLabels[_].Value),s=isNaN(s)?0:s,D=T=Math.round(c.width*s)+this.model.m_AreaBounds.X+c.plotOffset,L=this.model.m_AreaBounds.Y,I=this.model.m_AreaBounds.Y+this.model.m_AreaBounds.Height;var h,w=this.model.depth>2?this.model.depth-2:1,V=C?c.y:this.model.m_AreaBounds.Y+(!g&&this.model.m_AreaBounds.Height);if((h={opacity:c.majorGridLines.opacity,width:c.majorGridLines.width,stroke:c.majorGridLines.color,child:this.chart3D,tag:"line"}).id=this.svgObject.id+c.name+"_gridlines_"+_,this.graphics.addVisual(this.polygon.createLine(h,T,L,D,I,w)),(u=n.extend({},h)).id=this.svgObject.id+c.name+"_parallelGridlines_"+_,o=this.polygon.createLine(u,D,0,D,-w,V),this.polygon.transform(this.matrixobj.tilt(parseFloat(Math.PI/2)),o),this.graphics.addVisual(o),c.minorGridLines.visible&&c.minorTicksPerInterval>0&&_<l-1)for(p=c.visibleRange.interval/(c.minorTicksPerInterval+1),a=0;a<c.minorTicksPerInterval;a++)s=ej.EjSvgRender.utils._valueToCoefficient(c,c.visibleLabels[_].Value+p*(a+1)),s=isNaN(s)?0:s,D=T=Math.round(this.model.m_AreaBounds.Width*s)+this.model.m_AreaBounds.X,L=this.model.m_AreaBounds.Y,I=this.model.m_AreaBounds.Y+this.model.m_AreaBounds.Height,(h={opacity:c.minorGridLines.opacity,width:c.minorGridLines.width,stroke:c.minorGridLines.color,child:this.chart3D,tag:"line"}).id=this.svgObject.id+c.name+"_minorgridlines_"+_+a,this.graphics.addVisual(this.polygon.createLine(h,T,L,D,I,w)),(u=n.extend({},h)).id=this.svgObject.id+c.name+"_parallelMinorGridlines_"+_+a,o=this.polygon.createLine(u,D,0,D,-w,V),this.polygon.transform(this.matrixobj.tilt(parseFloat(Math.PI/2)),o),this.graphics.addVisual(o)}else for(_=0;_<l;_++)if(s=(c.visibleLabels[_].Value-c.visibleRange.min)/c.visibleRange.delta,s=c.isInversed?1-s:s,s=isNaN(s)?0:s,T=this.model.m_AreaBounds.X,L=Math.round(c.height*(1-s))+.5,D=T+this.model.m_AreaBounds.Width,I=L+=c.y,w=this.model.depth>2?this.model.depth-2:1,(h={opacity:c.majorGridLines.opacity,width:c.majorGridLines.width,stroke:c.majorGridLines.color,axisName:c.name,child:this.chart3D,tag:"line"}).id=this.svgObject.id+c.name+"_gridlines_"+_,this.graphics.addVisual(this.polygon.createLine(h,T,L,D,I,w)),v=C?c.x:this.model.m_AreaBounds.X+(g&&this.model.m_AreaBounds.Width+1),(t=n.extend({},h)).id=this.svgObject.id+c.name+"_parallelGridlines_"+_,o=this.polygon.createLine(t,-w,I,0,I,v),this.polygon.transform(this.matrixobj.turn(parseFloat(-Math.PI/2)),o),this.graphics.addVisual(o),c.minorGridLines.visible&&c.minorTicksPerInterval>0&&_<l-1)for(p=c.visibleRange.interval/(c.minorTicksPerInterval+1),a=0;a<c.minorTicksPerInterval;a++)s=ej.EjSvgRender.utils._valueToCoefficient(c,c.visibleLabels[_].Value+p*(a+1)),s=isNaN(s)?0:s,T=this.model.m_AreaBounds.X,L=Math.round(c.height*(1-s))+.5,D=T+this.model.m_AreaBounds.Width,I=L+=c.y,(h={opacity:c.minorGridLines.opacity,width:c.minorGridLines.width,stroke:c.minorGridLines.color,axisName:c.name,child:this.chart3D,tag:"line"}).id=this.svgObject.id+c.name+"_minorgridlines_"+_+a,this.graphics.addVisual(this.polygon.createLine(h,T,L,D,I,w)),(t=n.extend({},h)).id=this.svgObject.id+c.name+"_parallelMinorGridlines_"+_+a,o=this.polygon.createLine(t,-w,I,0,I,v),this.polygon.transform(this.matrixobj.turn(parseFloat(-Math.PI/2)),o),this.graphics.addVisual(o)}}},ej.Ej3DSeriesRender.prototype={_getSegmentDepth:function(c){var u,_,r=this.chartObj.model.depth;if(this.chartObj.model._sideBySideSeriesPlacement)u=w=r/4,_=3*w;else{var w,a=c.all;_=(u=(w=r/(2*a+a+1))+w*(c.position-1)*3)+2*w}return{Start:u,End:_,Delta:_-u}},createSegment:function(c,r,u,_,w,v,a,s,h){return{StartValue:r,EndValue:u,depth:_,radius:w,index:v,YData:a,Center:c,inSideRadius:s,ActualEndValue:u,ActualStartValue:r,pointIndex:h}},calculateSize:function(c,r){var g,b,C,u=c.chartObj.model.legend,_=0,w=0,v=c.chartObj.model.title,a=c.chartObj.model.title.subTitle,s=c.chartObj.model._titleLocation,h=c.chartObj.model._subTitleLocation,t=c.chartObj.model.title.textOverflow,o=c.chartObj.model.title.subTitle.textOverflow,l=!(!(v.text&&v.visible&&v.enableTrim)||"wrap"!=t&&"wrapandtrim"!=t),p=!(!(a.text&&a.visible&&a.enableTrim)||"wrap"!=o&&"wrapandtrim"!=o);return u.visible&&"custom"!=u.position.toLowerCase()&&("right"==u.position.toLowerCase()||"left"==u.position.toLowerCase()?_=("right"==u.position.toLowerCase()?c.chartObj.model.margin.right:c.chartObj.model.margin.left)+c.chartObj.model.LegendViewerBounds.Width:w=("top"==u.position.toLowerCase()?c.chartObj.model.margin.top:c.chartObj.model.margin.bottom)+c.chartObj.model.LegendViewerBounds.Height),r.actualWidth=n(c.chartObj.svgObject).width()-_,g=.5*r.actualWidth+("left"===u.position.toLowerCase()?_:0),l||p?(b=s.size.height+(p?h.size.height:0)+w,r.actualHeight=n(c.chartObj.svgObject).height()-b,C=.5*r.actualHeight+("top"===u.position.toLowerCase()?b:s.size.height+(p?h.size.height:0))):(b=(v.text&&v.visible?s.Y:0)+w,r.actualHeight=n(c.chartObj.svgObject).height()-b,C=.5*r.actualHeight+("top"===u.position.toLowerCase()?b:v.text&&v.visible?s.Y:0)),{centerX:g,centerY:C}},createPoints:function(c,r){var u,_;c.segments=[];var w=this.calculateSize(r,c),v=0,a=this._calculateVisiblePoints(c).visiblePoints,s=c._visiblePoints.length;for(u=0;u<s;u++)v+=a[u].YValues[0];var b,L,I,R,V,F,h=360/(v=0!=v?v:1),t=n.inArray(c,r.chartObj.model._visibleSeries),l=r.chartObj.model.innerRadius[t],p=r.chartObj._getYValues(c._visiblePoints),g=r.chartObj.model.depth,C=0,T=0,D=0,A=0,z=r.chartObj.model.circularRadius[t];for(_=0;_<s;_++)(c._visiblePoints[_].visible||c._visiblePoints[_].gapMode)&&(L=n.inArray(c._visiblePoints[_],c._visiblePoints),I=Math.abs(p[_]),T=Math.abs(I)*(2*Math.PI/v),(R={}).x=0,R.y=0,ej.util.isNullOrUndefined(I)||((c.explodeIndex==c._visiblePoints[_].actualIndex||c.explodeAll)&&((V={X:0,Y:0}).X=Math.cos(2*Math.PI*(D+I/2)/v),V.Y=Math.sin(2*Math.PI*(D+I/2)/v),R.x=.01*z*V.X*c.explodeOffset,R.y=.01*z*V.Y*c.explodeOffset),b=r.chartObj.vector.vector3D(R.x+w.centerX,R.y+w.centerY,0),(F=this.createSegment(b,parseFloat(h*D),parseFloat(h*I),g,z,_,I,l,L,c)).visible=!c._visiblePoints[_].gapMode,c.segments.push(F)),c.marker.dataLabel.visible&&this._addPieDataLabel(A,p[_],C,C+T,_,z,this._isChartRotated(r)?r.chartObj.model.depth+5:0,b,c._visiblePoints[_]),A++,C+=T,D+=I);return c.segments},_addPieDataLabel:function(c,r,u,_,w,v,a,s,h){var t=(u+_)/2;h.symbolLocation={x:0,y:0,radius:0,angle:0,StartDepth:0},h.symbolLocation.x=c,h.symbolLocation.y=r,h.symbolLocation.radius=v,h.symbolLocation.angle=t,h.symbolLocation.center=s,h.startDepth=a},_isChartRotated:function(c){var r=Math.abs(c.chartObj.model.tilt%360),u=Math.abs(c.chartObj.model.rotattion%360);return!!((r>90&&r<270)^(u>90&&u<270))},createSector:function(c,r,u,_){var t,o,l,p,g,b,C,T,D,L,I,R,w=parseInt(Math.ceil(c.ActualEndValue/6)),v=Math.PI/180,a=0,s=[],h=r.chartObj.model.depth;if(w<1)return null;var V=[],F=c.ActualEndValue/w,A=[],z=[];for(L=0;L<w+1;L++)t=parseFloat(c.Center.x+c.radius*Math.cos((c.ActualStartValue+L*F)*v)),o=parseFloat(c.Center.y+c.radius*Math.sin((c.ActualStartValue+L*F)*v)),A[L]={X:t,Y:o},l=parseFloat(c.Center.x+c.inSideRadius*Math.cos((c.ActualStartValue+L*F)*v)),p=parseFloat(c.Center.y+c.inSideRadius*Math.sin((c.ActualStartValue+L*F)*v)),z[L]={X:l,Y:p},s.push({X:t,Y:o});for(g=[],L=0;L<w;L++)b=[r.chartObj.vector.vector3D(A[L].X,A[L].Y,0),r.chartObj.vector.vector3D(A[L].X,A[L].Y,h),r.chartObj.vector.vector3D(A[L+1].X,A[L+1].Y,h),r.chartObj.vector.vector3D(A[L+1].X,A[L+1].Y,0)],g[L]=r.chartObj.polygon.polygon3D(b,this,c.index,u.borderColor,u.borderWidth,u.opacity,u.interior,a.toString()+"_Region_Series_"+_+"_Point_"+c.index,r.chartObj.chart3D),a++;if(V[1]=g,c.inSideRadius>0){for(C=[],L=0;L<w;L++)b=[r.chartObj.vector.vector3D(z[L].X,z[L].Y,0),r.chartObj.vector.vector3D(z[L].X,z[L].Y,h),r.chartObj.vector.vector3D(z[L+1].X,z[L+1].Y,h),r.chartObj.vector.vector3D(z[L+1].X,z[L+1].Y,0)],C[L]=r.chartObj.polygon.polygon3D(b,this,c.index,u.borderColor,u.borderWidth,u.opacity,u.interior,a.toString()+"_Region_Series_"+_+"_Point_"+c.index,r.chartObj.chart3D),a++;V[3]=C}for(T=[],D=[],L=0;L<w+1;L++)T.push(r.chartObj.vector.vector3D(A[L].X,A[L].Y,0)),D.push(r.chartObj.vector.vector3D(A[L].X,A[L].Y,h));if(c.inSideRadius>0)for(L=w;L>-1;L--)T.push(r.chartObj.vector.vector3D(z[L].X,z[L].Y,0)),D.push(r.chartObj.vector.vector3D(z[L].X,z[L].Y,h));else T.push(c.Center),D.push(r.chartObj.vector.vector3D(c.Center.x,c.Center.y,h));return V[0]=[],V[0].push(r.chartObj.polygon.polygon3D(T,this,c.index,u.borderColor,u.borderWidth,u.opacity,u.interior,a.toString()+"_Region_Series_"+_+"_Point_"+c.index,r.chartObj.chart3D)),a++,V[0].push(r.chartObj.polygon.polygon3D(D,this,c.index,u.borderColor,u.borderWidth,u.opacity,u.interior,a.toString()+"_Region_Series_"+_+"_Point_"+c.index,r.chartObj.chart3D)),a++,c.inSideRadius>0?(I=[r.chartObj.vector.vector3D(A[0].X,A[0].Y,0),r.chartObj.vector.vector3D(A[0].X,A[0].Y,h),r.chartObj.vector.vector3D(z[0].X,z[0].Y,h),r.chartObj.vector.vector3D(z[0].X,z[0].Y,0)],R=[r.chartObj.vector.vector3D(A[w].X,A[w].Y,0),r.chartObj.vector.vector3D(A[w].X,A[w].Y,h),r.chartObj.vector.vector3D(z[w].X,z[w].Y,h),r.chartObj.vector.vector3D(z[w].X,z[w].Y,0)],V[2]=[],V[2].push(r.chartObj.polygon.polygon3D(I,this,c.index,u.borderColor,u.borderWidth,u.opacity,u.interior,a.toString()+"_Region_Series_"+_+"_Point_"+c.index,r.chartObj.chart3D)),a++,V[2].push(r.chartObj.polygon.polygon3D(R,this,c.index,u.borderColor,u.borderWidth,u.opacity,u.interior,a.toString()+"_Region_Series_"+_+"_Point_"+c.index,r.chartObj.chart3D)),a++):(I=[r.chartObj.vector.vector3D(A[0].X,A[0].Y,0),r.chartObj.vector.vector3D(A[0].X,A[0].Y,h),r.chartObj.vector.vector3D(c.Center.x,c.Center.y,h),r.chartObj.vector.vector3D(c.Center.x,c.Center.y,0)],R=[r.chartObj.vector.vector3D(A[w].X,A[w].Y,0),r.chartObj.vector.vector3D(A[w].X,A[w].Y,h),r.chartObj.vector.vector3D(c.Center.x,c.Center.y,h),r.chartObj.vector.vector3D(c.Center.x,c.Center.y,0)],V[2]=[],V[2].push(r.chartObj.polygon.polygon3D(I,this,c.index,u.borderColor,u.borderWidth,u.opacity,u.interior,a.toString()+"_Region_Series_"+_+"_Point_"+c.index,r.chartObj.chart3D)),a++,V[2].push(r.chartObj.polygon.polygon3D(R,this,c.index,u.borderColor,u.borderWidth,u.opacity,u.interior,a.toString()+"_Region_Series_"+_+"_Point_"+c.index,r.chartObj.chart3D)),a++),V},createPolygons:function(c,r,u){var _,v,a,s,h,t,l,p,g,b,w=[],o=n.inArray(c,r.chartObj.model._visibleSeries);for(h=(_=c.segments&&u?c.segments:this.createPoints(c,r)).length,l=0;l<h;l++)if((v=_[l]).visible&&(a=r.chartObj.setStyle(r,c,o,s=_[l].pointIndex),"object"==typeof r.chartObj.model.pointColors[s]&&(a.interior=r.chartObj.model.pointColors[s][0].color),null!=(t=this.createSector(v,r,a,o))))for(g=0;g<t.length;g++)if(w[g]||(w[g]=[]),null!=t[g])for(p=0;p<t[g].length;p++)w[g].push(t[g][p]);if(u)return w;for(g=0;g<w.length;g++)for(b=0;b<w[g].length;b++)r.chartObj.graphics.addVisual(w[g][b])},draw3DDataLabel:function(c,r,u){var v,h,p,g,D,L,_=c.marker.dataLabel.connectorLine.height,t=0,o=0;if("number"==typeof c.marker.dataLabel.offset?o=c.marker.dataLabel.offset:(t=c.marker.dataLabel.offset.x,o=c.marker.dataLabel.offset.y),"none"==this.chartObj.model.AreaType){Q={x:0,y:0};var R=u.text?u.text:u.y,V=n.inArray(c,this.chartObj.model.series),C=ej.EjSvgRender.utils._measureText(R,null,c.marker.dataLabel.font);if("doughnut"==c.type.toLowerCase()||"pie"==c.type.toLowerCase()){Math.min(c.actualWidth,c.actualHeight);var A=u.symbolLocation.center,z=(t=c.marker.dataLabel.offset.x,o=c.marker.dataLabel.offset.y,u.symbolLocation.radius*c._coefficient);ej.util.isNullOrUndefined(_)&&(_=ej.EjSvgRender.utils._measureText(R,null,c.marker.dataLabel.font).height),null!=c&&"inside"!=c.labelPosition?v=u.symbolLocation.radius+_:null!=c&&(v=z+(u.symbolLocation.radius-z)/2),"inside"!=c.labelPosition?(p=v*Math.cos(u.symbolLocation.angle),g=v*Math.sin(u.symbolLocation.angle),a=Q.X=p>0?A.x+p+C.width/2+2:A.x+p-C.width/2-2,s=Q.Y=g>0?A.y+g+C.height/2:A.y+g):(a=Q.X=A.x+v*Math.cos(u.symbolLocation.angle)+t,s=Q.Y=A.y+v*Math.sin(u.symbolLocation.angle)+o),(b=n.extend({},ej.EjSvgRender.commonChartEventArgs)).data={text:R,location:{x:a,y:s},series:c,pointIndex:r,seriesIndex:V},this.chartObj._trigger("displayTextRendering",b),b.data.Text=b.data.text,C=ej.EjSvgRender.utils._measureText(b.data.Text,null,c.marker.dataLabel.font),a=Q.X=b.data.location.x,s=Q.Y=b.data.location.y}}else{var N=c.yAxis.labelFormat?c.yAxis.labelFormat:"";V=n.inArray(c,this.chartObj.model.series),R=u.text?u.text:u.y,N&&(N.indexOf("{value}")>-1?R=N.replace("{value}",u.y):0==N.indexOf("e")||0==N.indexOf("E")?(h=N.match(/(\d+)/g),R=u.y.toExponential(h=null==h?6:h>20?20:h)):R=ej.globalize.format(u.y,N,this.chartObj.model.locale));var J=0,b=n.extend({},ej.EjSvgRender.commonChartEventArgs),Q=(C=ej.EjSvgRender.utils._measureText(R,null,c.marker.dataLabel.font),ej.EjSvgRender.utils.Transform3DToVisible(c,u.symbolLocation.x,u.symbolLocation.y,this.chartObj)),s=(_=c.marker.dataLabel.connectorLine.height?c.marker.dataLabel.connectorLine.height:0,Q.Y),a=Q.X;this.chartObj.model.requireInvertedAxes?(a=u.x>0?Q.X-Math.sin(4.71)*_:Q.X+Math.sin(4.71)*_,J=-C.height/3):s=u.y>0?Q.Y+Math.sin(4.71)*_:Q.Y+Math.sin(-4.71)*_,b.data={text:R,location:{x:a=Q.X+t,y:s="bottom"==c.marker.dataLabel.textPosition?Q.Y+o:Q.Y-o},series:c,pointIndex:r},b.data.Text=b.data.text,this.chartObj._trigger("displayTextRendering",b),a=b.data.location.x,s=b.data.location.y}this._getSegmentDepth(c),"none"==c.marker.dataLabel.shape.toLowerCase()||u.marker.dataLabel.template||""==b.data.Text||(D={tag:"dataLabel",series:c,point:u,pointIndex:r,id:this.chartObj.svgObject.id+V+"_DataLabel"+r,child:this.chartObj.chart3D},this.chartObj.graphics.addVisual(this.chartObj.polygon.createTextElement(this.chartObj.vector.vector3D(a,s,u.symbolLocation.z?u.symbolLocation.z:0),D,0,-C.height))),D={Width:C.width,Height:C.height,Label:b.data,TextAnchor:"middle",tag:u.marker.dataLabel.template?"template":"text",font:c.marker.dataLabel.font,Angle:c.marker.dataLabel.angle,id:this.chartObj.svgObject.id+"_SeriesText"+r+V,child:this.chartObj.chart3D},"none"!=this.chartObj.model.AreaType?(c.marker.dataLabel.connectorLine.height&&c.marker.dataLabel.connectorLine.height>0&&((L=[]).push({x:Q.X,y:Q.Y+J,z:u.symbolLocation.z}),L.push({x:a,y:s+J,z:u.symbolLocation.z}),this.drawLineSegment(L,r,c)),this.chartObj.graphics.addVisual(this.chartObj.polygon.createTextElement(this.chartObj.vector.vector3D(a,s,u.symbolLocation.z),D,0,-C.height))):("inside"!=c.labelPosition.toLowerCase()&&this.updateConnectorLine(u,r,c,Q,_),this.chartObj.graphics.addVisual(this.chartObj.polygon.createTextElement(this.chartObj.vector.vector3D(Q.X,Q.Y,-1),D,0,-C.height)))},updateConnectorLine:function(c,r,u,_,w){var t,v=[],a=c.symbolLocation,s=a.center.x+Math.cos(a.angle)*a.radius,h=a.center.y+Math.sin(a.angle)*a.radius;v.push({x:s,y:h}),t=a.radius+w,s=a.center.x+Math.cos(a.angle)*t,h=a.center.y+Math.sin(a.angle)*t,v.push({x:s,y:h}),"bezier"==u.marker.dataLabel.connectorLine.type&&(v=this.getBezierApproximation(v,256,u)),this.drawLineSegment(v,r,u)},getBezierApproximation:function(c,r,u){for(var w=[],v=0;v<=r;v++)w.push(this.GetBezierPoint(v/r,c,0,c.length,u));return w},drawLineSegment:function(c,r,u){for(var _=[],w=0;w<c.length;w++)_.push(this.chartObj.vector.vector3D(c[w].x,c[w].y,c[w].z?c[w].z:0));var v=n.inArray(u,this.chartObj.model._visibleSeries);this.chartObj.graphics.addVisual(this.chartObj.polygon.createPolyline(_,{width:u.marker.dataLabel.connectorLine.width,stroke:u.marker.dataLabel.connectorLine.stroke?u.marker.dataLabel.connectorLine.stroke:"none"==this.chartObj.model.AreaType?this.chartObj.model.pointColors[r]:this.chartObj.model.seriesColors[v],child:this.chartObj.chart3D,tag:"polyline",id:this.chartObj.svgObject.id+"_"+v+"_"+r}))}},ej.ejCircularSeries={draw:function(c,r,u){var v,w=n.inArray(c,r.chartObj.model._visibleSeries);if(r._calculateVisiblePoints(c),r.calculateSize(r,c),"pie"==u?(c._size=c.pieCoefficient,c._coefficient=0==w?0:c._size):(c._size=c.doughnutSize,c._coefficient=c.doughnutCoefficient),r.chartObj.model.circularRadius.length>1){for(v=w;v<r.chartObj.model.circularRadius.length;v++)if(!ej.util.isNullOrUndefined(r.chartObj.model.circularRadius[v])){r.chartObj.model.circularRadius[w]=r.chartObj.model.circularRadius[v]*c._size;break}}else r.chartObj.model.circularRadius[w]=.97*Math.min(c.actualWidth/2,c.actualHeight/2)*c._size;r.chartObj.model.innerRadius[w]=c._coefficient*r.chartObj.model.circularRadius[w],r.createPolygons(c,r)},doAnimation:function(c,r){c.count=0,n.each(c.segments,function(_,w){var v=w.radius,a=w.inSideRadius;c.animate=!0,n(r.chartObj.element).each(function(){w.radius=0,w.inSideRadius=0}).animate({Radius:v,InsideRadius:a},{duration:1e3,queue:!1,step:function(s,h){var t,o,l;for("Radius"===h.prop.toString()?w.radius=s:w.inSideRadius=s,t=r.createPolygons(c,r,!0),o=0;o<t.length;o++)for(l=0;l<t[o].length;l++)r.chartObj.polygon.update(t[o][l].VectorPoints,t[o][l],r)},complete:function(){r.chartObj.model.AnimationComplete=!0;var s=n.extend({},ej.EjSvgRender.commonChartEventArgs);s.data={series:c},r.chartObj._trigger("animationComplete",s)}})})}},ej.series3DTypes.doughnut=ej.ejCircularSeries,ej.series3DTypes.pie=ej.ejCircularSeries,ej.ej3DStackingColumn={draw:function(c,r,u,_){var v,w=r._isVisiblePoints(c);for(this.createSegments(c,r,_),v=0;v<w.length;v++)w[v].visible&&(c._visiblePoints[v].plans=null,ej.ej3DColumnSeries.update(c,c._visiblePoints[v],v,r))},createSegments:function(c,r,u){var w,v,a,s,h,_=r.chartObj._getXValues(c._visiblePoints);if(null!=_)for(v=r.getSideBySideInfo(c,u),a=r._getSegmentDepth(c),w=v.Delta/2,s=r._isVisiblePoints(c),h=0;h<s.length;h++){var t=_[h]+v.Start,l=c.stackedValue.StartValues[h],p=c.stackedValue.EndValues[h];if(ej.ej3DColumnSeries._setData(t,p,_[h]+v.End,l,a.Start,a.End,r,s[h]),c.marker.dataLabel.visible)switch(s[h].symbolLocation={x:0,y:0,z:0},c.marker.dataLabel.textPosition){case"top":s[h].symbolLocation.x=t+w,s[h].symbolLocation.y=p,s[h].symbolLocation.z=a.Start+a.Delta/2;break;case"bottom":s[h].symbolLocation.x=t+w,s[h].symbolLocation.y=l-.2,s[h].symbolLocation.z=a.Start+(a.End-a.Start)/2;break;default:s[h].symbolLocation.x=t+w,s[h].symbolLocation.y=p+(l-p)/2,s[h].symbolLocation.z=a.Start}}},doAnimation:function(c,r){n.each(c._visiblePoints,function(_,w){var v=w.Top,a=w.Bottom;n(w).each(function(){w.Top=0,w.Bottom=0}).animate({Top:v,Bottom:a},{duration:1200,queue:!1,step:function(s,h){"Top"===h.prop.toString()&&(w.Top=s),"Bottom"===h.prop.toString()&&(w.Bottom=s),ej.ej3DColumnSeries.update(c,w,_,r)},complete:function(){r.chartObj.model.AnimationComplete=!0;var s=n.extend({},ej.EjSvgRender.commonChartEventArgs);s.data={series:c},r.chartObj._trigger("animationComplete",s)}})})}},ej.series3DTypes.stackingcolumn=ej.ej3DStackingColumn,ej.series3DTypes.stackingbar=ej.ej3DStackingColumn,ej.series3DTypes.stackingbar100=ej.ej3DStackingColumn,ej.series3DTypes.stackingcolumn100=ej.ej3DStackingColumn,ej.ej3DColumnSeries={draw:function(c,r,u,_){var v,w=r._isVisiblePoints(c);for(this.createSegments(c,r,_),v=0;v<w.length;v++)w[v].visible&&(c._visiblePoints[v].plans=null,this.update(c,c._visiblePoints[v],v,r))},update:function(c,r,u,_){var b,C,w=c.xAxis._valueType.toLowerCase(),v=n.inArray(c,_.chartObj.model._visibleSeries),a="logarithmic"==w?null:1,s="logarithmic"==w,h=s?Math.log(r.Left,a):r.Left,t=s?Math.log(r.Right,a):r.Right,o=c.yAxis.visibleRange.min,l=c.yAxis.visibleRange.max,p=c.xAxis.visibleRange.min,g=c.xAxis.visibleRange.max;if(h>=p&&h<=g||t>=p&&t<=g){b=r.Top<0?r.Top>o?r.Top:o:c.yAxis.valueType&&"logarithmic"==c.yAxis.valueType.toLowerCase()||r.Top<l?r.Top:l;var T=ej.EjSvgRender.utils.Transform3DToVisible(c,r.Left>p?r.Left:p,b,_.chartObj),D=ej.EjSvgRender.utils.Transform3DToVisible(c,g>r.Right?r.Right:g,o>r.Bottom?o:r.Bottom,_.chartObj),L=_.chartObj.vector.vector3D(Math.min(T.X,D.X),Math.min(T.Y,D.Y),r.StartDepth),I=_.chartObj.vector.vector3D(Math.max(T.X,D.X),Math.max(T.Y,D.Y),r.EndDepth),R=_.chartObj.setStyle(_,c,v,u);R.interior.indexOf("url")>=0&&(R.interior=_.chartObj.model.seriesColors[v][0].color),C="Region_Series_"+v+"_Point_"+u,"cylinder"==c.columnFacet?_.chartObj.polygon.createCylinder(L,I,this,u,c.type,R.borderColor,R.interior,R.borderWidth,R.opacity,_.chartObj.model.requireInvertedAxes,C,_.chartObj.chart3D):"rectangle"==c.columnFacet&&_.chartObj.polygon.createBox(L,I,this,u,c.type,R.borderColor,R.interior,R.borderWidth,R.opacity,_.chartObj.model.requireInvertedAxes,C,_.chartObj.chart3D)}},_setData:function(){var c=arguments,r=arguments[arguments.length-1],u=arguments[arguments.length-2];r.Left=c[0],r.Bottom=c[3],r.Top=c[1],r.Right=c[2],r.StartDepth=c[4],r.EndDepth=c[5],r.XRange=u.getDoubleRange(r.Left,r.Right),isNaN(r.Top)||isNaN(r.Bottom)||(r.YRange=u.getDoubleRange(r.Top,r.Bottom))},createSegments:function(c,r,u){var v,_=r.chartObj._getXValues(c._visiblePoints),w=r.chartObj._getYValues(c._visiblePoints);if(null!=_){var a=r.getSideBySideInfo(c,u),s=r._getSegmentDepth(c),h=r.chartObj._getXCrossValue(c,c.xAxis,u),t=a.Delta/2,o=c._visiblePoints;for(v=0;v<o.length;v++){var g=_[v]+a.Start,C=w[v],T=h;if(this._setData(g,C,_[v]+a.End,T,s.Start,s.End,r,o[v]),c.marker.dataLabel.visible)switch(o[v].symbolLocation={x:0,y:0,z:0},c.marker.dataLabel.textPosition){case"top":o[v].symbolLocation.x=g+t,o[v].symbolLocation.y=C,o[v].symbolLocation.z=s.Start;break;case"bottom":o[v].symbolLocation.x=g+t,o[v].symbolLocation.y=T-.2,o[v].symbolLocation.z=s.Start+(s.End-s.Start)/2;break;default:o[v].symbolLocation.x=g+t,o[v].symbolLocation.y=Math.abs(T-C)/2,o[v].symbolLocation.z=s.Start}}}},doAnimation:function(c,r){var u=this;n.each(c._visiblePoints,function(_,w){var v=w.Top;n(w).each(function(){w.Top=0}).animate({Top:v},{duration:1200,queue:!1,step:function(a,s){"Top"===s.prop.toString()&&(w.Top=a),u.update(c,w,_,r)},complete:function(){r.chartObj.model.AnimationComplete=!0;var a=n.extend({},ej.EjSvgRender.commonChartEventArgs);a.data={series:c},r.chartObj._trigger("animationComplete",a)}})})}},ej.series3DTypes.column=ej.ej3DColumnSeries,ej.series3DTypes.bar=ej.ej3DColumnSeries,ej.Ej3DChart.prototype={renderSeries:function(c,_,u){var w,v,a,s;ej.Ej3DSeriesRender.prototype.chartObj=c,n.extend(ej.Ej3DSeriesRender.prototype,ej.EjSeriesRender.prototype),w=new ej.Ej3DSeriesRender,(v=n.extend({},ej.EjSvgRender.commonChartEventArgs)).data={series:_},w.chartObj._trigger("seriesRendering",v),a=_.type.toLowerCase(),s=ej.series3DTypes[a],ej.util.isNullOrUndefined(s)||(s.draw(_,w,a,u),_.marker.dataLabel.visible&&n.each(_._visiblePoints,function(h,t){t.marker=n.extend(!0,{},_.marker,t.marker),t.visible&&(ej.util.isNullOrUndefined(t.marker)||t.marker.dataLabel&&t.marker.dataLabel.visible)&&w.draw3DDataLabel(_,h,t,c)}))},update3DWall:function(c,r){var u,_,w;if("cartesianaxes"==c.model.AreaType)for(n.extend(ej.Ej3DRender.prototype,this),this.updateBackWall(c),u=0;u<c.model._axes.length;u++)w=(_=c.model._axes[u])._opposed,"vertical"==_.orientation.toLowerCase()?w?this.updateRightWall(c,_,r):this.updateLeftWall(c,_,r):w?this.updateTopWall(c,_,r):this.updateBottomWall(c,_,r)},updateTopWall:function(c,r,u){var _,a,w=c.model.m_AreaBounds,v=u.axes[r.name]._validCross?r.y:w.Y;_=c.model.wallSize<v?v-c.model.wallSize:-(c.model.wallSize-v);var s=c.vector.vector3D(w.X+w.Width,-c.model.depth,v-.1),h=c.vector.vector3D(w.X,-.1,_),t=c.polygon.createBox(s,h,this,0,"Graphics3D","#e2e1e1","#e2e1e1",0,.15,!1,"TopWallBrush",c.chart3D);for(a=0;a<t.length;a++)c.polygon.transform(c.matrixobj.tilt(parseFloat(Math.PI/2)),t[a])},updateRightWall:function(c,r,u){for(var _=u.axes[r.name]._validCross?r.x:c.model.m_AreaBounds.X+c.model.m_AreaBounds.Width,w={left:-c.model.depth,top:c.model.m_AreaBounds.Y,bottom:c.model.m_AreaBounds.Height+c.model.m_AreaBounds.Y,right:0},v=c.vector.vector3D(w.left,w.top,_+1.5),a=c.vector.vector3D(w.right,w.bottom,_+c.model.wallSize),s=c.polygon.createBox(v,a,c,0,"Graphics3D","#e2e1e1","#e2e1e1",0,.15,!1,"RightWallBrush",c.chart3D),h=0;h<s.length;h++)c.polygon.transform(c.matrixobj.turn(parseFloat(-Math.PI/2)),s[h])},updateBackWall:function(c){var r=c.model.m_AreaBounds,u=c.vector.vector3D(r.X,r.Y,0==c.model.depth?1.5:c.model.depth+c.model.wallSize),_=c.vector.vector3D(r.X+r.Width,r.Y+r.Height,0==c.model.depth?1.5:c.model.depth);c.polygon.createBox(u,_,c,0,"Graphics3D","#e2e1e1","#e2e1e1",0,.15,!1,"BackWallBrush",c.chart3D)},updateLeftWall:function(c,r,u){for(var _={left:-c.model.depth,top:c.model.m_AreaBounds.Y,bottom:c.model.m_AreaBounds.Height+c.model.m_AreaBounds.Y,right:0},w=u.axes[r.name]._validCross?r.x:c.model.m_AreaBounds.X,v=c.vector.vector3D(_.left,_.top,w-.1),a=c.vector.vector3D(_.right,_.bottom,w-c.model.wallSize),s=c.polygon.createBox(v,a,this,0,"Graphics3D","#e2e1e1","#e2e1e1",0,.15,!1,"LeftWallBrush",c.chart3D),h=0;h<s.length;h++)c.polygon.transform(c.matrixobj.turn(parseFloat(-Math.PI/2)),s[h])},updateBottomWall:function(c,r,u){for(var _=c.model.m_AreaBounds,w=u.axes[r.name]._validCross?r.y:_.Y+_.Height,v=c.vector.vector3D(_.X+_.Width,-c.model.depth,c.model.wallSize+w),a=c.vector.vector3D(_.X,-.1,w+1),s=c.polygon.createBox(a,v,this,0,"Graphics3D","#D3D3D3","#D3D3D3",0,.15,!1,"BottomWallBrush",c.chart3D),h=0;h<s.length;h++)c.polygon.transform(c.matrixobj.tilt(parseFloat(Math.PI/2)),s[h])}},ej.EjVmlRender=function(n){var r,u,c=document;this.vmlNamespace="urn:schemas-microsoft-com:vml",this.vmStyle="#default#VML",c.namespaces.add("v","urn:schemas-microsoft-com:vml"),this.isdocmode8=8===c.documentMode,c.getElementById("vml_chart")||(r=this.isdocmode8?"v\\:fill, v\\:path, v\\:polyline, v\\:line, v\\:rect,v\\:shape,v\\:oval, v\\:stroke{ behavior:url(#default#VML); display: inline-block; } ":"v\\:*{ behavior:url(#default#VML); display: inline-block; } ",(u=c.createStyleSheet()).owningElement.id="vml_chart",u.cssText=r),this._rootId=jQuery(n).attr("id"),this.svgObj=c.createElement("div"),this.svgObj.style.position="relative",this.svgObj.setAttribute("id",this._rootId+"_vml"),this.changeOptions={id:"id",fill:"fillcolor",stroke:"strokecolor","stroke-width":"strokeweight",d:"path","font-size":"font-size","font-family":"font-family","font-style":"font-style","font-weight":"font-weight",points:"points"}},function(n){ej.EjVmlRender.prototype={drawPath:function(c,r){var _,w,v,a,u=c.d.split(" ");-1!=n.inArray("A",u)&&(_=parseFloat(u[4]),w=parseFloat(u[5]),c.d=this.drawArc(_,w,c)),n("#"+c.id).length>0?(c.d=this.changePathValue(c.d),this.applyVMLStyle(n("#"+c.id),c)):(c.d=this.changePathValue(c.d),v=document.createElement("v:shape"),a=n(v),this.applyVMLStyle(a,c),a.appendTo(r))},createLegendSvg:function(c){var r=document;return this._rootId=jQuery(c).attr("id"),this.legendsvgObj=r.createElement("div"),this.legendsvgObj.style.position="relative",this.legendsvgObj.setAttribute("id","legend_"+this._rootId+"_vml"),this.legendsvgObj},drawPolyline:function(c,r){var _,w;c.points.split(" "),n("#"+c.id).length>0?(c.points=this.changePathValue(c.points),this.applyVMLStyle(n("#"+c.id),c)):(c.points=this.changePathValue(c.points),_=document.createElement("v:polyline"),w=n(_),this.applyVMLStyle(w,c),w.appendTo(r))},setFillAttribute:function(c,r){var w,v,u=document.createElement("v:fill"),_=r["fill-opacity"]?r["fill-opacity"]:r.opacity;_=ej.util.isNullOrUndefined(_)?r.opacity?r.opacity:1:_,"none"==(w=r.fill)||ej.util.isNullOrUndefined(w)?"none"==w?(u.setAttribute("type","gradient"),u.setAttribute("color",r.color),u.setAttribute("color2",r.color2),u.setAttribute("colors",r.colors),u.setAttribute("angle",r.angle),_=r.fill_opacity):_=.1:w.match("gradient")?(v=w.replace("gradient",""),u.setAttribute("type","gradient"),u.setAttribute("colors",v)):n(c).attr("fillcolor",w),u.setAttribute("opacity",_),n(u).appendTo(c)},setStrokeAttribute:function(c,r){var _,w;"transparent"==r.stroke&&(r.opacity=.1),r.name&&n(c).attr("name",r.name),(_=r.opacity)&&((w=document.createElement("v:stroke")).setAttribute("opacity",_),n(w).appendTo(c))},changePathValue:function(c){var r,u;if(!c.d){for(r=c.split(" "),u=0;u<r.length;u++)null!=r[u].match(/\d+/g)&&(r[u]=Math.round(parseFloat(r[u])));return r.join(" ")}},drawArc:function(c,r,u){var T,a=u.start,s=u.end,h=(s=Number(Math.PI.toFixed(2))==Number((s+a).toFixed(2))?s-.01:s,u.r||c||r),t=Math.cos(a),o=Math.sin(a),l=Math.cos(s),p=Math.sin(s),g=u.innerR,b=.08/h,C=g&&.1/g||0;return s-a==0?"":(2*Math.PI-s+a<b?l=-b:s-a<C&&(l=Math.cos(a+C)),T=["wa",0-h,0-h,0+h,0+h,0+h*t,0+h*o,0+h*l,0+h*p],u.open&&!g&&T.push("e",void 0,0,0),T.push("at",0-g,0-g,0+g,0+g,0+g*l,0+g*p,0+g*t,0+g*o,"x","e"),T.join(" "))},changeVMLStyle:function(c,r){var u=this,_=r.stroke;c.css("width",r.width).css("visibility",r.visibility).css("height",r.height).css("position","absolute").css("left",r.x).css("top",r.y),n.each(r,function(w,v){(null!=u.changeOptions[w]||null!=u.changeOptions[w])&&(("d"==w||"points"==w)&&(v=u.changePathValue(r[w]).toLowerCase()),"transparent"!=v||r.fill_opacity||(r[w]=v="white","fill"!=w||r.hasOwnProperty("opacity")&&r.opacity||(r.opacity=.1)),r.fill_opacity&&(r.opacity=r.fill_opacity),"SPAN"===c[0].tagName?"fill"==w?c.css("color",v):"id"==w?c.attr(u.changeOptions[w],v):c.css(u.changeOptions[w],v):u.isdocmode8?c.get(0)[u.changeOptions[w]]=v:c.get(0).setAttribute(u.changeOptions[w],v))}),(r.hasOwnProperty("fill-opacity")||r.hasOwnProperty("opacity")||r.hasOwnProperty("fill"))&&("SPAN"===c[0].tagName||(u.setFillAttribute(c,r),r.hasOwnProperty("stroke")&&(r.stroke=_,r.fill_opacity&&(r.opacity=r.fill_opacity),u.setStrokeAttribute(c,r))))},applyVMLStyle:function(c,r){"SPAN"!==c[0].tagName&&(ej.util.isNullOrUndefined(r.width)&&(r.width="1000px"),ej.util.isNullOrUndefined(r.height)&&(r.height="1000px")),ej.util.isNullOrUndefined(r.x)&&(r.x="0px"),ej.util.isNullOrUndefined(r.y)&&(r.y="0px"),this.changeVMLStyle(c,r)},drawLine:function(c,r){if(n("#"+c.id).length>0)u=c.x1+","+c.y1,_=c.x2+","+c.y2,n(c).attr("from",u).attr("to",_),this.applyVMLStyle(n("#"+c.id),c);else{var u,w=document.createElement("v:line"),v=n(w),_=c.x2+","+c.y2;v.attr("from",u=c.x1+","+c.y1).attr("to",_),this.applyVMLStyle(v,c),v.appendTo(r)}},drawCircle:function(c,r){if(n("#"+c.id).length>0)c.x=c.cx-c.r,c.y=c.cy-c.r,c.width=c.height=2*c.r,this.applyVMLStyle(n("#"+c.id),c);else{var u=document.createElement("v:oval"),_=n(u);c.x=c.cx-c.r,c.y=c.cy-c.r,c.width=c.height=2*c.r,this.applyVMLStyle(_,c),0==n("#"+c.id).length&&_.appendTo(r)}},drawEllipse:function(c,r){if(n("#"+c.id).length>0)c.x=c.cx-c.rx,c.y=c.cy-c.ry,c.width=2*c.rx,c.height=2*c.ry,this.applyVMLStyle(n("#"+c.id),c);else{var u=document.createElement("v:oval"),_=n(u);c.x=c.cx-c.rx,c.y=c.cy-c.ry,c.width=2*c.rx,c.height=2*c.ry,this.applyVMLStyle(_,c),_.appendTo(r)}},drawRect:function(c,r){if(n("#"+c.id).length>0)this.applyVMLStyle(n("#"+c.id),c);else{var u=document.createElement("v:rect"),_=n(u);this.applyVMLStyle(_,c),_.appendTo(r)}},drawCylinder:function(c,r,u){var h,t,o,l,p,g,b,C,T,D,L,I,R,V,F,A,z,N,U,J,Q,oe,ue,le,ne,he,re,W,pe,_=c.x,w=c.y,v=c.width,a=c.height,s=c.id,se=c.fill;ej.EjSvgRender.prototype.checkColorFormat(se)||(se=ej.datavisualization.Chart.prototype.colorNameToHex(c.fill));var M=c.opacity,fe={svgRenderer:ej.EjSvgRender.prototype},xe=ej.Ej3DRender.prototype.polygon3D.prototype.applyZLight(se,fe),O=ej.Ej3DRender.prototype.polygon3D.prototype.applyXLight(se,fe),B=65535;for(1==u.isColumn?(c.rx=t=v/2,c.ry=o=t/4,C=g=w-o,I=U=R=w+a-o,T=(l=p=_+t)+t,b=L=N=l-t,le=-Math.round(180*B),ne=Math.round(180*B),A=Math.round(360*B),z=-Math.round(180*B),he="90",1==u.stacking&&(u.isLastSeries||(g=w+o)),D=g):(c.ry=o=a/2,c.rx=t=o/4,T=b=p=_+t,N=l=_+v+t,le=Math.round(90*B),ne=Math.round(180*B),A=Math.round(270*B),z=-Math.round(180*B),R=g=w+o,U=D=g+o,C=I=R-o,he="0",1==u.stacking&&(u.isLastSeries||(l=_+v-t)),L=l),delete c.x,delete c.y,c.width=1e3,c.x=0,c.y=0,delete c.stacking,c.height=1e3,delete c.isColumn,c.fill=xe,c.fill_opacity=M,c.stroke=xe,c["stroke-width"]=0,re=1;re<=4;re++)re%2==0?(J=p,Q=g,oe=L,ue=I,V=A,F=z):(J=l,Q=R,oe=T,ue=D,V=le,F=ne),re<3&&(V=B,F=23592600),re<4&&(h=["M",Math.round(N),Math.round(U)]),h.push("ae",Math.round(J),Math.round(Q),Math.round(t),Math.round(o),V,F),re>2&&(h.push("l",Math.round(oe),Math.round(ue)),c.fill="none",c.color=se,c.color2=se,c.colors="30% "+O+",70% "+O,c.angle=he),3!=re&&(h.push("e"),h=h.join(" "),c.d=h,c.id=s+"_Region_"+(re-1).toString(),4==re&&(c.id=s+"_Region_"+(re-2).toString()),W=document.createElement("v:shape"),pe=n(W),this.applyVMLStyle(pe,c),pe.appendTo(r)),N=b,U=C},_getAttrVal:function(c,r,u){return r="y"==(r="x"==r?"left":r)?"top":r,(n(c).attr(r)||n(c).css(r))??u},_setAttr:function(c,r){var u,_,w;r.transform&&(_=(u=r.transform).slice(u.indexOf("(")+1,u.indexOf(")")).split(","),r.x=_[0],r.y=_[1]),(w=n(c)).length>0&&this.changeVMLStyle(w,r)},createGradientElement:function(c,r){var u,_,w,v;if("[object Array]"==Object.prototype.toString.call(r))for(u="gradient ",_="",w=0,v=r.length-1;w<r.length;w++,v--)u+=_+r[w].colorStop+" "+r[v].color,_=",";else u=r;return u},setSpanAttr:function(c,r,u){var w={size:c["font-size"]>0?c["font-size"]+"px":c["font-size"],fontStyle:c["font-style"],fontFamily:c["font-family"]},v=ej.EjSvgRender.utils._measureText(r,null,w);n(u).css("white-space","nowrap"),"middle"===c["text-anchor"]?c.x=Math.round(c.x-v.width/2):"end"===c["text-anchor"]&&(c.x=Math.round(c.x-v.width)),c.y=Math.round(c.y-w.size.replace("px","")),this.applyVMLStyle(u,c)},drawText:function(c,r,u,_){var a,s,h,t,o,l,p,g,b,w=document,v=n("#"+c.id);if(v.length>0)this._textAttrReplace(c,r,_,v);else if(c.id.indexOf("YAxisTitle")>0&&!this.isdocmode8)c.on=!0,(a=document.createElement("v:line")).style.behavior="url(#default#VML)",a.style.display="inline-block",s=ej.EjSvgRender.utils._measureText(r,null,null),a.setAttribute("to",(c.x-1).toString()+","+(c.y-s.width/2).toString()),a.setAttribute("from",c.x.toString()+","+c.y.toString()),(h=document.createElement("v:path")).setAttribute("textpathok",!0),(t=document.createElement("v:textpath")).setAttribute("on",!0),t.setAttribute("string",r),t.style["font-style"]=c["font-style"],t.style["font-size"]=c["font-size"],t.style["font-family"]=c["font-family"],a.appendChild(h),a.appendChild(t),n(a).appendTo(u);else{if(o=w.createElement("span"),l=n(o),"array"==jQuery.type(r))for(this.setSpanAttr(c,r,l),p=0;p<r.length;p++)g=w.createElement("span"),n(g).html(r[p]),n(g).appendTo(o),b=w.createElement("br"),n(b).appendTo(o);else this.setSpanAttr(c,r,l),l.html(r);l.appendTo(u)}},_textAttrReplace:function(c,r,u,_){var w,v;if("array"==jQuery.type(r))if(w=n("#"+c.id).children("span"),this.setSpanAttr(c,r,_),w.length>0&&w.length==r.length)for(v=0;v<w.length;v++)n(w[v]).text(r[v]);else n("#"+c.id).remove(),this.drawText(c,r,this.gTransToolEle,u);else this.setSpanAttr(c,r,_),_.text(r)},drawImage:function(c,r){var u=document.createElement("img"),_=n(u);_.css({position:"absolute"}),n.each(c,function(w,v){"href"==w&&(w="src"),_.attr(w,v)}),_.appendTo(r)},createDefs:function(){},createGroup:function(c){var u,r=document.createElement("div");return ej.util.isNullOrUndefined(c.transform)||(u=c.transform.slice(c.transform.indexOf("(")+1,c.transform.indexOf(")")).split(","),n(r).css({position:"absolute",left:u[0]+"px",top:u[1]+"px"})),c.cursor&&n(r).css({cursor:c.cursor}),n.each(c,function(_,w){"transform"!==_&&"clip-path"!=_&&n(r).attr(_,w)}),r},createText:function(c,r){var u=document.createElement("span");return n(u).attr(c),ej.util.isNullOrUndefined(r)||(u.textContent=r),u},drawAxesBoundsClipPath:function(c,r,u){var _,v,w=n(c);w.removeAttr("clip-path"),v=this._getTransform(r.xAxis,r.yAxis,u),this.drawClipPath(_={id:c.id+"_ClipRect",x:0,y:0,width:v.width,height:v.height,fill:"white","stroke-width":1,stroke:"transparent"},c),w.attr("clip-path","url(#"+_.id+")")},getAttrVal:function(c,r,u){return n(c).attr(r)??u},round:function(c,r,u){return r*(u?Math.ceil(c/r):Math.floor(c/r))},hexFromRGB:function(c){var r=c.R,u=c.G,_=c.B;if(c.A)return"rgba("+r.toString()+","+u.toString()+","+_.toString()+","+c.A+")";u=c.G,_=c.B;var w=[(r=c.R).toString(16),u.toString(16),_.toString(16)];return n.each(w,function(v,a){1===a.length&&(w[v]="0"+a)}),"#"+w.join("").toUpperCase()},hexToRGB:function(c){var u;return 1==/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/.test(c)?(u=/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/.exec(c))?{R:parseInt(u[1]),G:parseInt(u[2]),B:parseInt(u[3]),A:u[4]}:null:(u=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(c))?{R:parseInt(u[1],16),G:parseInt(u[2],16),B:parseInt(u[3],16)}:null},checkColorFormat:function(c){return/(rgba?\((?:\d{1,3}[,\)]){3}(?:\d+\.\d+\))?)|(^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$)/gim.test(c)},createDelegate:function(c,r){return function(u){r.apply(c,[u,this])}},drawClipPath:function(c,r){if(-1==c.id.indexOf("ChartAreaClipRect")){var u=Math.round(c.x)+"px",a="rect("+Math.round(c.y)+"px "+(Math.round(c.width)+Math.round(c.x))+"px "+(Math.round(c.y)+Math.round(c.height))+"px "+u+")";n(r).css("position","absolute").css("clip",a)}},drawCircularClipPath:function(c,r){var u=Math.round(c.r),_=Math.round(c.cx),w=Math.round(c.cy);if(-1==c.id.indexOf("_ClipRect")){var t="rect("+(w-u)+"px "+(_+u)+"px "+(w+u)+"px "+(_-u)+"px)";n(r).css("position","absolute").css("clip",t)}},append:function(c,r){n(c).appendTo(r)}}}(jQuery),ej.EjCanvasRender=function(n){this.svgObj=document.createElement("canvas"),this._rootId=jQuery(n).attr("id"),this.svgObj.setAttribute("id",this._rootId+"_canvas"),this.ctx=this.svgObj.getContext("2d")},function(n){ej.EjCanvasRender.prototype={drawPath:function(c,r,u){var s,h,t,o,l,p,g,b,_=!!c.hasStackingInnerRadius&&c.hasStackingInnerRadius,v=c.d.split(" "),a=c["stroke-width"];if(c.lgndCtx){for(o=this.lgndCtx,this.lgndCtx=r??this.lgndCtx,this.lgndCtx.save(),this.lgndCtx.beginPath(),u&&this.lgndCtx.translate(u[0],u[1]),this.lgndCtx.globalAlpha=c.opacity?c.opacity:c["fill-opacity"],this.lgndCtx.lineWidth=c["stroke-width"],this.lgndCtx.strokeStyle=c.stroke,l=0;l<v.length;l+=3)switch(p=parseFloat(v[l+1]),g=parseFloat(v[l+2]),v[l]){case"M":this.lgndCtx.moveTo(p,g);break;case"L":this.lgndCtx.lineTo(p,g);break;case"C":this.lgndCtx.bezierCurveTo(p,g,parseFloat(v[l+3]),parseFloat(v[l+4]),parseFloat(v[l+5]),parseFloat(v[l+6])),l+=4;break;case"A":this.lgndCtx.arc(parseFloat(v[l-5]),parseFloat(v[l-4]),p,0,2*Math.PI,!1),l+=5;break;case"a":this.lgndCtx.beginPath(),b=parseFloat(v[l-2])+p,this.lgndCtx.arc(b,v[l-1],p,0,2*Math.PI,!1),l+=5;break;case"Z":this.lgndCtx.fillStyle=c.fill,this.lgndCtx.fill(),l-=2;break;case"Q":this.lgndCtx.quadraticCurveTo(p,g,parseFloat(v[l+3]),parseFloat(v[l+4])),l+=2}"none"!=c.fill&&null!=c.fill&&(this.lgndCtx.fillStyle=c.fill,this.lgndCtx.fill()),this.lgndCtx.stroke(),this.lgndCtx.restore(),this.lgndCtx=o}else{for(s=this.ctx,this.ctx=r??this.ctx,this.ctx.save(),this.ctx.beginPath(),u&&this.ctx.translate(u[0],u[1]),this.ctx.globalAlpha=c.opacity?c.opacity:c["fill-opacity"],h=!0,this.ctx.lineWidth=a,(t=!!c["stroke-dasharray"]&&c["stroke-dasharray"].split(","))&&this.ctx.setLineDash(t),this.ctx.strokeStyle=c.stroke,l=0;l<v.length;l+=3)switch(p=parseFloat(v[l+1]),g=parseFloat(v[l+2]),v[l]){case"M":c.innerR&&!_||c.cx||this.ctx.moveTo(p,g);break;case"L":(!c.innerR||_)&&this.ctx.lineTo(p,g);break;case"C":this.ctx.bezierCurveTo(p,g,parseFloat(v[l+3]),parseFloat(v[l+4]),parseFloat(v[l+5]),parseFloat(v[l+6])),l+=4;break;case"A":c.innerR?h&&(this.ctx.arc(c.x,c.y,c.radius,c.start,c.end,c.counterClockWise),this.ctx.arc(c.x,c.y,c.innerR,c.end,c.start,!c.counterClockWise),h=!1):c.cx?this.ctx.arc(c.cx,c.cy,c.radius,0,2*Math.PI,c.counterClockWise):(this.ctx.moveTo(c.x,c.y),this.ctx.arc(c.x,c.y,c.radius,c.start,c.end,c.counterClockWise),this.ctx.lineTo(c.x,c.y)),l+=5;break;case"Q":this.ctx.bezierCurveTo(p,g,parseFloat(v[l+1]),parseFloat(v[l+2]),parseFloat(v[l+3]),parseFloat(v[l+4])),l+=2;break;case"z":this.ctx.closePath()}"none"!=c.fill&&null!=c.fill&&(this.ctx.fillStyle=c.fill,this.ctx.fill()),a>0&&this.ctx.stroke(),this.ctx.restore(),this.ctx=s}},_setLinePathStyle:function(c,r){var _,u=c["stroke-width"];r&&this.ctx.translate(r[0],r[1]),this.ctx.globalAlpha=c.opacity?c.opacity:c["fill-opacity"],this.ctx.lineWidth=u,(_=!!c["stroke-dasharray"]&&c["stroke-dasharray"].split(","))&&this.ctx.setLineDash(_),this.ctx.strokeStyle=c.stroke,"none"!=c.fill&&null!=c.fill&&(this.ctx.fillStyle=c.fill,this.ctx.fill())},drawRect:function(c,r){var w,u=this.ctx,_=c.rx;this.ctx=r&&r.canvas?r:this.ctx,this.ctx.save(),this.ctx.beginPath(),this.ctx.globalAlpha=c.opacity,this.ctx.lineWidth=c["stroke-width"],(w=!!c["stroke-dasharray"]&&c["stroke-dasharray"].split(","))&&this.ctx.setLineDash(w),this.ctx.strokeStyle=c.stroke,this.ctx.rect(c.x,c.y,c.width,c.height),null!=_&&_>=0?this.drawCornerRadius(c):("none"==c.fill&&(c.fill="transparent"),this.ctx.fillStyle=c.fill,this.ctx.fillRect(c.x,c.y,c.width,c.height),this.ctx.stroke()),c.id.indexOf("Series")>=0&&this.ctx.clip(),this.ctx.restore(),this.ctx=u},drawCylinder:function(c,r,u){var w,v,a,s,h,_=this.ctx;this.ctx=r&&r.canvas?r:this.ctx,this.ctx.save(),w=ej.datavisualization.Chart.prototype.colorNameToHex(c.fill),v={svgRenderer:ej.EjSvgRender.prototype};var t,o,l,b,C,T,D,L,I,R,V,F,A,z,N,U,J,Q,oe,ue,le,ne,he,se,ee,p=Math.PI,re=c.x,W=c.y,pe=c.width,M=c.height,fe=2*p+.1;for(this.ctx.fillStyle=ej.Ej3DRender.prototype.polygon3D.prototype.applyZLight(w,v),this.ctx.lineWidth=0,this.ctx.strokeStyle=ej.Ej3DRender.prototype.polygon3D.prototype.applyZLight(w,v),this.ctx.globalAlpha=c.opacity,1==u.isColumn?(ue=re,ne=pe+re,he=le=0,D=T=re+(b=pe/2),A=L=W-(C=b/4),V=re,R=re+pe,I=F=W+M-C,oe=0,Q=p,se=-b,ee=C,(u.stacking=!0)&&(u.isLastSeries||(A=L=W+C))):(ue=ne=0,le=M+W,he=W,V=T=re+(b=(C=M/2)/4),R=D=re+pe+b,F=W+M,A=W,I=L=W+C,oe=p/2,Q=1.5*p,(u.stacking=!0)&&(u.isLastSeries||(R=D=re+pe-b)),se=b=-b,ee=-(C=-C)),a=ej.Ej3DRender.prototype.polygon3D.prototype.applyXLight(w,v),(s=this.ctx.createLinearGradient(ue,he,ne,le)).addColorStop(0,w),s.addColorStop(.3,a),s.addColorStop(.7,a),s.addColorStop(1,w),h=1;h<=4;h++){for(t=0,h<4&&this.ctx.beginPath(),h%2==0?(z=D,N=I,U=V,J=A):(z=T,N=L,U=R,J=F),4==h&&(b=se,C=ee,this.ctx.fillStyle=s),h>2&&(t=oe,fe=Q);t<=fe;t+=.1)o=z-b*Math.cos(t),l=N+C*Math.sin(t),0===t?this.ctx.moveTo(o,l):this.ctx.lineTo(o,l);h>2&&this.ctx.lineTo(U,J),3!=h&&(this.ctx.stroke(),this.ctx.fill())}c.id.indexOf("Series")>=0&&this.ctx.clip(),this.ctx.restore(),this.ctx=_},drawCornerRadius:function(c){var r=c.rx,u=c.x,_=c.y,w=c.width,v=c.height;"none"==c.fill&&(c.fill="transparent"),this.ctx.fillStyle=c.fill,w<2*r&&(r=w/2),v<2*r&&(r=v/2),this.ctx.beginPath(),this.ctx.moveTo(u+w-r,_),this.ctx.arcTo(u+w,_,u+w,_+v,r),this.ctx.arcTo(u+w,_+v,u,_+v,r),this.ctx.arcTo(u,_+v,u,_,r),this.ctx.arcTo(u,_,u+w,_,r),this.ctx.closePath(),this.ctx.fill(),this.ctx.stroke()},createGradientElement:function(c,r){var u,w,v,a,s,_=this.ctx;if("[object Array]"==Object.prototype.toString.call(r)){for(w=_.createLinearGradient(0,0,0,this.svgObj.height),v=0;v<=r.length-1;v++)a=r[v].color,s=r[v].colorStop.slice(0,-1),s=parseInt(s)/100,w.addColorStop(s,a);u=w}else u=r;return u},drawLine:function(c){this.ctx.save(),this.ctx.beginPath(),this.ctx.lineWidth=c["stroke-width"],this.ctx.strokeStyle=c.stroke,this.ctx.moveTo(c.x1,c.y1),this.ctx.lineTo(c.x2,c.y2),this.ctx.stroke(),this.ctx.restore()},drawText:function(c,r,u){var _,w,v,a,s,h,t;ej.util.isNullOrUndefined(c["font-weight"])||"regular"!=c["font-weight"].toLowerCase()||(c["font-weight"]="normal");var l=c["font-style"].toLowerCase()+" "+c["font-weight"]+" "+c["font-size"]+" "+c["font-family"],p=c["text-anchor"],g=void 0!==c.opacity?c.opacity:1;if("middle"==p&&(p="center"),c.lgndCtx)this.lgndCtx.save(),this.lgndCtx.fillStyle=c.fill,this.lgndCtx.font=l,this.lgndCtx.textAlign=p,this.lgndCtx.globalAlpha=g,"middle"==c["dominant-baseline"]&&(this.lgndCtx.textBaseline="center"),c.labelRotation?(this.lgndCtx.translate(c.x,c.y),this.lgndCtx.rotate(c.labelRotation*Math.PI/180),this.lgndCtx.fillText(r,0,0)):this.lgndCtx.fillText(r,c.x,c.y),this.lgndCtx.restore();else{if(this.ctx.save(),this.ctx.fillStyle=c.fill,this.ctx.font=l,this.ctx.textAlign=p,this.ctx.globalAlpha=g,c.baseline&&(this.ctx.textBaseline=c.baseline),c.labelRotation||ej.util.isNullOrUndefined(r))if(_=0,!(w=c.labelRotation)||-1==c.id.indexOf("XLabel")&&-1==c.id.indexOf("YLabel"))this.ctx.translate(c.x,c.y),this.ctx.rotate(c.labelRotation*Math.PI/180),this.ctx.fillText(r,0,0);else{v="rotate("+c.labelRotation.toString()+"deg)",n(c).attr("rotateAngle",v);var b=u||r,C=ej.EjSvgRender.utils._measureText(b,null,l).height,T=this.createText(c,b);n(document.body).append(T),a=T.getBoundingClientRect(),n(T).remove(),_=a.height,w<0&&(w=360+w),s=c.transform.split(","),p=p??"center";var D=parseFloat(s[1]),L=parseFloat(s[2]),I=_/2;if(this.ctx.translate(D,"outside"==c.labelPosition?"start"==p?L+I-(w<0&&w>-180||w>180?_/2:(_-C)/2):"end"==p?L+I-(w<0&&w>-180||w>180?_/2:-(_-C)/2):L+I:"start"==p?L-I-(w<0&&w>-180||w>180?_/2:(_-C)/2):"end"==p?L-I-(w<0&&w>-180||w>180?_/2:-(_-C)/2):L-I),this.ctx.textAlign=p,this.ctx.rotate(w*(Math.PI/180)),"object"==typeof r)for(h=r.length,t=0;t<h;t++)o=ej.EjSvgRender.utils._measureText(r[t],null,l).height,this.ctx.fillText(r[t],0,t*o);else this.ctx.fillText(r,0,0)}else if("object"==typeof r||c.isTrackball)if(c.isTrackball&&"string"==typeof r)this.ctx.fillText(r,c.x,c.y);else for(h=r.length,t=0;t<h;t++){var R=ej.util.isNullOrUndefined(c.padding)?0:c.padding,o=ej.EjSvgRender.utils._measureText(r[t],null,l).height,V=c.isTrackball?Number(parseInt(c["font-size"])):o;this.ctx.fillText(r[t],c.x,c.y+(V+R)*t)}else this.ctx.fillText(r,c.x,c.y);this.ctx.restore()}},drawZoomRect:function(c,r){var _,w,v,a,s=n("<div id="+c.id+"></div>"),h=r.model.m_AreaBounds;c.x<h.X||c.x+0+c.width>0+n(this.svgObj).width()-20?(_=this.prevWidth,v=this.prevX):(_=this.prevWidth=c.width,v=this.prevX=c.x+0),c.y<h.Y||c.y+0+c.height>0+h.Y+h.Height?(w=this.prevHeight,a=this.prevY):(w=this.prevHeight=c.height,a=this.prevY=c.y+0),n(s).css({width:_,height:w,top:a,left:v,"background-color":c.fill,"border-style":"solid",position:"absolute","border-color":c.stroke,"border-width":c["stroke-width"]}),document.getElementById("chartContainer_"+this._rootId).appendChild(s[0])},zoomButton:function(c,r,u){var v,a,s,h,t,o,l,p,g,_=u.svgObj?u.svgObj:u.svgObject,w=u._rootId?u._rootId:u._id;v="zoom"==r?"_Zoom":"zoomIn"==r?"_ZoomIn":"_ZoomOut",a={left:0,top:0},n("#"+c.zoomId).length<=0?(g=n("<div id="+_.id+v+"Btn></div>"),n(g).css({width:c.width,height:c.height,top:c.top+a.top,left:c.left+a.left,"background-color":c.fill,"border-style":"solid",position:"absolute","border-radius":"0.4em","border-color":c.fill,"box-sizing":"content-box","z-index":2e3}),s="http://www.w3.org/2000/svg",(h=document.createElementNS(s,"svg")).setAttribute("id",c.zoomId),h.setAttribute("width",25),h.setAttribute("height",25),"zoom"==r?(t="M26.101,22.893l-6.605-6.174c1.414-2.781,0.897-6.267-1.496-8.504c-2.901-2.711-7.448-2.56-10.161,0.341    c-2.712,2.9-2.56,7.45,0.341,10.163c2.426,2.266,6,2.523,8.694,0.853l6.579,6.151L26.101,22.893z M10.186,16.571    c-1.715-1.604-1.805-4.293-0.203-6.009c1.605-1.715,4.295-1.805,6.009-0.201c1.715,1.603,1.805,4.293,0.202,6.007    C14.59,18.084,11.901,18.175,10.186,16.571",o="translate(-3,-3)"):"zoomIn"==r?(t="M9.0983096,4.2999878L9.0983096,9.3999634 3.9983783,9.3999634 3.9983783,12.699951 9.0983096,12.699951 9.0983096,17.799988 12.398249,17.799988 12.398249,12.699951 17.49818,12.699951 17.49818,9.5 12.398249,9.5 12.398249,4.2999878z M10.998276,0C14.298215,0 17.49818,1.3999634 19.69813,4.1999512 22.79809,8.0999756 22.79809,13.5 19.998144,17.399963L28.597992,28.299988 23.898081,32 15.398205,21.199951C10.898271,23.099976 5.5983606,21.899963 2.3983956,17.899963 -1.4015366,13.099976 -0.60156059,6.0999756 4.1983567,2.3999634 6.1983276,0.79998779 8.5983163,0 10.998276,0z",o="translate(4,4) scale(0.6)"):(t="M3.9983433,9.5L3.9983433,12.799988 17.598165,12.799988 17.598165,9.5z M10.998234,0C14.298169,0 17.498131,1.3999634 19.698108,4.1999512 22.798034,8.0999756 22.798034,13.5 19.998092,17.399963L28.597994,28.299988 23.898054,32 15.398188,21.199951C10.898259,23.099976 5.5983546,21.899963 2.398393,17.899963 -1.4015351,13.099976 -0.60155994,6.0999756 4.1983522,2.3999634 6.1983207,0.79998779 8.5983074,0 10.998234,0z",o="translate(4,4) scale(0.6)"),l={id:v+"Path",fill:c.iconColor,transform:o,d:t},p=document.createElementNS(s,"path"),n(p).attr(l).appendTo(h),g[0].appendChild(h),document.getElementById("chartContainer_"+w).appendChild(g[0])):(g=document.getElementById(_.id+v+"Btn"),n(g).css({top:c.top+a.top,left:c.left+a.left}))},panButton:function(c,r){var v,a,s,h,t,u=r.svgObj?r.svgObj:r.svgObject,_=r._rootId?r._rootId:r._id;n("#"+c.panId).length<=0?(t=n("<div id="+u.id+"_PanBtn></div>"),n(t).css({width:c.width,height:c.height,top:c.top+0,left:c.left+0,"background-color":c.fill,"border-style":"solid",position:"absolute","border-radius":"0.4em","border-color":c.fill,"box-sizing":"content-box","z-index":2e3}),v="http://www.w3.org/2000/svg",(a=document.createElementNS(v,"svg")).setAttribute("id",c.panId),a.setAttribute("width",25),a.setAttribute("height",25),(s={id:"panPath",fill:c.iconColor,transform:"translate(-3,-3)"}).points="26.105,16 21.053,12.211 21.053,14.737 17.263,14.737 17.263,10.947 19.834,10.947 16.044,5.895 12.255,10.947 14.737,10.947 14.737,14.737 10.947,14.737 10.947,12.211 5.895,16 10.947,19.789 10.947,17.263 14.737,17.263 14.737,21.053 12.255,21.053 16.044,26.105 19.834,21.053 17.263,21.053 17.263,17.263 21.053,17.263 21.053,19.789",h=document.createElementNS(v,"polygon"),n(h).attr(s).appendTo(a),t[0].appendChild(a),document.getElementById("chartContainer_"+_).appendChild(t[0])):(t=document.getElementById(u.id+"_PanBtn"),n(t).css({top:c.top+0,left:c.left+0}))},resetZoom:function(c,r){var v,a,s,h,t,o,l,p,g,b,C,u=r.svgObj?r.svgObj:r.svgObject,_=r._rootId?r._rootId:r._id;n("#"+c.resetZoomId).length<=0?(C=n("<div id="+u.id+"_ResetZoom></div>"),n(C).css({width:c.width,height:c.height,top:c.top+0,left:c.left+0,"background-color":c.fill,"border-style":"solid","border-radius":"0.4em",position:"absolute","border-color":c.fill,"box-sizing":"content-box","z-index":2e3}),v="http://www.w3.org/2000/svg",(a=document.createElementNS(v,"svg")).setAttribute("id",c.resetZoomId),a.setAttribute("width",25),a.setAttribute("height",25),(s={id:"p1",fill:c.iconColor,transform:"translate(-3,-3)"}).points="11.895,18.398 8.061,22.23 5.796,19.967 5.796,26.283 12.112,26.283 9.848,24.018 13.682,20.186",h=document.createElementNS(v,"polygon"),n(h).attr(s).appendTo(a),(t={id:"p2",fill:c.iconColor,transform:"translate(-3,-3)"}).points="19.691,6.072 21.955,8.337 18.121,12.172 19.908,13.959 23.742,10.123 26.007,12.389 26.007,6.072",o=document.createElementNS(v,"polygon"),n(o).attr(t).appendTo(a),(l={id:"p3",fill:c.iconColor,transform:"translate(-3,-3)"}).points="11.895,13.958 13.682,12.172 9.848,8.337 12.112,6.072 5.796,6.072 5.796,12.389 8.061,10.123",p=document.createElementNS(v,"polygon"),n(p).attr(l).appendTo(a),(g={id:"p4",fill:c.iconColor,transform:"translate(-3,-3)"}).points="19.908,18.396 18.121,20.186 21.955,24.018 19.691,26.283 26.007,26.283 26.007,19.967 23.741,22.23",b=document.createElementNS(v,"polygon"),n(b).attr(g).appendTo(a),C[0].appendChild(a),document.getElementById("chartContainer_"+_).appendChild(C[0])):(C=document.getElementById(u.id+"_ResetZoom"),n(C).css({top:c.top+0,left:c.left+0}))},drawCrosshairLine:function(c,r){var u=n("<div id="+c.id+"></div>");n(u).css({width:c.width,height:c.height,left:c.left,top:c.top,"border-style":c.style,opacity:c.opacity,visibility:"visible","border-color":c.stroke,"border-width":c["stroke-width"],position:c.position}),n(r).append(u[0])},drawCrosshairlabel:function(c,r,u){n("#"+this._rootId).offset();var v;n("#"+c.id).length>0?(v=document.getElementById(c.id),n(v).css({width:c.width-5,height:c.height-5,left:r.x+0-5,top:r.y+0-15,visibility:"visible",display:c.display}),document.getElementById(c.id).textContent=u):(v=n("<div id="+c.id+" style='position: absolute; z-index: 13000;'></div>"),n(v).css({color:r.fill,"font-family":r["font-family"],"font-size":r["font-size"],"font-weight":r["font-weight"],"font-style":r["font-style"],"background-color":c.fill,"border-style":"solid","border-color":c.stroke,"border-width":c["stroke-width"],opacity:c["fill-opacity"],"text-align":"center"}),document.getElementById(this._rootId).appendChild(v[0]))},createCrosshairCanvas:function(){var u,c=document.getElementById(this._rootId+"_canvas"),__left=(n("#"+this._rootId).offset(),0);return n("#secondCanvas").length?u=document.getElementById("secondCanvas"):(u=document.createElement("canvas"),n(document).find("#"+this.svgObj.id+"_CrosshairGroup").append(u),n(u).attr({id:"secondCanvas",width:c.width,height:c.height,top:0,left:__left}),n(u).css({width:c.width,height:c.height,top:0,left:__left})),u},drawTrackToolTip:function(c,r,u,_){var a,s,h,w_left=this.svgObj.offsetLeft,w_top=this.svgObj.offsetTop;if(n("#"+c.id).length>0)if(h=document.getElementById(c.id),n(h).css({left:c.x+w_left,top:c.y+w_top,visibility:"visible","border-box":"content-box","background-color":c.fill,color:r.fill,"border-color":c.stroke,"border-width":c["stroke-width"]}),"array"==jQuery.type(u)){for(a="",s=0;s<u.length;s++)a=a+u[s]+"</br>";n("#"+c.id).html(a)}else n("#"+c.id).html(u);else h=n("<div id="+c.id+" style='position: absolute; z-index: 13000;'></div>"),n(h).css({color:r.fill,"font-family":r["font-family"],"font-size":r["font-size"],"font-weight":r["font-weight"],"font-style":r["font-style"],width:c.width,height:c.height-_-2*c["stroke-width"],"background-color":c.fill,"border-style":"solid","text-align":"center",padding:"0px","padding-top":_/2+"px","padding-bottom":_/2+"px","border-color":c.stroke,"border-width":c["stroke-width"],opacity:c["fill-opacity"]}),document.getElementById(this._rootId).appendChild(h[0])},trackSymbol:function(c,r,u,_,w){var h,o,g,b,C,T,v=w.model.m_AreaBounds;if(n("#"+this._rootId).offset(),r.startX>=v.X&&r.startX<=v.X+v.Width&&r.startY>=v.Y&&r.startY<=v.Y+v.Height)if(o=c.PointIndex,"bubble"==w.model.series[h=c.SeriesIndex].type.toLowerCase()&&(t=2*w.model.series[h]._visiblePoints[o].radius+5,c.Style.BorderColor=c.Style.Color),"scatter"==w.model.series[h].type.toLowerCase()&&ej.util.isNullOrUndefined(_))this.drawCircle({cx:r.startX-2,cy:r.startY-2,r:c.ShapeSize.width/2,fill:c.Style.Color,opacity:c.Style.Opacity,stroke:c.Style.BorderColor},null);else{n("#canvas_trackSymbol").length>0?(g=n("#canvas_trackSymbol"),n(g).css({visibility:"visible",display:"block"})):g=n("<div id=canvas_trackSymbol></div>");var L={left:r.startX,top:r.startY},I=n("<div id="+c.ID+"></div>"),R=L.left-(t||c.ShapeSize.width),V=L.top-(t||c.ShapeSize.height);switch(n(I).css({left:R,top:V,"box-sizing":"content-box",position:"absolute",visibility:"visible",opacity:c.Style.Opacity,"z-index":200}),b=c.ShapeSize,c.symbol=I,C={},u.toLowerCase()){case"circle":n(I).css({width:t||c.ShapeSize.width+"px",height:t||c.ShapeSize.height+"px",left:t?R+t/2:R+c.ShapeSize.width/2-c.Style.BorderWidth+"px",top:t?V+t/2:V+c.ShapeSize.height/2-c.Style.BorderWidth+"px","border-style":"solid","background-color":c.Style.Color,"border-color":c.Style.BorderColor,"border-width":c.Style.BorderWidth,"border-radius":"100%"});break;case"rectangle":n(I).css({width:c.ShapeSize.width,height:c.ShapeSize.height,left:R+c.ShapeSize.width/2-c.Style.BorderWidth/2,top:V+c.Style.BorderWidth/2,"border-style":"solid","background-color":c.Style.Color,"border-color":c.Style.BorderColor,"border-width":c.Style.BorderWidth});break;case"diamond":C.direction=D="M "+(r.startX+-b.width/2)+" "+r.startY+" L "+r.startX+" "+(r.startY+-c.ShapeSize.height/2)+" L "+(r.startX+c.ShapeSize.width/2)+" "+r.startY+" L "+r.startX+" "+(r.startY+c.ShapeSize.height/2)+" L "+(r.startX+-c.ShapeSize.width/2)+" "+r.startY+"z",this.drawSvgShape(c,C);break;case"triangle":C.direction=D="M "+(r.startX+-b.width/2)+" "+(r.startY+b.height/2)+" L "+r.startX+" "+(r.startY+-b.height/2)+" L "+(r.startX+b.width/2)+" "+(r.startY+b.height/2)+" L "+(r.startX+-b.width/2)+" "+(r.startY+b.height/2)+"z",this.drawSvgShape(c,C);break;case"invertedtriangle":var D,z="rotate(180,"+r.startX+","+r.startY+")";C.direction=D="M "+(r.startX+-b.width/2)+" "+(r.startY+b.height/2)+" L "+r.startX+" "+(r.startY+-b.height/2)+" L "+(r.startX+b.width/2)+" "+(r.startY+b.height/2)+" L "+(r.startX+-b.width/2)+" "+(r.startY+b.height/2)+"z",C.rotate=z,this.drawSvgShape(c,C);break;case"cross":C.direction=D="M "+(r.startX+-b.width/2)+" "+r.startY+" L "+(r.startX+b.width/2)+" "+r.startY+" M "+r.startX+" "+(r.startY+b.height/2)+" L "+r.startX+" "+(r.startY+-b.height/2)+"z",this.drawSvgShape(c,C);break;case"star":C.direction=D="M "+(r.startX+b.width/3)+" "+(r.startY+-b.height/2)+" L "+(r.startX+-b.width/2)+" "+(r.startY+b.height/6)+" L "+(r.startX+b.width/2)+" "+(r.startY+b.height/6)+" L "+(r.startX+-b.width/3)+" "+(r.startY+-b.height/2)+" L "+r.startX+" "+(r.startY+b.height/2)+" L "+(r.startX+b.width/3)+" "+(r.startY+-b.height/2)+"z",this.drawSvgShape(c,C);break;case"hexagon":C.direction=D="M "+(r.startX+-b.width/2)+" "+r.startY+" L "+(r.startX+-b.width/4)+" "+(r.startY+-b.height/2)+" L "+(r.startX+b.width/4)+" "+(r.startY+-b.height/2)+" L "+(r.startX+b.width/2)+" "+r.startY+" L "+(r.startX+b.width/4)+" "+(r.startY+b.height/2)+" L "+(r.startX+-b.width/4)+" "+(r.startY+b.height/2)+" L "+(r.startX+-b.width/2)+" "+r.startY+"z",this.drawSvgShape(c,C);break;case"wedge":C.direction=D="M "+(r.startX-b.width)+" "+r.startY+" L "+(r.startX+b.width)+" "+(r.startY+-b.height/2)+" L "+(r.startX+b.width/4*3)+" "+r.startY+" L "+(r.startX+b.width)+" "+(r.startY+b.height/2)+" L "+(r.startX-b.width)+" "+r.startY+"z",this.drawSvgShape(c,C);break;case"trapezoid":C.direction=D="M "+(r.startX+-b.width/2)+" "+r.startY+" L "+(r.startX+-b.width/2)+" "+(r.startY+-b.height/4)+" L "+(r.startX+-b.width/2+b.width)+" "+(r.startY+-b.height/2)+" L "+(r.startX+-b.width/2+b.width)+" "+(r.startY+b.height/2)+" L "+(r.startX+-b.width/2)+" "+(r.startY+b.height/4)+" L "+(r.startX+-b.width/2)+" "+r.startY+"z",this.drawSvgShape(c,C);break;case"uparrow":C.direction=D="M "+(r.startX-b.width/2+b.width/4)+" "+(r.startY-b.height/2+b.height)+" L "+(r.startX-b.width/2+b.width/4)+" "+(r.startY-b.height/2+b.height/2)+" L "+(r.startX-b.width/2)+" "+(r.startY-b.height/2+b.height/2)+" L "+r.startX+" "+(r.startY-b.height/2)+" L "+(r.startX+b.width/2)+" "+(r.startY-b.height/2+b.height/2)+" L "+(r.startX+b.width/2-b.width/4)+" "+(r.startY-b.height/2+b.height/2)+" L "+(r.startX+b.width/2-b.width/4)+" "+(r.startY-b.height/2+b.height)+" L "+(r.startX-b.width/2+b.width/4)+" "+(r.startY-b.height/2+b.height)+"z",this.drawSvgShape(c,C);break;case"downarrow":C.direction=D="M "+(r.startX-b.width/2+b.width/4)+" "+(r.startY-b.height/2)+" L "+(r.startX+b.width/2-b.width/4)+" "+(r.startY-b.height/2)+" L "+(r.startX+b.width/2-b.width/4)+" "+(r.startY-b.height/2+b.height/2)+" L "+(r.startX+b.width/2)+" "+(r.startY-b.height/2+b.height/2)+" L "+r.startX+" "+(r.startY-b.height/2+b.height)+" L "+(r.startX-b.width/2)+" "+(r.startY-b.height/2+b.height/2)+" L "+(r.startX-b.width/2+b.width/4)+" "+(r.startY-b.height/2+b.height/2)+" L "+(r.startX-b.width/2+b.width/4)+" "+(r.startY-b.height/2)+"z",this.drawSvgShape(c,C);break;case"leftarrow":C.direction=D="M "+(r.startX-b.width/2+b.width)+" "+(r.startY+b.height/4)+" L "+(r.startX-b.width/2+b.width)+" "+(r.startY+-b.height/4)+" L "+(r.startX-b.width/2+b.width/2)+" "+(r.startY+-b.height/4)+" L "+(r.startX-b.width/2+b.width/2)+" "+(r.startY+-b.height/2)+" L "+(r.startX-b.width/2)+" "+r.startY+" L "+(r.startX-b.width/2+b.width/2)+" "+(r.startY+b.height/2)+" L "+(r.startX-b.width/2+b.width/2)+" "+(r.startY+b.height/4)+" L "+(r.startX-b.width/2+b.width)+" "+(r.startY+b.height/4)+"z",this.drawSvgShape(c,C);break;case"rightarrow":C.direction=D="M "+(r.startX-b.width/2)+" "+(r.startY+b.height/4)+" L "+(r.startX-b.width/2)+" "+(r.startY+-b.height/4)+" L "+(r.startX-b.width/2+b.width/2)+" "+(r.startY+-b.height/4)+" L "+(r.startX-b.width/2+b.width/2)+" "+(r.startY+-b.height/2)+" L "+(r.startX-b.width/2+b.width)+" "+r.startY+" L "+(r.startX-b.width/2+b.width/2)+" "+(r.startY+b.height/2)+" L "+(r.startX-b.width/2+b.width/2)+" "+(r.startY+b.height/4)+" L "+(r.startX-b.width/2)+" "+(r.startY+b.height/4)+"z",this.drawSvgShape(c,C);break;case"pentagon":var t=Math.sqrt(b.height*b.height+b.width*b.width)/2,N=ej.EjSvgRender.utils._getStringBuilder();for(T=0;T<=5;T++){var J=Math.PI/180*(72*T),Q=t*Math.cos(J),oe=t*Math.sin(J);N.append(0==T?"M "+(r.startX+Q)+" "+(r.startY+oe)+" ":"L "+(r.startX+Q)+" "+(r.startY+oe)+" ")}N.append("z"),D=N.toString(),C.direction=D,this.drawSvgShape(c,C);break;case"ellipse":n(I).css({width:c.ShapeSize.width,height:c.ShapeSize.height/2,"border-style":"solid",left:R+c.ShapeSize.height/2-c.Style.BorderWidth/2,top:r.startY+L.top-c.ShapeSize.height+4,"background-color":c.Style.Color,"border-color":c.Style.BorderColor,"border-width":c.Style.BorderWidth,"-moz-border-radius":"50%","-webkit-border-radius":"50%","border-radius":"50%","border-box":"content-box"});break;case"horizline":n(I).css({width:c.ShapeSize.width,height:0,"border-style":"solid",left:R+c.ShapeSize.width/2,top:r.startY+L.top-1,"border-color":c.Style.BorderColor,"border-width":"2px","border-box":"content-box"});break;case"vertline":n(I).css({width:0,height:c.ShapeSize.height,"border-style":"solid",left:r.startX+L.left-1,top:V+c.ShapeSize.height/2-2,"border-color":c.Style.BorderColor,"border-width":"2px","border-box":"content-box"});break;default:n(I).css({width:c.ShapeSize.width,height:c.ShapeSize.height,"border-style":"solid","background-color":c.Style.Color,"border-color":c.Style.BorderColor,"border-width":c.Style.BorderWidth,"border-radius":"50px"})}g[0].appendChild(I[0]),(document.getElementById(this.svgObj.id+"_CrosshairGroup")||document.getElementById("chartContainer_"+this._rootId)).appendChild(g[0])}},drawSvgShape:function(c,r){var a,s,u=document.getElementById(this._rootId+"_canvas"),w="http://www.w3.org/2000/svg",v=document.createElementNS(w,"svg");v.setAttribute("id","mySVG"),v.setAttribute("width",n(u).width()),v.setAttribute("height",n(u).height()),n(c.symbol).css({left:"0px",top:"0px"}),(a={id:"svgPath","fill-opacity":c.Style.Opacity,"stroke-width":c.Style.BorderWidth,fill:c.Style.Color,transform:r.rotate,stroke:c.Style.BorderColor}).d=r.direction,s=document.createElementNS(w,"path"),n(s).attr(a).appendTo(v),c.symbol[0].appendChild(v)},drawCircle:function(c,r){var u,_,w;c.lgndCtx?(w=this.lgndCtx,this.lgndCtx=r??this.lgndCtx,this.lgndCtx.save(),this.lgndCtx.beginPath(),this.lgndCtx.arc(c.cx,c.cy,c.r,0,2*Math.PI),this.lgndCtx.fillStyle=c.fill,this.lgndCtx.globalAlpha=c.opacity,this.lgndCtx.fill(),this.lgndCtx.lineWidth=c["stroke-width"],this.lgndCtx.strokeStyle=c.stroke,this.lgndCtx.stroke(),this.lgndCtx.restore(),this.lgndCtx=w):(u=this.ctx,this.ctx=r??this.ctx,this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(c.cx,c.cy,c.r,0,2*Math.PI),this.ctx.fillStyle=c.fill,this.ctx.globalAlpha=c.opacity,this.ctx.fill(),this.ctx.lineWidth=c["stroke-width"],(_=!!c["stroke-dasharray"]&&c["stroke-dasharray"].split(","))&&this.ctx.setLineDash(_),this.ctx.strokeStyle=c.stroke,this.ctx.stroke(),this.ctx.restore(),this.ctx=u)},drawPolyline:function(c){var r,u;for(this.ctx.save(),this.ctx.beginPath(),r=c.points.split(" "),u=0;u<r.length-1;u++){var _=r[u].split(","),w=_[0],v=_[1];0==u?this.ctx.moveTo(w,v):this.ctx.lineTo(w,v)}this.ctx.lineWidth=c["stroke-width"],this.ctx.strokeStyle=c.stroke,this.ctx.stroke(),this.ctx.restore()},drawPolygon:function(){},setFillAttribute:function(){},setStrokeAttribute:function(){},changePathValue:function(){},drawArc:function(){},changeVMLStyle:function(){},applyVMLStyle:function(){},drawEllipse:function(c,r){var u=this.ctx;this.ctx=r??this.ctx;var _=Math.max(c.rx,c.ry),w=c.rx/_,v=c.ry/_;c.lgndCtx?(this.lgndCtx.save(),this.lgndCtx.beginPath(),this.lgndCtx.translate(c.rx,c.ry),this.lgndCtx.scale(w,v),this.lgndCtx.arc(c.cx-c.rx,2*c.cy-c.rx,c.rx,0,2*Math.PI,!1),this.lgndCtx.fillStyle=c.fill,this.lgndCtx.fill(),this.lgndCtx.restore(),this.lgndCtx.lineWidth=c["stroke-width"],this.lgndCtx.strokeStyle=c.stroke,this.lgndCtx.stroke(),this.lgndCtx.restore()):(this.ctx.save(),this.ctx.beginPath(),this.ctx.translate(c.cx,c.cy),this.ctx.save(),this.ctx.scale(w,v),this.ctx.arc(0,0,_,0,2*Math.PI,!1),this.ctx.fillStyle=c.fill,this.ctx.fill(),this.ctx.restore(),this.ctx.lineWidth=c["stroke-width"],this.ctx.strokeStyle=c.stroke,this.ctx.stroke(),this.ctx.restore(),this.ctx=u)},_getAttrVal:function(c,r,u){return n(c).attr(r)??u},_setAttr:function(){},setSpanAttr:function(){},_textAttrReplace:function(){},drawImage:function(c){this.ctx.save();var r=this,u=new Image;u.src=c.href,u.onload=function(){r.ctx.drawImage(u,c.x,c.y,c.width,c.height)},this.ctx.restore()},createDefs:function(){},createGroup:function(){},createText:function(c,r){var u=document.createElement("div");return n(u).css({transform:c.rotateAngle,"font-family":parseFloat(c["font-family"]),"font-size":1.1*parseFloat(c["font-size"]),position:"absolute"}),ej.util.isNullOrUndefined(r)||(u.textContent=r),u},drawAxesBoundsClipPath:function(c,r){},getAttrVal:function(){},hexFromRGB:function(){},createDelegate:function(){},drawClipPath:function(){},drawCircularClipPath:function(){},append:function(c,r){n(c).appendTo(r)},createLegendCanvas:function(c){return this.legendsvgObj=document.createElement("canvas"),this._rootId=jQuery(c).attr("id"),this.legendsvgObj.setAttribute("id","legend_"+this._rootId+"_canvas"),this.lgndCtx=this.legendsvgObj.getContext("2d"),this.legendsvgObj}}}(jQuery),ej.EjSvgRender=function(n){var c,r;if(this.svgLink="http://www.w3.org/2000/svg",this.svgObj=document.createElementNS(this.svgLink,"svg"),this._rootId=jQuery(n).attr("id"),c=this._rootId+"_svg",$(document).find("#"+c).length>0){r=0;do{r++}while($(document).find("#"+this._rootId+"_svg"+r).length>0);c=this._rootId+"_svg"+r}this.svgObj.setAttribute("id",c)},function(n){function c(r,u,_,w){var v=w*Math.PI/180;return[r+_*Math.cos(v),u+_*Math.sin(v)]}ej.EjSvgRender.prototype={drawPath:function(r,u){if(n("#"+r.id).length>0)n("#"+r.id).attr(r);else{var _=document.createElementNS(this.svgLink,"path");n(_).attr(r).appendTo(u)}},createLegendSvg:function(r){return this.svgLink="http://www.w3.org/2000/svg",this.legendsvgObj=document.createElementNS(this.svgLink,"svg"),this._rootId=jQuery(r).attr("id"),this.legendsvgObj.setAttribute("id","legend_"+this._rootId+"_svg"),this.legendsvgObj},drawPolyline:function(r,u){if(n("#"+r.id).length>0)n("#"+r.id).attr(r);else{var _=document.createElementNS(this.svgLink,"polyline");n(_).attr(r).appendTo(u)}},drawLine:function(r,u){if(n("#"+r.id).length>0)n("#"+r.id).attr(r);else{var _=document.createElementNS(this.svgLink,"line");n(_).attr(r),n(_).appendTo(u)}},drawPolygon:function(r,u){if(n("#"+r.id).length>0)n("#"+r.id).attr(r);else{var _=document.createElementNS(this.svgLink,"polygon");n(_).attr(r),n(_).appendTo(u)}},drawCircle:function(r,u){if(n("#"+r.id).length>0)n("#"+r.id).attr(r);else{var _=document.createElementNS(this.svgLink,"circle");n(_).attr(r).appendTo(u)}},drawEllipse:function(r,u){if(n("#"+r.id).length>0)n("#"+r.id).attr(r);else{var _=document.createElementNS(this.svgLink,"ellipse");n(_).attr(r).appendTo(u)}},drawRect:function(r,u){if(n("#"+r.id).length>0)n("#"+r.id).attr(r);else{var _=document.createElementNS(this.svgLink,"rect");n(_).attr(r).appendTo(u)}},drawCylinder:function(r,u,_){var w,v,a;if(n("#"+r.id).length>0)n("#"+r.id).attr(r);else{var s=r.x,h=r.y,t=r.id,o=r.fill,l=o;this.checkColorFormat(o)||(o=ej.datavisualization.Chart.prototype.colorNameToHex(o));var g,b,C,T,D,L,I,R,F,A,U,V=2,z=0,N=0,J={svgRenderer:this};if(1==_.isColumn){var oe=r.height;D=F=s,A=L=(ue=(Q=r.width/2)/4)<h?h-ue:_.stacking?h+ue:h-ue,g=2*Q,b=0,C=0,T=ue<h||oe<2*ue?oe:_.stacking?oe-2*ue:oe,I=D,R=ue<h?L+oe:oe<L?oe+L:_.stacking?oe+(h-ue):oe+L,z=100,(_.stacking=!0)&&(_.isLastSeries||(L=A=h+ue,T=oe<Q/2?oe:oe-Q/2))}else{var ue,Q;g=0,b=2*(ue=r.height/2),C=oe=r.width,T=0,I=(D=F=s+(Q=ue/4))+oe,R=L=A=h,N=100,(_.stacking=!0)&&(_.isLastSeries||(I=D+oe-2*Q,C=oe-2*Q))}for(delete r.x,delete r.y,delete r.width,delete r.height,delete r.isColumn;V--;)U="M"+D.toString()+","+L.toString(),U+="a"+Q.toString()+","+ue.toString()+" 0 1,0 "+g.toString()+","+b.toString(),U+="a"+Q.toString()+","+ue.toString()+" 0 1,0 "+(-1*g).toString()+","+(-1*b).toString(),r.d=U,r.id=t+"_Region_"+V,r.fill=ej.Ej3DRender.prototype.polygon3D.prototype.applyZLight(o,J),this.drawPath(r,u),D=I,L=R;U="M"+F.toString()+","+A.toString(),U+="a"+Q.toString()+","+ue.toString()+" 0 1,0 "+g.toString()+","+b.toString(),U+="l"+C.toString()+" "+T.toString(),U+="a"+Q.toString()+","+ue.toString()+" 0 1,1 "+(-1*g).toString()+","+(-1*b).toString()+" z",r.d=U,r.id=t+"_Region_2",-1==l.indexOf("url")&&(0==n("#"+(w=t)).length&&(v={id:w,x1:"0%",y1:"0%",x2:z.toString()+"%",y2:N.toString()+"%"},(a=[])[0]={colorStop:"0%",color:o},a[1]={colorStop:"30%",color:ej.Ej3DRender.prototype.polygon3D.prototype.applyXLight(o,J)},a[2]={colorStop:"70%",color:ej.Ej3DRender.prototype.polygon3D.prototype.applyXLight(o,J)},a[3]={colorStop:"100%",color:o},this.drawGradient(v,a,u)),r.fill="url(#"+w+")"),this.drawPath(r,u)}},createGradientElement:function(r,u,_,w,v,a,s){var h;return"[object Array]"==Object.prototype.toString.call(u)?(this.drawGradient({id:this.svgObj.id+"_"+r+"Gradient",x1:_+"%",y1:w+"%",x2:v+"%",y2:a+"%"},u,s),h="url(#"+this.svgObj.id+"_"+r+"Gradient)"):h=u,h},drawGradient:function(r,u,_){var a,s,w=this.createDefs(),v=document.createElementNS(this.svgLink,"linearGradient");for(n(v).attr(r),a=0;a<u.length;a++)s=document.createElementNS(this.svgLink,"stop"),n(s).attr({offset:u[a].colorStop,"stop-color":u[a].color,"stop-opacity":1}),n(s).appendTo(v);n(v).appendTo(w),n(w).appendTo(_)},drawText:function(r,u,_,w){var v,a,s,h,t,o;if(n("#"+r.id).length>0)this._textAttrReplace(r,u,w);else{if(v=document.createElementNS(this.svgLink,"text"),a=n(v),"array"==jQuery.type(u))for(s=0,a.attr(r),h=0;h<u.length;h++)(t=document.createElementNS(this.svgLink,"tspan")).textContent=u[h],n(t).attr({x:r.x,dy:s}),n(t).appendTo(v),w=this.enable3D?w.font:w,o=ej.EjSvgRender.utils._measureText(u[h],null,w),s=r.isTrackball?o.height+2:o.height;else v.textContent=u,a.attr(r);a.appendTo(_)}},_textAttrReplace:function(r,u,_){var w,v,a,s;if(n("#"+r.id).attr(r),"array"==jQuery.type(u))if(v=0,(w=n("#"+r.id).children("tspan")).length>0&&w.length==u.length)for(a=0;a<w.length;a++)n(s=w[a]).attr({x:r.x,dy:v}),s.textContent=u[a],v=ej.EjSvgRender.utils._measureText(u[a],null,_).height+2;else n("#"+r.id).remove(),this.drawText(r,u,this.gTransToolEle,_);else n("#"+r.id).text(u)},drawImage:function(r,u){var _=document.createElementNS(this.svgLink,"image");_.setAttributeNS(null,"height",r.height),_.setAttributeNS(null,"width",r.width),_.setAttributeNS("http://www.w3.org/1999/xlink","href",r.href),_.setAttributeNS(null,"x",r.x),_.setAttributeNS(null,"y",r.y),_.setAttributeNS(null,"id",r.id),_.setAttributeNS(null,"visibility",r.visibility),ej.util.isNullOrUndefined(r.clippath)&&ej.util.isNullOrUndefined(r.preserveAspectRatio)||(_.setAttributeNS(null,"clip-path",r.clippath),_.setAttributeNS(null,"preserveAspectRatio",r.preserveAspectRatio)),n(_).appendTo(u)},createDefs:function(){return document.createElementNS(this.svgLink,"defs")},createClipPath:function(r){var u=document.createElementNS(this.svgLink,"clipPath");return n(u).attr(r),u},createForeignObject:function(r){var u=document.createElementNS(this.svgLink,"foreignObject");return n(u).attr(r),u},createGroup:function(r){var u=document.createElementNS(this.svgLink,"g");return n(u).attr(r),u},createPattern:function(r,u){var _=document.createElementNS(this.svgLink,u);for(var w in r)r.hasOwnProperty(w)&&_.setAttribute(w,r[w]);return _},createText:function(r,u){var _=document.createElementNS(this.svgLink,"text");return n(_).attr(r),ej.util.isNullOrUndefined(u)||(_.textContent=u),_},createPath:function(r){var u=document.createElementNS(this.svgLink,"path");return n(u).attr(r),u},createCircle:function(r){var u=document.createElementNS(this.svgLink,"circle");return n(u).attr(r),u},createLine:function(r){var u=document.createElementNS(this.svgLink,"line");return n(u).attr(r),u},_getAttrVal:function(r,u,_){return n(r).attr(u)??_},hexFromRGB:function(r){var v,u=r.R,_=r.G,w=r.B;return r.A?"rgba("+u.toString()+","+_.toString()+","+w.toString()+","+r.A+")":(v=[u.toString(16),_.toString(16),w.toString(16)],n.each(v,function(a,s){1===s.length&&(v[a]="0"+s)}),"#"+v.join("").toUpperCase())},checkColorFormat:function(r){return/(rgba?\((?:\d{1,3}[,\)]){3}(?:\d+\.\d+\))?)|(^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$)/gim.test(r)},hexToRGB:function(r){var _;return 1==/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/.test(r)?(_=/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d+(?:\.\d+)?))?\)$/.exec(r))?{R:parseInt(_[1]),G:parseInt(_[2]),B:parseInt(_[3]),A:_[4]}:null:(_=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(r))?{R:parseInt(_[1],16),G:parseInt(_[2],16),B:parseInt(_[3],16)}:null},createDelegate:function(r,u){return function(_){u.apply(r,[_,this])}},drawClipPath:function(r,u){if(n(u).find("#"+r.id).length>0)n(u).find("#"+r.id).attr(r);else{var _=this.createDefs(),w=this.createClipPath({id:r.id});r.id=r.id+"_Rect",this.drawRect(r,w),this.append(w,_),this.append(_,u)}},drawCircularClipPath:function(r,u){var _=this.createDefs(),w=this.createClipPath({id:r.id});this.drawCircle(r,w),this.append(w,_),this.append(_,u)},append:function(r,u){n(r).appendTo(u)},_setAttr:function(r,u){n(r).attr(u)}},ej.EjSvgRender.commonChartEventArgs={cancel:!1,data:null},ej.EjSvgRender.utils={_decimalPlaces:function(r){var u=(""+r).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return u?Math.max(0,(u[1]?u[1].length:0)-(u[2]?+u[2]:0)):0},_getLabelContent:function(r,u,_){switch(u._categoryValueType){case"number":var w=ej.util.isNullOrUndefined(u.labelFormat)?null:u.labelFormat.match("{value}");return ej.util.isNullOrUndefined(u.labelFormat)?u.labels[Math.floor(r)]:null!=w?u.labelFormat.replace("{value}",u.labels[Math.floor(r)]):ej.format(u.labels[Math.floor(r)],u.labelFormat,_);case"date":return ej.format(new Date(u.labels[Math.floor(r)]),ej.util.isNullOrUndefined(u.labelFormat)?"dd/MM/yyyy":u.labelFormat,_);case"string":return u.labels[Math.floor(r)];default:return""}},_getSeriesTemplateSize:function(a,s,_,w,v){var l,p,g,b,C,h=v.model.AreaType,t=v._id,o=n.inArray(_,v.model._visibleSeries);(l=0!=n("#template_group_"+t).length?n("#template_group_"+t):n("<div></div>").attr("id","template_group_"+t)).css("position","relative").css("z-index",1e3),p=n("#"+_.marker.dataLabel.template).clone(),n(p).attr("id",_.marker.dataLabel.template+"_"+o+"_"+s+"_"+t),(g=n(p)).css("position","absolute"),a.count=1,b={series:_,point:a},g.html(g.html().parseTemplate(b)),C="cartesianaxes"!=h&&_.enableAnimation&&"pyramid"!=_.type.toLowerCase()&&"funnel"!=_.type.toLowerCase()?"none":"block",g.css("display",C).appendTo(n(l)),n(l).appendTo("#"+t),a.size={height:g.height(),width:g.width()},w?((ej.util.isNullOrUndefined(_.LeftLabelMaxHeight)||_.LeftLabelMaxHeight<a.size.height)&&(_.LeftLabelMaxHeight=a.size.height),(ej.util.isNullOrUndefined(_.LeftLabelMaxWidth)||_.LeftLabelMaxWidth<a.size.width)&&(_.LeftLabelMaxWidth=a.size.width)):((ej.util.isNullOrUndefined(_.RightLabelMaxHeight)||_.RightLabelMaxHeight<a.size.height)&&(_.RightLabelMaxHeight=a.size.height),(ej.util.isNullOrUndefined(_.RightLabelMaxWidth)||_.RightLabelMaxWidth<a.size.width)&&(_.RightLabelMaxWidth=a.size.width))},getMinPointsDelta:function(r,u,_){var w=u,v=Number.MAX_VALUE;return n.each(w.model._visibleSeries,function(a,s){var h,t,o;"visible"==s.visibility.toLowerCase()&&r.name==s._xAxisName&&(1!=(h=ej.DataManager(s.points,ej.Query().sortBy("xValue")).executeLocal()).length||w.currentSeries&&w.currentSeries._yAxisName.toLowerCase()!=s._yAxisName.toLowerCase()?n.each(h,function(l,p){if(l>0&&p.xValue){var g=p.xValue-h[l-1].xValue;0!=g&&(v=Math.min(v,g))}}):(t=ej.util.isNullOrUndefined(_)?s.xAxis.visibleRange.min:_,0!=(o=h[0].xValue-t)&&(v=Math.min(v,o))))}),v==Number.MAX_VALUE&&(v=1),v},_getSeriesMaxLabel:function(r){var v,s,h,t,u={width:0,height:0},_=n(this.svgObject).width(),w=[];if(r.labels.length>0){for(t=0;t<r.labels.length;t++)s=this._measureText(r.visibleLabels[t],_,r.marker.dataLabel.font),u.width<s.width&&(u.width=s.width),u.height<s.height&&(u.height=s.height);r.LabelMaxHeight=u.height,r.LabelMaxWidth=u.width}else for(w.push(r.rightsidePoints),w.push(r.leftsidePoints),h=0;h<w.length;h++){for(t=0;t<w[h].length;t++)s=this._measureText((v=w[h][t]).text?v.text:v.y,_,r.marker.dataLabel.font),u.width<s.width&&(u.width=s.width),u.height<s.height&&(u.height=s.height);0==h?(r.RightLabelMaxHeight=u.height,r.RightLabelMaxWidth=u.width):(r.LeftLabelMaxHeight=u.height,r.LeftLabelMaxWidth=u.width)}},_getHighestLabel:function(r,u,_){var w,s,h,o,l,p,g,b,v=0,a=[],t=0;if(ej.isNullOrUndefined(_))for(l=0==r.labels.length?r.visibleLabels:r.labels,p=0;p<l.length;p++){for(t=0,-1!=(g=0==r.labels.length?l[p].Text:l[p]).indexOf("<br>")?a=g.split("<br>"):a.push(g),b=0;b<a.length;b++)t<(h=this._measureText(s=a[b],n(u.svgObject).width(),r.font).width)&&(t=h,w=s);v<t&&(v=t,o=w)}else if(_&&("string"==typeof _&&-1!=_.indexOf("<br>")||"object"==typeof _))for(t=0,a="object"==typeof _?_:_.split("<br>"),b=0;b<a.length;b++)t<(h=this._measureText(s="object"==typeof a[b]?a[b].Text:a[b],u,r.font).width)&&(t=h,w=s),o=w;return o},_getMaxLabelWidth:function(r,u){var _,v,a,s,o,l,p,g,b,C,D,L,I,R,V,F,A,z,N,J,Q,oe,le;this.chartObj=u;var ae,de,Se,be,ne={width:0,height:0,maxHeight:0,maxWidth:0},he="",ee=u.svgRenderer.vmlNamespace,re=r.visibleRange,W=r.labelIntersectAction?r.labelIntersectAction.toLowerCase():"",pe=r.labelPlacement,M=r.opposedPosition,B=r.orientation.toLowerCase(),fe=u.model.requireInvertedAxes?"vertical"==B:"horizontal"==B,xe=r.roundingPlaces,O=r.labelRotation,H=(B=r.orientation,0),Z=r.visibleLabels,te=Z.length;if(r.visible){for(_=0;_<te;_++)r.visibleLabels[_].y=0,"string"==typeof r.visibleLabels[_].Text&&-1!=r.visibleLabels[_].Text.indexOf("<br>")&&"vertical"==r.orientation?(ae=r.visibleLabels[_].Text.split("<br>"),de=this._getHighestLabel(r,n(this.svgObject).width(),ae),w=this._measureText(de,n(this.svgObject).width(),r.font,r.labelRotation)):w=this._measureText(r.visibleLabels[_].Text,n(this.svgObject).width(),r.font,r.labelRotation),ne.width<w.width&&(ne.width=w.width,he=r.visibleLabels[_].Text),ne.height<w.height&&(ne.height=w.height);if((r.enableTrim||"trim"==W&&"vertical"!=r.orientation)&&(ne.width=ne.width>(v=r.maximumLabelWidth)?v:ne.width),ne.rows=1,ne.maxWidth=ne.width,ne.maxHeight=ne.height,!ee&&(O||W)&&(a=0,"rotate45"==W?a=45:"rotate90"==W&&(a=90),r.rotationValue=O=null!=O||"vertical"==B?O:a,O)){if(he=ej.isNullOrUndefined(he)?"":he,s=this._measureText(he,n(this.svgObject).width(),r.font,r.labelRotation),(r.enableTrim||"trim"==W)&&s.width>v&&""!=he)for(t=he,g=1;g<t.toString().length;g++)if(t=t.toString().substring(0,g)+"... ",(h=this._measureText(t,n(u.svgObject).width(),r.font)).width>=v){he=t=t.toString().substring(0,g-1)+"... ";break}he=(W||r.enableTrim)&&O?"string"==typeof he&&-1!=he.indexOf("<br>")?this._getHighestLabel(r,u,null):he:this._getHighestLabel(r,u,null),C=this.rotatedLabel(r,u,O,he),r.labelIntersectAction&&"multiplerows"==r.labelIntersectAction.toLowerCase()&&(H=ne.height+C.height),ne.height=r.rowsCount&&r.rowsCount>1&&90!=O&&r.enableTrim?r.rowsCount*ne.height:C.height,ne.width=C.width}if(r.labelIntersectAction)if(!r.rowsCount||"none"!=W&&"trim"!=W&&"hide"!=W&&0!=O||"wrap"==W&&!r.enableTrim||"wrapbyword"==W&&!r.enableTrim||"multiplerows"==W&&!r.enableTrim){if("wrap"==W||"wrapbyword"==W){if("betweenticks"==(pe=pe||ej.datavisualization.Chart.LabelPlacement.BetweenTicks).toLowerCase()?(l=1+(r.labels.length>1?-.5:0),l=parseFloat(l.toFixed(xe||(0==ej.EjSvgRender.utils._decimalPlaces(re.interval)?1:ej.EjSvgRender.utils._decimalPlaces(re.interval)))),o=Math.ceil((l-re.min)/(re.max-re.min)*r.length)):o=Math.ceil(r.length/Z.length),"horizontal"==r.orientation){var Ce=0,Pe=0,Ne=r.labels.length>0&&"datetimecategory"!=r.valueType?r.labels:r.visibleLabels,Le=r.width?r.width/Ne.length:(r.length-(u.svgWidth-r.length)-20)/Ne.length;for(r.labelsCollection=[],N=0;N<Ne.length;N++){var je=0,Ae=[],Oe=[],Fe="object"==typeof Ne[N]?Ne[N].Text:Ne[N];for("string"==typeof Fe&&-1!=Fe.indexOf("<br>")?Oe=Fe.split("<br>"):Oe.push(Fe),J=0;J<Oe.length;J++)for(je=(p=ej.EjAxisRenderer.prototype.rowscalculation(Oe[J],u.model.m_AreaBounds,r,Le,null)).length+je,g=0;g<p.length;g++)Ae.push(p[g]);O&&(he=this._getHighestLabel(r,u,Ae),Pe<(b=this._measureText(he,n(u.svgObject).width(),r.font).width)&&(Pe=b,ke=he)),Ce=Math.max(je,Ce),r.labelsCollection[N]=Ae}C=this.rotatedLabel(r,u,O,ke)}o=o<0?Math.ceil(r.length/Z.length):o,T=Math.round(ne.width/o),ne.rows=O?T-1:T+1,ne.rows<0&&(ne.rows=0),D=Ce&&!O?Ce:ne.rows,Ce>T&&!O&&(D-=1),ne.height=O?C.height+D*C.height:ne.height+D*ne.height}else if("multiplerows"==W){var $e=u._getLegendSpace(),He=u.model.border.width,Ye=n(u.svgObject).width()-u.model.margin.left-u.model.margin.right,dt=""!=(be=(Se=r.title).text)&&r.visible?this._measureText(be,Ye,Se.font).height+2*u.model.elementSpacing:0,Ke=u.model.elementSpacing+dt+r.majorTickLines.size+r.axisLine.width,tt=u._getYValues(u.model._visibleSeries[0].points),ht=Math.max.apply(Math,tt),nt=u.model._axes[1],w=this._measureText(ht,n(this.svgObject).width(),nt.font,nt.labelRotation),Ct=$e.rightLegendWidth+Ke+w.width+u.model.margin.right+u.model.margin.left+2*He,yt=n(u.svgObject).width()-Ct;if(fe){var ke,Dt=0,wt=[],T=0;for(Pe=0,_=0;_<Z.length;_++){I=[],"string"==typeof(L=Z[_]).Text&&-1!=L.Text.indexOf("<br>")?I=L.Text.split("<br>"):I.push(L),R=I.length,V=!1,H=Math.max(H,Dt),Dt=L.y=ne.height;var t,Mt=(t=this._measureText(L.Text,n(this.svgObject).width(),r.font)).height,bt=Math.abs(Math.floor((L.Value-re.min)/re.delta*yt));if(wt.length>0)for(F=wt,A=!0,z=0;z<F.length&&A;z++){je=0;var Pt=F[z];for(N=0;Pt&&N<Pt.length;N++)for(J=0;J<R;J++){var h=ej.EjSvgRender.utils._measureText(1==R?I[J].Text:I[J],n(this.svgObject).width(),r.font).width,jt=(Mt=ej.EjSvgRender.utils._measureText(I[J],n(this.svgObject).width(),r.font).height,N==Pt.length?Pt[N-1]:Pt[N]),kt=Math.abs(Math.floor((jt.Value-re.min)/re.delta*yt)),mt=ej.EjSvgRender.utils._measureText(jt.Text,n(this.svgObject).width(),r.font).width;if(kt+(r.isInversed?-mt/2:mt/2)>=bt-(h/=2))Dt=L.y+Mt,L.y+=Mt,je++,z+1==F.length&&(A=!1);else if(N+1==Pt.length){A=J!=R-1;break}}}if(L.y=Dt,null==wt[T=Dt/Mt-1]&&(wt[T]=[]),1==R)wt[T].push(L);else for(J=0;J<R;J++)null==wt[T]&&(wt[T]=[]),wt[T].push({Text:I[J],Value:L.Value}),J!=R-1&&(T+=1,Dt=L.y+Mt)}ne.height=ne.height>(H=wt.length*Mt)?ne.height:H,Mt>0&&(ne.rows=Math.round(M?(H+Mt)/Mt:H/Mt)),ne.rows=O?ne.rows-1:ne.rows,ne.rows<1&&(ne.rows=1)}if(!fe){for(Q=0,_=0;_<r.visibleLabels.length;_++){for(h=(t=this._measureText((L=r.visibleLabels[_]).Text,n(this.svgObject).width(),r.font)).width,Mt=t.height,bt=Math.abs(Math.floor((L.Value-r.visibleRange.min)/r.visibleRange.delta*r.length)),oe=0;oe<_;oe++)Pt=r.visibleLabels[oe],Math.abs(Math.floor((Pt.Value-r.visibleRange.min)/r.visibleRange.delta*r.length))+this._measureText(Pt.Text,n(this.svgObject).width(),r.font).height/2>bt-Mt/2&&r.visibleLabels[oe].y==L.y&&(L.y=Q=L.y+h,V=!0);le=Q}ne.width=ne.width+le+(V?5:0)}}}else 0==O&&(ne.rows=r.rowsCount,ne.height=r.rowsCount*ne.height)}return ne},rotatedLabel:function(r,u,_,w,v){var s=(u=v?this.chartObj:u||this.chartObj).svgRenderer.createText({"font-size":r.font.size,transform:"rotate("+_+",0,0)","font-family":r.font.fontFamily,"font-style":r.font.fontStyle,rotateAngle:"rotate("+_+"deg)","text-anchor":"middle"},w);return{height:Math.ceil(this._measureBounds(s,u).height),width:Math.ceil(this._measureBounds(s,u).width)}},_getTransform:function(r,u,_){var w,v,a,s;return _?(w=u.x,v=r.y,a=u.width,s=r.height):(w=r.x,v=u.y,a=r.width,s=u.height),{x:w,y:v,width:a,height:s}},_calculateroundedCorner:function(r,u,_,w,v,a){var g,b,C,T,D,s=u.x,h=u.y,o=this.chartObj.model.enableCanvasRendering&&!a?5/4:0,l=u.width,p=u.height;return"object"!=typeof r||ej.util.isNullOrUndefined(r)?g=b=C=T=r:(g=r.topLeft,b=r.bottomLeft,C=r.topRight,T=r.bottomRight),g=ej.util.isNullOrUndefined(u.rx)?g:u.rx,b=ej.util.isNullOrUndefined(u.rx)?b:u.rx,D="M "+s+" "+(g+h)+" Q "+s+" "+h+" "+(s+g)+" "+h+" ",_&&"top"==w&&(D+="L "+(s+l/2-2.5+o)+" "+h+" L "+(s+l/2+o-v)+" "+(h-5)+" L "+(s+l/2+2.5+o)+" "+h+" "),D+="L "+(s+l-(C=ej.util.isNullOrUndefined(u.ry)?C:u.ry))+" "+h+" Q "+(s+l)+" "+h+" "+(s+l)+" "+(h+C)+" ",_&&"right"==w&&(D+="L "+(s+l)+" "+(h+p/2-2.5+o)+" L "+(s+l+5)+" "+(h+p/2+o-v)+" L "+(s+l)+" "+(h+p/2+2.5+o)+" "),D+="L "+(s+l)+" "+(h+p-(T=ej.util.isNullOrUndefined(u.ry)?T:u.ry))+" Q "+(s+l)+" "+(h+p)+" "+(s+l-T)+" "+(h+p)+" ",_&&"bottom"==w&&(D+="L "+(s+l/2-2.5+o)+" "+(h+p)+" L "+(s+l/2+o-v)+" "+(h+p+5)+" L "+(s+l/2+2.5+o)+" "+(h+p)+" "),D+="L "+(s+b)+" "+(h+p)+" Q "+s+" "+(h+p)+" "+s+" "+(h+p-b)+" ",_&&"left"==w&&(D+="L "+s+" "+(h+p/2-2.5+o)+" L "+(s-5)+" "+(h+p/2+o-v)+" L "+s+" "+(h+p/2+2.5+o)+" "),D+"L "+s+" "+(g+h)+" z"},browserInfo:function(){var r={},u=[],_={webkit:/(chrome)[ \/]([\w.]+)/i,safari:/(webkit)[ \/]([\w.]+)/i,msie:/(msie) ([\w.]+)/i,opera:/(opera)(?:.*version|)[ \/]([\w.]+)/i,mozilla:/(mozilla)(?:.*? rv:([\w.]+)|)/i};for(var w in _)if(_.hasOwnProperty(w)&&(u=navigator.userAgent.match(_[w]))){r.name=u[1].toLowerCase(),r.version=u[2],!navigator.userAgent.match(/Trident\/7\./)||(r.name="msie");break}return r.isMSPointerEnabled="msie"==r.name&&r.version>9&&window.navigator.msPointerEnabled,r.pointerEnabled=window.navigator.pointerEnabled,r},_measureText:function(r,u,_){var v,a,s,h,t,w=n(document).find("#measureTex");n("#measureTex").css("display","block"),0==w.length?(v=document.createElement("text"),n(v).attr({id:"measureTex"}),document.body.appendChild(v)):v=w[0];var o=null,l=null,p=null,g=null;if("string"==typeof r&&(r.indexOf("<")>-1||r.indexOf(">")>-1)){for(a=r.split(" "),s=0;s<a.length;s++)-1==a[s].indexOf("<br/>")&&(a[s]=a[s].replace(/[<>]/g,"&"));r=a.join(" ")}return/<\/?[a-z][\s\S]*>/.test(r)?n(v).html(r):v.textContent=r,null!=_&&null==_.size&&(o=(h=(h=_).split(" "))[0],l=h[1],p=h[2],g=h[3]),null!=_&&(v.style.fontSize=_.size>0?_.size+"px":_.size?_.size:l,v.style.fontStyle&&(v.style.fontStyle=_.fontStyle?_.fontStyle:o),v.style.fontFamily=_.fontFamily?_.fontFamily:p,-1==window.navigator.userAgent.indexOf("MSIE 8.0")&&(v.style.fontWeight=_.fontWeight?_.fontWeight:g)),v.style.backgroundColor="white",v.style.position="absolute",v.style.top=-100,v.style.left=0,v.style.visibility="hidden",v.style.whiteSpace="nowrap",u&&(v.style.maxwidth=u+"px"),t={width:v.offsetWidth,height:v.offsetHeight},n("#measureTex").css("display","none"),t},_trimText:function(r,u,_){var v,a,s;for(a=(v=r.toString()).length,s=1;s<a;s++)if(v=r.substring(0,s)+"...",ej.EjSvgRender.utils._measureText(v,null,_).width>=u)return v.substring(0,s-1)+"... ";return r},_measureBounds:function(r,u){u.model.enableCanvasRendering?n(document.body).append(r):(u.svgRenderer.append(r,u.svgObject),u.svgRenderer.append(u.svgObject,u.element));var _=r.getBoundingClientRect(),w={left:_.left,right:_.right,top:_.top,bottom:_.bottom,width:_.right-_.left,height:_.bottom-_.top};return n(r).remove(),w},_drawAxesBoundsClipPath:function(r,u,_){var w,v=n(r),a=this._getTransform(u.xAxis,u.yAxis,_.model.requireInvertedAxes),s="polaraxes"==_.model.AreaType?n(_.svgObject).width():a.width,h="polaraxes"==_.model.AreaType?n(_.svgObject).height():a.height,t=_.model.requireInvertedAxes?u.yAxis.plotOffset:u.xAxis.plotOffset,o=_.model.requireInvertedAxes?u.xAxis.plotOffset:u.yAxis.plotOffset;"polaraxes"==_.model.AreaType?_.svgRenderer.drawCircularClipPath(w={id:r?r.id+"_ClipRect":"",cx:_.model.centerX,cy:_.model.centerY,r:_.model.Radius,fill:"white","stroke-width":1,stroke:"transparent"},r):_.svgRenderer.drawClipPath(w={id:r?r.id+"_ClipRect":"",x:0-t,y:0-o,width:s+2*t,height:h+2*o,fill:"white","stroke-width":1,stroke:"transparent"},r),w.id.indexOf("_Rect")&&(w.id=w.id.replace("_Rect","")),v.attr("clip-path","url(#"+w.id+")")},_getStringBuilder:function(){var r=[],u=0;return{append:function(_){return r[u++]=_,this},remove:function(_,w){return r.splice(_,w||1),this},insert:function(_,w){return r.splice(_,0,w),this},toString:function(_){return r.join(_||"")}}},_addRegion:function(r,u,_,w,v){var a=_.type,s=n.inArray(_,r.model._visibleSeries);s>=0&&r.model.chartRegions.push({SeriesIndex:s,Region:{PointIndex:v,Bounds:u},type:a})},AddRegion:function(r,u,_){_&&r.model.chartRegions.push({isStripLine:_,Region:{Bounds:u}})},_getSvgXY:function(r,u,_,w){var v,a;return w.model.requireInvertedAxes?(v=r+_.yAxis.x,a=u+_.xAxis.y):(v=r+_.xAxis.x,a=u+_.yAxis.y),{X:v,Y:a}},_getPoint:function(r,u){var w,v,a,_=r.xValue,s="boxandwhisker"==u.type?r.YValues:r.YValues[0],h=u._isTransposed?u.xAxis.height:u.xAxis.width,t=u._isTransposed?u.yAxis.width:u.yAxis.height;return r.location={},u._hiloTypes&&(w=r.YValues[1],w="logarithmic"==u.yAxis._valueType?ej.EjSvgRender.utils._logBase(0==w?1:w,u.xAxis.logBase):w,w=this._getPointXY(w,u.yAxis.visibleRange,u.yAxis.isInversed),r.location.low=(u._isTransposed?w:1-w)*t),v="logarithmic"==u.xAxis._valueType?ej.EjSvgRender.utils._logBase(0==_?1:_,u.xAxis.logBase):_,a="logarithmic"==u.yAxis._valueType?ej.EjSvgRender.utils._logBase(0==s?1:s,u.xAxis.logBase):s,v=this._getPointXY(v,u.xAxis.visibleRange,u.xAxis.isInversed),a=this._getPointXY(a,u.yAxis.visibleRange,u.yAxis.isInversed),r.location.X=u._isTransposed?a*t:v*h,r.location.Y=u._isTransposed?(1-v)*h:(1-a)*t,r.location},_getPointXY:function(r,u,_){var w=0;return w=(r-u.min)/u.delta,w=isNaN(w)?0:w,_?1-w:w},_dateTimeLabelFormat:function(r,u){switch(r.toLowerCase()){case"years":return u._labelFormat="MMM, yyyy";case"months":case"weeks":return u._labelFormat="dd, MMM";case"days":default:return u._labelFormat="dd/MM/yyyy";case"hours":return u._labelFormat="dd, hh:mm";case"minutes":return u._labelFormat="hh:mm";case"seconds":return u._labelFormat="mm:ss";case"milliseconds":return u._labelFormat="ss:fff"}},_getFontString:function(r){return null==r&&(r={}),r.FontFamily||(r.FontFamily="Arial"),r.FontStyle||(r.FontStyle="Normal"),r.Size||(r.Size="12px"),r.FontStyle+" "+r.Size+" "+r.FontFamily},_valueToVector:function(r,u){return this._coefficientToVector(this._valueToPolarCoefficient(r,u))},TransformToVisible:function(r,u,_,w){u="logarithmic"==r.xAxis._valueType&&u>0?Math.log(u,r.xAxis.logBase):u,_="logarithmic"==r.xAxis._valueType&&_>0?Math.log(_,r.yAxis.logBase):_;var v=w.model.Radius*this._valueToCoefficient(r.yAxis,_),a=this._valueToVector(r.xAxis,u);return{X:w.model.centerX+v*a.X,Y:w.model.centerY+v*a.Y}},Transform3DToVisible:function(r,u,_,w){if(null!=r.xAxis&&null!=r.yAxis){if(u=u="logarithmic"==r.xAxis._valueType.toLowerCase()&&u>0?math.log(u,void 0):u,w.model.requireInvertedAxes){var p=w.model.m_AreaBounds.Y;return{X:w.model.m_AreaBounds.X+r.yAxis.width*ej.EjSvgRender.utils._valueToCoefficient(r.yAxis,_,w),Y:p+r.xAxis.height*(1-ej.EjSvgRender.utils._valueToCoefficient(r.xAxis,u,w))}}return p=r.yAxis.y,{X:u=r.xAxis.x+Math.round(r.xAxis.width*ej.EjSvgRender.utils._valueToCoefficient(r.xAxis,u,w)),Y:_=p+Math.round(r.yAxis.height*(1-ej.EjSvgRender.utils._valueToCoefficient(r.yAxis,_,w)))}}return new(void 0)(0,0)},_valueToPolarCoefficient:function(r,u){var w,v,a;return"category"!=r._valueType?(w=r.visibleRange.max-r.visibleRange.interval-r.visibleRange.min,v=r.visibleLabels.length-1):(w=r.visibleRange.delta,v=r.visibleLabels.length),a=(u-r.visibleRange.min)/w,a*=1-1/v,a=isNaN(a)?0:a,r.isInversed?a:1-a},_coefficientToVector:function(r){var u=Math.PI*(1.5-2*r);return{X:Math.cos(u),Y:Math.sin(u)}},_valueToCoefficient:function(r,u,_){var w;return w=((w=_&&"polaraxes"==_.model.AreaType?u:r._valueType&&"logarithmic"==r._valueType.toLowerCase()?ej.EjSvgRender.utils._logBase(0==u?1:u,r.logBase):u)-r.visibleRange.min)/r.visibleRange.delta,r.isInversed?1-w:w},_getBoundingClientRect:function(r,u,_,w){var s,h,v=r.getBoundingClientRect(),a=n("#"+u.svgObject.id)[0].getBoundingClientRect();return w?(s=this._getTransform(_.xAxis,_.yAxis,!0).x,h=this._getTransform(_.xAxis,_.yAxis,!0).y):(s=this._getTransform(_.xAxis,_.yAxis,!1).x,h=this._getTransform(_.xAxis,_.yAxis,!1).y),{x:v.left-(s+a.left),y:v.top-(h+a.top),width:v.right-v.left,height:v.bottom-v.top}},_minMax:function(r,u,_){return r>_?_:r<u?u:r},_inside:function(r,u){return""!==r&&r<=u.max&&r>=u.min},_logBase:function(r,u){return Math.log(r)/Math.log(u)},_correctRect:function(r,u,_,w){return{X:Math.min(r,_),Y:Math.min(u,w),Width:Math.abs(_-r),Height:Math.abs(w-u)}},_getValuebyPoint:function(r,u,_,w){var v=w?_.xAxis.height:_.xAxis.width,a=w?_.yAxis.width:_.yAxis.height,s=_.xAxis.isInversed?1-r/v:r/v,h=_.yAxis.isInversed?1-u/a:u/a;return s=s*_.xAxis.visibleRange.delta+_.xAxis.visibleRange.min,h=h*_.yAxis.visibleRange.delta+_.yAxis.visibleRange.min,{PointX:s="logarithmic"==_.xAxis._valueType?Math.pow(_.xAxis.logBase,s):s,PointY:h="logarithmic"==_.yAxis._valueType?Math.pow(_.yAxis.logBase,h):h}}},ej.EjSvgRender.chartTransform3D={ToRadial:Math.PI/180,transform3D:function(r){return this.vector||(this.vector=new((new ej.Ej3DRender).vector3D),this.matrixobj=new((new ej.Ej3DRender).matrix3D),this.bsptreeobj=new((new ej.Ej3DRender).BSPTreeBuilder),this.polygon=new((new ej.Ej3DRender).polygon3D)),{mViewport:r,Rotation:0,Tilt:0,Depth:0,PerspectiveAngle:0,needUpdate:!0,centeredMatrix:this.matrixobj.getIdentity(),Perspective:this.matrixobj.getIdentity(),resultMatrix:this.matrixobj.getIdentity(),viewMatrix:this.matrixobj.getIdentity(),Depth:0}},transform:function(r){this.setCenter(this.vector.vector3D(r.mViewport.Width/2,r.mViewport.Height/2,r.Depth/2),r),this.setViewMatrix(this.matrixobj.transform(0,0,r.Depth),r),this.setViewMatrix(this.matrixobj.getMatrixMultiplication(r.viewMatrix,this.matrixobj.turn(-this.ToRadial*r.Rotation)),r),this.setViewMatrix(this.matrixobj.getMatrixMultiplication(r.viewMatrix,this.matrixobj.tilt(-this.ToRadial*r.Tilt)),r),this.updatePerspective(r.PerspectiveAngle,r),r.needUpdate=!0},updatePerspective:function(r,u){var _=(u.mViewport.Width+u.mViewport.Height)*Math.tan(this.degreeToRadianConverter((180-Math.abs(r%181))/2))+u.Depth/1;u.Perspective[0][0]=_,u.Perspective[1][1]=_,u.Perspective[2][3]=1,u.Perspective[3][3]=_},degreeToRadianConverter:function(r){return r*Math.PI/180},toScreen:function(r,u,v,w){return v=v||this.result,w?(this.matrixobj=w,r=w.getMatrixVectorMutiple(v(u,w),r)):(u.chartObj=this.matrixobj,r=this.matrixobj.getMatrixVectorMutiple(v(u),r)),{x:r.x,y:r.y}},setViewMatrix:function(r,u){u.viewMatrix!=r&&(u.viewMatrix=r,u.needUpdate=!0)},setCenteredMatrix:function(r,u){u.viewMatrix!=r&&(u.centeredMatrix=r,u.needUpdate=!0)},result:function(r,u){var _=r.chartObj?r.chartObj:this.matrixobj;return _||(_=u),r.needUpdate&&(r.resultMatrix=_.getMatrixMultiplication((this.matrixobj?this.matrixobj:u).getInvertal(r.centeredMatrix),r.Perspective),r.resultMatrix=_.getMatrixMultiplication(r.resultMatrix,r.viewMatrix),r.resultMatrix=_.getMatrixMultiplication(r.resultMatrix,r.centeredMatrix),r.needUpdate=!1),r.resultMatrix},setCenter:function(r,u){u.centeredMatrix=this.matrixobj.transform(-r.x,-r.y,-r.z),u.needUpdate=!0},toPlane:function(r,u,_){var w=this.vector.vector3D(r.x,r.y,0),v=this.vector.vector3DPlus(w,this.vector.vector3D(0,0,1));return w=this.vector.vector3DMultiply(_.centeredMatrix,w),v=this.vector.vector3DMultiply(_.centeredMatrix,v),w=this.vector.vector3DMultiply(this.matrixobj.getInvertal(_.Perspective),w),v=this.vector.vector3DMultiply(this.matrixobj.getInvertal(_.Perspective),v),w=this.polygon.getPoint(w,this.vector.vector3DMinus(v-w)),w=this.vector.vector3DMultiply(this.matrixobj.getInvertal(_.viewMatrix),w),this.vector.vector3DMultiply(this.matrixobj.getInvertal(_.centeredMatrix),w)}},ej.EjSvgRender.chartSymbol={_drawSeriesType:function(r,u,_){var w=_.model.series[u.SeriesIndex].type.toLowerCase(),v=_.legendItem.drawType;switch(w=ej.util.isNullOrUndefined(v)?w:v){case ej.datavisualization.Chart.Type.Line:return ej.util.isNullOrUndefined(v)?this._drawLine(r,u,_,_.gLegendItemEle):this._drawStraightLine(r,u,_,_.gLegendItemEle);case ej.datavisualization.Chart.Type.StepLine:return this._drawStepLine(r,u,_,_.gLegendItemEle);case ej.datavisualization.Chart.Type.StackingArea:case ej.datavisualization.Chart.Type.StackingArea100:case ej.datavisualization.Chart.Type.Area:case ej.datavisualization.Chart.Type.RangeArea:return this._drawArea(r,u,_,_.gLegendItemEle);case ej.datavisualization.Chart.Type.StepArea:return this._drawStepArea(r,u,_,_.gLegendItemEle);case ej.datavisualization.Chart.Type.Bar:case ej.datavisualization.Chart.Type.StackingBar100:case ej.datavisualization.Chart.Type.StackingBar:return this._drawBar(r,u,_,_.gLegendItemEle);case ej.datavisualization.Chart.Type.Pie:return this._drawPie(r,u,_,_.gLegendItemEle);case ej.datavisualization.Chart.Type.Doughnut:return this._drawDoughnut(r,u,_,_.gLegendItemEle);case ej.datavisualization.Chart.Type.Hilo:return this._drawHilo(r,u,_,_.gLegendItemEle);case ej.datavisualization.Chart.Type.HiloOpenClose:return this._drawHiloOpenClose(r,u,_,_.gLegendItemEle);case ej.datavisualization.Chart.Type.Candle:return this._drawCandle(r,u,_,_.gLegendItemEle);case ej.datavisualization.Chart.Type.Pyramid:return this._drawPyramid(r,u,_,_.gLegendItemEle);case ej.datavisualization.Chart.Type.Funnel:return this._drawFunnel(r,u,_,_.gLegendItemEle);case ej.datavisualization.Chart.Type.Spline:return this._drawSpline(r,u,_,_.gLegendItemEle);case ej.datavisualization.Chart.Type.SplineArea:case ej.datavisualization.Chart.Type.StackingSplineArea:case ej.datavisualization.Chart.Type.StackingSplineArea100:return this._drawSplineArea(r,u,_,_.gLegendItemEle);case ej.datavisualization.Chart.Type.RangeColumn:return this._drawRangeColumn(r,u,_,_.gLegendItemEle);case ej.datavisualization.Chart.Type.Bubble:case ej.datavisualization.Chart.Type.Scatter:return this._drawCircle(r,u,_,_.gLegendItemEle);case ej.datavisualization.Chart.Type.Column:case ej.datavisualization.Chart.Type.StackingColumn:case ej.datavisualization.Chart.Type.StackingColumn100:case ej.datavisualization.Chart.Type.Waterfall:return this._drawColumn(r,u,_,_.gLegendItemEle);default:return this._drawRectangle(r,u,_,_.gLegendItemEle)}},_drawCircle:function(r,u,_,w){var v=_.svgRenderer,s=u.ShapeSize,h=Math.sqrt(s.height*s.height+s.width*s.width)/2,t=u.Style;return v.drawCircle({id:u.ID,cx:r.startX,cy:r.startY,r:h,fill:t.Color,"stroke-width":t.BorderWidth,stroke:t.BorderColor,opacity:t.Opacity,visibility:t.Visibility,lgndCtx:u.context},w),r.startX-h},_drawLeftArrow:function(r,u,_,w){var s=u.ShapeSize;_.svgRenderer.drawPath({id:u.ID,fill:u.Style.Color,"stroke-width":u.Style.BorderWidth,stroke:u.Style.BorderColor,opacity:u.Style.Opacity,visibility:u.Style.Visibility,lgndCtx:u.context,d:"M "+(r.startX-s.width/2+s.width)+" "+(r.startY+s.height/4)+" L "+(r.startX-s.width/2+s.width)+" "+(r.startY+-s.height/4)+" L "+(r.startX-s.width/2+s.width/2)+" "+(r.startY+-s.height/4)+" L "+(r.startX-s.width/2+s.width/2)+" "+(r.startY+-s.height/2)+" L "+(r.startX-s.width/2)+" "+r.startY+" L "+(r.startX-s.width/2+s.width/2)+" "+(r.startY+s.height/2)+" L "+(r.startX-s.width/2+s.width/2)+" "+(r.startY+s.height/4)+" L "+(r.startX-s.width/2+s.width)+" "+(r.startY+s.height/4)+" z"},w)},_drawRightArrow:function(r,u,_,w){var s=u.ShapeSize;_.svgRenderer.drawPath({id:u.ID,fill:u.Style.Color,"stroke-width":u.Style.BorderWidth,stroke:u.Style.BorderColor,opacity:u.Style.Opacity,visibility:u.Style.Visibility,lgndCtx:u.context,d:"M "+(r.startX-s.width/2)+" "+(r.startY+s.height/4)+" L "+(r.startX-s.width/2)+" "+(r.startY+-s.height/4)+" L "+(r.startX-s.width/2+s.width/2)+" "+(r.startY+-s.height/4)+" L "+(r.startX-s.width/2+s.width/2)+" "+(r.startY+-s.height/2)+" L "+(r.startX-s.width/2+s.width)+" "+r.startY+" L "+(r.startX-s.width/2+s.width/2)+" "+(r.startY+s.height/2)+" L "+(r.startX-s.width/2+s.width/2)+" "+(r.startY+s.height/4)+" L "+(r.startX-s.width/2)+" "+(r.startY+s.height/4)+" z"},w)},_drawUpArrow:function(r,u,_,w){var s=u.ShapeSize;_.svgRenderer.drawPath({id:u.ID,fill:u.Style.Color,"stroke-width":u.Style.BorderWidth,stroke:u.Style.BorderColor,opacity:u.Style.Opacity,visibility:u.Style.Visibility,lgndCtx:u.context,d:"M "+(r.startX-s.width/2+s.width/4)+" "+(r.startY-s.height/2+s.height)+" L "+(r.startX-s.width/2+s.width/4)+" "+(r.startY-s.height/2+s.height/2)+" L "+(r.startX-s.width/2)+" "+(r.startY-s.height/2+s.height/2)+" L "+r.startX+" "+(r.startY-s.height/2)+" L "+(r.startX+s.width/2)+" "+(r.startY-s.height/2+s.height/2)+" L "+(r.startX+s.width/2-s.width/4)+" "+(r.startY-s.height/2+s.height/2)+" L "+(r.startX+s.width/2-s.width/4)+" "+(r.startY-s.height/2+s.height)+" L "+(r.startX-s.width/2+s.width/4)+" "+(r.startY-s.height/2+s.height)+" z"},w)},_drawDownArrow:function(r,u,_,w){var s=u.ShapeSize;_.svgRenderer.drawPath({id:u.ID,fill:u.Style.Color,"stroke-width":u.Style.BorderWidth,stroke:u.Style.BorderColor,opacity:u.Style.Opacity,visibility:u.Style.Visibility,lgndCtx:u.context,d:"M "+(r.startX-s.width/2+s.width/4)+" "+(r.startY-s.height/2)+" L "+(r.startX+s.width/2-s.width/4)+" "+(r.startY-s.height/2)+" L "+(r.startX+s.width/2-s.width/4)+" "+(r.startY-s.height/2+s.height/2)+" L "+(r.startX+s.width/2)+" "+(r.startY-s.height/2+s.height/2)+" L "+r.startX+" "+(r.startY-s.height/2+s.height)+" L "+(r.startX-s.width/2)+" "+(r.startY-s.height/2+s.height/2)+" L "+(r.startX-s.width/2+s.width/4)+" "+(r.startY-s.height/2+s.height/2)+" L "+(r.startX-s.width/2+s.width/4)+" "+(r.startY-s.height/2)+" z"},w)},_drawCross:function(r,u,_,w){var s=u.ShapeSize;_.svgRenderer.drawPath({id:u.ID,opacity:u.Style.Opacity,"stroke-width":u.Style.BorderWidth,stroke:u.Style.Color,visibility:u.Style.Visibility,lgndCtx:u.context,d:"M "+(r.startX+-s.width/2)+" "+r.startY+" L "+(r.startX+s.width/2)+" "+r.startY+" M "+r.startX+" "+(r.startY+s.height/2)+" L "+r.startX+" "+(r.startY+-s.height/2)},w)},_drawHorizLine:function(r,u,_,w){var s=u.ShapeSize;_.svgRenderer.drawPath({id:u.ID,opacity:u.Style.Opacity,"stroke-width":u.Style.BorderWidth,stroke:u.Style.Color,visibility:u.Style.Visibility,lgndCtx:u.context,d:"M "+(r.startX+-s.width/2)+" "+r.startY+" L "+(r.startX+s.width/2)+" "+r.startY},w)},_drawVertLine:function(r,u,_,w){var s=u.ShapeSize;_.svgRenderer.drawPath({id:u.ID,opacity:u.Style.Opacity,"stroke-width":u.Style.BorderWidth,stroke:u.Style.Color,visibility:u.Style.Visibility,lgndCtx:u.context,d:"M "+r.startX+" "+(r.startY+s.height/2)+" L "+r.startX+" "+(r.startY+-s.height/2)},w)},_drawTriangle:function(r,u,_,w){var s=u.ShapeSize;_.svgRenderer.drawPath({id:u.ID,fill:u.Style.Color,"stroke-width":u.Style.BorderWidth,stroke:u.Style.BorderColor,opacity:u.Style.Opacity,visibility:u.Style.Visibility,lgndCtx:u.context,d:"M "+(r.startX+-s.width/2)+" "+(r.startY+s.height/2)+" L "+r.startX+" "+(r.startY+-s.height/2)+" L "+(r.startX+s.width/2)+" "+(r.startY+s.height/2)+" L "+(r.startX+-s.width/2)+" "+(r.startY+s.height/2)+" z"},w)},_drawInvertedTriangle:function(r,u,_,w){var s=u.ShapeSize;_.svgRenderer.drawPath({id:u.ID,fill:u.Style.Color,"stroke-width":u.Style.BorderWidth,stroke:u.Style.BorderColor,opacity:u.Style.Opacity,visibility:u.Style.Visibility,lgndCtx:u.context,d:"M "+(r.startX+s.width/2)+" "+(r.startY-s.height/2)+" L "+r.startX+" "+(r.startY+s.height/2)+" L "+(r.startX-s.width/2)+" "+(r.startY-s.height/2)+" L "+(r.startX+s.width/2)+" "+(r.startY-s.height/2)+" z"},w)},_drawHexagon:function(r,u,_,w){var s=u.ShapeSize;_.svgRenderer.drawPath({id:u.ID,fill:u.Style.Color,"stroke-width":u.Style.BorderWidth,stroke:u.Style.BorderColor,opacity:u.Style.Opacity,visibility:u.Style.Visibility,lgndCtx:u.context,d:"M "+(r.startX+-s.width/2)+" "+r.startY+" L "+(r.startX+-s.width/4)+" "+(r.startY+-s.height/2)+" L "+(r.startX+s.width/4)+" "+(r.startY+-s.height/2)+" L "+(r.startX+s.width/2)+" "+r.startY+" L "+(r.startX+s.width/4)+" "+(r.startY+s.height/2)+" L "+(r.startX+-s.width/4)+" "+(r.startY+s.height/2)+" L "+(r.startX+-s.width/2)+" "+r.startY+" z"},w)},_drawWedge:function(r,u,_,w){var s=u.ShapeSize;_.svgRenderer.drawPath({"stroke-linecap":"miter","stroke-miterlimit":s.width/4,id:u.ID,fill:u.Style.Color,"stroke-width":u.Style.BorderWidth,stroke:u.Style.BorderColor,opacity:u.Style.Opacity,visibility:u.Style.Visibility,lgndCtx:u.context,d:"M "+(r.startX-s.width)+" "+r.startY+" L "+(r.startX+s.width)+" "+(r.startY+-s.height/2)+" L "+(r.startX+s.width/4*3)+" "+r.startY+" L "+(r.startX+s.width)+" "+(r.startY+s.height/2)+" L "+(r.startX-s.width)+" "+r.startY+" z"},w)},_drawPentagon:function(r,u,_,w){for(var v,s=_.svgRenderer,t=u.ShapeSize,o=Math.sqrt(t.height*t.height+t.width*t.width)/2,l=ej.EjSvgRender.utils._getStringBuilder(),p=0;p<=5;p++){var b=Math.PI/180*(72*p),C=o*Math.cos(b),T=o*Math.sin(b);l.append(0==p?"M "+(r.startX+C)+" "+(r.startY+T)+" ":"L "+(r.startX+C)+" "+(r.startY+T)+" ")}l.append("z"),v=l.toString(),s.drawPath({id:u.ID,fill:u.Style.Color,"stroke-width":u.Style.BorderWidth,stroke:u.Style.BorderColor,opacity:u.Style.Opacity,visibility:u.Style.Visibility,lgndCtx:u.context,d:v},w)},_drawStar:function(r,u,_,w){var a=u.ShapeSize;_.svgRenderer.drawPath({id:u.ID,fill:u.Style.Color,"stroke-width":u.Style.BorderWidth,stroke:u.Style.BorderColor,opacity:u.Style.Opacity,visibility:u.Style.Visibility,lgndCtx:u.context,d:"M "+(r.startX+a.width/3)+" "+(r.startY+-a.height/2)+" L "+(r.startX+-a.width/2)+" "+(r.startY+a.height/6)+" L "+(r.startX+a.width/2)+" "+(r.startY+a.height/6)+" L "+(r.startX+-a.width/3)+" "+(r.startY+-a.height/2)+" L "+r.startX+" "+(r.startY+a.height/2)+" L "+(r.startX+a.width/3)+" "+(r.startY+-a.height/2)+" z"},w)},_drawRectangle:function(r,u,_,w,v){var t,o,l,h=u.ShapeSize;v&&v.point&&v.point.textOptions&&v.point.textOptions["text-anchor"]&&(t=v.point.textOptions["text-anchor"]),_.svgRenderer.drawPath({id:u.ID,fill:u.Style.Color,"stroke-width":u.Style.BorderWidth,stroke:u.Style.BorderColor,opacity:u.Style.Opacity,visibility:u.Style.Visibility,lgndCtx:u.context,d:"M "+(r.startX+-(o="start"==t?5:h.width/2))+" "+(r.startY+-h.height/2)+" L "+(r.startX+(l="start"==t?h.width-5:h.width/2))+" "+(r.startY+-h.height/2)+" L "+(r.startX+l)+" "+(r.startY+h.height/2)+" L "+(r.startX+-o)+" "+(r.startY+h.height/2)+" L "+(r.startX+-o)+" "+(r.startY+-h.height/2)+" z"},w)},_drawTrapezoid:function(r,u,_,w){var s=u.ShapeSize;_.svgRenderer.drawPath({id:u.ID,fill:u.Style.Color,"stroke-width":u.Style.BorderWidth,stroke:u.Style.BorderColor,opacity:u.Style.Opacity,visibility:u.Style.Visibility,lgndCtx:u.context,d:"M "+(r.startX+-s.width/2)+" "+r.startY+" L "+(r.startX+-s.width/2)+" "+(r.startY+-s.height/4)+" L "+(r.startX+-s.width/2+s.width)+" "+(r.startY+-s.height/2)+" L "+(r.startX+-s.width/2+s.width)+" "+(r.startY+s.height/2)+" L "+(r.startX+-s.width/2)+" "+(r.startY+s.height/4)+" L "+(r.startX+-s.width/2)+" "+r.startY+" z"},w)},_drawDiamond:function(r,u,_,w){var s=u.ShapeSize;_.svgRenderer.drawPath({id:u.ID,fill:u.Style.Color,"stroke-width":u.Style.BorderWidth,stroke:u.Style.BorderColor,opacity:u.Style.Opacity,visibility:u.Style.Visibility,lgndCtx:u.context,d:"M "+(r.startX+-s.width/2)+" "+r.startY+" L "+r.startX+" "+(r.startY+-s.height/2)+" L "+(r.startX+s.width/2)+" "+r.startY+" L "+r.startX+" "+(r.startY+s.height/2)+" L "+(r.startX+-s.width/2)+" "+r.startY+" z"},w)},_drawEllipse:function(r,u,_,w){var s=u.ShapeSize;_.svgRenderer.drawEllipse({id:u.ID,fill:u.Style.Color,"stroke-width":u.Style.BorderWidth,stroke:u.Style.BorderColor,opacity:u.Style.Opacity,visibility:u.Style.Visibility,lgndCtx:u.context,cx:r.startX,cy:r.startY,rx:s.width,ry:s.height/2},w)},_drawImage:function(r,u,_,w){var s=u.ShapeSize;_.svgRenderer.drawImage({id:_.svgObject.id+"_image"+u.PointIndex,height:s.height,width:s.width,href:u.Imageurl,x:r.startX+-s.width/2,y:r.startY+-s.width/2,visibility:"visible",lgndCtx:u.context},w)},_drawStraightLine:function(r,u,_,w){var s=u.ShapeSize,h=u.ElementSpace;return _.svgRenderer.drawPath({id:u.ID,fill:u.Style.Color,"stroke-width":2*u.Style.BorderWidth,stroke:u.Style.Color,opacity:u.Style.Opacity,visibility:u.Style.Visibility,d:"M "+(r.startX+-s.width/2+-h/4)+" "+(r.startY+s.height/10)+" L "+(r.startX+s.width/2+h/4)+" "+(r.startY+s.height/10),lgndCtx:!0},w),r.startX+-s.width/2+-h/4},_drawLine:function(r,u,_,w){var t,v=_.svgRenderer,s=u.ShapeSize,h=u.ElementSpace;if(!0===_.model.enableCanvasRendering){t="M "+(r.startX+-s.width/2+-h/4)+" "+(r.startY+s.height/10)+" L "+(r.startX-Math.floor(s.width/3))+" "+(r.startY+s.height/10)+" M "+(r.startX+Math.floor(s.width/3))+" "+(r.startY+s.height/10)+" L "+(r.startX+s.width/2+h/4)+" "+(r.startY+s.height/10);var o={id:u.ID,fill:u.Style.Color,"stroke-width":2*u.Style.BorderWidth,stroke:u.Style.Color,opacity:u.Style.Opacity,visibility:u.Style.Visibility,d:t,lgndCtx:!0},l="M "+(r.startX-Math.floor(s.width/3))+" "+(r.startY+s.height/10)+" a "+Math.floor(s.width/3)+" "+Math.floor(s.width/3)+" 0 1 0 "+2*Math.floor(s.width/3)+" 0 a"+Math.floor(s.width/3)+" "+Math.floor(s.width/3)+" 0 1 0 "+-2*Math.floor(s.width/3)+" 0",p={id:u.ID,fill:"transparent","stroke-width":2*u.Style.BorderWidth,stroke:u.Style.Color,opacity:u.Style.Opacity,visibility:u.Style.Visibility,d:l,lgndCtx:!0};v.drawPath(o,w),v.drawPath(p,w)}else t="M "+(r.startX+-s.width/2+-h/4)+" "+(r.startY+s.height/10)+" L "+(r.startX-Math.floor(s.width/3))+" "+(r.startY+s.height/10)+" M "+(r.startX+Math.floor(s.width/3))+" "+(r.startY+s.height/10)+" L "+(r.startX+s.width/2+h/4)+" "+(r.startY+s.height/10)+" M "+(r.startX-Math.floor(s.width/3))+" "+(r.startY+s.height/10)+" a "+Math.floor(s.width/3)+" "+Math.floor(s.width/3)+" 0 1 0 "+2*Math.floor(s.width/3)+" 0 a"+Math.floor(s.width/3)+" "+Math.floor(s.width/3)+" 0 1 0 "+-2*Math.floor(s.width/3)+" 0",v.drawPath(o={id:u.ID,fill:"transparent","stroke-width":2*u.Style.BorderWidth,stroke:u.Style.Color,opacity:u.Style.Opacity,visibility:u.Style.Visibility,d:t,lgndCtx:!0},w);return r.startX+-s.width/2+-h/4},_drawColumn:function(r,u,_,w){var s=u.ShapeSize,h=u.ElementSpace;return _.svgRenderer.drawPath({id:u.ID,fill:u.Style.Color,"stroke-width":u.Style.BorderWidth,stroke:u.Style.BorderColor,opacity:u.Style.Opacity,visibility:u.Style.Visibility,d:"M "+(r.startX-s.width/5*3)+" "+(r.startY-s.height/5)+" L "+(r.startX+-s.width/10*3)+" "+(r.startY-s.height/5)+" L "+(r.startX+-s.width/10*3)+" "+(r.startY+s.height/2)+" L "+(r.startX-s.height/5*3)+" "+(r.startY+s.height/2)+" Z M "+(r.startX+-s.width/10-s.width/20)+" "+(r.startY-s.height/4-h/2)+" L "+(r.startX+s.width/10+s.width/20)+" "+(r.startY-s.height/4-h/2)+" L "+(r.startX+s.width/10+s.width/20)+" "+(r.startY+s.height/2)+" L "+(r.startX+-s.width/10-s.width/20)+" "+(r.startY+s.height/2)+" Z M "+(r.startX+s.width/10*3)+" "+r.startY+" L "+(r.startX+s.width/5*3)+" "+r.startY+" L "+(r.startX+s.width/5*3)+" "+(r.startY+s.height/2)+" L "+(r.startX+s.width/10*3)+" "+(r.startY+s.height/2)+" Z",lgndCtx:!0},w),r.startX-s.width/5*3},_drawRangeColumn:function(r,u,_,w){var s=u.ShapeSize,h=u.ElementSpace;return _.svgRenderer.drawPath({id:u.ID,fill:u.Style.Color,"stroke-width":u.Style.BorderWidth,stroke:u.Style.BorderColor,opacity:u.Style.Opacity,visibility:u.Style.Visibility,d:"M "+(r.startX+-s.width/5)+" "+(r.startY+s.height/2+h/4)+" L "+(r.startX+-s.width/5)+" "+(r.startY-s.height/2-h/4)+" L "+(r.startX+s.width/2)+" "+(r.startY+-s.height/2+-h/4)+" L "+(r.startX+s.width/2)+" "+(r.startY+s.height/2+h/4)+" Z",lgndCtx:!0},w),r.startX+-s.width/5},_drawBar:function(r,u,_,w){var s=u.ShapeSize,h=u.ElementSpace;return _.svgRenderer.drawPath({id:u.ID,fill:u.Style.Color,"stroke-width":u.Style.BorderWidth,stroke:u.Style.BorderColor,opacity:u.Style.Opacity,visibility:u.Style.Visibility,d:"M "+(r.startX+-s.width/2+-h/4)+" "+(r.startY-s.height/5*3)+" L "+(r.startX+s.width/10*3)+" "+(r.startY-s.height/5*3)+" L "+(r.startX+s.width/10*3)+" "+(r.startY-s.height/10*3)+" L "+(r.startX-s.width/2+-h/4)+" "+(r.startY-s.height/10*3)+" Z M "+(r.startX+-s.width/2+-h/4)+" "+(r.startY-s.height/5+h/20)+" L "+(r.startX+s.width/2+h/4)+" "+(r.startY-s.height/5+h/20)+" L "+(r.startX+s.width/2+h/4)+" "+(r.startY+s.height/10+h/20)+" L "+(r.startX-s.width/2+-h/4)+" "+(r.startY+s.height/10+h/20)+" Z M "+(r.startX-s.width/2+-h/4)+" "+(r.startY+s.height/5+h/10)+" L "+(r.startX+-s.width/4)+" "+(r.startY+s.height/5+h/10)+" L "+(r.startX+-s.width/4)+" "+(r.startY+s.height/2+h/10)+" L "+(r.startX-s.width/2+-h/4)+" "+(r.startY+s.height/2+h/10)+" Z",lgndCtx:!0},w),r.startX+-s.width/2+-h/4},_drawStepLine:function(r,u,_,w){var s=u.ShapeSize,h=u.ElementSpace;return _.svgRenderer.drawPath({id:u.ID,fill:"transparent","stroke-width":u.Style.BorderWidth,stroke:u.Style.Color,opacity:u.Style.Opacity,visibility:u.Style.Visibility,d:"M "+(r.startX+-s.width/2-h/4)+" "+(r.startY+s.height/2)+" L "+(r.startX+-s.width/2+s.width/10)+" "+(r.startY+s.height/2)+" L "+(r.startX+-s.width/2+s.width/10)+" "+r.startY+" L "+(r.startX+-s.width/10)+" "+r.startY+" L "+(r.startX+-s.width/10)+" "+(r.startY+s.height/2)+" L "+(r.startX+s.width/5)+" "+(r.startY+s.height/2)+" L "+(r.startX+s.width/5)+" "+(r.startY+-s.height/2)+" L "+(r.startX+s.width/2)+" "+(r.startY+-s.height/2)+"L "+(r.startX+s.width/2)+" "+(r.startY+s.height/2)+" L"+(r.startX+s.width/2+h/4)+" "+(r.startY+s.height/2),lgndCtx:!0},w),r.startX+-s.width/2-h/4},_drawSpline:function(r,u,_,w){var s=u.ShapeSize;return _.svgRenderer.drawPath({id:u.ID,fill:"transparent","stroke-width":2*u.Style.BorderWidth,stroke:u.Style.Color,opacity:u.Style.Opacity,visibility:u.Style.Visibility,d:"M "+(r.startX-s.width/2)+" "+(r.startY+s.height/5)+" Q "+r.startX+" "+(r.startY-s.height)+" "+r.startX+" "+(r.startY+s.height/5)+" M "+r.startX+" "+(r.startY+s.height/5)+" Q "+(r.startX+s.width/2)+" "+(r.startY+s.height/2)+" "+(r.startX+s.width/2)+" "+(r.startY-s.height/2),lgndCtx:!0},w),r.startX-s.width/2},_drawSplineArea:function(r,u,_,w){var s=u.ShapeSize;return _.svgRenderer.drawPath({id:u.ID,fill:u.Style.Color,"stroke-width":u.Style.BorderWidth,stroke:u.Style.Color,opacity:u.Style.Opacity,visibility:u.Style.Visibility,d:"M "+(r.startX-s.width/2)+" "+(r.startY+s.height/5)+" Q "+r.startX+" "+(r.startY-s.height)+" "+r.startX+" "+(r.startY+s.height/5)+" Z M "+r.startX+" "+(r.startY+s.height/5)+" Q "+(r.startX+s.width/2)+" "+(r.startY+s.height/2)+" "+(r.startX+s.width/2)+" "+(r.startY-s.height/2)+"  Z",lgndCtx:!0},w),r.startX-s.width/2},_drawArea:function(r,u,_,w){var s=u.ShapeSize,h=u.ElementSpace;return _.svgRenderer.drawPath({id:u.ID,fill:u.Style.Color,"stroke-width":u.Style.BorderWidth,stroke:u.Style.BorderColor,opacity:u.Style.Opacity,visibility:u.Style.Visibility,d:"M "+(r.startX-s.width/2-h/4)+" "+(r.startY+s.height/2)+" L "+(r.startX+-s.width/4+-h/8)+" "+(r.startY-s.height/2)+" L "+r.startX+" "+(r.startY+s.height/4)+" L "+(r.startX+s.width/4+h/8)+" "+(r.startY+-s.height/2+s.height/4)+" L "+(r.startX+s.height/2+h/4)+" "+(r.startY+s.height/2)+" Z",lgndCtx:!0},w),r.startX-s.width/2-h/4},_drawStepArea:function(r,u,_,w){var s=u.ShapeSize,h=u.ElementSpace;return _.svgRenderer.drawPath({id:u.ID,fill:u.Style.Color,"stroke-width":u.Style.BorderWidth,stroke:u.Style.BorderColor,opacity:u.Style.Opacity,visibility:u.Style.Visibility,d:"M "+(r.startX+-s.width/2+-h/4)+" "+(r.startY+s.height/2)+" L "+(r.startX+-s.width/2+-h/4)+" "+(r.startY+-s.height/2)+" L "+(r.startX-s.width/4)+" "+(r.startY-s.height/2)+" L "+(r.startX-s.width/4)+" "+(r.startY-s.height/4)+" L "+(r.startX+s.width/4)+" "+(r.startY-s.height/4)+" L "+(r.startX+s.width/4)+" "+r.startX+" L "+(r.startX+s.width/2+h/4)+" "+r.startY+" L "+(r.startX+s.width/2+h/4)+" "+(r.startY+s.height/2)+" Z",lgndCtx:!0},w),r.startX+-s.width/2+-h/4},_drawPyramid:function(r,u,_,w){var s=u.ShapeSize,h=u.ElementSpace;return _.svgRenderer.drawPath({id:u.ID,fill:u.Style.Color,"stroke-width":u.Style.BorderWidth,stroke:u.Style.BorderColor,opacity:u.Style.Opacity,visibility:u.Style.Visibility,d:"M "+(r.startX+-s.width/2+-h/4)+" "+(r.startY+s.height/2+h/8)+" L "+r.startX+" "+(r.startY+-s.height/2+-h/8)+" L "+(r.startX+s.width/2+h/4)+" "+(r.startY+s.height/2+h/8)+" Z",lgndCtx:!0},w),r.startX+-s.width/2+-h/4},_drawFunnel:function(r,u,_,w){var s=u.ShapeSize,h=u.ElementSpace;return _.svgRenderer.drawPath({id:u.ID,fill:u.Style.Color,"stroke-width":u.Style.BorderWidth,stroke:u.Style.BorderColor,opacity:u.Style.Opacity,visibility:u.Style.Visibility,d:"M "+(r.startX+-s.width/2+-h/5)+" "+(r.startY+-s.height/2+-h/4)+" L "+(r.startX+-s.width/5)+" "+(r.startY+s.height/4)+" L "+(r.startX+-s.width/5)+" "+(r.startY+s.height/2+h/4)+" L "+(r.startX+s.width/5)+" "+(r.startY+s.height/2+h/4)+" L "+(r.startX+s.width/5)+" "+(r.startY+s.height/4)+" L "+(r.startX+s.width/2+h/5)+" "+(r.startY+-s.height/2+-h/4)+" Z",lgndCtx:!0},w),r.startX+-s.width/2+-h/5},_drawCandle:function(r,u,_,w){var s=u.ShapeSize,h=u.ElementSpace;return _.svgRenderer.drawPath({id:u.ID,fill:u.Style.Color,"stroke-width":u.Style.BorderWidth,stroke:u.Style.Color,opacity:u.Style.Opacity,visibility:u.Style.Visibility,d:"M "+(r.startX+-s.width/2)+" "+(r.startY+s.height/4+h/8)+" L "+(r.startX+s.width/2)+" "+(r.startY+s.height/4+h/8)+" L "+(r.startX+s.width/2)+" "+(r.startY+-s.height/2+h/8)+" L "+(r.startX+-s.width/2)+" "+(r.startY+-s.height/2+h/8)+" Z M "+r.startX+" "+(r.startY+-s.height/2+h/8)+" L "+r.startX+" "+(r.startY+-s.height/2+-h/4)+" M "+r.startX+" "+(r.startY+s.height/4+h/8)+" L "+r.startX+" "+(r.startY+s.height/4+h/2),lgndCtx:!0},w),r.startX+-s.width/2},_drawHilo:function(r,u,_,w){var s=u.ShapeSize,h=u.ElementSpace;return _.svgRenderer.drawPath({id:u.ID,fill:u.Style.Color,"stroke-width":u.Style.BorderWidth,stroke:u.Style.Color,opacity:u.Style.Opacity,visibility:u.Style.Visibility,d:"M "+(r.startX+s.width/2)+" "+(r.startY+s.height/2+h/4)+" L "+(r.startX+s.width/2)+" "+(r.startY+-s.height/2+-h/4),lgndCtx:!0},w),r.startX+s.width/2},_drawHiloOpenClose:function(r,u,_,w){var v=_.svgRenderer,s=u.ShapeSize,t=(c(18,12,4.0710678118654755,270),u.ElementSpace);return v.drawPath({id:u.ID,fill:"transparent","stroke-width":u.Style.BorderWidth,stroke:u.Style.Color,opacity:u.Style.Opacity,visibility:u.Style.Visibility,d:"M "+r.startX+" "+(r.startY-s.height/10*3)+" L "+(r.startX-s.width/2-t/4)+" "+(r.startY-s.height/10*3)+" M "+r.startX+" "+(r.startY-s.height/2-t/4)+" L "+r.startX+" "+(r.startY+s.height/2+t/4)+" M "+r.startX+" "+(r.startY+s.height/10*3)+" L "+(r.startX+s.width/2+t/4)+" "+(r.startY+s.height/10*3),lgndCtx:!0},w),r.startX-s.width/2},_drawDoughnut:function(r,u,_,w){var v=_.svgRenderer,s=u.ShapeSize,l=u.ElementSpace,h=Math.sqrt(s.height*s.width)/2,t=c(r.startX,r.startY,h+=l/5,270),o=c(r.startX+s.width/10,r.startY,h,270),b=(l=u.ElementSpace,{id:u.ID,cx:r.startX,cy:r.startY,r:h/2,lgndCtx:!0,fill:"white","stroke-width":u.Style.BorderWidth,stroke:u.Style.BorderColor,opacity:u.Style.Opacity,visibility:u.Style.Visibility});return v.drawPath({id:u.ID,fill:u.Style.Color,"stroke-width":u.Style.BorderWidth,stroke:u.Style.BorderColor,opacity:u.Style.Opacity,visibility:u.Style.Visibility,d:"M "+r.startX+" "+r.startY+" L "+(r.startX+h)+" "+r.startY+" A "+h+" "+h+" 0 1 1 "+t[0]+" "+t[1]+" Z M "+(r.startX+s.width/10)+" "+(r.startY-s.height/10)+" L"+(r.startX+h)+" "+(r.startY-s.height/10)+" A "+h+" "+h+" 0 0 0 "+o[0]+" "+o[1]+" Z",lgndCtx:!0},w),v.drawCircle(b,w),r.startX-h},_drawPie:function(r,u,_,w){var v=_.svgRenderer,s=u.ShapeSize,l=u.ElementSpace,h=Math.sqrt(s.height*s.width)/2,t=c(r.startX,r.startY,h+=l/5,270),o=c(r.startX+s.width/10,r.startY,h,270);return l=u.ElementSpace,v.drawPath({id:u.ID,fill:u.Style.Color,"stroke-width":u.Style.BorderWidth,stroke:u.Style.BorderColor,opacity:u.Style.Opacity,visibility:u.Style.Visibility,d:"M "+r.startX+" "+r.startY+" L "+(r.startX+h)+" "+r.startY+" A "+h+" "+h+" 0 1 1 "+t[0]+" "+t[1]+" Z M "+(r.startX+s.width/10)+" "+(r.startY-s.height/10)+" L"+(r.startX+h)+" "+(r.startY-s.height/10)+" A "+h+" "+h+" 0 0 0 "+o[0]+" "+o[1]+" Z",lgndCtx:!0},w),r.startX-h}},ej.EjSvgRender.seriesPalette={defaultMetro:["#E94649","#F6B53F","#6FAAB0","#C4C24A","#FB954F","#005277","#8BC652","#69D2E7","#E27F2D","#6A4B82"],defaultHighContrast:["#F93A00","#44E2D6","#DDD10D","#0AA368","#0556CB","#AB40B2","#5F930A","#D12E41","#E0670E","#008FFF"],defaultOffice:["#005277","#8BC652","#6A4B82","#E94649","#6FAAB0","#F7B74F","#C4C24A","#EF863F","#69D2E7","#FFD13E"],defaultMaterial:["#663AB6","#EB3F79","#F8AB1D","#B82E3D","#049CB1","#F2424F","#C2C924","#3DA046","#074D67","#02A8F4"],defaultGradient:{borderColors:["#F34649","#F6D321","#6EB9B0","#CBC26A","#FBAF4F","#E2CDB1","#FFC0B7","#68E1E6","#E1A62D","#9C6EBF"],seriesColors:[[{color:"#F34649",colorStop:"0%"},{color:"#B74143",colorStop:"100%"}],[{color:"#F6D321",colorStop:"0%"},{color:"#F6AE26",colorStop:"100%"}],[{color:"#6EB9B0",colorStop:"0%"},{color:"#3F77BD",colorStop:"100%"}],[{color:"#CBC26A",colorStop:"0%"},{color:"#9AAD21",colorStop:"100%"}],[{color:"#FBAF4F",colorStop:"0%"},{color:"#F07542",colorStop:"100%"}],[{color:"#E2CDB1",colorStop:"0%"},{color:"#AAA089",colorStop:"100%"}],[{color:"#8BC652",colorStop:"0%"},{color:"#6F9E41",colorStop:"100%"}],[{color:"#68E1E6",colorStop:"0%"},{color:"#3D9CBE",colorStop:"100%"}],[{color:"#E1A62D",colorStop:"0%"},{color:"#B66824",colorStop:"100%"}],[{color:"#9C6EBF",colorStop:"0%"}],[{color:"#593F6D",colorStop:"100%"}]]},blueMetro:["#005378","#006691","#007EB5","#0D97D4","#00AEFF","#14B9FF","#54CCFF","#87DBFF","#ADE5FF","#C5EDFF"],blueGradient:{seriesColors:[[{color:"#005277",colorStop:"0%"},{color:"#00304F",colorStop:"100%"}],[{color:"#006590",colorStop:"0%"},{color:"#004068",colorStop:"100%"}],[{color:"#007DB4",colorStop:"0%"},{color:"#00558B",colorStop:"100%"}],[{color:"#0D97D4",colorStop:"0%"},{color:"#057FC7",colorStop:"100%"}],[{color:"#00ADFE",colorStop:"0%"},{color:"#008BE9",colorStop:"100%"}],[{color:"#14B8FE",colorStop:"0%"},{color:"#0798EB",colorStop:"100%"}],[{color:"#53CBFF",colorStop:"0%"},{color:"#35AFEB",colorStop:"100%"}],[{color:"#86DAFF",colorStop:"0%"},{color:"#64C0EC",colorStop:"100%"}],[{color:"#ACE5FF",colorStop:"0%"},{color:"#8DCEED",colorStop:"100%"}],[{color:"#C4ECFF",colorStop:"0%"}],[{color:"#A3D1E6",colorStop:"100%"}]],borderColors:["#005277","#006590","#007DB4","#0D97D4","#00ADFE","#14B8FE","#53CBFF","#86DAFF","#ACE5FF","#C4ECFF"]},greenMetro:["#496612","#597B15","#709A1B","#87B62A","#9AD926","#A6DC37","#BCE654","#C8E780","#D5EFA5","#E2F3BE"],greenGradient:{seriesColors:[[{color:"#5C7F16",colorStop:"0%"},{color:"#384C08",colorStop:"100%"}],[{color:"#6A9319",colorStop:"0%"},{color:"#486009",colorStop:"100%"}],[{color:"#739D1C",colorStop:"0%"},{color:"#57760B",colorStop:"100%"}],[{color:"#90B546",colorStop:"0%"},{color:"#6E9215",colorStop:"100%"}],[{color:"#9AD826",colorStop:"0%"},{color:"#75A010",colorStop:"100%"}],[{color:"#A5DB36",colorStop:"0%"},{color:"#8EB91D",colorStop:"100%"}],[{color:"#BBE554",colorStop:"0%"},{color:"#A4C849",colorStop:"100%"}],[{color:"#C8E780",colorStop:"0%"},{color:"#B4D072",colorStop:"100%"}],[{color:"#D4EEA5",colorStop:"0%"},{color:"#BFD593",colorStop:"100%"}],[{color:"#E1F2BD",colorStop:"0%"}],[{color:"#C8D7A8",colorStop:"100%"}]],borderColors:["#5C7F16","#6A9319","#739D1C","#90B546","#9AD826","#A5DB36","#BBE554","#C8E780","#D4EEA5","#E1F2BD"]},sandleMetro:["#6C450C","#82520D","#A36812","#C07F1F","#E69719","#E89A2B","#EEB564","#F3CB93","#F7DEB4","#F9E6CA"],sandleGradient:{seriesColors:[[{color:"#7F602F",colorStop:"0%"},{color:"#512D04",colorStop:"100%"}],[{color:"#986827",colorStop:"0%"},{color:"#673803",colorStop:"100%"}],[{color:"#A16C1F",colorStop:"0%"},{color:"#8A4B05",colorStop:"100%"}],[{color:"#BF812A",colorStop:"0%"},{color:"#AD630D",colorStop:"100%"}],[{color:"#E49519",colorStop:"0%"},{color:"#B86607",colorStop:"100%"}],[{color:"#E7992A",colorStop:"0%"},{color:"#D7780D",colorStop:"100%"}],[{color:"#EDB463",colorStop:"0%"},{color:"#D98F31",colorStop:"100%"}],[{color:"#F2CA92",colorStop:"0%"},{color:"#DAAC6F",colorStop:"100%"}],[{color:"#F6DDB3",colorStop:"0%"},{color:"#DABE8F",colorStop:"100%"}],[{color:"#F8E5C9",colorStop:"0%"}],[{color:"#DDBE92",colorStop:"100%"}]],borderColors:["#7F602F","#986827","#A16C1F","#BF812A","#E49519","#E7992A","#EDB463","#F2CA92","#F6DDB3","#F8E5C9"]}},ej.EjSvgRender.themes={flatlight:{highlightColor:"black",background:"transparent",legend:{font:{color:"#282828"},title:{font:{color:"#282828"}}},title:{font:{color:"#565656"},subTitle:{font:{color:"#565656"}}},primaryXAxis:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},labelBorder:{color:"#8E8E8E"},multiLevelLabelsColor:"#8E8E8E",multiLevelLabelsFontColor:"#282828",axisLine:{color:"#8E8E8E"},font:{color:"#282828"},title:{font:{color:"#282828"}},crosshairLabel:{rx:3,ry:3,border:{color:"#3D3D3D",width:1},fill:"#3D3D3D",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},secondaryX:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},labelBorder:{color:"#8E8E8E"},multiLevelLabelsColor:"#8E8E8E",multiLevelLabelsFontColor:"#282828",axisLine:{color:"#8E8E8E"},font:{color:"#282828"},title:{font:{color:"#282828"}},crosshairLabel:{rx:3,ry:3,border:{color:"#3D3D3D",width:1},fill:"#3D3D3D",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},primaryYAxis:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},labelBorder:{color:"#8E8E8E"},multiLevelLabelsColor:"#8E8E8E",multiLevelLabelsFontColor:"#282828",axisLine:{color:"#8E8E8E"},font:{color:"#282828"},title:{font:{color:"#282828"}},crosshairLabel:{rx:3,ry:3,border:{color:"#3D3D3D",borderWidth:1},fill:"#3D3D3D",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},secondaryY:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},labelBorder:{color:"#8E8E8E"},multiLevelLabelsColor:"#8E8E8E",multiLevelLabelsFontColor:"#282828",axisLine:{color:"#8E8E8E"},font:{color:"#282828"},title:{font:{color:"#282828"}},crosshairLabel:{rx:3,ry:3,border:{color:"#3D3D3D",width:1},fill:"#3D3D3D",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},commonSeriesOptions:{marker:{dataLabel:{font:{color:"#565656"}}},errorBar:{fill:"#000000",cap:{fill:"#000000"}},connectorLine:{color:"#565656"}},crosshair:{line:{width:1,color:"Black"}},seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.defaultMetro,colors:ej.EjSvgRender.seriesPalette.defaultMetro},flatdark:{highlightColor:"white",background:"#111111",legend:{font:{color:"#C9C9C9"},title:{font:{color:"#C9C9C9"}}},title:{font:{color:"#C9C9C9"},subTitle:{font:{color:"#C9C9C9"}}},primaryXAxis:{majorGridLines:{color:"#333333"},majorTickLines:{color:"#AAAAAA"},minorGridLines:{color:"#333333"},minorTickLines:{color:"#AAAAAA"},labelBorder:{color:"#AAAAAA"},multiLevelLabelsColor:"#AAAAAA",multiLevelLabelsFontColor:"#C9C9C9",axisLine:{color:"#AAAAAA"},font:{color:"#C9C9C9"},title:{font:{color:"#C9C9C9"}},crosshairLabel:{rx:0,ry:0,fill:"#B5B5B5",border:{color:"#B5B5B5",width:1},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#444444"}}},secondaryX:{majorGridLines:{color:"#333333"},majorTickLines:{color:"#AAAAAA"},minorGridLines:{color:"#333333"},minorTickLines:{color:"#AAAAAA"},labelBorder:{color:"#AAAAAA"},multiLevelLabelsColor:"#AAAAAA",multiLevelLabelsFontColor:"#C9C9C9",axisLine:{color:"#AAAAAA"},font:{color:"#C9C9C9"},title:{font:{color:"#C9C9C9"}},crosshairLabel:{rx:0,ry:0,fill:"#B5B5B5",border:{color:"#B5B5B5",width:1},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#444444"}}},primaryYAxis:{majorGridLines:{color:"#333333"},majorTickLines:{color:"#AAAAAA"},minorGridLines:{color:"#333333"},minorTickLines:{color:"#AAAAAA"},labelBorder:{color:"#AAAAAA"},multiLevelLabelsColor:"#AAAAAA",multiLevelLabelsFontColor:"#C9C9C9",axisLine:{color:"#AAAAAA"},font:{color:"#C9C9C9"},title:{font:{color:"#C9C9C9"}},crosshairLabel:{rx:0,ry:0,fill:"#B5B5B5",border:{color:"#B5B5B5",width:1},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#444444"}}},secondaryY:{majorGridLines:{color:"#333333"},majorTickLines:{color:"#AAAAAA"},minorGridLines:{color:"#333333"},minorTickLines:{color:"#AAAAAA"},labelBorder:{color:"#AAAAAA"},multiLevelLabelsColor:"#AAAAAA",multiLevelLabelsFontColor:"#C9C9C9",axisLine:{color:"#AAAAAA"},font:{color:"#C9C9C9"},title:{font:{color:"#C9C9C9"}},crosshairLabel:{rx:0,ry:0,fill:"#B5B5B5",border:{color:"#B5B5B5",width:1},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#444444"}}},commonSeriesOptions:{marker:{dataLabel:{font:{color:"#C9C9C9"}}},errorBar:{fill:"#ffffff",cap:{fill:"#ffffff"}},connectorLine:{color:"#C9C9C9"}},crosshair:{line:{width:1,color:"White"}},seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.defaultMetro,colors:ej.EjSvgRender.seriesPalette.defaultMetro},gradientlight:{highlightColor:"black",background:"transparent",legend:{font:{color:"#282828"},title:{font:{color:"#282828"}}},title:{font:{color:"#565656"},subTitle:{font:{color:"#565656"}}},primaryXAxis:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},labelBorder:{color:"#8E8E8E"},multiLevelLabelsColor:"#8E8E8E",multiLevelLabelsFontColor:"#282828",axisLine:{color:"#8E8E8E"},font:{color:"#282828"},title:{font:{color:"#282828"}},crosshairLabel:{rx:3,ry:3,fill:"#3D3D3D",border:{color:"#3D3D3D",width:2},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},secondaryX:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},labelBorder:{color:"#8E8E8E"},multiLevelLabelsColor:"#8E8E8E",multiLevelLabelsFontColor:"#282828",axisLine:{color:"#8E8E8E"},font:{color:"#282828"},title:{font:{color:"#282828"}},crosshairLabel:{rx:3,ry:3,fill:"#3D3D3D",border:{color:"#3D3D3D",width:2},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},primaryYAxis:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},labelBorder:{color:"#8E8E8E"},multiLevelLabelsColor:"#8E8E8E",multiLevelLabelsFontColor:"#282828",axisLine:{color:"#8E8E8E"},font:{color:"#282828"},title:{font:{color:"#282828"}},crosshairLabel:{rx:3,ry:3,fill:"#3D3D3D",border:{color:"#3D3D3D",width:2},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},secondaryY:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},labelBorder:{color:"#8E8E8E"},multiLevelLabelsColor:"#8E8E8E",multiLevelLabelsFontColor:"#282828",axisLine:{color:"#8E8E8E"},font:{color:"#282828"},title:{font:{color:"#282828"}},crosshairLabel:{rx:3,ry:3,fill:"#3D3D3D",border:{color:"#3D3D3D",width:2},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},commonSeriesOptions:{marker:{dataLabel:{font:{color:"#565656"}}},errorBar:{fill:"#000000",cap:{fill:"#000000"}},connectorLine:{color:"#565656"}},crosshair:{line:{width:1,color:"Black"}},seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.defaultGradient.borderColors,colors:ej.EjSvgRender.seriesPalette.defaultGradient.seriesColors},gradientdark:{highlightColor:"white",background:"#111111",legend:{font:{color:"#C9C9C9"},title:{font:{color:"#C9C9C9"}}},title:{font:{color:"#C9C9C9"},subTitle:{font:{color:"#C9C9C9"}}},primaryXAxis:{majorGridLines:{color:"#333333"},majorTickLines:{color:"#AAAAAA"},minorGridLines:{color:"#333333"},minorTickLines:{color:"#AAAAAA"},labelBorder:{color:"#AAAAAA"},multiLevelLabelsColor:"#AAAAAA",multiLevelLabelsFontColor:"#C9C9C9",axisLine:{color:"#AAAAAA"},font:{color:"#C9C9C9"},title:{font:{color:"#C9C9C9"}},crosshairLabel:{rx:3,ry:3,fill:"#B5B5B5",border:{color:"#B5B5B5",width:2},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#444444"}}},secondaryX:{majorGridLines:{color:"#333333"},majorTickLines:{color:"#AAAAAA"},minorGridLines:{color:"#333333"},minorTickLines:{color:"#AAAAAA"},labelBorder:{color:"#AAAAAA"},multiLevelLabelsColor:"#AAAAAA",multiLevelLabelsFontColor:"#C9C9C9",axisLine:{color:"#AAAAAA"},font:{color:"#C9C9C9"},title:{font:{color:"#C9C9C9"}},crosshairLabel:{rx:3,ry:3,fill:"#B5B5B5",border:{color:"#B5B5B5",width:2},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#444444"}}},primaryYAxis:{majorGridLines:{color:"#333333"},majorTickLines:{color:"#AAAAAA"},minorGridLines:{color:"#333333"},minorTickLines:{color:"#AAAAAA"},labelBorder:{color:"#AAAAAA"},multiLevelLabelsColor:"#AAAAAA",multiLevelLabelsFontColor:"#C9C9C9",axisLine:{color:"#AAAAAA"},font:{color:"#C9C9C9"},title:{font:{color:"#C9C9C9"}},crosshairLabel:{rx:3,ry:3,fill:"#B5B5B5",border:{color:"#B5B5B5",width:2},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#444444"}}},secondaryY:{majorGridLines:{color:"#333333"},majorTickLines:{color:"#AAAAAA"},minorGridLines:{color:"#333333"},minorTickLines:{color:"#AAAAAA"},labelBorder:{color:"#AAAAAA"},multiLevelLabelsColor:"#AAAAAA",multiLevelLabelsFontColor:"#C9C9C9",axisLine:{color:"#AAAAAA"},font:{color:"#C9C9C9"},title:{font:{color:"#C9C9C9"}},crosshairLabel:{rx:3,ry:3,fill:"#B5B5B5",border:{color:"#B5B5B5",width:2},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#444444"}}},commonSeriesOptions:{marker:{dataLabel:{font:{color:"#C9C9C9"}}},errorBar:{fill:"#ffffff",cap:{fill:"#ffffff"}},connectorLine:{color:"#C9C9C9"}},crosshair:{line:{width:1,color:"White"}},seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.defaultGradient.borderColors,colors:ej.EjSvgRender.seriesPalette.defaultGradient.seriesColors},highcontrast01:{highlightColor:"white",background:"#111111",legend:{font:{color:"#ffffff"},title:{font:{color:"#ffffff"}}},title:{font:{color:"#ffffff"},subTitle:{font:{color:"#ffffff"}}},primaryXAxis:{majorGridLines:{color:"#333333"},majorTickLines:{color:"#AAAAAA"},minorGridLines:{color:"#333333"},minorTickLines:{color:"#AAAAAA"},labelBorder:{color:"#AAAAAA"},multiLevelLabelsColor:"#AAAAAA",multiLevelLabelsFontColor:"#ffffff",axisLine:{color:"#AAAAAA"},font:{color:"#ffffff"},title:{font:{color:"#ffffff"}},crosshairLabel:{rx:3,ry:3,fill:"#B5B5B5",border:{color:"#B5B5B5",width:2},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#444444"}}},secondaryX:{majorGridLines:{color:"#333333"},majorTickLines:{color:"#AAAAAA"},minorGridLines:{color:"#333333"},minorTickLines:{color:"#AAAAAA"},axisLine:{color:"#AAAAAA"},font:{color:"#ffffff"},title:{font:{color:"#ffffff"}},crosshairLabel:{rx:3,ry:3,fill:"#B5B5B5",border:{color:"#B5B5B5",width:2},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#444444"}}},primaryYAxis:{majorGridLines:{color:"#333333"},majorTickLines:{color:"#AAAAAA"},minorGridLines:{color:"#333333"},minorTickLines:{color:"#AAAAAA"},labelBorder:{color:"#AAAAAA"},multiLevelLabelsColor:"#AAAAAA",multiLevelLabelsFontColor:"#ffffff",axisLine:{color:"#AAAAAA"},font:{color:"#ffffff"},title:{font:{color:"#ffffff"}},crosshairLabel:{rx:3,ry:3,fill:"#B5B5B5",border:{color:"#B5B5B5",width:2},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#444444"}}},secondaryY:{majorGridLines:{color:"#333333"},majorTickLines:{color:"#AAAAAA"},minorGridLines:{color:"#333333"},minorTickLines:{color:"#AAAAAA"},axisLine:{color:"#AAAAAA"},font:{color:"#ffffff"},title:{font:{color:"#ffffff"}},crosshairLabel:{rx:3,ry:3,fill:"#B5B5B5",border:{color:"#B5B5B5",width:2},font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#444444"}}},commonSeriesOptions:{marker:{dataLabel:{font:{color:"#ffffff"}}},errorBar:{fill:"#ffffff",cap:{fill:"#ffffff"}},connectorLine:{color:"#C9C9C9"}},crosshair:{line:{width:1,color:"White"}},seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.defaultHighContrast,colors:ej.EjSvgRender.seriesPalette.defaultHighContrast},material:{highlightColor:"black",background:"transparent",legend:{font:{color:"#333333"},title:{font:{color:"#333333"}}},title:{font:{color:"#333333"},subTitle:{font:{color:"#333333"}}},primaryXAxis:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},labelBorder:{color:"#8E8E8E"},multiLevelLabelsColor:"#8E8E8E",multiLevelLabelsFontColor:"#333333",axisLine:{color:"#8E8E8E"},font:{color:"#333333"},title:{font:{color:"#333333"}},crosshairLabel:{rx:0,ry:0,border:{color:"#3D3D3D",width:1},fill:"#3D3D3D",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},secondaryX:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},axisLine:{color:"#8E8E8E"},font:{color:"#333333"},title:{font:{color:"#333333"}},crosshairLabel:{rx:0,ry:0,border:{color:"#3D3D3D",width:1},fill:"#3D3D3D",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},primaryYAxis:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},labelBorder:{color:"#8E8E8E"},multiLevelLabelsColor:"#8E8E8E",multiLevelLabelsFontColor:"#333333",axisLine:{color:"#8E8E8E"},font:{color:"#333333"},title:{font:{color:"#333333"}},crosshairLabel:{rx:0,ry:0,border:{color:"#3D3D3D",borderWidth:1},fill:"#3D3D3D",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},secondaryY:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},axisLine:{color:"#8E8E8E"},font:{color:"#333333"},title:{font:{color:"#333333"}},crosshairLabel:{rx:0,ry:0,border:{color:"#3D3D3D",width:1},fill:"#3D3D3D",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},commonSeriesOptions:{marker:{dataLabel:{font:{color:"#333333"}}},errorBar:{fill:"#000000",cap:{fill:"#000000"}},connectorLine:{color:"#565656"}},crosshair:{line:{width:1,color:"Black"}},seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.defaultMaterial,colors:ej.EjSvgRender.seriesPalette.defaultMaterial},office365:{highlightColor:"black",background:"transparent",legend:{font:{color:"#333333"},title:{font:{color:"#333333"}}},title:{font:{color:"#333333"},subTitle:{font:{color:"#333333"}}},primaryXAxis:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},labelBorder:{color:"#8E8E8E"},multiLevelLabelsColor:"#8E8E8E",multiLevelLabelsFontColor:"#333333",axisLine:{color:"#8E8E8E"},font:{color:"#333333"},title:{font:{color:"#333333"}},crosshairLabel:{rx:0,ry:0,border:{color:"#3D3D3D",width:1},fill:"#3D3D3D",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},secondaryX:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},axisLine:{color:"#8E8E8E"},font:{color:"#333333"},title:{font:{color:"#333333"}},crosshairLabel:{rx:0,ry:0,border:{color:"#3D3D3D",width:1},fill:"#3D3D3D",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},primaryYAxis:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},labelBorder:{color:"#8E8E8E"},multiLevelLabelsColor:"#8E8E8E",multiLevelLabelsFontColor:"#333333",axisLine:{color:"#8E8E8E"},font:{color:"#333333"},title:{font:{color:"#333333"}},crosshairLabel:{rx:0,ry:0,border:{color:"#3D3D3D",borderWidth:1},fill:"#3D3D3D",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},secondaryY:{majorGridLines:{color:"#DFDFDF"},majorTickLines:{color:"#8E8E8E"},minorGridLines:{color:"#DFDFDF"},minorTickLines:{color:"#8E8E8E"},axisLine:{color:"#8E8E8E"},font:{color:"#333333"},title:{font:{color:"#333333"}},crosshairLabel:{rx:0,ry:0,border:{color:"#3D3D3D",width:1},fill:"#3D3D3D",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:"#DBDBDB"}}},commonSeriesOptions:{marker:{dataLabel:{font:{color:"#333333"}}},errorBar:{fill:"#000000",cap:{fill:"#000000"}},connectorLine:{color:"#565656"}},crosshair:{line:{width:1,color:"Black"}},seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.defaultOffice,colors:ej.EjSvgRender.seriesPalette.defaultOffice}},n.extend(ej.EjSvgRender.themes,{azure:{seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.blueMetro,colors:ej.EjSvgRender.seriesPalette.blueMetro},azuredark:{seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.blueMetro,colors:ej.EjSvgRender.seriesPalette.blueMetro},"gradient-azure":{seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.blueGradient.borderColors,colors:ej.EjSvgRender.seriesPalette.blueGradient.seriesColors},"gradient-azuredark":{seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.blueGradient.borderColors,colors:ej.EjSvgRender.seriesPalette.blueGradient.seriesColors},lime:{seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.greenMetro,colors:ej.EjSvgRender.seriesPalette.greenMetro},limedark:{seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.greenMetro,colors:ej.EjSvgRender.seriesPalette.greenMetro},"gradient-lime":{seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.greenGradient.borderColors,colors:ej.EjSvgRender.seriesPalette.greenGradient.seriesColors},"gradient-limedark":{seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.greenGradient.borderColors,colors:ej.EjSvgRender.seriesPalette.greenGradient.seriesColors},saffron:{seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.sandleMetro,colors:ej.EjSvgRender.seriesPalette.sandleMetro},saffrondark:{seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.sandleMetro,colors:ej.EjSvgRender.seriesPalette.sandleMetro},"gradient-saffron":{seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.sandleGradient.borderColors,colors:ej.EjSvgRender.seriesPalette.sandleGradient.seriesColors},"gradient-saffrondark":{seriesBorderDefaultColors:ej.EjSvgRender.seriesPalette.sandleGradient.borderColors,colors:ej.EjSvgRender.seriesPalette.sandleGradient.seriesColors}})}(jQuery),ej.axisTypes={},ej.EjAxisRenderer=function(){};var _sideBySeriesPadding=function(n,c,r,u){for(var _,w,v=ej.DataManager(n.model._visibleSeries,ej.Query().sortBy("_zOrder")).executeLocal(),a=!1,s=v.length,t=(u.orientation.toLowerCase(),0);t<s;t++)if(-1!=(_=v[t].type.toLowerCase()).indexOf("column")||-1!=_.indexOf("bar")||-1!=_.indexOf("waterfall")||"candle"==_||-1!=_.indexOf("hilo")||-1!=_.indexOf("box")){a=!0;break}return"polaraxes"!=n.model.AreaType&&a?(u.m_minPointsDelta=void 0,c-=w=.5*ej.EjSvgRender.utils.getMinPointsDelta(u,n,c),r=r+w>Number.MAX_VALUE?Number.MAX_VALUE:r+w,u.padding=w):u.padding=0,{startPadding:c,endPadding:r}};ej.EjStripline=function(n){this.chart=n},function(n){function c(a,s){var h=function(){};return h.prototype=new a,n.extend(h.prototype,s),h}var r,u,_,w,v;ej.EjAxisRenderer.prototype={_seriesMinMax:function(a,s,h,t,o){var g,b,C,T,D,L,I,R,V,F,A,z,N,J,Q,oe,ue,le,ne,he,l=s.orientation.toLowerCase(),p=h.length;if(o.seriesCollection=ej.util.isNullOrUndefined(o.seriesCollection)?{}:o.seriesCollection,p>0&&a.model._hasSeriesPoints&&h[0].points.length>0||this.chartObj.model.indicators[0]._points.length>0){var se,ee,re,W,pe,M,fe,ae,de,_e,xe={maxX:null,minX:null},O={maxY:null,minY:null},B=xe.maxX,H=xe.minX,Z=O.maxY,te=O.minY;for(C=0;C<p;C++){if(ae=h[C].visibility.toLowerCase(),de=h[C].points.length,g=0,"visible"===ae)for(h[C]._visiblePoints=[],R=0;R<de;R++)(null!=(b=h[C].points[R]).x&&null!=b.x&&("object"==typeof b.y||!isNaN(b.y))&&null!=b.y&&null!=b.y||b.showIntermediateSum||b.showTotalSum||0==b.isEmpty)&&(h[C]._visiblePoints[g]=b,h[C]._visiblePoints[g].actualIndex=R,g++);s.maxPointLength=de}for(C=0;C<p;C++)if(T=h[C],(_e=h[C]._visiblePoints.length)>0&&(ae=h[C].visibility.toLowerCase(),de=h[C].points.length,"visible"===ae&&de>0))if("horizontal"==l&&!a.model.requireInvertedAxes||"vertical"==l&&a.model.requireInvertedAxes){for(re=se=h[C]._visiblePoints[0].xValue,R=0;R<_e;R++)re>(V=h[C]._visiblePoints[R].xValue)&&(re=V),se<V&&(se=V);h[C].minX=re,h[C].maxX=se,null==H&&_e>0&&(B=h[C].maxX,H=h[C].minX),H>h[C].minX&&(H=h[C].minX),B<h[C].maxX&&(B=h[C].maxX)}else{var Ce,Pe,ke,Ne,Le,be=-1!=T.type.toLowerCase().indexOf("spline"),je=0,Ae=h[C]._visiblePoints;for(be&&(D=T._name=T.name||"series"+C,o.seriesCollection[D]={},Ae=ej.ejSplineSeries.prototype._isVisiblePoints(T),Pe=o.seriesCollection[D].naturalSpline=ej.ejSplineSeries.prototype.naturalSpline(Ae,T,0,s),"splinerangearea"==T.type.toLowerCase()&&(ke=o.seriesCollection[D].naturalSpline1=ej.ejSplineSeries.prototype.naturalSpline(Ae,T,1,s)),o.seriesCollection[D].controlPoints=[],Ne=ej.ejSplineSeries.prototype.getBezierControlPoints,Le=Ae.filter(function(Oe){return!ej.isNullOrUndefined(Oe.YValues[0])&&!isNaN(Oe.YValues[0])})),W=ee=be?Le[0].YValues[0]:Ae[0].YValues[0],R=0;R<Ae.length;R++)if(V=Ae[R],h[C]._hiloTypes&&"splinerangearea"!=T.type.toLowerCase())for(F=0;F<2;F++)ee>V.YValues[F]&&(ee=V.YValues[F]),W<V.YValues[F]&&(W=V.YValues[F]);else if("boxandwhisker"==T.type.toLowerCase()){for(L=Ae[R].YValues[0][0],I=Ae[R].YValues[0][0],A=0;A<V.YValues[0].length;A++)L>V.YValues[0][A]&&(L=V.YValues[0][A]),I<V.YValues[0][A]&&(I=V.YValues[0][A]);ee=L>ee?ee:L,W=I<W?W:I}else be?0!=R&&V.visible&&Ae[R-1].visible?(o.seriesCollection[D].controlPoints.push(Ne(Ae[R-1],V,Pe[R-1],Pe[R],0,T,this)),"splinerangearea"==T.type.toLowerCase()&&(z=Ne(Ae[R-1],V,ke[R-1],ke[R],1,T,this),o.seriesCollection[D].controlPoints[je].controlPoint1.YValues[1]=z.controlPoint1.YValues[0],o.seriesCollection[D].controlPoints[je].controlPoint2.YValues[1]=z.controlPoint2.YValues[0]),Ce=o.seriesCollection[D].controlPoints[je++],ee=Math.min(ee,V.YValues[0],Ce.controlPoint1.YValues[0],Ce.controlPoint2.YValues[0]),W=Math.max(W,V.YValues[0],Ce.controlPoint1.YValues[0],Ce.controlPoint2.YValues[0]),"splinerangearea"==T.type.toLowerCase()&&(ee=Math.min(ee,V.YValues[1],Ce.controlPoint1.YValues[1],Ce.controlPoint2.YValues[1]),W=Math.max(W,V.YValues[1],Ce.controlPoint1.YValues[1],Ce.controlPoint2.YValues[1]))):(0!=R&&(-1!=T.type.toLowerCase().indexOf("stacking")||"splinerangearea"==T.type.toLowerCase())&&(o.seriesCollection[D].controlPoints.push(Ne(Ae[R-1],V,Pe[R-1],Pe[R],0,T,this)),"splinerangearea"==T.type.toLowerCase()&&(z=Ne(Ae[R-1],V,ke[R-1],ke[R],1,T,this),o.seriesCollection[D].controlPoints[je].controlPoint1.YValues[1]=z.controlPoint1.YValues[0],o.seriesCollection[D].controlPoints[je].controlPoint2.YValues[1]=z.controlPoint2.YValues[0]),Ce=o.seriesCollection[D].controlPoints[je++]),ee=Math.min(ee,isNaN(V.YValues[0])?ee:V.YValues[0]||null),W=Math.max(W,V.YValues[0]||null),"splinerangearea"==T.type.toLowerCase()&&(ee=Math.min(ee,isNaN(V.YValues[1])?ee:V.YValues[1]||null),W=Math.max(W,V.YValues[1]||null))):(ee>V.YValues[0]&&(ee=V.YValues[0]),W<V.YValues[0]&&(W=V.YValues[0]));h[C].minY=ee,h[C].maxY=W,null==te&&_e>0&&(Z=h[C].maxY,te=h[C].minY),te>h[C].minY&&(te=h[C].minY),Z<h[C].maxY&&(Z=h[C].maxY),s.startFromZero&&(te=te<0?te:0)}"horizontal"==l&&!a.model.requireInvertedAxes||"vertical"==l&&a.model.requireInvertedAxes?(this.chartObj.model.indicatorRange&&this.chartObj.model.indicatorRange[s.name]&&((te>(Q=this.chartObj.model.indicatorRange[s.name]).min||null==te)&&(te=Q.min),(Z<Q.max||null==Z)&&(Z=Q.max)),B==H&&(B+=1),"double"==t?(N=_sideBySeriesPadding(a,H,B,s),s.range=this._getDoubleAutoRange(s,H=N.startPadding,B=N.endPadding,B-H)):s.range=this._getLogAutoRange(s,H,B,B-H)):(this.chartObj.model.stackedValue[s.name]&&(J=!0,te>(Q=this.chartObj.model.stackedValue[s.name]).min&&(te=s.startFromZero?Q.min:te),Z<Q.max&&(Z=Q.max)),this.chartObj.model.indicatorRange&&this.chartObj.model.indicatorRange[s.name]&&((te>(Q=this.chartObj.model.indicatorRange[s.name]).min||null==te)&&(te=Q.min),(Z<Q.max||null==Z)&&(Z=Q.max)),Z==te&&(Z<0?Z=0:Z<=1&&Z>0?te=0:(te=0,Z+=1)),s.startFromZero||(oe=s.range&&s.range.max||Z,Z+=ue=s.range&&s.range.interval||this.calculateNumericNiceInterval(oe-te,s,null,oe),te-ue<0&&te>0||J?te=s.startFromZero?0:te:te-=ue),le=Z-te,J=!1,s.range="double"==t?this._getDoubleAutoRange(s,te,Z,le):this._getLogAutoRange(s,te,Z,le))}else s.setRange?(fe=(M=null==s.range.max||null==s.range.max?5:s.range.max)-(pe=null==s.range.min||null==s.range.min?0:s.range.min),s.range="double"==t?this._getDoubleAutoRange(s,pe,M,fe):this._getLogAutoRange(s,pe,M,fe)):s.range={min:0,max:5,interval:1,Delta:4};(ne=n.extend({},ej.EjSvgRender.commonChartEventArgs)).data={range:s.range,axis:s},this.chartObj._trigger("axesRangeCalculate",ne),s.range={min:(he=ne.data.range).min,max:he.max,interval:he.interval,delta:he.max-he.min}},_calculateTrendLineRange:function(a,s,h){for(var t,o,l,p,b,C,D=h.length,L=0;L<D;L++)if(l=(o=h[L]).trendlines,"cartesianaxes"==a.model.AreaType&&(s.name==o._xAxisName||s.name==o._yAxisName))for(b=l.length,t=0;t<b;t++)"visible"===(p=l[t]).visibility.toLowerCase()&&(s.name==o._xAxisName?(C=p.type.toLowerCase(),(new ej.trendlineTypes[C]).calculateTrendLineSegment(o,p,s,a)):s.name==o._yAxisName&&!s.setRange&&p.points&&p.points.length>1&&(s.range.min=s.range.min>p.minY?p.minY:s.range.min,s.range.max=s.range.max<p.maxY?p.maxY:s.range.max));return!1},AlignRangeStart:function(a,s,h){var o,l,p,g,b,C,T,t=new Date(a);return"days"==h.toLowerCase()?(o=Math.floor(Math.floor(a.getDate()/s)*s),t=new Date(a.getFullYear(),a.getMonth(),o,0,0,0)):"hours"==h.toLowerCase()?(l=Math.floor(Math.floor(a.getHours()/s)*s),t=new Date(a.getFullYear(),a.getMonth(),a.getDate(),l,0,0)):"milliseconds"==h.toLowerCase()?(p=Math.floor(Math.floor(a.getMilliseconds()/s)*s),t=new Date(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),p)):"seconds"==h.toLowerCase()?(g=Math.floor(Math.floor(a.getSeconds()/s)*s),t=new Date(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),g,0)):"minutes"==h.toLowerCase()?(b=Math.floor(Math.floor(a.getMinutes()/s)*s),t=new Date(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),b,0,0)):"months"==h.toLowerCase()?(C=Math.floor(Math.floor(a.getMonth()/s)*s),t=new Date(a.getFullYear(),C,a.getDate(),0,0,0)):"years"==h.toLowerCase()&&(T=Math.floor(Math.floor(a.getFullYear()/s)*s),t=new Date(T,a.getMonth(),a.getDate(),0,0,0)),t},_increaseDateTimeInterval:function(a,s,h){var t=new Date(a);return"days"==h.toLowerCase()?t.setDate(a.getDate()+s):"hours"==h.toLowerCase()?t.setHours(a.getHours()+s):"milliseconds"==h.toLowerCase()?t.setMilliseconds(a.getMilliseconds()+s):"seconds"==h.toLowerCase()?t.setSeconds(a.getSeconds()+s):"minutes"==h.toLowerCase()?t.setMinutes(a.getMinutes()+s):"months"==h.toLowerCase()?t.setMonth(a.getMonth()+s):"years"==h.toLowerCase()?t.setYear(a.getFullYear()+s):"weeks"==h.toLowerCase()&&t.setDate(a.getDate()+7*s),t},_calculatePadding:function(a){var l,p,g,b,C,T,D,L,I,R,V,F,A,z,N,s="string"!=typeof a.range.min||isNaN(Date.parse(a.range.min))?"number"==typeof a.range.min?new Date(a.range.min).getTime():a.range.min.getTime():Date.parse(a.range.min),h="string"!=typeof a.range.max||isNaN(Date.parse(a.range.max))?"number"==typeof a.range.max?new Date(a.range.max).getTime():a.range.max.getTime():Date.parse(a.range.max),t=this._increaseDateTimeInterval(new Date(s),a.range.interval,a._intervalType).getTime()-s,o=a.rangePadding.toLowerCase();if(!this.chartObj.zoomed&&!a.setRange)if(s=new Date(s),h=new Date(h),l=a._intervalType.toLowerCase(),"none"==a.rangePadding.toLowerCase())s=s.getTime(),h=h.getTime();else if("additional"==o||"round"==o)switch(l){case"years":p=s.getFullYear(),g=h.getFullYear(),"additional"==a.rangePadding.toLowerCase()?(s=new Date(p-a.range.interval,1,1,0,0,0).getTime(),h=new Date(g+a.range.interval,1,1,0,0,0).getTime()):(s=new Date(p,0,0,0,0,0).getTime(),h=new Date(g,11,30,23,59,59).getTime());break;case"months":b=s.getMonth(),C=h.getMonth(),"round"==o?(s=new Date(s.getFullYear(),b,0,0,0,0).getTime(),h=new Date(h.getFullYear(),C,new Date(h.getFullYear(),h.getMonth(),0).getDate(),23,59,59).getTime()):(s=new Date(s.getFullYear(),b+-a.range.interval,1,0,0,0).getTime(),h=new Date(h.getFullYear(),C+a.range.interval,2==C?28:30,0,0,0).getTime());break;case"weeks":case"days":T=s.getDate(),D=h.getDate(),"round"==o?(s=new Date(s.getFullYear(),s.getMonth(),T,0,0,0).getTime(),h=new Date(h.getFullYear(),h.getMonth(),D,23,59,59).getTime()):(s=new Date(s.getFullYear(),s.getMonth(),T+-a.range.interval,0,0,0).getTime(),h=new Date(h.getFullYear(),h.getMonth(),D+a.range.interval,0,0,0).getTime());break;case"hours":L=s.getHours()/a.range.interval*a.range.interval,I=h.getHours()+(s.getHours()-L),"round"==o?(s=new Date(s.getFullYear(),s.getMonth(),s.getDay(),L,0,0).getTime(),h=new Date(h.getFullYear(),h.getMonth(),h.getDay(),I,59,59).getTime()):(s=new Date(s.getFullYear(),s.getMonth(),s.getDay(),L+-a.range.interval,0,0).getTime(),h=new Date(h.getFullYear(),h.getMonth(),h.getDay(),I+a.range.interval,0,0).getTime());break;case"minutes":R=s.getMinutes()/a.range.interval*a.range.interval,V=h.getMinutes()+(s.getMinutes()-R),"round"==o?(s=new Date(s.getFullYear(),s.getMonth(),s.getDay(),s.getHour(),R,0).getTime(),h=new Date(h.getFullYear(),h.getMonth(),h.getDay(),h.getHour(),V,59).getTime()):(s=new Date(s.getFullYear(),s.getMonth(),s.getDay(),s.getHours(),R+-a.range.interval,0).getTime(),h=new Date(h.getFullYear(),h.getMonth(),h.getDay(),h.getHours(),R+a.range.interval,0).getTime());break;case"seconds":F=s.getSeconds()/a.range.interval*a.range.interval,A=h.getSeconds()+(s.getSeconds()-F),"round"==o?(s=new Date(s.getFullYear(),s.getMonth(),s.getDay(),s.getHours(),s.getMinutes(),F,0).getTime(),h=new Date(h.getFullYear(),h.getMonth(),h.getDay(),h.getHour(),h.getMinutes(),A,0).getTime()):(s=new Date(s.getFullYear(),s.getMonth(),s.getDay(),s.getHours(),s.getMinutes(),F+-a.range.interval,0).getTime(),h=new Date(h.getFullYear(),h.getMonth(),h.getDay(),h.getHours(),h.getMinutes(),A+a.range.interval,0).getTime());break;case"milliseconds":z=s.getMilliseconds()/a.range.interval*a.range.interval,N=h.getMilliseconds()+(s.getMilliseconds()-z),"round"==o?(s=new Date(s.getFullYear(),s.getMonth(),s.getDay(),s.getHours(),s.getMinutes(),s.getSeconds(),z).getTime(),h=new Date(h.getFullYear(),h.getMonth(),h.getDay(),h.getHours(),h.getMinutes(),h.getSeconds(),N).getTime()):(s=new Date(s.getFullYear(),s.getMonth(),s.getDay(),s.getHours(),s.getMinutes(),s.getSeconds(),z+-a.range.interval).getTime(),h=new Date(h.getFullYear(),h.getMonth(),h.getDay(),h.getHours(),h.getMinutes(),h.getSeconds(),N+a.range.interval).getTime())}a.actualRange.interval=t,a.actualRange.min=s,a.actualRange.max=h,a._interval=a.range.interval,a.actualRange.delta=a.actualRange.max-a.actualRange.min,a.range.min=new Date(s),a.range.max=new Date(h),this._calculateVisibleRange(a)},_calculateVisibleRange:function(a,s,h){var t,o,l,p,g;if(this.chartObj=s||this.chartObj,a.visibleRange=h?a.visibleRange:n.extend(!0,{},a.actualRange),(a.zoomFactor<1||a.zoomPosition>0)&&"polaraxes"!=this.chartObj.model.AreaType&&!this.chartObj.model.disableZoom){a.zoomFactor=a.zoomFactor>1?1:a.zoomFactor<0?0:a.zoomFactor,a.zoomPosition=a.zoomPosition<0?0:a.zoomPosition>1?1:a.zoomPosition,l=a.isInversed?(o=a.actualRange.max-a.zoomPosition*a.actualRange.delta)-a.zoomFactor*a.actualRange.delta:(o=a.actualRange.min+a.zoomPosition*a.actualRange.delta)+a.zoomFactor*a.actualRange.delta,o<(t=a.actualRange).min&&(l+=t.min-o,o=t.min),l>t.max&&(o-=l-t.max,l=t.max),p=new Date(o),g=new Date(l),o==l&&(p=new Date(Date.parse(p)-2592e6),g=new Date(Date.parse(g)+2592e6));var b=Math.min(p.getTime(),g.getTime()),C=Math.max(p.getTime(),g.getTime()),T=a.enableAutoIntervalOnZooming?this.calculateDateTimeNiceInterval(a,p,g):{interval:a._interval,intervalType:a._intervalType},D=this._increaseDateTimeInterval(p,T.interval,T.intervalType).getTime()-b;if(h)return{min:b,max:C,interval:D};a._intervalType=T.intervalType,a.visibleRange.min=b,a.visibleRange.max=C,a.visibleRange.interval=D,a.visibleRange.delta=Math.abs(a.visibleRange.max-a.visibleRange.min),a._interval=T.interval}},_calculateAxisLabels:function(a){for(var s,t,o=this.chartObj.zoomed||a.zoomed||!a.setRange?this.AlignRangeStart(new Date(a.enableAutoIntervalOnZooming?a.visibleRange.min:a.actualRange.min),a._interval,a._intervalType).getTime():a.visibleRange.min;o<=a.visibleRange.max;)o>=a.visibleRange.min&&o<=a.visibleRange.max&&(s="Weeks"!==a._intervalType||a.labelFormat?ej.format(new Date(o),a.labelFormat?a.labelFormat:ej.EjSvgRender.utils._dateTimeLabelFormat(a._intervalType,a),this.chartObj.model.locale):this.getWeekFormat(o),(t=n.extend({},ej.EjSvgRender.commonChartEventArgs)).data={label:{Text:s,Value:o},axis:a},this.chartObj._trigger("axesLabelRendering",t),a.visibleLabels.push({Value:o,Text:t.data.label.Text})),o=this._increaseDateTimeInterval(new Date(o),a._interval,a._intervalType).getTime(),a.visibleLabels[a.visibleLabels.length-1]=a.visibleLabels[a.visibleLabels.length-1];a._LableMaxWidth=ej.EjSvgRender.utils._getMaxLabelWidth(a,this.chartObj)},getWeekFormat:function(a){var s=new Date(a),h=new Date(s.getFullYear(),0,1);return"Week "+Math.ceil(((s-h)/864e5+h.getDay()+1)/7)},calculateDateTimeNiceInterval:function(a,s,h){var t=Math.abs((s.getTime()-h.getTime())/864e5),o=this.calculateNumericNiceInterval(t/365,a,"years");return o<=1&&t>=365&&(o=1),o>=1?{interval:o,intervalType:"Years"}:(0==(o=this.calculateNumericNiceInterval(t/30,a,"months"))&&(o=1),o>=1?{interval:o,intervalType:"Months"}:(0==(o=this.calculateNumericNiceInterval(t/7,a,"weeks"))&&(o=1),o>=1?{interval:o,intervalType:"Weeks"}:(0==(o=this.calculateNumericNiceInterval(t,a,"days"))&&(o=1),o>=1?{interval:o,intervalType:"Days"}:(0==(o=this.calculateNumericNiceInterval(24*t,a,"hours"))&&(o=1),o>=1?{interval:o,intervalType:"Hours"}:(0==(o=this.calculateNumericNiceInterval(1440*t,a,"minutes"))&&(o=1),o>=1?{interval:o,intervalType:"Minutes"}:(0==(o=this.calculateNumericNiceInterval(86400*t,a,"seconds"))&&(o=1),o>=1?{interval:o,intervalType:"Seconds"}:(0==(o=this.calculateNumericNiceInterval(864e5*t,a,"milliseconds"))&&(o=1),o>=1?{interval:o,intervalType:"Milliseconds"}:void 0)))))))},calculateNumericNiceInterval:function(a,s,h,t){var p,g,o=this.GetActualDesiredIntervalsCount(s,s.length),l=a/o;if("double"==s._valueType&&null!=s.desiredIntervals)return l;var b=Math.pow(10,Math.floor(ej.EjSvgRender.utils._logBase(l,10))),C=[10,5,2,1],T=t||s.range&&s.range.max;for(p=0;p<C.length;p++){if(o<a/(g=b*C[p]))return"datetime"==s._valueType?ej.util.isNullOrUndefined(s.intervalType)||s.intervalType.toLowerCase()!=h?l:Math.ceil(l):ej.util.isNullOrUndefined(s.range)||ej.util.isNullOrUndefined(s.range.max)?l:l>T?g:l;l=g}return l},GetActualDesiredIntervalsCount:function(a,s){if(ej.util.isNullOrUndefined(a.desiredIntervals)){var h=("horizontal"==a.orientation.toLowerCase()?.533:1)*a.maximumLabels;return Math.max(s*(h/100),1)}return a.desiredIntervals},_calculateRange:function(a,s,h){var t,o,l,p,g,b,C,T,D,L,I,R,V,F,A,z,N,U,J,oe,ue;if(!this.chartObj.zoomed){if(t=new Date,h.seriesCollection=ej.util.isNullOrUndefined(h.seriesCollection)?{}:h.seriesCollection,o=a.orientation.toLowerCase(),s.length>0&&this.chartObj.model._hasSeriesPoints&&s[0].points.length>0||this.chartObj.model.indicators[0]._points.length>0){var le,ne,he,se,W,ee={maxX:null,minX:null},re={maxY:null,minY:null};for(l=0;l<s.length;l++){if(p=s[l],(W=s[l].points.length)>0&&"visible"===s[l].visibility.toLowerCase()&&s[l].points.length>0){for(g=-1!=p.type.toLowerCase().indexOf("spline"),"vertical"==o&&g?(I=0,R=s[l]._visiblePoints,g&&(V=p._name=p.name||"series"+l,h.seriesCollection[V]={},R=ej.ejSplineSeries.prototype._isVisiblePoints(p),C=h.seriesCollection[V].naturalSpline=ej.ejSplineSeries.prototype.naturalSpline(R,p,0,a),"splinerangearea"==p.type.toLowerCase()&&(T=h.seriesCollection[V].naturalSpline1=ej.ejSplineSeries.prototype.naturalSpline(R,p,1,a)),h.seriesCollection[V].controlPoints=[],D=ej.ejSplineSeries.prototype.getBezierControlPoints,L=R.filter(function(pe){return!ej.isNullOrUndefined(pe.YValues[0])&&!isNaN(pe.YValues[0])})),he=ne=g?L[0].YValues[0]:R[0].YValues[0]):(se=le=new Date(s[l].points[0].xValue),he=ne=s[l].points[0].YValues[0]),F=0;F<W;F++)g&&"vertical"==o?(A=R[F],0!=F&&A.visible&&R[F-1].visible?(h.seriesCollection[V].controlPoints.push(D(R[F-1],A,C[F-1],C[F],0,p,this)),"splinerangearea"==p.type.toLowerCase()&&(z=D(R[F-1],A,T[F-1],T[F],1,p,this),h.seriesCollection[V].controlPoints[I].controlPoint1.YValues[1]=z.controlPoint1.YValues[0],h.seriesCollection[V].controlPoints[I].controlPoint2.YValues[1]=z.controlPoint2.YValues[0]),b=h.seriesCollection[V].controlPoints[I++],ne=Math.min(ne,A.YValues[0],b.controlPoint1.YValues[0],b.controlPoint2.YValues[0]),he=Math.max(he,A.YValues[0],b.controlPoint1.YValues[0],b.controlPoint2.YValues[0]),"splinerangearea"==p.type.toLowerCase()&&(ne=Math.min(ne,A.YValues[1],b.controlPoint1.YValues[1],b.controlPoint2.YValues[1]),he=Math.max(he,A.YValues[1],b.controlPoint1.YValues[1],b.controlPoint2.YValues[1]))):(0!=F&&(-1!=p.type.toLowerCase().indexOf("stacking")||"splinerangearea"==p.type.toLowerCase())&&(h.seriesCollection[V].controlPoints.push(D(R[F-1],A,C[F-1],C[F],0,p,this)),"splinerangearea"==p.type.toLowerCase()&&(z=D(R[F-1],A,T[F-1],T[F],1,p,this),h.seriesCollection[V].controlPoints[I].controlPoint1.YValues[1]=z.controlPoint1.YValues[0],h.seriesCollection[V].controlPoints[I].controlPoint2.YValues[1]=z.controlPoint2.YValues[0]),b=h.seriesCollection[V].controlPoints[I++]),ne=Math.min(ne,isNaN(A.YValues[0])?ne:A.YValues[0]||null),he=Math.max(he,A.YValues[0]||null),"splinerangearea"==p.type.toLowerCase()&&(ne=Math.min(ne,isNaN(A.YValues[1])?ne:A.YValues[1]||null),he=Math.max(he,A.YValues[1]||null)))):(null!=se&&null!=se?(se>s[l].points[F].xValue&&(se=s[l].points[F].xValue),le<s[l].points[F].xValue&&(le=s[l].points[F].xValue)):se=le=new Date(s[l].points[F+1].xValue),ne>s[l].points[F].YValues[0]&&(ne=s[l].points[F].YValues[0]),he<s[l].points[F].YValues[0]&&(he=s[l].points[F].YValues[0]));s[l].minX=se,s[l].maxX=le,s[l].minY=ne,s[l].maxY=he,(!a.maxPointLength||a.maxPointLength<W)&&(a.maxPointLength=W)}(ee.minX=null==ee.minX&&"number"!=typeof s[l].minX?s[l].minX:ee.minX)>s[l].minX&&(ee.minX="number"!=typeof s[l].minX?s[l].minX:ee.minX),(ee.maxX=null==ee.maxX&&"number"!=typeof s[l].maxX?s[l].maxX:ee.maxX)<s[l].maxX&&(ee.maxX="number"!=typeof s[l].maxX?s[l].maxX:ee.maxX),re.minY>s[l].minY&&(re.minY=s[l].minY),re.maxY<s[l].maxY&&(re.maxY=s[l].maxY)}this.chartObj.model.indicatorRange&&this.chartObj.model.indicatorRange[a.name]&&(N=this.chartObj.model.indicatorRange[a.name],(ee.minX>new Date(N.min)||null==ee.minX)&&(ee.minX=new Date(N.min)),(ee.maxX<new Date(N.max)||null==ee.maxX)&&(ee.maxX=new Date(N.max))),ee.minX=null==ee.minX?t:ee.minX,ee.maxX=null==ee.maxX?new Date((new Date).setMonth(t.getMonth()+5)):ee.maxX,ee.minX==ee.maxX&&(ee.minX=new Date(Date.parse(ee.minX)-2592e6),ee.maxX=new Date(Date.parse(ee.maxX)+2592e6)),U=_sideBySeriesPadding(this.chartObj,ee.minX.getTime(),ee.maxX.getTime(),a),ee.minX=new Date(U.startPadding),ee.maxX=new Date(U.endPadding),J=this.calculateDateTimeNiceInterval(a,ee.minX,ee.maxX),a._intervalType=a.intervalType?a.intervalType:J.intervalType,"auto"==a.intervalType&&(a._intervalType=a.intervalType=J.intervalType),(null==a.setAxisInterval||null==a.setAxisInterval)&&(a.setAxisInterval=!(!a.range||!a.range.interval)),a._setInterval&&!this.chartObj._chartResize&&a.range&&a._setInterval!=a.range.interval&&(a._setInterval=null),a.setRange?(a.range.max||(a.range.max=ee.maxX),a.range.min||(a.range.min=ee.minX),"string"==typeof a.range.min&&-1!=a.range.min.indexOf("/Date(")&&(a.range.min=new Date(parseInt(a.range.min.substr(6)))),"string"==typeof a.range.max&&-1!=a.range.max.indexOf("/Date(")&&(a.range.max=new Date(parseInt(a.range.max.substr(6)))),new Date(a.range.min).getTime()==new Date(a.range.max).getTime()&&(a.range.max=new Date(Date.parse(a.range.max)+864e5)),J=this.calculateDateTimeNiceInterval(a,new Date(a.range.min),new Date(a.range.max)),a._intervalType=a.intervalType?a.intervalType:J.intervalType,a.setAxisInterval||(a.range.interval=J.interval,a._setInterval=J.interval),a.actual_Range=n.extend(!0,{},a.range),a.setRange=!0,a.range={min:a.actual_Range.min,max:a.actual_Range.max,interval:a._setInterval?J.interval:a.range.interval||a.actual_Range.interval}):a.range={min:ee.minX,max:ee.maxX,interval:J.interval}}else a.setRange?(a.range.min=null==a.range.min?t:a.range.min,a.range.max=null==a.range.max?new Date((new Date).setMonth(t.getMonth()+5)):a.range.max,a.range.interval=null==a.range.interval?1:a.range.interval,a._intervalType="Months"):(a.range={min:t,max:new Date((new Date).setMonth(t.getMonth()+5)),interval:1},a._intervalType=ej.util.isNullOrUndefined(a.intervalType)?"Months":a.intervalType);(oe=n.extend({},ej.EjSvgRender.commonChartEventArgs)).data={range:a.range,axis:a},this.chartObj._trigger("axesRangeCalculate",oe),a.range={min:(ue=oe.data.range).min,max:ue.max,interval:ue.interval,delta:ue.max-ue.min}}},_calculateRanges:function(a,s,h,t){this.chartObj=a,this._saveRange(a,s),this._calculateRange(s,h,t),s._range=s.range,a.model._drawTrendline&&this._calculateTrendLineRange(a,s,h),this._calculatePadding(s),this._calculateAxisLabels(s)},_saveRange:function(a,s){(a.zoomed||a.resetZooming)&&(s.range=null!=s.range&&null!=s.range.min&&null!=s.range.max?s.range:s._range),s._initialRange&&(s._initialRange!=s.range&&null!=s.range?s.setRange=!0:null==s.range&&(s.setRange=!1)),s._initialRange=null==s.range?{min:null,max:null,interval:null}:{min:s.range.min,max:s.range.max,interval:s.range.interval}}},r=c(ej.EjAxisRenderer),ej.axisTypes.datetime=r,u=c(ej.EjAxisRenderer,{_calculateRange:function(a,s,h,t){a.zoomed||this._seriesMinMax(a,s,h,"double",t)},_getDoubleAutoRange:function(a,s,h){var t,o,l;return a.setRange?(ej.util.isNullOrUndefined(a.range.max)&&(a.range.max=h),ej.util.isNullOrUndefined(a.range.min)&&(a.range.min=s),a.actual_Range=n.extend(!0,{},a.range),a.setRange=!0):a.range={min:s,max:h},o=this.calculateNumericNiceInterval(t=a.range.max-a.range.min,a),ej.EjSvgRender.utils._decimalPlaces(o)>20&&(l=o.toString(),o=parseFloat(l.substring(0,l.indexOf("."))+l.substring(l.indexOf("."),22))),(ej.util.isNullOrUndefined(a.range.interval)||a.range.interval<0)&&(a.range.interval=o),a.range.delta=t,a.range},_calculatePadding:function(a,s,h){var g,C,t=h.min,o=h.max,l=s.rangePadding.toLowerCase(),p=h.interval;s.setRange||a.zoomed||("normal"==l?(g=0,t<0?(t=0,.365*p>=p+(g=h.min+h.min/20)%p&&(g-=p),g%p<0&&(g=g-p-g%p)):(g=t<5/6*o?0:t-(o-t)/2)%p>0&&(g-=g%p),.365*p>=p-(C=o>0?o+(o-t)/20>Number.MAX_VALUE?Number.MAX_VALUE:o+(o-t)/20:o-(o-t)/20)%p&&(C=C+p>Number.MAX_VALUE?Number.MAX_VALUE:C+p),C%p>0&&(C=C+p-C%p>Number.MAX_VALUE?Number.MAX_VALUE:C+p-C%p),g<=0&&(p=this.calculateNumericNiceInterval(C-g,s),C=Math.ceil(C/p)*p>Number.MAX_VALUE?Number.MAX_VALUE:Math.ceil(C/p)*p),t=s.roundingPlaces?parseFloat(g.toFixed(s.roundingPlaces)):parseFloat(g.toFixed(0==ej.EjSvgRender.utils._decimalPlaces(p)?1:ej.EjSvgRender.utils._decimalPlaces(p))),o=s.roundingPlaces?parseFloat(C.toFixed(s.roundingPlaces)):parseFloat(C.toFixed(0==ej.EjSvgRender.utils._decimalPlaces(p)?1:ej.EjSvgRender.utils._decimalPlaces(p))),t=s.startFromZero?t<0?t:0:t):("additional"==l||"round"==l)&&(t=Math.floor(t/p)*p,o=Math.ceil(o/p)*p>Number.MAX_VALUE?Number.MAX_VALUE:Math.ceil(o/p)*p,t=s.startFromZero?t<0?t:0:t,"additional"==l&&(t=s.startFromZero?t<0?t:0:t-p==0?t:t-p,o=o+p>=Number.MAX_VALUE?Number.MAX_VALUE:o+p))),s.actualRange.min=t,s.actualRange.max=o,s.actualRange.interval=p,s.range.min=t,s.range.max=o,s.range.interval=p,s.actualRange.delta=o-t>=Number.MAX_VALUE?o:o-t,this._calculateVisibleRange(s),s.rangePadding=s._rangePadding},_calculateVisibleRange:function(a,s,h){var t,o,l,p,g;if(this.chartObj=s||this.chartObj,a.visibleRange=h?a.visibleRange:n.extend(!0,{},a.actualRange),(a.zoomFactor<1||a.zoomPosition>0)&&"polaraxes"!=this.chartObj.model.AreaType&&!this.chartObj.model.disableZoom){if(t=a.actualRange,a.zoomFactor=a.zoomFactor>1?1:a.zoomFactor<0?0:a.zoomFactor,a.zoomPosition=a.zoomPosition<0?0:a.zoomPosition>1?1:a.zoomPosition,l=a.isInversed?(o=a.actualRange.max-a.zoomPosition*a.actualRange.delta)-a.zoomFactor*a.actualRange.delta:(o=a.actualRange.min+a.zoomPosition*a.actualRange.delta)+a.zoomFactor*a.actualRange.delta,o<t.min&&(l+=t.min-o,o=t.min),l>t.max&&(o-=l-t.max,l=t.max),p=Math.abs(l-o),g=a.enableAutoIntervalOnZooming?this.calculateNumericNiceInterval(p,a):a.actualRange.interval,h)return{min:Math.min(o,l),max:Math.max(o,l),delta:p,interval:g};a.visibleRange.min=Math.min(o,l),a.visibleRange.max=Math.max(o,l),a.visibleRange.delta=p,a.visibleRange.interval=g,a.zoomed=null==this.chartObj.zoomed||this.chartObj.zoomed}},_calculateAxisLabels:function(a,s){var h,t,l,p,g,b,T,L,R,V,F,A,o=s.roundingPlaces,C=this.chartObj.model.locale;for(s.visibleRange.min=parseFloat(s.visibleRange.min.toPrecision(14)),s.visibleRange.max=parseFloat(s.visibleRange.max.toPrecision(14)),h=a.zoomed||s.zoomed||s.padding?s.visibleRange.min-s.visibleRange.min%s.visibleRange.interval:s.visibleRange.min;h<=s.visibleRange.max;h+=s.visibleRange.interval)if(ej.EjSvgRender.utils._inside(h,s.visibleRange)){if(h==T)break;T=h,l=h.toString().split(0).length-1>10?10:20,h=parseFloat(h.toFixed(!o&&o>l?o:l)),p=o?h:parseFloat(h.toFixed(0==ej.EjSvgRender.utils._decimalPlaces(s.visibleRange.interval)?1:ej.EjSvgRender.utils._decimalPlaces(s.visibleRange.interval))),b=parseFloat(h.toFixed(o||(0==ej.EjSvgRender.utils._decimalPlaces(s.visibleRange.interval)?1:ej.EjSvgRender.utils._decimalPlaces(s.visibleRange.interval)))),(t=s.labelFormat)?null!=t.match("{value}")?b=t.replace("{value}",b):0!=t.indexOf("e")&&0!=t.indexOf("E")||-1!=t.indexOf("ej.format")?(-1!=t.indexOf("ej.format")&&(t=t.substring(t.indexOf("(")+1,t.indexOf(")"))),b=ej.format(b,t,C)):(L=t.match(/(\d+)/g),b=b.toExponential(L=null==L?6:L>20?20:L)):b=s.isStacked100?b+"%":C?b.toLocaleString(C):b,(g=n.extend({},ej.EjSvgRender.commonChartEventArgs)).data={label:{Text:b,Value:h},axis:s},a._trigger("axesLabelRendering",g),s.visibleLabels.push({Value:p,Text:g.data.label.Text})}for(R=0,V=s.visibleLabels,F=0;F<V.length;F++)"string"==typeof V[F].Text&&(A=V[F].Text.split("<br>").length,R=Math.max(A,R));s.rowsCount=R,s._LableMaxWidth=ej.EjSvgRender.utils._getMaxLabelWidth(s,this.chartObj)},_calculateRanges:function(a,s,h,t){this.chartObj=a,this._saveRange(a,s),this._calculateRange(a,s,h,t),s._range=s.range,a.model._drawTrendline&&this._calculateTrendLineRange(a,s,h),this._calculatePadding(a,s,s.range),s.maximumLabels>0&&this._calculateAxisLabels(a,s)}}),ej.axisTypes.double=u,_=c(ej.EjAxisRenderer,{_getRoundValue:function(a,s,h){return(h?Math.ceil(a/s):Math.floor(a/s))*s},calculateLogNiceInterval:function(a,s){for(var h,t=this.GetActualDesiredIntervalsCount(s,s.length),o=a,l=Math.pow(10,Math.floor(ej.EjSvgRender.utils._logBase(o,10))),p=[10,5,2,1],g=0;g<p.length;g++){if(t<a/(h=l*p[g]))return o;o=h}return o},_getLogAutoRange:function(a,s,h,t){var l,p,g,b,o=ej.EjSvgRender.utils._logBase(s,a.logBase);return o=n.isNumeric(o)?o:s,l=ej.EjSvgRender.utils._logBase(h,a.logBase),l=n.isNumeric(l)?l:h,p=this._getRoundValue(o,1,!1),g=this._getRoundValue(l,1,!0),0==p&&0==g&&(p=ej.EjSvgRender.utils._logBase(h-h/2,a.logBase),g=ej.EjSvgRender.utils._logBase(h+h/2,a.logBase)),b=this.calculateLogNiceInterval(t=g-p,a),a.actual_Range={min:p,max:g,interval:b,Delta:t},p=Math.pow(a.logBase,Math.floor(o)),t=(g=Math.pow(a.logBase,Math.ceil(l)))-p,a.setRange?(ej.util.isNullOrUndefined(a.range.interval)&&(a.range.interval=b),ej.util.isNullOrUndefined(a.range.max)&&(a.range.max=g),ej.util.isNullOrUndefined(a.range.min)&&(a.range.min=p),a.actual_Range=n.extend(!0,{},a.range),ej.util.isNullOrUndefined(a.actual_Range.max)||(a.actual_Range.max=ej.EjSvgRender.utils._logBase(a.actual_Range.max,a.logBase),a.actual_Range.max=this._getRoundValue(a.actual_Range.max,1,!0)),ej.util.isNullOrUndefined(a.range.min)||(a.actual_Range.min=ej.EjSvgRender.utils._logBase(a.actual_Range.min,a.logBase),a.actual_Range.min=this._getRoundValue(a.actual_Range.min,1,!1)),a.setRange=!0,a.range):a.range={min:p,max:g,interval:b,Delta:t}},_calculateLogRange:function(a,s,h,t){a.zoomed||this._seriesMinMax(a,s,h,"logarithmic",t)},_calculateLogPadding:function(a,s,h){var t=h.min,o=h.max,l=h.interval;s.actualRange.min=t,s.actualRange.max=o,s.actualRange.interval=l,s.actualRange.delta=o-t,this._calculateVisibleRange(s)},_calculateVisibleRange:function(a,s,h){var t,o,l;if(this.chartObj=s||this.chartObj,a.visibleRange=h?a.visibleRange:n.extend(!0,{},a.actualRange),(a.zoomFactor<1||a.zoomPosition>0)&&"polaraxes"!=this.chartObj.model.AreaType&&!this.chartObj.model.disableZoom){a.zoomFactor=a.zoomFactor>1?1:a.zoomFactor<0?0:a.zoomFactor,a.zoomPosition=a.zoomPosition<0?0:a.zoomPosition>1?1:a.zoomPosition,l=a.isInversed?(o=a.actualRange.max-a.zoomPosition*a.actualRange.delta)-a.zoomFactor*a.actualRange.delta:(o=a.actualRange.min+a.zoomPosition*a.actualRange.delta)+a.zoomFactor*a.actualRange.delta,o<(t=a.actualRange).min&&(l+=t.min-o,o=t.min),l>t.max&&(o-=l-t.max,l=t.max);var p=Math.abs(l-o),g=a.enableAutoIntervalOnZooming&&this.calculateLogNiceInterval(p,a),b=ej.util.isNullOrUndefined(a.roundingPlaces)?0==ej.EjSvgRender.utils._decimalPlaces(a.visibleRange.interval)?1:ej.EjSvgRender.utils._decimalPlaces(a.visibleRange.interval):a.roundingPlaces;if(g=parseFloat(a.visibleRange.interval.toFixed(b)),h)return{min:Math.min(o,l),max:Math.max(o,l),interval:g};a.visibleRange.interval=g,a.visibleRange.min=Math.min(o,l),a.visibleRange.max=Math.max(o,l),a.visibleRange.delta=p,a.zoomed=null==this.chartObj.zoomed||this.chartObj.zoomed}},_calculateAxisLabels:function(a,s){for(var t,o,h=s.roundingPlaces,l=a.zoomed||s.zoomed?s.visibleRange.min-s.visibleRange.min%s.visibleRange.interval:s.visibleRange.min;l<=s.visibleRange.max;l+=s.visibleRange.interval)if(ej.EjSvgRender.utils._inside(l,s.visibleRange)){var p=s.labelFormat?s.labelFormat.match("{value}"):null,g=Math.pow(s.logBase,l),b=g.toString().split(0).length-1>10?10:20;g=parseFloat(g.toFixed(!h&&h>b?h:b)),t=s.labelFormat?null!=p?s.labelFormat.replace("{value}",g):ej.format(g,s.labelFormat,a.model.locale):g,(o=n.extend({},ej.EjSvgRender.commonChartEventArgs)).data={label:{Text:t,Value:l},axis:s},a._trigger("axesLabelRendering",o),s.visibleLabels.push({Value:l,Text:o.data.label.Text})}s._LableMaxWidth=ej.EjSvgRender.utils._getMaxLabelWidth(s,this.chartObj)},_calculateRanges:function(a,s,h,t){this.chartObj=a,this._calculateLogRange(a,s,h,t),a.model._drawTrendline&&this._calculateTrendLineRange(a,s,h),this._calculateLogPadding(a,s,s.actual_Range),this._calculateAxisLabels(a,s)}}),ej.axisTypes.logarithmic=_,w=c(ej.EjAxisRenderer,{_calculateCategoryRange:function(a,s){var t,o,l,p,g,b;if(!this.chartObj.model.excludeDataUpdate||(null==this.chartObj.model.legendCollapsed?!this.chartObj.zoomed:this.chartObj.model.legendCollapsed)){var D,L,I,V,C={maxX:null,minX:0},T=[],F=a.isIndexed,A=this.chartObj.model.locale;if(s.length>0&&this.chartObj.model._hasSeriesPoints&&s[0].points.length>0||this.chartObj.model.indicators[0]._points.length>0){for(t=0;t<s.length;t++){for(V=s[t].points.length,o=0;o<V;o++)D="date"==s[t]._xAxisValueType?ej.format(new Date(s[t].points[o].x),ej.util.isNullOrUndefined(a.labelFormat)?"dd/MM/yyyy":a.labelFormat,A):s[t].points[o].x,F?T[o]=0==t?D:T[o]+", "+D:n.inArray(D,T)<0&&T.push(D);(!a.maxPointLength||a.maxPointLength<V)&&(a.maxPointLength=V)}for(l=0;l<s.length;l++){for(s[l]._pointCollection=[],p=0;p<s[l].points.length;p++)s[l]._pointCollection.push(s[l].points[p].x),D="date"==s[l]._xAxisValueType?ej.format(new Date(s[l].points[p].x),ej.util.isNullOrUndefined(a.labelFormat)?"dd/MM/yyyy":a.labelFormat,A):s[l].points[p].x,s[l].points[p].xValue=F?p:n.inArray(D,T);s[l].minX=0,s[l].maxX="date"==s[l]._xAxisValueType?s[l]._pointCollection.length-1:T.length-1,0==l&&(C.maxX=s[l].maxX,a.labels="date"==s[l]._xAxisValueType?s[l]._pointCollection:T,a._categoryValueType=s[l]._xAxisValueType),C.maxX<s[l].maxX&&(C.maxX=s[l].maxX,a.labels=[],a.labels=T)}this.chartObj.model.indicatorRange&&this.chartObj.model.indicatorRange[a.name]&&((C.minX>(g=this.chartObj.model.indicatorRange[a.name]).min||null==C.minX)&&(C.minX=g.min),(C.maxX<g.max||null==C.maxX)&&(C.maxX=g.max)),I=C.maxX-C.minX,L=a.setRange&&a.range.interval?Math.ceil(a.range.interval):this._calculateActualInterval(I,a),a.range={min:C.minX,max:C.maxX,interval:L,Delta:I}}else(b=a.labels.length)>0?(L=this._calculateActualInterval(I=b-1,a),a.range={min:0,max:b-1,interval:L,Delta:I}):a.range||(a.range={min:0,max:6,interval:1,Delta:6})}var N,z=0,U=a.labelIntersectAction,J=a.labelRotation;if(!("rotate45"==U&&"rotate90"==U||0!=J&&null!=J))for(N=0;N<a.labels.length;N++)"string"==typeof a.labels[N]&&(b=a.labels[N].split("<br>").length,z=Math.max(b,z));a.rowsCount=z},_calculateActualInterval:function(a,s){return null==s.categoryInterval?Math.max(1,Math.floor(a/this.GetActualDesiredIntervalsCount(s,s.length))):s.categoryInterval},_applyRangePadding:function(a){var s,h;this.chartObj.zoomed||this.chartObj._scrollBarEnabled||a.zoomed||(s=0,"polaraxes"!==this.chartObj.model.AreaType&&(s=null==a.labelPlacement||""===a.labelPlacement||"betweenticks"==a.labelPlacement.toLowerCase()?-.5:0),this.chartObj.scrollsvgObj||(s<0?(a.range.min=a.range.min+s,a.range.max=a.range.max-s,a.range.delta=a.range.max-a.range.min,a.actualRange=a.range):(h=_sideBySeriesPadding(this.chartObj,a.range.min,a.range.max,a),a.range.min=h.startPadding,a.range.max=h.endPadding,a.range.delta=a.range.max-a.range.min,a.actualRange=a.range))),this._calculateVisibleRange(a)},_calculateVisibleRange:function(a,s,h){var t,o,l;if(this.chartObj=s||this.chartObj,a.visibleRange=h?a.visibleRange:n.extend(!0,{},a.actualRange),(a.zoomFactor<1||a.zoomPosition>0)&&"polaraxes"!=this.chartObj.model.AreaType&&!this.chartObj.model.disableZoom){a.zoomFactor=a.zoomFactor>1?1:a.zoomFactor<0?0:a.zoomFactor,a.zoomPosition=a.zoomPosition<0?0:a.zoomPosition>1?1:a.zoomPosition,l=a.isInversed?(o=a.actualRange.max-a.zoomPosition*a.actualRange.delta)-a.zoomFactor*a.actualRange.delta:(o=a.actualRange.min+a.zoomPosition*a.actualRange.delta)+a.zoomFactor*a.actualRange.delta,o<(t=a.actualRange).min&&(l+=t.min-o,o=t.min),l>t.max&&(o-=l-t.max,l=t.max);var p=Math.abs(l-o),g=this._calculateActualInterval(p,a),b=Math.min(o,l),C=Math.max(o,l);if(h)return{min:b,max:C,interval:g};p=Math.abs(l-o),a.visibleRange.interval=g,a.visibleRange.min=b,a.visibleRange.max=C,a.visibleRange.delta=p,a.zoomed=null==this.chartObj.zoomed||this.chartObj.zoomed}},_calculateAxisLabels:function(a){for(var t,o,s=a.visibleRange.interval,h=a.visibleRange.min-a.visibleRange.min%a.range.interval;h<=a.visibleRange.max;h+=s)ej.EjSvgRender.utils._inside(h,a.visibleRange)&&(t=Math.round(h),a.visibleLabels.push({Value:t,Text:ej.EjSvgRender.utils._getLabelContent(t,a,this.chartObj.model.locale)}),(o=n.extend({},ej.EjSvgRender.commonChartEventArgs)).data={label:a.visibleLabels[a.visibleLabels.length-1],axis:a},this.chartObj._trigger("axesLabelRendering",o),a.visibleLabels[a.visibleLabels.length-1]=o.data.label);a._LableMaxWidth=ej.EjSvgRender.utils._getMaxLabelWidth(a,this.chartObj)},_calculateRanges:function(a,s,h){this.chartObj=a,this._saveRange(a,s),this._calculateCategoryRange(s,h),s._range=s.range,a.model._drawTrendline&&this._calculateTrendLineRange(a,s,h),this._applyRangePadding(s),this._calculateAxisLabels(s)}}),ej.axisTypes.category=w,v=c(ej.EjAxisRenderer,{_calculateDateTimeCategoryRange:function(a,s){for(var l,g,b,C,T,D,I,F,A,z,N,U,J,Q,oe,se,h={minX:0,MaxX:null},t=[],o=[],L=[],R=[],V=[],ee=0;ee<s.length;ee++){for(s[ee]._pointCollection=[],D=[],s[ee]._points=[],s[ee]._xPoints=[],s[ee]._yPoints=[],U=s[ee].points.length,oe=0;oe<U;oe++)I=isNaN(new Date(s[ee].points[oe].x).getTime())?null:new Date(s[ee].points[oe].x).getTime(),-1!=D.indexOf(I)&&(s[ee].points[oe].xValue=D.indexOf(I)),D.push(I),s[ee]._xPoints.push(I),s[ee]._yPoints.push(s[ee].points[oe].y),null!=I&&R.push(I);for(ej.isNullOrUndefined(a.intervalType)&&(C=this.calculateDateTimeNiceInterval(a,new Date(Math.min.apply(null,R)),new Date(Math.max.apply(null,R))),a.intervalType=C.intervalType.toLowerCase()),J=0;J<D.length;J++){if(l=new Date(D[J]),-1==s[ee]._points.indexOf(l.getTime())&&s[ee]._points.push(l.getTime()),n.inArray(D[J],s[ee]._xPoints),s[ee]._pointCollection.push(new Date(s[ee].points[J].x)),0==ee)s[ee].points[J].x==s[ee].points[J].xValue&&(s[ee].points[J].xValue=J);else for(se=0;se<ee;se++){if((g=n.inArray(new Date(s[ee].points[J].x).getTime(),s[se]._points))>=0){s[ee].points[J].xValue=0==se?g:s[se].points[g].xValue;break}if(se==ee-1){s[ee].points[J].xValue=s[ee].points[J].x==s[ee].points[J].xValue?a.maxPointLength++:s[ee].points[s[ee].points[J].xValue].xValue;break}}switch(0==ee||n.inArray(l.getTime(),L),a.intervalType){case"auto":-1==t.indexOf(l.getTime())&&t.push(l.getTime());break;case"years":A=l.getFullYear();break;case"months":N=l.getFullYear(),F=l.getMonth(),J<=0?A=J+1:A+=N!=(z=new Date(D[J-1]).getFullYear())?12-T+F:F-T,T=F;break;case"weeks":case"days":N=l.getMonth(),F=l.getDate(),J<=0?A=J+1:(A+=N!=(z=new Date(D[J-1]).getMonth())?new Date(l.getFullYear(),z,1).getDate()-T+F:F-T,N==z&&(A=this._diffDate(l,new Date(D[J-1]),1)>new Date(l.getFullYear(),z,0).getDate()?o[o.length-1]+1:A)),T=F;break;case"hours":N=l.getDate(),F=l.getHours(),J<=0?A=J+1:(A+=N!=(z=new Date(D[J-1]).getDate())?24-T+F:F-T,N==z&&(A=this._diffDate(l,new Date(D[J-1]),24)>24?o[o.length-1]+1:A)),T=F;break;case"minutes":N=l.getHours(),F=l.getMinutes(),J<=0?A=J+1:(A+=N!=(z=new Date(D[J-1]).getHours())?60-T+F:F-T,N==z&&(A=this._diffDate(l,new Date(D[J-1]),1440)>60?o[o.length-1]+1:A)),T=F;break;case"seconds":N=l.getMinutes(),F=l.getSeconds(),J<=0?A=J+1:(A+=N!=(z=new Date(D[J-1]).getMinutes())?60-T+F:F-T,N==z&&(A=this._diffDate(l,new Date(D[J-1]),86400)>60?o[o.length-1]+1:A)),T=F;break;case"milliseconds":N=l.getSeconds(),F=l.getMilliseconds(),J<=0?A=J+1:(A+=N!=(z=new Date(D[J-1]).getSeconds())?1e3-T+F:F-T,N==z&&(A=this._diffDate(l,new Date(D[J-1]),864e5)>1e3?o[o.length-1]+1:A)),T=F}"auto"!=a.intervalType&&-1==t.indexOf(l.getTime())&&t.push(l.getTime()),-1==o.indexOf(A=0==ee?A:o[o.length-1]+A)&&o.push(A),V.push(A),L.push(new Date(D[J]).getTime())}a.maxPointLength||(a.maxPointLength="auto"!=a.intervalType?o.length:t.length)}for(Q=0;Q<s.length;Q++)a.setRange||(a.range={min:null,max:null,interval:null}),ej.isNullOrUndefined(a.m_minPointsDelta)||(a.m_minPointsDelta=void 0),s[Q].minX=ej.isNullOrUndefined(a.range.min)||a.range.min<h.minX?0:a.range.min,s[Q].maxX=ej.isNullOrUndefined(a.range.max)||a.range.max>t.length-1?t.length-1:a.range.max,h.MaxX=s[Q].maxX,h.minX=s[Q].minX,a.labels=t,a.dateLabels=V,a._categoryValueType="date";if(h.minX==h.MaxX&&"onticks"==a.labelPlacement.toLowerCase()&&(h.MaxX+=1),s.length>0)b=h.MaxX-h.minX,C=null==a.range.interval||null==a.range.interval||a.range.interval<1?1:Math.ceil(a.range.interval),a.range={min:h.minX,max:h.MaxX,interval:C,Delta:b};else if(!a.setInterval)for(a.range={min:0,max:6,interval:1,Delta:6},a.dateLabels=[],se=0;se<=a.range.max;se++)a.labels.push(""),a.dateLabels.push("")},_diffDate:function(a,s,h){var o;return o=Math.abs(a.getTime()-s.getTime())/864e5,Math.round(o*h)},_calculateAxisLabels:function(a){for(var l,p,g,b,s=a.visibleRange.interval,h=[],t=this.chartObj.model.series.length,C=a.visibleRange.min-a.visibleRange.min%a.range.interval;C<=a.visibleRange.max;C+=s)ej.EjSvgRender.utils._inside(C,a.visibleRange)&&(l=Math.round(C),p=a.dateLabels,ej.util.isNullOrUndefined(p)||(p[p.length-1]-p[l]>=s&&a.visibleRange.max<C+s&&(a.visibleRange.max+=C+s-a.visibleRange.max),g=n.inArray(p[l],h)),(g<0||"auto"==a.intervalType||0==t)&&l<a.labels.length&&("auto"!=a.intervalType&&h.push(p[l]),a.visibleLabels.push({Value:l,Text:a.labelFormat||""==a.labels[Math.floor(l)]?ej.EjSvgRender.utils._getLabelContent(l,a,this.chartObj.model.locale):ej.format(new Date(a.labels[Math.floor(l)]),ej.EjSvgRender.utils._dateTimeLabelFormat(a.intervalType,a),this.chartObj.model.locale)}),(b=n.extend({},ej.EjSvgRender.commonChartEventArgs)).data={label:a.visibleLabels[a.visibleLabels.length-1],axis:a},this.chartObj._trigger("axesLabelRendering",b),a.visibleLabels[a.visibleLabels.length-1]=b.data.label));a._LableMaxWidth=ej.EjSvgRender.utils._getMaxLabelWidth(a,this.chartObj)},_calculateActualInterval:function(a,s){return null==s.categoryInterval?Math.max(1,Math.floor(a/this.GetActualDesiredIntervalsCount(s,s.length))):s.categoryInterval},_applyRangePadding:function(a){var s,h;this.chartObj.zoomed||this.chartObj._scrollBarEnabled||(s=0,"polaraxes"!==this.chartObj.model.AreaType&&(s=null==a.labelPlacement||"betweenticks"==a.labelPlacement.toLowerCase()?-.5:0),s<0?(a.range.min=a.range.min+s,a.range.max=a.range.max-s,a.range.delta=a.range.max-a.range.min,a.actualRange=a.range):(h=_sideBySeriesPadding(this.chartObj,a.range.min,a.range.max,a),a.range.min=h.startPadding,a.range.max=h.endPadding,a.range.delta=a.range.max-a.range.min,a.actualRange=a.range)),this._calculateVisibleRange(a)},_calculateVisibleRange:function(a,s,h){var t,o,l;if(this.chartObj=s||this.chartObj,a.visibleRange=h?a.visibleRange:n.extend(!0,{},a.actualRange),(a.zoomFactor<1||a.zoomPosition>0)&&"polaraxes"!=this.chartObj.model.AreaType&&!this.chartObj.model.disableZoom){a.zoomFactor=a.zoomFactor>1?1:a.zoomFactor<0?0:a.zoomFactor,a.zoomPosition=a.zoomPosition<0?0:a.zoomPosition>1?1:a.zoomPosition,l=a.isInversed?(o=a.actualRange.max-a.zoomPosition*a.actualRange.delta)-a.zoomFactor*a.actualRange.delta:(o=a.actualRange.min+a.zoomPosition*a.actualRange.delta)+a.zoomFactor*a.actualRange.delta,o<(t=a.actualRange).min&&(l+=t.min-o,o=t.min),l>t.max&&(o-=l-t.max,l=t.max);var p=Math.abs(l-o),g=this._calculateActualInterval(p,a),b=Math.min(o,l),C=Math.max(o,l);if(h)return{min:b,max:C,interval:g};p=Math.abs(l-o),a.visibleRange.interval=g,a.visibleRange.min=b,a.visibleRange.max=C,a.visibleRange.delta=p,a.zoomed=null==this.chartObj.zoomed||this.chartObj.zoomed}},_calculateRanges:function(a,s,h){this.chartObj=a,this._saveRange(a,s),this._calculateDateTimeCategoryRange(s,h),a.model._drawTrendline&&this._calculateTrendLineRange(a,s,h),s._range=s.range,this._applyRangePadding(s),this._calculateAxisLabels(s)}}),ej.axisTypes.datetimecategory=v,ej.EjAxisRenderer.prototype={_drawGridLines:function(a,s,h){"cartesianaxes"==this.model.AreaType?"horizontal"==s.orientation.toLowerCase()?this._drawXAxisGridLine(a,s,h):this._drawYAxisGridLine(a,s,h):"horizontal"==s.orientation.toLowerCase()&&0==a?(this._drawPolarGridLine(s),this._drawPolarLabels(s)):1==a&&this._drawPolarCircle(s)},_drawAxes:function(a,s){"cartesianaxes"==this.model.AreaType&&(s.visible&&"horizontal"==s.orientation.toLowerCase()&&(this._drawXAxisLabels(a,s),this._drawXTitle(a,s)),s.visible&&"vertical"==s.orientation.toLowerCase()&&(this._drawYAxisLabels(a,s),this._drawYTitle(a,s)))},_getSharpPath:function(a){return a%2==0?0:.5},_drawAxisLine:function(a){var b,T,s=this.svgRenderer.createGroup({id:this.svgObject.id+"_YAxisLine"}),h=ej.EjSvgRender.utils._getStringBuilder();if(a.visible&&a.axisLine.visible&&(this.svgRenderer.drawPath(C={id:this.svgObject.id+"_YAxisLines",fill:"none","stroke-width":a.axisLine.width,stroke:a.axisLine.color,opacity:a.axisLine.opacity,"stroke-dasharray":a.axisLine.dashArray,d:"M "+this.model.centerX+" "+this.model.centerY+" L "+this.model.centerX+" "+(this.model.centerY-this.model.Radius)},s),n(s).appendTo(this.gPolarAxisEle)),a.visible&&a.majorTickLines.visible){for(s=this.svgRenderer.createGroup({id:this.svgObject.id+"_YAxisMajorTicks"}),T=0;T<a.visibleLabels.length;T++){var L=this.model.Radius*ej.EjSvgRender.utils._valueToCoefficient(a,a.visibleLabels[T].Value,this),I={};I.X1=this.model.centerX,I.Y1=this.model.centerY-L,I.X2=I.X1-a.majorTickLines.size,I.Y2=I.Y1,h.append("M "+I.X1+" "+I.Y1+" L "+I.X2+" "+I.Y2+" ")}b=h.toString(),this.svgRenderer.drawPath(C={id:this.svgObject.id+"_YAxisMajorTicks",fill:"none","stroke-width":a.majorTickLines.width,stroke:a.majorTickLines.color,d:b},s),n(s).appendTo(this.gPolarAxisEle)}if(a.visible){s=this.svgRenderer.createGroup({id:this.svgObject.id+"_YAxisLabels"});var R=a.font,A=a.visibleLabels.length;for(T=0;T<A;T++){L=(this.model.Radius||this.model._radius)*ej.EjSvgRender.utils._valueToCoefficient(a,a.visibleLabels[T].Value,this);var C,z=a.visibleLabels[T].Text,N=ej.EjSvgRender.utils._measureText(z,null,a.font);this.svgRenderer.drawText(C={id:this.svgObject.id+"_"+a.name+"_YLabel_"+T,x:this.model.centerX-a.majorTickLines.size-this.model.elementSpacing/3,y:this.model.centerY-L+N.height/5,fill:R.color,"font-size":R.size,"font-family":R.fontFamily,"font-style":R.fontStyle,"font-weight":R.fontWeight,opacity:R.opacity,"text-anchor":"end"},z,s),a.visibleLabels[T].region={bounds:{x:C.x-N.width,y:C.y,width:N.width,height:N.height},labelText:z}}n(s).appendTo(this.gPolarAxisEle)}},_drawPolarLabels:function(a){var s,h,t,o;if(!a.visible)return 0;var C,L,l=this.svgRenderer.createGroup({id:this.svgObject.id+"_XAxisLabels"}),p=this.model.Radius+a.majorTickLines.size,g=a.font,b=a.visibleLabels.length;for(s=0;s<b;s++)if(h=ej.EjSvgRender.utils._valueToPolarCoefficient(a,a.visibleLabels[s].Value),t=ej.EjSvgRender.utils._valueToVector(a,a.visibleLabels[s].Value),!isNaN(t.X)&&!isNaN(t.Y)){var I=a.visibleLabels[s].Text,R=this.model.centerX+p*t.X,V=this.model.centerY+p*t.Y,F=R<this.model.centerX?"end":R>this.model.centerX?"start":"middle",A=ej.EjSvgRender.utils._measureText(I,this.model.m_AreaBounds.Height,a.font);.25==h?(R-=this.model.elementSpacing/2,V+=A.height/4):.5==h?V+=A.height:.75==h?(R+=this.model.elementSpacing/2,V+=A.height/4):1==h||0==h?V-=A.height/2:.25<h&&h<.5?(R-=this.model.elementSpacing/2,V+=A.height/2):.5<h&&h<=.75?(R+=this.model.elementSpacing/2,V+=A.height/2):0<h&&h<.25?R-=this.model.elementSpacing/2:R+=this.model.elementSpacing/2,0==s&&(C=R),s==b-1&&"category"!=a._valueType&&(L=ej.EjSvgRender.utils._measureText(I,null,g).width,(L+=R)>C&&(I="")),this.svgRenderer.drawText(o={id:this.svgObject.id+"_"+a.name+"_XLabel_"+s,x:R,y:V,fill:g.color,"font-size":g.size,"font-family":g.fontFamily,"font-style":g.fontStyle,"font-weight":g.fontWeight,opacity:g.opacity,"text-anchor":F},I,l),a.visibleLabels[s].region={bounds:{x:"middle"==F?o.x-A.width/2:"end"==F?o.x-A.width:o.x,y:o.y,width:A.width,height:A.height},labelText:I}}n(l).appendTo(this.gXaxisEle)},_drawPolarCircle:function(a){var s,h,t,p,g,b,C,T,D,L;if(a.majorGridLines.visible)if(s=ej.EjSvgRender.utils._getStringBuilder(),h=this.svgRenderer.createGroup({id:this.svgObject.id+"_YAxisGrid"}),this.model.isPolar)for(t=0;t<a.visibleLabels.length;t++){var o=a.visibleLabels[t],l=this.model.Radius*ej.EjSvgRender.utils._valueToCoefficient(a,o.Value,this);this.svgRenderer.drawCircle({id:this.svgObject.id+"_YAxisGridLines_"+t,cx:this.model.centerX,cy:this.model.centerY,r:l,fill:"transparent","stroke-width":a.majorGridLines.width,stroke:a.majorGridLines.color,opacity:this.vmlRendering?.3:a.majorGridLines.opacity},h)}else{for(t=0;t<a.visibleLabels.length;t++)for(o=a.visibleLabels[t],l=this.model.Radius*ej.EjSvgRender.utils._valueToCoefficient(a,o.Value,this),p=0;p<this.model._axes[0].visibleLabels.length;p++)g=this.model._axes[0],b=ej.EjSvgRender.utils._valueToVector(g,g.visibleLabels[p].Value),isNaN(b.X)||isNaN(b.Y)||(C=p+1<g.visibleLabels.length?ej.EjSvgRender.utils._valueToVector(g,g.visibleLabels[p+1].Value):ej.EjSvgRender.utils._valueToVector(g,g.visibleLabels[0].Value),s.append("M "+(T={X:this.model.centerX+l*b.X,Y:this.model.centerY+l*b.Y}).X+" "+T.Y+" L "+(D={X:this.model.centerX+l*C.X,Y:this.model.centerY+l*C.Y}).X+" "+D.Y+" "));a.majorGridLines.visible&&(L=s.toString(),this.svgRenderer.drawPath({id:this.svgObject.id+"_YAxisGridLines",fill:"none","stroke-width":a.majorGridLines.width,stroke:a.majorGridLines.color,opacity:a.majorGridLines.opacity,"stroke-dasharray":a.majorGridLines.dashArray,d:L},h))}n(h).appendTo(this.gYaxisEle)},_drawPolarGridLine:function(a){var T,D,L,I,R,V,F,oe,le,ne,he,se,s=this.model,h=s.legend,t=ej.EjSvgRender.utils._measureText(h.title.text,null,h.title.font).height,o=h.position.toLowerCase(),l=0,p=0,g=ej.EjSvgRender.utils._getStringBuilder(),b=ej.EjSvgRender.utils._getStringBuilder(),C=h.border.width,A=a.visibleLabels.length,z=s.border.width,N=s.title,U=s.title.subTitle,J=!(!N.enableTrim||"wrap"!=N.textOverflow&&"wrapandtrim"!=N.textOverflow),Q=!(""==U.text||!U.visible||!U.enableTrim||"wrap"!=U.textOverflow&&"wrapandtrim"!=U.textOverflow);if(h.visible&&"custom"!=o&&("right"==o||"left"==o?l=("right"==o?s.margin.right:s.margin.left)+s.LegendActualBounds.Width+2*(C+z):p=("top"==o?s.margin.top:s.margin.bottom)+s.LegendActualBounds.Height+t+2*(C+z)),L=s.svgHeight-(T=(s.title.text&&s.title.visible?s._titleLocation.Y+(J?s._titleLocation.size.height:0)+(Q?s._subTitleLocation.size.height:0):0)+p),s.centerX=.5*(D=s.svgWidth-l)+("left"===o?l:0),s.centerY=.5*L+("top"===o?T:N.text&&N.visible?s._titleLocation.Y+(J?s._titleLocation.size.height:0)+(Q?s._subTitleLocation.size.height:0):0),oe=this.svgRenderer.createGroup({id:this.svgObject.id+"_XAxisGrid"}),s.finalSize={width:D,height:L},s.Radius=Math.abs(Math.min(s.finalSize.width,s.finalSize.height)/2-2*s.elementSpacing-a.majorTickLines.size-a._LableMaxWidth.maxHeight),a.majorGridLines.visible)for(ne=0;ne<A;ne++)I=ej.EjSvgRender.utils._valueToVector(a,a.visibleLabels[ne].Value),(R={}).X1=s.centerX,R.Y1=s.centerY,R.X2=s.centerX+s.Radius*I.X,R.Y2=s.centerY+s.Radius*I.Y,g.append("M "+R.X1+" "+R.Y1+" L "+R.X2+" "+R.Y2+" ");if(a.visible&&a.majorTickLines.visible)for(le=s.Radius,ne=0;ne<A;ne++)I=ej.EjSvgRender.utils._valueToVector(a,a.visibleLabels[ne].Value),(R={}).X1=s.centerX+le*I.X,R.Y1=s.centerY+le*I.Y,R.X2=R.X1+a.majorTickLines.size*I.X,R.Y2=R.Y1+a.majorTickLines.size*I.Y,-1==(he="M "+R.X1+" "+R.Y1+" L "+R.X2+" "+R.Y2+" ").indexOf("NaN")&&b.append(he);a.majorGridLines.visible&&(V=g.toString(),se={id:this.svgObject.id+"_XAxisGridLines",fill:"none","stroke-width":a.majorGridLines.width,stroke:a.majorGridLines.color,opacity:a.majorGridLines.opacity,"stroke-dasharray":a.majorGridLines.dashArray,d:V},-1==V.indexOf("NaN")&&(this.svgRenderer.drawPath(se,oe),n(oe).appendTo(this.gXaxisEle))),a.visible&&a.majorTickLines.visible&&(F=b.toString(),this.svgRenderer.drawPath(se={id:this.svgObject.id+"_XAxisMajorTicks",fill:"none","stroke-width":a.majorTickLines.width,stroke:a.majorTickLines.color,d:F},oe),n(oe).appendTo(this.gXaxisEle))},_drawXAxisTickLine:function(a,s,h,t){var o,l,b,L,z,N,U,oe,ue,ne,he,se,ee,re,M,p=ej.EjSvgRender.utils._getStringBuilder(),g=ej.EjSvgRender.utils._getStringBuilder(),C=Math.floor(s.x),D=(Math.floor(s.x+s.width),s._opposed),I=[],R=s._isScroll&&!(null!=s.scrollbarSettings.pointsLength&&s.scrollbarSettings.pointsLength<s.maxPointLength),V=s.labelBorder,F=t.axes[s.name]._validCross;for(0!=a&&!F&&("inside"==s.labelPosition&&"inside"==s.tickLinesPosition||"inside"==s.labelPosition&&"inside"!=s.tickLinesPosition)&&s.y!=this.model.m_AreaBounds.Height+this.model.m_AreaBounds.Y&&s.y!=this.model.m_AreaBounds.Y?(z=Math.floor(D?s.y-s._LableMaxWidth.height:s.y+s._LableMaxWidth.height),Math.floor(D?s.y-s._LableMaxWidth.height:s.y+s._LableMaxWidth.height)):0==a||F||"inside"==s.labelPosition||"inside"!=s.tickLinesPosition||s.y==this.model.m_AreaBounds.Height+this.model.m_AreaBounds.Y||s.y==this.model.m_AreaBounds.Y?z=s._y?s.showNextToAxisLine?s.y:s._y:Math.floor(s.y+s.majorTickLines.size-5):(z=Math.floor(D?s.y-s.majorTickLines.size:s.y+s.majorTickLines.size),Math.floor(D?s.y-s.majorTickLines.size:s.y+s.majorTickLines.size)),h||(N=this.svgRenderer.createGroup({id:this.svgObject.id+"_XAxisTicklines_"+a})),s.labelPlacement=s.labelPlacement?s.labelPlacement:ej.datavisualization.Chart.LabelPlacement.BetweenTicks,U=s.labels.length>0&&"betweenticks"==s.labelPlacement.toLowerCase()?-.5:0,J=s.visibleLabels.length,s._valueType.toLowerCase()==ej.datavisualization.Chart.ValueType.Category&&U<0&&(J=J>0?s.visibleLabels.length+1:J),Q=0;Q<J;Q++)if(L=s.visibleLabels[Q]?s.visibleLabels[Q].Value:s.visibleLabels[Q-1].Value+s.range.interval,oe=s.labels.length>0&&U<0?L+U:L,oe=s.roundingPlaces?oe:parseFloat(oe.toFixed(0==ej.EjSvgRender.utils._decimalPlaces(s.visibleRange.interval)?1:ej.EjSvgRender.utils._decimalPlaces(s.visibleRange.interval))),ej.EjSvgRender.utils._inside(oe,s.visibleRange)){if(s.hidePartialLabels&&(0==Q||Q==J-1))continue;if(s.minorGridLines.visible||s.minorTickLines.visible)if(ue=this._getSharpPath(s.minorTickLines.width),this._getSharpPath(s.minorGridLines.width),"logarithmic"==s._valueType){ee=oe;var O=s.visibleRange.max,B=s.visibleRange.min,H=Math.pow(s.logBase,ee-s.visibleRange.interval),Z=Math.pow(s.logBase,ee);for(ee=ej.EjSvgRender.utils._logBase(H+(Z-H)/(s.minorTicksPerInterval+1),s.logBase),se=0;se<s.minorTicksPerInterval;se++)ee<O&&ee>B&&(b=Math.ceil((ee-B)/(O-B)*s.width),s.minorTickLines&&s.minorTickLines.visible&&(he=Math.floor(b+C),ne="inside"!=s.tickLinesPosition&&"inside"!=s.labelPosition||"inside"!=s.tickLinesPosition&&"inside"==s.labelPosition?Math.floor(D?z-s.minorTickLines.size:s.minorTickLines.size+z):D?Math.floor(z+s.minorTickLines.size):z-Math.floor(s.minorTickLines.size),p.append("M "+(he+ue)+" "+(ne+ue)+" L "+(he+ue)+" "+(z+ue)+" ")))}else for(se=0,ee=oe;se<s.minorTicksPerInterval;se++)(ee+=s.visibleRange.interval/(s.minorTicksPerInterval+1))<s.visibleRange.max&&ee>s.visibleRange.min&&(b=Math.ceil((ee-s.visibleRange.min)/(s.visibleRange.max-s.visibleRange.min)*s.width),s.minorTickLines&&s.minorTickLines.visible&&(ne="inside"!=s.tickLinesPosition&&"inside"!=s.labelPosition||"inside"!=s.tickLinesPosition&&"inside"==s.labelPosition?Math.floor(D?z-s.minorTickLines.size:s.minorTickLines.size+z):Math.floor(D?z+s.minorTickLines.size:z-s.minorTickLines.size),re=Math.floor(b+C),p.append("M "+(re+ue)+" "+(ne+ue)+" L "+(re+ue)+" "+(z+ue)+" ")));if(s.majorTickLines.visible||s.majorGridLines.visible||V.width>0){var de=this._getSharpPath(s.majorTickLines.width),Se=(this._getSharpPath(s.majorGridLines.width),I[Q]=this.pointX=Math.ceil(ej.EjSvgRender.utils._getPointXY(oe,s.visibleRange,s.isInversed)*s.width));s.majorTickLines.visible&&(W=s.majorTickLines.size+s.axisLine.width/2,pe="inside"==s.tickLinesPosition&&"inside"==s.labelPosition||"inside"==s.tickLinesPosition&&"inside"!=s.labelPosition?D?z+W:z-W:(D?z-W:W+z)-(R?D?this.model.scrollerSize:-this.model.scrollerSize:0),g.append("M "+(Math.floor(Se+C)+de)+" "+(Math.floor(pe)+de)+" L "+(Math.floor(Se+C)+de)+" "+(Math.floor(z+(D?-s.axisLine.width/2:s.axisLine.width/2))+de)+" "))}}if(V.width>0){var pe,Pe,ke,Ne,Q,Le,be=ej.EjSvgRender.utils._getStringBuilder(),Ce=R?this.model.scrollerSize:0,W=s.axisLine.width,je=s.labelPosition.toLowerCase(),Fe=V.width,$e=s._LableMaxWidth.height+s.axisLine.width/2+2,J=s.visibleLabels.length;for(z=s.y,s.tickLinesPosition==je&&($e+=s.majorTickLines.size),"inside"==je?(pe=z+W,Pe=D?z+$e:z-$e):(pe=D?z-W:W+z+(s.zoomFactor<1&&this.model.zooming.enableScrollbar&&0==a?this.model.scrollerSize:0),Pe=D?z-$e-Ce:z+$e+Ce),Q=0;Q<J;Q++)Le=(I[I.length-1]-I[I.length-2])/2,!ej.util.isNullOrUndefined(I[Q])&&I.length>=1&&!isNaN(Le)&&("category"==s._valueType&&"betweenticks"==s.labelPlacement.toLowerCase()?(ke=I[Q]+C,Ne=I[Q]+2*Le+C):(ke=I[Q]-Le+C,Ne=I[Q]+Le+C),Ne=Math.floor(Ne),Pe=Math.floor(Pe),ke=Math.floor(ke),pe=Math.floor(pe),ke<s.x?be.append("M "+Math.floor(C)+" "+Pe+" L "+Ne+" "+Pe+" "):Ne>s.width+s.x?(be.append("M "+ke+" "+pe+" L "+ke+" "+Pe+" L "+Math.floor(s.width+C)+" "+Pe+" "),Ne-Fe<=s.width+s.x&&be.append("M "+Math.floor(s.width+C)+" "+Pe+" L "+(s.x+s.width)+" "+pe)):(0==Q&&be.append("M "+s.x+" "+Pe+" L "+ke+" "+Pe+" "),be.append("M "+ke+" "+pe+" L "+ke+" "+Pe+" L "+Ne+" "+Pe+" "),Q==J-1&&be.append("M "+Ne+" "+pe+" L "+Ne+" "+Pe+" M "+Ne+" "+Pe+" L "+(s.x+s.width)+" "+Pe)));M={id:this.svgObject.id+"_XAxisLabelBorder_"+a,fill:"transparent","stroke-width":V.width,stroke:V.color,d:be.toString()},this.svgRenderer.drawPath(M,h),n(h).appendTo(this.gXaxisEle)}s.minorTickLines.visible&&s.visible&&s.minorTicksPerInterval>0&&(l=p.toString(),this.svgRenderer.drawPath({id:this.svgObject.id+"_XAxisMinorTicks_"+a,fill:"none","stroke-width":s.minorTickLines.width,stroke:s.minorTickLines.color,d:l},h||N)),s.majorTickLines.visible&&s.visible&&(o=g.toString(),this.svgRenderer.drawPath({id:this.svgObject.id+"_XAxisMajorTicks_"+a,fill:"none","stroke-width":s.majorTickLines.width,stroke:s.majorTickLines.color,d:o},h||N)),"inside"==s.tickLinesPosition&&n(N).appendTo(this.gXaxisEle)},_drawXAxisGridLine:function(a,s,h){var t,o,g,T,A,z,N,U,J,oe,ue,le,ne,he,se,ee,re,W,M,l=ej.EjSvgRender.utils._getStringBuilder(),p=ej.EjSvgRender.utils._getStringBuilder(),b=[],C=this.model.elementSpacing+5,D=s._opposed,L=Math.floor(s.x),I=Math.floor(s.x+s.width),R=this.svgRenderer.createGroup({id:this.svgObject.id+"_XAxisGrid_"+a}),V=this.svgRenderer.createGroup({id:this.svgObject.id+"_XAxisAlternateGridBand_"+a}),F=h.axes[s.name]._validCross;if(0==a||F||"inside"!=s.labelPosition||"inside"!=s.tickLinesPosition||s.y==this.model.m_AreaBounds.Height+this.model.m_AreaBounds.Y||s.y==this.model.m_AreaBounds.Y?"inside"!=s.labelPosition||"inside"==s.tickLinesPosition||s.y==this.model.m_AreaBounds.Height+this.model.m_AreaBounds.Y||s.y==this.model.m_AreaBounds.Y?0==a||F||"inside"==s.labelPosition||"inside"!=s.tickLinesPosition||s.y==this.model.m_AreaBounds.Height+this.model.m_AreaBounds.Y||s.y==this.model.m_AreaBounds.Y?(A=Math.floor(s.y),z=Math.floor(s.y)):(A=Math.floor(D?s.y-s.majorTickLines.size:s.y+s.majorTickLines.size),z=Math.floor(D?s.y-s.majorTickLines.size:s.y+s.majorTickLines.size)):A=z=D?Math.floor(s.y-s._LableMaxWidth.height)+C:s.showNextToAxisLine?Math.floor(s.y+s._LableMaxWidth.height)-C:Math.floor(s.y+s._LableMaxWidth.height):(A=Math.floor(D?s.y-s._LableMaxWidth.height:s.y+s._LableMaxWidth.height),z=Math.floor(D?s.y-s._LableMaxWidth.height:s.y+s._LableMaxWidth.height)),s.visible&&s.axisLine.visible){var fe=s.axisLine.offset>0?s.axisLine.offset:0,xe=this._getSharpPath(s.axisLine.width);h.axes[s.name]._lineOption=[{id:this.svgObject.id+"_XAxisLine_"+a,x1:L-s.plotOffset+xe+fe,y1:A+xe,x2:I+s.plotOffset-fe+xe,y2:z+xe,"stroke-dasharray":s.axisLine.dashArray,"stroke-width":s.axisLine.width,stroke:s.axisLine.color,opacity:s.axisLine.opacity||1},this.gXaxisEle]}else h.axes[s.name]._lineOption=[null,this.gXaxisEle];for(s.labelPlacement=s.labelPlacement?s.labelPlacement:ej.datavisualization.Chart.LabelPlacement.BetweenTicks,N=s.labels.length>0&&"betweenticks"==s.labelPlacement.toLowerCase()?-.5:0,U=s.visibleLabels.length,s._valueType.toLowerCase()==ej.datavisualization.Chart.ValueType.Category&&N<0&&(U=U>0?s.visibleLabels.length+1:U),re=0;re<U;re++)if(T=s.visibleLabels[re]?s.visibleLabels[re].Value:s.visibleLabels[re-1].Value+s.range.interval,J=s.labels.length>0&&N<0?T+N:T,J=s.roundingPlaces?J:parseFloat(J.toFixed(0==ej.EjSvgRender.utils._decimalPlaces(s.visibleRange.interval)?1:ej.EjSvgRender.utils._decimalPlaces(s.visibleRange.interval))),ej.EjSvgRender.utils._inside(J,s.visibleRange)){if(s.hidePartialLabels&&(0==re||re==U-1))continue;if(s.minorGridLines.visible||s.minorTickLines.visible)if(this._getSharpPath(s.minorTickLines.width),oe=this._getSharpPath(s.minorGridLines.width),"logarithmic"==s._valueType){ne=J;var B=s.visibleRange.max,H=s.visibleRange.min,Z=Math.pow(s.logBase,ne-s.visibleRange.interval),ae=(Math.pow(s.logBase,ne)-Z)/(s.minorTicksPerInterval+1),de=Z+ae;for(ne=ej.EjSvgRender.utils._logBase(de,s.logBase),le=0;le<s.minorTicksPerInterval;le++)ne<B&&ne>H&&(g=Math.ceil((ne-H)/(B-H)*s.width),s.minorGridLines&&s.minorGridLines.visible&&(ue=Math.floor(g+L),l.append("M "+(ue+oe)+" "+(A+oe)+" L "+(ue+oe)+" "+(Math.floor(D?this.model.m_AreaBounds.Y+this.model.m_AreaBounds.Height:this.model.m_AreaBounds.Y)+oe)+" "))),de+=ae,ne=ej.EjSvgRender.utils._logBase(de,s.logBase)}else for(le=0,ne=J;le<s.minorTicksPerInterval;le++)(ne+=s.visibleRange.interval/(s.minorTicksPerInterval+1))<s.visibleRange.max&&ne>s.visibleRange.min&&(g=Math.ceil((ne-s.visibleRange.min)/(s.visibleRange.max-s.visibleRange.min)*s.width),s.minorGridLines&&s.minorGridLines.visible&&l.append("M "+(Math.floor(g+L)+oe)+" "+(A+oe)+" L "+(Math.floor(g+L)+oe)+" "+(Math.floor(D?this.model.m_AreaBounds.Y+this.model.m_AreaBounds.Height:this.model.m_AreaBounds.Y)+oe)+" "));if(s.majorTickLines.visible||s.majorGridLines.visible){this._getSharpPath(s.majorTickLines.width);var Se=this._getSharpPath(s.majorGridLines.width),be=this.pointX=Math.ceil(ej.EjSvgRender.utils._getPointXY(J,s.visibleRange,s.isInversed)*s.width),Ce=Math.floor(be+L);if(s.zoomed&&(b[0]=s.x),0==re&&Ce==Math.floor(this.model.m_AreaBounds.X)){b.push(Ce+Se);continue}if(re==U-1&&"transparent"!=this.model.chartArea.border.color&&this.model.chartArea.border.width>0){if(Ce==Math.floor(this.model.m_AreaBounds.X+this.model.m_AreaBounds.Width))continue;s.zoomed&&(b[U]=Ce+Se)}if(s.majorGridLines.visible&&p.append("M "+(Ce+Se)+" "+(Math.floor(this.model.m_AreaBounds.Y+this.model.m_AreaBounds.Height)+Se)+" L "+(Ce+Se)+" "+(Math.floor(this.model.m_AreaBounds.Y)+Se)+" "),"category"!=s._valueType.toLowerCase()&&re==U-1)continue;b.push(Ce+Se)}}if("transparent"!=s.alternateGridBand.odd.fill||"transparent"!=s.alternateGridBand.even.fill){for(he=this.model.m_AreaBounds.Height,0===b.length&&(se={id:this.svgObject.id+"_XAxis"+a+"_Alternateeven0",x:s.x,y:Math.floor(this.model.m_AreaBounds.Y),width:s.width,height:he,fill:s.alternateGridBand.even.fill,opacity:s.alternateGridBand.even.opacity,"clip-path":"url(#"+this.svgObject.id+"_ChartAreaClipRect)",stroke:"transparent"},this.svgRenderer.drawRect(se,V)),re=1;re<b.length;re+=2)W=(W=b[re+1]-b[re])||"onticks"==s.labelPlacement.toLowerCase()?W:s.width+s.x-b[re],re==b.length-1&&s.zoomed&&(W=this.model.m_AreaBounds.X+this.model.m_AreaBounds.Width-b[b.length-1]-s.plotOffset),ee={id:this.svgObject.id+"_XAxis"+a+"_Alternateodd"+[re],x:b[re],y:Math.floor(this.model.m_AreaBounds.Y),width:W,height:he,fill:s.alternateGridBand.odd.fill,opacity:s.alternateGridBand.odd.opacity,stroke:"transparent","clip-path":"url(#"+this.svgObject.id+"_ChartAreaClipRect)"},W>0&&this.svgRenderer.drawRect(ee,V);for(re=0;re<b.length;re+=2)W=(W=b[re+1]-b[re])||"onticks"==s.labelPlacement.toLowerCase()?W:s.width+s.x-b[re],0==re&&s.zoomed&&(W=b[1]-s.x),re==b.length-1&&s.zoomed&&(W=this.model.m_AreaBounds.X+this.model.m_AreaBounds.Width-b[b.length-1]-s.plotOffset),se={id:this.svgObject.id+"_XAxis"+a+"_Alternateeven"+[re],x:b[re],y:Math.floor(this.model.m_AreaBounds.Y),width:W,height:he,fill:s.alternateGridBand.even.fill,opacity:s.alternateGridBand.even.opacity,"clip-path":"url(#"+this.svgObject.id+"_ChartAreaClipRect)",stroke:"transparent"},W>0&&this.svgRenderer.drawRect(se,V);n(V).appendTo(R)}s.minorGridLines.visible&&s.minorTicksPerInterval>0&&(o=l.toString(),this.svgRenderer.drawPath({id:this.svgObject.id+"_XAxisMinorGridLines_"+a,fill:"none","stroke-width":s.minorGridLines.width,stroke:s.minorGridLines.color,"stroke-dasharray":s.minorGridLines.dashArray,d:o},R)),t=p.toString(),s.majorGridLines.visible&&""!=(M={id:this.svgObject.id+"_XAxisMajorGridLines_"+a,fill:"none","stroke-width":s.majorGridLines.width,stroke:s.majorGridLines.color,opacity:s.majorGridLines.opacity,"stroke-dasharray":s.majorGridLines.dashArray,d:t}).d&&this.svgRenderer.drawPath(M,R),n(R).appendTo(this.svgObject)},_drawYAxisTickLine:function(a,s,h,t){var C,I,R,V,F,A,z,U,J,Q,oe,he,o="",l="",p=0,g=s._isScroll&&!(null!=s.scrollbarSettings.pointsLength&&s.scrollbarSettings.pointsLength<s.maxPointLength),b=s._opposed,T=[],D=s.labelBorder;1!=a&&("inside"==s.labelPosition&&"inside"==s.tickLinesPosition||"inside"==s.labelPosition&&"inside"!=s.tickLinesPosition)&&s.x!=this.model.m_AreaBounds.Width+this.model.m_AreaBounds.X&&s.x!=this.model.m_AreaBounds.X?(I=b||t?s.showNextToAxisLine?s.x:Math.floor(s.x+s._LableMaxWidth.width+this.model.elementSpacing):Math.floor(s.x-s._LableMaxWidth.width-this.model.elementSpacing),b||t?s.showNextToAxisLine||Math.floor(s.x+s._LableMaxWidth.width+this.model.elementSpacing):Math.floor(s.x-s._LableMaxWidth.width-this.model.elementSpacing)):1==a||t||"inside"==s.labelPosition||"inside"!=s.tickLinesPosition||s.x==this.model.m_AreaBounds.Width+this.model.m_AreaBounds.X||s.x==this.model.m_AreaBounds.X?I=s.showNextToAxisLine?s.showNextToAxisLine||"inside"!=s.tickLinesPosition?s.x:s.x+s.majorTickLines.size:s._x:(I=Math.floor(s.x+s.majorTickLines.size),Math.floor(s.x+s.majorTickLines.size));var re=Math.floor(s.y+s.height),pe=(Math.floor(s.y),ej.EjSvgRender.utils._getStringBuilder()),M=ej.EjSvgRender.utils._getStringBuilder();for(this.svgRenderer.createGroup({id:this.svgObject.id+"_YAxisTicklines_"+a}),s.labelPlacement=s.labelPlacement?s.labelPlacement:ej.datavisualization.Chart.LabelPlacement.BetweenTicks,R=s.labels.length>0&&"betweenticks"==s.labelPlacement.toLowerCase()?-.5:0,V=s.visibleLabels.length,s._valueType.toLowerCase()==ej.datavisualization.Chart.ValueType.Category&&R<0&&(V=V>0?s.visibleLabels.length+1:V),ne=0;ne<V;ne++)if(C=s.visibleLabels[ne]?s.visibleLabels[ne].Value:s.visibleLabels[ne-1].Value+s.range.interval,F=s.labels.length>0&&R<0?C+R:C,F=s.roundingPlaces?F:parseFloat(F.toFixed(0==ej.EjSvgRender.utils._decimalPlaces(s.visibleRange.interval)?1:ej.EjSvgRender.utils._decimalPlaces(s.visibleRange.interval))),ej.EjSvgRender.utils._inside(F,s.visibleRange)){if(s.hidePartialLabels&&(0==ne||ne==s.visibleLabels.length-1))continue;if(s.minorGridLines.visible||s.minorTickLines.visible)if(z=this._getSharpPath(s.minorTickLines.width),this._getSharpPath(s.minorGridLines.width),"logarithmic"==s._valueType){J=F;var xe=s.visibleRange.max,O=s.visibleRange.min,B=Math.pow(s.logBase,J-s.visibleRange.interval),Z=(Math.pow(s.logBase,J)-B)/(s.minorTicksPerInterval+1),te=B+Z;for(J=ej.EjSvgRender.utils._logBase(te,s.logBase),U=0;U<s.minorTicksPerInterval;U++)J<xe&&J>O&&(A=Math.ceil((J-O)/(xe-O)*s.height),s.minorTickLines&&s.minorTickLines.visible&&s.minorTickLines.visible&&(Q="inside"!=s.tickLinesPosition&&"inside"!=s.labelPosition||"inside"!=s.tickLinesPosition&&"inside"==s.labelPosition?b?s.minorTickLines.size:-s.minorTickLines.size:b?-s.minorTickLines.size:s.minorTickLines.size,pe.append("M "+(Math.floor(Q+I)+z)+" "+(Math.floor(-1*A+re)+z)+" L "+(I+z)+" "+(Math.floor(-1*A+re)+z)+" "))),te+=Z,J=ej.EjSvgRender.utils._logBase(te,s.logBase)}else for(U=0,J=F;U<s.minorTicksPerInterval;U++)(J+=s.visibleRange.interval/(s.minorTicksPerInterval+1))<s.visibleRange.max&&J>s.visibleRange.min&&(A=(J-s.visibleRange.min)/s.visibleRange.delta*s.height,s.minorTickLines.visible&&(Q="inside"!=s.tickLinesPosition&&"inside"!=s.labelPosition||"inside"!=s.tickLinesPosition&&"inside"==s.labelPosition?b?s.minorTickLines.size:-s.minorTickLines.size:b?-s.minorTickLines.size:s.minorTickLines.size,pe.append("M "+(Math.floor(Q+I)+z)+" "+(Math.floor(-1*A+re)+z)+" L "+(I+z)+" "+(Math.floor(-1*A+re)+z)+" ")));(s.majorTickLines.visible||s.majorGridLines.visible||D.width>0)&&(oe=this._getSharpPath(s.minorTickLines.width),this._getSharpPath(s.majorGridLines.width),p=T[ne]=ej.EjSvgRender.utils._getPointXY(F,s.visibleRange,s.isInversed)*s.height,s.majorTickLines.visible&&("inside"!=s.tickLinesPosition&&"inside"!=s.labelPosition||"inside"!=s.tickLinesPosition&&"inside"==s.labelPosition?le=(b?s.majorTickLines.size+s.axisLine.width/2:-(s.majorTickLines.size+s.axisLine.width/2))+(g?b?this.model.scrollerSize:b-this.model.scrollerSize:0):("inside"==s.tickLinesPosition&&"inside"!=s.labelPosition||"inside"==s.tickLinesPosition&&"inside"==s.labelPosition)&&(le=b?-(s.majorTickLines.size+s.axisLine.width/2):s.majorTickLines.size+s.axisLine.width/2),M.append("M "+(Math.floor(le+I)+oe)+" "+(Math.floor(-1*p+re)+oe)+" L "+(Math.floor(I+s.axisLine.width/2)+oe)+" "+(Math.floor(-1*p+re)+oe)+" ")))}if(D.width>0){var ne,de,_e,Se,be,ae=ej.EjSvgRender.utils._getStringBuilder(),le=s.axisLine.width/2,Ce=g?this.model.scrollerSize:0,Pe=s._LableMaxWidth.maxWidth+10;for(I=s.x,s.tickLinesPosition==s.labelPosition&&(Pe+=s.majorTickLines.size),Math.floor(I-Pe),Se="outside"==s.labelPosition?b?Math.floor(I+Pe)+Ce:Math.floor(I-Pe)-Ce:Math.floor(b?I-Pe:I+Pe),ne=0;ne<V;ne++)be=(T[T.length-1]-T[T.length-2])/2,!ej.util.isNullOrUndefined(T[ne])&&T.length>1&&!isNaN(be)&&("category"==s._valueType&&"betweenticks"==s.labelPlacement.toLowerCase()?(de=Math.floor(-1*T[ne]+re),_e=Math.floor(-1*T[ne]-2*be+re)):(de=Math.floor(-1*T[ne]+be+re),_e=Math.floor(-1*T[ne]-be+re)),de>re?ae.append("M "+Se+" "+re+" L "+Se+" "+_e+" "):_e<this.model.m_AreaBounds.Y?ae.append("M "+Math.floor(le+I)+" "+de+" L "+Se+" "+de+" L "+Se+" "+this.model.m_AreaBounds.Y+" "):(ae.append("M "+Math.floor(le+I)+" "+de+" L "+Se+" "+de+" L "+Se+" "+_e+" "),ne==V-1&&ae.append("M "+Math.floor(le+I)+" "+_e+" L "+Se+" "+_e+" ")));he={id:this.svgObject.id+"_YAxisLabelBorder_"+a,fill:"none","stroke-width":D.width,stroke:D.color,d:ae.toString()},this.svgRenderer.drawPath(he,h),n(h).appendTo(this.gYaxisEle)}s.minorTickLines.visible&&s.visible&&s.minorTicksPerInterval>0&&(l=pe.toString(),this.svgRenderer.drawPath({id:this.svgObject.id+"_YAxisMinorTicks_"+a,fill:"none","stroke-width":s.minorTickLines.width,stroke:s.minorTickLines.color,d:l},h)),s.majorTickLines.visible&&s.visible&&(o=M.toString(),this.svgRenderer.drawPath({id:this.svgObject.id+"_YAxisMajorTicks_"+a,fill:"none","stroke-width":s.majorTickLines.width,stroke:s.majorTickLines.color,d:o},h))},_drawYAxisGridLine:function(a,s,h){var t,p,I,R,F,A,z,N,J,Q,oe,le,ne,he,se,ee,W,M,o="",l=0,g=Math.floor(s.y+s.height),b=Math.floor(s.y),C=s._opposed,T=[],D=h.axes[s.name]._validCross,L=s.name.replace(/[^a-zA-Z0-9]/g,"");1!=a&&!D&&("inside"==s.labelPosition&&"inside"==s.tickLinesPosition||"inside"==s.labelPosition&&"inside"!=s.tickLinesPosition)&&s.x!=this.model.m_AreaBounds.Width+this.model.m_AreaBounds.X&&s.x!=this.model.m_AreaBounds.X?(I=Math.floor(C?s.x+s._LableMaxWidth.width+this.model.elementSpacing:s.x-s._LableMaxWidth.width-this.model.elementSpacing),R=Math.floor(C?s.x+s._LableMaxWidth.width+this.model.elementSpacing:s.x-s._LableMaxWidth.width-this.model.elementSpacing)):1==a||D||"inside"==s.labelPosition||"inside"!=s.tickLinesPosition||s.x==this.model.m_AreaBounds.Width+this.model.m_AreaBounds.X||s.x==this.model.m_AreaBounds.X?(I=Math.floor(s.x),R=Math.floor(s.x)):(I=Math.floor(C?s.x+s.majorTickLines.size:s.x-s.majorTickLines.size),R=Math.floor(C?s.x+s.majorTickLines.size:s.x-s.majorTickLines.size));var fe=ej.EjSvgRender.utils._getStringBuilder(),xe=ej.EjSvgRender.utils._getStringBuilder(),O=this.svgRenderer.createGroup({id:this.svgObject.id+"_YAxisGrid_"+a}),B=this.svgRenderer.createGroup({id:this.svgObject.id+"_YAxisAlternateGridBand_"+a});if(s.visible&&s.axisLine.visible){var H=s.axisLine.offset>0?s.axisLine.offset:0,Z=this._getSharpPath(s.axisLine.width);h.axes[s.name]._lineOption=[{id:this.svgObject.id+L+"_YAxisLine_"+a,x1:I+Z,y1:b-s.plotOffset+H+Z,x2:R+Z,y2:g+s.plotOffset-H+Z,"stroke-width":s.axisLine.width,"stroke-dasharray":s.axisLine.dashArray,stroke:s.axisLine.color,opacity:s.axisLine.opacity||1},this.gYaxisEle]}else h.axes[s.name]._lineOption=[null,this.gYaxisEle];for(s.axisBottomLine&&s.axisBottomLine.visible&&this.svgRenderer.drawLine({id:this.svgObject.id+L+"_YAxisBottomLine_"+a,x1:this.model.m_AreaBounds.X,y1:g,x2:this.model.m_AreaBounds.X+this.model.m_AreaBounds.Width,y2:g,"stroke-width":s.axisBottomLine.width,stroke:s.axisBottomLine.color},O),s.labelPlacement=s.labelPlacement?s.labelPlacement:ej.datavisualization.Chart.LabelPlacement.BetweenTicks,F=s.labels.length>0&&"betweenticks"==s.labelPlacement.toLowerCase()?-.5:0,A=s.visibleLabels.length,se=0;se<A;se++)if(p=s.visibleLabels[se].Value,z=s.labels.length>0&&F<0?p+F:p,z=s.roundingPlaces?z:parseFloat(z.toFixed(0==ej.EjSvgRender.utils._decimalPlaces(s.visibleRange.interval)?1:ej.EjSvgRender.utils._decimalPlaces(s.visibleRange.interval))),ej.EjSvgRender.utils._inside(z,s.visibleRange)){if(s.hidePartialLabels&&(0==se||se==s.visibleLabels.length-1))continue;if(s.minorGridLines.visible||s.minorTickLines.visible)if(this._getSharpPath(s.minorTickLines.width),J=this._getSharpPath(s.minorGridLines.width),"logarithmic"==s._valueType){oe=z;var ae=s.visibleRange.max,de=s.visibleRange.min,_e=Math.pow(s.logBase,oe-s.visibleRange.interval),be=(Math.pow(s.logBase,oe)-_e)/(s.minorTicksPerInterval+1),Ce=_e+be;for(oe=ej.EjSvgRender.utils._logBase(Ce,s.logBase),Q=0;Q<s.minorTicksPerInterval;Q++)oe<ae&&oe>de&&(N=Math.ceil((oe-de)/(ae-de)*s.height),s.minorGridLines.visible&&fe.append("M "+(Math.floor(this.model.m_AreaBounds.X)+J)+" "+(Math.floor(-1*N+g)+J)+" L "+(Math.floor(this.model.m_AreaBounds.Width+this.model.m_AreaBounds.X)+J)+" "+(Math.floor(-1*N+g)+J)+" ")),Ce+=be,oe=ej.EjSvgRender.utils._logBase(Ce,s.logBase)}else for(Q=0,oe=z;Q<s.minorTicksPerInterval;Q++)(oe+=s.visibleRange.interval/(s.minorTicksPerInterval+1))<s.visibleRange.max&&oe>s.visibleRange.min&&(N=(oe-s.visibleRange.min)/s.visibleRange.delta*s.height,s.minorGridLines.visible&&fe.append("M "+(Math.floor(this.model.m_AreaBounds.X)+J)+" "+(Math.floor(-1*N+g)+J)+" L "+(Math.floor(this.model.m_AreaBounds.Width+this.model.m_AreaBounds.X)+J)+" "+(Math.floor(-1*N+g)+J)+" "));if((s.majorTickLines.visible||s.majorGridLines.visible)&&(this._getSharpPath(s.minorTickLines.width),le=this._getSharpPath(s.majorGridLines.width),s.majorGridLines.visible)){l=ej.EjSvgRender.utils._getPointXY(z,s.visibleRange,s.isInversed)*s.height;var Pe=Math.floor(this.model.m_AreaBounds.X)+le,ke=Math.floor(-1*l+g),Ne=Math.floor(this.model.m_AreaBounds.Width+this.model.m_AreaBounds.X)+le;if(0==se){if(ke==Math.floor(this.model.m_AreaBounds.Y+this.model.m_AreaBounds.Height))continue;s.zoomed&&(T[0]=ke+le)}if(se==s.visibleLabels.length-1&&"transparent"!=this.model.chartArea.border.color&&this.model.chartArea.border.width>0&&ke==Math.floor(this.model.m_AreaBounds.Y)){T.push(ke+le);continue}if(xe.append("M "+Pe+" "+(ke+le)+" L "+Ne+" "+(ke+le)+" "),0==se)continue;T.push(ke+le)}}if("transparent"!=s.alternateGridBand.odd.fill||"transparent"!=s.alternateGridBand.even.fill){for(ne=this.model.m_AreaBounds.Width,s.zoomed&&(T[T.length]=s.y),se=1;se<T.length;se+=2)ee=T[0]-T[1],se==T.length-1&&s.zoomed&&(ee=T[T.length-2]-s.y),he={id:this.svgObject.id+"_YAxisAlternateodd"+[se],x:Math.floor(this.model.m_AreaBounds.X),y:T[se],width:ne,height:ee,fill:s.alternateGridBand.odd.fill,opacity:s.alternateGridBand.odd.opacity,stroke:"transparent","clip-path":"url(#"+this.svgObject.id+"_ChartAreaClipRect)"},this.svgRenderer.drawRect(he,B);for(se=0;se<T.length;se+=2)ee=T[0]-T[1],se==T.length-1&&s.zoomed&&(ee=T[T.length-2]-s.y),0==se&&s.zoomed&&(ee=s.y+s.height-T[0]-s.plotOffset),W={id:this.svgObject.id+"_YAxisAlternateeven"+[se],x:Math.floor(this.model.m_AreaBounds.X),y:T[se],width:ne,height:ee,fill:s.alternateGridBand.even.fill,opacity:s.alternateGridBand.even.opacity,stroke:"transparent","clip-path":"url(#"+this.svgObject.id+"_ChartAreaClipRect)"},this.svgRenderer.drawRect(W,B);n(B).appendTo(O)}s.minorGridLines.visible&&s.minorTicksPerInterval>0&&(o=fe.toString(),this.svgRenderer.drawPath({id:this.svgObject.id+"_YAxisMinorGridLines_"+a,fill:"none","stroke-width":s.minorGridLines.width,stroke:s.minorGridLines.color,"stroke-dasharray":s.minorGridLines.dashArray,d:o},O)),t=xe.toString(),s.majorGridLines.visible&&""!=(M={id:this.svgObject.id+"_YAxisMajorGridLines_"+a,fill:"none","stroke-width":s.majorGridLines.width,opacity:s.majorGridLines.opacity,"stroke-dasharray":s.majorGridLines.dashArray,stroke:s.majorGridLines.color,d:t}).d&&this.svgRenderer.drawPath(M,O),n(O).appendTo(this.svgObject)},textOverflowMultiLevelLabels:function(a,s,h,t,o,l,p,g,b,C){var I,R,V,F,A,T=g.y,D=0;if("wrap"==o||"wrapandtrim"==o){for(V=(R=(I=C._wrap(a,s,h,o,l,p)).text).length,A=0;A<V;A++)g.y+=p.height,C.model.enable3D||(g.id+="_"+A,C.svgRenderer.drawText(g,R[A],b)),"wrapandtrim"==o&&R[A].indexOf("...")>-1&&(C.model.enable3D&&0==D&&(g.y-=p.height),F=I.unTrimmedText,p=ej.EjSvgRender.utils._measureText(R[A],null,l),C.model.axisMultiLevelLabelRegions.push({trimText:R[A],labelText:F[D],Bounds:{X:g.x-p.width/2,Y:g.y,Width:p.width,Height:p.height}}),D++);return R}return h="trim"==o?ej.EjSvgRender.utils._trimText(t,s,l):t,C.model.enable3D||(T=g.y+p.height),"vertical"==a.orientation.toLowerCase()&&(T=g.y-p.height/4),p=ej.EjSvgRender.utils._measureText(h,null,l),C.model.axisMultiLevelLabelRegions.push({trimText:h,labelText:t,Bounds:{X:g.x-p.width/2,Y:T,Width:p.width,Height:p.height}}),h},_triggerMultiLevelLabelsRendering:function(a,s,h,t,o,l,p){var g=n.extend({},ej.EjSvgRender.commonChartEventArgs);return g.data={text:a,location:{x:s,y:h},textOverflow:t,font:o,border:l},p._trigger("multiLevelLabelRendering",g),g.data},_drawXAxisMultiLevelLabels:function(a,s){var h,t,o,g,b,C,T,D,L,I,R,V,F,A,z,N,U,J,Q,oe,ue,le,he,se,ee,xe,ae,de,Se,Ce,Pe,re=this.svgObject.id,W=s.visibleRange,pe=this.svgRenderer.createGroup({id:re+"_XAxisMultiLevelLabels_"+a,"clip-path":"url(#"+this.svgObject.id+"_XAxis_Clippath_"+a+")"}),M=this.model.m_AreaBounds,fe=s.opposedPosition,O=s.labelPosition.toLowerCase(),H=10,Z=s._isScroll?this.model.scrollerSize:0;for(N=s.y+(I=s.majorTickLines.size+s._LableMaxWidth.height+s.labelBorder.width)+Z,fe?N="outside"==O?s.y-I-s._multiLevelLabelHeight-5-Z:s.y+I-5:"inside"==O&&(N=s.y-I-s._multiLevelLabelHeight),this.svgRenderer.drawClipPath({id:this.svgObject.id+"_XAxis_Clippath_"+a,x:z=s.x,y:N,width:U=s.width+this.model.chartArea.border.width,height:J=s._multiLevelLabelHeight+H-2,fill:"white","stroke-width":1,stroke:"Gray"},pe),h=0;h<s.multiLevelLabels.length;h++)if("string"==typeof(T=s.multiLevelLabels[h]).start&&-1!=T.start.indexOf("/Date(")&&(T.start=parseInt(T.start.substr(6))),"string"==typeof T.end&&-1!=T.end.indexOf("/Date(")&&(T.end=parseInt(T.end.substr(6))),T.visible&&(T.start>=W.min&&T.start<=W.max||T.end>=W.min&&T.end<=W.max||T.start<W.min&&T.end>W.max)){if(D=T.font,xe=(he=T.border).width,F=T._level,A=T.textOverflow.toLowerCase(),he.type.toLowerCase(),ee=T.textAlignment.toLowerCase(),L=Math.ceil(ej.EjSvgRender.utils._getPointXY(T.start,W,s.isInversed)*s.width),R=Math.ceil(ej.EjSvgRender.utils._getPointXY(T.end,W,s.isInversed)*s.width),s.isInversed&&(L=(R=(L-=R)+R)-L),de=T.text,C=ej.EjSvgRender.utils._measureText(de,null,D),g=ej.util.isNullOrUndefined(T.maximumTextWidth)?R-L-xe-H:T.maximumTextWidth-H,t=L+s.x+5,o=I+s.y,o=fe?"outside"==O?s.y-I-s.multiLevelLabelHeight[F]-H-s.prevHeight[F]-Z:s.y+I-5+s.prevHeight[F]:"inside"==O?s.y-I-s.multiLevelLabelHeight[F]-s.prevHeight[F]:I+s.y+s.prevHeight[F]+Z,this.model.enableCanvasRendering&&(this.svgRenderer.ctx.save(),this.svgRenderer.ctx.beginPath(),this.svgRenderer.ctx.rect(z,N,U,J),this.svgRenderer.ctx.clip()),"center"==ee?(t+=g/2,Q="middle"):"far"==ee?(t=t+g-xe/2,Q="end"):(Q="start",t+=xe/2),de=(ae=this._triggerMultiLevelLabelsRendering(de,t,o,A,D,T.border,this)).text,t=ae.location.x,o=ae.location.y,A=ae.textOverflow.toLowerCase(),D=ae.font,he=ae.border,se=ae.border.type.toLowerCase(),xe=ae.border.width,V={id:re+"_XAxisMultiLevelLabels_Text_"+a+"_"+h,x:t,y:"curlybrace"==se?o+10:o,fill:D.color?D.color:s.multiLevelLabelsFontColor,"font-size":D.size,"font-family":D.fontFamily,"font-style":D.fontStyle,"font-weight":D.fontWeight,opacity:D.opacity,"text-anchor":Q},b=de,"none"!=A&&(b=this.textOverflowMultiLevelLabels(s,g,b,de,A,D,C,V,pe,this)),"wrap"!=A&&"wrapandtrim"!=A&&(V.y+=C.height,C.height<s.multiLevelLabelHeight[F]&&(V.y=V.y+s.multiLevelLabelHeight[F]/2-C.height/2),this.svgRenderer.drawText(V,b,pe)),o=fe?"inside"==O?I+s.y+s.prevHeight[F]-5:s.y-I-s.multiLevelLabelHeight[F]-H+2-s.prevHeight[F]-Z:"inside"==O?s.y-I-s.multiLevelLabelHeight[F]-3-s.prevHeight[F]:I+s.y+s.prevHeight[F]+Z,this.model.multiLevelLabelRegions.push({bounds:{x:t=L+s.x,y:o+=xe,height:oe=s.multiLevelLabelHeight[F]+5,width:ue=g+H+xe},axisIndex:a,multiLevelLabel:T}),Se="","rectangle"==se)this.svgRenderer.drawRect({id:re+"_XAxisMultiLevelLabels_Rect_"+a+"_"+h,x:t,y:o,width:ue,height:oe,fill:"transparent",stroke:he.color?he.color:s.multiLevelLabelsColor,"stroke-width":xe},pe);else{switch(se){case"withouttopandbottomborder":Se="M "+t+" "+o+" L "+t+" "+(o+oe)+" M "+(t+ue)+" "+o+" L "+(t+ue)+" "+(o+oe);break;case"withouttopborder":Se="M "+t+" "+(o+(le=!fe&&"outside"==O||fe&&"inside"==O?oe:0))+" L "+(t+ue)+" "+(o+le)+" M "+t+" "+o+" L "+t+" "+(o+oe)+" M "+(t+ue)+" "+o+" L "+(t+ue)+" "+(o+oe);break;case"brace":"near"==ee?(Pe=V.x,Ce=V.x+C.width+2):"center"==ee?(Pe=V.x-C.width/2-2<=M.X+L?M.X+L+H:V.x-C.width/2-2,Ce=V.x+C.width/2+2>M.X+R?M.X+R-H:V.x+C.width/2+2):(Pe=V.x-C.width-2,Ce=V.x),Se=!fe&&"outside"==O||fe&&"inside"==O?"M "+t+" "+o+" L "+t+" "+(o+oe/2)+" M "+t+" "+(o+oe/2)+" L "+(Pe-2)+" "+(o+oe/2)+" M "+Ce+" "+(o+oe/2)+" L "+(t+ue)+" "+(o+oe/2)+" M "+(t+ue)+" "+(o+oe/2)+" L "+(t+ue)+" "+o:"M "+t+" "+(o+oe)+" L "+t+" "+(o+oe/2)+" M "+t+" "+(o+oe/2)+" L "+Pe+" "+(o+oe/2)+" M "+Ce+" "+(o+oe/2)+" L "+(t+ue)+" "+(o+oe/2)+" M "+(t+ue)+" "+(o+oe)+" L "+(t+ue)+" "+(o+oe/2);break;case"curlybrace":o=s.y+I+s.prevHeight[F],Se=ue<30?"M "+(t+ue/2-5)+" "+(o+10)+" L "+(t+ue/2)+" "+(o+15)+" L "+(t+ue/2+5)+" "+(o+10):fe||"center"==ee?"M "+t+" "+o+" C "+t+" "+o+" "+(t+5)+" "+(o+10)+" "+(t+10)+" "+(o+10)+" L "+(t+ue/2-5)+" "+(o+10)+" L "+(t+ue/2)+" "+(o+15)+" L "+(t+ue/2+5)+" "+(o+10)+" L "+(t+ue-10)+" "+(o+10)+" C "+(t+ue-10)+" "+(o+10)+" "+(t+ue)+" "+(o+5)+" "+(t+ue)+" "+o:"near"==ee?"M "+t+" "+o+" C "+t+" "+o+" "+(t+5)+" "+(o+10)+" "+(t+10)+" "+(o+10)+" L "+(t+15)+" "+(o+15)+" L "+(t+15+5)+" "+(o+10)+" L "+(t+ue-10)+" "+(o+10)+" C "+(t+ue-10)+" "+(o+10)+" "+(t+ue)+" "+(o+5)+" "+(t+ue)+" "+o:"M "+t+" "+o+" C "+t+" "+o+" "+(t+5)+" "+(o+10)+" "+(t+10)+" "+(o+10)+" L "+(t+ue-20)+" "+(o+10)+" L "+(t+ue-15)+" "+(o+15)+" L "+(t+ue-10)+" "+(o+10)+" L "+(t+ue-10)+" "+(o+10)+" C "+(t+ue-10)+" "+(o+10)+" "+(t+ue)+" "+(o+5)+" "+(t+ue)+" "+o}Se&&this.svgRenderer.drawPath({id:re+"_XAxisMultiLevelLabels_Rect_"+a+"_"+h,d:Se,stroke:he.color?he.color:s.multiLevelLabelsColor,"stroke-width":he.width,fill:"none"},pe)}this.model.enableCanvasRendering&&this.svgRenderer.ctx.restore(),n(pe).appendTo(this.gXaxisEle)}},_drawYAxisMultiLevelLabels:function(a,s){var h,t,o,p,g,b,C,T,D,L,I,V,F,A,N,U,J,Q,oe,ue,ne,he,se,W,pe,M,fe,O,H,te,Le,ee=this.svgObject.id,re=s.visibleRange,ae=this.svgRenderer.createGroup({id:ee+"_YAxisMultiLevelLabels_"+a,"clip-path":"url(#"+this.svgObject.id+"_YAxis_Clippath_"+a+")"}),_e=s.opposedPosition,Se=s.labelPosition.toLowerCase(),Ce=s._multiLevelLabelHeight,Pe=s.majorTickLines.size+s._LableMaxWidth.width+s.labelBorder.width+10,ke=s._isScroll?this.model.scrollerSize:0;for(pe=s.y,this.svgRenderer.drawClipPath({id:this.svgObject.id+"_YAxis_Clippath_"+a,x:W=_e?"outside"==Se?s.x+Pe-5+ke:s.x-Ce-Pe+5:"outside"==Se?s.x-Ce-Pe-ke:s.x+Pe-5,y:s.y,width:M=Ce+5,height:fe=s.height+5,fill:"white","stroke-width":1,stroke:"Gray"},ae),h=0;h<s.multiLevelLabels.length;h++)if((b=n.extend(!0,{},this.model.multiLevelLabelsDefault,s.multiLevelLabels[h])).visible&&(b.start>=re.min&&b.start<=re.max||b.end>=re.min&&b.end<=re.max||b.start<re.min&&b.end>re.max)){if(C=b.font,ne=b.border,V=b._level,F=b.maximumTextWidth,I=b.textOverflow.toLowerCase(),ne.type.toLowerCase(),se=b.textAlignment.toLowerCase(),T=Math.ceil(ej.EjSvgRender.utils._getPointXY(b.start,re,s.isInversed)*s.height),D=Math.ceil(ej.EjSvgRender.utils._getPointXY(b.end,re,s.isInversed)*s.height),s.isInversed&&(T=(D=(T-=D)+D)-T),Le=b.text,g=ej.EjSvgRender.utils._measureText(Le,null,C),p=D-T-ne.width,A=ej.util.isNullOrUndefined(F)?s.multiLevelLabelHeight[V]+5:F-5,t=s.x-Pe-s.prevHeight[V]-s.multiLevelLabelHeight[V]/2+ne.width-2.5,o=s.height+s.y-T-p/2,t=_e?"outside"==Se?s.x+Pe+s.multiLevelLabelHeight[V]/2+s.prevHeight[V]+ne.width+ke:s.x-Pe-s.multiLevelLabelHeight[V]/2-s.prevHeight[V]+ne.width+2.5:"inside"==Se?s.x+Pe+s.multiLevelLabelHeight[V]/2+s.prevHeight[V]-2.5:t+0-ke,this.model.enableCanvasRendering&&(this.svgRenderer.ctx.save(),this.svgRenderer.ctx.beginPath(),this.svgRenderer.ctx.rect(W,pe,M,fe),this.svgRenderer.ctx.clip()),Le=(O=this._triggerMultiLevelLabelsRendering(Le,t,o="far"==se?o+p/2-g.height/2:"near"==se?o-p/2+g.height:o+g.height/4,I,C,b.border,this)).text,t=O.location.x,o=O.location.y,I=O.textOverflow,C=O.font,L={id:ee+"_YAxisMultiLevelLabels_Text_"+a+"_"+h,x:"curlybrace"==(he=(ne=O.border).type.toLowerCase())?_e?t+0+10:t+0-10:t+0,y:o,fill:C.color?C.color:s.multiLevelLabelsFontColor,"font-size":C.size,"font-family":C.fontFamily,"font-style":C.fontStyle,"font-weight":C.fontWeight,opacity:C.opacity,"text-anchor":"middle"},N=Le,"none"!=I&&(N=this.textOverflowMultiLevelLabels(s,A,N,Le,I,C,g,L,ae,this)),"wrap"!=I&&"wrapandtrim"!=I&&this.svgRenderer.drawText(L,N,ae),H="",this.model.multiLevelLabelRegions.push({bounds:{x:t=t-2.5-s.multiLevelLabelHeight[V]/2,y:o=s.y+s.height-D+ne.width,height:U=D-T,width:J=s.multiLevelLabelHeight[V]+5},axisIndex:a,multiLevelLabel:b}),"rectangle"==he)this.svgRenderer.drawRect({id:ee+"_YAxisMultiLevelLabels_Rect_"+a+"_"+h,x:t,y:o,width:J,height:U,fill:"transparent",stroke:ne.color?ne.color:s.multiLevelLabelsColor,"stroke-width":ne.width},ae);else{switch(he){case"withouttopandbottomborder":H="M "+t+" "+(o+U)+" L "+(t+J)+" "+(o+U)+" M "+t+" "+o+" L "+(t+J)+" "+o;break;case"withouttopborder":H="M "+t+" "+(o+U)+" L "+(t+J)+" "+(o+U)+" M "+t+" "+o+" L "+(t+J)+" "+o+" M "+(t+(ue=!_e&&"outside"==Se||_e&&"inside"==Se?0:J))+" "+(o+U)+" L "+(t+ue)+" "+o;break;case"brace":Q=L.y-g.height/2-4,oe=L.y+g.height/4+2,H=!_e&&"outside"==Se||_e&&"inside"==Se?"M "+(t+J)+" "+o+" L "+(t+J/2)+" "+o+" M "+(t+J/2)+" "+o+" L "+(t+J/2)+" "+Q+" M "+(t+J/2)+" "+oe+" L "+(t+J/2)+" "+(o+U)+" M "+(t+J/2)+" "+(o+U)+" L "+(t+J)+" "+(o+U):"M "+t+" "+o+" L "+(t+J/2)+" "+o+" M "+(t+J/2)+" "+o+" L "+(t+J/2)+" "+Q+" M "+(t+J/2)+" "+oe+" L "+(t+J/2)+" "+(o+U)+" M "+(t+J/2)+" "+(o+U)+" L "+t+" "+(o+U);break;case"curlybrace":t=s.x-Pe-s.prevHeight[V],te=U-10,H=U<30?_e?" M "+((t=s.x+Pe+s.prevHeight[V])+10)+" "+(o+(te=U-10)/2)+"  L "+(t+15)+" "+(o+te/2+5)+" L "+(t+10)+" "+(o+te/2+10):"M "+(t-10)+" "+(o+U/2-5)+" L "+(t-15)+" "+(o+U/2)+" L "+(t-10)+" "+(o+U/2+5):_e?"M "+(t=s.x+Pe+s.prevHeight[V])+" "+o+" C "+t+" "+o+" "+(t+10)+" "+o+" "+(t+10)+" "+(o+10)+" L "+(t+10)+" "+(o+(te=U-10)/2)+"  L "+(t+15)+" "+(o+te/2+5)+" L "+(t+10)+" "+(o+te/2+10)+" L "+(t+10)+" "+(o+te)+" C"+(t+10)+" "+(o+te)+" "+(t+5)+" "+(o+te+10)+" "+t+" "+(o+te+10):"center"==se?"M "+t+" "+o+" C "+t+" "+o+" "+(t-10)+" "+o+" "+(t-10)+" "+(o+10)+" L "+(t-10)+" "+(o+te/2)+" L "+(t-15)+" "+(o+te/2+5)+" L "+(t-10)+" "+(o+te/2+10)+" L "+(t-10)+" "+(o+te)+" C "+(t-10)+" "+(o+te)+" "+(t-5)+" "+(o+te+10)+" "+t+" "+(o+te+10):"far"==se?"M "+t+" "+o+" C "+t+" "+o+" "+(t-10)+" "+o+" "+(t-10)+" "+(o+10)+" L "+(t-10)+" "+(o+te-10)+"  L "+(t-15)+" "+(o+te-5)+" L "+(t-10)+" "+(o+te)+" L "+(t-10)+" "+(o+te)+" C"+(t-10)+" "+(o+te)+" "+(t-10)+" "+(o+te+10)+" "+t+" "+(o+te+10):"M "+t+" "+o+" C "+t+" "+o+" "+(t-10)+" "+o+" "+(t-10)+" "+(o+10)+" L "+(t-15)+" "+(o+10+5)+" L "+(t-10)+" "+(o+10+10)+" L "+(t-10)+" "+(o+te)+" C"+(t-10)+" "+(o+te)+" "+(t-5)+" "+(o+te+10)+" "+t+" "+(o+te+10)}H&&this.svgRenderer.drawPath({id:ee+"_YAxisMultiLevelLabels_Rect_"+a+"_"+h,d:H,stroke:ne.color?ne.color:s.multiLevelLabelsColor,"stroke-width":ne.width,fill:"none"},ae)}this.model.enableCanvasRendering&&this.svgRenderer.ctx.restore(),n(ae).appendTo(this.gYaxisEle)}},_getLabelCollection:function(a,s,h,t,o){var g,b,C,T,l=[],p=[];for("string"==typeof a&&-1!=a.indexOf("<br>")?l=a.split("<br>"):l.push(a),t=t<=0?h.width/h.labels.length:t,g=l.length,C=0;C<g;C++)for(b=this.rowscalculation(l[C].toString(),s,h,t,o),T=0;T<b.length;T++)p.push(b[T]);return p},_drawXAxisLabels:function(a,s){var g,R,V,he,se,W,fe,xe,O,B,H,Z,te,_e,be,Ce,Pe,ke,Be,dt,Ke,tt,yt,Dt,wt,Zt,pt,Et,At,vi,Ai,ls,Yi,wi,Lt,ot,gs,gt,hi,es,gi,ds,Ei,Zi,fi,$i,Qi,ao,Gs,Fs,ro,Bs,zs,Ls,Eo,Di,Ii,xo,h=this.svgRenderer.createGroup({id:this.svgObject.id+"_XAxisLabels_"+a,cursor:"default"}),l=(this.svgRenderer.createGroup({id:this.svgObject.id+"_XAxisLabels_"+a,cursor:"default"}),this.model.m_AreaBounds),p=this.model.enableCanvasRendering,b=s.name.replace(/[^a-zA-Z0-9]/g,""),C=s._opposed,D=s.alignment.toLowerCase(),L=s.labelIntersectAction,I=s.labelPlacement.toLowerCase(),F=!1,A=0,z="inside"==s.tickLinesPosition,N=s._LableMaxWidth,U=N.height,J=0==N.rows?1:N.rows,Q=this.svgRenderer.vmlNamespace,oe=s.axisLine.width,ue=s.font,le=s.rotationValue,ee=l.Width,re=l.X,pe=s.labelIntersectAction.toLowerCase(),M=n(this.svgObject).width(),Ne=s.maximumLabelWidth,Le=s.visibleRange,je=ee,Ae=s.majorTickLines.size,Oe=s.visibleLabels,Fe=s.valueType&&s.valueType.toLowerCase(),$e=s.width,He=s.isInversed,Ye=s.majorTickLines.width,ht=!1,nt=this.model.scrollerSize,Mt=s.rotateOn.toLowerCase(),bt="inside"==s.labelPosition,Pt=0,jt=[],kt=[],mt=[];for(Zt=s._isScroll&&!(null!=s.scrollbarSettings.pointsLength&&s.scrollbarSettings.pointsLength<s.maxPointLength),this.edgeLabel=!1,0!=a&&(bt&&z||bt&&!z)&&s.y!=l.Height+l.Y&&s.y!=l.Y?s.y=Math.floor(C?s.y-U:s.y+U):0!=a&&bt&&z&&s.y!=l.Height+l.Y&&s.y!=l.Y?s.y=Math.floor(C?s.y-Ae:s.y+Ae):(s._y=Math.floor(s.y),s.y=s.showNextToAxisLine?Math.floor(s.y):Math.floor(C?l.Y:l.Height+l.Y)),pt=0;pt<Oe.length;pt++)if(ke=(Pe=Oe[pt]).displayText=ej.util.isNullOrUndefined(Pe.displayText)?Pe.Text:Pe.displayText,ej.EjSvgRender.utils._inside(Pe.Value,Le)){if(xe=$e/Oe.length,ej.isNullOrUndefined(Fe)||pt<Oe.length-1&&"datetimecategory"==Fe&&"wrap"==pe&&"betweenticks"==I&&(Z=Oe[pt+1],Pe.Value-=.5,te=Z.Value-.5),Et=Math.abs(Math.floor(ej.EjSvgRender.utils._getPointXY(Pe.Value,Le,He)*$e)),ej.isNullOrUndefined(Fe)||(pt<Oe.length-1&&"datetimecategory"==Fe&&"wrap"==pe&&"betweenticks"==I?(H=Math.abs(Math.floor(ej.EjSvgRender.utils._getPointXY(te,Le,He)*$e)),xe=(B=s.x+H+(Ye+.5))-(O=0==pt?s.x+Et+(Ye-.5):s.x+Et+(Ye+.5))):"datetimecategory"==Fe&&"wrap"==pe&&"betweenticks"==I?(xe=$e+s.x-B,O=B):"datetimecategory"==Fe&&"wrap"==pe&&"onticks"==I&&(xe=$e/s.labels.length)),s._gap=O,this.edgeLabel=!1,Tt="string"==typeof ke&&-1!=ke.indexOf("<br>")?ej.EjSvgRender.utils._getHighestLabel(s,M,ke):ke,lt=(ne=ej.EjSvgRender.utils._measureText(Tt,je,s.font)).width,A=0,F=!1,"trim"==pe||s.enableTrim){if("onticks"==I)if(pt!=Oe.length-1){for(At=Pe,vi=Oe[pt+1],mt=[],kt=[],"string"==typeof(Z=Oe[pt+1]).Text&&-1!=Z.Text.indexOf("<br>")||"string"==typeof Pe.Text&&-1!=Pe.Text.indexOf("<br>")?(mt=Pe.Text.split("<br>"),kt=Z.Text.split("<br>")):(kt.push(Z.Text),mt.push(Pe.displayText?Pe.displayText:Pe.Text)),Lt=0;Lt<kt.length;Lt++)for(Di=(ae=Math.abs(Math.floor(ej.EjSvgRender.utils._getPointXY(Z.Value,Le,He)*$e)))-(de=ej.EjSvgRender.utils._measureText(kt[Lt],ee,ue).width)/2,A=0,_e=!0,Ai=0;Ai<mt.length&&_e;Ai++)for(lt=ej.EjSvgRender.utils._measureText(mt[Ai],je,s.font).width;Di<Et+lt/2&&A<2;)for(A++,de>lt?(be=kt[Lt],ht=!1):(be=mt[Ai],ht=!0),he=be,(ls={}).displayText=be,gi=1;gi<he.length;gi++)if(he=ls.displayText.substring(0,gi)+"... ",Ce=ej.EjSvgRender.utils._measureText(he,ee,ue).width,ht){if((Di=ae-de/2)<Et+(0==pt&&"shift"==s.edgeLabelPlacement?Ce:Ce/2)){gi-1!=0&&(he=he.toString().substring(0,gi-1)+"... "),lt=Ce,ke=ls.displayText=At.displayText=he,mt[Ai]=he;break}}else if((Di=ae-Ce/2)<Et+(pt+1==Oe.length-1&&"shift"==s.edgeLabelPlacement?Ce:lt/2)){gi-1!=0&&(he=he.toString().substring(0,gi-1)+"... "),de=Ce,ls.displayText=vi.displayText=he,kt[Lt]=he,_e=!1;break}}else pt==Oe.length-1&&(mt=kt);else if("betweenticks"==I)for(Yi=s.enableTrim?Ne:xe,mt=[],"string"==typeof ke&&-1!=ke.indexOf("<br>")?mt=ke.split("<br>"):mt.push(ke),wi=mt.length,Lt=0;Lt<wi;Lt++)if(Pe.displayText=mt[Lt],(lt=(ne=ej.EjSvgRender.utils._measureText(mt[Lt],je,s.font)).width)>Yi&&""!=mt[Lt]){for(gi=1;gi<mt[Lt].toString().length;gi++)if(mt[Lt]=Pe.displayText.toString().substring(0,gi)+"... ",(lt=ej.EjSvgRender.utils._measureText(mt[Lt],ee,ue).width)>=Yi){if(mt[Lt]=mt[Lt].toString().substring(0,gi-1)+"... ",Pe.displayText=mt[Lt],pt==Oe.length-1&&Et+s.x+lt/2>M&&Yi==xe){Yi-=lt/2,gi=1;continue}break}Pe.displayText=mt[Lt]}("double"!=s._valueType||"string"==typeof Pe.displayText)&&(Tt=mt.length>0?ej.EjSvgRender.utils._getHighestLabel(s,M,mt,null):Tt,ne=ej.EjSvgRender.utils._measureText(Tt,ee,ue))}else ne="string"==typeof ke&&-1!=ke.indexOf("<br>")?ej.EjSvgRender.utils._measureText(Tt,ee,ue):ej.EjSvgRender.utils._measureText(Pe.displayText,ee,ue);if(W=ne.width/2,se=ne.height,lt=ne.width,fe=s.majorGridLines.width>Ye?s.majorGridLines.width:Ye,!ej.util.isNullOrUndefined(Pe.Text)){if(bt&&z||bt&&!z&&"multiplerows"==pe?V=C?s.y+Ae+se/2+oe/2+U/(2*J)-5:s.y-Ae-oe/2-U/(2*J)+5:bt&&!z?V=C?s.y+se/2+oe/2+U/(2*J)-5:s.y-oe/2-U/(2*J)+5:!bt&&!z||!bt&&z&&"multiplerows"==pe?(V=C?s.y-Ae+se/2-oe/2-U/(2*J)-5:s.y+Ae+oe/2+U/(2*J)+5,V+=Zt?C?-nt:nt:0):!bt&&z&&(V=C?s.y+se/2-oe/2-U/(2*J)-5:s.y+oe/2+U/(2*J)+5,V+=Zt?C?-nt:nt:0),bt&&!z?(90==le||"rotate90"==pe)&&(V=C?V:V-Ae):!bt&&z?(90==s.labelRotation||"rotate90"==pe)&&(V-=Ae):bt&&z&&(90==s.labelRotation||"rotate90"==pe)&&(V=C?V:V-Ae),ot={id:this.svgObject.id+"_"+b+"_XLabel_"+pt,x:R="near"==D?Et+s.x+fe+("category"==Fe&&"onticks"!=I?-$e/s.actualRange.delta/2+3:-ne.width-3):"far"==D?Et+s.x+("category"==Fe&&"onticks"!=I?+$e/s.actualRange.delta/2-ne.width:+fe+3):Et+s.x-W,y:V,fill:ue.color,"font-size":ue.size,"font-family":ue.fontFamily,"font-style":ue.fontStyle,"font-weight":ue.fontWeight,opacity:ue.opacity},s.edgeLabelPlacement&&90!=le&&-90!=le&&270!=le&&-270!=le)switch(dt=s.edgeLabelPlacement.toLowerCase(),Ke=Oe.length-1,dt){case"shift":0==pt?ot.x<s.x&&(ot.x=R=ot.x+(tt=s.x-ot.x),this.diff=tt,this.edgeLabel=!0):pt==Ke&&ot.x+ne.width>s.x+s.width&&(ot.x=R=ot.x-(tt=ot.x+ne.width-(s.x+s.width)),this.diff=tt,this.edgeLabel=!0);break;case"hide":(0==pt&&ot.x<s.x||pt==Ke&&ot.x+lt>ee+re)&&(ke="")}if(("wrap"==pe||"wrapbyword"==pe)&&(hi=this._getLabelCollection(ke,je,s,xe,ot),gs=ej.EjSvgRender.utils._getHighestLabel(s,n(this.svgObject).width(),hi,null),lt=ej.EjSvgRender.utils._measureText(gs,ee,ue).width),0==le||Q||(Pe.displayText="string"==typeof Pe.displayText&&-1!=Pe.displayText.indexOf("<br>")?ej.EjSvgRender.utils._getHighestLabel(s,M,Pe.displayText):Pe.displayText,this.labelRotation(s,R+W,V,ot,Pe,le)),s.labelIntersectAction||s.enableTrim){if(this.diff=ej.util.isNullOrUndefined(this.diff)?0:this.diff,"none"==pe&&!s.enableTrim){"string"==typeof ke&&-1!=ke.indexOf("<br>")?(gt=ke.split("<br>"),ot.y=bt?C?ot.y:ot.y-se*(gt.length-1):C?ot.y-se*(gt.length-1):ot.y,0!=le&&(ot.x=ot.x+lt/2,ot["text-anchor"]=Mt),this.svgRenderer.drawText(ot,gt,p?Tt:h)):(("start"==Mt||"end"==Mt)&&0!=le&&-360!=le&&360!=le&&(ot.x=ot.x+lt/2,ot["text-anchor"]=Mt),this.svgRenderer.drawText(ot,ke,p?Tt:h)),Oe[pt].region=this.calculateRegion(ke,ue,ot,Pe),this.model.xAxisLabelRegions.push(Oe[pt].region),bt?n(h).appendTo(this.gXaxisTickEle):n(h).appendTo(this.gXaxisEle);continue}if(!("wrap"!=pe&&"wrapbyword"!=pe||s.enableTrim)){for(gt=[],hi=[],"string"==typeof ke&&-1!=ke.indexOf("<br>")?gt=ke.split("<br>"):gt.push(ke),Dt="",xe=xe<=0?$e/Oe.length:xe,es=0;es<gt.length;es++)for(yt=this.rowscalculation(gt[es].toString(),je,s,xe,ot),gi=0;gi<yt.length;gi++)hi.push(yt[gi]),Dt+=yt[gi];ot.x=ot.x+W,-1!=Dt.indexOf("...")||(Dt=ke);var lt,Tt=ej.EjSvgRender.utils._getHighestLabel(s,M,hi,null),ne=ej.EjSvgRender.utils._measureText(Tt,ee,ue);ot.x=ot.x-(lt=ne.width)/2,ot.y=bt?C?ot.y:ot.y-se*(hi.length-1):C?ot.y-se*(hi.length-1):ot.y,0!=le&&-360!=le&&360!=le&&(ot["text-anchor"]=Mt,ot.x=ot.x+lt/2),this.svgRenderer.drawText(ot,hi,p?Tt:h),g=ej.EjSvgRender.utils._measureText(hi[0],null,ue),Oe[pt].region={bounds:{x:ot.x,y:ot.y,width:lt,height:(Be=g.height*hi.length)-Be/hi.length},labelText:Pe.Text,displayText:Dt},Oe[pt].displayText=Dt,this.model.xAxisLabelRegions.push(Oe[pt].region);continue}if("hide"==pe)for(ds=Oe.length-1,Ei=0;Ei<pt;Ei++){if(Ls=Oe[Ei],zs=0,Eo=Math.abs(Math.floor(ej.EjSvgRender.utils._getPointXY(Ls.Value,Le,s.isInversed)*s.width)),wt=ej.EjSvgRender.utils._measureText(Ls.displayText,je,s.font).width,Di=Eo+(s.isInversed?-wt/2:wt/2),Di=0==Ei?Di+this.diff:Di,Zi=0==wt?wt:lt,(pt!=ds||pt==ds&&lt<=wt)&&(Zi/=2),"shift"==dt&&pt==ds){var Qo=Oe[pt],ae=Math.abs(Math.floor(ej.EjSvgRender.utils._getPointXY(Qo.Value,Le,s.isInversed)*s.width)),de=ej.EjSvgRender.utils._measureText(Qo.displayText,je,s.font).width,fa=ae+(s.isInversed?de/2:-de/2);(s.isInversed?Di<=fa-this.diff:Di>=fa-this.diff)&&(ke=Pe.displayText="")}"hide"==pe&&(s.isInversed?Di<Et+Zi:Di>Et-Zi)&&(Pe.displayText=ke="")}else if("multiplerows"==pe&&!s.enableTrim){if(fi=[],"string"==typeof($i=Pe).Text&&-1!=$i.Text.indexOf("<br>")?fi=$i.Text.split("<br>"):fi.push($i.Text),Qi=fi.length,""==ke&&"hide"==s.edgeLabelPlacement)for(ao=0;ao<Qi;ao++)fi[ao]="";if(xo=ej.EjSvgRender.utils._getHighestLabel(s,M,fi),lt=0!=le?ej.EjSvgRender.utils.rotatedLabel(s,null,le,xo).width:ej.EjSvgRender.utils._measureText(xo,ee,ue).width,ds=s.visibleLabels.length-1,lt/=2,jt.length>0)for(Gs=jt,Fs=0;Fs<Gs.length&&!F;Fs++)for(ro=Gs[Fs],Bs=0;ro&&Bs<ro.length;Bs++)for(Ii=0;Ii<Qi;Ii++){if(zs=0,lt=0!=le?ej.EjSvgRender.utils.rotatedLabel(s,null,le,fi[Ii]).width:ej.EjSvgRender.utils._measureText(fi[Ii],ee,ue).width,Ls=ro[Bs],Eo=Math.abs(Math.floor(ej.EjSvgRender.utils._getPointXY(Ls.Value,Le,s.isInversed)*s.width)),0!=le?lt=ej.EjSvgRender.utils.rotatedLabel(s,null,le,Ls.Text).width:wt=ej.EjSvgRender.utils._measureText(Ls.Text,je,s.font).width,pt!=ds&&(lt=Math.floor(lt/2)),"category"==s.valueType&&0==Ls.Value&&"shift"==dt&&lt>=s.maximumLabelWidth&&(Eo=s.x),Di=Eo+(s.isInversed?-wt/2:wt/2),(this.edgeLabel||1==Gs.length)&&(Di+=this.diff),s.isInversed?Di<Et+lt:Di>Et-lt){if(C){ot.y=zs=bt?ot.y+se:ot.y-se,(A+=1)<Pt&&(A+=Pt,Pt=0),Fs+1==Gs.length&&(F=!0);break}ot.y=zs=bt?ot.y-se:ot.y+se,(A+=1)<Pt&&(A+=Pt,Pt=0),Fs+1==Gs.length&&(F=!0);break}if(Bs+1==ro.length){Ii==Qi-1?F=!0:(Pt++,F=!1);break}}if(null==zs)if(null==jt[0]&&(jt[0]=[]),1==Qi)jt[0].push($i);else for(Ii=0;Ii<Qi;Ii++)null==jt[Ii]&&(jt[Ii]=[]),jt[Ii].push({Text:fi[Ii],Value:$i.Value});else if(null==jt[A]&&(jt[A]=[]),1==Qi)jt[A].push($i);else for(Ii=0;Ii<Qi;Ii++)null==jt[A]&&(jt[A]=[]),jt[A].push({Text:fi[Ii],Value:$i.Value}),Ii!=Qi-1&&(A+=1);ot.y=bt?C?ot.y:ot.y-se*(fi.length-1):C?ot.y-se*(fi.length-1):ot.y,0!=le&&-360!=le&&360!=le&&(xo=ej.EjSvgRender.utils._getHighestLabel(s,M,fi),lt=0!=le?ej.EjSvgRender.utils.rotatedLabel(s,null,le,xo).width:ej.EjSvgRender.utils._measureText(xo,ee,ue).width,ot["text-anchor"]=Mt,ot.x=ot.x+lt/2),this.svgRenderer.drawText(ot,fi,h)}}this.edgeLabel||this.zoomed||s.zoomed||le||"rotate90"==L||"rotate45"==L||!(Et+s.x+lt/2>n(this.svgObject).width())||(n(ot).attr("x",n(this.svgObject).width()-2),n(ot).attr("text-anchor","end")),s.visibleLabels[pt].y=ot.y,this.model.enableCanvasRendering&&bt&&("rotate45"==s.labelIntersectAction||"rotate90"==s.labelIntersectAction)&&(ot.y=ot.y-lt),"trim"!=pe&&!s.enableTrim||"double"==s._valueType&&"string"!=typeof Pe.displayText?"multiplerows"!=pe&&("string"==typeof ke&&-1!=ke.indexOf("<br>")?(gt=ke.split("<br>"),ot.y=bt?C?ot.y:ot.y-se*(gt.length-1):C?ot.y-se*(gt.length-1):ot.y,(0!=le||"rotate45"==L||"rotate90"==L)&&(ot.x=ot.x+lt/2,ot["text-anchor"]=Mt),this.svgRenderer.drawText(ot,gt,p?Tt:h)):("start"==Mt&&0!=le&&-360!=le&&360!=le&&(ot.x=ot.x+lt/2,ot["text-anchor"]=Mt),this.svgRenderer.drawText(ot,ke,p?Tt:h))):(ot.y=bt?C?ot.y:ot.y-se*(mt.length-1):C?ot.y-se*(mt.length-1):ot.y,Pe.displayText=mt.length>0?mt.join(""):ke,-1!=Pe.displayText.indexOf("...")||(Pe.displayText=ke),0!=le&&"middle"!=Mt&&(ot.x=ot.x+lt/2,ot["text-anchor"]=Mt),this.svgRenderer.drawText(ot,mt.length>0?mt:ke,p?Tt:h)),pt!=Oe.length-1&&("trim"==pe||s.enableTrim)&&(ot.x=ot.x-lt/2),s.visibleLabels[pt].region=this.calculateRegion(ke,ue,ot,Pe,mt||gt,Tt,pe),this.model.xAxisLabelRegions.push(s.visibleLabels[pt].region)}}n(h).appendTo(this.gXaxisEle)},calculateRegion:function(a,s,h,t,o,l,p){var g;"trim"==p&&o.length>0?-1!=(g=o.join("")).indexOf("...")||(g=t.Text):g=l||a;var b=o&&o.length>0?o.length:1,C=b>1&&l?ej.EjSvgRender.utils._measureText(l,null,s):ej.EjSvgRender.utils._measureText(g,null,s);return{bounds:{x:h.x,y:h.y,width:C.width,height:C.height*b},trimText:g,labelText:t.Text}},rowscalculation:function(a,s,h,t,o){var V,N,U,J,Q,oe,ue,l=ej.EjSvgRender.utils._measureText,p=h.font,b=l(a,s,p).width,T=a.toString(),D=T.length,L=[],I=0,F=h.labelIntersectAction,A=T.split(" "),z=A.length;if("wrap"==F){if(b>t)for(N=1;N<=T.length;N++)(b=l(a=T.substring(0,N),s,p).width)>t&&(a=T.substring(0,N-1),L[I]=a,V=(T=T.slice(N-1,D)).split(" "),T=A.indexOf(V[0])>-1?T:"-"+T,U=l(a,s,p).width,I++,N=0);o&&(o.x="datetimeCategory"==h.valueType&&"betweenticks"==h.labelPlacement.toLowerCase()?h._gap:o.x),L[I]=a}else for(J=0,I=0;I<z;I++)if((oe=l(Q=A[I],s,p).width)<t&&b>t){for(;I<z;){if(!((oe=l(Q,s,p).width)+(ue=A[I+1]?l(A[I+1],s,p).width:0)<=t&&ue>0)){J=Math.max(J,oe);break}Q=Q.concat(" "+A[I+1]),I++}L.push(Q)}else{if(!(b>t)){L.push(a);break}U=l(Q=ej.EjSvgRender.utils._trimText(Q,t,p),s,p).width,J=Math.max(J,U),L.push(Q)}return L},labelRotation:function(a,s,h,t,o,l,p){var I,g=a._opposed,b=a.rotateOn.toLowerCase(),C=a.labelIntersectAction.toLowerCase(),T=0,F=o.displayText?o.displayText:o.Text,D=l>360?l-360:l<0?l+360:l,L="rotate("+D+","+s+","+h+")";if(n(t).attr("transform",L),n(t).attr("labelRotation",D),n(t).attr("labelPosition",a.labelPosition),"wrap"==C||"wrapbyword"==C){var V=this._getLabelCollection(F,this.model.m_AreaBounds.width,a,a.width/a.labels.length,t);F=ej.EjSvgRender.utils._getHighestLabel(a,n(this.svgObject).width(),V,null)}var A=this.svgRenderer.createText(t,F),z=Math.round(ej.EjSvgRender.utils._measureBounds(A,this).height),N=ej.EjSvgRender.utils._measureText(F,null,a.font).height;T=Math.ceil(ej.EjSvgRender.utils._measureBounds(A,this).height-ej.EjSvgRender.utils._measureText(F,null,a.font).height),T=a._LableMaxWidth.height-T-ej.EjSvgRender.utils._measureText(F,null,a.font).height,I="inside"!=a.labelPosition?g?T/2:-T/2:g?-T/2:T/2,"end"==b&&(I+=D<0&&D>-180||D>180?-z/2:(z-N)/2),"start"==b&&(I+=D<0&&D>-180||D>180?z/2:-(z-N)/2),L="rotate("+D+","+s+","+(h+(this.model.enableCanvasRendering&&a.opposedPosition?-I:I))+")",this.edgeLabel&&90==l&&(h=0==p?t.y+this.diff:t.y-this.diff),(270==D||90==D)&&(h=t.y-I),n(t).attr({transform:L,y:h+(this.model.enableCanvasRendering&&a.opposedPosition?-I:I)})},_drawYAxisLabels:function(a,s){var o,l,p,g,D,F,z,N,U,J,W,pe,M,fe,xe,B,Z,ae,Ce,ke,Ne,Le,Ae,$e,He,Be,Ye,dt,Ke,tt,ht,se,h=s.name.replace(/[^a-zA-Z0-9]/g,""),t=this.svgRenderer.createGroup({id:this.svgObject.id+"_YAxisLabels_"+a,cursor:"default"}),b=s._opposed,C="inside"==s.labelPosition,T="inside"==s.tickLinesPosition,R=this.model.enableCanvasRendering,V=s._isScroll&&!(null!=s.scrollbarSettings.pointsLength&&s.scrollbarSettings.pointsLength<s.maxPointLength),Q=s.font,oe=s.visibleRange,ue=s.axisLine.width,le=s._LableMaxWidth,ee=(se=this.model.m_AreaBounds).Width,re=s.maximumLabelWidth,H=this.model.scrollerSize,te=s.labelIntersectAction.toLowerCase(),de=s.visibleLabels,_e=oe,Se=s.isInversed,be=s.height,je=s.labelRotation,Oe=s.alignment.toLowerCase();for(1!=a&&(C&&T||C&&!T&&s.x!=se.Width+se.X&&s.x!=se.X)?s.x=b?Math.floor(C&&T?s.x:s.x+le.width+this.model.elementSpacing):s.showNextToAxisLine?Math.floor(s.x):Math.floor(s.x-le.width-this.model.elementSpacing):1==a||s.x==se.Width+se.X&&s.x!=se.X||C||!T?(s._x=Math.floor(s.x),s.x=s.showNextToAxisLine?Math.floor(s.x):Math.floor(b?se.X+se.Width:se.X)):(s._x=Math.floor(s.x),s.x=b?Math.floor(s.x+s.majorTickLines.size):s.showNextToAxisLine?Math.floor(s.x-s.majorTickLines.size):Math.floor(se.X)),He=0;He<de.length;He++)if(ae=de[He],ej.EjSvgRender.utils._inside(ae.Value,_e)){if(F=Math.abs(ej.EjSvgRender.utils._getPointXY(ae.Value,_e,Se)*be),U=ej.EjSvgRender.utils._measureText(ae.Text,se.Height,Q).height,Ke=ae.displayText=ae.Text,Z=ej.EjSvgRender.utils._measureText(Ke,ee,Q).width,C&&T?(W=b?s.x-s.majorTickLines.size-ue/2-5:s.x+ue/2+5+s.majorTickLines.size,pe=b?"end":"start"):C&&!T?(W=b?s.x-ue/2-5:s.x+ue/2+5,pe=b?"end":"start"):T&&!C?(W=b?ue/2+s.x+5:s.x-ue/2-5,pe=b?"start":"end",W-=V?b?-H:H:0):(W=b?s.majorTickLines.size+ue/2+s.x+5:s.x-ue/2-5-s.majorTickLines.size,pe=b?"start":"end",W-=V?b?-H:H:0),Ae=s.majorGridLines.width>s.majorTickLines.width?s.majorGridLines.width:s.majorTickLines.width,B={id:this.svgObject.id+"_"+h+"_YLabel_"+He,x:W,y:$e="far"==Oe?-F+(s.y+be)-Ae-3:"near"==Oe?-F+(s.y+be)+U/2+Ae+3:-F+(s.y+be)+U/4,fill:Q.color,"font-size":Q.size,"font-family":Q.fontFamily,"font-style":Q.fontStyle,"font-weight":Q.fontWeight,opacity:Q.opacity,"text-anchor":ej.util.isNullOrUndefined(je)||0==je?pe:"middle"},Be=[],"string"==typeof(Ke=ae.displayText?ae.displayText:ae.Text)&&-1!=Ke.indexOf("<br>")?(Be=Ke.split("<br>"),Ye=Ke=ej.EjSvgRender.utils._getHighestLabel(s,se.Height,Be),Z=ej.EjSvgRender.utils._measureText(Ke,ee,Q).width):Be.push(Ke),s.edgeLabelPlacement)switch(z=s.edgeLabelPlacement.toLowerCase(),N=de.length-1,z){case"shift":0==He?B.y>s.y+be&&(B.y=$e=B.y-(M=B.y-(s.y+be)),this.diff=M,this.edgeLabel=!0):He==N&&B.y-U/2<s.y&&(B.y=$e=B.y+(M=s.y-(B.y-U/2)),this.diff=M,this.edgeLabel=!0);break;case"hide":(0==He&&B.y>s.y+be||He==N&&B.y-U/2<se.Y)&&(Ke=ae.Text="",1==Be.length&&(Be[0]=Ke))}if(ej.util.isNullOrUndefined(je)||0==je||this.svgRenderer.vmlNamespace||(Ke=ae.displayText?ae.displayText:ae.Text,Ke=Ye||Ke,xe="rotate("+(fe=je>360?je-360:je<-360?je+360:je)+","+(W=C?b?W-Z/2:W+Z/2:b?W+Z/2:W-Z/2)+","+$e+")",n(B).attr("transform",xe),n(B).attr("labelRotation",fe),l=this.svgRenderer.createText(B,Ke),p=Math.ceil(ej.EjSvgRender.utils._measureBounds(l,this).width-ej.EjSvgRender.utils._measureText(Ke,null,Q).width),xe="rotate("+fe+","+(W+(J=C?b?-p/2:p/2:b?p/2:-p/2))+","+$e+")",n(B).attr({transform:xe,x:W+J})),s.labelIntersectAction||s.enableTrim){if("none"==te&&!s.enableTrim){this.svgRenderer.drawText(B,Be.length>0?Be:ae.Text,R&&Ye?Ye:t),o=ej.EjSvgRender.utils._measureText(Ke,null,Q),g={bounds:D={x:s.opposedPosition?B.x:B.x-o.width,y:B.y,width:o.width,height:o.height},trimText:Ke,labelText:ae.Text},s.visibleLabels[He].region={bounds:D,trimText:Ke,labelText:ae.Text},this.model.yAxisLabelRegions.push(g);continue}if(s.enableTrim)for(dt=0;dt<Be.length;dt++)if(Ke=Be[dt],(Z=ej.EjSvgRender.utils._measureText(Ke,null,Q).width)>re&&""!=Ke){for(tt=1;tt<Ke.toString().length;tt++)if(Ke=ae.displayText.toString().substring(0,tt-1)+"...",(Z=ej.EjSvgRender.utils._measureText(Ke,ee,Q).width)>=re){Ke=Ke.toString().substring(0,tt-1)+"...";break}ae.displayText=Be[dt]=Ke}for(ht=0;ht<He;ht++)Ce=de[ht],ke=Math.abs(ej.EjSvgRender.utils._getPointXY(Ce.Value,oe,Se)*be),Ne=ej.EjSvgRender.utils._measureText(Ce.Text,se.Height,Q).height,Le=-1*ke+(s.y+be)+Ne/4,Le+=Se?Ne/2:-Ne/2,this.edgeLabel&&(Le=0==ht?Le-Ne/4:Le),"hide"==te&&""!=Ce.Text.toString()&&(Se?Le>B.y-U/4:Le<B.y+U/4)?Ke=ae.Text="":"multiplerows"==te&&(Se?Le>B.y-U/4:Le<B.y+U/4)&&Ce.x==B.x&&(B.x=Ce.x+(b?C?-le.maxWidth-5:le.maxWidth+5:C?le.maxWidth+5:-le.maxWidth-5))}de[He].x=B.x,this.svgRenderer.drawText(B,Be.length>0?Be:Ke,t),o=ej.EjSvgRender.utils._measureText(Ke,null,Q),g={bounds:D={x:b?B.x:B.x-o.width,y:B.y,width:o.width,height:o.height},trimText:Ke,labelText:ae.Text},de[He].region={bounds:D,trimText:Ke,labelText:ae.Text},this.model.yAxisLabelRegions.push(g)}n(t).appendTo(this.gYaxisEle)},trimText:function(a,s,h){return s--,(a=a.substring(0,s-h.length))+h},_drawXTitle:function(a,s){var h,t,l;if(""!=s.title.text&&s.title.text&&s.title.visible){var o,he,se,b=this.svgRenderer.createGroup({id:this.svgObject.id+"_XAxis_Title_"+a,cursor:"default"}),T=ej.EjSvgRender.utils._measureText(s.title.text,s.width,s.title.font),D=T.height/2,L=s._opposed,I=s.title.text,R=s._LableMaxWidth,V="middle",F=this.model.elementSpacing,A=s.title.enableTrim,z=s._isScroll||this.model.zooming.enableScrollbar&&s.scrollbarSettings.visible&&(s.zoomFactor<1||s.zoomPosition>0),N=s.title.maximumTitleWidth,U=s.title.position.toLowerCase(),J=s.title.alignment.toLowerCase(),Q=s.title.isReversed,oe=s.tickLinesPosition.toLowerCase(),ue=s.labelPosition.toLowerCase(),le=this.model.m_AreaBounds,ne=s.title.offset,ee=this.model.scrollerSize;if(A&&(ej.util.isNullOrUndefined(N)||N>0||isNaN(N)))for(h=N||s.width-2*F;T.width>h;)if(I=this.trimText(I,I.length,"..."),T=ej.EjSvgRender.utils._measureText(I,s.width,s.title.font),"..."==I){I="";break}if(t=n.extend({},ej.EjSvgRender.commonChartEventArgs),o=F+R.height+D+s._multiLevelLabelHeight+s.majorTickLines.size+s.axisLine.width,"inside"!=oe||"inside"!=ue||0!=a&&s.y!=le.Height+le.Y&&s.y!=le.Y?0!=a&&s.y!=le.Width+le.X&&s.y!=le.X||"inside"==oe||"inside"!=ue?0!=a&&s.y!=le.Width+le.X&&s.y!=le.X||"inside"!=oe||"inside"==ue?"inside"!=oe&&"inside"!=ue||1!=a?o="inside"==U?F:F+R.height+D+s.majorTickLines.size+s.axisLine.width+s._multiLevelLabelHeight:"inside"==oe||"inside"!=ue||s.showNextToAxisLine||(o="inside"==U?F+R.height+D+s._multiLevelLabelHeight+s.axisLine.width:F+D+s.majorTickLines.size+s.axisLine.width+F+F):o="inside"==U?F+D+s.majorTickLines.size+s.axisLine.width:F+R.height+D+s._multiLevelLabelHeight+s.axisLine.width:o="inside"==U?F+R.height+D+s._multiLevelLabelHeight+s.axisLine.width:F+s.majorTickLines.size+s.axisLine.width:o="inside"==U?F+R.height+D+s._multiLevelLabelHeight+s.majorTickLines.size+s.axisLine.width:F+D+s.axisLine.width,"far"==J?(he=Q?s.x+ne:s.x+s.width+ne,V=Q?"start":"end"):"near"==J?(he=Q?s.x+s.width+ne:s.x+ne,V=Q?"end":"start"):he=s.x+s.width/2+ne,t.data={title:s.title.text,location:{x:he,y:o},axes:s},this._trigger("axesTitleRendering",t),l={id:this.svgObject.id+"_XAxisTitle_"+a,x:t.data.location.x,y:se="inside"==U?(L?"inside"==oe&&"outside"==ue?s.y+t.data.location.y-(z?ee:0)-s.majorTickLines.size:s.y+t.data.location.y-(z?ee:0):"outside"==oe&&"inside"==ue?(z?ee:0)+(s.y-t.data.location.y)+s.majorTickLines.size:(z?ee:0)+(s.y-t.data.location.y))+T.height/3.5:(L?"inside"==oe&&"outside"==ue?s.y-t.data.location.y-(z?ee:0)-s.majorTickLines.size:s.y-t.data.location.y-(z?ee:0):"outside"==oe&&"inside"==ue?(z?ee:0)+(t.data.location.y+s.y)-s.majorTickLines.size:(z?ee:0)+(t.data.location.y+s.y))+T.height/3.5,fill:s.title.font.color,"font-size":s.title.font.size,"font-family":s.title.font.fontFamily,"font-style":s.title.font.fontStyle,"font-weight":s.title.font.fontWeight,opacity:s.title.font.opacity,"text-anchor":V},this.model.enableCanvasRendering){var re=jQuery.uaMatch(navigator.userAgent),W=!!navigator.userAgent.match(/Trident\/7\./),pe=re.browser.toLowerCase();"msie"==pe||W||(l.y=L?l.y+D/2+1:l.y+D/2+("mozilla"==pe?1:-2))}n(this.svgObject).find("#"+this.svgObject.id+"_XAxisTitle_"+a).length>0?n(this.svgObject).find("#"+this.svgObject.id+"_XAxisTitle_"+a).attr(l):A?A&&(ej.util.isNullOrUndefined(N)||N>0||isNaN(N))&&(this.model.xAxisTitleRegion.push({Bounds:{X:"middle"==V?l.x-T.width/2:"end"==V?l.x-T.width:l.x,Y:l.y,Width:T.width,Height:T.height},trimText:I,labelText:s.title.text}),this.svgRenderer.drawText(l,I,b)):this.svgRenderer.drawText(l,t.data.title,b),this.model.enableCanvasRendering||this.svgRenderer.drawRect({id:this.svgObject.id+"_XAxisTitleBorder_"+a,x:t.data.location.x-("start"==V?0:"end"==V?T.width:T.width/2)-F,y:se-T.height+T.height/4,width:T.width+2*F,height:T.height,fill:"transparent",class:"e-xaxistitleborder"},b),n(b).appendTo(this.gXaxisEle)}},_drawYTitle:function(a,s){var h,t,o,l,p;if(""!=s.title.text&&s.title.text&&s.title.visible){var N,ne,D=s._opposed,L=this.model.elementSpacing,I="middle",R=this.model.series.isTransposed,V=s.majorTickLines.size,F=s.title.position.toLowerCase(),A=s._LableMaxWidth,z=this.model.m_AreaBounds,U=s.axisLine,J=s.tickLinesPosition.toLowerCase(),Q=s.labelPosition.toLowerCase(),oe=s.title.text,ue=s.title.enableTrim,he=s._isScroll,se=s.title.maximumTitleWidth,ee=s.title.offset,re=s.title.alignment.toLowerCase(),W=this.svgRenderer.createGroup({id:this.svgObject.id+"_YAxisTitleGroup_"+a,cursor:"default"}),pe=ej.EjSvgRender.utils._measureText(s.title.text,s.height,s.title.font);if("inside"!=J||"inside"!=Q||1!=a&&s.x!=z.Width+z.X&&s.x!=z.X?1!=a&&s.x!=z.Width+z.X&&s.x!=z.X||"inside"==J||"inside"!=Q?1!=a&&s.x!=z.Width+z.X&&s.x!=z.X||"inside"!=J||"inside"==Q?("inside"!=s.tickLinesPosition&&"inside"!=s.labelPosition||1!=a)&&(N="inside"==F?D?s.x-(L+U.width+V):s.x+(L+(s.showNextToAxisLine?0:A.width)+U.width+V):D?s.x+(3*L+s._multiLevelLabelHeight+A.width+V+U.width):s.x-(3*L+A.width+s._multiLevelLabelHeight+V+U.width)):N="inside"==F?D?s.x-(3*L+V+U.width):s.x+(3*L+V+U.width)+(s.showNextToAxisLine?"inside"==Q?-s._multiLevelLabelHeight:s._multiLevelLabelHeight:-L):D?s.x+(3*L+s._multiLevelLabelHeight+A.width+U.width):s.x-(3*L+A.width+U.width+s._multiLevelLabelHeight):N="inside"==F?D?s.x-(3*L+A.width+s._multiLevelLabelHeight+U.width):s.x+(3*L+A.width+s._multiLevelLabelHeight+U.width):D?s.x+(3*L+V+U.width):s.x-(3*L+V+U.width):N="inside"==F?D?s.x-(3*L+A.width+s._multiLevelLabelHeight+V+U.width):s.x+(3*L+A.width+s._multiLevelLabelHeight+V+U.width):D?s.x+(3*L+U.width-5):s.x-(3*L+U.width),h=ej.EjSvgRender.utils._measureText(oe,s.height,s.title.font),ue&&(ej.util.isNullOrUndefined(se)||se>0||isNaN(se)))for(t=se||s.height-2*L;h.width>t;)if(oe=this.trimText(oe,oe.length,"..."),h=ej.EjSvgRender.utils._measureText(oe,s.height,s.title.font),"..."==oe){oe="";break}if(N=s.opposedPosition?N:N-(he?this.model.scrollerSize:0),8===document.documentMode&&(N=D?N+h.width/2-L:N-h.width/2+L),(o=n.extend({},ej.EjSvgRender.commonChartEventArgs)).data={title:s.title.text,location:{x:pe.width/2,y:0},axes:s},this._trigger("axesTitleRendering",o),ne=o.data.location.y+(s.y+s.height)+s.height/-2,"near"==re?(ne=s.y+s.height-ee,I=D||R?"end":"start"):"far"==re?(ne=s.y-ee,I=D||R?"start":"end"):"center"==re&&(ne=s.y+s.height/2-ee),p={id:this.svgObject.id+"_YAxisTitle_"+a,x:N,y:ne,fill:s.title.font.color,labelRotation:l=D?90:-90,transform:"rotate("+l+","+N+","+ne+")","font-size":s.title.font.size,"font-family":s.title.font.fontFamily,"font-style":s.title.font.fontStyle,"font-weight":s.title.font.fontWeight,opacity:s.title.font.opacity,"text-anchor":I,"dominant-baseline":"middle"},this.model.enableCanvasRendering){var M=jQuery.uaMatch(navigator.userAgent),fe=!!navigator.userAgent.match(/Trident\/7\./),xe=M.browser.toLowerCase();"msie"==xe||fe||(p.x=D?p.x-pe.height/4+1:p.x+pe.height/4+("mozilla"==xe?1:-2))}n(this.svgObject).find("#"+this.svgObject.id+"_YAxisTitle_"+a).length>0?n(this.svgObject).find("#"+this.svgObject.id+"_YAxisTitle_"+a).attr(p):ue?ue&&(ej.util.isNullOrUndefined(se)||se>0||isNaN(se))&&(this.model.yAxisTitleRegion.push({Bounds:this.svgRenderer.vmlNamespace?{X:p.x-h.width/2,Y:p.y+h.height/2,Width:h.width,Height:h.height}:{X:p.x-h.height/2,Y:p.y+h.width/2,Width:h.height/2,Height:h.width},trimText:oe,labelText:s.title.text}),this.svgRenderer.drawText(p,oe,W)):this.svgRenderer.drawText(p,o.data.title,W),this.model.enableCanvasRendering||this.svgRenderer.drawRect({id:this.svgObject.id+"_YAxisTitleBorder_"+a,x:p.x-h.height+h.height/2,y:p.y-("start"==I?h.width:"end"==I?0:h.width/2)-L,width:h.height,height:h.width+2*L,fill:"transparent",class:"e-yaxistitleborder"},W),n(W).appendTo(this.gYaxisEle)}}},ej.EjStripline.prototype={_drawStripline:function(a,s,h,t){var l,p,g,b,C,T,L,o=ej.util.isNullOrUndefined(a.valueType)?a._valueType.toLowerCase():a.valueType.toLowerCase();"string"==typeof s.start&&"string"==typeof s.end&&(s.start=-1!=s.start.indexOf("/Date(")?new Date(parseInt(s.start.substr(6))):s.start,s.end=-1!=s.end.indexOf("/Date(")?new Date(parseInt(s.end.substr(6))):s.end),"datetimecategory"==o?(l=null!=s.start&&"number"!=typeof s.start?a.labels.indexOf(s.start.getTime()):s.start,p=null!=s.end&&"number"!=typeof s.end?a.labels.indexOf(s.end.getTime()):s.end):(l=s.start<a.visibleRange.min?a.visibleRange.min:s.start,p=s.end>a.visibleRange.max?a.visibleRange.max:s.end);var N,I=0,R=s.isRepeat,V=s.repeatEvery,F=s.repeatUntil,A=s.borderWidth,z=s.width;if(s.visible)if(this.model._stripeline=!0,g=s.startFromAxis,b="over"==s.zIndex?this.gStriplineOver:this.gStriplineBehind,b=ej.util.isNullOrUndefined(b)?"":b,C=!0,T=0,"horizontal"==a.orientation.toLowerCase())if(I=-90,ej.util.isNullOrUndefined(l)&&(ej.util.isNullOrUndefined(p)||ej.util.isNullOrUndefined(z)))C=!1;else if(l=g?ej.util.isNullOrUndefined(s.offset)?a.visibleRange.min:a.visibleRange.min+s.offset:"date"==jQuery.type(l)?l.getTime():l,ej.util.isNullOrUndefined(p)||"date"!=jQuery.type(p)||(p=p.getTime()),R&&!ej.util.isNullOrUndefined(V)&&(z||A))for(L=ej.util.isNullOrUndefined(F)?p||a.visibleRange.max:"datetime"==a._valueType?F.getTime():F;l<L;)p="datetime"===a._valueType?this._getDatetimeValue(p,l,z,a,z?null:p,s,o):l+z,N=this._getHorizontalValue(l,p,a,z,s,g,o),C&&this._drawAxisStriplines(N.x,N.y,N.height,N.width,N.textX,N.textY,I,h,T,t,b,s,a),T++,l="datetime"===a._valueType?this._getDatetimeValue(p,l,V,a,null,s,o):l+V;else N=this._getHorizontalValue(l,p,a,z,s,g,o),C&&this._drawAxisStriplines(N.x,N.y,N.height,N.width,N.textX,N.textY,I,h,T,t,b,s,a);else if(ej.util.isNullOrUndefined(l)&&(ej.util.isNullOrUndefined(p)||ej.util.isNullOrUndefined(z)))C=!1;else if(l=g?ej.util.isNullOrUndefined(s.offset)?a.visibleRange.min:a.visibleRange.min+s.offset:"date"==jQuery.type(l)?l.getTime():l,ej.util.isNullOrUndefined(p)||"date"!=jQuery.type(p)||(p=p.getTime()),R&&!ej.util.isNullOrUndefined(V)&&(z||A))for(L=ej.util.isNullOrUndefined(F)?p||a.visibleRange.max:F;l<L;)N=this._getVerticalValue(l,p=l+z,a,z,s,g),C&&this._drawAxisStriplines(N.x,N.y,N.height,N.width,N.textX,N.textY,I,h,T,t,b,s,a),T++,l+=V;else N=this._getVerticalValue(l,p,a,z,s,g),C&&this._drawAxisStriplines(N.x,N.y,N.height,N.width,N.textX,N.textY,I,h,T,t,b,s,a)},_getHorizontalValue:function(a,s,h,t,o,l,p){var g=(l?(a-h.visibleRange.min)/h.visibleRange.delta:ej.EjSvgRender.utils._getPointXY(a,h.visibleRange,h.isInversed))*h.width+h.x,b=ej.EjSvgRender.utils._getPointXY(s,h.visibleRange,h.isInversed)*h.width+h.x,C=ej.EjSvgRender.utils._getPointXY("datetime"===p?this._getDatetimeValue(s,a,t,h,t?null:s,o,p):a+(ej.util.isNullOrUndefined(o.width)?0:o.width),h.visibleRange,h.isInversed)*h.width+h.x,T=(h.isInversed?b<C:b>C)?Math.abs(g-b):Math.abs(g-C);return this._calculateHorizontalStripline(T,g,h,o)},_getVerticalValue:function(a,s,h,t,o,l){var p=h.y+h.height-(l?(a-h.visibleRange.min)/h.visibleRange.delta:ej.EjSvgRender.utils._getPointXY(a,h.visibleRange,h.isInversed))*h.height,g=h.y+h.height-ej.EjSvgRender.utils._getPointXY(ej.util.isNullOrUndefined(s)?0:s,h.visibleRange,h.isInversed)*h.height,b=h.y+h.height-ej.EjSvgRender.utils._getPointXY(a+(ej.util.isNullOrUndefined(t)?0:t),h.visibleRange,h.isInversed)*h.height,C=(h.isInversed?g>b:g<b)?Math.abs(p-g):Math.abs(p-b);return this._calculateVerticalStripline(C,p,h,o)},_calculateHorizontalStripline:function(a,s,h,t){var l=this.chart.model.m_AreaBounds.Height,p=a||t.borderWidth||0,g=h.isInversed?s-a:s,b=this.chart.model.m_AreaBounds.Y,C=ej.EjSvgRender.utils._measureText(t.text,null,t.font).height;return"middletop"==t.textAlignment?(textX=g+C,textY=Math.abs(b+l/2)):"middlecenter"==t.textAlignment?(textX=Math.floor(g+p/2)+C/3,textY=Math.abs(b+l/2)):"middlebottom"==t.textAlignment&&(textX=g+p-C,textY=Math.abs(b+l/2)),{x:g,y:b,height:l,width:p,textX,textY}},_calculateVerticalStripline:function(a,s,h,t){var C,T,o=a,l=this.chart.model.m_AreaBounds.X,p=this.chart.model.m_AreaBounds.Width,g=s+(h.isInversed?0:-a),b=ej.EjSvgRender.utils._measureText(t.text,p,t.font).height;return"middletop"==t.textAlignment?(C=l+p/2,T=g+b):"middlecenter"==t.textAlignment?(C=l+p/2,T=Math.abs(g+o/2)+b/3):"middlebottom"==t.textAlignment&&(C=l+p/2,T=g+o-b),{x:l,y:g,height:o,width:p,textX:C,textY:T}},_getDatetimeValue:function(a,s,h,t,o,l,p){var C,g=l.sizeType.toLowerCase(),b=null===o;if("datetime"!==p)return"pixel"===l.sizeType?s:b?s+h:a;switch(C=new Date(s),"auto"===g&&(g=t._intervalType.toLowerCase()),g){case"years":return b?new Date(C.setFullYear(C.getFullYear()+h)):a;case"months":return b?new Date(C.setMonth(C.getMonth()+h)):a;case"days":return b?new Date(C.setDate(C.getDate()+h)):a;case"hours":return b?new Date(C.setHours(C.getHours()+h)):a;case"minutes":return b?new Date(C.setMinutes(C.getMinutes()+h)):a;case"seconds":return b?new Date(C.setSeconds(C.getSeconds()+h)):a;default:return s}},_drawAxisStriplines:function(a,s,h,t,o,l,p,g,b,C,T,D,L){var R,V;if(ej.util.isNullOrUndefined(D.imageUrl)){var F={id:T.id+"_striplineRect_"+g+"_"+C+"_"+b,x:a,y:s,width:t,height:h,fill:D.color,opacity:D.opacity,"stroke-width":D.borderWidth,stroke:0==D.borderWidth?"transparent":D.borderColor},A={id:T.id+"_striplineRectText_"+g+"_"+C+"_"+b,x:o,y:l,fill:D.font.color,transform:"rotate("+p+","+o+","+l+")",labelRotation:p,"font-size":D.font.size,"font-family":D.font.fontFamily,"font-style":D.font.fontStyle,"font-weight":D.font.fontWeight,opacity:D.font.opacity,"text-anchor":"middle"};ej.EjSvgRender.utils.AddRegion(this.chart,{X:a,Y:s,Width:t,Height:h},"over"==D.zIndex),this.chart.model.enableCanvasRendering?(R=this.chart.svgObject.getContext("2d"),V="horizontal"==L.orientation.toLowerCase()?{X:L.x,Y:s,Width:L.width,Height:this.chart.model.m_AreaBounds.Height}:{X:a,Y:L.y,Width:this.chart.model.m_AreaBounds.Width,Height:L.height},R.save(),R.beginPath(),R.rect(V.X,V.Y,V.Width,V.Height),R.clip(),this.svgRenderer.drawRect(F,T),this.svgRenderer.drawText(A,D.text,T),R.closePath(),R.restore()):(this.svgRenderer.drawRect(F,T),this.svgRenderer.drawText(A,D.text,T))}else this.svgRenderer.drawImage({height:h,width:t,href:D.imageUrl,x:a,y:s,id:T.id+"_backImage",visibility:"visible",preserveAspectRatio:"none"},T)}}}(jQuery),ej.EjLegendRender=function(n){this.chartObj=n},function(n){ej.EjLegendRender.prototype={sumofArray:function(c){for(var r=0,u=c.length,_=0;_<u;_++)r+=c[_];return r},legendRectSpace:function(c,r){var u=c.Width-10,_=c.Height-10,w=!1;return Math.ceil(r.Width)>=u&&Math.ceil(r.Height)>=_&&(w=!0),w},drawLegendTitle:function(){var c=this.chartObj,r=c.model,u=r.legend,_=u.isReversed,v=r.elementSpacing,a=u.title,s=ej.EjSvgRender.utils._measureText,h=a.font,t=r.LegendBounds.Width,o=s(a.text,null,h),l=o.width,p=o.height,g=a.textAlignment.toLowerCase(),b=0,C=v+p/2;switch(g){case"far":b=_?b:t-l-b;break;case"center":b=t/2-l/2}b<0&&(b=0,t=l),t<l+b&&(t=l+b),c.svgRenderer.drawText({id:c.svgObject.id+"_LegendTitleText",x:_&&"near"==g?t-l-b:b,y:C,fill:h.color,"font-size":h.size,"font-style":h.fontStyle,"font-family":h.fontFamily,"font-weight":h.fontWeight,"text-anchor":"start",direction:"ltr",lgndCtx:!0},a.text,this.chartObj.gLegendEle)},drawLegendItem:function(c,r,u){var V,J,Q,oe,le,ne,ee,re,M,fe,xe,O,B,H,Z,te,ae,de,_e,Ce,_=this.chartObj,w=_.model,v=w.legend,a=v.isReversed,s=v.textOverflow.toLowerCase(),h=v.textWidth,t=w.LegendBounds,o=w.elementSpacing,l=v.border.width,p=ej.EjSvgRender.utils._measureText,g=ej.EjSvgRender,b=_.svgRenderer,C=c.Font,T=w.symbolShape,D=w.enableCanvasRendering,L=v.itemStyle,I=c.PointIndex,R=c.SeriesIndex,F=w.series[R],A=_.svgObject,z=c.LegendStyle,he=(jQuery.uaMatch(navigator.userAgent),navigator.userAgent.match(/Trident\/7\./),F.type.toLowerCase()),se=F.drawType;if(fe=p(c.Text,t.Width,C).height,"object"==typeof c.Text&&a){for(B=0,ae=0;ae<c.Text.length;ae++)H=c.Text[ae],B<(Z=ej.EjSvgRender.utils._measureText(H,t.Width,C).width)&&(B=Z,te=H);xe=p(te,null,C).width}else xe=p(c.Text,null,C).width;for(ne in O={startX:a?xe+r+o:r+L.width/2,startY:u+(fe>L.height?fe:L.height)/2},T)if(c.Shape.toLowerCase()==ne.toLowerCase()){ee="seriestype"==ne.toLowerCase()?"SeriesType":ne;break}if("SeriesType"==ee&&(("radar"==he||"polar"==he)&&(ee="rangecolumn"==(re="scatter"==se.toLowerCase()?F.marker.shape:re=se).toLowerCase()?"RangeColumn":re.capitalizeFirstString()),"scatter"==he&&(ee=(re=F.marker.shape).capitalizeFirstString()),c.drawType&&(ee="SeriesType"),_.vmlRendering&&("pie"==he||"doughnut"==he||"pieofpie"==he)&&(ee="Circle")),"None"==ee&&(ee="pie"==he||"doughnut"==he||"pieofpie"==he?"Circle":"Rectangle"),V=ej.util.isNullOrUndefined(I)?R:I,_.gLegendItemEle=b.createGroup({id:A.id+"_Legend"+V,cursor:"pointer"}),c.CommonEventArgs.data.gLegendItemEle=_.gLegendItemEle,(oe=n.extend(!0,{},c.CommonEventArgs.data)).model=_.model,!c.CommonEventArgs.cancel){if(le=g.chartSymbol["_draw"+ee](O,oe.style,oe,_.gLegendItemEle),J=z.Color&&"gray"!==z.Color.toString().toLowerCase()&&D||z.Color&&"gray"!==z.Color.toLowerCase()?C.color:"gray",M=(Q=c).Text.length,("seriestype"==v.shape||"seriesType"==v.shape)&&(r=a?r-o/2:r+o/2),de={id:this.chartObj.svgObject.id+"_LegendItemText"+V,x:a?r:L.width+r+o/2,y:O.startY,fill:J,"font-size":C.size,"font-style":C.fontStyle,"font-family":C.fontFamily,"font-weight":C.fontWeight,"text-anchor":"start",direction:"ltr"},D&&(de.lgndCtx=!0),de.y=O.startY+fe/4,"wrap"==s||"wrapandtrim"==s)for(de.y=de.y-fe,_e=0;_e<M;_e++)de.y=de.y+fe,b.drawText(de,Q.Text[_e],_.gLegendItemEle),"wrapandtrim"==s&&w.legendTextRegion.push({bounds:{x:de.x+t.X,y:de.y+t.Y,height:fe*M,width:h},trimText:Q.Text,labelText:Q.displayText});else"trim"==s&&w.legendTextRegion.push({bounds:{x:de.x+t.X,y:de.y+t.Y,height:fe+o,width:h},trimText:Q.Text,labelText:Q.displayText}),b.drawText(de,Q.Text,_.gLegendItemEle);b.append(_.gLegendItemEle,_.gLegendEle),Ce={LegendBound:{X:t.X+l,Y:t.Y+l},ItemBound:{X:r=le?a?O.startX-xe-o:le:r,Y:u,_Width:c.Bounds._Width,Width:c.Bounds.Width,Height:c.Bounds.Height}},O.startX=a?Math.abs(O.startX-xe-o/2):O.startX,w.legendRegion.push({LegendItem:c,Location:O,SymbolShape:ee,Style:c.CommonEventArgs.data.style,Bounds:Ce})}},drawLegend:function(c){var ee,re,W,pe,Le,Fe,$e,He,Be,Ye,dt,r=this.chartObj,u=r.model,_=u.legend,w=_.isReversed,v=u.LegendViewerBounds,a=u.LegendBounds,s=u.LegendActualBounds,h=u.AreaType,t=_.position.toLowerCase(),o=_.alignment.toLowerCase(),l=u.elementSpacing,b=(Le=u.title).font.size,je=Le.subTitle,C=Le.subTitle.font.size,T=_.title,D=_.border.width,L=ej.EjSvgRender.utils._measureText,I=u.margin,R=u.border.width,V=u.legendCollection,F=V.length,A=u.svgWidth-2*R,z=u.svgHeight-2*R,N=_.itemPadding>0?_.itemPadding:0,U=10,J=10,Q=""!=je.text&&je.visible&&Le.visible?L(je.text,A-I.left-I.right,je.font).height+l:0,oe=u._titleLocation?u._titleLocation.Y:0+Q,ue=L(T.text,null,T.font),le=ue.height,ne=ue.width,he=u._rowDefinitions,se=0,xe=u._columnDefinitions,O=this.sumofArray(he.farSizes),B=this.sumofArray(he.nearSizes),Z=(this.sumofArray(xe.farSizes),this.sumofArray(xe.nearSizes)),te=!1,ae=u.m_AreaBounds,de=_.enableScrollbar,_e=n(r.legendContainer),Se=n("#ScrollerParent_vertical_"+r._id).length>0?18:0,be=n("#ScrollerParent_horizontal_"+r._id).length>0?18:0,Ce=n(r.legendSvgContainer),Ne=10,Ae=(je=u.title.subTitle,(Le=u.title).visible?1.2*parseInt(b):0),Oe=je.visible?1.2*parseInt(C):0;if(Ae=u.titleWrapTextCollection&&u.titleWrapTextCollection.length>1?u._titleLocation._height*u.titleWrapTextCollection.length-1:Ae,Oe=u.subTitleWrapTextCollection&&u.subTitleWrapTextCollection.length>1?u._subTitleLocation.size.height:Oe,u.legend.border&&!je.text&&(Oe=0,Ne=5),"right"==t||"left"==t?U=10:J=de?z>200?10:z>100?5:0:10,v.Height+=le,a.Height+=le,_.visible){if("custom"!=t){if("cartesianaxes"==h)switch(t){case"bottom":a.Y=ae.Y+ae.Height+Z-l/2+be;break;case"top":a.Y=0==oe?R+l:Ae+10+Oe+Ne+l;break;case"right":a.X=ae.X+ae.Width+O+2*l;break;case"left":a.X=ae.X-B-s.Width-l/2-2*D-Se}else switch(t){case"bottom":a.Y=z-(s.Height+D)-l;break;case"top":a.Y=0==oe?R+l:Ae+10+Oe+Ne+l;break;case"right":a.X=A-s.Width;break;case"left":a.X=R}if(!u.enable3D&&"cartesianaxes"==h&&null!=c._crossAxisOverlap)for(Fe=0,$e=u._axes.length;Fe<$e;Fe++){var Ke=u._axes[Fe],tt=c.axes[Ke.name]._bounds,ht="horizontal"===Ke.orientation.toLowerCase();"top"==t&&ht&&Ke._opposed&&Ke.y-tt<a.Y+a.Height?a.Y-=a.Y+a.Height-Ke.y+tt:"bottom"==t&&ht&&!Ke._opposed&&Ke.y+tt>a.Y?a.Y+=Ke.y+tt-a.Y:"left"==t&&!ht&&Ke._opposed&&Ke.x-tt<a.X+a.Width?a.X+=Ke.x+tt-a.X:"right"==t&&!ht&&!Ke._opposed&&Ke.x+tt>a.X&&(a.X-=a.X+a.Width-Ke.x+tt)}if("left"==t||"right"==t)if(de)switch(o){case"center":a.Y=ae.Height/2-s.Height/2+ae.Y-D;break;case"near":a.Y=ae.Y;break;case"far":a.Y=ae.Y+ae.Height-s.Height-2*D}else switch(o){case"center":a.Y=z/2-(s.Height+2*D)/2+l/2;break;case"near":a.Y=R+2*l;break;case"far":a.Y=z-(s.Height+D)-2*l}else switch(o){case"center":a.X=A/2-(s.Width+2*D)/2-l/4;break;case"near":a.X=w?A-(s.Width+D)-2*l:R+2*l;break;case"far":a.X=w?R+2*l:A-(s.Width+D)-2*l}}else a.Y=_.location.y<z?_.location.y:0,a.X=_.location.x<A?_.location.x:0;if(de)if("right"==t||"left"==t){if(a.Y<ae.Y||s.Height+2*D>=ae.Height)for(He=2*D,Ye=0;Ye<F;Ye++)if((He+=V[Ye].Bounds.Height+N)>ae.Height){s.Height=ae.Height-2*D,a.Y=ae.Y;break}}else if(2*D+s.Width>=A)for(Be=2*D,Ye=0;Ye<F;Ye++)if((Be+=V[Ye].Bounds.Width+N)>A){s.Width=A-2*D-s.vScrollSize-2*R,a.X=A/2-(s.Width+2*D)/2+l/2;break}for(r.legendSvgContainer.setAttribute("height",a.Height),r.legendSvgContainer.setAttribute("width",Math.max(ne,a.Width)),W=ee=U,pe=re=J,""!=T.text&&T.text&&(this.drawLegendTitle(),pe=re=J+le),Ye=0;Ye<F;Ye++)!(_.rowCount<_.columnCount||_.rowCount==_.columnCount)||"top"!=t&&"bottom"!=t&&"custom"!=t?(pe+V[Ye].Bounds.Height+N+le+R>a.Height+re&&(pe=re,W+=se+N),this.drawLegendItem(V[Ye],W,pe),pe+=V[Ye].Bounds.Height+N,se=Math.max(se,V[Ye].Bounds.Width)):(W+V[Ye].Bounds.Width>a.Width+ee&&(W=U,pe+=V[Ye].Bounds.Height+N),this.drawLegendItem(V[Ye],W,pe),W+=V[Ye].Bounds.Width+N);var nt=r.legendContainer[0].offsetLeft,Ct=n(r.element).offset(),yt=r.vmlRendering?nt<=0?a.X:nt-Ct.left:n(r.svgObject).offset().left-Ct.left,Dt=r.vmlRendering?yt:a.X+(yt<=0?0:yt);_e.attr("style",""),_e.show(),_._ejScroller||_e.css(w?{direction:"rtl"}:{direction:"ltr"}),_e.css({position:"absolute",background:_.background,left:Dt,top:a.Y,width:s.Width,height:s.Height,"border-width":_.border.width,"border-color":_.border.color,"border-style":"solid"}),_e.addClass("e-legendborder"),Ce.css({height:a.Height,width:a.Width}),a.Height=a.Height-(20-2*J),dt=this.legendRectSpace(a,s),de&&(_._ejScroller?!dt&&(a.Width>Math.ceil(s.Width)||a.Height>Math.ceil(s.Height))?(n("#"+_e[0].id).ejScroller({scrollTop:r.scrolltop,scrollLeft:r.scrollleft,height:s.Height,width:s.Width}),te=!0,a.Height>Math.ceil(s.Height)&&0==s.vScrollSize&&_e.css({width:s.Width+(_e[0].offsetWidth+5*D-_e[0].clientWidth)})):(n("#"+_e[0].id).ejScroller("instance").destroy(),_._ejScroller=!1):!dt&&a.Width>Math.ceil(s.Width)&&a.Height>Math.ceil(s.Height)?(_e.css({overflow:"scroll"}),te=!0):(!dt&&a.Height>Math.ceil(s.Height)&&s.vScrollSize>=0&&(_e[0].style.overflowY="scroll",_e[0].style.overflowX="hidden",0==s.vScrollSize&&_e.css({width:s.Width+(_e[0].offsetWidth-2*D-_e[0].clientWidth)}),te=!0),!dt&&a.Width>Math.ceil(s.Width)&&s.hScrollSize>=0&&(_e[0].style.overflowX="scroll",_e[0].style.overflowY="hidden",0==s.hScrollSize&&_e.css({height:s.Height+(_e[0].offsetHeight-2*D-_e[0].clientHeight)}),te=!0))),r.svgRenderer.append(r.gLegendEle,r.legendSvgContainer),te||_e.css({width:s.Width-s.vScrollSize,height:s.Height-s.hScrollSize}),_._ejScroller||(null!=r.scrolltop&&_e.scrollTop(r.scrolltop),null!=r.scrollleft&&_e.scrollLeft(r.scrollleft))}else _e.hide()}}}(jQuery),ej.seriesTypes={},ej.EjSeriesRender=function(){},ej.indicatorTypes={},ej.EjIndicatorRender=function(){},ej.trendlineTypes={},ej.EjTrendLineRenderer=function(){},function(n){function c(r,u){var _=function(){};return _.prototype=new r,n.extend(_.prototype,u),_}ej.EjTrendLineRenderer.prototype={draw:function(r,u,_){var w,v;return this.chartObj=_,w=n.inArray(r,u.trendlines),r._isTransposed=_.model.requireInvertedAxes,r.xAxis=u.xAxis,r.yAxis=u.yAxis,v=r.type.toLowerCase(),r.points.length>1&&("linear"==v||"movingaverage"==v?this.calculateLineDirection(r,u,w):this.calculateSplineDirection(r,u,w)),!1},calculateSplineDirection:function(r,u,_){for(var w,p,v=ej.EjSvgRender.utils._getStringBuilder(),a=!0,s=r.points,h=ej.EjSeriesRender.prototype.naturalSpline(s,u),t=null,o=null,l=-1,g=s.length,b=0;b<g;b++){if(p=b,o=s[b],null!=t){var C,T,D=ej.EjSeriesRender.prototype.getBezierControlPoints(t,o,h[l],h[p],0,u,this);C=D.controlPoint1,T=D.controlPoint2;var L=ej.EjSvgRender.utils._getPoint(t,r),I=ej.EjSvgRender.utils._getPoint(o,r),R=ej.EjSvgRender.utils._getPoint(C,r),V=ej.EjSvgRender.utils._getPoint(T,r);a?(v.append("M "+L.X+" "+L.Y+" C "+R.X+" "+R.Y+" "+V.X+" "+V.Y+" "+I.X+" "+I.Y+" "),a=!1):v.append("C "+R.X+" "+R.Y+" "+V.X+" "+V.Y+" "+I.X+" "+I.Y+" ")}t=o,l=p}return w=v.toString(),this._drawLinePath(r,u,w,_),!1},calculateLineDirection:function(r,u,_){for(var w,v,a=ej.EjSvgRender.utils._getStringBuilder(),s=!1,t=r.points.length,o=0;o<t;o++)w=ej.EjSvgRender.utils._getPoint(r.points[o],r),s?a.append("L "+w.X+" "+w.Y+" "):(a.append("M "+w.X+" "+w.Y+" "),a.append("L "+w.X+" "+w.Y+" "),s=!0);return v=a.toString(),this._drawLinePath(r,u,v,_),!1},_drawLinePath:function(r,u,_,w){var a,v=[];return v[0]=r.xAxis.x,v[1]=r.yAxis.y,""!=_&&(a={id:this.chartObj.svgObject.id+"_"+r.seriesIndex+"_"+w+"_"+r.name.replace(/[^a-zA-Z ]/g,""),fill:"none","stroke-dasharray":r.dashArray,"stroke-width":r.width,stroke:r.fill,opacity:r.opacity,d:_},r.id=a.id,this.chartObj.svgRenderer.drawPath(a,u.gTrendGroupEle,v)),this.chartObj.svgRenderer.append(u.gTrendGroupEle,this.chartObj.gTrendlinesGroupEle[r.seriesIndex]),!1},calculateTrendLineSegment:function(r,u,a,w){var t,v=w.model,s=n.extend([],r.points),h=u.type.toLowerCase();switch(u.xAxis=r.xAxis?r.xAxis:v.primaryXAxis,u.yAxis=r.yAxis?r.yAxis:v.primaryYAxis,u.backwardForecast=u.backwardForecast<0?0:u.backwardForecast,u.forwardForecast=u.forwardForecast<0?0:u.forwardForecast,s=s.sort(function(o,l){return o.xValue>l.xValue?1:l.xValue>o.xValue?-1:0}),h){case"linear":this.updateTrendSource(s,u),this.calculateLinearTrendline(r,u,a);break;case"exponential":this.updateExponentialTrendSource(s,u),this.calculateExponentialTrendline(r,u,a);break;case"logarithmic":this.updateLogarithmicTrendSource(s,u),this.calculateLogarithmicTrendline(r,u,a);break;case"power":this.updatePowerTrendSource(s,u),this.calculatePowerTrendline(r,u,a);break;case"polynomial":u.polynomialOrder=(t=r.points.length)<=u.polynomialOrder?t:u.polynomialOrder,u.polynomialOrder=u.polynomialOrder<2?2:u.polynomialOrder,u.polynomialOrder=u.polynomialOrder>6?6:u.polynomialOrder,t>1&&(this.updateTrendSource(s,u),this.calculatePolynomialTrendline(r,u,a));break;case"movingaverage":this.updateMovingAverageTrendSource(s,u),this.calculateMovingAverageTrendline(r,u,a)}return r.points.length>1&&u.points&&this.calculateTrendLineRange(u,a),!1},updateTrendSource:function(r,u){var w,v,a,_=r.length;for(u.xPoints=[],u.xValues=[],u.yValues=[],a=0;a<_;a++)(w=r[a]).isEmpty||ej.isNullOrUndefined(w.y)||(u.xPoints.push(w.xValue),v="number"==typeof w.xValue?w.xValue:Date.parse(w.xValue),u.xValues.push(v),u.yValues.push(w.y));return this.calculateSumXAndYValue(u),!1},calculateLinearTrendline:function(r,u,_){var v,a,h,w=u.xValues.length;return u.points=[],w>1&&("datetime"==_._valueType.toLowerCase()?(v=this._increaseDateTimeInterval(u.xPoints[0],-u.backwardForecast,_._intervalType),a=this._increaseDateTimeInterval(u.xPoints[w-1],u.forwardForecast,_._intervalType)):(v=u.xPoints[0]-u.backwardForecast,a=u.xPoints[w-1]+u.forwardForecast),h=u.slope*a+u._intercept,u.points.push({x:v,xValue:v,y:u.slope*v+u._intercept,YValues:[],visible:!0}),u.points.push({x:a,xValue:a,y:h,YValues:[],visible:!0}),u.points[0].YValues[0]=u.points[0].y,u.points[1].YValues[0]=u.points[1].y),!1},calculateTrendLineRange:function(r,u){var w,v,_=r.points.length;for(r.minY=r.points[0].y,r.maxY=r.points[_-1].y,u.setRange||(r.backwardForecast>0&&"category"!=u._valueType&&_>1&&(u.range.min=u.range.min>r.points[0].x?r.points[0].x:u.range.min,u.visibleRange.min=u.range.min),r.forwardForecast>0&&_>1&&(u.range.max=u.range.max<r.points[_-1].x?r.points[_-1].x:u.range.max,u.visibleRange.max=u.range.max)),v=0;v<_;v++)w=r.points[v].y,r.minY=Math.min(r.minY,w),r.maxY=Math.max(r.maxY,w);return!1},calculateSumXAndYValue:function(r){for(var v,a,_=r.xPoints.length,w=r.type.toLowerCase(),s=0,h=0,t=0,o=0,p=0,g=r.xValues,b=r.yValues,C=0;C<_;C++)s+=g[C],h+=b[C],p+=g[C]*b[C],o+=g[C]*b[C],t+=g[C]*g[C];if(ej.util.isNullOrUndefined(r.intercept)||"linear"!=w&&"exponential"!=w&&"polynomial"!=w)v=(_*o-s*h)/(_*t-s*s),a="exponential"==w||"power"==w?Math.exp((h-v*s)/_):(h-v*s)/_,r._intercept=a;else{switch(w){case"polynomial":v=(p-Math.log(r.intercept)*s)/t*3;break;case"linear":v=(p-r.intercept*s)/t;break;case"exponential":v=(p-Math.log(r.intercept)*s)/t}r._intercept=r.intercept}return r.slope=v,!1},_increaseDateTimeInterval:function(r,u,_){var w=new Date(r);return r="object"==typeof r?r:w,"days"==_.toLowerCase()?w.setDate(r.getDate()+u):"hours"==_.toLowerCase()?w.setHours(r.getHours()+u):"milliseconds"==_.toLowerCase()?w.setMilliseconds(r.getMilliseconds()+u):"seconds"==_.toLowerCase()?w.setSeconds(r.getSeconds()+u):"minutes"==_.toLowerCase()?w.setMinutes(r.getMinutes()+u):"months"==_.toLowerCase()?w.setMonth(r.getMonth()+u):"years"==_.toLowerCase()&&w.setYear(r.getFullYear()+u),w}},ej.ejLinear=c(ej.EjTrendLineRenderer),ej.trendlineTypes.linear=ej.ejLinear,ej.Exponential=c(ej.EjTrendLineRenderer,{updateExponentialTrendSource:function(r,u){var w,v,a,_=r.length;for(u.xPoints=[],u.xValues=[],u.yValues=[],a=0;a<_;a++)(w=r[a]).isEmpty||ej.isNullOrUndefined(w.y)||(u.xPoints.push(w.xValue),v="number"==typeof w.xValue?w.xValue:Date.parse(w.xValue),u.xValues.push(v),u.yValues.push(Math.log(w.y)));return this.calculateSumXAndYValue(u),!1},calculateExponentialTrendline:function(r,u,_){var v,a,s,h,t,o,w=u.xValues.length,l=Math.round(w/2);if(u.points=[],w>1){"datetime"==_._valueType.toLowerCase()?(h=(v=this._increaseDateTimeInterval(u.xPoints[0],-u.backwardForecast,_._intervalType)).getTime(),a=u.xPoints[l-1],t=new Date(a).getTime(),o=(s=this._increaseDateTimeInterval(u.xPoints[w-1],u.forwardForecast,_._intervalType)).getTime()):(v=h=u.xPoints[0]-u.backwardForecast,a=t=u.xPoints[l-1],s=o=u.xPoints[w-1]+u.forwardForecast);var p=u._intercept*Math.exp(u.slope*v),g=u._intercept*Math.exp(u.slope*a),b=u._intercept*Math.exp(u.slope*s);u.points.push({x:v,xValue:h,y:p,YValues:[],visible:!0}),u.points.push({x:a,xValue:t,y:g,YValues:[],visible:!0}),u.points.push({x:s,xValue:o,y:b,YValues:[],visible:!0}),u.points[0].YValues[0]=u.points[0].y,u.points[1].YValues[0]=u.points[1].y,u.points[2].YValues[0]=u.points[2].y}return!1}}),ej.trendlineTypes.exponential=ej.Exponential,ej.Logarithmic=c(ej.EjTrendLineRenderer,{updateLogarithmicTrendSource:function(r,u){var w,v,a,s,_=r.length;for(u.xPoints=[],u.xValues=[],u.yValues=[],a=0;a<_;a++)(w=r[a]).isEmpty||ej.isNullOrUndefined(w.y)||(u.xPoints.push(w.xValue),v="number"==typeof w.xValue?w.xValue:Date.parse(w.xValue),s=isFinite(Math.log(v))?Math.log(v):v,u.xValues.push(s),u.yValues.push(w.y));return this.calculateSumXAndYValue(u),!1},calculateLogarithmicTrendline:function(r,u,_){var v,a,s,h,t,o,w=u.xValues.length,l=Math.round(w/2);if(u.points=[],w>1){"datetime"==_._valueType.toLowerCase()?(h=(v=this._increaseDateTimeInterval(u.xPoints[0],-u.backwardForecast,_._intervalType)).getTime(),a=u.xPoints[l-1],t=new Date(a).getTime(),o=(s=this._increaseDateTimeInterval(u.xPoints[w-1],u.forwardForecast,_._intervalType)).getTime()):(v=h=u.xPoints[0]-u.backwardForecast,a=t=u.xPoints[l-1],s=o=u.xPoints[w-1]+u.forwardForecast);var p=u._intercept+u.slope*(isFinite(Math.log(v))?Math.log(v):v),g=u._intercept+u.slope*(isFinite(Math.log(a))?Math.log(a):a),b=u._intercept+u.slope*(isFinite(Math.log(s))?Math.log(s):s);u.points.push({x:v,xValue:h,y:p,YValues:[],visible:!0}),u.points.push({x:a,xValue:t,y:g,YValues:[],visible:!0}),u.points.push({x:s,xValue:o,y:b,YValues:[],visible:!0}),u.points[0].YValues[0]=u.points[0].y,u.points[1].YValues[0]=u.points[1].y,u.points[2].YValues[0]=u.points[2].y}return!1}}),ej.trendlineTypes.logarithmic=ej.Logarithmic,ej.Power=c(ej.EjTrendLineRenderer,{updatePowerTrendSource:function(r,u){var w,v,a,_=r.length;for(u.xPoints=[],u.xValues=[],u.yValues=[],a=0;a<_;a++)(w=r[a]).isEmpty||(u.xPoints.push(w.xValue),v="number"==typeof w.xValue?w.xValue:Date.parse(w.xValue),u.xValues.push(Math.log(v)),u.yValues.push(Math.log(w.y)));return this.calculateSumXAndYValue(u),!1},calculatePowerTrendline:function(r,u,_){var v,a,s,h,t,o,p,w=u.xValues.length,l=Math.round(w/2);if(u.points=[],w>1){"datetime"==_._valueType.toLowerCase()?(h=(v=this._increaseDateTimeInterval(u.xPoints[0],-u.backwardForecast,_._intervalType)).getTime(),a=u.xPoints[l-1],t=new Date(a).getTime(),o=(s=this._increaseDateTimeInterval(u.xPoints[w-1],u.forwardForecast,_._intervalType)).getTime()):(v=h=(p=u.xPoints[0]-u.backwardForecast)>-1?p:0,a=t=u.xPoints[l-1],s=o=u.xPoints[w-1]+u.forwardForecast);var g=u._intercept*Math.pow(v,u.slope),b=u._intercept*Math.pow(a,u.slope),C=u._intercept*Math.pow(s,u.slope);u.points.push({x:v,xValue:h,y:g,YValues:[],visible:!0}),u.points.push({x:a,xValue:t,y:b,YValues:[],visible:!0}),u.points.push({x:s,xValue:o,y:C,YValues:[],visible:!0}),u.points[0].YValues[0]=u.points[0].y,u.points[1].YValues[0]=u.points[1].y,u.points[2].YValues[0]=u.points[2].y}return!1}}),ej.trendlineTypes.power=ej.Power,ej.Polynomial=c(ej.EjTrendLineRenderer,{calculatePolynomialTrendline:function(r,u,_){var v,a,s,h,t,l,p,g,b,w=u.polynomialOrder;for(u.polynomialSlopes=new Array(w+1),v=u.xValues.length,g=0;g<v;g++)for(l=u.xValues[g],a=u.yValues[g],b=0;b<=w;++b)u.polynomialSlopes[b]||(u.polynomialSlopes[b]=0),u.polynomialSlopes[b]+=Math.pow(l,b)*a;for(s=new Array(1+2*w),h=new Array(w+1),t=0;t<w+1;t++)h[t]=new Array(3);for(g=0;g<v;++g)for(l=1,p=u.xValues[g],b=0;b<s.length;++b)s[b]||(s[b]=0),s[b]+=l,l*=p;for(g=0;g<=w;++g)for(b=0;b<=w;++b)h[g][b]=s[g+b];return this.gaussJordanEliminiation(h,u.polynomialSlopes)||(u.polynomialSlopes=null),this.createPolynomialSegments(r,_,u),!1},createPolynomialSegments:function(r,u,_){var v,a,s,w=_.polynomialSlopes;if(null!=w){var l,h=_.xValues.length,o=(Math.round(h/2),1),p=w.length,g=u._valueType.toLowerCase();for(_.points=[],v=1;v<=p;v++)1==v?("datetime"==g?l=(a=this._increaseDateTimeInterval(_.xPoints[0],-_.backwardForecast,u._intervalType)).getTime():a=l=_.xPoints[0]-_.backwardForecast,s=this.getPolynomialYValue(w,l)):v==w.length?("datetime"==g?l=(a=this._increaseDateTimeInterval(_.xPoints[h-1],_.forwardForecast,u._intervalType)).getTime():a=l=_.xPoints[h-1]+_.forwardForecast,s=this.getPolynomialYValue(w,l)):(o+=(h+_.forwardForecast)/w.length,"category"==g?a=l=_.xPoints[0]+(o-1):(a=l=_.xPoints[parseInt(o)-1],"datetime"==g&&h>o&&(l=new Date(a).getTime())),s=this.getPolynomialYValue(w,l)),(1==v||v==w.length||"category"==g||h>o)&&(_.points.push({x:a,xValue:l,y:s,YValues:[],visible:!0}),_.points[_.points.length-1].YValues[0]=_.points[_.points.length-1].y)}return!1},getPolynomialYValue:function(r,u){for(var _=0,w=0;w<r.length;w++)_+=r[w]*Math.pow(u,w);return _},gaussJordanEliminiation:function(r,u){for(var _,w,v,a,s,h,o,l=r.length,p=new Array(l),g=new Array(l),b=new Array(l),C=0;C<l;++C)b[C]=0;for(h=0;h<l;++h){var T=0,t=0,D=0;for(v=0;v<l;++v)if(1!=b[v])for(s=0;s<l;++s)0==b[s]&&Math.abs(r[v][s])>=T&&(T=Math.abs(r[v][s]),t=v,D=s);if(++b[D],t!=D){for(v=0;v<l;++v)a=r[v],r[t][v]=r[D][v],r[D][v]=a;_=u[t],u[t]=u[D],u[D]=_}if(g[h]=t,p[h]=D,0==r[D][D])return!1;for(w=1/r[D][D],r[D][D]=1,v=0;v<l;++v)r[D][v]*=w;for(u[D]*=w,v=0;v<l;++v)if(v!=D){for(a=r[v][D],r[v][D]=0,s=0;s<l;++s)r[v][s]-=r[D][s]*a;u[v]-=u[D]*a}}for(h=l-1;h>=0;--h)if(g[h]!=p[h])for(t=0;t<l;++t)o=r[g[h]],r[t][g[h]]=r[t][p[h]],r[t][p[h]]=o;return!0}}),ej.trendlineTypes.polynomial=ej.Polynomial,ej.MovingAverage=c(ej.EjTrendLineRenderer,{updateMovingAverageTrendSource:function(r,u){var w,_=r.length;for(u.xPoints=[],u.xValues=[],u.yValues=[],w=0;w<_;w++)u.xPoints.push(r[w].xValue),u.xValues.push(w+1),u.yValues.push(r[w].isEmpty?null:r[w].y);return!1},calculateMovingAverageTrendline:function(r,u){var v,a,s,h,t,o,l,_=u.xPoints.length,w=u.period>=_?_-1:u.period;for(w=w<2?2:w,u.points=[],v=0;v<_-1;v++){for(s=h=t=0,a=v;h<w;a++)h++,ej.util.isNullOrUndefined(u.yValues[a])&&t++,s+=u.yValues[a];s=w-t<=0?null:s/(w-t),ej.util.isNullOrUndefined(s)||isNaN(s)||(u.points.push({x:o=u.xPoints[w-1+v],xValue:o,y:s,YValues:[],visible:!0}),u.points[(l=u.points.length)-1].YValues[0]=u.points[l-1].y)}}}),ej.trendlineTypes.movingaverage=ej.MovingAverage,ej.EjIndicatorRender.prototype={draw:function(r,u){var _,a,h,t,o;if(this.chartObj=u,_=null,"cartesianaxes"==this.chartObj.model.AreaType&&(_="translate("+r.xAxis.x+","+r.yAxis.y+")"),a=n.inArray(r,this.chartObj.model.indicators),this.gIndicatorGroupEle=this.chartObj.svgRenderer.createGroup({id:this.chartObj.svgObject.id+"_indicatorGroup_"+a,transform:_}),r._points.length>0)for(h=0;h<r.segment.length;h++)o={fill:(t=r.segment[h]).fill,width:t.width,opacity:r.opacity},t.isIndicator=!0,t.xAxis=r.xAxis,t.yAxis=r.yAxis,"line"==t.type?this.calculateDirection(t,o,a):this.drawColumn(t,o,r)},_drawLinePath:function(r,u,_,w){""!=_&&this.chartObj.svgRenderer.drawPath({name:"line",id:this.chartObj.svgObject.id+"_"+w+"_"+r.name,fill:"none","stroke-dasharray":r.dashArray,"stroke-width":u.width,stroke:u.fill,"stroke-linecap":r.lineCap,"stroke-linejoin":r.lineJoin,opacity:u.opacity,d:_},this.gIndicatorGroupEle),this.chartObj.svgRenderer.append(this.gIndicatorGroupEle,this.chartObj.gIndicatorEle)},calculateDirection:function(r,u,_){var a,s,w=0,v=0;this.chartObj.model.enableCanvasRendering&&(w=r.xAxis.x,v=r.yAxis.y),r.points=ej.DataManager(r.points,ej.Query().sortBy("xValue")).executeLocal();var t,p,h=ej.EjSeriesRender.prototype._isVisiblePoints(r),o=ej.EjSvgRender.utils._getStringBuilder(),l=!1;for(s=0;s<h.length;s++)(p=h[s]).visible?(a=ej.EjSvgRender.utils._getPoint(p,r),l?o.append("L "+(a.X+w)+" "+(a.Y+v)+" "):(o.append("M "+(a.X+w)+" "+(a.Y+v)+" "),l=!0)):l=!1;t=o.toString(),this._drawLinePath(r,u,t,_)},drawColumn:function(r,u,_){var a,t,w=r,v=n.inArray(_,this.chartObj.model.indicators);w.index=v;var o=Math.max(r.yAxis.visibleRange.min,0),l={Start:-.35,End:.35},p=ej.EjSeriesRender.prototype._isVisiblePoints(w),g=this,b=g.chartObj;for(a=0;a<p.length;a++){var C=a,T=p[a],D=T.YValues[0],L=o;if(T.visible){var I=ej.EjSeriesRender.prototype.calculateSides(T,l),F=ej.EjSeriesRender.prototype.getRectangle(I.x1,D,I.x2,L,w,b),A=Math.min(0,F.Width),z=Math.min(0,F.Height);F.Width<1e-4&&(F.Width=1e-4),(0==A||0==z)&&F.Width>0&&(this.chartObj.svgRenderer.drawRect({id:this.chartObj.svgObject.id+"_"+v+"_"+w.name,x:F.X+g.chartObj.canvasX,y:F.Y+g.chartObj.canvasY,width:F.Width,height:F.Height,fill:p[a].fill?p[a].fill:u.fill,"stroke-width":w.border.width,plot:D<0?"negative":"positive",opacity:w.histogram.opacity,stroke:p[a].fill?p[a].fill:w.border.color},this.gIndicatorGroupEle),t=ej.EjSvgRender.utils._getSvgXY(F.X,F.Y,w,g.chartObj),this._addRegion(g.chartObj,{X:t.X,Y:t.Y,Width:F.Width,Height:F.Height},w,T,C))}}this.chartObj.svgRenderer.append(this.gIndicatorGroupEle,this.chartObj.gIndicatorEle)},_addRegion:function(r,u,_,w,v){_.index>=0&&r.model.chartRegions.push({SeriesIndex:_.index,Region:{PointIndex:v,Bounds:u},type:_.type,isIndicator:!0})},calculateSegment:function(r,u){var _,w,v,a,s,h,t,o,l,p;if(this.chartObj=u,r.segment=[],r.xRange={},r.yRange={},r.period=parseInt(r.period),r.period<r._points.length&&r.period>0){for((_=n.extend(!0,{},r)).name="upperseries",_.fill=r.upperLine.fill,_.width=r.upperLine.width,_.type="line",w=0;w<r._points.length;w++)r._points[w].YValues.length=1,r._points[w].YValues[0]=r._points[w].y=70;for(_.points=n.extend(!0,[],r._points),v=u._getXValues(_.points),a=u._getYValues(_.points),r.xRange.min=Math.min.apply(Math,v),r.xRange.max=Math.max.apply(Math,v),r.yRange.min=Math.min.apply(Math,a),r.yRange.max=Math.max.apply(Math,a),r.segment.push(_),(s=n.extend(!0,{},r)).name="lowerSeries",s.width=r.lowerLine.width,s.fill=r.lowerLine.fill,s.type="line",h=0;h<r._points.length;h++)r._points[h].YValues[0]=r._points[h].y=30;s.points=n.extend(!0,[],r._points),a=u._getYValues(s.points),r.yRange.min=Math.min(Math.min.apply(Math,a),r.yRange.min),r.yRange.max=Math.max(Math.max.apply(Math,a),r.yRange.max),r.segment.push(s),(t=n.extend(!0,{},r)).name="signalSeries",t.width=r.width,t.fill=r.fill,t.type="line";var g=0,b=0,C=0,T=0,D=r.period;for(b=r._points[0].close,l=1;l<=D;++l)(g=r._points[l].close)>b?C+=g-b:g<b&&(T+=b-g),b=g,r._points[l-1].YValues[0]=r._points[l-1].y=null;for(r._points[D].YValues[0]=r._points[D].y=100-100/(1+(C/=D)/(T/=D)),p=D+1;p<r._points.length;p++)(g=r._points[p].close)>b?(C=(C*(D-1)+(g-b))/D,T=T*(D-1)/D):g<b&&(T=(T*(D-1)+(b-g))/D,C=C*(D-1)/D),b=g,r._points[p].YValues[0]=r._points[p].y=100-100/(1+C/T);for(t.points=n.extend(!0,[],r._points),o=[],l=D,p=0;l<t.points.length;l++,p++)o[p]=t.points[l].y;r.yRange.min=Math.min(Math.min.apply(Math,o),r.yRange.min),r.yRange.max=Math.max(Math.max.apply(Math,o),r.yRange.max),r.segment.push(t),this.calculateIndicatorRange(u,r)}},calculateIndicatorRange:function(r,u){null==r.model.indicatorRange[u.xAxisName]?(r.model.indicatorRange[u.xAxisName]={},r.model.indicatorRange[u.xAxisName]={min:u.xRange.min,max:u.xRange.max}):(r.model.indicatorRange[u.xAxisName].min>u.xRange.min&&(r.model.indicatorRange[u.xAxisName].min=u.xRange.min),r.model.indicatorRange[u.xAxisName].max<u.xRange.max&&(r.model.indicatorRange[u.xAxisName].max=u.xRange.max)),void 0===r.model.indicatorRange[u.yAxisName]?(r.model.indicatorRange[u.yAxisName]={},r.model.indicatorRange[u.yAxisName]={min:u.yRange.min,max:u.yRange.max}):(r.model.indicatorRange[u.yAxisName].min>u.yRange.min&&(r.model.indicatorRange[u.yAxisName].min=u.yRange.min),r.model.indicatorRange[u.yAxisName].max<u.yRange.max&&(r.model.indicatorRange[u.yAxisName].max=u.yRange.max))}},ej.ejRSI=c(ej.EjIndicatorRender),ej.indicatorTypes.rsi=ej.ejRSI,ej.ejMACD=c(ej.EjIndicatorRender,{calculateSegment:function(r,u){var _,w,v,a,s,h,t,o,l,p,g,b,C;this.chartObj=u,r.segment=[],r.xRange={},r.yRange={};var T=r._points.length,D=r.longPeriod,L=r.shortPeriod,I=r.trigger,R=D-L,V=[],F=[],A=[],z=[],N=[],U=D+I;if(U<=r._points.length&&U-2>=0&&L<=D&&L>0){for(V=this.calculateEMA(r._points,L,!0),F=this.calculateEMA(r._points,D,!0),s=0;s<F.length;s++)A.push(V[s+R]-F[s]);for((_=n.extend(!0,{},r)).name="macdSeries",_.fill=r.macdLine.fill,_.width=r.macdLine.width,_.type="line",_.xAxis=r.xAxis,_.yAxis=r.yAxis,v=D-1,a=0,s=0;a<T;a++)a<v?r._points[a].YValues[0]=r._points[a].y=null:(r._points[a].YValues[0]=r._points[a].y=A[s],s+=1);for(_.points=n.extend(!0,[],r._points),z=this.calculateEMA(A,I,!1),(w=n.extend(!0,{},r)).name="signalSeries",w.fill=r.fill,w.width=r.width,w.type="line",w.xAxis=r.xAxis,w.yAxis=r.yAxis,v=D+I-2,a=0,s=0;a<T;a++)a<v?r._points[a].YValues[0]=r._points[a].y=null:(r._points[a].YValues[0]=r._points[a].y=z[s],s+=1);for(w.points=n.extend(!0,[],r._points),(h=n.extend(!0,{},r)).border={},h.name="histogramSeries",h.fill=r.histogram.fill,h.opacity=r.histogram.opacity,h.fill=r.histogram.fill,h.border=r.histogram.border,h.type="column",h.xAxis=r.xAxis,h.yAxis=r.yAxis,t=0,o=v;o<T;t++,o++)N.push(A[t+(I-1)]-z[t]);for(t=0,o=v;o<T;t++,o++)r._points[o].YValues[0]=r._points[o].y=N[t];switch(h.points=n.extend(!0,[],r._points),l=u._getXValues(_.points),r.xRange.min=Math.min.apply(Math,l),r.xRange.max=Math.max.apply(Math,l),r.macdType){case"line":r.yRange.min=Math.min.apply(Math,A),r.yRange.max=Math.max.apply(Math,A),r.segment.push(_),b=Math.min.apply(Math,z),C=Math.max.apply(Math,z),r.yRange.min=r.yRange.min<b?r.yRange.min:b,r.yRange.max=r.yRange.max>C?r.yRange.max:C,r.segment.push(w);break;case"histogram":p=Math.min.apply(Math,N),g=Math.max.apply(Math,N),r.yRange.min=r.yRange.min<p?r.yRange.min:p,r.yRange.max=r.yRange.max>g?r.yRange.max:g,r.segment.push(h);break;case"both":p=Math.min.apply(Math,N),g=Math.max.apply(Math,N),r.yRange.min=r.yRange.min<p?r.yRange.min:p,r.yRange.max=r.yRange.max>g?r.yRange.max:g,r.segment.push(h),r.yRange.min=Math.min.apply(Math,A),r.yRange.max=Math.max.apply(Math,A),r.segment.push(_),b=Math.min.apply(Math,z),C=Math.max.apply(Math,z),r.yRange.min=r.yRange.min<b?r.yRange.min:b,r.yRange.max=r.yRange.max>C?r.yRange.max:C,r.segment.push(w)}this.calculateIndicatorRange(u,r)}},calculateEMA:function(r,u,_){var o,l,p,w=0,v=0,a=r.length,s=[],h=[],t=2/(u+1);if(_){for(o=0;o<u;o++)s.push(r[o].close),w+=s[o];for(h.push(v=w/u),l=v,p=u;p<a;p++)h.push(l=(r[p].close-l)*t+l)}else{for(o=0;o<u;o++)s.push(r[o]),w+=s[o];for(h.push(v=w/u),l=v,p=u;p<a;p++)h.push(l=(r[p]-l)*t+l)}return h}}),ej.indicatorTypes.macd=ej.ejMACD,ej.ejSMA=c(ej.EjIndicatorRender,{calculateSegment:function(r,u){var _,w,v,a,s;this.chartObj=u,r.segment=[],r.xRange={},r.yRange={},(_=n.extend(!0,{},r)).name="trendSeries",_.width=r.width,_.fill=r.fill,_.type="line";var l,p,h=[],t=[],o=[],g=r._points.length,b=r.period;if(!(b<=0||g<b)){for(a=0;a<g;a++)h.push(r._points[a].close);for(w=h.length;w>=b;){for(l=0,s=0;s<b;s++)l+=h[s];t.push(l/=b),h.splice(0,1),w=h.length}for(v=0;v<g;v++)r._points[v].YValues[0]=r._points[v].y=v<b-1?null:t[v-(b-1)];for(_.points=n.extend(!0,[],r._points),p=u._getXValues(_.points),a=b-1,s=0;a<_.points.length;a++,s++)o[s]=_.points[a].y;r.xRange.min=Math.min.apply(Math,p),r.xRange.max=Math.max.apply(Math,p),r.yRange.min=Math.min.apply(Math,o),r.yRange.max=Math.max.apply(Math,o),r.segment.push(_),this.calculateIndicatorRange(u,r)}}}),ej.indicatorTypes.sma=ej.ejSMA,ej.ejEMA=c(ej.EjIndicatorRender,{calculateSegment:function(r,u){var _,w,v,a,s,h;this.chartObj=u,r.segment=[],r.xRange={},r.yRange={},(_=n.extend(!0,{},r)).name="trendSeries",_.type="line",_.xAxis=r.xAxis,_.yAxis=r.yAxis;var b,t=[],o=[],l=r._points.length,p=r.period,g=0;if(!(l<p||p<=0)){for(w=2/(p+1),s=0;s<p;s++)t.push(r._points[s].close),g+=t[s];for(o.push(g/p),h=p;h<l;h++)o.push((r._points[h].close-o[h-p])*w+o[h-p]);for(v=0;v<l;v++)v<p-1?r._points[v].YValues[0]=r._points[v].y=null:v>=p-1&&(r._points[v].YValues[0]=r._points[v].y=o[v-(p-1)]);for(_.points=n.extend(!0,[],r._points),b=u._getXValues(_.points),a=[],s=p,h=0;s<_.points.length;s++,h++)a[h]=_.points[s].y;r.xRange.min=Math.min.apply(Math,b),r.xRange.max=Math.max.apply(Math,b),r.yRange.min=Math.min.apply(Math,a),r.yRange.max=Math.max.apply(Math,a),r.segment.push(_),this.calculateIndicatorRange(u,r)}}}),ej.indicatorTypes.ema=ej.ejEMA,ej.ejSTOCHASTIC=c(ej.EjIndicatorRender,{calculateSegment:function(r,u){function _(A,z,N){r._points.length>=A+z&&function w(A,z,N){for(var J,Q,oe,ue,se,le=A+(z-1),ne=[],he=[],ee=0;ee<r._points.length;ee++)ne.push(F[ee].y);for(J=ne.length;J>=le;){for(se=0,Q=A-1;Q<A+z-1;Q++)se+=ne[Q];he.push((se/=z).toFixed(2)),ne.splice(0,1),J=ne.length}for(oe=le-1,ue=0;ue<r._points.length;ue++)N[ue].YValues[0]=N[ue].y=ue<oe?null:Number(he[ue-oe])}(A,z,N)}var s,h,t,o,l,p,g,b,C;this.chartObj=u,r.segment=[],r.xRange={},r.yRange={};var T=r.kPeriod,D=r.dPeriod,L=r.period;if(!(L<1||D<1||T<1||L>r._points.length||D>r._points.length||T>r._points.length)){for((s=n.extend(!0,{},r)).name="upperseries",s.type="line",s.fill=r.upperLine.fill,s.width=r.upperLine.width,h=0;h<r._points.length;h++)r._points[h].YValues.length=1,r._points[h].YValues[0]=r._points[h].y=80;for(s.points=n.extend(!0,[],r._points),t=u._getXValues(s.points),o=u._getYValues(s.points),r.xRange.min=Math.min.apply(Math,t),r.xRange.max=Math.max.apply(Math,t),r.yRange.min=Math.min.apply(Math,o),r.yRange.max=Math.max.apply(Math,o),r.segment.push(s),(l=n.extend(!0,{},r)).name="lowerSeries",l.width=r.lowerLine.width,l.fill=r.lowerLine.fill,l.type="line",p=0;p<r._points.length;p++)r._points[p].YValues[0]=r._points[p].y=20;l.points=n.extend(!0,[],r._points),t=u._getXValues(l.points),o=u._getYValues(l.points),r.xRange.min=Math.min(Math.min.apply(Math,t),r.xRange.min),r.xRange.max=Math.max(Math.max.apply(Math,t),r.xRange.max),r.yRange.min=Math.min(Math.min.apply(Math,o),r.yRange.min),r.yRange.max=Math.max(Math.max.apply(Math,o),r.yRange.max),r.segment.push(l),(g=n.extend(!0,{},r)).name="periodSeries",g.width=r.periodLine.width,g.fill=r.periodLine.fill,g.type="line";var I=[],R=[],V=[],F=[];for(b=0;b<r._points.length;b++)R[b]=r._points[b].low,I[b]=r._points[b].high,V[b]=r._points[b].close;(function v(A,z,N){r._points.length>A&&function a(A,z,N){for(var U,ue,le,J=A+z,Q=[],oe=[],ne=0,he=0,se=0;se<A-1;++se)oe.push(0),Q.push(0);for(se=A-1;se<r._points.length;++se){for(le=Number.MAX_VALUE,ue=Number.MIN_VALUE,U=0;U<A;++U)le=Math.min(le,R[se-U]),ue=Math.max(ue,I[se-U]);oe.push(ue),Q.push(le)}for(se=0;se<J-1;++se)N[se].YValues.length=1,N[se].YValues[0]=N[se].y=null;for(se=A-1;se<r._points.length;++se)ne=0,he=0,ne+=V[se]-Q[se],he+=oe[se]-Q[se],N[se].YValues.length=1,N[se].YValues[0]=N[se].y=ne/he*100}(A,z,N)})(L,T,r._points),F=r._points,_(L,T,r._points),F=r._points,g.points=n.extend(!0,[],r._points),t=u._getXValues(g.points),o=u._getYValues(g.points),r.xRange.min=Math.min(Math.min.apply(Math,t),r.xRange.min),r.xRange.max=Math.max(Math.max.apply(Math,t),r.xRange.max),r.yRange.min=Math.min(Math.min.apply(Math,o),r.yRange.min),r.yRange.max=Math.max(Math.max.apply(Math,o),r.yRange.max),r.segment.push(g),(C=n.extend(!0,{},r)).name="trendSeries",C.width=r.width,C.fill=r.fill,C.type="line",_(L+T-1,D,r._points),C.points=n.extend(!0,[],r._points),r.segment.push(C),this.calculateIndicatorRange(u,r)}}}),ej.indicatorTypes.stochastic=ej.ejSTOCHASTIC,ej.ejbollingerBand=c(ej.EjIndicatorRender,{calculateSegment:function(r,u){var _,v,a,s,h,t,o,l,p,g,b,C,T,D;this.chartObj=u,r.segment=[],r.xRange={},r.yRange={};var L=0,I=0,R=r._points.length,V=r.standardDeviations,F=r.period,A=Math.round(F),z=[],N=[],U=[];if(A<R&&A>0){for(T=0;T<A;T++)L+=r._points[T].close;for(_=L/F,T=0;T<R;++T)if(T>=A-1&&T<R){T-F>=0?(z[T]=_=(L+=r._points[T].close-r._points[T-A].close)/F,N[T]=Math.pow(r._points[T].close-_,2),I+=N[T]-N[T-A]):(z[T]=_,N[T]=Math.pow(r._points[T].close-_,2),I+=N[T]);var J=Math.sqrt(I/F),Q=z[T]-V*J,oe=z[T]+V*J;if(T+1==A)for(v=0;v<A-1;v++)U[v]={X:r._points[v].X,mb:z[T],lb:Q,ub:oe,visible:!0};U[T]={X:r._points[T].X,mb:z[T],lb:Q,ub:oe,visible:!0}}else T<F-1&&(z[T]=_,N[T]=Math.pow(r._points[T].close-_,2),I+=N[T]);for((a=n.extend(!0,{},r)).name="upperseries",a.fill=r.upperLine.fill,a.width=r.upperLine.width,a.type="line",s=0;s<r._points.length;s++)s>=A-1?(r._points[s].YValues.length=1,r._points[s].YValues[0]=r._points[s].y=U[s].ub):r._points[s].YValues[0]=r._points[s].y=null;for(a.points=n.extend(!0,[],r._points),h=u._getXValues(a.points),t=[],T=A;T<a.points.length;T++)t.push(a.points[T].y);for(D=t,r.xRange.min=Math.min.apply(Math,h),r.xRange.max=Math.max.apply(Math,h),r.yRange.min=Math.min.apply(Math,D),r.yRange.max=Math.max.apply(Math,D),r.segment.push(a),(o=n.extend(!0,{},r)).name="lowerSeries",o.width=r.lowerLine.width,o.fill=r.lowerLine.fill,o.type="line",l=0;l<r._points.length;l++)l>=A-1?(r._points[l].YValues.length=1,r._points[l].YValues[0]=r._points[l].y=U[l].lb):r._points[l].YValues[0]=r._points[l].y=null;for(o.points=n.extend(!0,[],r._points),h=u._getXValues(o.points),p=[],T=A;T<o.points.length;T++)p.push(o.points[T].y);for(D=p,r.xRange.min=Math.min(Math.min.apply(Math,h),r.xRange.min),r.xRange.max=Math.max(Math.max.apply(Math,h),r.xRange.max),r.yRange.min=Math.min(Math.min.apply(Math,D),r.yRange.min),r.yRange.max=Math.max(Math.max.apply(Math,D),r.yRange.max),r.segment.push(o),(g=n.extend(!0,{},r)).name="trendSeries",g.width=r.width,g.fill=r.fill,g.type="line",b=0;b<r._points.length;b++)b>=A-1?(r._points[b].YValues.length=1,r._points[b].YValues[0]=r._points[b].y=U[b].mb):r._points[b].YValues[0]=r._points[b].y=null;for(g.points=n.extend(!0,[],r._points),h=u._getXValues(g.points),C=[],T=A;T<g.points.length;T++)C.push(g.points[T].y);D=C,r.xRange.min=Math.min(Math.min.apply(Math,h),r.xRange.min),r.xRange.max=Math.max(Math.max.apply(Math,h),r.xRange.max),r.yRange.min=Math.min(Math.min.apply(Math,D),r.yRange.min),r.yRange.max=Math.max(Math.max.apply(Math,D),r.yRange.max),r.segment.push(g),this.calculateIndicatorRange(u,r)}}}),ej.indicatorTypes.bollingerband=ej.ejbollingerBand,ej.ejATR=c(ej.EjIndicatorRender,{calculateSegment:function(r,u){var _,w,v,a,s,h,t,o,l;this.chartObj=u,r.segment=[],r.xRange={},r.yRange={},_=[],w=v=a=0;var p,g=0,C=r.period;if(!(C<=0||C>r._points.length)){for(l=0;l<C;l++)w=r._points[l].high-r._points[l].low,l>0&&(v=Math.abs(r._points[l].high-r._points[l-1].close),a=Math.abs(r._points[l].low-r._points[l-1].close)),p=Math.max(w,v,a),_[l]={X:r._points[l].X,YValues:(g+=p)/C};for(l=C;l<r._points.length;++l)w=r._points[l].high-r._points[l].low,v=Math.abs(r._points[l].high-r._points[l-1].close),a=Math.abs(r._points[l].low-r._points[l-1].close),p=Math.max(w,v,a),_[l]={X:r._points[l].X,YValues:(_[l-1].YValues*(C-1)+p)/C};for((s=n.extend(!0,{},r)).name="trendSeries",s.width=r.width,s.fill=r.fill,s.type="line",h=0;h<r._points.length;h++)h>=C-1?(r._points[h].YValues.length=1,r._points[h].YValues[0]=r._points[h].y=_[h].YValues):r._points[h].YValues[0]=r._points[h].y=null;for(s.points=n.extend(!0,[],r._points),t=u._getXValues(s.points),o=[],l=C;l<s.points.length;l++)o.push(s.points[l].y);r.xRange.min=Math.min.apply(Math,t),r.xRange.max=Math.max.apply(Math,t),r.yRange.min=Math.min.apply(Math,o),r.yRange.max=Math.max.apply(Math,o),r.segment.push(s),this.calculateIndicatorRange(u,r)}}}),ej.indicatorTypes.atr=ej.ejATR,ej.ejaccumulationDistribution=c(ej.EjIndicatorRender,{calculateSegment:function(r,u){var _,w,v,a,s,h,t,o,l;for(this.chartObj=u,r.segment=[],r.xRange={},r.yRange={},_=[],w=0,v=0;v<r._points.length;v++)s=((a=r._points[v].close)-r._points[v].low-(r._points[v].high-a))/(r._points[v].high-r._points[v].low),w+=(isNaN(s)?0:s)*r._points[v].volume,_[v]=w;for((h=n.extend(!0,{},r)).name="trendseries",h.fill=r.fill,h.width=r.width,h.type="line",t=0;t<r._points.length;t++)r._points[t].YValues[0]=r._points[t].y=_[t];h.points=n.extend(!0,[],r._points),o=u._getXValues(h.points),l=u._getYValues(h.points),r.xRange.min=Math.min.apply(Math,o),r.xRange.max=Math.max.apply(Math,o),r.yRange.min=Math.min.apply(Math,l),r.yRange.max=Math.max.apply(Math,l),r.segment.push(h),this.calculateIndicatorRange(u,r)}}),ej.indicatorTypes.accumulationdistribution=ej.ejaccumulationDistribution,ej.ejTMA=c(ej.EjIndicatorRender,{calculateSegment:function(r,u){var _,w,v,a,s,h,t;this.chartObj=u,r.segment=[],r.xRange={},r.yRange={},(_=n.extend(!0,{},r)).name="trendSeries",_.width=r.width,_.fill=r.fill,_.type="line";var T,o=[],l=[],p=[],g=[],b=[],C=0,D=r._points.length,L=r.period;if(!(L<1)&&L<D){for(h=0;h<D;h++)o.push(r._points[h].close);for(w=o.length;w>=L;){for(C=0,t=0;t<L;t++)C+=o[t];C/=L,l.push(parseFloat(C.toFixed(2))),o.splice(0,1),w=o.length}for(a=0;a<D;a++)if(a<L-1){for(C=0,t=0;t<a+1;t++)C+=r._points[t].close;C/=a+1,g[a]=parseFloat(C.toFixed(2))}else g[a]=l[a-(L-1)];for(v=g.length;v>=L;){for(T=0,t=0;t<L;t++)T+=g[t];p.push(T/=L),g.splice(0,1),v=g.length}for(a=0;a<D;a++)r._points[a].YValues[0]=r._points[a].y=a<L-1?null:p[a-(L-1)];for(_.points=n.extend(!0,[],r._points),s=u._getXValues(_.points),h=L-1,t=0;h<_.points.length;h++,t++)b[t]=_.points[h].y;r.xRange.min=Math.min.apply(Math,s),r.xRange.max=Math.max.apply(Math,s),r.yRange.min=Math.min.apply(Math,b),r.yRange.max=Math.max.apply(Math,b),r.segment.push(_),this.calculateIndicatorRange(u,r)}}}),ej.indicatorTypes.tma=ej.ejTMA,ej.ejMomentum=c(ej.EjIndicatorRender,{calculateSegment:function(r,u){var _,w,v,a,s,h,o,l,p,g,b,C;if(this.chartObj=u,r.segment=[],r.xRange={},r.yRange={},(_=n.extend(!0,{},r)).name="upperseries",_.fill=r.upperLine.fill,_.width=r.upperLine.width,_.type="line",v=r._points.length,(w=r.period)>0&&w<v-1){for(p=0;p<v;p++)r._points[p].YValues.length=1,r._points[p].YValues[0]=r._points[p].y=100;for(_.points=n.extend(!0,[],r._points),a=u._getXValues(_.points),s=u._getYValues(_.points),r.xRange.min=Math.min.apply(Math,a),r.xRange.max=Math.max.apply(Math,a),r.yRange.min=Math.min.apply(Math,s),r.yRange.max=Math.max.apply(Math,s),r.segment.push(_),(h=n.extend(!0,{},r)).name="trendSeries",h.width=r.width,h.fill=r.fill,h.type="line",o=r.period,b=0;b<r._points.length;++b)l=r._points,b<o||(r._points[b].YValues[0]=r._points[b].y=l[b].close/l[b-o].close*100);for(p=0;p<o&&p<r._points.length;p++)r._points[p].YValues[0]=r._points[p].y=null;for(h.points=n.extend(!0,[],r._points),a=u._getXValues(h.points),g=[],b=o,C=0;b<h.points.length;b++,C++)g[C]=h.points[b].y;r.xRange.min=Math.min(Math.min.apply(Math,a),r.xRange.min),r.xRange.max=Math.max(Math.max.apply(Math,a),r.xRange.max),r.yRange.min=Math.min(Math.min.apply(Math,g),r.yRange.min),r.yRange.max=Math.max(Math.max.apply(Math,g),r.yRange.max),r.segment.push(h),this.calculateIndicatorRange(u,r)}}}),ej.indicatorTypes.momentum=ej.ejMomentum,ej.EjSeriesRender.prototype={getOrigin:function(r,u,_){if(_.axes[u.xAxis.name]._validCross){var w=r.chartObj._getCrossAxis(r.chartObj.model._axes,!0,u.xAxis.crossesInAxis);if(r.chartObj.model.requireInvertedAxes?u.xAxis.name:u.yAxis.name===w.name)return u.xAxis._crossValue}return"splinerangearea"==u.type.toLowerCase()?Math.max(u.points[0].YValues[1],0):Math.max(u.yAxis.visibleRange.min,0)},setLineSeriesStyle:function(r){var u=n.inArray(r,this.chartObj.model._visibleSeries),_=this.chartObj.model.seriesColors[u];return{SeriesInterior:r.isTransposed?this.chartObj.svgRenderer.createGradientElement(this.getSeriesName(r)+u,_,100,0,0,0,this.chartObj.gSeriesEle):this.chartObj.svgRenderer.createGradientElement(this.getSeriesName(r)+u,_,0,0,0,100,this.chartObj.gSeriesEle),SeriesBorder:this.chartObj.model.seriesBorderColors[u]}},getSeriesName:function(r){return r.name?r.name.replace(/\s/g,""):"series"},drawAreaPath:function(r,u,_,w){var o,p,v=this.chartObj.model.requireInvertedAxes,a=n.inArray(r,this.chartObj.model._visibleSeries),s=null,t=r.border;"cartesianaxes"==this.chartObj.model.AreaType&&(s="translate("+(o=ej.EjSvgRender.utils._getTransform(r.xAxis,r.yAxis,v)).x+","+o.y+")"),this.gSeriesGroupEle=this.chartObj.svgRenderer.createGroup({id:this.chartObj.svgObject.id+"_SeriesGroup_"+a,transform:s}),""!=_&&(p={id:this.chartObj.svgObject.id+"_Series"+a,fill:u.SeriesInterior,"fill-opacity":r.opacity,"stroke-width":t.width,stroke:t.color,"stroke-dasharray":t.dashArray,"stroke-linecap":r.lineCap,"stroke-linejoin":r.lineJoin,d:_},this.chartObj.dragPoint?(p.id=this.chartObj.svgObject.id+"_PreviewSeries"+a,p["fill-opacity"]=.6,this.chartObj.svgRenderer.drawPath(p,this.chartObj.model.enableCanvasRendering?this.chartObj.canvasElement:this.chartObj.gPreviewSeriesGroupEle,w)):this.chartObj.svgRenderer.drawPath(p,this.gSeriesGroupEle,w))},setAreaSeriesStyle:function(r){var u=n.inArray(r,this.chartObj.model._visibleSeries),_=this.chartObj.model.seriesColors[u];return{SeriesInterior:r.isTransposed?this.chartObj.svgRenderer.createGradientElement(this.getSeriesName(r)+u,_,100,0,0,0,this.chartObj.gSeriesEle):this.chartObj.svgRenderer.createGradientElement(this.getSeriesName(r)+u,_,0,0,0,100,this.chartObj.gSeriesEle)}},naturalSpline:function(r,u,_,w){var g,b,C,T,D,R,V,F,A,v=r.length,a=[],s=[],h=[],t=[],o=[],l=ej.util.isNullOrUndefined(u.cardinalSplineTension)?.5:u.cardinalSplineTension<0?0:u.cardinalSplineTension>1?1:u.cardinalSplineTension,p="splinerangearea"==u.type.toLowerCase()?_:0;if(w&&"datetime"==w._valueType)for(g=r,F=0;F<g.length;F++)"object"==typeof(b=g[F].YValues[0])&&(g[F].YValues[0]=Date.parse(b));if("monotonic"==u.splineType){for(V=0;V<v-1;V++)a[V]=r[V+1].xValue-r[V].xValue,s[V]=r[V+1].YValues[p]-r[V].YValues[p],h[V]=s[V]/a[V];for(C=h.length,t[0]=h[0],t[v-1]=h[C-1],D=0;D<a.length;D++)C>D+1&&(t[D+1]=h[D]*h[D+1]<=0?0:3*(T=a[D]+a[D+1])/((T+a[D+1])/h[D]+(T+a[D])/h[D+1]))}else if("cardinal"==u.splineType)for(V=0;V<v;V++)t[V]=0==V?v>2?l*(r[V+2].xValue-r[V].xValue):0:V==v-1?v>2?l*(r[v-1].xValue-r[v-3].xValue):0:l*(r[V+1].xValue-r[V-1].xValue);else{for("clamped"==u.splineType?(R=(r[v-1].xValue-r[v-2].xValue)/(r[v-1].YValues[p]-r[v-2].YValues[p]),t[0]=3*(r[1].YValues[p]-r[0].YValues[p])/(r[1].xValue-r[0].xValue)-(r[1].xValue-r[0].xValue)/(r[1].YValues[p]-r[0].YValues[p])*3,o[0]=.5,t[r.length-1]=3*R-3*(r[r.length-1].YValues[p]-r[r.length-2].YValues[p])/(r[r.length-1].xValue-r[r.length-2].xValue),t[0]="Infinity"==Math.abs(t[0])?0:t[0],t[r.length-1]="Infinity"==Math.abs(t[r.length-1])?0:t[r.length-1]):(t[0]=o[0]=0,t[r.length-1]=0),V=1;V<v-1;V++){var z=r[V].xValue-r[V-1].xValue,N=r[V+1].xValue-r[V-1].xValue,U=r[V+1].xValue-r[V].xValue,J=r[V+1].YValues[p]-r[V].YValues[p]||null,Q=r[V].YValues[p]-r[V-1].YValues[p]||null;0==z||0==N||0==U?(t[V]=0,o[V]=0):(t[V]=-(F=1/(z*t[V-1]+2*N))*U,o[V]=F*(6*(J/U-Q/z)-z*o[V-1]))}for(A=v-2;A>=0;A--)t[A]=t[A]*t[A+1]+o[A]}return t},getDaysInMonth:function(r,u){return new Date(u,r+1,0).getDate()},getBezierControlPoints:function(r,u,_,w,v,a,s){var h,t,o,l,L,I,R,V,p=864e5,g=new Date(r.xValue),b=s.chartObj.model.hAxes.length,C=n.inArray(a,s.chartObj.model._visibleSeries),T=C!=b&&C<b?C:0;if("cardinal"==a.splineType){if(ej.util.isNullOrUndefined(s.chartObj.model.hAxes[T].intervalType)||"years"==s.chartObj.model.hAxes[T].intervalType.toLowerCase()||"auto"==s.chartObj.model.hAxes[T].intervalType.toLowerCase())o=_/(p*(L=(D=new Date(g.getFullYear()))%4!=0||D%100!=0&&D%400==0?365:366)),l=w/(p*L);else if("months"==s.chartObj.model.hAxes[T].intervalType.toLowerCase()){var F=new Date(g),D=F.getFullYear(),A=F.getMonth(),z=ej.EjSeriesRender.prototype.getDaysInMonth(A,D);o=_/(p*z),l=w/(p*z)}else o=_,l=w;h={xValue:r.xValue+_/3,YValues:[r.YValues[v]+o/3]},t={xValue:u.xValue-w/3,YValues:[u.YValues[v]-l/3]}}else if("monotonic"==a.splineType)h={xValue:r.xValue+(I=(u.xValue-r.xValue)/3),YValues:[r.YValues[v]+_*I]},t={xValue:u.xValue-I,YValues:[u.YValues[v]-w*I]};else{R=1/3,V=u.xValue-r.xValue,V*=V;var N=2*parseFloat(r.xValue)+parseFloat(u.xValue),U=parseFloat(r.xValue)+2*parseFloat(u.xValue);h={xValue:N*R,YValues:[R*(2*r.YValues[v]+u.YValues[v]-R*V*(_+.5*w))]},t={xValue:U*R,YValues:[R*(r.YValues[v]+2*u.YValues[v]-R*V*(.5*_+w))]}}return{controlPoint1:h,controlPoint2:t}},improveChartPerformance:function(r){for(var p,g,b,u=[],_=r.pointCollection&&r.dragPoint?r.pointCollection:r.points,w=this.chartObj.model.m_AreaBounds,v=0,a=r.xAxis.visibleRange.delta/w.Width,s=r.yAxis.visibleRange.delta/w.Height,h=_[0]&&_[0].xValue>a?0:a,t=_[0]&&_[0].y>s?0:s,o=0,l=0,C=_.length,T=0,D=0,L=!0,I=0,R=C>0&&_[0].xValue,V=0;V<C;V++)o=(p=_[V]).xValue,l=p.YValues[0],p.fill&&(r.pointFill=!0),L&&o!=R&&(L=R<o,R=o),(p.isEmpty||null==o||null==l||o!=o||l!=l||isNaN(o)||isNaN(l))&&(p.isEmpty=!0),null==o&&(p.xValue=r.xAxis.visibleRange.min),null==l&&(p.YValues[0]=r.yAxis.visibleRange.min),p.marker&&p.marker.visible&&T++,p.marker&&p.marker.dataLabel&&p.marker.dataLabel.visible&&D++,p.isEmpty&&v++,b=l-t,((g=o-h)>=a||-g>=a||b>=s||-b>=s)&&(p.visible=!p.isEmpty||p.visible||!1,u[I++]=p,o==o&&(h=o),l==l&&(t=l));return L&&(r._sorted=L),r._pointMarker=T,r._dataLabels=D,0==v&&r.marker&&!r.marker.dataLabel.visible?u:this._calculateEmptyPoints(r,u)},_isVisiblePoints:function(r){for(var _,w,u=r.pointCollection&&r.dragPoint?r.pointCollection:r.points,v=ej.util.isNullOrUndefined,a=u.length,s=0;s<a;s++)w=!v(u[s].isEmpty)&&u[s].isEmpty,u[s].visible=!!v(u[s].visible)||u[s].visible,v(u[s].xValue)?(u[s].isEmpty=!0,u[s].visible=!1,u[s].xValue=r.xAxis?r.xAxis.visibleRange.min:null):u[s].isEmpty=w,"object"!=typeof u[s].YValues[0]&&isNaN(u[s].YValues[0])||null==u[s].YValues[0]||"undefined"==u[s].YValues[0]||!r.isIndicator&&r._hiloTypes&&(isNaN(u[s].YValues[1])||null==u[s].YValues[1]||null==u[s].YValues[1])?(u[s].isEmpty=!0,u[s].visible=!1):(u[s].isEmpty=u[s].isEmpty,u[s].visible=u[s].isEmpty?!u[s].isEmpty:u[s].visible),v(u[s].x)||"date"==jQuery.type(u[s].xValue)&&(u[s].xValue=u[s].xValue.getTime());return _=r.emptyPointSettings?this._calculateEmptyPoints(r,u):u,"waterfall"==r.type.toLowerCase()&&this.chartObj.calculateWaterfallSeriesPoints(_),r._visiblePoints=_,_},_calculateEmptyPoints:function(r,u,_){var w,b,C,D,L,I,v=r.emptyPointSettings,a=v.style,s=a.color,h=ej.util.isNullOrUndefined,t=a.border.color,o=a.border.width,l=v.displayMode.toLowerCase(),p=v.visible,g=u.length,T=[];if(w=n.extend(!0,{},u,w),D=r.type.toLowerCase(),w.length=u.length,l="boxandwhisker"==D?"gap":l,p)if("gap"!=l)for(I=0;I<g;I++)if(w[I].actualIndex=h(_)?I:_.model._isPieOfPie?w[I].actualIndex:I,!(b=w[I]).isEmpty||h(b.x)&&"string"!=r._xAxisValueType)h(w[I].x)&&"string"!=r._xAxisValueType||T.push(b);else{switch(""!=s&&(b.fill=s),""!=t&&(b.border=b.border?b.border:{},b.border.color=t,b.border.width=o),l){case"average":r._hiloTypes?("splinerangearea"==D&&this._setsraPoint(w[I]),n.each(b.YValues,function(R,V){b.YValues[R]=V=((w[I-1]?w[I-1].YValues[R]:0)+(w[I+1]?w[I+1].isEmpty?0:w[I+1].YValues[R]:0))/2,ej.EjSeriesRender.prototype._sethlocPoint(R,b,V)})):(b.YValues[0]=C=((w[I-1]?w[I-1].y:0)+(w[I+1]?w[I+1].isEmpty?0:w[I+1].y:0))/2,b.y=C);break;case"zero":r._hiloTypes?("splinerangearea"==D&&this._setsraPoint(w[I]),n.each(b.YValues,function(R){b.y=0,b.YValues[R]=0,ej.EjSeriesRender.prototype._sethlocPoint(R,b,0)})):(L=-1!=D.indexOf("stackingspline")?w[I].YValues[0]:0,b.YValues[0]=L,b.y=L)}b.isEmpty=!1,b.visible=!0,T.push(b)}else for(I=0;I<g;I++)w[I].actualIndex=h(_)?I:_.model._isPieOfPie?w[I].actualIndex:I,"splinerangearea"==D&&this._setsraPoint(w[I]),T[I]=w[I];else for(I=0;I<g;I++)w[I].actualIndex=I,w[I].visible&&T.push(w[I]);return T},_setsraPoint:function(r){var u=ej.util.isNullOrUndefined;u(r.YValues[0])&&(r.YValues[0]=0),u(r.YValues[1])&&(r.YValues[1]=0)},_sethlocPoint:function(r,u,_){switch(r){case 0:u.high=_;break;case 1:u.low=_;break;case 2:u.open=_;break;case 3:u.close=_}},_calculatePolarAxesSegment:function(r){var v,V,F,A,z,J,ue,ne,se,ee,W,pe,M,fe,H,Z,u=r._visiblePoints,_=ej.EjSvgRender.utils._getStringBuilder(),w=n.inArray(r,this.chartObj.model._visibleSeries),a=this.chartObj.model.centerX,s=this.chartObj.model.centerY,h=this._getSeriesPosition(r),t=r.drawType.toLowerCase(),C=(ej.EjSvgRender.utils._getStringBuilder(),this.setLineSeriesStyle(r),-1),T=null,D=null,L=null,I=null,R=null,U=this.chartObj;if((v=n.extend(!0,{},r.marker.size,v)).width<=10&&(v.width=v.height=1.5*this.chartObj.model.elementSpacing),"column"==r.drawType.toLowerCase()||"rangecolumn"==r.drawType.toLowerCase()){J=0,this.gSeriesGroupEle=this.chartObj.svgRenderer.createGroup({id:this.chartObj.svgObject.id+"_SeriesGroup_"+w}),oe=r.xAxis.visibleRange.interval,r.xAxis.labelPlacement=r.xAxis.labelPlacement?r.xAxis.labelPlacement:"betweenticks",ue=0,("category"!=r.xAxis._valueType||"category"==r.xAxis._valueType&&"onticks"==r.xAxis.labelPlacement)&&(ue=oe/2),he=r.xAxis.isInversed?0:1;var re=oe/=h.all,te=r._visiblePoints,ae=te.length;for(se=0;se<ae;se++)ee=te[se].xValue-r.xAxis.visibleRange.min+(oe*h.pos-ue),ee/=this.chartObj.model.sumofYValues,re=r.xAxis.visibleRange.interval/h.all,(ne=te[se]).startAngle=2*Math.PI*ee,ne.endAngle=2*Math.PI*(ee+re/this.chartObj.model.sumofYValues);te[te.length-1].startAngle||(te[te.length-1].startAngle=te[0].startAngle,te[te.length-1].endAngle=te[0].endAngle)}for(W=!1,pe=0;pe<u.length;pe++){if("scatter"==t)M=ej.EjSvgRender.utils.TransformToVisible(r,u[pe].xValue,u[pe].y,this.chartObj),this.drawSymbol(w,r,pe,M.X,M.Y);else if("line"==r.drawType.toLowerCase())M=ej.EjSvgRender.utils.TransformToVisible(r,u[pe].xValue,u[pe].y,this.chartObj),pe<u.length-1&&u[pe+1].visible?(fe=ej.EjSvgRender.utils.TransformToVisible(r,u[pe+1].xValue,u[pe+1].y,this.chartObj),_.append("M "+M.X+" "+M.Y+" L "+fe.X+" "+fe.Y+" ")):pe==u.length-1&&r.isClosed&&(fe=ej.EjSvgRender.utils.TransformToVisible(r,u[0].xValue,u[0].y,this.chartObj),_.append("M "+M.X+" "+M.Y+" L "+fe.X+" "+fe.Y+" "));else if("column"==r.drawType.toLowerCase()){var he=r.xAxis.isInversed?0:1,oe=(oe=r.xAxis.visibleRange.interval)/h.all,de=this.chartObj.model.Radius*ej.EjSvgRender.utils._valueToCoefficient(r.yAxis,u[pe].y),_e=-.5*Math.PI,Se=u[pe].startAngle+_e,be=u[pe].endAngle+_e-1e-6;if(r.isStacking){Ce=a+(de=(xe=r.stackedValue.StartValues[pe])==(O=r.stackedValue.EndValues[pe])?0:this.chartObj.model.Radius*ej.EjSvgRender.utils._valueToCoefficient(r.yAxis,O))*Math.cos(Se),Pe=s+de*Math.sin(Se),ke=a+de*Math.cos(be),Ne=s+de*Math.sin(be);var je=a+(J=this.chartObj.model.Radius*ej.EjSvgRender.utils._valueToCoefficient(r.yAxis,0==xe&&0!=r.yAxis.visibleRange.min?r.yAxis.visibleRange.min:xe))*Math.cos(Se),Ae=s+J*Math.sin(Se),Oe=a+J*Math.cos(be),Fe=s+J*Math.sin(be);Le=this.chartObj.model.isPolar?"M "+Ce+" "+Pe+" A "+de+" "+de+" 0 0 "+he+" "+ke+" "+Ne+" L "+Oe+" "+Fe+" A "+J+" "+J+" 1 0 0 "+je+" "+Ae+" z":"M "+Ce+" "+Pe+" L "+ke+" "+Ne+" L "+Oe+" "+Fe+" L "+je+" "+Ae+" z"}else Ce=a+de*Math.cos(Se),Pe=s+de*Math.sin(Se),ke=a+de*Math.cos(be),Ne=s+de*Math.sin(be),Le=this.chartObj.model.isPolar?"M "+Ce+" "+Pe+" A "+de+" "+de+" 0 0 "+he+" "+ke+" "+Ne+" L "+a+" "+s+" z":"M "+Ce+" "+Pe+" L "+ke+" "+Ne+" L "+a+" "+s+" z";var $e=this.chartObj.svgRenderer.createGradientElement(this.getSeriesName(r)+"_"+w+pe,this.chartObj.model.seriesColors[w],0,0,0,100,this.chartObj.gSeriesEle),Be={id:this.chartObj.svgObject.id+"_Series"+w+"_Point"+pe,fill:$e,stroke:(He=r.border).color,"stroke-dasharray":He.dashArray,"stroke-width":He.width,opacity:r.opacity,pointIndex:pe,d:Le,start:u[pe].startAngle-1.57,end:u[pe].endAngle-1.57,radius:de,innerR:J};this.chartObj.model.isPolar&&(Be.x=a,Be.y=s,Z={PointIndex:pe,StartAngle:u[pe].startAngle,EndAngle:u[pe].endAngle,CenterX:a,CenterY:s,Radius:de,DRadius:J}),"radar"==r.type&&(Z={PointIndex:pe,Line1:{x:a,y:s},Line2:{x:Ce,y:Pe},Line3:{x:ke,y:Ne}},Be.hasStackingInnerRadius=!!J),ne=r._visiblePoints[pe],(!ej.util.isNullOrUndefined(r.marker)&&r.marker.visible||!ej.util.isNullOrUndefined(r.marker)&&r.marker.dataLabel.visible)&&(ne.symbolLocation={X:(Ce+ke)/2,Y:(Pe+Ne)/2}),this.chartObj.svgRenderer.drawPath(Be,this.gSeriesGroupEle)}else if("spline"==t)te=this.chartObj.dragPoint?r.pointCollection:this._isVisiblePoints(r),M=ej.EjSvgRender.utils.TransformToVisible(r,u[pe].xValue,u[pe].y,this.chartObj),pe<u.length-1&&u[pe+1].visible&&(fe=ej.EjSvgRender.utils.TransformToVisible(r,u[pe+1].xValue,u[pe+1].y,this.chartObj),V=this.naturalSpline(u,r),F=C=pe,T=(L=this.getBezierControlPoints(te[pe],te[pe+1],V[C],V[F],0,r,this)).controlPoint1,D=L.controlPoint2,I=ej.EjSvgRender.utils.TransformToVisible(r,T.xValue,T.YValues,U),R=ej.EjSvgRender.utils.TransformToVisible(r,D.xValue,D.YValues,U),_.append("M "+M.X+" "+M.Y+" C "+I.X+" "+I.Y+" "+R.X+" "+R.Y+" "+fe.X+" "+fe.Y+" "),r.isClosed&&pe==u.length-1&&null!=M&&(A=ej.EjSvgRender.utils.TransformToVisible(r,u[0].xValue,u[0].y,U),F=C=0,T=(L=this.getBezierControlPoints(te[te.length-1],te[0],V[C],V[F],0,r,this)).controlPoint1,D=L.controlPoint2,I=ej.EjSvgRender.utils.TransformToVisible(r,T.xValue,T.YValues,U),R=ej.EjSvgRender.utils.TransformToVisible(r,D.xValue,D.YValues,U),_.append("M "+fe.X+" "+fe.Y+" C "+(I.X+U.canvasX)+" "+(I.Y+U.canvasY)+" "+(R.X+U.canvasX)+" "+(R.Y+U.canvasY)+" "+A.X+" "+A.Y+" ")));else if("rangecolumn"==r.drawType.toLowerCase()){var Ce,Pe,ke,Ne,Le,xe,O,He;he=r.xAxis.isInversed?0:1,oe=(oe=r.xAxis.visibleRange.interval)/h.all,_e=-.5*Math.PI,Se=u[pe].startAngle+_e,be=u[pe].endAngle+_e-1e-6,Ce=a+(de=(xe=u[pe].YValues[1])==(O=u[pe].YValues[0])?0:this.chartObj.model.Radius*ej.EjSvgRender.utils._valueToCoefficient(r.yAxis,O))*Math.cos(Se),Pe=s+de*Math.sin(Se),ke=a+de*Math.cos(be),Ne=s+de*Math.sin(be),je=a+(J=this.chartObj.model.Radius*ej.EjSvgRender.utils._valueToCoefficient(r.yAxis,0==xe&&0!=r.yAxis.visibleRange.min?r.yAxis.visibleRange.min:xe))*Math.cos(Se),Ae=s+J*Math.sin(Se),Oe=a+J*Math.cos(be),Fe=s+J*Math.sin(be),Le=this.chartObj.model.isPolar?"M "+Ce+" "+Pe+" A "+de+" "+de+" 0 0 "+he+" "+ke+" "+Ne+" L "+Oe+" "+Fe+" A "+J+" "+J+" 1 0 0 "+je+" "+Ae+" z":"M "+Ce+" "+Pe+" L "+ke+" "+Ne+" L "+Oe+" "+Fe+" L "+je+" "+Ae+" z",$e=this.chartObj.svgRenderer.createGradientElement(this.getSeriesName(r)+"_"+w+pe,this.chartObj.model.seriesColors[w],0,0,0,100,this.chartObj.gSeriesEle),Be={id:this.chartObj.svgObject.id+"_Series"+w+"_Point"+pe,fill:$e,stroke:(He=r.border).color,"stroke-dasharray":He.dashArray,"stroke-width":He.width,opacity:r.opacity,pointIndex:pe,d:Le,start:u[pe].startAngle-1.57,end:u[pe].endAngle-1.57,radius:de,innerR:J},this.chartObj.model.isPolar&&(Be.x=a,Be.y=s,Z={PointIndex:pe,StartAngle:u[pe].startAngle,EndAngle:u[pe].endAngle,CenterX:a,CenterY:s,Radius:de,DRadius:J}),"radar"==r.type&&(Z={PointIndex:pe,Line1:{x:Oe,y:Fe},Line2:{x:Ce,y:Pe},Line3:{x:ke,y:Ne},Line4:{x:je,y:Ae}},Be.hasStackingInnerRadius=!!J),ne=r._visiblePoints[pe],(!ej.util.isNullOrUndefined(r.marker)&&r.marker.visible||!ej.util.isNullOrUndefined(r.marker)||r.marker.dataLabel.visible)&&(ne.symbolLocation={X:(Ce+ke)/2,Y:(Pe+Ne)/2},this.chartObj.svgRenderer.drawPath(Be,this.gSeriesGroupEle))}else if(r.isStacking){if(xe=r.stackedValue.StartValues[pe],O=r.stackedValue.EndValues[pe],0==pe)for(M=ej.EjSvgRender.utils.TransformToVisible(r,u[pe].xValue,O,this.chartObj),H=u.length-1;H>=0;H--)xe=r.stackedValue.StartValues[H],u[H].y=Math.max(r.yAxis.actualRange.min,xe),M=ej.EjSvgRender.utils.TransformToVisible(r,u[H].xValue,u[H].y,this.chartObj),_.append((H==u.length-1?"M":"L")+" "+M.X+" "+M.Y+" ");pe<=u.length-1&&(u[pe].y=O,M=ej.EjSvgRender.utils.TransformToVisible(r,u[pe].xValue,u[pe].y,this.chartObj),_.append("L "+M.X+" "+M.Y+" "),pe==u.length-1&&(r.isClosed?(fe=ej.EjSvgRender.utils.TransformToVisible(r,u[0].xValue,r.stackedValue.EndValues[0],this.chartObj),A=ej.EjSvgRender.utils.TransformToVisible(r,u[0].xValue,r.stackedValue.StartValues[0],this.chartObj),z=ej.EjSvgRender.utils.TransformToVisible(r,u[pe].xValue,r.stackedValue.StartValues[pe],this.chartObj),_.append("L "+fe.X+" "+fe.Y+"  L "+A.X+" "+A.Y+"  L "+z.X+" "+z.Y+"  L "+A.X+" "+A.Y+" z ")):_.append("L "+a+" "+s+" ")))}else M=ej.EjSvgRender.utils.TransformToVisible(r,u[pe].xValue,u[pe].y,this.chartObj),0==pe||W?_.append("M "+M.X+" "+M.Y+" "):pe==u.length-1?r.isClosed?(fe=ej.EjSvgRender.utils.TransformToVisible(r,u[0].xValue,u[0].y,this.chartObj),_.append("L "+M.X+" "+M.Y+" z")):_.append("L "+M.X+" "+M.Y+" L "+a+" "+s):_.append(u[pe+1].visible?"L "+M.X+" "+M.Y+" ":"L "+M.X+" "+M.Y+" L "+a+" "+s+" z"),W=!(u[pe+1]&&u[pe+1].visible);r.regionAdded||"column"==r.drawType.toLowerCase()||"rangecolumn"==r.drawType.toLowerCase()||(Z={X:M.X-v.width/2,Y:M.Y-v.height/2,Width:v.width,Height:v.height},ej.EjSvgRender.utils._addRegion(this.chartObj,Z,r,u[pe],pe)),(!r.regionAdded&&"column"==r.drawType.toLowerCase()&&this.chartObj.model.enableCanvasRendering||"rangecolumn"==r.drawType.toLowerCase()&&this.chartObj.model.enableCanvasRendering)&&ej.EjSvgRender.utils._addRegion(this.chartObj,Z,r,null,null)}return(r.regionAdded||"column"!=r.drawType.toLowerCase()||this.chartObj.model.enableCanvasRendering)&&("rangecolumn"!=r.drawType.toLowerCase()||this.chartObj.model.enableCanvasRendering)||ej.EjSvgRender.utils._addRegion(this.chartObj,Z,r,null,null),_.toString()},_calculateVisiblePoints:function(r,u){for(var _,a,t,l,p,w=[],v=[],s=ej.util.isNullOrUndefined,h=s(u)?r.points:u.model._isPieOfPie?r.pieCollections[r.collectionIndex]:r.points,o=h.length,g=0;g<o;g++)s((p=h[g])._visibility)&&(p._visibility="visible"),p.actualIndex=s(u)?g:u.model._isPieOfPie?p.actualIndex:g,p.visible=!p.isEmpty&&p.visible,s(p.visible)&&(p.visible=!0),p.y<0&&(p.YValues[0]=Math.abs(p.YValues[0])),s(p.x)&&"string"!=r._xAxisValueType&&(p.visible=!1,p.isEmpty=!0),s(p.y)&&(p.visible=!1,p.isEmpty=!0);if((t=n.extend(!0,{},h,t)).length=o,r.emptyPointSettings.visible)for(a=(l=this._calculateEmptyPoints(r,t,u)).length,_=0;_<a;_++)l[_].visible?(l[_].visible="hidden"!=l[_]._visibility,v.push(l[_]),l[_].visible&&w.push(l[_])):(l[_].y=((l[_-1]?l[_-1].y:0)+(l[_+1]?l[_+1].y:0))/2,isNaN(l[_].y)&&(l[_].y=((l[_-2]?l[_-2].y:0)+(l[_+2]?l[_+2].y:0))/2),l[_].YValues[0]=l[_].y,s(l[_].x)&&"string"!=r._xAxisValueType||(l[_].gapMode=!0,w.push(l[_])));else for(_=0;_<o;_++)v.push(t[_]),t[_].visible&&(t[_].visible="hidden"!=t[_]._visibility,t[_].visible&&w.push(t[_]));if("hidden"==r.visibility)for(g=0;g<v.length;g++)v[g].visible=!1;return r._visiblePoints=w,r.visiblePoints=v,{visiblePoints:w,legendPoints:v}},getMinMaxValue:function(r,u,_){var h,w=Math.min(r.x,u.x),v=Math.min(r.y,u.y),a=Math.max(r.x,u.x),s=Math.max(r.y,u.y);switch(_){case 0:case 360:h=s;break;case 90:h=w;break;case 180:h=v;break;case 270:h=a}return h},pieDoughnutCenter:function(r){var s,u=r.startAngle,_=r.endAngle;this.chartObj.model.centerCount++;var h=n.inArray(r,this.chartObj.model._visibleSeries),t=[-630,-540,-450,-360,-270,-180,-90,0,90,180,270,360,450,540,630],o=[],l=this.chartObj.model.circleCenterX[h],p=this.chartObj.model.circleCenterY[h];if(r.startAngle<r.endAngle)for(s=0;s<t.length;s++)t[s]>u&&t[s]<_&&(o[o.length]=t[s]%360<0?t[s]%360+360:t[s]%360);else for(s=0;s<t.length;s++)t[s]<u&&t[s]>_&&(o[o.length]=t[s]%360<0?t[s]%360+360:t[s]%360);if(1==this.chartObj.model.centerCount){var g=this.chartObj.model.circularRadius[h],b=2*Math.PI*(u-90)/360,C=2*Math.PI*(_-90)/360,T={x:this.chartObj.model.circleCenterX[h],y:this.chartObj.model.circleCenterY[h]},D={x:this.chartObj.model.circleCenterX[h]+g*Math.cos(b),y:this.chartObj.model.circleCenterY[h]+g*Math.sin(b)},L={x:this.chartObj.model.circleCenterX[h]+g*Math.cos(C),y:this.chartObj.model.circleCenterY[h]+g*Math.sin(C)};switch(o.length){case 0:var a,I=Math.abs(T.x-D.x)>Math.abs(T.x-L.x)?D.x:L.x,R=Math.abs(T.y-D.y)>Math.abs(T.y-L.y)?D.y:L.y;this.chartObj.model.circleCenterX[h]=this.chartObj.model.circleCenterX[h]+(this.chartObj.model.circleCenterX[h]-(a={x:(T.x+I)/2,y:(T.y+R)/2}).x),this.chartObj.model.circleCenterY[h]=this.chartObj.model.circleCenterY[h]+(this.chartObj.model.circleCenterY[h]-a.y);break;case 1:switch(w=2*Math.PI*(o[0]-90)/360,v={x:this.chartObj.model.circleCenterX[h]+g*Math.cos(w),y:this.chartObj.model.circleCenterY[h]+g*Math.sin(w)},o[0]){case 0:case 360:A={x:D.x,y:v.y},z={x:L.x,y:T.y};break;case 90:A={x:T.x,y:L.y},z={x:v.x,y:D.y};break;case 180:A={x:L.x,y:T.y},z={x:D.x,y:v.y};break;case 270:A={x:v.x,y:D.y},z={x:T.x,y:L.y}}this.chartObj.model.circleCenterX[h]=this.chartObj.model.circleCenterX[h]+(this.chartObj.model.circleCenterX[h]-(a={x:(A.x+z.x)/2,y:(A.y+z.y)/2}).x>=g?0:this.chartObj.model.circleCenterX[h]-a.x),this.chartObj.model.circleCenterY[h]=this.chartObj.model.circleCenterY[h]+(this.chartObj.model.circleCenterY[h]-a.y>=g?0:this.chartObj.model.circleCenterY[h]-a.y);break;case 2:var A,z,V=2*Math.PI*(o[0]-90)/360,w=2*Math.PI*(o[1]-90)/360,v={x:this.chartObj.model.circleCenterX[h]+g*Math.cos(w),y:this.chartObj.model.circleCenterY[h]+g*Math.sin(w)},F={x:this.chartObj.model.circleCenterX[h]+g*Math.cos(V),y:this.chartObj.model.circleCenterY[h]+g*Math.sin(V)};A=90==o[0]&&180==o[1]||270==o[0]&&0==o[1]?{x:F.x,y:v.y}:{x:v.x,y:F.y},z=90==o[0]||270==o[0]?{x:this.getMinMaxValue(D,L,o[0]),y:this.getMinMaxValue(D,L,o[1])}:{x:this.getMinMaxValue(D,L,o[1]),y:this.getMinMaxValue(D,L,o[0])},a={x:Math.abs(A.x-z.x)/2>=g?0:(A.x+z.x)/2,y:Math.abs(A.y-z.y)/2>=g?0:(A.y+z.y)/2},this.chartObj.model.circleCenterX[h]=this.chartObj.model.circleCenterX[h]+(0==a.x||this.chartObj.model.circleCenterX[h]-a.x>=g?0:this.chartObj.model.circleCenterX[h]-a.x),this.chartObj.model.circleCenterY[h]=this.chartObj.model.circleCenterY[h]+(0==a.y||this.chartObj.model.circleCenterY[h]-a.y>=g?0:this.chartObj.model.circleCenterY[h]-a.y)}}for(s=0;s<r.points.length;s++)h<this.chartObj.model._visibleSeries.length&&this.chartObj.model.centerCount>1&&this.chartObj.model._visibleSeries[h+1].startAngle==u&&this.chartObj.model._visibleSeries[h+1].endAngle==_&&(this.chartObj.model.circleCenterX[h]=this.chartObj.model.circleCenterX[h+1],this.chartObj.model.circleCenterY[h]=this.chartObj.model.circleCenterY[h+1]),this.chartObj.model.startX[s]=this.chartObj.model.startX[s]-(l-this.chartObj.model.circleCenterX[h]),this.chartObj.model.startY[s]=this.chartObj.model.startY[s]-(p-this.chartObj.model.circleCenterY[h])},_drawEmptyPieOfPie:function(r){var u=-.5*Math.PI,_=2*Math.PI+-.5*Math.PI-1e-6,w=r.model.circleCenterX[1],v=r.model.circleCenterY[1],a=r.model.circularRadius[1],s="M "+(w+a*Math.cos(u))+" "+(v+a*Math.sin(u))+" A "+a+" "+a+" 0 1 1 "+(w+a*Math.cos(_))+" "+(v+a*Math.sin(_))+" z",h=r.model.theme.toLowerCase();return{id:r.svgObject.id+"_Series0_EmptyCircle",fill:"none","stroke-width":1.5,stroke:h.indexOf("dark")>=0||h.indexOf("contrast")>=0?" #FFFFFF":"#000000","stroke-dasharray":"",d:s,opacity:1,radius:a,start:-1.57,end:2*Math.PI-1.57,cx:w,cy:v}},calculatingSliceAngle:function(r,u){var p,T,V,F,A,N,U,J,Q,oe,ue,le,ne,he,se,ee,re,_=this.chartObj?this.chartObj:u,w=_.model,v=w.legend,a=n.inArray(r,w._visibleSeries),s=v.position.toLowerCase(),h=w.LegendActualBounds,t=r._visiblePoints,o=t.length,l=0,g=0,b=v.border.width,C=w.border.width,D=w.margin,L=w.elementSpacing,I=0,R=w.title.subTitle.text?w.title.subTitle:"";for(w.arcData=[],r.rightsidePoints=[],r.leftsidePoints=[],r.labels=[],w.sumofYValues=0,w.midPoint=0,V=r.type.toLowerCase(),F=r.gapWidth,re=0;re<t.length;re++)w.sumofYValues+=t[re].YValues[0];p=360!=(p=null!=r.endAngle&&"pieofpie"!=V?r.endAngle-r.startAngle:360)&&-360!=p?p%360:p,r.startAngle&&"pieofpie"!=V?(r.startAngle=r.startAngle%360,r.endAngle=r.startAngle+p,I=r.startAngle?w.sumofYValues/360*r.startAngle:0,I=Number((I/w.sumofYValues).toFixed(2)),I=isFinite(I)?I:0,w.itemCurrentXPos=I):r.endAngle=p,v.visible&&"custom"!=s&&("right"==s||"left"==s?l+=h.Width+2*b+L:g+=h.Height+2*b+L);var W=w.title.text&&w.title.visible?w._titleLocation.size.height+w.elementSpacing+(""==R?0:R.text&&R.visible&&R.enableTrim&&("wrap"==R.textOverflow||"wrapandtrim"==R.textOverflow)?w._subTitleLocation.size.height:0):0,pe=.1*Math.min(n(_.svgObject).width(),n(_.svgObject).height()),M=n(_.svgObject).width()-(l+D.left+D.right+2*C)-("pieofpie"==V?F:0),fe=n(_.svgObject).height()-(g+W+D.top+D.bottom+2*C);for(a=_.model._isPieOfPie?r.collectionIndex:a,"pieofpie"==V&&(M<pe&&(A=pe-M,M=pe),F=A?F-A:n(_.svgObject).width()>=F?F:0),w.circleCenterX[a]=M*("pieofpie"==V?0==a?.25:.75:.5)+(1==a&&"pieofpie"==V?F:0)+D.left+(v.visible&&"left"===s?l:0),w.circleCenterY[a]=.5*fe+D.top+W+(v.visible&&"top"===s?g+L:L),ej.util.isNullOrUndefined(_.model.pieGapWidth)||0==_.model.pieGapWidth||(w.circleCenterX[a]=0==a?w.circleCenterX[a]+_.model.pieGapWidth/2:w.circleCenterX[a]-_.model.pieGapWidth/2),r.startAngle="pieofpie"==V?0:r.startAngle,N=(p=r.endAngle-r.startAngle)/180,U=p/4*(Math.PI/180),J=0;J<o;J++)((T=r._visiblePoints[J]).visible||T.gapMode)&&(Q="pieofpie"==V?T.actualIndex:J,oe=T.YValues[0]/w.sumofYValues,oe=isFinite(oe)?oe:0,0==J&&0==a&&"pieofpie"==V?(ue=2*Math.PI*I,le=N*Math.PI*oe+ue,le=isNaN(le)?ue:le,T.start=T.startAngle=U-(he=(le+ue)/2),T.end=T.endAngle=U+he,T.midAngle=U):(T.startAngle=0==J?2*Math.PI*I:"pieofpie"==V?r.pieCollections[a][J-1].endAngle:le,le=T.endAngle=N*Math.PI*oe+T.startAngle,le=T.endAngle=isNaN(le)?T.startAngle:le,T.start=T.startAngle,T.end=T.endAngle,T.midAngle=(T.endAngle+T.startAngle)/2),T.pointIndex=Q,ne=-.5*Math.PI,T.radian=T.midAngle%(2*Math.PI),"outsideextended"==r.labelPosition.toLowerCase()&&"pieofpie"!=V&&(T.radian<Math.PI?r.rightsidePoints.push(T):r.leftsidePoints.push(T)),I+=T.YValues[0]/w.sumofYValues,he=T.midAngle+ne,T.actualIndex!=r.explodeIndex&&!r.explodeAll||_.vmlRendering?(w.startX[Q]=w.circleCenterX[a],w.startY[Q]=w.circleCenterY[a]):(w.startX[Q]=w.circleCenterX[a]+Math.cos(he)*r.explodeOffset,w.startY[Q]=w.circleCenterY[a]+Math.sin(he)*r.explodeOffset));if("outsideextended"==r.labelPosition.toLowerCase()&&(r.rightsidePoints=ej.DataManager(r.rightsidePoints,ej.Query().sortBy("radian")).executeLocal(),r.leftsidePoints=ej.DataManager(r.leftsidePoints,ej.Query().sortBy("radian")).executeLocal()),r.marker.dataLabel.template)if("outsideextended"==r.labelPosition.toLowerCase()){for(se=0;se<r.rightsidePoints.length;se++)ej.EjSvgRender.utils._getSeriesTemplateSize(r.rightsidePoints[se],r.rightsidePoints[se].actualIndex,r,!1,_);for(ee=0;ee<r.leftsidePoints.length;ee++)ej.EjSvgRender.utils._getSeriesTemplateSize(r.leftsidePoints[ee],r.leftsidePoints[ee].actualIndex,r,!0,_)}else for(re=0;re<r._visiblePoints.length;re++)ej.EjSvgRender.utils._getSeriesTemplateSize(r._visiblePoints[re],r._visiblePoints[re].actualIndex,r,!0,_);else ej.EjSvgRender.utils._getSeriesMaxLabel(r);return r.finalSize={width:M,height:fe},r.finalSize},_drawHiloPath:function(r,u,_,w,v,a){var t,o,l,p,g,s=n.inArray(r,this.chartObj.model._visibleSeries);this.chartObj.svgRenderer.drawPath({name:r.type,id:this.chartObj.svgObject.id+"_Series"+s+"_Point"+v,fill:"none","stroke-dasharray":r.dashArray,"stroke-width":u.borderWidth,stroke:_,"stroke-linecap":r.lineCap,"stroke-linejoin":r.lineJoin,opacity:r.opacity,d:w},this.gSeriesGroupEle),g=ej.EjSvgRender.utils._getTransform(r.xAxis,r.yAxis,this.chartObj.model.requireInvertedAxes),l=Math.min(a.point2.X,a.point1.X)+g.x-u.borderWidth,p=Math.min(a.point2.Y,a.point1.Y)+g.y,a.point1.Y!=a.point2.Y?(t=u.borderWidth+u.borderWidth/2,o=Math.abs(a.point1.Y-a.point2.Y)):(t=Math.abs(a.point2.X-a.point1.X),o=u.borderWidth+u.borderWidth/2),ej.EjSvgRender.utils._addRegion(this.chartObj,{X:l,Y:p,Width:t,Height:o},r,null,v)},isIntersec:function(r,u){return!(u.Bottom<r.Top||u.Right<r.Left||u.Top>r.Bottom||u.Left>r.Right)},IntersectWith:function(r,u,_,w,v,a){var h,t,o,l,p,g,b;if((ej.util.isNullOrUndefined(r.model.rightsidebounds[v])||ej.util.isNullOrUndefined(r.model.leftsidebounds[v]))&&(r.model.leftsidebounds[v]=[],r.model.rightsidebounds[v]=[],r.model.leftsidebounds[v].points=[],r.model.rightsidebounds[v].points=[]),"outsideExtended"==w){for(o=v;o<r.model.bounds.length;o++)if("outsideextended"==r.model._visibleSeries[o].labelPosition.toLowerCase()){if(!ej.util.isNullOrUndefined(r.model.bounds[o].points.left)&&r.model.bounds[o].points.left.length>0)for(p=(l=r.model.bounds[o].points.left.length)-1;p>=0&&!ej.util.isNullOrUndefined(r.model.bounds[o].points.left[p]);p--)r.model.leftsidebounds[o].points[p]=r.model.bounds[o].points.left[p];if(!ej.util.isNullOrUndefined(r.model.bounds[o].points.right)&&r.model.bounds[o].points.right.length>0)for(l=r.model.bounds[o].points.right.length,t=0;t<l&&!ej.util.isNullOrUndefined(r.model.bounds[o].points.right[t]);t++)r.model.rightsidebounds[o].points[t]=r.model.bounds[o].points.right[t]}}else if(r.model.bounds[v].points.length>0||v>=0)for(o=v;o<r.model.bounds.length&&!ej.util.isNullOrUndefined(r.model.bounds[o]);o++)if("outsideextended"!=r.model._visibleSeries[o].labelPosition.toLowerCase())for(l=r.model.bounds[o].points.length,p=0;p<l&&!ej.util.isNullOrUndefined(r.model.bounds[o].points[p]);p++)r.model.bounds[o].points[p].X<r.model.circleCenterX[v]?-1==n.inArray(r.model.bounds[o].points[p],r.model.leftsidebounds[o].points)&&(r.model.leftsidebounds[o].points[p]=r.model.bounds[o].points[p]):-1==n.inArray(r.model.bounds[o].points[p],r.model.rightsidebounds[o].points)&&(r.model.rightsidebounds[o].points[p]=r.model.bounds[o].points[p]);for(o=v;o<r.model.bounds.length&&!ej.util.isNullOrUndefined(r.model.bounds[o]);o++)if(r.model.leftsidebounds[o].points.length>0&&(h=r.model.leftsidebounds[o].points).length>0)for(p=h.length-1;p>=0;p--)if(g=h[p],!ej.util.isNullOrUndefined(g)||g==_){if(g.SeriesIndex==_.SeriesIndex&&g.PointIndex==_.PointIndex){if("outside"==u.smartLabelPosition)continue;break}if(this.isIntersec(g,_))return!0;_.X<r.model.circleCenterX[v]&&g.X<r.model.circleCenterX[v]&&"none"!=r.model.series[v].marker.dataLabel.shape&&(b=Math.abs(g.Y-_.Y),a&&b<=a.height&&g.Bottom>_.Top&&g.Left<_.X&&(_.overlap=!0))}for(o=v;o<r.model.bounds.length&&!ej.util.isNullOrUndefined(r.model.bounds[o]);o++)if((h=r.model.rightsidebounds[o].points).length>0)for(p=h.length-1;p>=0;p--)if(g=h[p],!ej.util.isNullOrUndefined(g)||g==_){if(g.SeriesIndex==_.SeriesIndex&&g.PointIndex==_.PointIndex){if("outside"==u.smartLabelPosition)continue;break}if(this.isIntersec(g,_))return!0;_.X>r.model.circleCenterX[v]&&g.X>r.model.circleCenterX[v]&&"none"!=r.model.series[v].marker.dataLabel.shape&&(b=Math.abs(g.Y-_.Y),a&&b<=a.height&&g.Bottom>_.Top&&g.X+(g.Right-g.Left)>_.X&&(_.overlap=!0))}return!1},_calculateArcData:function(r,u,_,w,s,a){s=r.model._isPieOfPie?a:s;var p,g,b,C,t=_.actualIndex,o=r,l=-.5*Math.PI;"doughnut"==w.type.toLowerCase()&&1==w._visiblePoints.length&&360==Math.abs(w.endAngle-w.startAngle)&&w.startAngle%90!=0?(p=parseFloat((_.startAngle+l).toFixed(3)),g=parseFloat((_.endAngle+l).toFixed(3))-1e-6):(p=_.startAngle+l,g=_.endAngle+l-1e-6);var T=w.endAngle-w.startAngle,F=Math,D=(p+g)/2;ej.util.isNullOrUndefined(_.currentMidAngle)&&(_.currentMidAngle=(p+g)/2);var L,I,R,V=T>0?1:0,A=(F=V?g-p<Math.PI?0:1:g-p>-1*Math.PI?0:1,o.model.circularRadius[s]),z=o.model.innerRadius[s];t!=w.explodeIndex&&!w.explodeAll||o.vmlRendering?(I=o.model.circleCenterX[s],R=o.model.circleCenterY[s]):(I=o.model.circleCenterX[s]+Math.cos(D)*w.explodeOffset,R=o.model.circleCenterY[s]+Math.sin(D)*w.explodeOffset);var N=I+A*Math.cos(p),U=R+A*Math.sin(p),J=I+A*Math.cos(g),Q=R+A*Math.sin(g);if("doughnut"==w.type.toLowerCase()){var oe=I+z*Math.cos(p),ue=R+z*Math.sin(p),le=I+z*Math.cos(g),ne=R+z*Math.sin(g),he=V?0:1;p<0&&6==Math.round(_.endAngle-_.startAngle)&&(le-=.01,J-=.01),L="M "+N+" "+U+" A "+A+" "+A+" 0 "+F+" "+V+" "+J+" "+Q+" L "+le+" "+ne+" A "+z+" "+z+" 1 "+F+" "+he+" "+oe+" "+ue+" z"}else(_.endAngle-_.startAngle).toFixed(4)==(2*Math.PI).toFixed(4)?(b=I,C=R,L="M "+N+" "+U+" A "+A+" "+A+" 0 "+F+" "+V+" "+J+" "+Q):L="M "+N+" "+U+" A "+A+" "+A+" 0 "+F+" "+V+" "+J+" "+Q+" L "+I+" "+R+" z";return{Direction:L,centerX:b,centerY:C}},getXCordinate:function(r,u,_){return r+u*Math.cos(_)},getYCordinate:function(r,u,_){return r+u*Math.sin(_)},getDoubleRange:function(r,u){var _,w;return r>u?(_=u,w=r):(_=r,w=u),{Start:_,End:w,Delta:w-_,Median:(_+w)/2,IsEmpty:isNaN(_)||isNaN(w)}},isDependentSeries:function(r){var u=r.type.toLowerCase(),_=this.chartObj.model.requireInvertedAxes;return!_||_&&r.isTransposed?-1!=u.indexOf("bar")&&!r._isTransposed||-1!=u.indexOf("column")||-1!=u.indexOf("waterfall")||-1!=u.indexOf("hilo")||-1!=u.indexOf("candle")||-1!=u.indexOf("boxandwhisker"):-1!=u.indexOf("bar")},getPointXYOrgin:function(r,u,_,w){var a;return _.isTransposed&&w.model.requireInvertedAxes||_._isTransposed?(a=(1-ej.EjSvgRender.utils._valueToCoefficient(_.xAxis,r))*_.xAxis.height,{X:ej.EjSvgRender.utils._valueToCoefficient(_.yAxis,u)*_.yAxis.width,Y:a}):{X:a=ej.EjSvgRender.utils._valueToCoefficient(_.xAxis,r)*_.xAxis.width,Y:(1-ej.EjSvgRender.utils._valueToCoefficient(_.yAxis,u))*_.yAxis.height}},getRectangle:function(r,u,_,w,v,a){var s=this.getPointXYOrgin(r,u,v,a),h=this.getPointXYOrgin(_,w,v,a);return ej.EjSvgRender.utils._correctRect(s.X,s.Y,h.X,h.Y)},calculateMean:function(r,u,_){var w,v,a,s,h,t,o,l,p,g,b,C,T,D,L,I,z,N,R=0,V=0,F=[],A=0;for(r.length>1&&r.sort(function(ee,re){return ee-re}),z=0;z<r.length;z++)R+=r[z];V=R/r.length,V=parseInt(V.toFixed(2)),F[A]=V,A++,"normal"==u.boxPlotMode.toLowerCase()?(w=r.slice(0,r.length%2==0?r.length/2:Math.floor(r.length/2)),s=Math.floor(w.length/2),o=w.length%2==0?(w[s-1]+w[s])/2:w[s],F[A]=o=r.length<=3?r[0]:o,A++,v=r.slice(r.length%2==0?r.length/2:Math.ceil(r.length/2),r.length),h=Math.floor(v.length/2),l=v.length%2==0?(v[h-1]+v[h])/2:v[h],F[A]=l=r.length<=3?r[r.length-1]:l,A++):("exclusive"==u.boxPlotMode.toLowerCase()||"inclusive"==u.boxPlotMode.toLowerCase())&&(w=(1-(b=(p="exclusive"==u.boxPlotMode.toLowerCase()?(r.length+1)/4:(r.length-1)/4)-(g=Math.floor(p))))*r[L="exclusive"==u.boxPlotMode.toLowerCase()?g-1:g]+b*r[L+1],F[A]=o=w=r.length<=3?r[0]:w,A++,v=(1-(D=(C="exclusive"==u.boxPlotMode.toLowerCase()?3*(r.length+1)/4:3*(r.length-1)/4)-(T=Math.floor(C))))*r[I="exclusive"==u.boxPlotMode.toLowerCase()?T-1:T]+D*r[I+1],F[A]=l=v=r.length<=3?r[r.length-1]:v,A++),t=Math.floor(r.length/2),F[A]=a=r.length%2==0?(r[t-1]+r[t])/2:r[t],A++;var J=l-o,Q=l+1.5*J,oe=o-1.5*J,ue=r[r.length-1],le=r[0],ne=[],he=0,se=0;for(N=0;N<r.length;N++)Q<r[N]&&(he++,ne[se]=r[N],se++,ue=r[N-he]),oe>r[N]&&(ne[se]=r[N],se++,le=r[N+1]);return F[A]=le,F[++A]=ue,A++,u._visiblePoints[_].boxPlotValues={Minimum:le,LowerQuartile:o,midvalue:a,UpperQuartile:l,Maximum:ue,boxAverage:V,outliers:ne},u._visiblePoints[_].boxPlotValues.quartileValues=F,{Minimum:le,LowerQuartile:o,midvalue:a,UpperQuartile:l,Maximum:ue,boxAverage:V,outliers:ne}},calculateBoxAndWhiskerPath:function(r,u,_,w,v,a,s){var h,t,o,l;v._visiblePoints[s].boxPlotLocation=[],v._visiblePoints[s].dataLabelLocation=[];var L,I,R,V,F,g=0,b=this,C=v._isTransposed,T=v.outlierSettings.shape.toLowerCase();for(h=0;h<v._visiblePoints[s].boxPlotValues.quartileValues.length;h++)I={xValue:a.xValue,YValues:v._visiblePoints[s].boxPlotValues.quartileValues[h]},R=ej.EjSvgRender.utils._getPoint(I,v),v._visiblePoints[s].boxPlotLocation[g]=R,v._visiblePoints[s].boxPlotLocation[g].xValue=I.xValue,v._visiblePoints[s].boxPlotLocation[g].YValues=I.YValues,v._visiblePoints[s].dataLabelLocation[g]=C?{X:R.X,Y:u.Y+u.Height/2+5}:{X:u.X+u.Width/2,Y:R.Y},g++;for(t=0;t<w.outliers.length&&"none"!=T;t++)V={xValue:a.xValue,YValues:w.outliers[t]},F=ej.EjSvgRender.utils._getPoint(V,v),v._visiblePoints[s].boxPlotLocation[g]=F,v._visiblePoints[s].boxPlotLocation[g].xValue=V.xValue,v._visiblePoints[s].boxPlotLocation[g].YValues=V.YValues,v._visiblePoints[s].boxPlotLocation[g].outlier=!0,C?F.Y=u.Y+u.Height/2:F.X=u.X+u.Width/2,v._visiblePoints[s].dataLabelLocation[g]=C?{X:F.X-v.outlierSettings.size.height,Y:u.Y+u.Height/2+v.outlierSettings.size.width,outlier:!0}:{X:u.X+u.Width/2,Y:F.Y,outlier:!0},g++;return L=v._visiblePoints[s].boxPlotLocation,v._isTransposed?(o="M "+(b.chartObj.canvasX+L[4].X)+" "+(b.chartObj.canvasY+u.Y)+" L "+(L[4].X+b.chartObj.canvasX)+" "+(u.Height+u.Y+b.chartObj.canvasY)+" M "+(b.chartObj.canvasX+L[4].X)+" "+(b.chartObj.canvasY+u.Y+u.Height/2)+" L "+(b.chartObj.canvasX+L[1].X)+" "+(b.chartObj.canvasY+u.Y+u.Height/2)+"  z",l="M "+(b.chartObj.canvasX+L[5].X)+" "+(b.chartObj.canvasY+u.Y)+" L "+(b.chartObj.canvasX+L[5].X)+" "+(u.Height+u.Y+b.chartObj.canvasY)+" M "+(b.chartObj.canvasX+L[5].X)+" "+(b.chartObj.canvasY+u.Y+u.Height/2)+" L "+(b.chartObj.canvasX+L[2].X)+" "+(b.chartObj.canvasY+u.Y+u.Height/2)+"  z"):(o="M "+(b.chartObj.canvasX+u.X)+" "+(b.chartObj.canvasY+L[4].Y)+" L "+(b.chartObj.canvasX+u.X+u.Width)+" "+(b.chartObj.canvasY+L[4].Y)+" M "+(b.chartObj.canvasX+u.X+u.Width/2)+" "+(b.chartObj.canvasY+L[4].Y)+" L "+(b.chartObj.canvasX+u.X+u.Width/2)+" "+(b.chartObj.canvasY+L[1].Y)+"  z",l="M "+(b.chartObj.canvasX+u.X)+" "+(b.chartObj.canvasY+L[5].Y)+" L "+(b.chartObj.canvasX+u.X+u.Width)+" "+(b.chartObj.canvasY+L[5].Y)+" M "+(b.chartObj.canvasX+u.X+u.Width/2)+" "+(b.chartObj.canvasY+L[5].Y)+" L "+(b.chartObj.canvasX+u.X+u.Width/2)+" "+(b.chartObj.canvasY+L[2].Y)+"  z"),{upperWhisker:l,lowerWhisker:o,mean:v._isTransposed?"M "+(b.chartObj.canvasX+L[0].X-5)+" "+(b.chartObj.canvasY+u.Y+u.Height/2-5)+" L "+(b.chartObj.canvasX+L[0].X+5)+" "+(b.chartObj.canvasY+u.Y+u.Height/2+5)+" M "+(b.chartObj.canvasX+L[0].X+5)+" "+(b.chartObj.canvasY+u.Y+u.Height/2-5)+" L "+(b.chartObj.canvasX+L[0].X-5)+" "+(b.chartObj.canvasY+u.Y+u.Height/2+5)+" z":"M "+(b.chartObj.canvasX+u.X+u.Width/2-5)+" "+(b.chartObj.canvasY+L[0].Y-5)+" L "+(b.chartObj.canvasX+u.X+u.Width/2+5)+" "+(b.chartObj.canvasY+L[0].Y+5)+" M "+(b.chartObj.canvasX+u.X+u.Width/2-5)+" "+(b.chartObj.canvasY+L[0].Y+5)+" L "+(b.chartObj.canvasX+u.X+u.Width/2+5)+" "+(b.chartObj.canvasY+L[0].Y-5)+" z"}},calculateSides:function(r,u){return{x1:r.xValue+u.Start,x2:r.xValue+u.End}},_getSeriesPosition:function(r){var u,_,w,v,a,s,h,t;if(ej.util.isNullOrUndefined(r.position)||this.chartObj.model.legendCollapsed){for(w=0,v=[],a=0;a<this.chartObj.model._visibleSeries.length;a++)("visible"===(h=this.chartObj.model._visibleSeries[a]).visibility.toLowerCase()&&"column"==h.drawType.toLowerCase()||"rangecolumn"==h.drawType.toLowerCase())&&v.push(h);for(s=0;s<v.length;s++)(h=v[s])._xAxisName==this.chartObj.model._axes[0].name&&h._yAxisName==this.chartObj.model._axes[1].name&&(h.isStacking?(u||(_=w,w++,u=!0),h.position=_):(h.position=w,w++));for(t=0;t<v.length;t++)v[t].all=w}return{all:r.all,pos:r.position}},getSideBySidePositions:function(r,u){var a,s,h,t,o,_=this,w=[],v=_.chartObj.model;return s=h=t=0,o=v._visibleSeries.length,(ej.util.isNullOrUndefined(r.position)||v.legendCollapsed||!u.spacingCalculated)&&(n.each(v.requireInvertedAxes?v.vAxes:v.hAxes,function(L){var C,T,D,b=[];for(a=[],h=0;h<o;h++)"visible"===(C=v._visibleSeries[h]).visibility.toLowerCase()&&_.isDependentSeries(C)&&b.push(C);for(T=b.length,h=0;h<T;h++)a[L=v.requireInvertedAxes?b[h].yAxis.columnIndex:b[h].yAxis.rowIndex]||(a[L]=[],b[h].yAxis.position=null),a[L].push(b[h]);for(s=0;s<a.length;s++)if(!ej.util.isNullOrUndefined(a[s]))for(a[s].all=0,h=0;h<a[s].length;h++)-1!=(C=a[s][h]).type.toLowerCase().indexOf("stacking")?C.stackingGroup?ej.util.isNullOrUndefined(w[C.stackingGroup])?(a[s].all++,C.position=a[s].all,w[C.stackingGroup]=a[s].all):C.position=w[C.stackingGroup]:ej.util.isNullOrUndefined(C.yAxis.position)||v.legendCollapsed?(a[s].all++,C.position=a[s].all,C.yAxis.position=a[s].all,v.legendCollapsed=!1):C.position=C.yAxis.position:(a[s].all++,C.position=a[s].all);for(D=T>0&&b[0].columnWidth,t=0;t<T;t++)b[t].all=a[L=v.requireInvertedAxes?b[t].yAxis.columnIndex:b[t].yAxis.rowIndex].all,u.needSpace=u.needSpace||D!=b[t].columnWidth}),u.needSpace&&this.chartObj.model._sideBySideSeriesPlacement&&this._getColumnSpacing(a,u),u.spacingCalculated=!0),{all:r.all,pos:r.position}},getSideBySideInfo:function(r,u){var _;ej.util.isNullOrUndefined(r.xAxis.m_minPointsDelta)&&(this.chartObj.currentSeries=r,r.xAxis.m_minPointsDelta=ej.EjSvgRender.utils.getMinPointsDelta(r.xAxis,this.chartObj));var w=r.columnSpacing,v=r.columnWidth,a=this.getSideBySidePositions(r,u),h=a.all,t=u.needSpace&&this.chartObj.model._sideBySideSeriesPlacement,o=r.xAxis.m_minPointsDelta*(t?1:v),l=t?u[r.name||r._name].loc:(a.pos-1)/h-.5,p=this.getDoubleRange(l,l+(t?v:1)/h);return this.chartObj.model._sideBySideSeriesPlacement?(p.IsEmpty||(p=this.getDoubleRange(p.Start*o,p.End*o),p=this.getDoubleRange(p.Start+(_=w*p.Delta)/2,p.End-_/2)),p):this.getDoubleRange(-o/2,o/2)},_getColumnSpacing:function(r,u){for(var v,a,s,h,t,_=0,w=0,o=r.length;_<o;_++){var l=0,p={};for(v=r[_].length;w<v;w++)-1==(a=r[_][w]).type.toLowerCase().indexOf("stacking")?l+=a.columnWidth/a.all:p[s=a.stackingGroup]={width:Math.max(a.columnWidth,p[s]?p[s].width:0),all:a.all};for(h in p)l+=p[h].width/p[h].all;for(t=(1-l)/2-.5,w=0,v=r[_].length;w<v;w++)-1==(a=r[_][w]).type.toLowerCase().indexOf("stacking")?(u[a.name||(a._name="series"+_+w)]={loc:t},t+=a.columnWidth/a.all):null==p[s=a.stackingGroup].loc?(u[a.name||(a._name="series"+_+w)]={loc:t+(p[s].width-a.columnWidth)/2/a.all},p[s].loc=u[a.name||a._name].loc+a.columnWidth/2/a.all,t+=p[s].width/a.all):u[a.name||a._name]={loc:p[s].loc-a.columnWidth/2/a.all}}},_getPoint:function(r,u,_,w,v,a,s){var h=r.xValue,t=r.YValues[0];return h=(h-w.min)/w.delta,t=(t-a.min)/a.delta,{X:(v?1-h:h)*u,Y:(1-(s?1-t:t))*_}},_getLogPoint:function(r,u,_,w,v,a,s,h){var t=r.xValue,o=r.YValues[0];return t="logarithmic"==h.xAxis._valueType.toLowerCase()?(ej.EjSvgRender.utils._logBase(0==t?1:t,h.xAxis.logBase)-w.min)/w.delta:(t-w.min)/w.delta,o="logarithmic"==h.yAxis._valueType.toLowerCase()?(ej.EjSvgRender.utils._logBase(0==o?1:o,h.yAxis.logBase)-a.min)/a.delta:(o-a.min)/a.delta,{X:(v?1-t:t)*u,Y:(1-(s?1-o:o))*_}},_getTransposedPoint:function(r,u,_,w,v,a,s){var h=r.xValue,t=r.YValues[0];return h=(h-w.min)/w.delta,t=(t-a.min)/a.delta,{X:(s?1-t:t)*_,Y:(1-(v?1-h:h))*u}},_getTransposedLogPoint:function(r,u,_,w,v,a,s,h){var t=r.xValue,o=r.YValues[0];return t="logarithmic"==h.xAxis._valueType.toLowerCase()?(ej.EjSvgRender.utils._logBase(0==t?1:t,h.xAxis.logBase)-w.min)/w.delta:(t-w.min)/w.delta,o="logarithmic"==h.yAxis._valueType.toLowerCase()?(ej.EjSvgRender.utils._logBase(0==o?1:o,h.yAxis.logBase)-a.min)/a.delta:(o-a.min)/a.delta,{X:(s?1-o:o)*_,Y:(1-(v?1-t:t))*u}},draw:function(r,u){var w,v,a,s,h,t,o,l,p,C,T,D,L,R,V,F,J,re,pe,M,_=ej.EjSvgRender.utils._getStringBuilder(),g=r.canvasX,b=r.canvasY,A=r.model.requireInvertedAxes,z=0,N=r.model.enableCanvasRendering,U=r,Q="logarithmic"==u.xAxis._valueType.toLowerCase()||"logarithmic"==u.yAxis._valueType.toLowerCase(),oe=u._isTransposed,ue=oe?u.xAxis.height:u.xAxis.width,le=oe?u.yAxis.width:u.yAxis.height,ne=u.xAxis.visibleRange,he=u.yAxis.visibleRange,se=u.xAxis.isInversed,ee=u.yAxis.isInversed,W=this["_get"+(oe?"Transposed":"")+(Q?"Log":"")+"Point"];if(this.chartObj=r,re=this.setLineSeriesStyle(u),u._animationType="path",u.sorting&&(u.points=ej.DataManager(u.points,ej.Query().sortBy("xValue")).executeLocal()),u._visiblePoints=void 0,v={min:0,max:(w=this.improveChartPerformance(u)).length},u.pointFill)for(C=n.inArray(u,this.chartObj.model._visibleSeries),L=w.length-1,J=ej.EjSvgRender.utils._getTransform(u.xAxis,u.yAxis,A),g=U.canvasX,b=U.canvasY,this.gSeriesGroupEle=this.chartObj.svgRenderer.createGroup({id:this.chartObj.svgObject.id+"_SeriesGroup_"+C,transform:"translate("+J.x+","+J.y+")"}),a=0;a<L;a++)F=w[a],T=w[a+1],R||(R=this.chartObj.setStyle(this,u,C,a,void 0,w)),T.visible&&F.visible&&(l=ej.EjSvgRender.utils._getPoint(F,u),p=ej.EjSvgRender.utils._getPoint(T,u),_.append("M "+(l.X+g)+" "+(l.Y+b)+" L "+(p.X+g)+" "+(p.Y+b)+" ")),(V=this.chartObj.setStyle(this,u,C,a+1,void 0,w)).interior==R.interior&&a!=L-1&&T.visible||(s={name:u.type,id:this.chartObj.svgObject.id+"_Series"+C+"_Point"+z++,"stroke-dasharray":R.dashArray,fill:"none","stroke-width":R.width,"stroke-linecap":u.lineCap,"stroke-linejoin":u.lineJoin,stroke:R.interior,opacity:R.opacity,d:_.toString()},this.chartObj.svgRenderer.drawPath(s,this.gSeriesGroupEle),_=ej.EjSvgRender.utils._getStringBuilder(),R=V);else{for(N&&((D=r.svgRenderer.ctx).save(),D.beginPath(),"cartesianaxes"==r.model.AreaType&&(J="translate("+(J=ej.EjSvgRender.utils._getTransform(u.xAxis,u.yAxis,A)).x+","+J.y+")"),r.svgRenderer._setLinePathStyle(V={"stroke-dasharray":u.dashArray,"stroke-width":u.width,stroke:re.SeriesInterior,"stroke-linecap":u.lineCap,"stroke-linejoin":u.lineJoin,opacity:u.opacity},J)),h=null,o=-1,pe="M ",a=v.min;a<v.max;a++)!1!==(t=w[a]).visible?(null!=h&&w.length>o+1&&(T=w[o+1],l=W(h,ue,le,ne,se,he,ee,u),p=W(T,ue,le,ne,se,he,ee,u),N?(M&&(D.lineTo(p.X+g,p.Y+b),M=null),D.moveTo(l.X+g,l.Y+b),D.lineTo(p.X+g,p.Y+b),M=p):(_.append(pe+(l.X+g)+" "+(l.Y+b)+" L "+(p.X+g)+" "+(p.Y+b)+" "),pe="L ")),h=t,o=a):h=null;N?(D.stroke(),D.restore()):this._drawLinePath(u,re,_.toString())}this.chartObj.svgRenderer.append(this.chartObj.dragPoint?this.chartObj.gPreviewSeriesGroupEle:this.gSeriesGroupEle,this.chartObj.gSeriesEle),u._visiblePoints=u._dataLabels>0||u.marker&&1==u.marker.dataLabel.visible&&u.enableSmartLabels?this._isVisiblePoints(u):w},doCircularAnimation:function(r,u,_,w,v){var a=u.type.toLowerCase();if("pie"==a||"doughnut"==a||"pieofpie"==a){var h,t,s=this,o=u.points[0]?u.points[0].startAngle:0,l=r.model._isPieOfPie?u.collectionIndex:0,p=u.emptyPointSettings.visible?u.visiblePoints:u._visiblePoints;v=ej.util.isNullOrUndefined(v)?1200:v,n.each(p,function(g,b){h=b.startAngle,t=b.endAngle,r.model._radius=r.model._isPieOfPie?r.model.circularRadius[l]:r.model.circularRadius[w],b.startAngle=0,b.endAngle=b.startAngle,r.model.Radius=0;var C=n(r.gSeriesEle).find("#"+r.svgObject.id+"_SeriesGroup_"+w)[l].childNodes[g];"pie"==a||"pieofpie"==a?n(C).each(function(){this.StartAngle=o,this.EndAngle=o}).animate({StartAngle:h,EndAngle:t,pieRadius:r.model._radius},{duration:v,queue:!1,step:function(T,D){if("StartAngle"===D.prop.toString()?(b.startAngle=T,b.endAngle=b.startAngle):"pieRadius"==D.prop.toString()&&r.model?r.model.Radius=T:b.endAngle=T,r.model){var L=s._calculateArcData(r,g,b,u,w,l);r.svgRenderer._setAttr(n(C),{d:L.Direction}),r.model.Radius=r.model._radius}},complete:function(){s.circularAnimationComplete(g,r,u)}}):n(C).each(function(){this.StartAngle=o,this.EndAngle=o}).animate({StartAngle:h,EndAngle:t},{duration:v,queue:!1,step:function(T,D){if("StartAngle"===D.prop.toString()?(b.startAngle=T,b.endAngle=b.startAngle):b.endAngle=T,r.model){var L=s._calculateArcData(r,g,b,u,w);r.svgRenderer._setAttr(n(C),{d:L.Direction}),r.model.Radius=r.model._radius}},complete:function(){s.circularAnimationComplete(g,r,u)}})})}},circularAnimationComplete:function(r,u,_){if(!ej.util.isNullOrUndefined(u.model)){var w,v,s,a=n.inArray(_,u.model._visibleSeries);if(u.gSeriesTextEle[a]&&u.svgRenderer._setAttr(n(u.gSeriesEle).find("#"+u.gSeriesTextEle[a].id),{visibility:"visible"}),u.gSymbolGroupEle[a]&&u.svgRenderer._setAttr(n(u.gSeriesEle).find("#"+u.gSymbolGroupEle[a].id),{visibility:"visible"}),u.gDataLabelEle[a]&&u.svgRenderer._setAttr(n(u.gSeriesEle).find("#"+u.gDataLabelEle[a].id),{visibility:"visible"}),_.marker.dataLabel.template)for(s=n(u.element[0].childNodes[0].childNodes),v=0;v<s.length;v++)n(s[v]).css("display","block");u.gConnectorEle[a]&&u.svgRenderer._setAttr(n(u.gSeriesEle).find("#"+u.gConnectorEle[a].id),{visibility:"visible"}),u.gConnectorLinesGroup&&u.svgRenderer._setAttr(n(u.gSeriesEle).find("#"+u.gConnectorLinesGroup.id),{visibility:"visible"}),u.model.AnimationComplete=!0,_.AnimationComplete=!0,(w=n.extend({},ej.EjSvgRender.commonChartEventArgs)).data={series:_},u._trigger("animationComplete",w)}},_doLineSymbol:function(r,u,_,w,v,a,s){if("defs"!=r.tagName){var h=parseInt(_*u),t=null==this.chartObj?a:this.chartObj,o=ej.EjSvgRender.utils._getBoundingClientRect(r,t,w,v),l=o.x+o.width/2,p=o.y+o.height/2,b=n(r),C=t.svgRenderer._getAttrVal(b,"transform");C=ej.util.isNullOrUndefined(C)?" ":C,t.svgRenderer._setAttr(b,{transform:"scale(0)"}),b.delay(h).animate({scales:1},{duration:s,step:function(T){t.svgRenderer._setAttr(b,{transform:"translate("+l+" "+p+") scale("+T+") translate("+-l+" "+-p+")"+C})}})}},animateSymbol:function(r,u,_,w,v,a){if("defs"!=r.tagName){var s=null==this.chartObj?v:this.chartObj,h=ej.EjSvgRender.utils._getBoundingClientRect(r,s,_,w),t=h.x+h.width/2,o=h.y+h.height/2,p=n(r),g=s.svgRenderer._getAttrVal(p,"transform");g=ej.util.isNullOrUndefined(g)?" ":g,p.delay(u).each(function(){this.scale=.5}).animate({scales:1},{duration:a,step:function(b){s.svgRenderer._setAttr(p,{transform:"translate("+t+" "+o+") scale("+b+") translate("+-t+" "+-o+")"+g})}})}},animateCylinder:function(r,u,_,w,v){var a,s;u.isTransposed&&_?(a=w[0].width.animVal.value,r.model.series[0].type.indexOf("bar")>-1?(r.svgRenderer._setAttr(n(w),{x:a}),n(w).animate({x:0},v,function(){})):(s=w[0].height.animVal.value,r.svgRenderer._setAttr(n(w),{y:0}),n(w).animate({y:parseFloat(r.svgRenderer._getAttrVal(w,"y")),height:parseFloat(r.svgRenderer._getAttrVal(w,"height"))},{duration:v,step:function(h){r.svgRenderer._setAttr(n(w),{y:s-h}),r.svgRenderer._setAttr(n(w),{height:h})}}))):r.model.series[0].type.indexOf("bar")>-1?n(w).animate({width:parseFloat(r.svgRenderer._getAttrVal(w,"width"))},{duration:v,step:function(h){r.svgRenderer._setAttr(n(w),{width:h})}}):(s=w[0].height.animVal.value,r.svgRenderer._setAttr(n(w),{y:s}),n(w).animate({y:0},v,function(){}))},animateRect:function(r,u,_,w,v){var h,t,o,l,p,b,C,T,a=u.animationType.toLowerCase(),s=ej.EjSvgRender.utils._getBoundingClientRect("smooth"==a?r[0]:r,w,u,_),g=n(r);u.isTransposed&&_||_?(b="smooth"==a?parseFloat(w.svgRenderer._getAttrVal(r,"width")):0,C=!0,"negative"===w.svgRenderer._getAttrVal(g,"plot")?(h=s.x+s.width,t=s.y+s.height):(h=s.x,t=s.y),o=") scale(",l=",1) translate("):(b="smooth"==a?parseFloat(w.svgRenderer._getAttrVal(r,"height")):0,C=!1,"negative"===w.svgRenderer._getAttrVal(g,"plot")?(h=s.x,t=s.y):(h=s.x+s.width,t=s.y+s.height),o=") scale(1,",l=") translate("),T=Math.abs(ej.EjSvgRender.utils._getPointXY(u.yAxis.visibleRange.min<0?0:u.yAxis.visibleRange.min,u.yAxis.visibleRange,u.yAxis.isInversed)*(C?u.yAxis.width:u.yAxis.height)),g.animate({scales:"smooth"==a?b:1},{duration:v,complete:function(){"waterfall"==u.type.toLowerCase()&&n("#"+w.svgObject.id+"_SeriesGroup_waterfallLine_"+u.index).attr("visibility","visible")},step:function(D){p=D,"smooth"==a?(D&&w.svgRenderer._setAttr(g,C?{width:T+D>=b?b:D}:{height:D}),w.svgRenderer._setAttr(g,C?{x:T+D>=b?b-D:T}:{y:b-T-D>=0?b-T-D:0})):w.svgRenderer._setAttr(g,{transform:"translate("+h+" "+t+o+p+l+-h+" "+-t+")"})}})},animateStackingRect:function(r,u,_,w,v){var a,s,h,t,l,p,o=n(r),b=ej.EjSvgRender.utils._getBoundingClientRect(r,w,u,_);u.isTransposed&&_||_?(l=ej.EjSvgRender.utils._valueToCoefficient(u.yAxis,0)*u.yAxis.width,a=l,s=b.y,h=") scale(",t=",1) translate("):(p=(1-ej.EjSvgRender.utils._valueToCoefficient(u.yAxis,0))*u.yAxis.height,a=b.x,s=p,h=") scale(1,",t=") translate("),o.animate({scales:1},{duration:v,step:function(C){w.svgRenderer._setAttr(o,{transform:"translate("+a+" "+s+h+C+t+-a+" "+-s+")"})}})},_doLineAnimation:function(r,u,w){w=ej.util.isNullOrUndefined(w)?2e3:w;var s,v=r.model.primaryXAxis.isInversed,a=parseFloat(r.svgRenderer._getAttrVal(u,"width"));r.model.requireInvertedAxes?(s=parseFloat(r.svgRenderer._getAttrVal(u,"height")),n(u).animate({clipRectHeight:parseFloat(r.svgRenderer._getAttrVal(u,"height"))},{duration:w,step:function(h){r.svgRenderer._setAttr(n(u),{y:s-h}),r.svgRenderer._setAttr(n(u),{height:h})}})):n(u).animate({clipRectWidth:parseFloat(r.svgRenderer._getAttrVal(u,"width"))},{duration:w,step:function(h){v&&r.svgRenderer._setAttr(n(u),{x:a-h}),r.svgRenderer._setAttr(n(u),{width:h})}})},_drawLinePath:function(r,u,_){var v,t,w=this.chartObj.model.requireInvertedAxes,a=n.inArray(r,this.chartObj.model._visibleSeries),s=null;"cartesianaxes"==this.chartObj.model.AreaType&&(s="translate("+(v=ej.EjSvgRender.utils._getTransform(r.xAxis,r.yAxis,w)).x+","+v.y+")"),this.chartObj.gSeriesGroupEle=this.gSeriesGroupEle=this.chartObj.svgRenderer.createGroup({id:this.chartObj.svgObject.id+"_SeriesGroup_"+a,transform:s}),""!=_&&-1==_.indexOf("NaN")&&(t={id:this.chartObj.svgObject.id+"_Series"+a,fill:"none","stroke-dasharray":r.dashArray,"stroke-width":r.width,stroke:u.SeriesInterior,"stroke-linecap":r.lineCap,"stroke-linejoin":r.lineJoin,opacity:r.opacity,d:_},this.chartObj.dragPoint?(t.id=this.chartObj.svgObject.id+"_PreviewSeries"+a,t.opacity=.6,this.chartObj.model.enableCanvasRendering?this.chartObj.svgRenderer.drawPath(t,this.chartObj.canvasElement,s):this.chartObj.svgRenderer.drawPath(t,this.chartObj.gPreviewSeriesGroupEle)):this.chartObj.svgRenderer.drawPath(t,this.gSeriesGroupEle))},_applySaturation:function(r,u){var v;return ej.EjSvgRender.prototype.checkColorFormat(u)||(u=r.colorNameToHex(u)),v=ej.EjSvgRender.prototype.hexToRGB(u),Math.round((299*parseInt(v.R)+587*parseInt(v.G)+114*parseInt(v.B))/1e3)>=128?"black":"white"},drawDataLabel:function(r,u,_,be,v,a,s,h){var o,l,p,g,b,C,T,D;_.marker=_.marker?_.marker:{};var I,F,A,z,N,U,J,Q,oe,L=r.yAxis.labelFormat,ue=r._visiblePoints[u].boxPlotValues,le="waterfall"==r.type.toLowerCase()&&(_.showIntermediateSum||_.showTotalSum)?_.waterfallSum:_.y;_.text?F=_.text:L?L.indexOf("{value}")>-1?F=L.replace("{value}",le):0==L.indexOf("e")||0==L.indexOf("E")?(I=L.match(/(\d+)/g),F=le.toExponential(I=null==I?6:I>20?20:I)):F=ej.format(le,L,this.chartObj.model.locale):F=le;var ee,re,W,ne=this.chartObj,he=ne.model,se=n.inArray(r,he._visibleSeries),pe=n.extend(!0,{},r.marker,_.marker),M=pe.dataLabel,fe=he.m_AreaBounds,xe=M.font,O=M.textPosition.toLowerCase(),B=M.textAnchor.toLowerCase(),H=r.type.toLowerCase(),Z=he.enableCanvasRendering,te=ej.seriesTypes[H].prototype.isRegion,Se={size:ej.util.isNullOrUndefined(xe.size)?"11px":xe.size,fontStyle:ej.util.isNullOrUndefined(xe.fontStyle)?"Normal":xe.fontStyle,fontFamily:ej.util.isNullOrUndefined(xe.fontFamily)?"Segoe UI":xe.fontFamily},He=(be=be?be==he.m_AreaBounds.Width?be-15:be:be+15,ej.EjSvgRender.utils._measureText(F,null,Se)),Ce=M.angle,ke=Ce>360?Ce-360:Ce<-360?Ce+360:Ce;"middle"==O&&(-90==ke||90==ke)&&He.width>ne.model.chartRegions[a].Region.Bounds.Height&&(O="bottom");var Ne=this.textPosition(r,se,_,He,H,be,v,a,u,s,O),Le=n.extend({},ej.EjSvgRender.commonChartEventArgs),je=M.enableContrastColor,Ae=he.chartArea.background.toLowerCase(),Oe=he.background.toLowerCase();Le.data={text:F,location:{x:Ne.x+ne.canvasX,y:Ne.y+ne.canvasY},seriesIndex:se,pointIndex:u},r.isStacking&&"area"==r.drawType&&("polar"==r.type||"radar"==r.type)&&(Le.data.text=r.stackedValue.EndValues[u]-r.stackedValue.StartValues[u]),ne._trigger("displayTextRendering",Le);var Fe=null==pe.dataLabel.offset.y?pe.dataLabel.offset:pe.dataLabel.offset.y,$e=pe.dataLabel.offset.x;if(He=ej.EjSvgRender.utils._measureText(Le.data.text,null,Se),Le.data.location.y="bottom"==O?Le.data.location.y+Fe:Le.data.location.y-Fe,$e&&(Le.data.location.x=Le.data.location.x+$e),(90==ke||-90==ke)&&("bottom"==O?(B=-90==ke?"start":"end",Le.data.location.y=Le.data.location.y+5):"top"==O&&("middle"==B||"start"==B?(B=-90==ke?"start":"end",Le.data.location.y=Le.data.location.y+10):(B="end",Le.data.location.y=Le.data.location.y+20))),!Le.cancel){var Be={id:ne.svgObject.id+"_SeriesText"+u+se,x:Le.data.location.x,y:Le.data.location.y,fill:xe.color,"font-size":xe.size,"font-family":xe.fontFamily,"font-style":xe.fontStyle,"font-weight":xe.fontWeight,opacity:xe.opacity,"text-anchor":_.isCrop?"":B},Ye=M.margin,dt=He.width+Ye.left+Ye.right,Ke=He.height+Ye.top+Ye.bottom,tt={X:Le.data.location.x,Y:Le.data.location.y};if(ej.util.isNullOrUndefined(M.template)?(ee=M.shape?M.shape:"None",n.each(he.symbolShape,function(ht){ee.toLowerCase()==ht.toLowerCase()&&(W=ht)}),o=Le.data.location.x-Ye.left/2+Ye.right/2,l=Le.data.location.y-Ye.top/2-Ke/Ye.top+Ye.bottom/2,he.enableCanvasRendering&&Ce%360!=0&&(Be.y-=He.height/4,Be.baseline="middle"),M.showEdgeLabels&&(A=Z?Be.x-ne.canvasX:Be.x,z=Z?Be.y-ne.canvasY:Be.y,(90==ke||-90==ke)&&(He.width=[He.height,He.height=He.width][0]),N=He.width,U=He.height,p=r._visiblePoints[r._visiblePoints.length-1]==_&&A+N/2>=ne.model.m_AreaBounds.Width,(A-N/2<0||A<-N/2)&&p?(J=A-N/2,Be.x=o=Math.abs(J)+(p?-10:A+10)):(A+N/2>fe.textWidth||A+N/2>fe.textWidth+N/2)&&(J=A-N/2,Be.x=o=fe.textWidth-N/2-10),z+U/2>fe.textHeight||z+U/2>fe.textHeight+U/2?Be.y=5+(l=z-(J=z+U/2-fe.textHeight)-10):(z-U/2<0||z<-U/2)&&(J=z-U/2,l+=Math.abs(J)+10,Be.y=l+5)),r._enableSmartLabels&&(_.dataLabel={textX:Be.x,textY:Be.y,x:o,y:l,width:dt,height:Ke},_.margin={top:Ye.top,bottom:Ye.bottom}),Q="array"==jQuery.type(he.seriesColors[se])?he.seriesColors[se][0].color:he.seriesColors[se],Q=_.fill?"array"==jQuery.type(_.fill)?_.fill[0].color:_.fill:Q,je&&(Be.fill=this._applySaturation(ne,re=te&&"top"!=O?Q:"transparent"===Ae&&"transparent"===Oe?"white":"transparent"!=Ae?Ae:Oe)),_.y!=_.low||void 0===_.y&&void 0===_.low?"boxandwhisker"==H.toLowerCase()&&ue.midvalue!=_.y?(g={id:ne.svgObject.id+"_SeriesText"+u+se,x:ej.util.isNullOrUndefined(h)?Le.data.location.x:o,y:ej.util.isNullOrUndefined(h)?Le.data.location.y:l,fill:xe.color,"font-size":xe.size,"font-family":xe.fontFamily,"font-style":xe.fontStyle,"font-weight":xe.fontWeight,opacity:xe.opacity,"text-anchor":B},_.textOptionsBoxValues[b=_.textOptionsBoxValues.length]=g,0!=ke&&(_.textOptionsBoxValues[b].angle=ke),_.textOptionsBoxValues[b].drawText=Le.data.text,_.textOptionsBoxValues[b].index=u,_.textOptionsBoxValues[b].xPos=ej.util.isNullOrUndefined(h)?o:o-Ye.left/2+Ye.right/2,_.textOptionsBoxValues[b].yPos=ej.util.isNullOrUndefined(h)?l:l-Ye.top/2-Ke/Ye.top+Ye.bottom/2,_.textOptionsBoxValues[b].seriesIndex=se,_.textOptionsBoxValues[b].width="None"==W?He.width:dt,_.textOptionsBoxValues[b].height="None"==W?He.height:Ke,_.textOptionsBoxValues[b].symbolName=W):(_.textOptions=Be,0!=ke&&(_.textOptions.angle=ke),_.drawText=Le.data.text,_.index=u,_.xPos=o,_.yPos=l,_.seriesIndex=se,_.width="None"==W?He.width:dt,_.height="None"==W?He.height:Ke,(90==ke||-90==ke)&&(_.width=[_.height,_.height=_.width][0]),_.symbolName=W):(_.xPosLow=o,_.yPosLow=l,_.widthLow="None"==W?He.width:dt,_.heightLow="None"==W?He.height:Ke,_.textOptionsLow=Be,_.textOptionsLow.angle=ke,_.drawTextLow=Le.data.text)):(tt.X-=ne.canvasX,tt.Y-=ne.canvasY,this.drawLabelTemplate(r,_,u,tt,ne)),(H.indexOf("column")>-1||H.indexOf("bar")>-1)&&je)if(C=ne.model.chartRegions[a],T=s.stackingGroup,"top"==O&&H.indexOf("stacking")>-1){if(ej.util.isNullOrUndefined(r.stackingGroup)||""==r.stackingGroup)se<he._visibleSeries.length-1?(Q="array"==jQuery.type(he.seriesColors[se+1])?he.seriesColors[se+1][0].color:he.seriesColors[se+1],re=Q=_.fill?"array"==jQuery.type(_.fill)?_.fill[0].color:_.fill:Q):re="transparent"===Ae&&"transparent"===Oe?"white":"transparent"!=Ae?Ae:Oe;else for(D in T){if(D==r.stackingGroup&&se<T[D].length-1){Q="array"==jQuery.type(he.seriesColors[se+1])?he.seriesColors[se+1][0].color:he.seriesColors[se+1],re=Q=_.fill?"array"==jQuery.type(_.fill)?_.fill[0].color:_.fill:Q;break}re="transparent"===Ae&&"transparent"===Oe?"white":"transparent"!=Ae?Ae:Oe;break}Be.fill=this._applySaturation(ne,re)}else oe=ej.ejChart.isCollide(C,_,0,je,ne),"bottom"!=O&&"middle"!=O||oe.state||(Be.fill=this._applySaturation(ne,re="transparent"===Ae&&"transparent"===Oe?"white":"transparent"!=Ae?Ae:Oe))}},updateSmartLabelPosition:function(r,u,_,w,v,a,s,h,t,o){var ue,le,ne,he,W,xe,B,H,Z,te,ae,de,_e,Se,be,Ce,Pe,ke,Ne,Le,l=[],p=t,g=p.model,b=g.legend,C=g.LegendActualBounds,T=b.position.toLowerCase(),D=new(ej.seriesTypes[r.type.toLowerCase()]),L="",I="",R=w.connector.connectorX,V=w.connector.connectorY,F=w.midPoint.midX,A=w.midPoint.midY,U=a.startX,J=a.startY,Q=n.extend(!0,{},r.marker,u.marker),oe=Q.dataLabel.template?0:4,se=v,ee=r.startAngle>r.endAngle?-.01:.01,re=Q.dataLabel.connectorLine.type.toLowerCase(),pe=r.type.toLowerCase(),M=g._isPieOfPie?g.circularRadius[r.collectionIndex]:g.circularRadius[o],fe="pieofpie"==pe?"inside":r.labelPosition.toLowerCase();if(ej.util.isNullOrUndefined(g.bounds[o])&&(g.bounds[o]=[],g.bounds[o].points=[],"outsideextended"==fe&&(g.bounds[o].points.left=[],g.bounds[o].points.right=[])),"inside"==fe&&ej.util.isNullOrUndefined(u.smartLabelPosition)){le=(F+(le=(F+U)/2))/2,ne=(A+(ne=(A+J)/2))/2,Ae=u.isIntersected&&g.bounds[o].points[u.index]?g.bounds[o].points[u.index]:F>U?{X:le,Y:ne,Left:le,Top:ne,Right:le+h.width,Bottom:ne+h.height,SeriesIndex:o,PointIndex:_}:{X:le,Y:ne,Left:le-h.width,Top:ne,Right:le,Bottom:ne+h.height,SeriesIndex:o,PointIndex:_};do{he=!1,this.IntersectWith(p,u,Ae,"inside",o)&&(W=Ae.Left,xe=180*v/Math.PI,180*se/Math.PI-xe>=270||(se+=ee,u.isIntersected=!0,Ae.Angle=se,F>U?(Ae.X=Ae.Left=D.getXCordinate(U,M+s,se),Ae.Right=Ae.X+h.width):(Ae.X=Ae.Right=D.getXCordinate(U,M+s,se),Ae.Left=Ae.Right-h.width),Ae.Y=Ae.Top=D.getYCordinate(J,M+s,se),Ae.Bottom=Ae.Y+h.height,he=!0))}while(he);F>U&&Ae.X<U&&(Ae.Right=W,Ae.Left=W-h.width),g.bounds[o].points[_]=Ae,u.isIntersected&&g.bounds[o].points[_].Angle&&(le=D.getXCordinate(U,M+s,g.bounds[o].points[_].Angle),ne=D.getYCordinate(J,M+s,g.bounds[o].points[_].Angle),B=D.getXCordinate(U,M+s/3,v),H=D.getYCordinate(J,M+s/3,v),l.push({X:F,Y:A}),l.push({X:B,Y:H}),l.push({X:le,Y:ne}),u.isIntersected&&"bezier"==re&&!p.vmlRendering&&(I=D.drawBezierSegment(l,r,_,p,o)),L="M "+F+" "+A+" L "+B+" "+H+" M "+B+" "+H+" L "+le+" "+ne)}else if("outside"==fe||"outside"==u.smartLabelPosition){Ae=F>=U?{X:R,Y:V,Left:R,Top:V,Right:R+h.width,Bottom:V+h.height,SeriesIndex:o,PointIndex:_}:{X:R,Y:V,Left:R-h.width,Top:V,Right:R,Bottom:V+h.height,SeriesIndex:o,PointIndex:_};do{he=!1,this.IntersectWith(p,u,Ae,"outside",o,h)&&(W=Ae.Left,se+=ee,u.isIntersected=!0,F>U?(Ae.X=Ae.Left=D.getXCordinate(U,M+s,se),Ae.Right=Ae.X+h.width):(Ae.X=Ae.Right=D.getXCordinate(U,M+s,se),Ae.Left=Ae.Right-h.width),Ae.Y=Ae.Top=D.getYCordinate(J,M+s,se),Ae.Bottom=Ae.Y+h.height,he=!0)}while(he);F>U&&Ae.X<U&&(Ae.Right=W,Ae.Left=W-h.width),g.bounds[o].points[_]=Ae,B=D.getXCordinate(U,M+s/3,v),H=D.getYCordinate(J,M+s/3,v),l.push({X:F,Y:A}),l.push({X:B,Y:H}),l.push({X:Ae.X,Y:Ae.Y}),le=Ae.X,ne=Ae.Y,s>0&&(le=F<U?(ue=Ae.X-g.elementSpacing)-oe:(ue=Ae.X+g.elementSpacing)+oe,l.push({X:ue,Y:Ae.Y})),"bezier"!=re||p.vmlRendering?L="M "+F+" "+A+" L "+B+" "+H+" M "+B+" "+H+" L "+Ae.X+" "+Ae.Y+" M "+Ae.X+" "+Ae.Y+" L "+ue+" "+Ae.Y:I=D.drawBezierSegment(l,r,_,p,o)}else{Z=F,te=A,F+=Math.cos(v)*(-M/10),A+=Math.sin(v)*(-M/10),ae=M/4,l.push({X:F,Y:A}),F+=Math.cos(v)*ae,A+=Math.sin(v)*ae,l.push({X:F,Y:A}),de=b.visible&&"left"==T?g.margin.left+C.Width:0,_e=g.circleCenterX[o],F<U?(F=(_e-M-2*ae-r.LeftLabelMaxWidth>0?_e-M-2*ae+de:r.LeftLabelMaxWidth>Z?Z:r.LeftLabelMaxWidth+de)-h.width/2,Se=l[1].X-r.LeftLabelMaxWidth,Pe=_e-M-2*ae-r.LeftLabelMaxWidth>0?ae:r.LeftLabelMaxWidth>Z?0:Se>ae/2*3?ae:Se/2,be=+h.width/2):(Ce=b.visible&&"right"==T?g.margin.right+C.Width:0,F=(_e+M+2*ae+r.RightLabelMaxWidth<n(p.svgObject).width()-Ce?_e+M+2*ae-de:_e+M+r.RightLabelMaxWidth>n(p.svgObject).width()?Z:n(p.svgObject).width()-r.RightLabelMaxWidth-Ce)+h.width/2,Se=n(p.svgObject).width()-r.RightLabelMaxWidth-l[1].X,Pe=_e+M+2*ae+r.RightLabelMaxWidth<n(p.svgObject).width()?ae:_e+M+r.RightLabelMaxWidth>n(p.svgObject).width()?0:Se>ae/2*3?ae:Se/2,be=-h.width/2),ke=Math.sqrt(Math.pow(Z-F,2)+Math.pow(te-A,2))/10,w=(Ne=F<U)?g.bounds[o].points.left:g.bounds[o].points.right;var Ae={X:F=Ne?F+ke:F-ke,Y:A,Left:F,Top:A,Right:F+h.width,Bottom:A+h.height,index:_,SeriesIndex:o,PointIndex:_},Oe=r.endAngle>r.startAngle;if(this.IntersectWith(p,u,Ae,"outsideExtended",o)&&(l.push(F<U?{X:F+Pe+be,Y:A}:{X:F-Pe+be,Y:A}),Ae.Y=A=Oe||null==r.startAngle?w[w.length-1].Y+h.height+2:Ne?w[w.length-1].Y-h.height-2:w[w.length-1].Y+h.height+2,Ae.Top=A,Ae.Bottom=A+h.height),l.push({X:F+be,Y:A}),_e<l[0].X&&l[1].X>l[2].X&&(l[2].X=l[1].X),_e>l[0].X&&l[1].X<l[2].X&&(l[2].X=l[1].X),Ne?(g.bounds[o].points.left||(g.bounds[o].points.left=[]),g.bounds[o].points.left.push(Ae),l[l.length-1].X>l[l.length-2].X&&(l[l.length-2].X=l[l.length-1].X)):(g.bounds[o].points.right||(g.bounds[o].points.right=[]),g.bounds[o].points.right.push(Ae),l[l.length-1].X<l[l.length-2].X&&(l[l.length-2].X=l[l.length-1].X)),L=ej.EjSvgRender.utils._getStringBuilder(),"bezier"!=re||p.vmlRendering){for(Le=0;Le<l.length;Le++)L.append(Le==l.length-1?" ":"M "+l[Le].X+" "+l[Le].Y+" L "+l[Le+1].X+" "+l[Le+1].Y+" ");L=L.toString()}else I=D.drawBezierSegment(l,r,_,p,o);le=l[l.length-1].X+(F<U?-oe:oe),ne=l[l.length-1].Y}return{positionX:le,positionY:ne,connectorDirection:L,isInterSected:u.isIntersected,bezierPath:I}},updateLabelPosition:function(r,u,_,w,v,a,s,h,t,o){var N,U,J,Q,he,se,ee,l=[],p=t,g=new(ej.seriesTypes[r.type.toLowerCase()]),b="",C=w.connector.connectorX,T=w.connector.connectorY,D=w.midPoint.midX,L=w.midPoint.midY,I=w.doughnutMidPoint.dMidX,R=w.doughnutMidPoint.dMidY,V=a.startX,F=a.startY,A=n.extend(!0,{},r.marker,u.marker),z=A.dataLabel.template?0:4,ue=r.type.toLowerCase(),le=p.model.circularRadius[o],ne="pieofpie"==ue?"inside":r.labelPosition.toLowerCase();if(l.push({X:D,Y:L}),l.push({X:C,Y:T}),U=C,J=T,"outside"==ne)s>0&&(U=C<V?(N=C-p.model.elementSpacing)-z:(N=C+p.model.elementSpacing)+z,l.push({X:N,Y:T})),"bezier"!=A.dataLabel.connectorLine.type.toLowerCase()||p.vmlRendering?b="M "+D+" "+L+" L "+C+" "+T+" M "+C+" "+T+" L "+N+" "+T:g.drawBezierSegment(l,r,_,p,o);else if("outsideextended"==ne){if(Q=D,D+=Math.cos(v)*(-le/10),L+=Math.sin(v)*(-le/10),he=le/4,(l=[]).push({X:D,Y:L}),C=D+Math.cos(v)*he,T=L+Math.sin(v)*he,l.push({X:C,Y:T}),se=!p.model.legend.visible||"left"!=p.model.legend.position.toLowerCase()&&"right"!=p.model.legend.position.toLowerCase()?0:p.model.elementSpacing,C=D<V?p.model.centerX-le-2*he-r.LeftLabelMaxWidth>0?p.model.centerX-le-2*he+se:r.LeftLabelMaxWidth>Q?Q:r.LeftLabelMaxWidth:p.model.centerX+le+2*he+r.RightLabelMaxWidth<n(p.svgObject).width()?p.model.centerX+le+2*he-se:p.model.centerX+le+r.RightLabelMaxWidth>n(p.svgObject).width()?Q:n(p.svgObject).width()-r.RightLabelMaxWidth,l.push({X:C,Y:T}),b=ej.EjSvgRender.utils._getStringBuilder(),"bezier"!=A.dataLabel.connectorLine.type.toLowerCase()||p.vmlRendering){for(ee=0;ee<l.length;ee++)b.append(ee==l.length-1?" ":"M "+l[ee].X+" "+l[ee].Y+" L "+l[ee+1].X+" "+l[ee+1].Y+" ");b=b.toString()}else g.drawBezierSegment(l,r,_,p,o);U=l[l.length-1].X+(D<V?-z:z),J=l[l.length-1].Y}else"doughnut"==r.type.toLowerCase()?(U=(D+I)/2,J=(L+R)/2):(U=(D+(U=(D+V)/2))/2,J=(L+(J=(L+F)/2))/2);return{positionX:U,positionY:J,connectorDirection:b,points:l[l.length-1]}},updateSmartLabel:function(r,u,_,w){var g,b,C,D,v=!0,a="",s=u.labelPosition.toLowerCase(),t=n.extend(!0,{},u.marker,w.marker).dataLabel,o=r.model.m_AreaBounds,p=u.type.toLowerCase();return w._labelPlacement="","inside"==s||"outsideextended"==s?this.calculateInsideConnectorLines(_,w,u,r):this.compareDataLabels(w,_,r.model.outsideDataRegionPoints,u,r),g=r.model.enableCanvasRendering&&!t.template?r.pyrX:0,b=r.model.enableCanvasRendering&&!t.template?r.pyrY:0,"pyramid"==p?(r.model.actualHeight<w.yPos-b||w.xPos-g>o.Width&&"insideoverlap"==w._labelPlacement||"right"==r.model.legend.position&&t.template&&w.xPos+w.width>o.Width+r.model.LegendActualBounds.Width)&&(v=!1,w.drawTextacc=""):(w.yPos-b<0||w.xPos-g>o.Width&&"insideoverlap"==w._labelPlacement||"right"==r.model.legend.position&&t.template&&w.xPos+w.width>o.Width+r.model.LegendActualBounds.Width)&&(v=!1,w.drawTextacc=""),("outside"==s||"insideoverlap"==w._labelPlacement)&&v&&(a=this.drawConnectorLines(_,w,u,r)),t.template&&(C=n("#"+w.id),v?(D="insidenooverlap"==w._labelPlacement?w.textOptionsacc.y+r.pyrY:w.textOptionsacc.y+r.pyrY-r.model.elementSpacing,C.css("left","insidenooverlap"==w._labelPlacement?w.textOptionsacc.x+r.pyrX-w.width/2:w.textOptionsacc.x+r.pyrX).css("top",D),C.css("height",w.height).css("overflow","hidden")):C.css("display","none")),{xPos:w.xPos,yPos:w.yPos,textOptionsacc:w.textOptionsacc,connectorDirection:a.connectorDirection,bezierPath:a.bezierdir,drawTextacc:w.drawTextacc}},compareDataLabels:function(r,u,_,w,v){for(var a,s,l,g,C,T,h=n.extend(!0,{},w.marker,r.marker),t=h.dataLabel,D=v.model.elementSpacing,L=h.dataLabel.margin,I=w._visiblePoints.length,R=w.labelPosition.toLowerCase(),V=v.model.enableCanvasRendering?v.pyrX:0,F=v.model.enableCanvasRendering?v.pyrY:0,A=0,z=_.length;A<z;A++)if((l=this.isCollide(_[A],r,w)).state)if("inside"==R||"outsideextended"==R)for(r.textOptionsacc.y=r.yPos=r.textOptionsacc.y+l.height,T=t.template?{x:r.xPos,y:r.yPos}:{x:r.xPos-V,y:r.yPos-F},a=0,s=I;a<s;a++)v.isPointInPolygon(v.model.chartRegions[0].Region[a].Polygon,T)&&(r.textOptionsacc.x=r.xPos=r.textOptionsacc.x+r.width,T=t.template?{x:r.xPos,y:r.yPos}:{x:r.xPos-V,y:r.yPos-F});else r._labelPlacement="outside",r.textOptionsacc.y=r.yPos="pyramid"==w.type.toLowerCase()?r.yPos+l.height+D/2:r.yPos+l.height-D/2,r.textOptionsacc.y=r.textOptionsacc.y+r.height/4-D/2+L.top/2-L.bottom/2;C="rotate("+((g=t.angle)>360?g-360:g<-360?g+360:g)+","+r.textOptionsacc.x+","+r.textOptionsacc.y+")",n(r.textOptionsacc).attr("transform",C),n(r.textOptionsacc).attr({transform:C}),("inside"==R||"outsideextended"==R)&&(r.yPos=r.yPos+D/4,r.textOptionsacc.y=r.textOptionsacc.y+r.height/4+L.top/2-L.bottom/2),_[_.length]=r},calculateInsideConnectorLines:function(r,u,_,w){var v=u.Polygon,s=n.extend(!0,{},_.marker,u.marker).dataLabel,o=w.model.enableCanvasRendering?w.pyrX:0,l=w.model.enableCanvasRendering?w.pyrY:0,g=ej.EjSvgRender.utils._measureText(u.drawTextacc,null,s.font);w.isPointInPolygon(v,s.template?{x:u.xPos,y:u.yPos}:{x:u.xPos+g.width/2-o,y:u.yPos-u.height/2-l})?u._labelPlacement="insidenooverlap":(u._labelPlacement="insideoverlap",u.textOptionsacc["text-anchor"]="start",u.textOptionsacc.x=u.xPos=u.startX+(u.startX+70<w.model.m_AreaBounds.Width?70:w.model.m_AreaBounds.Width-u.startX),u.textOptionsacc.y=u.yPos=u.yLocation,w.model.enableCanvasRendering&&!s.template&&(u.textOptionsacc.x+=w.pyrX,u.textOptionsacc.y+=w.pyrY,u.xPos+=w.pyrX,u.yPos+=w.pyrY),this.compareDataLabels(u,r,w.model.outsideDataRegionPoints,_,w))},drawConnectorLines:function(r,u,_,w){var v="",a=new(ej.seriesTypes[_.type.toLowerCase()]),s=_._visiblePoints[r].startX,h=_._visiblePoints[r].startY,t="",o=n.inArray(_,w.model._visibleSeries),p=n.extend(!0,{},_.marker,u.marker).dataLabel,g=u.textOptionsacc.y-w.model.elementSpacing/2,b=w.model.enableCanvasRendering?w.pyrX:0,C=w.model.enableCanvasRendering?w.pyrY:0,T=[{X:s+b,Y:h+C},{X:u.textOptionsacc.x,Y:g}];return"bezier"!=p.connectorLine.type.toLowerCase()||w.vmlRendering?(t="M "+s+" "+h+" L "+u.textOptionsacc.x+" "+g,w.model.enableCanvasRendering&&!p.template&&(t="M "+s+" "+h+" L "+(u.textOptionsacc.x-b)+" "+(g-C))):v=a.drawBezierSegment(T,_,r,w,o),{connectorDirection:t,bezierdir:v}},isCollide:function(r,u,_){var s,w=0,v=0,a=_.type.toLowerCase();return(s=!(r.yPos+r.height<u.yPos||r.yPos>u.yPos+u.height||r.xPos+r.width/2<u.xPos-u.width/2||r.xPos-r.width>u.xPos+u.width))&&"pyramid"==a?(v=r.yPos+r.height-u.yPos,w=r.xPos+r.width-u.xPos):s&&"funnel"==a&&(v=r.yPos-(u.yPos+u.height),w=r.xPos+r.width-u.xPos),{state:s,height:v,width:w}},trimText:function(r,u,_){return u--,r.substr(0,u-_.length)+_},trimfunction:function(r,u,_,w,v,a){for(;u<_;)if(r=r.toString(),r=this.trimText(r,r.length,w),_=ej.EjSvgRender.utils._measureText(r,v,a).width,r==w){r="";break}return r},calculatePosition:function(r,u,_,w,v){return{rightEndX:u.x+_/2-w,rightEndY:u.y-v,leftEndX:u.x-_/2-w,leftEndY:u.y-v}},textOption:function(r,u,_,w,v,a,s,h,t,o,l){var p;if(!(p=n.extend(!0,{},r.marker,u.model._isPieOfPie?l.marker:r._visiblePoints[a].marker)).dataLabel.template){n("#"+u.svgObject.id+"series"+o+"_PointText"+a).remove();var g={id:u.svgObject.id+"series"+o+"_PointText"+a,x:h+w,y:t+_.height/4+v,fill:p.dataLabel.font.color,"font-size":p.dataLabel.font.size,"font-family":p.dataLabel.font.fontFamily,"font-style":p.dataLabel.font.fontStyle,"font-weight":p.dataLabel.font.fontWeight,opacity:p.dataLabel.font.opacity,"text-anchor":s,cursor:"default",degree:p.dataLabel.angle},b=p.dataLabel.angle,T="rotate("+(b>360?b-360:b<-360?b+360:b)+","+h+","+t+")";n(g).attr("transform",T),u.model.enableCanvasRendering&&n(g).attr("labelRotation",b),n(g).attr({transform:T})}return g},labelTrim:function(r,u,_,w,v,a,s,h,N,o){var D,L,I,R,V,F,U,J,l=-.5*Math.PI,g=(Math,this.calculatePosition(r,u,_,v,a)),b=r.model.series[N].startAngle,C=r.model.series[N].endAngle,z=C-b;if(N=r.model._isPieOfPie?o:N,U=z<0?(C/=360)?2*Math.PI*(C<0?1+C:C):0:b?2*Math.PI*(r.model.itemCurrentXPos<0?1+r.model.itemCurrentXPos:r.model.itemCurrentXPos):0,(b=(Math.atan2(g.rightEndY,g.rightEndX)-l-U)%(2*Math.PI))<0&&(b=2*Math.PI+b),(C=(Math.atan2(g.leftEndY,g.leftEndX)-l-U)%(2*Math.PI))<0&&(C=2*Math.PI+C),D=parseFloat(s.start.toFixed(14)),L=parseFloat(s.end.toFixed(14)),z>0?(ej.util.isNullOrUndefined(r.firstStartAngle[0])&&r.firstStartAngle.push(D),D=r.firstStartAngle[0]<0?r.model._isPieOfPie?D:2*Math.PI+D:D,L=r.firstStartAngle[0]<0?r.model._isPieOfPie?L:2*Math.PI+L:L):(D=D<0?r.model._isPieOfPie?D:2*Math.PI+D:D,L=L<0?r.model._isPieOfPie?L:2*Math.PI+L:L),L-=U,(D-=U)>2*Math.PI&&L>2*Math.PI?(b+=2*Math.PI,C+=2*Math.PI):D<2*Math.PI&&L>2*Math.PI&&(b<Math.PI/2&&(b+=2*Math.PI),C<Math.PI/2&&(C+=2*Math.PI)),b<0&&(C>0||null==C)&&(D=D<0?2*Math.PI+D:D,L=L<=0?2*Math.PI+L:L),I=r.model.circleCenterX[N]<u.x?Math.sqrt(Math.pow(Math.abs(g.rightEndX),2)+Math.pow(Math.abs(g.rightEndY),2)):Math.sqrt(Math.pow(Math.abs(g.leftEndX),2)+Math.pow(Math.abs(g.leftEndY),2)),z<0&&(L=[D,D=L][0]),C>=D&&C<=L&&b>=D&&b<=L&&I<=r.model.circularRadius[N]&&I>0)R=!0;else for(R=!1;!R;){if("..."==(w=this.trimText(w,w.length,"..."))){w="";break}F=ej.EjSvgRender.utils._measureText(w,null,h),V=this.calculatePosition(r,u,F.width,v,a),(J=(Math.atan2(V.rightEndY,V.rightEndX)-l-U)%(2*Math.PI))<0&&(J=2*Math.PI+J),(C=(Math.atan2(V.leftEndY,V.leftEndX)-l-U)%(2*Math.PI))<0&&(C=2*Math.PI+C),I=r.model.circleCenterX[N]<u.x?Math.sqrt(Math.pow(Math.abs(V.rightEndX),2)+Math.pow(Math.abs(V.rightEndY),2)):Math.sqrt(Math.pow(Math.abs(V.leftEndX),2)+Math.pow(Math.abs(V.leftEndY),2)),D>2*Math.PI&&L>2*Math.PI&&r.model._isPieOfPie?(D-=2*Math.PI,L-=2*Math.PI):0!=D&&D<2*Math.PI&&L>=2*Math.PI&&r.model._isPieOfPie&&(D-=2*Math.PI),C>=D&&C<=L&&J>=D&&J<=L&&I<=r.model.circularRadius[N]&&I>0&&(R=!0)}return w},drawDataLabelAcc:function(r,u,_,w,v,a){var h,o,l,b,T,D,L,V,F,A,z,U,J,oe,ne,he,se,s=w.marker;if(w.visible&&(s&&s.dataLabel&&s.dataLabel.visible||(!s||!s.dataLabel)&&u.marker.dataLabel.visible)){var Le,je,Fe,$e,He,Be,Ye,dt,Ke,ht,nt,yt,Dt,Mt,re=r,W=u.type.toLowerCase(),pe=new ej.seriesTypes[W],M=ej.util.isNullOrUndefined,fe="pieofpie"==W?"inside":u.labelPosition.toLowerCase(),xe=re.model,O=xe.title,B=ej.EjSvgRender.utils._measureText,H=xe.elementSpacing,Z=u.marker,te=Z.dataLabel,ae=te.margin,de=te.font,_e=te.connectorLine,Se=_e.type.toLowerCase(),be=xe.legend,Ce=be.position.toLowerCase(),Pe=xe.LegendActualBounds,ke=M(w.text)?w.y:w.text,Ne=te.enableWrap,Ae=ke,Oe=xe._isPieOfPie?a:v,tt=0,Ct=0,wt=xe.background.toLowerCase(),bt=te.enableContrastColor;if(("pyramid"==W||"funnel"==W)&&"outsideextended"==fe&&(fe="inside"),(He=n.extend({},ej.EjSvgRender.commonChartEventArgs)).data={text:ke,series:u,pointIndex:_},re._trigger("displayTextRendering",He),ht=(Be=B(He.data.text,null,$e={size:de.size,fontStyle:de.fontStyle,fontFamily:de.fontFamily})).width+ae.left+ae.right,nt=Be.height+ae.top+ae.bottom,"pyramid"==W||"funnel"==W){var Pt=xe.title.text?B(xe.title.text,n(this.svgObject).width()-xe.margin.left-xe.margin.right,xe.title.font):0,jt=re.model.title.subTitle.text?ej.EjSvgRender.utils._measureText(re.model.title.subTitle.text,n(this.svgObject).width()-re.model.margin.left-re.model.margin.right,re.model.title.subTitle.font):0,p=""===re.model.title.subTitle.text?0:jt.height,ue=H+xe.margin.left+("left"===Ce)?Pe.Width:0,le=("top"===Ce?Pe.Height:0)+(xe.title.text&&xe.title.visible?xe._titleLocation.Y+Pt.height+p:xe.margin.top+H);ht+=10,h={X:w.xLocation+re.pyrX,Y:w.yLocation+re.pyrY},tt=w.xLocation,Ct=w.yLocation,o=n.extend(!0,{},Z,o=w.marker?w.marker:Z),Fe=w.connectorLine,dt={positionX:tt,positionY:Ct}}if("pyramid"!=W&&"funnel"!=W){var R,Et,At,vi,Ai,lt,ls,Yi,wi,Lt,ot,kt=-.5*Math.PI,mt=w.midAngle+kt,Xi=(Pt=xe.title.text?B(xe.title.text,n(this.svgObject).width()-xe.margin.left-xe.margin.right,xe.title.font):0,jt=re.model.title.subTitle.text?ej.EjSvgRender.utils._measureText(re.model.title.subTitle.text,n(this.svgObject).width()-re.model.margin.left-re.model.margin.right,re.model.title.subTitle.font):0,p=""===re.model.title.subTitle.text?0:jt.height,xe.circularRadius[Oe]);At=M(_e.height)?B(He.data.text,null,de).height:_e.height,(re.model._isPieOfPie?w.actualIndex:u._visiblePoints[_].actualIndex)!=u.explodeIndex&&!u.explodeAll||re.vmlRendering?(vi=xe.circleCenterX[Oe],Ai=xe.circleCenterY[Oe]):(vi=xe.circleCenterX[Oe]+Math.cos(mt)*u.explodeOffset,Ai=xe.circleCenterY[Oe]+Math.sin(mt)*u.explodeOffset),lt=pe.getXCordinate(vi,Xi,mt),lt=0!=w.y?lt:parseFloat(lt.toFixed(12)),ls=pe.getYCordinate(Ai,Xi,mt),Yi=pe.getXCordinate(vi,xe.innerRadius[v],mt),wi=pe.getYCordinate(Ai,xe.innerRadius[v],mt),Lt=this.getXCordinate(vi,Xi+At,mt),Lt=0!=w.y?Lt:parseFloat(Lt.toFixed(12)),ot=this.getYCordinate(Ai,Xi+At,mt),te.template?je=w.size:(o=n.extend(!0,{},Z,o=w.marker?w.marker:Z),Le=o.dataLabel.shape,je=B(He.data.text,n(re.svgObject).width(),de),"none"!=Le.toLowerCase()&&(je.height=je.height+ae.top+ae.bottom,je.width=je.width+ae.left+ae.right)),R={midPoint:{midX:lt,midY:ls},doughnutMidPoint:{dMidX:Yi,dMidY:wi},connector:{connectorX:Lt,connectorY:ot}},Et={startX:vi,startY:Ai},u._enableSmartLabels?(Ye=pe.updateSmartLabelPosition(u,w,_,R,mt,Et,At,je,r,v),re.model.bounds[v].points[_]&&(l=re.model.bounds[v].points[_].overlap),dt={positionX:tt=Ye.positionX,positionY:Ct=Ye.positionY,isInterSected:Ye.isInterSected},Fe=re.model._isPieOfPie||l?"":Ye.connectorDirection):(tt=(Ye=pe.updateLabelPosition(u,w,_,R,mt,Et,At,je,r,v)).positionX,Ct=Ye.positionY,Fe=Ye.connectorDirection)}var gt,gs="inside"!=fe&&"insidenooverlap"!=fe||("pyramid"==W||"funnel"==W)&&"outside"==fe?tt<xe.circleCenterX[Oe]?"end":"start":"middle",C="inside"==fe||"insidenooverlap"==fe?0:tt<xe.circleCenterX[Oe]?-Be.width:Be.width;if(ue=0,le=0,("pie"==W||"doughnut"==W||"pieofpie"==W)&&"inside"==fe&&(gs=""!=Fe?tt<xe.circleCenterX[Oe]?"end":"start":"middle"),("pyramid"==W||"funnel"==W)&&"outside"==fe&&(gs="start"),p=""===re.model.title.subTitle.text?0:jt.height,this.chartObj&&xe.enableCanvasRendering&&("pyramid"==W||"funnel"==W)&&(ue=("left"===Ce?Pe.Width:0)+H+xe.margin.left,le=("top"===Ce?Pe.Height:0)+(O.text?xe._titleLocation.Y+Pt.height+p:xe.margin.top+H)),gt=this.textOption(u,re,Be,ue,le,_=re.model._isPieOfPie?w.actualIndex:_,gs,tt,Ct,v,w),Dt="array"==jQuery.type(xe.pointColors[w.actualIndex])?xe.pointColors[w.actualIndex][0].color:xe.pointColors[w.actualIndex],Dt=w.fill?"array"==jQuery.type(w.fill)?w.fill[0].color:w.fill:Dt,te.template)h=M(h)?{X:tt,Y:Ct}:h,pe.drawLabelTemplate(u,w,w.actualIndex,h,r),"bezier"==Se&&""!=Ye.bezierPath&&r.svgRenderer.drawPolyline(Ye.bezierPath,r.gConnectorEle[v]);else{if(n.each(xe.symbolShape,function(Bs){o=n.extend(!0,{},Z,o=w.marker?w.marker:Z),(Le=o.dataLabel.shape).toLowerCase()==Bs.toLowerCase()&&(yt=Bs)}),tt=ue+tt-ae.left/2+ae.right/2+C/2,Ct=le+Ct-ae.top/2+ae.bottom/2,("pyramid"==W||"funnel"==W)&&(w.xPos=dt.positionX+ue,w.yPos=dt.positionY+le,w.width="None"==yt?Be.width:ht,w.height="None"==yt?Be.height:nt,w.symbolName=te.template?"none":yt,w.textOptionsacc=gt,w.drawTextacc=He.data.text),xe.enableCanvasRendering&&gt.degree%360!=0&&(gt.y-=Be.height/4,gt.baseline="middle"),bt&&!u._enableSmartLabels&&(gt.fill=this._applySaturation(re,Mt="inside"!=fe?"transparent"===wt?"white":wt:Dt)),u._enableSmartLabels){var Ei,Zi,hi=xe.m_AreaBounds.Width+xe.m_AreaBounds.X+xe.margin.left,es=fe,gi=xe.enableCanvasRendering,Ht="string"==typeof He.data.text?He.data.text:He.data.text.toString(),ds=B(Ht,Ht.length,de).width,fi=0,N=0;be.visible?("left"==Ce||"right"==Ce)&&(Ei=Pe):Ei={Width:0},"pie"==W||"doughnut"==W||"pieofpie"==W?(("outside"==es||"outsideextended"==es||""!=Fe)&&(Ht=this.trimfunction(Ht,Zi=xe.circleCenterX[Oe]<gt.x?hi-gt.x+("right"==Ce?xe.margin.right+xe.elementSpacing:xe.margin.left):"left"==Ce?gt.x-xe.margin.left-Ei.Width:gt.x+xe.margin.left,ds,"...",hi,de),be.visible&&("top"==Ce||"bottom"==Ce)&&(Ht=this._overlapLegend(gt,Ht,r,v))),"inside"==es&&""==Fe&&(""!=(Ht=this.labelTrim(re,gt,ds,Ht,vi,Ai,w,de,v,a))||re.model._isPieOfPie||(w.smartLabelPosition="outside",dt={positionX:(Ye=pe.updateSmartLabelPosition(u,w,_,R,mt,Et,At,je,r,v)).positionX,positionY:Ye.positionY,isInterSected:Ye.isInterSected},Ht=He.data.text,Fe=Ye.connectorDirection,gt=this.textOption(u,re,Be,ue,le,_,gs=xe.circleCenterX[Oe]<Ye.positionX?"start":"end",Ye.positionX,Ye.positionY,v,w),Ht=this.trimfunction(Ht,Zi=xe.circleCenterX[Oe]<Ye.positionX?"right"==Ce?hi-gt.x-Ei:hi-gt.x:"left"==Ce?gt.x-Ei:gt.x,ds,"...",hi,de),delete w.smartLabelPosition))):("pyramid"==W||"funnel"==W)&&(tt=(Ye=pe.updateSmartLabel(r,u,_,w)).xPos,Ct=Ye.yPos,gt=Ye.textOptionsacc,Ht=w.drawTextacc,(""!=(Fe=Ye.connectorDirection)||"bezier"==Se)&&""!=Ht&&(Ht=Ht.toString(),(Zi=gi?hi-gt.x:hi-gt.x-re.pyrX)<ds&&(Ht=this.trimfunction(Ht,Zi,ds,"...",hi,de)))),b=B(Ht,null,de),"pie"==W||"doughnut"==W||"pieofpie"==W?C="inside"!=fe&&"insidenooverlap"!=fe||dt.isInterSected||""!=Fe?tt<xe.circleCenterX[Oe]?-b.width:b.width:0:("pyramid"==W||"funnel"==W)&&(C="insidenooverlap"==w._labelPlacement?0:b.width),"pie"==W||"doughnut"==W||"pieofpie"==W?(tt=ue+dt.positionX-ae.left/2+ae.right/2+C/2,Ct=le+dt.positionY-ae.top/2+ae.bottom/2):(tt=tt-ae.left/2+ae.right/2+C/2,Ct=Ct-ae.top/2+ae.bottom/2),T=n("#"+re.svgObject.id+"_dataLabel_series"+v+"_point_"+_),D=n("#"+re.svgObject.id+"_connectorLine_series"+v+"_point_"+_),""!==Ht?(T.show(),D.show(),bt&&(Mt="inside"!=es||""!=Ye.connectorDirection&&!ej.util.isNullOrUndefined(Ye.connectorDirection)||""!=Ye.bezierPath&&!ej.util.isNullOrUndefined(Ye.bezierPath)?"transparent"===wt?"white":wt:Dt,gt.fill=this._applySaturation(re,Mt)),Ne||l||pe.dataLabelSymbol(v,u,_,tt,Ct,ht,nt,yt,re),"bezier"!=Se||""==Ye.bezierPath||ej.util.isNullOrUndefined(Ye.bezierPath)||r.svgRenderer.drawPolyline(Ye.bezierPath,r.gConnectorEle[v])):(T.hide(),D.hide(),Fe=""),Ne||l||re.svgRenderer.drawText(gt,Ht,re.gSeriesTextEle[v]),L=B(Ht,Ht.length,de),B(He.data.text,null,de),("pie"==W||"doughnut"==W||"pieofpie"==W)&&("inside"==es&&""==Ye.connectorDirection?(V=gt.x-b.width/2,A=gt.x+b.width/2,F=gt.y-b.height/2,z=gt.y+b.height/2):(xe.circleCenterX[Oe]<gt.x?(V=gt.x,A=gt.x+b.width):(V=gt.x-b.width,A=gt.x),F=gt.y-b.height/2,z=gt.y+b.height/3),R={centerX:xe.circleCenterX[Oe],minX:V,minY:F,maxX:A,maxY:z,width:L.width,height:L.height,labelPosition:es}),("funnel"==W||"pyramid"==W)&&(fi="left"==Ce?fi:0,N=0,(""!=Fe||"bezier"==Se)&&(V=gt.x-fi,A=gt.x+b.width-fi,F=gt.y-b.height,z=gt.y),R=gi?{minX:V+fi,maxX:A+fi,minY:F+N,maxY:z+N,width:L.width,height:L.height,labelPosition:es}:{minX:V+re.pyrX+fi,maxX:A+re.pyrX+fi,minY:F+re.pyrY+N,maxY:z+re.pyrY+N,width:L.width,height:L.height,labelPosition:es}),Ke={bounds:R,trimmedText:Ht,text:He.data.text,type:W,font:de},re.accDataLabelRegion.type=W,re.accDataLabelRegion.connectorDirection=Fe,ej.util.isNullOrUndefined(re.accDataLabelRegion[Oe])&&(re.accDataLabelRegion[Oe]=[]),re.accDataLabelRegion[Oe].length<u._visiblePoints.length&&re.accDataLabelRegion[Oe].push(Ke),M(w.index)||!u.explode||gi||re.accDataLabelRegion[Oe].splice(w.index,1,Ke),1==a&&re.accDataLabelRegion[Oe].length==u._visiblePoints.length&&(re.accDataLabelRegion[v]=n.merge(n.merge([],re.accDataLabelRegion[0]),re.accDataLabelRegion[1]))}else Ne||l||(pe.dataLabelSymbol(v,u,w.index,tt,Ct,ht,nt,yt,re),re.svgRenderer.drawText(gt,He.data.text,re.gSeriesTextEle[v]));if(Ne)if(U=B(Ae,null,$e),Ht=(J=this.updateWrappedText(gt,Ae,U,w,W,vi,Ai,Xi,xe.innerRadius[v],fe,te,"bezier"==Se?u._enableSmartLabels?M(Ye.bezierPath)?"":Ye.bezierPath.points:Ye.points:Fe)).text,gt.x=parseFloat(J.x),gt.y=parseFloat(J.y),""==Ht||l||(oe="start"==gt["text-anchor"]?parseFloat(gt.x+J.width/2):M(Fe)||""==Fe?parseFloat(gt.x):parseFloat(gt.x-J.width/2),pe.dataLabelSymbol(v,u,_,oe,gt.y+J.height/2-U.height/2-5,J.width,J.height,yt,re)),M(Fe)||""==Fe||(("funnel"==W||"pyramid"==W)&&(ue=xe.enableCanvasRendering?this.chartObj.pyrX:0,le=xe.enableCanvasRendering?this.chartObj.pyrY:0),(ne=Fe.split(" "))[(he="outsideextended"!=fe||"pie"!=W&&"doughnut"!=W?ne.length:ne.length-2)-1]=gt.y-le+(J.height/2-U.height),ne[he-2]=gt.x-ue,Fe=ne.toString().replace(/,/g," ")),Fe=0==J.exceed?"":Fe,!xe.enableCanvasRendering&&!this.chartObj.vmlRendering||"object"!=typeof Ht||l)l||re.svgRenderer.drawText(gt,Ht,re.gSeriesTextEle[v]);else for(var $i=0,Qi=gt.y,ao=gt.x;$i<Ht.length;$i++)gt.y=parseFloat(Qi)+$i*Be.height,gt.x=ao,re.svgRenderer.drawText(gt,Ht[$i],re.gSeriesTextEle[v])}("pyramid"==W||"funnel"==W)&&te.template&&u._enableSmartLabels&&(tt=(Ye=pe.updateSmartLabel(r,u,_,w)).xPos,Ct=Ye.yPos,Fe=Ye.connectorDirection),(se=[])[0]=ue,se[1]=le,("bezier"!=Se||re.vmlRendering||"pyramid"==W||"funnel"==W)&&""!=Fe&&Fe&&re.svgRenderer.drawPath({id:re.svgObject.id+"_connectorLine_series"+v+"_point_"+_,stroke:_e.color?_e.color:Dt,"stroke-width":_e.width,d:Fe},re.gConnectorEle[v],se)}},_overlapLegend:function(r,u,_,w){var v=n(_.svgObject).height(),a=n(_.svgObject).width(),s=_.model.LegendActualBounds,h=_.model.elementSpacing,L=_.model.series[w].marker.dataLabel.margin,t=_.model.series[w].marker.dataLabel.shape,o="none"!=t?L.top:0,l="none"!=t?L.bottom:0,p=ej.EjSvgRender.utils._measureText(r).height,g=r.y+p+l,b=r.y-o,C=_.model.legend.position.toLowerCase(),D=_.model.title.subTitle,I=(L=_.model.margin,_.model.border.width),R=""==D.text?0:ej.EjSvgRender.utils._measureText(D.text,a-L.left-L.right,D.font).height+h,V=_.model._titleLocation?_.model._titleLocation.Y:0+R,F=u;return F="bottom"==C?g>v-_.model.LegendActualBounds.Height-h?"":F:b<(0==V?I+h:V+h)+s.Height?"":F,g>v&&(F=""),F},updateWrappedText:function(r,u,_,w,v,a,s,h,t,o,l,p){var I,R,V,F,A,U,J,ne,he,se,ee,re,W,M,fe,xe,g=this.chartObj,b=w,C={},T=_.width,D=_.height,Q=r.x,oe=!0,ue=g.model.m_AreaBounds.X,le=r.y;if(ej.util.isNullOrUndefined(p)||""==p||("object"==typeof p?(se=p.X,ee=p.Y):(ne=p.split(" "))[(he="outsideextended"==o||"bezier"==l.connectorLine.type.toLowerCase()?ne.length-2:ne.length)-1].indexOf(",")>-1?(se=(re=ne[he].split(","))[0],ee=re[1]):(se=ne[he-2],ee=ne[he-1])),"pie"==v||"doughnut"==v)if("inside"==o){t=ej.util.isNullOrUndefined(t)?0:t;var O=-.5*Math.PI,B=b.startAngle+O,H=b.endAngle+O,Z=b.midAngle+O,te=180/Math.PI*Z%360,_e=(Math,Math,"doughnut"==v?.75:.5);Q=this.getXCordinate(a,h*_e,Z),le=this.getYCordinate(s,h*_e,Z);var Se=this.getXCordinate(a,h,B),be=this.getYCordinate(s,h,B),Ce=this.getXCordinate(a,h,H),Pe=this.getYCordinate(s,h,H),ke=this.getXCordinate(a,h,Z),Ne=this.getYCordinate(s,h,Z),Le=this.getXCordinate(a,t,Z),je=this.getYCordinate(s,t,Z),Ae=this.getSegementMinMax([Se,Ce,"doughnut"==v?Le:a,ke],[be,Pe,"doughnut"==v?je:s,Ne]);Ae.width=Ae.height>h?Ae.height:Ae.width,J=.75*Ae.width}else"outside"!=o&&"outsideextended"!=o||"pie"!=v&&"doughnut"!=v||""==p||(J=se<=a?se-ue:g.svgWidth-ue-se,Q=se,le=ee);else if(W=g.svgWidth,"outside"==o)J=W-se;else if(J=b.width,!g.isPointInPolygon(b.Polygon,{x:Q+T,y:le})){J="funnel"==v?b.Polygon[3].x-b.Polygon[4].x:b.Polygon[1].x-b.Polygon[0].x,U=b.Polygon[3].y-b.Polygon[0].y;var He=Math.round(T/J)*D;(oe=He>=U-10||J<=50)?J=W-Q-ue:(r["text-anchor"]="middle",Q=("funnel"==v?b.Polygon[4].x:b.Polygon[0].x)+J/2+(g.model.enableCanvasRendering?g.pyrX:0),le=(b.Polygon[0].y+b.Polygon[3].y)/2-He/2+(g.model.enableCanvasRendering?g.pyrY:0),b._labelPlacement="insidenooverlap")}if("inside"!=o&&""==p&&ej.util.isNullOrUndefined(p))F="";else{for(I=null!=l.maximumLabelWidth?l.maximumLabelWidth:parseFloat(J),R=g._rowsCalculation({text:(F=u).toString(),font:l.font},I,void 0),A=n.extend([],F=R.textCollection),M=0;M<A.length-1;M++)A[M+1]=A[M].concat("<br/>",A[M+1]);A=A[A.length-1]}return(fe=ej.EjSvgRender.utils._measureText(A,J,l.font)).height+=D/2,("pie"==v||"doughnut"==v)&&"inside"==o&&(le=le-fe.height/2+D/2,F=fe.height>Ae.height?"":F,""==(F=fe.width>Ae.width?"":F)&&(fe.width=0,fe.height=0)),C="undefined"==this.currentBoundary?"undefined":this.currentBoundary,this.currentBoundary={X:Q-fe.width/2,Y:parseFloat(le),Height:fe.height,Width:fe.width},C&&"insidenooverlap"!=b._labelPlacement?(xe=this.checkOverlapping(g,this.currentBoundary,C,v,F,V,te,o,{startAngle:B,endAngle:H,radius:h,centerX:a,centerY:s}))[1]&&""!=xe[2]?(Q=(C=xe[0]).X+C.Width/2,le=C.Y,F=xe[2],fe.height=xe[0].Height,fe.width=xe[0].Width):F=xe[2]:V=this.currentBoundary,oe=""!=F&&oe,this.currentBoundary=""==F?C:this.currentBoundary,{text:F,x:Q,y:le,exceed:oe,height:fe.height,width:fe.width}},checkOverlapping:function(r,u,_,w,v,a,s,h,t){var p,g,b,l=!1;return g=(p=this.getOverlapArea(u,_)).xOverlap,b=p.yOverlap,(l=p.overlap)&&("pie"==w||"doughnut"==w?"inside"==h.toLowerCase()?"X"==(g>=b?"Y":"X")?u.X+=(s>0&&s<180?-1:1)*(g+10):u.Y+=(s>90&&s<270?-1:1)*(b+10):u.Y-=b+10:u.Y="funnel"==w?_.Y-u.Height-10:_.Y+_.Height+10),"pie"!=w&&"doughnut"!=w&&"pieofpie"!=w||"inside"!=h.toLowerCase()?"funnel"==w?u.Y+u.Height>=_.Y&&(v=""):"pyramid"==w&&u.Y+u.Height<=_.Y+_.Height&&(v=""):(v=1==(p=this.getOverlapArea(u,a)).overlap?"":v,l=1==p.overlap||l,v=this.checkSegmentExceeding(u,t)?v:""),[{X:u.X,Y:u.Y,Height:u.Height,Width:u.Width},l,v]},getOverlapArea:function(r,u){var _=Math.max(0,Math.min(r.X+r.Width,u.X+u.Width)-Math.max(r.X,u.X)),w=Math.max(0,Math.min(r.Y+r.Height,u.Y+u.Height)-Math.max(r.Y,u.Y));return{overlap:_*w>0,xOverlap:_,yOverlap:w}},getSegementMinMax:function(r,u){var _,w,v,a;return r.sort(function(t,o){return t-o}),u.sort(function(t,o){return t-o}),{minX:_=r[0],maxX:w=r[3],minY:v=u[0],maxY:a=u[3],width:w-_,height:a-v}},checkSegmentExceeding:function(r,u){var o,_=!1,a=r.X+r.Width/2-u.centerX,s=r.Y+r.Height/2-u.centerY,h=Math.atan2(s,a);return Math.abs(Math.sqrt(a*a+s*s))<=u.radius&&(o=2*Math.PI,h=h<0?o+h:h,u.startAngle=u.startAngle<0?o+u.startAngle:u.startAngle,u.endAngle=u.endAngle<0?o+u.endAngle:u.endAngle,(h<=u.endAngle&&h>=u.startAngle||h<=o&&h>=u.startAngle&&u.endAngle<u.startAngle||h>0&&h<=u.endAngle&&u.startAngle>u.endAngle)&&(_=!0)),_},drawBezierSegment:function(r,u,_,w,v){for(var s,h,t=ej.EjSvgRender.utils._getStringBuilder(),o=new(ej.seriesTypes[u.type.toLowerCase()]),l=0;l<=16;l++)s=o.GetBezierPoint(l/16,r,0,r.length,u),t.append(s.X+","+s.Y+" ");if(h={id:w.svgObject.id+"_bezierLine_series"+v+"_point"+_,stroke:u.marker.dataLabel.connectorLine.color?u.marker.dataLabel.connectorLine.color:w.model.pointColors[_],"stroke-width":u.marker.dataLabel.connectorLine.width,fill:"none",points:t.toString()},u._enableSmartLabels)return h;w.svgRenderer.drawPolyline(h,w.gConnectorEle)},GetBezierPoint:function(r,u,_,w,v){var a=new(ej.seriesTypes[v.type.toLowerCase()]);if(1==w)return u[_];var s=a.GetBezierPoint(r,u,_,w-1,v),h=a.GetBezierPoint(r,u,_+1,w-1,v),g=(1-r)*(s.X?s.X:s.x)+r*(h.X?h.X:h.x),b=(1-r)*(s.Y?s.Y:s.y)+r*(h.Y?h.Y:h.y);return s.x?{x:g,y:b}:{X:g,Y:b}},drawLabelTemplate:function(r,u,_,w,v){var a,s,h,t,o,l,p,g,b,C,T,D;v&&(this.chartObj=v);var ne,he,se,R=this.chartObj.model.m_AreaBounds.X,V=this.chartObj.model.m_AreaBounds.Y,F=this.chartObj.model.m_AreaBounds.Width,A=this.chartObj.model.m_AreaBounds.Height,z=n.inArray(r,this.chartObj.model._visibleSeries),N=this.chartObj.model.AreaType,U=this.chartObj.model.series[z],J=0,Q=0,oe=this.chartObj._id,ue=n.extend(!0,{},r.marker,u.marker),le={interior:ue.dataLabel.fill,opacity:ue.dataLabel.opacity,borderColor:ue.dataLabel.border.color,borderWidth:ue.dataLabel.border.width};if("none"!=N||this.chartObj.model.enable3D){if((a=0!=n("#template_group_"+oe).length?n("#template_group_"+oe):n("<div></div>").attr("id","template_group_"+oe)).css("position","relative").css("z-index",1e3),0==n("#"+ue.dataLabel.template).length)return;s=n("#"+ue.dataLabel.template).clone(),n(s).attr("id",ue.dataLabel.template+"_"+z+"_"+_+"_"+oe),(h=n(s)).css("position","absolute"),t=u.x,u.dataLabeltemplate=!0,u.id=ue.dataLabel.template+"_"+z+"_"+_+"_"+oe,r.xAxis._valueType.indexOf("datetime")>-1&&(u.x=ej.format(new Date(u.xValue),ej.util.isNullOrUndefined(r.xAxis.labelFormat)?"datetime"==r.xAxis._valueType?ej.EjSvgRender.utils._dateTimeLabelFormat(r.xAxis._intervalType,r.xAxis):ej.EjSvgRender.utils._dateTimeLabelFormat(r.xAxis.intervalType,r.xAxis):r.xAxis.labelFormat,this.chartObj.model.locale)),"category"==r.xAxis._valueType.toLowerCase()&&(u.x=ej.EjSvgRender.utils._getLabelContent(_,r.xAxis,this.chartObj.model.locale)),u.count=1,o={series:r,point:u},h.html(h.html().parseTemplate(o)),u.x=t,l="cartesianaxes"!=N&&r.enableAnimation&&"pyramid"!=r.type.toLowerCase()&&"funnel"!=r.type.toLowerCase()?"none":"block",h.css("display",l).appendTo(n(a)),n(a).appendTo("#chartContainer_"+oe),p=this.chartObj.model.m_AreaBounds,"cartesianaxes"!=N||this.chartObj.model.enable3D||(J=p.X+(this.chartObj.model.requireInvertedAxes?U.yAxis.plotOffset:U.xAxis.plotOffset),Q=U.yAxis.y),he=h.width()/2,se=h.height(),ne=ej.util.isNullOrUndefined(le)&&le.interior?le.interior:"none"==N?this.chartObj.model.pointColors[_]:this.chartObj.model.seriesColors[z]}else ne=ej.util.isNullOrUndefined(le)&&le.interior?le.interior:this.chartObj.model.pointColors[_],he=this.chartObj.model.circleCenterX[z]>w.X?u.size.width:0,h=n("#template_group_"+oe).find("#"+ue.dataLabel.template+"_"+z+"_"+_+"_"+oe),u.id=ue.dataLabel.template+"_"+z+"_"+_+"_"+oe,se=this.chartObj.model.enable3D?0:u.size.height/2;if(("hilo"==U.type||"hiloopenclose"==U.type||"candle"==U.type)&&(ne=U._visiblePoints[_]._hiloFill),ne="array"==jQuery.type(ne)?ne[0].color:ne,-1!=U.type.indexOf("bar"))var re=w.X+J-he,W=w.Y+(this.chartObj.model.enable3D?0:p.Y)-se+U.xAxis.plotOffset,pe=w.X+J+he;else re=w.X+J-he,W=Q+w.Y-se,pe=w.X+J+he;g=h[0].style.backgroundColor,h.css("left",re).css("top",W).css("background-color",""!=g?g:ne).css("display","block").css("cursor","default"),"cartesianaxes"!=this.chartObj.model.AreaType?(u.xPos=re-this.chartObj.pyrX,u.yPos=W-this.chartObj.pyrY,u.textOptionsacc={x:re-this.chartObj.pyrX,y:W-this.chartObj.pyrY}):u.y==u.low?(u.xPosLow=re,u.yPosLow=W,u.textOptionsLow={x:re,y:W},u.dataLabelLow={textX:re,textY:W,x:re,y:W}):(u.xPos=re,u.yPos=W,u.seriesIndex=z,u.textOptions={x:re,y:W},u.dataLabel={textX:re,textY:W,x:re,y:W},u.margin={top:0,bottom:0,left:0,right:0}),u.height=h.outerHeight(),u.width=h.outerWidth(),b=C=T=0,D=0,"cartesianaxes"==N&&(re>J+p.Width||W+se>p.Y+p.Height||re<J||W<Q||re>J+p.Width||W>Q+p.Height||pe>p.Width+p.X)&&(re<R&&(C=R-re),A+V<W+se&&(D=se-(W+se-(A+V))),W<V&&(b=V-W),F+R<re+(he=h.outerWidth())&&(T=he-(re+he-(F+R))),T=0==T?he:T,D=0==D?se:D,U.marker.dataLabel.showEdgeLabels||(document.getElementById(h[0].id).style.clip="rect("+b+"px,"+T+"px,"+D+"px,"+C+"px)"))},animateLabelTemplate:function(r){for(var u,_=n.inArray(r,this.chartObj.model._visibleSeries),w=r._visiblePoints.length,v=0;v<w;v++)(u=n("#"+(u=r.marker.dataLabel.template+"_"+_+"_"+v+"_"+this.chartObj._id))).css("display","none"),u.delay(1e3).fadeIn(300)},textPosition:function(r,u,_,w,v,a,s,h,t,o,l){var Q,oe,ue,le,ne,g=n.extend(!0,{},r.marker,_.marker).dataLabel,b=g.isReversed,C=g.horizontalTextAlignment.toLowerCase(),T=g.verticalTextAlignment.toLowerCase(),L=h,I=10,V=g.margin,F=r.yAxis.isInversed,A=this.chartObj._getXCrossValue(r,r.xAxis,o),z=-1!=v.indexOf("bar")||-1!=v.indexOf("column")&&"rangecolumn"!=v?this.chartObj.model.requireInvertedAxes?"bar":"column":v;if("column"==z||"stackingcolumn"==z||"stackingcolumn100"==z)se=(N=this.chartObj.model.chartRegions[L].Region.Bounds).Height,he=N.Width,o.axes[r.xAxis.name]._validCross?(Q=Math.abs((F?r.yAxis.visibleRange.min:r.yAxis.visibleRange.max)-A)/r.yAxis.visibleRange.delta*r.yAxis.height,"bottom"==l?s=s<=Q?s+se-V.bottom:s-se+w.height-V.bottom:"middle"==l?s<Q?s+=se/2+w.height/4:s-=se/2:s<Q&&F||s<Q&&!F?s-=I+w.height/1:s+=I+w.height/1):"bottom"==l?s=_.y>=A&&!r.yAxis.isInversed||_.y<A&&r.yAxis.isInversed?s+se-V.bottom:w.height+V.bottom:"middle"==l?_.y>A&&!r.yAxis.isInversed||_.y<A&&r.yAxis.isInversed?s+=se/2+w.height/4:s-=se/2:_.y>A&&r.yAxis.isInversed||_.y<A&&!r.yAxis.isInversed?s+=I:s=(s-=I)<0?this.chartObj.model.m_AreaBounds.Y+3:s,C&&"far"==C?a=b?a-he/2:a+he/2:C&&"near"==C&&(a=b?a+he/2:a-he/2),T&&"near"==T?s+="bottom"==l?I:7:T&&"far"==T&&(s-=I);else if(-1!=z.indexOf("bar")){var he=(N=this.chartObj.model.chartRegions[L].Region.Bounds).Width,se=N.Height;if(s+=w.height/4,o.axes[r.xAxis.name]._validCross?(Q=Math.abs(F?r.yAxis.visibleRange.max:r.yAxis.visibleRange.min-(r.xAxis._crossValue||0))/r.yAxis.visibleRange.delta*r.yAxis.width,"bottom"==l?a=a<Q&&!F||a>=Q&&F?a+he-w.width:a-he+V.left:"middle"==l?a=a<Q&&!F||a>=Q&&F?a+he/2-w.width/2:a-he/2-w.width/2:a<Q&&!F||a>=Q&&F?a-=I+w.width/1:a+=I+w.width/1):"bottom"==l?_.y>=0&&!r.yAxis.isInversed||_.y<0&&r.yAxis.isInversed?a=-1==z.indexOf("stacking")&&u>0?a-he+w.width/2:V.left+w.width/4:a+=he-w.height-V.right:"middle"==l?_.y>0&&!r.yAxis.isInversed||_.y<0&&r.yAxis.isInversed?a-=he/2+w.width/2:a+=he/2:_.y>=0&&!r.yAxis.isInversed||_.y<0&&r.yAxis.isInversed?a+=w.width/4+I:a-=w.width/4+I,C&&"far"==C)a+="bottom"==l?w.width-w.width/4:w.width/4+I;else if(C&&"near"==C)a-="bottom"==l?w.width/4:I-w.width/4-3;else{var ee=this.chartObj.model.m_AreaBounds.Width+this.chartObj.model.m_AreaBounds.X,re=N.X+N.Width;(a+=w.width/4)+w.width>ee&&(a=(pe=ee-re>w.width?ee:re)-w.width-10,_.isCrop=!0)}T&&"near"==T?s+=se/2:T&&"far"==T&&(s-=se/2)}else if("rangecolumn"==z){var N=this.chartObj.model.chartRegions[L].Region.Bounds,M=0,pe=0;_.high!=_.y&&(M=N.Height,pe=N.Width),this.chartObj.model.requireInvertedAxes?"top"==l?a=a-pe+(I+w.width/1):"bottom"==l?a=a-pe-(2*w.width+I):"middle"==l&&(a-=pe):"top"==l?s+=M-I:"bottom"==l?s=s+M+(2*w.height+I):"middle"==l&&(s+=M),C&&"far"==C.toLowerCase()?a+=N.Width/2:C&&"near"==C.toLowerCase()&&(a-=N.Width/2),T&&"near"==T.toLowerCase()?s+=7:T&&"far"==T.toLowerCase()&&(s-=I)}else if("boxandwhisker"==z)N=this.chartObj.model.chartRegions[L].Region.Bounds,M=0,pe=0,this.chartObj.model.requireInvertedAxes?"top"==l?a=a-pe+(I+w.width/1):"bottom"==l?a=a-pe-(2*w.width+I):"middle"==l&&(a-=pe):"top"==l?s+=M-3:"bottom"==l?s+=M+I+w.width/2:"middle"==l&&(s+=M+I),C&&"far"==C.toLowerCase()?a+=2*w.width:C&&"near"==C.toLowerCase()&&(a-=2*w.width),T&&"near"==T.toLowerCase()?s="top"==l?s+I:s-I:T&&"far"==T.toLowerCase()&&(s="top"==l?s-I:s+I);else if("waterfall"==v){se=(N=this.chartObj.model.chartRegions[L].Region.Bounds).Height,he=N.Width;var fe=_.waterfallSum<0||!_.showIntermediateSum&&!_.showTotalSum&&_.y<0;switch(l){case"bottom":r.isTransposed?a=r.yAxis.isInversed?a+he-(I+w.height/1)-(fe?he:0):a-he+(I+w.height/1)+(fe?he:0):s=r.yAxis.isInversed?s-w.height+V.bottom+(fe?se:0):s+se-V.bottom-(fe?se:0);break;case"middle":r.isTransposed?a=r.yAxis.isInversed?a+he/2-(fe?he:0):a-(he/2+w.width/4)+(fe?he:0):s=r.yAxis.isInversed?s-se/2+(fe?se:0):s+(se/2+w.height/4)-(fe?se:0);break;default:r.isTransposed?a=r.yAxis.isInversed?a-(I+w.height/1)-(fe?he:0):a+(I+w.height/1)+(fe?he:0):s=r.yAxis.isInversed?s+(I+w.height/1)+(fe?se:0):s-(I+w.height/1)-(fe?se:0)}C&&"far"==C?a+=he/2:C&&"near"==C&&(a-=he/2),T&&"near"==T?s+="bottom"==l?w.height/3:w.height+I:T&&"far"==T&&(s-="bottom"==l?w.height/3:I+w.height/2)}else if("polar"==v||"radar"==v)s+=w.height/4,"bottom"==l?s+=w.height:"top"==l&&(s-=w.height),C&&"far"==C?a+=w.width:C&&"near"==C&&(a-=w.width),T&&"near"==T?s+=w.height/2:T&&"far"==T&&(s-=w.height/2);else{if(("rangearea"==z||"splinerangearea"==z)&&_.high!=_.y)if(1==this.chartObj.model.series.length)s=this.chartObj.model.chartRegions[u][t].region[(ne=this.chartObj.model.chartRegions[u][t].region.length)-1].Y,a=this.chartObj.model.chartRegions[u][t].region[ne-1].X;else{for(oe=0,ue=0;ue<u;ue++)oe="rangearea"!=(le=this.chartObj.model.series[ue].type)&&"splinerangearea"!=le?oe+this.chartObj.model.series[ue].points.length:oe+1,"hidden"==this.chartObj.model.series[ue].visibility&&(oe=0);s=this.chartObj.model.chartRegions[oe][t].region[(ne=this.chartObj.model.chartRegions[oe][t].region.length)-1].Y,a=this.chartObj.model.chartRegions[oe][t].region[ne-1].X}this.chartObj.model.requireInvertedAxes?"top"==l?a+=I:"bottom"==l&&(a-=I+w.width/1):"bottom"==l?s+=g.showEdgeLabels?2*w.height-I:2*w.height+I:"top"==l&&(s-=I),C&&"far"==C?a+=w.width+I:C&&"near"==C&&(a-=w.width+I),T&&"near"==T?s+=7:T&&"far"==T?s-=I:("bubble"==v||"scatter"==v)&&"middle"==l&&(s+=w.height/4)}return{x:a,y:s}},changeCrossHairSymbol:function(r,u,_,w,v){var s,h,t,o,a=v.drawType;return ej.util.isNullOrUndefined(u)||(s={},r=n.extend(!0,{},v.marker,r),s=n.extend(!0,{},this.chartObj.model.crosshair.marker,s),h=v.points[_],t=v.type.toLowerCase(),ej.util.isNullOrUndefined(s.shape)&&(s.shape=r.shape,"bubble"==t&&(s.border.color=h.border&&h.border.color?h.border.color:v.border.color,s.border.width=h.border&&h.border.width?h.border.width:v.border.width)),(!this.chartObj.model.crosshair.visible||ej.util.isNullOrUndefined(s.fill))&&"bubble"!=v.type.toLowerCase()&&"scatter"!=v.type.toLowerCase()&&"scatter"!=a&&(s.fill="cross"==s.shape.toLowerCase()||"horizline"==s.shape.toLowerCase()||"vertline"==s.shape.toLowerCase()?"array"==jQuery.type(this.chartObj.model.seriesColors[w])?this.chartObj.model.seriesColors[w][0].color:this.chartObj.model.seriesColors[w]:r.border.color),"bubble"!=v.type.toLowerCase()||this.chartObj.model.enableCanvasRendering?(s.size.width<=r.size.width&&(s.size.width=r.size.width+2),s.size.height<=r.size.height&&(s.size.height=r.size.height+2),(ej.util.isNullOrUndefined(s.border.color)||!this.chartObj.model.crosshair.visible)&&(ej.util.isNullOrUndefined(r.fill)?"scatter"==t?(s.border.color=h.border&&h.border.color?h.border.color:v.border.color,s.border.width=h.border&&h.border.width?h.border.width:v.border.width):s.border.color=h.fill?h.fill:"array"==jQuery.type(this.chartObj.model.seriesColors[w])?this.chartObj.model.seriesColors[w][0].color:this.chartObj.model.seriesColors[w]:s.border.color="array"==jQuery.type(r.fill)?r.fill._gradientStop[0].color:r.fill)):(o=n(this.chartObj.gSeriesEle).find("#"+this.chartObj.svgObject.id+"_Series"+w+"_Point"+_)[0].getBoundingClientRect(),s.size.width=(o.right-o.left)/2+15,s.size.height=(o.bottom-o.top)/2+15)),v._trackMarker=s,s},dataLabelSymbol:function(r,u,_,w,v,a,s,h,t,o){var p,g,b,l=t;if("None"!=h){p=l.model._isPieOfPie?ej.ejChart._getPieOfPiePoint(_,u):u._visiblePoints[_],g={startX:w,startY:v},t.model.enable3D||(b=o||l.gDataLabelEle[r]),b=l.model.enableCanvasRendering?null:b;var C=n.extend(!0,{},u.marker,p.marker);this.drawSymbolStyle({style:{interior:C.dataLabel.fill,opacity:C.dataLabel.opacity,borderColor:C.dataLabel.border.color,borderWidth:C.dataLabel.border.width},gradientName:"symbol",symbolEle:b,width:a,height:s,point:p,location:g,seriesIndex:r,pointIndex:_,element:C,symbolName:h,id:l.svgObject.id+"_dataLabel_series"+r+"_"+_},l)}},drawSymbolStyle:function(r,u){var w,v,a,z,N,U,J,ue,_=u,s=r.style,h=r.gradientName,t=r.symbolEle,o=r.width,p=r.height,g=r.point,b=r.location,C=r.seriesIndex,T=r.visibility,D=r.pointIndex,L=r.element,I=r.symbolName,R=r.trackSymbol,V=_.model.enableCanvasRendering,F="polaraxes"==_.model.AreaType,A=_.model.series[C];if(null!=s&&(""!=s.borderColor&&(w=s.borderColor?s.borderColor:"transparent"),a=s.opacity,v=s.borderWidth<0?0:s.borderWidth),z=null,s.interior?z=ej.util.isNullOrUndefined(s.interior._gradientStop)?s.interior:s.interior._gradientStop:g.fill?z="array"==jQuery.type(g.fill)?g.fill[0].color:g.fill:(N=_.model.pointColors,z="none"!=_.model.AreaType?"waterfall"==A.type.toLowerCase()&&A.positiveFill&&(g.y>0||g.waterfallSum>0)?A.positiveFill:_.model.seriesColors[C]:"array"==jQuery.type(N[D])?N[D][0].color:N[D]),_.symbolColorName=_.svgRenderer.createGradientElement(h+C,z,0,0,0,n(_.svgObject).height(),t),U={dashArray:r.dashArray,ShapeSize:{width:o,height:p},Style:{BorderColor:w,BorderWidth:v,Opacity:a,Visibility:T,Color:_.symbolColorName},PointIndex:D,SeriesIndex:C,Imageurl:L.imageUrl,Image:L.image,ID:r.id},(J=n.extend({},ej.EjSvgRender.commonChartEventArgs)).data={location:b,style:U},_._trigger("symbolRendering",J),!J.cancel)if(V)b.startY=_.model.requireInvertedAxes?b.startY:b.startY+(A.yAxis.y?A.yAxis.y-_.canvasY:0),b.startX=_.model.requireInvertedAxes?b.startX:b.startX+(A.xAxis.x?A.xAxis.x-_.canvasX:0),J.data.location.startY=b.startY,ej.util.isNullOrUndefined(R)?"cartesianaxes"==_.model.AreaType?(t=_.svgRenderer.ctx,_.svgRenderer.ctx.save(),_.svgRenderer.ctx.beginPath(),_.model.requireInvertedAxes?_.svgRenderer.ctx.rect(A.yAxis.x,A.xAxis.y,A.yAxis.width,A.xAxis.height):_.svgRenderer.ctx.rect(A.xAxis.x,A.yAxis.y,A.xAxis.width,A.yAxis.height),_.svgRenderer.ctx.clip(),"hidden"!=r.visibility&&ej.EjSvgRender.chartSymbol["_draw"+I](J.data.location,J.data.style,_,t,r),_.svgRenderer.ctx.restore()):(V&&F&&(_.svgRenderer.ctx.save(),_.svgRenderer.ctx.beginPath(),_.svgRenderer.ctx.arc(_.model.centerX,_.model.centerY,_.model.Radius,0,2*Math.PI,!1),_.svgRenderer.ctx.clip()),ej.EjSvgRender.chartSymbol["_draw"+I](J.data.location,J.data.style,_,t,r),V&&F&&_.svgRenderer.ctx.restore()):(Q=J.data.style.PointIndex,_.model.series[oe=J.data.style.SeriesIndex].highlightSettings.enable||0==n("#"+_._id+"_selection_"+oe+"_"+Q+"_canvas").length&&_.svgRenderer.trackSymbol(J.data.style,J.data.location,I,R,_));else{var Q=J.data.style.PointIndex,oe=J.data.style.SeriesIndex,le=A.type;A.highlightSettings.enable&&R&&!_.model.crosshair.visible?((s=n.extend(!0,J.data.style)).Style.Color="none"==(ue=A.highlightSettings).pattern.toLowerCase()||""==ue.pattern?""!=ue.color?ue.color:s.Style.Color:"url(#"+ue.pattern.toLowerCase()+"_Highlight_2D_"+oe+")",s.Style.Opacity=ue.opacity,s.Style.BorderColor=ue.border.color,s.Style.BorderWidth=ue.border.width,("bubble"==le?n("#"+this.chartObj.svgObject.id+"_Series"+oe+"_Point"+Q).attr("class"):n("#"+this.chartObj.svgObject.id+"_Series"+oe+"_Point"+Q+"_symbol").attr("class"))!="SelectionStyleseries"+oe&&ej.EjSvgRender.chartSymbol["_draw"+I](J.data.location,s,_,_.model.enable3D?u.chart3D:t,r)):("scatter"==le?n("#"+_.svgObject.id+"_Series"+oe+"_Point"+Q+"_symbol").attr("class"):n("#"+_.svgObject.id+"_Series"+oe+"_Point"+Q).attr("class"))!="SelectionStyleseries"+oe&&ej.EjSvgRender.chartSymbol["_draw"+I](J.data.location,J.data.style,_,_.model.enable3D?u.chart3D:t,r)}!u.chart3D&&"pieofpie"!=le&&"none"==_.model.AreaType&&n(t).children().not("defs").length>_.model._visibleSeries[C]._visiblePoints.length&&n(t.childNodes[r.pointIndex]).replaceWith(n(t.childNodes[n(t.childNodes).length-1]))},drawSymbol:function(r,u,_,w,v,a,s,h){var o,l,p,b,C,T,D;ej.util.isNullOrUndefined(this.chartObj)&&(this.chartObj=a);var I=u._visiblePoints[_],R=u.type.toLowerCase(),V="boxandwhisker"==R?h:_,F="bubble"==R||"scatter"==R?u.border.dashArray:"",A="None",z=this.changeCrossHairSymbol(I.marker?I.marker:u.marker,s,_,r,u);if(o="boxandwhisker"==R.toLowerCase()?z||n.extend(!0,{},u.outlierSettings,I.outlierSettings,u.border,I.border):z||n.extend(!0,{},u.marker,I.marker),n.each(this.chartObj.model.symbolShape,function(le){o.shape.toLowerCase()==le.toLowerCase()&&(A=le)}),"None"!=A){l="cartesianaxes"==this.chartObj.model.AreaType?{startX:w+this.chartObj.canvasX,startY:v+this.chartObj.canvasY}:{startX:w,startY:v},"scatter"==R||"scatter"==u.drawType?b={interior:o.fill,opacity:o.opacity,borderColor:p=I.border&&I.border.color?I.border.color:u.border.color,borderWidth:I.border&&I.border.width?I.border.width:u.border.width}:"boxandwhisker"==R?(p=I.border&&I.border.color?"transparent"==I.border.color?this.chartObj._saturationColor(u.fill,-.6):I.border.color:"transparent"==u.border.color?this.chartObj._saturationColor(u.fill,-.6):u.border.color,b={interior:u.fill,opacity:u.opacity,borderColor:p,borderWidth:I.border&&I.border.width?I.border.width:u.border.width}):b={interior:o.fill,opacity:o.opacity,borderColor:o.border.color,borderWidth:o.border.width};var Q=o.size.width,oe=o.size.height,ue={style:b,gradientName:s?"TrackSymbol":"symbol",symbolEle:s?this.chartObj.gTrackerEle:this.chartObj.gSymbolGroupEle[r],width:Q,height:oe,point:I,location:l,seriesIndex:r,pointIndex:_,element:o,visibility:I.visible?"visible":"hidden",symbolName:A,trackSymbol:s,id:s?this.chartObj.svgObject.id+"_trackSymbol_"+r+"_"+V:this.chartObj.svgObject.id+"_Series"+r+"_Point"+V+"_symbol",dashArray:F};this.chartObj.model.enableCanvasRendering||(C=this.chartObj.gSymbolGroupEle[r].childNodes[_]),ej.util.isNullOrUndefined(C)||"image"!=A.toLowerCase()?this.drawSymbolStyle(ue,this.chartObj,s):(C.setAttribute("width",Q),C.setAttribute("height",oe)),"scatter"==u.type.toLowerCase()&&(T=u.xAxis.x,D=u.yAxis.y,this.chartObj.model.enableCanvasRendering&&(T=0,D=0),ej.EjSvgRender.utils._addRegion(this.chartObj,{X:T+l.startX-oe/2,Y:D+l.startY-Q/2,Height:oe,Width:Q},u,null,_))}},chartAreaType:"cartesianAxes",requireInvertedAxes:!1,stackingSeries:!1,hiloTypes:!1},ej.ejLineSeries=c(ej.EjSeriesRender),ej.seriesTypes.line=ej.ejLineSeries,ej.ejStepLineSeries=c(ej.EjSeriesRender,{draw:function(r,u){var w,v,_=this.chartObj=r;u._animationType="path";var a=ej.EjSvgRender.utils._getStringBuilder(),s=u,h=this.setLineSeriesStyle(s);s.sorting&&(s.points=ej.DataManager(s.points,ej.Query().sortBy("xValue")).executeLocal());var p,g,b,C,T,t=u._visiblePoints=s.points.length>100||!s.enableSmartLabels?this.improveChartPerformance(s):this._isVisiblePoints(s),o=null,l="M",D=-1;for(v=0;v<t.length;v++)(p=t[v]).visible?(null!=o&&(t.length>D+1&&(g={xValue:t[D+1].xValue,YValues:[o.YValues[0]]},b=ej.EjSvgRender.utils._getPoint(o,s),C=ej.EjSvgRender.utils._getPoint(g,s),T=ej.EjSvgRender.utils._getPoint(t[D+1],s),a.append(l+" "+(b.X+(_=this.chartObj).canvasX)+" "+(b.Y+_.canvasY)+" L "+(C.X+_.canvasX)+" "+(C.Y+_.canvasY)+" L "+(T.X+_.canvasX)+" "+(T.Y+_.canvasY)+" ")),l="L"),o=p,D=v):(o=null,l="M");w=a.toString(),this._drawLinePath(s,h,w),this.chartObj.svgRenderer.append(this.chartObj.dragPoint?this.chartObj.gPreviewSeriesGroupEle:this.gSeriesGroupEle,this.chartObj.gSeriesEle)}}),ej.ejStepAreaSeries=c(ej.EjSeriesRender,{draw:function(r,u,_){var w,v,s,h,t;this.chartObj=r,u._animationType="path";var l,o=this.chartObj.model.requireInvertedAxes,p=ej.EjSvgRender.utils._getStringBuilder(),g=u,b=this.setAreaSeriesStyle(g);g.sorting&&(g.points=ej.DataManager(g.points,ej.Query().sortBy("xValue")).executeLocal());var L,C=u._visiblePoints=g.points.length>100||!g.enableSmartLabels?this.improveChartPerformance(g):this._calculateVisiblePoints(g).visiblePoints,T=0,D=null;"category"==g.xAxis._valueType.toLowerCase()&&"onticks"!=g.xAxis.labelPlacement.toLowerCase()&&(T=.5);var I=ej.EjSeriesRender.prototype.getOrigin(this,g,_),R=null,V=!0,F=this.chartObj;for(w=0;w<=C.length;w++)w<C.length?C[w].visible?(L={xValue:C[w].xValue-T,YValues:[C[w].y]},t=ej.EjSvgRender.utils._getPoint(L,g),R||(R={xValue:C[w].xValue-T,YValues:[I]},v=ej.EjSvgRender.utils._getPoint(R,g),p.append("M "+(v.X+F.canvasX)+" "+(v.Y+F.canvasY)+" ")),null!=D&&(s=ej.EjSvgRender.utils._getPoint({xValue:L.xValue,YValues:[D.YValues[0]]},g),V&&(p.append("L "+(h.X+F.canvasX)+" "+(h.Y+F.canvasY)+" "),V=!1),p.append("L "+(s.X+F.canvasX)+" "+(s.Y+F.canvasY)+" L "+(t.X+F.canvasX)+" "+(t.Y+F.canvasY)+" "),(0==T&&w==C.length-1||w<C.length-1&&!C[w+1].visible)&&(T>0?(L={xValue:C[w].xValue+T,YValues:[C[w].y]},t=ej.EjSvgRender.utils._getPoint(L,g),p.append(o?"L "+(t.X+F.canvasX)+" "+(t.Y+F.canvasY)+" L "+(t.Y+F.canvasX)+" "+(v.X+F.canvasY)+" ":"L "+(t.X+F.canvasX)+" "+(t.Y+F.canvasY)+" L "+(t.X+F.canvasX)+" "+(v.Y+F.canvasY)+" ")):p.append(o?"L "+(v.X+F.canvasY)+" "+(t.Y+F.canvasX)+" ":"L "+(t.X+F.canvasX)+" "+(v.Y+F.canvasY)+" "),R=null,D=null,V=!0)),R&&(h=t,D=L)):(R=null,D=null,V=!0):C[w-1].visible&&T>0&&(L={xValue:C[w-1].xValue+T,YValues:[C[w-1].y]},t=ej.EjSvgRender.utils._getPoint(L,g),p.append(o?"L "+(t.X+F.canvasX)+" "+(t.Y+F.canvasY)+" L "+(t.Y+F.canvasX)+" "+(v.X+F.canvasY)+" ":"L "+(t.X+F.canvasX)+" "+(t.Y+F.canvasY)+" L "+(t.X+F.canvasX)+" "+(v.Y+F.canvasY)+" "));l=p.toString(),this.drawAreaPath(g,b,l),this.chartObj.svgRenderer.append(this.chartObj.dragPoint?this.chartObj.gPreviewSeriesGroupEle:this.gSeriesGroupEle,this.chartObj.gSeriesEle)}}),ej.seriesTypes.steparea=ej.ejStepAreaSeries,ej.seriesTypes.stepline=ej.ejStepLineSeries,ej.ejColumnSeries=c(ej.EjSeriesRender,{draw:function(r,u,_){var w,v,a,s,h,t,o,p,g;this.chartObj=r,w=this.chartObj.model.requireInvertedAxes,u._animationType="rect","cylinder"==u.columnFacet&&(u._animationType="cylinder");var b=u,C=b.cornerRadius,T=n.inArray(b,this.chartObj.model._visibleSeries),D=ej.EjSeriesRender.prototype.getOrigin(this,b,_),L=this.getSideBySideInfo(b,_);b.dragSettings.enable&&(b.sidebysideInfo=L);var I=this._isVisiblePoints(b),R=ej.EjSvgRender.utils._getTransform(b.xAxis,b.yAxis,w);for(this.gSeriesGroupEle=this.chartObj.svgRenderer.createGroup({id:this.chartObj.svgObject.id+"_SeriesGroup_"+T,transform:"translate("+R.x+","+R.y+")"}),v=this,a=0;a<I.length;a++)if(s=a,t=(h=I[a]).YValues[0],o=D,h.visible){var A=v.calculateSides(h,L),z=A.x1,N=A.x2,U=this.chartObj.setStyle(v,b,T,s),J=v.getRectangle(z,t,N,o,b,r),Q=Math.min(0,J.Width),oe=Math.min(0,J.Height);(0==Q||0==oe)&&J.Width>0&&(u={id:v.chartObj.svgObject.id+"_Series"+T+"_Point"+s,x:J.X+v.chartObj.canvasX,y:J.Y+v.chartObj.canvasY,width:J.Width,height:J.Height,fill:U.interior,plot:t<0?"negative":"positive","stroke-width":U.borderWidth,opacity:U.opacity,stroke:U.borderColor,"stroke-dasharray":U.dashArray},"cylinder"==b.columnFacet?v.chartObj.svgRenderer.drawCylinder(u,v.gSeriesGroupEle,{isColumn:!0,stacking:!1,isLastSeries:!0}):"object"!=typeof C&&C>0||C.topLeft>0||C.bottomLeft>0||C.topRight>0||C.bottomRight>0?(p=ej.EjSvgRender.utils._calculateroundedCorner(C,u),u.d=p,b._animationType="path",v.chartObj.svgRenderer.drawPath(u,v.gSeriesGroupEle)):"rectangle"==b.columnFacet&&v.chartObj.svgRenderer.drawRect(u,v.gSeriesGroupEle),g=ej.EjSvgRender.utils._getSvgXY(J.X,J.Y,b,v.chartObj),ej.EjSvgRender.utils._addRegion(v.chartObj,{X:g.X,Y:g.Y,Width:J.Width,Height:J.Height},b,h,s)),u.plot=t<0?"negative":"positive",h.symbolLocation=w?{X:t<(b.xAxis._crossValue||0)&&!b.yAxis.isInversed||b.yAxis.isInversed&&t>(b.xAxis._crossValue||0)?J.X:J.X+J.Width,Y:J.Y+J.Height/2}:{X:J.X+J.Width/2,Y:t<(b.xAxis._crossValue||0)&&!b.yAxis.isInversed||b.yAxis.isInversed&&t>(b.xAxis._crossValue||0)?J.Y+J.Height:J.Y}}this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)},isRegion:!0}),ej.seriesTypes.column=ej.ejColumnSeries,ej.ejStackingColumnSeries=c(ej.EjSeriesRender,{draw:function(r,u,_){var w,v,s,h;this.chartObj=r,u._animationType="rect","cylinder"==u.columnFacet&&(u._animationType="cylinder");var t=this.chartObj.model.requireInvertedAxes,o=u,l=o.cornerRadius,p=n.inArray(o,this.chartObj.model._visibleSeries),g=this.getSideBySideInfo(o,_),b=this._isVisiblePoints(o),C=ej.EjSvgRender.utils._getTransform(o.xAxis,o.yAxis,t);for(this.gSeriesGroupEle=this.chartObj.svgRenderer.createGroup({id:this.chartObj.svgObject.id+"_SeriesGroup_"+p,transform:"translate("+C.x+","+C.y+")"}),w=this,v=0;v<b.length;v++){var D=v,L=o._visiblePoints[v],I=o.stackedValue.StartValues[v],R=o.stackedValue.EndValues[v];if(L.visible){var Q,V=w.calculateSides(L,g),F=V.x1,A=V.x2,z=this.chartObj.setStyle(w,o,p,D),N=w.getRectangle(F,R,A,I,o,r),U=Math.min(0,N.Width),J=Math.min(0,N.Height);if((0==U||0==J)&&N.Width>0){u={id:w.chartObj.svgObject.id+"_Series"+p+"_Point"+D,x:N.X+w.chartObj.canvasX,y:N.Y+w.chartObj.canvasY,width:N.Width,height:N.Height,fill:z.interior,"stroke-width":z.borderWidth,plot:R<0?"negative":"positive",opacity:z.opacity,stroke:z.borderColor,"stroke-dasharray":z.dashArray},"cylinder"==o.columnFacet?w.chartObj.svgRenderer.drawCylinder(u,w.gSeriesGroupEle,{isColumn:!0,stacking:"stackingcolumn100"==o.type,isLastSeries:o.stackedValue.stackedSeries}):"object"!=typeof l&&l>0||l.topLeft>0||l.bottomLeft>0||l.topRight>0||l.bottomRight>0?(s=ej.EjSvgRender.utils._calculateroundedCorner(l,u),u.d=s,o._animationType="path",w.chartObj.svgRenderer.drawPath(u,w.gSeriesGroupEle)):"rectangle"==o.columnFacet&&w.chartObj.svgRenderer.drawRect(u,w.gSeriesGroupEle),Q={X:(h=ej.EjSvgRender.utils._getSvgXY(N.X,N.Y,o,w.chartObj)).X,Y:h.Y,Width:N.Width,Height:N.Height};var ue=N.Width/2,le=Math.round(N.Height),ne=Math.round(ue/4);ne==le&&(Q.Height=N.Height+2*ne),ej.EjSvgRender.utils._addRegion(w.chartObj,Q,o,L,D)}L.symbolLocation=t?{X:R<(o.xAxis._crossValue||0)&&!o.yAxis.isInversed||o.yAxis.isInversed&&R>(o.xAxis._crossValue||0)?N.X:N.X+N.Width,Y:N.Y+N.Height/2}:{X:N.X+N.Width/2,Y:R<(o.xAxis._crossValue||0)&&!o.yAxis.isInversed||o.yAxis.isInversed&&R>(o.xAxis._crossValue||0)?N.Y+N.Height:N.Y}}}this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)},stackingSeries:!0,isRegion:!0}),ej.seriesTypes.stackingcolumn=ej.ejStackingColumnSeries,ej.seriesTypes.stackingcolumn100=ej.ejStackingColumnSeries,ej.seriesTypes.rangecolumn=ej.ejRangeColumnSeries,ej.ejRangeColumnSeries=c(ej.EjSeriesRender,{draw:function(r,u,_){var w,v,a,s;this.chartObj=r,u._animationType="rect";var h=this.chartObj.model.requireInvertedAxes,t=u,o=t.cornerRadius,l=n.inArray(t,this.chartObj.model._visibleSeries),p=this.getSideBySideInfo(t,_),g=this._isVisiblePoints(t),b=ej.EjSvgRender.utils._getTransform(t.xAxis,t.yAxis,h);for(this.gSeriesGroupEle=this.chartObj.svgRenderer.createGroup({id:this.chartObj.svgObject.id+"_SeriesGroup_"+l,transform:"translate("+b.x+","+b.y+")"}),w=this,v=0;v<g.length;v++){var T=v,D=g[v],L=D.YValues[0],I=D.YValues[1];if(D.visible){var R=w.calculateSides(D,p),V=R.x1,F=R.x2,A=this.chartObj.setStyle(w,t,l,T),z=w.getRectangle(V,L,F,I,t,r),U=Math.min(0,z.Width),J=Math.min(0,z.Height);(0==U||0==J)&&(u={id:w.chartObj.svgObject.id+"_Series"+l+"_Point"+T,x:z.X+w.chartObj.canvasX,y:z.Y+w.chartObj.canvasY,width:z.Width,height:z.Height,fill:A.interior,"stroke-width":A.borderWidth,opacity:A.opacity,stroke:A.borderColor,"stroke-dasharray":A.dashArray},"object"!=typeof o&&o>0||o.topLeft>0||o.bottomLeft>0||o.topRight>0||o.bottomRight>0?(a=ej.EjSvgRender.utils._calculateroundedCorner(o,u),u.d=a,t._animationType="path",w.chartObj.svgRenderer.drawPath(u,w.gSeriesGroupEle)):w.chartObj.svgRenderer.drawRect(u,w.gSeriesGroupEle,b.y),w.chartObj.svgRenderer.drawRect(u,w.gSeriesGroupEle,b.y),s=ej.EjSvgRender.utils._getSvgXY(z.X,z.Y,t,w.chartObj),ej.EjSvgRender.utils._addRegion(w.chartObj,{X:s.X,Y:s.Y,Width:z.Width,Height:z.Height},t,D,T)),"waterfall"==t.type.toLowerCase()&&(L=D.waterfallSum?D.waterfallSum:D.y),D.symbolLocation=h?{X:L<0&&!t.yAxis.isInversed||t.yAxis.isInversed&&L>0?z.X:z.X+z.Width,Y:z.Y+z.Height/2}:{X:z.X+z.Width/2,Y:L<0&&!t.yAxis.isInversed||t.yAxis.isInversed&&L>0?z.Y+z.Height:z.Y}}}this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)},hiloTypes:!0,isRegion:!0}),ej.seriesTypes.rangecolumn=ej.ejRangeColumnSeries,ej.ejBoxandwhiskerSeries=c(ej.EjSeriesRender,{draw:function(r,u,_){var w,a,s,h,t;this.chartObj=r,w=this.chartObj.model.requireInvertedAxes,u._animationType="rect";var o=u,l=n.inArray(o,this.chartObj.model._visibleSeries),g=(ej.EjSeriesRender.prototype.getOrigin(this,o,_),this.getSideBySideInfo(o,_)),b=this._isVisiblePoints(o),C=ej.EjSvgRender.utils._getTransform(o.xAxis,o.yAxis,w),D=0;for(this.gSeriesGroupEle=this.chartObj.svgRenderer.createGroup({id:this.chartObj.svgObject.id+"_SeriesGroup_"+l,transform:"translate("+C.x+","+C.y+")"}),a=this,s=0;s<b.length;s++){var V,F,A,z,N,U,J,Q,oe,ue,he,ee,re,pe,M,xe,I=s,O=b[s];if(F=(V=a.calculateMean(O.YValues[0],o,I)).UpperQuartile,A=V.LowerQuartile,O.visible&&(N=(z=a.calculateSides(O,g)).x1,U=z.x2,J=this.chartObj.setStyle(a,o,l,I),Q=a.getRectangle(N,F,U,A,o,r),oe=Math.min(0,Q.Width),ue=Math.min(0,Q.Height),l=n.inArray(o,this.chartObj.model._visibleSeries),this.chartObj.setStyle(this,o,l,s),ej.EjSvgRender.utils._getStringBuilder(),he=ej.EjSvgRender.utils._getPoint({xValue:O.xValue,YValues:V.midvalue},o),h="transparent"==J.borderColor?this.chartObj._saturationColor(J.interior,-.6):J.borderColor,(0==oe||0==ue)&&Q.Width>0)){for(ee={id:this.chartObj.svgObject.id+"_Series"+l+"_Point"+I+"_median",x1:o._isTransposed?he.X+a.chartObj.canvasX:Q.X+a.chartObj.canvasX,y1:o._isTransposed?Q.Y+a.chartObj.canvasY:he.Y+a.chartObj.canvasY,x2:o._isTransposed?he.X+a.chartObj.canvasX:Q.X+Q.Width+a.chartObj.canvasX,y2:o._isTransposed?Q.Y+Q.Height+a.chartObj.canvasY:he.Y+a.chartObj.canvasY,"stroke-width":J.borderWidth,stroke:h},a.chartObj.svgRenderer.drawRect(u={id:a.chartObj.svgObject.id+"_Series"+l+"_Point"+I,x:Q.X+a.chartObj.canvasX,y:Q.Y+a.chartObj.canvasY,width:Q.Width,height:Q.Height,fill:J.interior,"stroke-width":J.borderWidth,plot:F<0?"negative":"positive",opacity:J.opacity,stroke:h,"stroke-dasharray":J.dashArray},a.gSeriesGroupEle),a.chartObj.svgRenderer.drawLine(ee,a.gSeriesGroupEle),re=a.calculateBoxAndWhiskerPath(u,Q,ee,V,o,O,I),u.d=re.lowerWhisker,u.id=u.id+"_whisker",a.chartObj.svgRenderer.drawPath(u,a.gSeriesGroupEle),u.d=re.upperWhisker,a.chartObj.svgRenderer.drawPath(u,a.gSeriesGroupEle),1==o.showMedian&&(u.d=re.mean,a.chartObj.svgRenderer.drawPath(u,a.gSeriesGroupEle)),t=0;t<V.outliers.length;t++)(pe=ej.EjSvgRender.utils._getPoint({xValue:O.xValue,YValues:V.outliers[t]},o)).X=o._isTransposed?pe.X:Q.X+Q.Width/2,pe.Y=o._isTransposed?Q.Y+Q.Height/2:pe.Y,this.drawSymbol(l,o,I,pe.X,pe.Y,null,null,D),D++,M=ej.EjSvgRender.utils._getSvgXY(pe.X,pe.Y,o,a.chartObj),ej.EjSvgRender.utils._addRegion(a.chartObj,{X:M.X-o.outlierSettings.size.width/2,Y:M.Y-o.outlierSettings.size.height/2,Width:o.outlierSettings.size.width,Height:o.outlierSettings.size.height},o,O,I);xe=ej.EjSvgRender.utils._getSvgXY(Q.X,Q.Y,o,a.chartObj),ej.EjSvgRender.utils._addRegion(a.chartObj,{X:xe.X,Y:xe.Y,Width:Q.Width,Height:Q.Height},o,O,I)}}this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)},isRegion:!0}),ej.seriesTypes.boxandwhisker=ej.ejBoxandwhiskerSeries,ej.ejWaterfallSeries=c(ej.EjSeriesRender,{draw:function(r,u,_){var w,v,s,h,t,o,l,p,g,b,T,D,L,A,z;ej.ejRangeColumnSeries.prototype.draw.call(this,r,u,_),u._animationType="rect";var N=this.chartObj.model.chartRegions,U=[],Q=n.inArray(u,this.chartObj.model._visibleSeries);for(u.index=Q,w=0,v=0;w<N.length;w++)Q==N[w].SeriesIndex&&(U[v]=N[w],v+=1);for(this.connectorLineGroup=this.chartObj.svgRenderer.createGroup({id:this.chartObj.svgObject.id+"_SeriesGroup_waterfallLine_"+Q}),z=0;z<U.length-1;z++)s=ej.EjSvgRender.utils._getStringBuilder(),h=U[z].Region.Bounds,t=U[z+1].Region.Bounds,u.isTransposed?(D=Math.ceil(h.X),Math.ceil(h.Width),L=Math.ceil(t.X),Math.ceil(t.Width),g=Math.ceil(h.X+h.Width),b=Math.ceil(t.X+t.Width),s.append("M "+(T=g==b?h.X+h.Width:D==L||D==b?h.X:h.X+h.Width)+" "+(h.Y+h.Height)+" L "+T+" "+t.Y)):(l=Math.ceil(h.Y),Math.ceil(h.Height),p=Math.ceil(t.Y),Math.ceil(t.Height),g=Math.ceil(h.Y+h.Height),s.append("M "+h.X+" "+(o=l==p?h.Y:g==p?t.Y:t.Y+t.Height)+" L "+(t.X+t.Width)+" "+o)),""!=(A=s.toString())&&h.Height>=0&&this.chartObj.svgRenderer.drawPath({id:this.chartObj.svgObject.id+"_waterFall_"+Q+"_connectorLine_"+z,fill:"none","stroke-dasharray":u.connectorLine.dashArray,"stroke-width":u.connectorLine.width,stroke:u.connectorLine.color,opacity:u.connectorLine.opacity,d:A},this.connectorLineGroup);this.chartObj.svgRenderer.append(this.connectorLineGroup,this.chartObj.gSeriesEle),u.enableAnimation&&!u._animatedSeries&&this.chartObj.svgRenderer._setAttr(this.connectorLineGroup,{visibility:"hidden"})},hiloTypes:!1,isRegion:!0}),ej.seriesTypes.waterfall=ej.ejWaterfallSeries,ej.ejStackingBarSeries=c(ej.EjSeriesRender,{draw:function(r,u,_){var w,v,h,t;this.chartObj=r,u._animationType="rect","cylinder"==u.columnFacet&&(u._animationType="cylinder");var o=this.chartObj.model.requireInvertedAxes,l=u,p=l.cornerRadius,g=n.inArray(l,this.chartObj.model._visibleSeries),b=this.getSideBySideInfo(l,_),C=this._isVisiblePoints(l),T=ej.EjSvgRender.utils._getTransform(l.xAxis,l.yAxis,o);for(this.gSeriesGroupEle=this.chartObj.svgRenderer.createGroup({id:this.chartObj.svgObject.id+"_SeriesGroup_"+g,transform:"translate("+T.x+","+T.y+")"}),w=this,v=0;v<C.length;v++){var L=v,I=C[v],R=l.stackedValue.EndValues[v],V=l.stackedValue.StartValues[v];if(I.visible){var F=w.calculateSides(I,b),A=F.x1,z=F.x2,N=this.chartObj.setStyle(w,l,g,L),U=w.getRectangle(A,R,z,V,l,r),J=Math.min(0,U.Width),Q=Math.min(0,U.Height);(0==J||0==Q)&&(u={id:w.chartObj.svgObject.id+"_Series"+g+"_Point"+L,x:U.X+w.chartObj.canvasX,y:U.Y+w.chartObj.canvasY,width:U.Width,height:U.Height,fill:N.interior,"stroke-width":N.borderWidth,opacity:N.opacity,stroke:N.borderColor,"stroke-dasharray":N.dashArray},"cylinder"==l.columnFacet?w.chartObj.svgRenderer.drawCylinder(u,w.gSeriesGroupEle,{isColumn:!1,stacking:"stackingbar100"==l.type,isLastSeries:l.stackedValue.stackedSeries}):"object"!=typeof p&&p>0||p.topLeft>0||p.bottomLeft>0||p.topRight>0||p.bottomRight>0?(h=ej.EjSvgRender.utils._calculateroundedCorner(p,u),u.d=h,l._animationType="path",w.chartObj.svgRenderer.drawPath(u,w.gSeriesGroupEle)):"rectangle"==l.columnFacet&&w.chartObj.svgRenderer.drawRect(u,w.gSeriesGroupEle),t=ej.EjSvgRender.utils._getSvgXY(U.X,U.Y,l,w.chartObj),ej.EjSvgRender.utils._addRegion(w.chartObj,{X:t.X,Y:t.Y,Width:U.Width,Height:U.Height},l,I,L)),I.symbolLocation=o?{X:R<(l.yAxis._crossValue||0)&&!l.yAxis.isInversed||l.yAxis.isInversed&&R>(l.yAxis._crossValue||0)?U.X:U.X+U.Width,Y:U.Y+U.Height/2}:{X:U.X+U.Width/2,Y:R<(l.yAxis._crossValue||0)&&!l.yAxis.isInversed||l.yAxis.isInversed&&R>(l.yAxis._crossValue||0)?U.Y+U.Height:U.Y}}}this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)},stackingSeries:!0,requireInvertedAxes:!0,isRegion:!0}),ej.seriesTypes.stackingbar=ej.ejStackingBarSeries,ej.seriesTypes.stackingbar100=ej.ejStackingBarSeries,ej.ejBarSeries=c(ej.EjSeriesRender,{draw:function(r,u,_){var w,v,h,t;this.chartObj=r,u._animationType="rect","cylinder"==u.columnFacet&&(u._animationType="cylinder");var o=this.chartObj.model.requireInvertedAxes,l=u,p=l.cornerRadius,g=n.inArray(l,this.chartObj.model._visibleSeries),b=ej.EjSeriesRender.prototype.getOrigin(this,l,_),T=(n.extend(!0,{},this.chartObj.model.seriesStyle,l.style),this.getSideBySideInfo(l,_));l.dragSettings.enable&&(l.sidebysideInfo=T);var D=this._isVisiblePoints(l),L=ej.EjSvgRender.utils._getTransform(l.xAxis,l.yAxis,o);for(this.gSeriesGroupEle=this.chartObj.svgRenderer.createGroup({id:this.chartObj.svgObject.id+"_SeriesGroup_"+g,transform:"translate("+L.x+","+L.y+")"}),w=this,v=0;v<D.length;v++){var R=v,V=D[v],F=V.YValues[0],A=b;if(V.visible){var z=w.calculateSides(V,T),N=z.x1,U=z.x2,J=this.chartObj.setStyle(w,l,g,R),Q=w.getRectangle(N,F,U,A,l,r),oe=Math.min(0,Q.Width),ue=Math.min(0,Q.Height);(0==oe||0==ue)&&(u={id:w.chartObj.svgObject.id+"_Series"+g+"_Point"+R,x:Q.X+w.chartObj.canvasX,y:Q.Y+w.chartObj.canvasY,width:Q.Width,height:Q.Height,fill:J.interior,"stroke-width":J.borderWidth,plot:F<0?"negative":"positive",opacity:J.opacity,stroke:J.borderColor,"stroke-dasharray":J.dashArray},"cylinder"==l.columnFacet?w.chartObj.svgRenderer.drawCylinder(u,w.gSeriesGroupEle,{isColumn:!1,stacking:!1,isLastSeries:!0}):"object"!=typeof p&&p>0||p.topLeft>0||p.bottomLeft>0||p.topRight>0||p.bottomRight>0?(h=ej.EjSvgRender.utils._calculateroundedCorner(p,u),u.d=h,l._animationType="path",w.chartObj.svgRenderer.drawPath(u,w.gSeriesGroupEle)):"rectangle"==l.columnFacet&&w.chartObj.svgRenderer.drawRect(u,w.gSeriesGroupEle),t=ej.EjSvgRender.utils._getSvgXY(Q.X,Q.Y,l,w.chartObj),ej.EjSvgRender.utils._addRegion(w.chartObj,{X:t.X,Y:t.Y,Width:Q.Width,Height:Q.Height},l,V,R)),V.symbolLocation=o?{X:F<(l.xAxis._crossValue||0)&&!l.yAxis.isInversed||l.yAxis.isInversed&&F>(l.xAxis._crossValue||0)?Q.X:Q.X+Q.Width,Y:Q.Y+Q.Height/2}:{X:Q.X+Q.Width/2,Y:F<(l.xAxis._crossValue||0)&&!l.yAxis.isInversed||l.yAxis.isInversed&&F>(l.xAxis._crossValue||0)?Q.Y+Q.Height:Q.Y}}}this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)},requireInvertedAxes:!0,isRegion:!0}),ej.seriesTypes.bar=ej.ejBarSeries,ej.ejStackingAreaSeries=c(ej.EjSeriesRender,{draw:function(r,u){var _,w;this.chartObj=r,u._animationType="path";var v,a,s,h=ej.EjSvgRender.utils._getStringBuilder(),t=u,o=this.setAreaSeriesStyle(t),l=this._isVisiblePoints(t),p=Math.max(u.yAxis.visibleRange.min,t.stackedValue.StartValues[0]),g=this.chartObj.canvasX,b=this.chartObj.canvasY,C={xValue:l[0].xValue,YValues:[p]},T=ej.EjSvgRender.utils._getPoint(C,t),D=0,L=t.stackedValue.EndValues.length;for(h.append("M "+(T.X+g)+" "+(T.Y+b)+" "),_=0;_<=L;_++)if(_!=L&&l[_].visible)a={xValue:l[_].xValue,YValues:[t.stackedValue.EndValues[_]]},l[_].visible&&(s=l[_].location=ej.EjSvgRender.utils._getPoint(a,t),h.append("L "+(s.X+g)+" "+(s.Y+b)+" "),l[_].YValues[0]=a.YValues[0]);else{for(p=t.stackedValue.StartValues[_+1],w=_-1;w>=D;w--)a={xValue:l[w].xValue,YValues:[t.stackedValue.StartValues[w]]},s=ej.EjSvgRender.utils._getPoint(a,t),h.append("L "+(s.X+g)+" "+(s.Y+b)+" ");l[_+1]&&l[_+1].visible&&(C={xValue:l[_+1].xValue,YValues:[t.stackedValue.StartValues[_+1]]},T=ej.EjSvgRender.utils._getPoint(C,t),h.append("M "+(T.X+g)+" "+(T.Y+b)+" ")),D=_+1}v=h.toString(),this.drawAreaPath(t,o,v),this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)},stackingSeries:!0}),ej.seriesTypes.stackingarea=ej.ejStackingAreaSeries,ej.seriesTypes.stackingarea100=ej.ejStackingAreaSeries,ej.ejAreaSeries=c(ej.EjSeriesRender,{draw:function(r,u,_){var w,v,a,h;this.chartObj=r,u._animationType="path";var t=ej.EjSvgRender.utils._getStringBuilder(),o=u,l=this.setAreaSeriesStyle(o),p=this.chartObj;o.sorting&&(o.points=ej.DataManager(o.points,ej.Query().sortBy("xValue")).executeLocal());var C,g=this.chartObj.dragPoint?o.pointCollection:this._isVisiblePoints(o),b=ej.EjSeriesRender.prototype.getOrigin(this,o,_),T=[];if(T[0]=p.canvasX,T[1]=p.canvasY,g.length>0){for(v=0;v<g.length;v++)if(g[v].visible)if(g.length>v+1){if(C||(C={xValue:g[v].xValue,YValues:[b]},a=ej.EjSvgRender.utils._getPoint(C,o),t.append("M "+a.X+" "+a.Y+" ")),a=ej.EjSvgRender.utils._getPoint(g[v],o),t.append("L "+a.X+" "+a.Y+" "),!g[v+1].visible){var L=ej.EjSvgRender.utils._getPoint({xValue:g[v].xValue,YValues:[b]},o),I=ej.EjSvgRender.utils._getPoint(C,o);t.append("L "+L.X+" "+L.Y+" L "+I.X+" "+I.Y+" "),C=null}}else g[v-1]&&g[v-1].visible&&(a=ej.EjSvgRender.utils._getPoint(g[v],o),t.append("L "+a.X+" "+a.Y+" "));h=ej.EjSvgRender.utils._getPoint({xValue:g[g.length-1].xValue,YValues:[b]},o),g.length>1&&t.append("L "+h.X+" "+h.Y+" "),w=t.toString(),this.drawAreaPath(o,l,w,T)}this.chartObj.svgRenderer.append(this.chartObj.dragPoint?this.chartObj.gPreviewSeriesGroupEle:this.gSeriesGroupEle,this.chartObj.gSeriesEle)}}),ej.seriesTypes.area=ej.ejAreaSeries,ej.ejRangeAreaSeries=c(ej.EjSeriesRender,{draw:function(r,u){var _,w,v,a,s,t,o,l,p,g,b,C;this.chartObj=r,u._animationType="path";var T=ej.EjSvgRender.utils._getStringBuilder(),D=u,L=this.setAreaSeriesStyle(D),I=n.inArray(D,this.chartObj.model._visibleSeries);for(D.points=ej.DataManager(D.points,ej.Query().sortBy("xValue")).executeLocal(),w=this._isVisiblePoints(D),(v=[])[0]=this.chartObj.canvasX,v[1]=this.chartObj.canvasY,s=[],l=0;l<w.length;l++)if(s[l]={Region:{PointIndex:l},SeriesIndex:I,region:[]},w[l].visible&&(a||(a={xValue:w[l].xValue,YValues:[w[l].low]},t=ej.EjSvgRender.utils._getPoint(a,D),T.append("M "+t.X+" "+t.Y+" ")),t=ej.EjSvgRender.utils._getPoint(w[l],D),T.append("L "+t.X+" "+t.Y+" "),s[l].region.push({X:t.X,Y:t.Y}),0!=l&&s[l-1].region.push({X:t.X,Y:t.Y}),l+1<w.length&&!w[l+1].visible&&l+1!=w.length-1)){for(o=l;o>=0&&w[o].visible;o--)p={xValue:w[o].xValue,YValues:[w[o].low]},g=ej.EjSvgRender.utils._getPoint(p,D),T.append("L "+g.X+" "+g.Y+" "),s[o].region.push({X:g.X,Y:g.Y}),0!=o&&s[o-1].region.push({X:g.X,Y:g.Y});a=null}for(l=w.length-1;l>=0;l--)if(w[l].visible)p={xValue:w[l].xValue,YValues:[w[l].low]},g=ej.EjSvgRender.utils._getPoint(p,D),T.append("L "+g.X+" "+g.Y+" "),s[l].region.push({X:g.X,Y:g.Y}),0!=l&&s[l-1].region.push({X:g.X,Y:g.Y});else{if(w.length>l&&w[l].visible){g=ej.EjSvgRender.utils._getPoint(w[l],D),T.append("L "+g.X+" "+g.Y+" ");break}if(l!=w.length-1){for(b=0,C=l-1;C>=0;C--)if(w[C].visible)b++;else if(!w[C].visible)break;l-=b}}_=T.toString(),this.chartObj.model.chartRegions.push(s),this.drawAreaPath(D,L,_,v),this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)},hiloTypes:!0}),ej.seriesTypes.rangearea=ej.ejRangeAreaSeries,ej.ejSplineRangeAreaSeries=c(ej.EjSeriesRender,{draw:function(r,u,_){this.chartObj=r,(new ej.seriesTypes.splinearea).draw(r,u,_)},chartAreaType:"cartesianAxes",hiloTypes:!0}),ej.seriesTypes.splinerangearea=ej.ejSplineRangeAreaSeries,ej.ejSplineSeries=c(ej.EjSeriesRender,{draw:function(r,u,_){var w,v;_.seriesCollection||(_.seriesCollection={},u._name=ej.util.isNullOrUndefined(u.name)?"":u.name.replace(/ /g,"")),_.seriesCollection[u._name]||(_.seriesCollection[u._name]={}),this.chartObj=r,u._animationType="path";var s,a=u,h=ej.EjSvgRender.utils._getStringBuilder(),t=this.setLineSeriesStyle(a),o=this.chartObj.dragPoint?a.pointCollection:this._isVisiblePoints(a),l=_.seriesCollection[a._name].naturalSpline||this.naturalSpline(o,a),p=null,g=null,b=-1,C=0,T=_.seriesCollection[a._name].controlPoints||[];for(w=0;w<o.length;w++)if(v=w,(g=o[w]).visible){if(null!=p){var D,L,I=T[C++]||this.getBezierControlPoints(p,g,l[b],l[v],0,a,this);D=I.controlPoint1,L=I.controlPoint2;var R=ej.EjSvgRender.utils._getPoint(p,a),V=ej.EjSvgRender.utils._getPoint(g,a),F=ej.EjSvgRender.utils._getPoint(D,a),A=ej.EjSvgRender.utils._getPoint(L,a),z=this.chartObj;h.append("M "+(R.X+z.canvasX)+" "+(R.Y+z.canvasY)+" C "+(F.X+z.canvasX)+" "+(F.Y+z.canvasY)+" "+(A.X+z.canvasX)+" "+(A.Y+z.canvasY)+" "+(V.X+z.canvasX)+" "+(V.Y+z.canvasY)+" ")}p=g,b=v}else p=null;s=h.toString(),this._drawLinePath(a,t,s),this.chartObj.svgRenderer.append(this.chartObj.dragPoint?this.chartObj.gPreviewSeriesGroupEle:this.gSeriesGroupEle,this.chartObj.gSeriesEle)}}),ej.seriesTypes.spline=ej.ejSplineSeries,ej.ejSplineAreaSeries=c(ej.EjSeriesRender,{draw:function(r,u,_){var w,a,s,h,t,o,l,p,g,b,C,D;_.seriesCollection||(_.seriesCollection={},u._name=ej.util.isNullOrUndefined(u.name)?"":u.name.replace(/ /g,"")),_.seriesCollection[u._name]||(_.seriesCollection[u._name]={}),this.chartObj=r,u._animationType="path";var L=this.chartObj.model.requireInvertedAxes,I=u,R="",V=ej.EjSvgRender.utils._getStringBuilder(),F=this.setAreaSeriesStyle(I);I.sorting&&(I.points=ej.DataManager(I.points,ej.Query().sortBy("xValue")).executeLocal());var z=this.chartObj.dragPoint?I.pointCollection:this._isVisiblePoints(I),N=_.seriesCollection[I._name].naturalSpline||this.naturalSpline(z,I,0),J=(_.seriesCollection[I._name].naturalSpline1||this.naturalSpline(z,I,1),null),Q=null,oe=-1,ue=[],le=ej.EjSeriesRender.prototype.getOrigin(this,I,_),ne=null,he=!0,se=this.chartObj,ee=[],re=0,W=_.seriesCollection[I._name].controlPoints||[];ee[0]=se.canvasX,ee[1]=se.canvasY;var M=se.model._seriesIndex,fe=null,xe=[],O=I.type.toLowerCase(),B=I.emptyPointSettings;for(se.model._previousSeries=ej.util.isNullOrUndefined(se.model._previousSeries)?null:se.model._previousSeries,I._prevpointIndex=null,C=0;C<z.length;C++)if(ue[C]={Region:{PointIndex:C},SeriesIndex:M,region:[]},w=C,(Q=z[C]).YValues[0]=-1!=O.indexOf("stackingsplinearea")?I.stackedValue.EndValues[C]:Q.YValues[0],Q.visible){if(!ne){if(0==M||-1==O.indexOf("stackingsplinearea"))ne={xValue:z[C].xValue,YValues:[le]};else{for(a=n.inArray(u,se.model._visibleSeries);a>0;a--)if("hidden"!=(s=se.model.series[a-1]).visibility){fe=s.points;break}ne={xValue:z[C].xValue,YValues:[fe[C].YValues[0]]}}h=ej.EjSvgRender.utils._getPoint(ne,I)}if("splinerangearea"==O&&(t=ej.EjSvgRender.utils._getPoint(z[C],I),ue[C].region.push({X:t.X,Y:t.Y}),0!=C&&ue[C-1].region.push({X:t.X,Y:t.Y})),null!=J){o=(p=-1!=O.indexOf("stackingsplinearea")||"splinerangearea"==O?W[w-1]||this.getBezierControlPoints(J,Q,N[oe],N[w],0,I,this):W[re++]||this.getBezierControlPoints(J,Q,N[oe],N[w],0,I,this)).controlPoint1,l=p.controlPoint2;var H=ej.EjSvgRender.utils._getPoint(J,I),Z=ej.EjSvgRender.utils._getPoint(Q,I),te=ej.EjSvgRender.utils._getPoint(o,I),ae=ej.EjSvgRender.utils._getPoint(l,I);if(he&&(V.append(L?"M "+h.X+" "+H.Y+" L "+H.X+" "+H.Y+" ":"M "+H.X+" "+h.Y+" L "+H.X+" "+H.Y+" "),he=!1),V.append("C "+te.X+" "+te.Y+" "+ae.X+" "+ae.Y+" "+Z.X+" "+Z.Y+" "),"splinerangearea"==O&&(xe[w]=L?"C "+ae.low+" "+ae.Y+" "+te.low+" "+te.Y+" "+H.low+" "+H.Y+" ":"C "+ae.X+" "+ae.low+" "+te.X+" "+te.low+" "+H.X+" "+H.low+" "),-1!=O.indexOf("stackingsplinearea")&&(xe[w]="C "+ae.X+" "+ae.Y+" "+te.X+" "+te.Y+" "+H.X+" "+H.Y+" "),(w==z.length-1||w<z.length-1&&!z[C+1].visible)&&((0!=M&&-1!=O.indexOf("stackingsplinearea")||"splinerangearea"==O)&&(ne={xValue:z[C].xValue,YValues:"splinerangearea"==O?z[C].YValues:[fe[C].YValues[0]]},h=ej.EjSvgRender.utils._getPoint(ne,I)),V.append(L?"L "+("splinerangearea"==O?Z.low:h.X)+" "+Z.Y+" ":"L "+Z.X+" "+("splinerangearea"==O?h.low:h.Y)+" "),ne=null,he=!0,"gap"==B.displayMode.toLowerCase()&&w!=z.length-1&&0!=M&&-1!=O.indexOf("stacking"))){for(g=ej.util.isNullOrUndefined(I._prevpointIndex)?1:I._prevpointIndex,b=w;b>=g&&z[b-1].visible&&!ej.util.isNullOrUndefined(se.model._previousSeries);b--)V.append(se.model._previousSeries[b]),se.model._previousSeries[b]="";I._prevpointIndex=w+3}}else(-1!=O.indexOf("stackingsplinearea")||-1!=O.indexOf("splinerangearea"))&&w>0&&"gap"==B.displayMode&&this.drawbackCurve(W,I,xe,w,Q);J=Q,oe=w}else J=null,(-1!=O.indexOf("stackingsplinearea")||-1!=O.indexOf("splinerangearea"))&&w>0&&"gap"==B.displayMode&&this.drawbackCurve(W,I,xe,w,Q);if("splinerangearea"==se.model.series[M].type.toLowerCase())for(C=z.length-1;C>=0;C--)le=z[C].low,D=ej.EjSvgRender.utils._getPoint({xValue:z[C].xValue,YValues:[le]},I),ue[C].region.push({X:D.X,Y:D.Y}),0!=C&&ue[C-1].region.push({X:D.X,Y:D.Y});R=V.toString(),-1!=O.indexOf("stackingsplinearea")&&M>0&&(se.model._previousSeries=this._getReversePath(se,M,se.model._previousSeries)),"splinerangearea"==O?R=R+this._getReversePath(se,M,xe)+"Z":(R=ej.util.isNullOrUndefined(se.model._previousSeries)?R:R+se.model._previousSeries+"Z",se.model._previousSeries=xe),"splinerangearea"==O&&this.chartObj.model.chartRegions.push(ue),this.drawAreaPath(I,F,R,ee),this.chartObj.svgRenderer.append(this.chartObj.dragPoint?this.chartObj.gPreviewSeriesGroupEle:this.gSeriesGroupEle,this.chartObj.gSeriesEle),this.chartObj.gSeriesGroupEle=this.gSeriesGroupEle},stackingSeries:!0,_getReversePath:function(r,u,_){var s,h,t,w=r.model.series[u].emptyPointSettings,v="",a=r.model.series[u].points;if(!ej.util.isNullOrUndefined(_)){for(s=0;s<a.length;s++)a[h=s].visible||a[h].isEmpty&&"gap"!=w.displayMode||(0==h?_[h+1]&&(_[h+1]=""):h==a.length-1?_[h]&&(_[h]=""):(_[h]&&(_[h]=""),_[h+1]&&(_[h+1]="")));for(t=_.length-1;t>0;t--)v+=_[t]}return v},drawbackCurve:function(r,u,_,w,v){var a=r[w-1],s=a.controlPoint1,h=a.controlPoint2,t=ej.EjSvgRender.utils._getPoint(u.points[w-1],u),l=(ej.EjSvgRender.utils._getPoint(v,u),ej.EjSvgRender.utils._getPoint(s,u)),p=ej.EjSvgRender.utils._getPoint(h,u);_[w]="C "+p.X+" "+p.Y+" "+l.X+" "+l.Y+" "+t.X+" "+t.Y+" "}}),ej.seriesTypes.splinearea=ej.ejSplineAreaSeries,ej.seriesTypes.stackingsplinearea=ej.ejSplineAreaSeries,ej.seriesTypes.stackingsplinearea100=ej.ejSplineAreaSeries,ej.ejScatterSeries=c(ej.EjSeriesRender,{draw:function(r,u){var _,w,v;this.chartObj=r,_=u,u._animationType="scatter";var o,a=n.inArray(u,this.chartObj.model._visibleSeries),s=_.points.length>100||!_.enableSmartLabels?this.improveChartPerformance(_):this._isVisiblePoints(_),h=s.length;for(u._visiblePoints=s,w=0;w<h;w++)v=w,o=ej.EjSvgRender.utils._getPoint(s[w],u),this.drawSymbol(a,u,v,o.X,o.Y)}}),ej.seriesTypes.scatter=ej.ejScatterSeries,ej.ejBubbleSeries=c(ej.EjSeriesRender,{createBubbleGroup:function(r){var u=n.inArray(r,this.chartObj.model.series),v=r._isTransposed;this.gSeriesGroupEle=this.chartObj.svgRenderer.createGroup({id:this.chartObj.svgObject.id+"_SeriesGroup_"+u,transform:"translate("+(v?this.chartObj.model.m_AreaBounds.X:r.xAxis.x)+","+(v?this.chartObj.model.m_AreaBounds.Y:r.yAxis.y)+")"})},draw:function(r,u){var _,w,v,a,s,h,t,o;this.chartObj=r,u._animationType="bubble",w=(_=u).cornerRadius,_.points=ej.DataManager(_.points,ej.Query().sortBy("xValue")).executeLocal();var D,L,R,N,U,J,p=n.inArray(_,this.chartObj.model._visibleSeries),g=this._isVisiblePoints(_),C=u.bubbleOptions,T=C.radiusMode.toLowerCase(),V=r.model.m_AreaBounds,F=r.model._visibleSeries,A=0,z=Math.max(V.Height,V.Width);if("minmax"==T)U=(L=C.maxRadius*(J=z/100))-(D=C.minRadius*J),A=Math.max.apply(0,n.map(g,function(W){return W.YValues[1]}));else for(D=L=1,U=z/10*L,v=0;v<F.length;v++)if("bubble"==F[v].type.toLowerCase()&&"visible"==F[v].visibility&&"auto"==F[v].bubbleOptions.radiusMode.toLowerCase())for(R=F[v]._visiblePoints,a=0;a<R.length;a++)A=A<R[a].YValues[1]?R[a].YValues[1]:A;for(this.createBubbleGroup(_),s=0;s<g.length;s++)if(t=s,(h=g[s]).visible){A=A||1,N="minmax"==_.bubbleOptions.radiusMode.toLowerCase()?D+U*Math.abs(h.YValues[1]/A):U*Math.abs(h.YValues[1]/A);var Q=ej.EjSvgRender.utils._getPoint(h,_),oe=this.chartObj.setStyle(this,_,p,t);u={id:this.chartObj.svgObject.id+"_Series"+p+"_Point"+t,cx:Q.X+this.chartObj.canvasX,cy:Q.Y+this.chartObj.canvasY,r:N,fill:oe.interior,cornerRadius:w,"stroke-width":oe.borderWidth,"stroke-dasharray":oe.dashArray,opacity:oe.opacity,stroke:oe.borderColor},"object"!=typeof w&&w>0||w.topLeft>0||w.bottomLeft>0||w.topRight>0||w.bottomRight>0?(o=ej.EjSvgRender.utils.calculateroundedCorner(u),u.d=o,this.chartObj.svgRenderer.drawPath(u,this.gSeriesGroupEle)):h.radius=N,this.chartObj.svgRenderer.drawCircle(u,this.gSeriesGroupEle),ej.EjSvgRender.utils._addRegion(this.chartObj,{X:Q.X-N+(_.isTransposed?this.chartObj.model.m_AreaBounds.X:_.xAxis.x),Y:Q.Y-N+(_.isTransposed?this.chartObj.model.m_AreaBounds.Y:_.yAxis.y),Width:2*N,Height:2*N},_,null,s)}this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)}}),ej.seriesTypes.bubble=ej.ejBubbleSeries,ej.ejhiloSeries=c(ej.EjSeriesRender,{draw:function(r,u,_){var w,v,a,s,t,o;this.chartObj=r,u._animationType="hilo",w=this.chartObj.model.requireInvertedAxes,(v=u).points=ej.DataManager(v.points,ej.Query().sortBy("xValue")).executeLocal();var p=this._isVisiblePoints(v),g=this.getSideBySideInfo(v,_),b=null,C=n.inArray(v,this.chartObj.model._visibleSeries),T=ej.EjSvgRender.utils._getTransform(v.xAxis,v.yAxis,w);for(this.gSeriesGroupEle=this.chartObj.svgRenderer.createGroup({id:this.chartObj.svgObject.id+"_SeriesGroup_"+C,transform:"translate("+T.x+","+T.y+")"}),a=0;a<p.length;a++)if(s=a,(b=p[a]).visible){if(ej.util.isNullOrUndefined(b.YValues[0])||ej.util.isNullOrUndefined(b.YValues[1]))continue;var L=this.chartObj.setStyle(this,v,C,s),I=this.chartObj.setHiloStyle(v,s,C),R={},V={};b.YValues[0]<b.YValues[1]?(R={xValue:b.xValue+g.Median,YValues:[b.YValues[0]]},V={xValue:b.xValue+g.Median,YValues:[b.YValues[1]]}):(R={xValue:b.xValue+g.Median,YValues:[b.YValues[1]]},V={xValue:b.xValue+g.Median,YValues:[b.YValues[0]]}),t=ej.EjSvgRender.utils._getPoint(R,v),o=ej.EjSvgRender.utils._getPoint(V,v),this._drawHiloPath(v,L,I,"M "+(t.X+this.chartObj.canvasX)+" "+(t.Y+this.chartObj.canvasY)+" L "+(o.X+this.chartObj.canvasX)+" "+(o.Y+this.chartObj.canvasY)+" ",a,{point1:t,point2:o})}this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)},hiloTypes:!0}),ej.seriesTypes.hilo=ej.ejhiloSeries,ej.ejhiloopencloseSeries=c(ej.EjSeriesRender,{draw:function(r,u,_){var w,v,a,s,h,t,o,l,p,C,T;this.chartObj=r,w=this.chartObj.model.requireInvertedAxes,u._animationType="hilo",(v=u).points=ej.DataManager(v.points,ej.Query().sortBy("xValue")).executeLocal();var L=this._isVisiblePoints(v),I=this.getSideBySideInfo(v,_),R=null,V=this.chartObj.model.palette,F=n.inArray(v,this.chartObj.model._visibleSeries),A=ej.EjSvgRender.utils._getTransform(v.xAxis,v.yAxis,w);for(this.gSeriesGroupEle=this.chartObj.svgRenderer.createGroup({id:this.chartObj.svgObject.id+"_SeriesGroup_"+F,transform:"translate("+A.x+","+A.y+")"}),s=0;s<L.length;s++)if(h=s,(R=L[s]).visible){var U=!!ej.util.isNullOrUndefined(v.drawMode)||"both"==v.drawMode.toLowerCase()||"open"==v.drawMode.toLowerCase(),J=!!ej.util.isNullOrUndefined(v.drawMode)||"both"==v.drawMode.toLowerCase()||"close"==v.drawMode.toLowerCase(),Q={},oe={},ue={},le={};if(R.YValues[0]<R.YValues[1]?(Q={xValue:R.xValue+I.Median,YValues:[R.YValues[0]]},oe={xValue:R.xValue+I.Median,YValues:[R.YValues[1]]},ue={xValue:R.xValue,YValues:[R.YValues[2]]},le={xValue:R.xValue,YValues:[R.YValues[3]]}):(Q={xValue:R.xValue+I.Median,YValues:[R.YValues[1]]},oe={xValue:R.xValue+I.Median,YValues:[R.YValues[0]]},ue={xValue:R.xValue,YValues:[R.YValues[2]]},le={xValue:R.xValue,YValues:[R.YValues[3]]}),v.fill=v.isFill?v.fill:null,R.YValues[2]<R.YValues[3]?v.bearFillColor=a=ej.util.isNullOrUndefined(v.bearFillColor)?v.fill?v.fill:V&&V.length>0?V[F]:"#339933":v.bearFillColor:v.bullFillColor=a=ej.util.isNullOrUndefined(v.bullFillColor)?v.fill?v.fill:V&&V.length>0?V[F]:"#E51400":v.bullFillColor,t=this.chartObj.setStyle(this,v,F,h,a),o=this.chartObj.setHiloStyle(v,h,F,a),R.fill?a="array"==jQuery.type(R.interior)?R.fill[0]:R.fill:R._hiloFill=a,l=this.chartObj.canvasX,p=this.chartObj.canvasY,U){var he=ej.EjSvgRender.utils._getPoint({xValue:ue.xValue+I.Median,YValues:ue.YValues},v),ee=ej.EjSvgRender.utils._getPoint({xValue:ue.xValue+I.Start,YValues:ue.YValues},v);this._drawHiloPath(v,t,o,"M "+(he.X+l)+" "+(he.Y+p)+" L "+(ee.X+l)+" "+(ee.Y+p)+" ",s,{point1:he,point2:ee})}if(J){var W=ej.EjSvgRender.utils._getPoint({xValue:le.xValue+I.Median,YValues:le.YValues},v),M=ej.EjSvgRender.utils._getPoint({xValue:le.xValue+I.End,YValues:le.YValues},v);this._drawHiloPath(v,t,o,"M "+(W.X+l)+" "+(W.Y+p)+" L "+(M.X+l)+" "+(M.Y+p)+" ",s,{point1:W,point2:M})}C=ej.EjSvgRender.utils._getPoint(Q,v),T=ej.EjSvgRender.utils._getPoint(oe,v),this._drawHiloPath(v,t,o,"M "+(C.X+l)+" "+(C.Y+p)+" L "+(T.X+l)+" "+(T.Y+p)+" ",s,{point1:C,point2:T})}this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)},hiloTypes:!0}),ej.seriesTypes.hiloopenclose=ej.ejhiloopencloseSeries,ej.ejCandleSeries=c(ej.EjSeriesRender,{draw:function(r,u,_){var w,v,a,h,t,o,l,b;this.chartObj=r,u._animationType="hilo",w=this.chartObj.model.requireInvertedAxes,(v=u).points=ej.DataManager(v.points,ej.Query().sortBy("xValue")).executeLocal();var T=this._isVisiblePoints(v),D=this.getSideBySideInfo(v,_),L=null,I=this.chartObj.model.palette,R=n.inArray(v,this.chartObj.model._visibleSeries),V=ej.EjSvgRender.utils._getTransform(v.xAxis,v.yAxis,w);for(this.gSeriesGroupEle=this.chartObj.svgRenderer.createGroup({id:this.chartObj.svgObject.id+"_SeriesGroup_"+R,transform:"translate("+V.x+","+V.y+")"}),h=0;h<T.length;h++)if(t=h,(L=T[h]).visible){var z={},N={},U={},J={};L.YValues[0]<L.YValues[1]?(z={xValue:L.xValue+D.Median,YValues:[L.YValues[0]]},N={xValue:L.xValue+D.Median,YValues:[L.YValues[1]]},U={xValue:L.xValue,YValues:[L.YValues[2]]},J={xValue:L.xValue,YValues:[L.YValues[3]]}):(z={xValue:L.xValue+D.Median,YValues:[L.YValues[1]]},N={xValue:L.xValue+D.Median,YValues:[L.YValues[0]]},U={xValue:L.xValue,YValues:[L.YValues[2]]},J={xValue:L.xValue,YValues:[L.YValues[3]]}),L.YValues[2]<L.YValues[3]?(U={xValue:L.xValue,YValues:[L.YValues[2]]},J={xValue:L.xValue,YValues:[L.YValues[3]]},v.bearFillColor=a=ej.util.isNullOrUndefined(v.bearFillColor)?I&&I.length>0?I[R]:"#339933":v.bearFillColor):(U={xValue:L.xValue,YValues:[L.YValues[3]]},J={xValue:L.xValue,YValues:[L.YValues[2]]},v.bullFillColor=a=ej.util.isNullOrUndefined(v.bullFillColor)?I&&I.length>0?I[R]:"#E51400":v.bullFillColor),o=this.chartObj.setStyle(this,v,R,t,a),l=this.chartObj.setHiloStyle(v,t,R,a),L.style&&L.style.interior?a="array"==jQuery.type(L.style.interior)?L.style.interior[0]:L.style.interior:L._hiloFill=l;var Q=ej.EjSvgRender.utils._getPoint(z,v),oe=ej.EjSvgRender.utils._getPoint({xValue:U.xValue+D.Median,YValues:[U.YValues[0]]},v),ue=ej.EjSvgRender.utils._getPoint({xValue:J.xValue+D.Median,YValues:[J.YValues[0]]},v),le=ej.EjSvgRender.utils._getPoint(N,v),ne=this.chartObj.canvasX,he=this.chartObj.canvasY;this._drawHiloPath(v,o,l,"M "+(Q.X+ne)+" "+(Q.Y+he)+" L "+(oe.X+ne)+" "+(oe.Y+he)+" M "+(ue.X+ne)+" "+(ue.Y+he)+" L "+(le.X+ne)+" "+(le.Y+he)+" ",h,{point1:Q,point2:oe});var ee=ej.EjSvgRender.utils._getPoint({xValue:J.xValue+D.Start,YValues:J.YValues},v),W=ej.EjSvgRender.utils._getPoint({xValue:U.xValue+D.End,YValues:U.YValues},v),pe=ej.EjSvgRender.utils._correctRect(ee.X,ee.Y,W.X,W.Y);U.YValues[0]==J.YValues[0]&&(pe.Y=ee.Y-.5,pe.Height=1),this.chartObj.svgRenderer.drawRect({id:this.chartObj.svgObject.id+"_Series"+R+"_Point"+h,x:pe.X+this.chartObj.canvasX,y:pe.Y+this.chartObj.canvasY,width:pe.Width,height:pe.Height,fill:o.interior,"stroke-width":o.borderWidth,"stroke-dasharray":o.dashArray,stroke:o.borderColor},this.gSeriesGroupEle),b=ej.EjSvgRender.utils._getSvgXY(pe.X,pe.Y,v,this.chartObj),ej.EjSvgRender.utils._addRegion(this.chartObj,{X:b.X,Y:b.Y,Width:pe.Width,Height:pe.Height},v,L,h)}this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)},hiloTypes:!0}),ej.seriesTypes.candle=ej.ejCandleSeries,ej.ejPieOfPieSeries=c(ej.EjSeriesRender,{draw:function(r,u){this.chartObj=r,(new ej.seriesTypes.pie).draw(r,u)},chartAreaType:"None"}),ej.seriesTypes.pieofpie=ej.ejPieOfPieSeries,ej.ejPieSeries=c(ej.EjSeriesRender,{draw:function(r,u){var _,w,s,h,t,o,l,p,g,b,C,T,L,R;this.chartObj=r;var V=u,F=[],A=u.type.toLowerCase(),z=u.collectionIndex,N=0==z?V.pieCoefficient:V.pieOfPieCoefficient,U=this.chartObj.model.enableCanvasRendering,J=this._calculateVisiblePoints(u,this.chartObj).visiblePoints,Q=this.calculatingSliceAngle(V),oe=n.inArray(V,this.chartObj.model._visibleSeries),le=this.chartObj.model._visibleSeries[oe];if(le._pieCoefficient=le.pieCoefficient,this.chartObj.model.circularRadius.length>1){for(_=oe;ej.util.isNullOrUndefined(le.zOrder)?_<this.chartObj.model.circularRadius.length:_>=0;ej.util.isNullOrUndefined(le.zOrder)?_++:_--)if(!ej.util.isNullOrUndefined(this.chartObj.model.circularRadius[_])){this.chartObj.model.circularRadius[oe]=this.chartObj.model.circularRadius[_]*le._pieCoefficient;break}}else"pieofpie"==A&&""!=le.splitMode?this.chartObj.model.circularRadius[z]=.25*N*Math.min(Q.width,Q.height):this.chartObj.model.circularRadius[oe]=.5*le._pieCoefficient*Math.min(Q.width,Q.height);if((w=Math.min(Q.width,Q.height))<0)return w;for(Math.abs(V.endAngle-V.startAngle)<270&&this.pieDoughnutCenter(V),this.gSeriesGroupEle=this.chartObj.svgRenderer.createGroup({id:this.chartObj.svgObject.id+"_SeriesGroup_"+oe}),h={id:this.chartObj.svgObject.id+"_TextGroup_"+oe,visibility:s=V.enableAnimation&&!V._animatedSeries?"hidden":"visible"},this.chartObj.gSeriesTextEle||(this.chartObj.gSeriesTextEle=[]),this.chartObj.gSeriesTextEle[oe]=1==z?this.chartObj.gSeriesTextEle[0]:this.chartObj.svgRenderer.createGroup(h),t={id:this.chartObj.svgObject.id+"_symbolGroup_"+oe,visibility:s},this.chartObj.gSymbolGroupEle||(this.chartObj.gSymbolGroupEle=[]),this.chartObj.gSymbolGroupEle[oe]=this.chartObj.svgRenderer.createGroup(t),o={id:this.chartObj.svgObject.id+"_connectorGroup_"+oe,visibility:s},this.chartObj.gConnectorEle||(this.chartObj.gConnectorEle=[]),this.chartObj.gConnectorEle[oe]=this.chartObj.svgRenderer.createGroup(o),l={id:this.chartObj.svgObject.id+"_DataLabel_"+oe,visibility:s},this.chartObj.gDataLabelEle||(this.chartObj.gDataLabelEle=[]),this.chartObj.gDataLabelEle[oe]=1==z?this.chartObj.gDataLabelEle[0]:this.chartObj.svgRenderer.createGroup(l),p=0;p<J.length;p++)if(g=this.chartObj.model._isPieOfPie?J[p].actualIndex:p,!isNaN(V._visiblePoints[p].startAngle)&&(b=V._visiblePoints[p]).visible){var ne=this._calculateArcData(this.chartObj,g,b,V,oe,z),he=ne.Direction.split(" "),se=this.chartObj.setStyle(this,V,oe,p);if(C=!(V.startAngle<V.endAngle),!this.chartObj.model._isPieOfPie)for(T=0;T<V.visiblePoints.length;T++)if(b==V.visiblePoints[T]){g=T;break}u={id:this.chartObj.svgObject.id+"_Series"+oe+"_Point"+g,fill:se.interior,"stroke-width":se.borderWidth,stroke:se.borderColor,"stroke-dasharray":se.dashArray,"stroke-linecap":V.lineCap,"stroke-linejoin":V.lineJoin,d:ne.Direction,opacity:se.opacity,"data-pointIndex":g},this.chartObj.svgRenderer.drawPath(U?{id:this.chartObj.svgObject.id+"_Series"+oe+"_Point"+g,fill:se.interior,"stroke-width":se.borderWidth,stroke:se.borderColor,"stroke-dasharray":se.dashArray,"stroke-linecap":V.lineCap,"stroke-linejoin":V.lineJoin,d:ne.Direction,opacity:se.opacity,radius:"pieofpie"==A?this.chartObj.model.circularRadius[z]:this.chartObj.model.circularRadius[oe],start:b.startAngle-1.57,end:b.endAngle-1.57,"data-pointIndex":g,counterClockWise:C,innerR:0,cx:ne.centerX,cy:ne.centerY,x:he[12],y:he[13]}:u,this.gSeriesGroupEle),R={PointIndex:g,Index:p,StartAngle:b.startAngle,EndAngle:b.endAngle,StartX:this.chartObj.model.startX[g],StartY:this.chartObj.model.startY[g],PieSeriesIndex:z,SeriesIndex:n.inArray(V,this.chartObj.model._visibleSeries)},F.push(R)}oe=this.chartObj.model._isPieOfPie?z:oe,this.chartObj.model._isPieOfPie&&1==z&&le.pieCollections[0].length>0&&0==le.pieCollections[1].length&&(L=this._drawEmptyPieOfPie(this.chartObj),this.chartObj.svgRenderer.drawPath(L,this.gSeriesGroupEle)),R={Series:V,SeriesData:{Radius:this.chartObj.model.circularRadius[oe],CenterX:this.chartObj.model.circleCenterX[oe],CenterY:this.chartObj.model.circleCenterY[oe]},Region:F,SeriesIndex:n.inArray(V,this.chartObj.model._visibleSeries)},this.chartObj.model.chartRegions.push(R),this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)},chartAreaType:"None"}),ej.seriesTypes.pie=ej.ejPieSeries,ej.ejDoughnutSeries=c(ej.EjSeriesRender,{draw:function(r,u){var _,w,a,s,h,t,o,l,p,g,b,C,T,I;this.chartObj=r;var R=u,V=[],F=this._calculateVisiblePoints(u).visiblePoints,A=this.calculatingSliceAngle(R),z=this.chartObj.model.enableCanvasRendering,N=F.length,oe=n.inArray(R,this.chartObj.model._visibleSeries),J=this.chartObj.model._visibleSeries[oe];if(J._doughnutSize=J.doughnutSize,J._doughnutCoefficient=J.doughnutCoefficient,this.chartObj.model.circularRadius.length>1){for(_=oe;ej.util.isNullOrUndefined(J.zOrder)?_<this.chartObj.model.circularRadius.length:_>=0;ej.util.isNullOrUndefined(J.zOrder)?_++:_--)if(!ej.util.isNullOrUndefined(this.chartObj.model.circularRadius[_])){this.chartObj.model.circularRadius[oe]=this.chartObj.model.circularRadius[_]*J._doughnutSize;break}}else this.chartObj.model.circularRadius[oe]=.5*J._doughnutSize*Math.min(A.width,A.height);if((w=Math.min(A.width,A.height))<0)return w;if(Math.abs(R.endAngle-R.startAngle)<270&&this.pieDoughnutCenter(R),this.chartObj.model.innerRadius[oe]=J._doughnutCoefficient*this.chartObj.model.circularRadius[oe],ej.util.isNullOrUndefined(this.chartObj.model.roundingPlaces),oe=n.inArray(R,this.chartObj.model._visibleSeries),this.gSeriesGroupEle=this.chartObj.svgRenderer.createGroup({id:this.chartObj.svgObject.id+"_SeriesGroup_"+oe}),s={id:this.chartObj.svgObject.id+"_TextGroup_"+oe,visibility:a=R.enableAnimation&&!R._animatedSeries?"hidden":"visible"},this.chartObj.gSeriesTextEle||(this.chartObj.gSeriesTextEle=[]),this.chartObj.gSeriesTextEle[oe]=this.chartObj.svgRenderer.createGroup(s),h={id:this.chartObj.svgObject.id+"_symbolGroup_"+oe,visibility:a},this.chartObj.gSymbolGroupEle||(this.chartObj.gSymbolGroupEle=[]),this.chartObj.gSymbolGroupEle[oe]=this.chartObj.svgRenderer.createGroup(h),t={id:this.chartObj.svgObject.id+"_connectorGroup_"+oe,visibility:a},this.chartObj.gConnectorEle||(this.chartObj.gConnectorEle=[]),this.chartObj.gConnectorEle[oe]=this.chartObj.svgRenderer.createGroup(t),o={id:this.chartObj.svgObject.id+"_DataLabel_"+oe,visibility:a},this.chartObj.gDataLabelEle||(this.chartObj.gDataLabelEle=[]),this.chartObj.gDataLabelEle[oe]=this.chartObj.svgRenderer.createGroup(o),R._doughnutSize>0&&J._doughnutCoefficient>=0&&R._doughnutSize<=1&&J._doughnutCoefficient<=1)for(l=0;l<N;l++)if(g=l,(p=R._visiblePoints[l]).visible){var le=0,ne=0,he=this._calculateArcData(this.chartObj,g,p,R,oe);if((p.actualIndex==R.explodeIndex||R.explodeAll)&&!this.chartObj.vmlRendering){var se=-.5*Math.PI,W=(p.startAngle+se+(p.endAngle+se-1e-6))/2;le=this.chartObj.model.circleCenterX[oe]+Math.cos(W)*R.explodeOffset,ne=this.chartObj.model.circleCenterY[oe]+Math.sin(W)*R.explodeOffset}for(b=this.chartObj.setStyle(this,R,oe,g),C=!(R.startAngle<R.endAngle),T=0;T<R.visiblePoints.length;T++)if(p==R.visiblePoints[T]){g=T;break}u={id:this.chartObj.svgObject.id+"_Series"+oe+"_Point"+g,fill:b.interior,"stroke-width":b.borderWidth,stroke:b.borderColor,"stroke-dasharray":b.dashArray,"stroke-linecap":R.lineCap,opacity:b.opacity,"stroke-linejoin":R.lineJoin,d:he.Direction,"data-pointIndex":g},this.chartObj.svgRenderer.drawPath(z?{id:this.chartObj.svgObject.id+"_Series"+oe+"_Point"+g,fill:b.interior,"stroke-width":b.borderWidth,stroke:b.borderColor,"stroke-dasharray":b.dashArray,"stroke-linecap":R.lineCap,opacity:b.opacity,"stroke-linejoin":R.lineJoin,d:he.Direction,start:p.startAngle-1.57,end:p.endAngle-1.57,"data-pointIndex":g,radius:this.chartObj.model.circularRadius[oe],innerR:this.chartObj.model.innerRadius[oe],counterClockWise:C,x:0!=le?le:this.chartObj.model.circleCenterX[oe],y:0!=ne?ne:this.chartObj.model.circleCenterY[oe]}:u,this.gSeriesGroupEle),I={PointIndex:g,Index:l,StartAngle:p.startAngle,EndAngle:p.endAngle,StartX:this.chartObj.model.startX[g],StartY:this.chartObj.model.startY[g],SeriesIndex:n.inArray(R,this.chartObj.model._visibleSeries)},V.push(I)}I={Series:R,SeriesData:{Radius:this.chartObj.model.circularRadius[oe],DRadius:this.chartObj.model.innerRadius[oe],CenterX:this.chartObj.model.circleCenterX[oe],CenterY:this.chartObj.model.circleCenterY[oe]},Region:V,SeriesIndex:n.inArray(R,this.chartObj.model._visibleSeries)},this.chartObj.model.chartRegions.push(I),this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)},chartAreaType:"None"}),ej.seriesTypes.doughnut=ej.ejDoughnutSeries,ej.ejPyramidSeries=c(ej.EjSeriesRender,{draw:function(r,u){var _,w,v,a,s,o,l,p,g,b,C,T;this.chartObj=r;var L,D=r.model,I=this,R=D.LegendActualBounds,V=u,F=this._calculateVisiblePoints(V).visiblePoints,A=F.length,z=[],N=[],U=D.legend,J=V.marker.dataLabel,Q=U.position.toLowerCase(),oe=U.border.width,ue=0,le=D.title,ne=D.title.subTitle,he=D.border.width,se=!(""==le.text||!le.visible||!le.enableTrim),ee=!(""==ne.text||!ne.visible||!ne.enableTrim),re=D.title.text&&D.title.visible?ej.EjSvgRender.utils._measureText(D.title.text,n(this.svgObject).width()-D.margin.left-D.margin.right,D.title.font):0,W=D.title.subTitle.text&&D.title.subTitle.visible?ej.EjSvgRender.utils._measureText(D.title.subTitle.text,n(this.svgObject).width()-D.margin.left-D.margin.right,D.title.subTitle.font):0,pe=""!=r.model.title.text&&r.model.title.visible?se&&"wrap"==le.textOverflow||se&&"wrapandtrim"==le.textOverflow?re.height*r.model.titleWrapTextCollection.length:re.height:0,M=""!=r.model.title.subTitle.text&&r.model.title.subTitle.visible?ee&&"wrap"==ne.textOverflow||ee&&"wrapandtrim"==ne.textOverflow?W.height*r.model.subTitleWrapTextCollection.length:W.height:0,fe=D.margin.left+D.elementSpacing+2*he+D.elementSpacing+D.margin.right+("right"===Q||"left"===Q?R.Width+2*oe:0),xe=(D.title.text&&D.title.visible?D._titleLocation.Y+pe+M:D.elementSpacing)+2*he+D.margin.top+D.elementSpacing+D.elementSpacing+("top"===Q||"bottom"===Q?R.Height+2*oe+D.elementSpacing:0);if(J.visible&&"none"!=J.shape&&"outside"==V.labelPosition&&(fe+=J.margin.left+J.margin.right),D.chartRegions=[],D.sumofYValues=0,"outside"===V.labelPosition.toLowerCase()){for(_=0;_<A;_++)ue<(w=ej.EjSvgRender.utils._measureText(ej.util.isNullOrUndefined(F[_].text)?F[_].y:F[_].text,null,V.marker.dataLabel.font).width)&&(ue=w);D.textSize=ue}V._enableSmartLabels?(D.actualWidth=.8*(n(r.svgObject).width()-fe),D.resWidth=(n(r.svgObject).width()-fe-D.actualWidth)/2):(D.actualWidth=n(r.svgObject).width()-fe-ue,D.resWidth=0),v=n.inArray(V,D._visibleSeries),D.actualHeight=n(r.svgObject).height()-xe;var O=""==r.model.title.subTitle.text?0:M,B=r.pyrX=("left"===Q?R.Width+2*oe:0)+D.elementSpacing+D.margin.left,H=r.pyrY=("top"===Q?R.Height+2*oe:0)+(le.text&&le.visible?D._titleLocation.Y+pe+O:D.margin.top+D.elementSpacing);for(N[0]=B,N[1]=H,a=0;a<A;a++)D.sumofYValues+=F[a].YValues[0];for(s={id:r.svgObject.id+"_DataLabel_"+v,transform:"translate("+B+","+H+")"},r.gDataLabelEle=[],r.gDataLabelEle[v]=r.svgRenderer.createGroup(s),ej.util.isNullOrUndefined(D.roundingPlaces),this.gSeriesGroupEle=r.svgRenderer.createGroup({id:r.svgObject.id+"_SeriesGroup_"+v,transform:"translate("+B+","+H+")"}),o={id:r.svgObject.id+"_textGroup_"+v,transform:"translate("+B+","+H+")"},r.gSeriesTextEle=[],r.gSeriesTextEle[v]=r.svgRenderer.createGroup(o),l={id:r.svgObject.id+"_symbolGroup_"+v,transform:"translate("+B+","+H+")"},r.gSymbolGroupEle=[],r.gSymbolGroupEle[v]=r.svgRenderer.createGroup(l),p={id:r.svgObject.id+"_connectorGroup_"+v,transform:"translate("+B+","+H+")"},r.gConnectorEle=[],r.gConnectorEle[v]=r.svgRenderer.createGroup(p),"linear"==V.pyramidMode.toLowerCase()?this.calculateLinearSegments(V):this.calculateSurfaceSegments(V),a=0;a<A;a++)g=a,(L=V._visiblePoints[a]).visible&&(b=this._getPyramidData(V,g),C=r.setStyle(this,V,0,g),r.svgRenderer.drawPath(u={id:r.svgObject.id+"_Series"+v+"_Point"+g,fill:C.interior,"stroke-width":C.borderWidth,stroke:C.borderColor,"stroke-dasharray":C.dashArray,"stroke-linecap":V.lineCap,"stroke-linejoin":V.lineJoin,opacity:C.opacity,pointIndex:g,d:b.Direction},this.gSeriesGroupEle,N),V.marker.dataLabel.template&&ej.EjSvgRender.utils._getSeriesTemplateSize(L,g,V,!0,r),L.xLocation=b.PositionX,L.yLocation=b.PositionY,L.connectorLine=b.Connector,L.startX=b.startX,L.startY=b.startY,L.Polygon=b.Polygon,z.push(T={PointIndex:g,Line1:b.Line1,Line2:b.Line2,Line3:b.Line3,Line4:b.Line4,Polygon:b.Polygon}));T={Series:V,Region:z,SeriesIndex:n.inArray(V,D._visibleSeries)},D.chartRegions.push(T),this.gSeriesGroupEle&&(n(this.gSeriesGroupEle.childNodes[g]).bind("mousemove",function(Z){Z.target=I.gSeriesGroupEle.childNodes[g],I.chartObj.chartInteractiveBehavior(Z)}),r.svgRenderer.append(this.gSeriesGroupEle,r.gSeriesEle))},_getPyramidData:function(r,u){var I,R,V,F,A,z,_=this.chartObj.model,w=r._visiblePoints[u].marker,a=r.explodeIndex==r._visiblePoints[u].actualIndex||r.explodeAll?r.explodeOffset:0,s=_.resWidth,h=_.pyramidData[u].CurrY,t=_.pyramidData[u].CurrY+_.pyramidData[u].Height,o=.5*(1-_.pyramidData[u].CurrY),l=.5*(1-t),g={x:s+a+o*_.actualWidth,y:h*_.actualHeight},b={x:s+a+(1-o)*_.actualWidth,y:h*_.actualHeight},C={x:s+a+(1-l)*_.actualWidth,y:t*_.actualHeight},T={x:s+a+l*_.actualWidth,y:t*_.actualHeight},D="M "+g.x+" "+g.y+" L "+b.x+" "+b.y+" L "+C.x+" "+C.y+" L "+T.x+" "+T.y+" z",L=[{x:g.x,y:g.y},{x:b.x,y:b.y},{x:C.x,y:C.y},{x:T.x,y:T.y}];if(w&&w.dataLabel&&w.dataLabel.visible||(!w||!w.dataLabel)&&r.marker.dataLabel.visible)if(V=(b.x+C.x)/2,F=(b.y+C.y)/2,"outside"===r.labelPosition.toLowerCase()){I=(b.x+C.x)/2,R=(b.y+C.y)/2,A=("left"==this.chartObj.model.legend.position.toLowerCase()||"right"==this.chartObj.model.legend.position.toLowerCase()?this.chartObj.model.LegendActualBounds.Width:0)+this.chartObj.model.elementSpacing+this.chartObj.model.margin.left,z=ej.util.isNullOrUndefined(r.marker.dataLabel.connectorLine.height)?r._enableSmartLabels?n(this.chartObj.svgObject).width()-(A+I+s+2*this.chartObj.model.elementSpacing):n(this.chartObj.svgObject).width()-(A+I+this.chartObj.model.textSize+this.chartObj.model.elementSpacing):r.marker.dataLabel.connectorLine.height;var N=this.getXCordinate(I,z,0),U=this.getYCordinate(R,z,0),J="M "+I+" "+R+" L "+N+" "+U;I=N,R=U}else I=(g.x+b.x)/2,R=(C.y+g.y)/2;return{Direction:D,PositionX:I,PositionY:R,Connector:J,Line1:g,Line2:b,Line3:C,Line4:T,startX:V,startY:F,Polygon:L}},calculateLinearSegments:function(r){var w,v,u=0,_=this.chartObj.model;_.pyramidData=[];var a=r.gapRatio>=0?r.gapRatio<=1?r.gapRatio:1:0,s=1/(_.sumofYValues*(1+a/(1-a))),h=r._visiblePoints.length;for(w=0;w<h;w++)(r._visiblePoints[w].visible||r._visiblePoints[w].gapMode)&&(_.pyramidData[w]={CurrY:u,Height:v=s*r._visiblePoints[w].YValues[0]},u+=a/(h-1)+v)},calculateSurfaceSegments:function(r){var w,v,u=r._visiblePoints.length,_=this.chartObj.model;_.pyramidData=[];var s=0,h=[],t=[],l=(r.gapRatio>=0?r.gapRatio<=1?r.gapRatio:1:0)/(u-1),p=this.getSurfaceHeight(0,_.sumofYValues);for(v=0;v<u;v++)(r._visiblePoints[v].visible||r._visiblePoints[v].gapMode)&&(h[v]=s,t[v]=this.getSurfaceHeight(s,Math.abs(r._visiblePoints[v].YValues[0])),s+=t[v]+l*p);for(w=1/(s-l*p),v=0;v<u;v++)(r._visiblePoints[v].visible||r._visiblePoints[v].gapMode)&&(_.pyramidData[v]={CurrY:w*h[v],Height:w*t[v]})},getSurfaceHeight:function(r,u){return this.solveQuadraticEquation(1,2*r,-u)||0},solveQuadraticEquation:function(r,u,_){var w,v,a,s;if(0!=r){if((a=u*u-4*r*_)>=0)return w=(-u-(s=Math.sqrt(a)))/(2*r),v=(-u+s)/(2*r),Math.max(w,v)}else if(0!=u)return w=-_/u,v=-_/u,Math.max(w,v);return!1},chartAreaType:"None"}),ej.seriesTypes.pyramid=ej.ejPyramidSeries,ej.ejFunnelSeries=c(ej.EjSeriesRender,{draw:function(r,u){var _,w,v,a,s,h,t,o,l,p,g,b,C,T,D,L,I;this.chartObj=r;var z,R=r.model,V=R.legend,F=V.position.toLowerCase(),A=R.LegendActualBounds,N=this,U=u,J=this._calculateVisiblePoints(U).visiblePoints,Q=J.length,oe=[],ue=U.marker,le=V.border.width,ne=[],he=0,se=""==r.model.title.text?"":R.title,ee=""==r.model.title.subTitle.text?"":R.title.subTitle,re=R.border.width,W=!(""==se.text||!se.visible||!se.enableTrim),pe=!(""==ee.text||!ee.visible||!ee.enableTrim),M=R.title.text&&R.title.visible?ej.EjSvgRender.utils._measureText(R.title.text,n(this.svgObject).width()-R.margin.left-R.margin.right,R.title.font):0,fe=R.title.subTitle.text&&R.title.subTitle.visible?ej.EjSvgRender.utils._measureText(R.title.subTitle.text,n(this.svgObject).width()-R.margin.left-R.margin.right,R.title.subTitle.font):0,xe=""!=r.model.title.text&&r.model.title.visible?W&&"wrap"==se.textOverflow||W&&"wrapandtrim"==se.textOverflow?M.height*r.model.titleWrapTextCollection.length:M.height:0,O=""!=r.model.title.subTitle.text&&r.model.title.subTitle.visible?pe&&"wrap"==ee.textOverflow||pe&&"wrapandtrim"==ee.textOverflow?fe.height*r.model.subTitleWrapTextCollection.length:fe.height:0,B=R.margin.left+R.elementSpacing+R.elementSpacing+R.margin.right+2*re+("right"===F||"left"===F?A.Width+2*le:0),H=(R.title.text&&R.title.visible?R._titleLocation.Y+xe+O:R.elementSpacing)+R.margin.top+2*re+R.elementSpacing+R.elementSpacing+("top"===F||"bottom"===F?A.Height+2*le+R.elementSpacing:0);if(ue.visible&&"none"!=ue.shape&&"outside"==U.labelPosition&&(B+=ue.margin.left+ue.margin.right),R.chartRegions=[],R.sumofYValues=0,"outside"===U.labelPosition.toLowerCase()){for(b=0;b<Q;b++)he<(_=ej.EjSvgRender.utils._measureText(ej.util.isNullOrUndefined(J[b].text)?J[b].y:J[b].text,null,U.marker.dataLabel.font).width)&&(he=_);R.textSize=he}for(U._enableSmartLabels?(R.actualWidth=.8*(n(r.svgObject).width()-B),R.resWidth=(n(r.svgObject).width()-B-R.actualWidth)/2):(R.actualWidth=n(r.svgObject).width()-B-he,R.resWidth=0),w=""==r.model.title.subTitle.text?0:O,R.actualHeight=n(r.svgObject).height()-H,v=r.pyrX=("left"===F?A.Width+2*le:0)+R.elementSpacing+R.margin.left,a=r.pyrY=("top"===F?A.Height+2*le:0)+(R.title.text&&R.title.visible?R._titleLocation.Y+xe+w:R.margin.top+R.elementSpacing),ne[0]=v,ne[1]=a,s=0;s<Q;s++)R.sumofYValues+=J[s].YValues[0];ej.util.isNullOrUndefined(R.roundingPlaces);var te=n.inArray(U,R._visibleSeries);this.gSeriesGroupEle=r.svgRenderer.createGroup({id:r.svgObject.id+"_SeriesGroup_"+te,transform:"translate("+v+","+a+")"}),h={id:r.svgObject.id+"_DataLabel_"+te,transform:"translate("+v+","+a+")"},r.gDataLabelEle=[],r.gDataLabelEle[te]=r.svgRenderer.createGroup(h),t={id:r.svgObject.id+"_textGroup_"+te,transform:"translate("+v+","+a+")"},r.gSeriesTextEle=[],r.gSeriesTextEle[te]=r.svgRenderer.createGroup(t),o={id:r.svgObject.id+"_symbolGroup_"+te,transform:"translate("+v+","+a+")"},r.gSymbolGroupEle=[],r.gSymbolGroupEle[te]=r.svgRenderer.createGroup(o),l={id:r.svgObject.id+"_connectorGroup_"+te,transform:"translate("+v+","+a+")"},r.gConnectorEle=[],r.gConnectorEle[te]=r.svgRenderer.createGroup(l),p=0,(g=R).funnelData=[];var de=U.gapRatio>=0?U.gapRatio<=1?U.gapRatio:1:0,_e=1/(g.sumofYValues*(1+de/(1-de))),Se=de/Q;for(b=Q-1;b>=0;b--)(U._visiblePoints[b].visible||U._visiblePoints[b].gapMode)&&(g.funnelData[b]={CurrY:p,Height:C=_e*U._visiblePoints[b].YValues[0]},p+=C+Se);for(s=0;s<Q;s++)T=s,(z=U._visiblePoints[s]).visible&&(D=this._getFunnelData(U,T,r),L=r.setStyle(this,U,0,T),r.svgRenderer.drawPath(u={id:r.svgObject.id+"_Series"+te+"_Point"+T,fill:L.interior,"stroke-width":L.borderWidth,stroke:L.borderColor,"stroke-dasharray":L.dashArray,"stroke-linecap":U.lineCap,"stroke-linejoin":U.lineJoin,opacity:L.opacity,pointIndex:T,d:D.Direction},this.gSeriesGroupEle,ne),U.marker.dataLabel.template&&ej.EjSvgRender.utils._getSeriesTemplateSize(z,T,U,!0,r),z.xLocation=D.PositionX,z.yLocation=D.PositionY,z.connectorLine=D.Connector,z.startX=D.startX,z.startY=D.startY,z.Polygon=D.Polygon,oe.push(I={PointIndex:T,Line1:D.Line1,Line2:D.Line2,Line3:D.Line3,Line4:D.Line4,Line5:D.Line5,Line6:D.Line6,Polygon:D.Polygon}));I={Series:U,Region:oe,SeriesIndex:n.inArray(U,R._visibleSeries)},R.chartRegions.push(I),this.gSeriesGroupEle&&n(this.gSeriesGroupEle.childNodes[T]).bind("mousemove",function(be){be.target=N.gSeriesGroupEle.childNodes[T],N.chartObj.chartInteractiveBehavior(be)}),r.svgRenderer.append(this.gSeriesGroupEle,r.gSeriesEle)},_getFunnelData:function(r,u){var p,C,D,L,I,V,F,A,z,N,U,J,Q,oe,ue,le,ne,he,se,ee,re,W,pe,M,fe,xe,O,B,H,_=this.chartObj.model,w=r._visiblePoints[u],v=w.marker,a=r.marker,s=r.funnelWidth,h=r.funnelHeight,t=_.actualHeight,o=_.actualWidth,l=_.elementSpacing,g=_.legend.position.toLowerCase(),T=_.resWidth,R=r.explodeIndex==w.actualIndex||r.explodeAll?r.explodeOffset:0;return B=-1!=h.indexOf("%")?t*(parseInt(h)/100):parseInt(h),z=(V=o/2-(O=(H=-1!=s.indexOf("%")?o*(parseInt(s)/100):parseInt(s))+(t-B-(J=_.funnelData[u].CurrY*t))/(t-B)*(o-H))/2)+O,U=(A=o/2-(O=(oe=J+_.funnelData[u].Height*t)>t-B||t==B?H:H+(t-B-oe)/(t-B)*(o-H))/2)+O,J>=t-B?(V=A=F=o/2-H/2,z=U=N=o/2+H/2):oe>t-B&&(N=U=(F=A=o/2-O/2)+O,Q=t-B),pe={x:T+R+U,y:oe},xe={x:T+R+A,y:oe},Q&&(pe={x:T+R+N,y:Q},xe={x:T+R+F,y:Q}),C="M "+(re={x:T+R+V,y:J}).x+" "+re.y+" L "+(W={x:T+R+z,y:J}).x+" "+W.y+" L "+pe.x+" "+pe.y+" L "+(M={x:T+R+U,y:oe}).x+" "+M.y+" L "+(fe={x:T+R+A,y:oe}).x+" "+fe.y+" L "+xe.x+" "+xe.y+" z",D=[{x:re.x,y:re.y},{x:W.x,y:W.y},{x:pe.x,y:pe.y},{x:M.x,y:M.y},{x:fe.x,y:fe.y},{x:xe.x,y:xe.y}],(v&&v.dataLabel&&v.dataLabel.visible||(!v||!v.dataLabel)&&a.dataLabel.visible)&&(se=(W.x+pe.x)/2,ee=(W.y+pe.y)/2,"outside"===r.labelPosition.toLowerCase()?(ne=(W.x+pe.x)/2,he=(W.y+pe.y)/2,p=("left"==g||"right"==g?_.LegendActualBounds.Width:0)+l+_.margin.left,L=ej.util.isNullOrUndefined(a.dataLabel.connectorLine.height)?r._enableSmartLabels?n(this.chartObj.svgObject).width()-(p+ne+T+2*l):n(this.chartObj.svgObject).width()-(ne+_.textSize+l):a.dataLabel.connectorLine.height,I="M "+ne+" "+he+" L "+(ue=this.getXCordinate(ne,L,0))+" "+(le=this.getYCordinate(he,L,0)),ne=ue,he=le):(ne=(re.x+W.x)/2,he=(re.y+M.y)/2)),{Direction:C,PositionX:ne,PositionY:he,Connector:I,Line1:re,Line2:W,Line3:pe,Line4:M,Line5:fe,Line6:xe,startX:se,startY:ee,Polygon:D}},chartAreaType:"None"}),ej.seriesTypes.funnel=ej.ejFunnelSeries,ej.ejPolarSeries=c(ej.EjSeriesRender,{draw:function(r,u){var _,w,a,s;this.chartObj=r;var t=u,l=(this._isVisiblePoints(t),this.setLineSeriesStyle(t));if("column"==t.drawType.toLowerCase()||"rangecolumn"==t.drawType.toLowerCase()){(_=t.xAxis.visibleRange).interval=1,w="category"==t.xAxis._valueType?_.max:_.max-1,this.chartObj.model.sumofYValues=0,a=_.min;do{this.chartObj.model.sumofYValues+=_.interval,a+=_.interval}while(a<=w)}s=this._calculatePolarAxesSegment(t),"area"==t.drawType.toLowerCase()?this.drawAreaPath(t,l,s):("line"==t.drawType.toLowerCase()||"spline"==t.drawType.toLowerCase())&&this._drawLinePath(t,l,s),this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)},chartAreaType:"PolarAxes"}),ej.seriesTypes.polar=ej.ejPolarSeries,ej.ejRadarSeries=c(ej.EjSeriesRender,{draw:function(r,u){var _,w,a,s;this.chartObj=r;var t=u,l=(this._isVisiblePoints(t),this.setLineSeriesStyle(t));if("column"==t.drawType.toLowerCase()||"rangecolumn"==t.drawType.toLowerCase()){(_=t.xAxis.visibleRange).interval=1,w="category"==t.xAxis._valueType?_.max:_.max-1,this.chartObj.model.sumofYValues=0,a=_.min;do{this.chartObj.model.sumofYValues+=_.interval,a+=_.interval}while(a<=w)}s=this._calculatePolarAxesSegment(t),"area"==t.drawType.toLowerCase()?this.drawAreaPath(t,l,s):("line"==t.drawType.toLowerCase()||"spline"==t.drawType.toLowerCase())&&this._drawLinePath(t,l,s),this.chartObj.svgRenderer.append(this.gSeriesGroupEle,this.chartObj.gSeriesEle)},doAnimation:function(r,u){var _=u.chartObj,w=r.drawType.toLowerCase();r.regionAdded=!0,_.model._radius=_.model.Radius||_.model._radius,_.model.Radius=0;var v=u,a=n.inArray(r,_.model._visibleSeries),s=n(_.gSeriesEle).find("#"+v.gSeriesGroupEle.id)[0].childNodes[0];n(s).animate({Radius:_.model._radius},{duration:1200,queue:!1,step:function(h){if(ej.util.isNullOrUndefined(_.model))n(s).stop(!0,!0);else{_.model.Radius=h;var t=v._calculatePolarAxesSegment(r);"column"!=r.drawType.toLowerCase()&&"rangecolumn"!=r.drawType.toLowerCase()&&"scatter"!=w&&_.svgRenderer._setAttr(n(s),{d:t}),_.model.Radius=_.model._radius}},complete:function(){if(!ej.util.isNullOrUndefined(_.model)){r.regionAdded=!1,_.svgRenderer._setAttr(n(_.gSeriesEle).find("#"+_.svgObject.id+"_TextGroup_"+a),{visibility:"visible"}),_.svgRenderer._setAttr(n(_.gSeriesEle).find("#"+_.svgObject.id+"_symbolGroup_"+a),{visibility:"visible"}),_.svgRenderer._setAttr(n(_.gSeriesEle).find("#"+_.svgObject.id+"_DataLabel_"+a),{visibility:"visible"}),_.model.AnimationComplete=!0;var h=n.extend({},ej.EjSvgRender.commonChartEventArgs);h.data={series:r},_._trigger("animationComplete",h)}}})},chartAreaType:"PolarAxes"}),ej.seriesTypes.radar=ej.ejRadarSeries}(jQuery),ej.ejChart={},function($){Object.keys||(Object.keys=function(){"use strict";var n=Object.prototype.hasOwnProperty,c=!{toString:null}.propertyIsEnumerable("toString"),r=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],u=r.length;return function(_){if("function"==typeof _||"object"==typeof _&&null!==_){var v,a,w=[];for(v in _)n.call(_,v)&&w.push(v);if(c)for(a=0;a<u;a++)n.call(_,r[a])&&w.push(r[a]);return w}}}()),Array.isArray||(Array.isArray=function(n){return"[object Array]"===Object.prototype.toString.call(n)}),void 0===Array.prototype.map&&(Array.prototype.map=function(n){for(var c=[],r=0,u=this.length;r<u;r++)c.push(n(this[r]));return c}),String.prototype.parseTemplate=function(){var str=this,substr,count=0,arabic=/[\u0600-\u06FF]/;for($.each(arguments[0],function(n,c){c.count>0?$.each(c,function(r,u){var w,v,a,_=new RegExp("#"+n+"."+r+"#","gm");if(count++,arabic.test(str)&&2==count){for(w=str.split(" "),v=0;v<w.length;v++)arabic.test(a=w[v])&&(w[v]=a+="&lrm;");str=w.join(" ")}str=str.replace(_.source,u)}):str=str.replace(new RegExp("\\#"+n+"\\#","gm"),c)});str.indexOf("ej.")>=0;)substr=str.substring(str.indexOf("ej."),str.indexOf(")")+1),str=str.replace(substr,eval(substr));return str},String.prototype.capitalizeFirstString=function(){return this.charAt(0).toUpperCase()+this.slice(1)};var Gradient=function(n){this._gradientStop=[];for(var c=0;c<n.length;c++)this._gradientStop.push(n[c])};ej.ejChart={_renderSfChart:function(){var n=!!window.SVGSVGElement,c=this.model.enableCanvasRendering;return this.isChartElemId=!1,this.element[0].id||this._createChartId(),$("#chartContainer_"+this._id).remove(),n?(this.renderer=new ej.EjSvgRender(this.element),c?(this.svgRenderer=new ej.EjCanvasRender(this.element),this.legendSvgContainer=this.svgRenderer.createLegendCanvas(this.element)):(this.svgRenderer=new ej.EjSvgRender(this.element),this.legendSvgContainer=this.svgRenderer.createLegendSvg(this.element)),this._appendChartElements(),c||this.legendContainer.find("svg").attr("class","e-designerhide"),this._createChart(),$(this.svgObject).appendTo(this.element)):(c=!1,this.svgRenderer=new ej.EjVmlRender(this.element),this.legendSvgContainer=this.svgRenderer.createLegendSvg(this.element),this.renderer=new ej.EjVmlRender(this.element),this._appendChartElements(),this._createChart(),$(this.svgObject).appendTo(this.chartContainer)),!0},_appendChartElements:function(){this.legendContainer=$("<div></div>").attr("id","legend_"+this._id).css("height","0px"),this.scrollerContainer=$("<div></div>").attr("id","legend_Scroller"+this._id).css("height","0px"),this.templateContainer=$("<div></div>").attr("id",this._id+"_container_svg_TrackToolTip").css("height","0px"),this.chartContainer=$("<div></div>").css("position","relative").attr("id","chartContainer_"+this._id),this.axisScroll=$("<div></div>").attr("id","axisScrollbar_"+this._id).css("height","0px"),this.svgRenderer.append(this.legendSvgContainer,this.scrollerContainer),$(this.scrollerContainer).appendTo(this.legendContainer),$(this.axisScroll).appendTo(this.chartContainer),$(this.legendContainer).appendTo(this.chartContainer),$(this.templateContainer).appendTo(this.chartContainer),$(this.chartContainer).appendTo(this.element)},setSvgSize:function(n){var a,s,c=n,r=$(c.element).height(),u=450,_=ej.isTouchDevice()?250:600,w=$(c.element).width();$(c.chartContainer).height(),c.model.size.width?_="string"==typeof(a=c.model.size.width)&&-1!=a.indexOf("%")?w/100*parseInt(a):parseInt(a):w>0&&(_=w),$(c.svgObject).width(_),c.model.size.height?u="string"==typeof(s=c.model.size.height)&&-1!=s.indexOf("%")?this.vmlRendering?u:r/100*parseInt(s):parseInt(s):r>0?u=r:$(c.svgObject).css("display","block"),$(c.svgObject).height(u),$("#"+c._id).css("overflow","hidden"),c.svgObject.setAttribute("width",_),c.svgObject.setAttribute("height",u)},compareExtend:function(n,c,r){var u,_,w,v;if("object"==typeof r&&null!==r)for(_=(u=Object.keys(r)).length,v=0;v<_;v++)c.hasOwnProperty(w=u[v])&&null!=c[w]?(Array.isArray(c[w])||"object"==typeof c[w]&&null!==c[w])&&this.compareExtend({},c[w],r[w]):c[w]=r[w];return c},setModelProperties:function(n){var c,r,u,_,w,v,a,s,h,t,o;if(n||this.setSvgSize(this),this.svgWidth=$(this.svgObject).width(),this.svgHeight=$(this.svgObject).height(),this.chartCross={visible:n?this.chartCross.visible:this.model.crosshair.visible,mArea:this.model.crosshair.type},this.serAnimation=[],this.model.series&&!n)for(w=!1,this.model._drawTrendline=!1,s=0;s<this.model.series.length;s++)for(a=null,ej.util.isNullOrUndefined(this.model.series[s].dataSource)&&ej.util.isNullOrUndefined(this.model.commonSeriesOptions.dataSource)||(a=ej.util.isNullOrUndefined(this.model.series[s].dataSource)?this.model.commonSeriesOptions.dataSource:this.model.series[s].dataSource),this.model.series[s]=ej.copyObject({},this.model.commonSeriesOptions,this.model.series[s]),this.model.series[s].dataSource=a,this.serAnimation.push(null==(_=this.model.series[s]).enableAnimation?this.model.commonSeriesOptions.enableAnimation:_.enableAnimation),r=(c=_.trendlines).length,h=0;h<r;h++)if(c[h]=ej.copyObject({},this.model.trendlineDefaults,c[h]),c[h]._visibility=c[h].visibility,"visible"==c[h].visibility.toLowerCase()){if(this.model._drawTrendline=!0,v=c[h].type.toLowerCase(),!ej.util.isNullOrUndefined(_.points))for(t=0;t<_.points.length;t++)if(u=_.points[t],ej.util.isNullOrUndefined(u.y)||0==u.y){w=!0;break}c[h].isNull=!(!w||"power"!=v&&"exponential"!=v)}if(this.model.indicators)for(o=0;o<this.model.indicators.length;o++)this.model.indicators[o]=ej.copyObject({},this.model.indicatorDefaults,this.model.indicators[o])},_createChart:function(){var n,c,r,u;if(this.svgObject=this.svgRenderer.svgObj,n=$.extend({},ej.EjSvgRender.commonChartEventArgs),this._trigger("load",n),this.setTheme(ej.EjSvgRender.themes,this.model.theme),(c=this.model).series[0]&&c.series[0]._isdesigntime){for(c.series[0]={},c.series[0].points=[],r=[],u=1;u<=10;u++)r.push({x:u,y:Math.floor(-30*Math.random())+40});c.series[0].points=r}this.vmlRendering=!!this.svgRenderer.vmlNamespace,($(this.element).is(":visible")||"hidden"!=$(this.element).css("visibility")||"none"!=$(this.element).css("display"))&&(this.bindEvents(),this.bindTo())},setTheme:function(n,c){var r=c.toLowerCase();(r.indexOf("azure")>=0||r.indexOf("lime")>=0||r.indexOf("saffron")>=0)&&-1==r.indexOf("gradient")&&-1==r.indexOf("dark")?n[r]=$.extend(!0,{},n.flatlight,n[r]):(r.indexOf("azuredark")>=0||r.indexOf("limedark")>=0||r.indexOf("saffrondark"))>=0&&-1==r.indexOf("gradient")?n[r]=$.extend(!0,{},n.flatdark,n[r]):(r.indexOf("azure")>=0||r.indexOf("lime")>=0||r.indexOf("saffron")>=0)&&r.indexOf("gradient")>=0&&-1==r.indexOf("dark")?n[r]=$.extend(!0,{},n.gradientlight,n[r]):(r.indexOf("azuredark")>=0||r.indexOf("limedark")>=0||r.indexOf("saffrondark")>=0)&&r.indexOf("gradient")>=0?n[r]=$.extend(!0,{},n.gradientdark,n[r]):r.indexOf("high")>=0?n[r]=$.extend(!0,{},n.highcontrast01,n[r]):r.indexOf("material")>=0||r.indexOf("office")>=0?n[r]=$.extend(!0,{},n.material,n[r]):n[r]||(r="flatlight"),this.model=this.model._themeChanged?ej.copyObject({},this.model,n[r]):this.compareExtend({},this.model,n[r]),this.model.background=ej.util.isNullOrUndefined(this.model.background)?n[r].background:this.model.background},_drawBackInterior:function(){if(this.model.backInterior&&this.model.backInterior._gradientStop){var n={id:this.svgObject.id+"_backGradient",x1:"0%",y1:"0%",x2:"0%",y2:$(this.svgObject).height()+"%"};this.svgRenderer.drawGradient(n,this.model.backInterior._gradientStop)}},_drawBackImage:function(){var n={height:$(this.svgObject).height(),width:$(this.svgObject).width(),href:this.model.backGroundImageUrl,x:0,y:0,id:this.svgObject.id+"_backImage",visibility:"visible",preserveAspectRatio:"none"};this.svgRenderer.drawImage(n,this.svgObject)},_getDataType:function(n){var c=typeof n;return"number"===c||"string"===c?c:"date"==jQuery.type(n)?"date":null==n&&null},addedXYValues:function(n){var c,r;n=n||!1;var v,a,s,h,t,p,b,C,T,D,L,I,R,u=this.model,_=u.series,w=_[0].type.toLowerCase(),o=ej.util.isNullOrUndefined,l=u.primaryXAxis.valueType,g=!1;if("cartesianAxes"!=(R=u.AreaType=ej.seriesTypes[w].prototype.chartAreaType)&&"None"!=R&&(R=u.AreaType="polaraxes",u.isPolar="polar"==w),R=u.AreaType=u.AreaType.toLowerCase(),!n){for(s=0;s<_.length;s++)if("visible"==_[s].visibility){if(T=!0,p=!1,_[s].dataSource&&0!=_[s].dataSource.length)for((C=_[s])._xAxisValueType=null,v=C.points.length,null!=(b=C.points[0].x)&&(C._xAxisValueType=this._getDataType(b)),c=C.points.length,I=C.points,r=0;r<c;r++)"string"==typeof I[r].x&&-1!=I[r].x.indexOf("<br>")&&(I[r].x=I[r].x.replace(/(<br>)+/g,"<br>"));else for(I=_[s].points,_[s].points=null,_[s]=$.extend(!0,{},u.commonSeriesOptions,_[s]),_[s].points=I,C=_[s],"datetime"==l&&(g=!0),v=I.length,t=0;t<v;t++)I[t].YValues=[],D=1==/^-?[0-9]*\.?[0-9]+$/.test(I[t].x),L="category"!=l&&"datetime"!=l&&("string"==typeof I[t].x||I[t].x instanceof String)&&parseFloat(I[t].x),!isNaN(L?I[t].x:parseFloat(I[t].x))&&L&&D&&"category"!=l&&"none"!=R&&(I[t].x=g?new Date(I[t].x):parseFloat(I[t].x)),"string"==typeof I[t].x&&-1!=I[t].x.indexOf("<br>")&&(I[t].x=I[t].x.replace(/(<br>)+/g,"<br>")),I[t].xValue=I[t].x,p||o(b=I[t].x)||(C._xAxisValueType=this._getDataType(b),p=!0),C._hiloTypes||"rangecolumn"==C.drawType.toLowerCase()?(o(I[t].high)||(I[t].YValues[0]=I[t].high,I[t].y=I[t].high),o(I[t].low)||(I[t].YValues[1]=I[t].low),o(I[t].open)||(I[t].YValues[2]=I[t].open),o(I[t].close)||(I[t].YValues[3]=I[t].close)):(I[t].YValues[0]=C.points[t].y,(T=T&&!o(I[t].size))&&(I[t].YValues[1]=I[t].size));if("waterfall"==C.type.toLowerCase())this.calculateWaterfallSeriesPoints(C.points);else if(C._previousType&&"waterfall"==C._previousType.toLowerCase())for(a=C.points,h=0;h<a.length;h++)a[h].waterfallSum=void 0,a[h].textOptions=null}this._setInternalValues()}},calculateWaterfallSeriesPoints:function(n){for(var c=0,r=0,u=0,_=0;_<n.length;_++)n[_].isEmpty?(n[_].YValues[1]=0,n[_].YValues[0]=0):(r+=n[_].showIntermediateSum||n[_].showTotalSum?0:n[_].y,n[_].showIntermediateSum?(n[_].YValues[1]=c,n[_].YValues[0]=r,n[_].waterfallSum=r-c,c=r):n[_].showTotalSum?(n[_].YValues[1]=0,n[_].YValues[0]=r,n[_].waterfallSum=r):(n[_].YValues[1]=u,n[_].YValues[0]=u+n[_].y,u=r))},_setInternalValues:function(){for(var n,c,r,u=0;u<this.model.series.length;u++){if(n=this.model.series[u],"cartesianaxes"==this.model.AreaType&&"cartesianAxes"==ej.seriesTypes[n.type.toLowerCase()].prototype.chartAreaType)n._zOrder=n.zOrder?n.zOrder:0,this.model._visibleSeries.push(n);else if("none"==this.model.AreaType&&"None"==ej.seriesTypes[n.type.toLowerCase()].prototype.chartAreaType){if(n._zOrder=n.zOrder?n.zOrder:0,"funnel"==(c=this.model.series[u].type.toLowerCase())||"pyramid"==c){this.model._visibleSeries.push(n);break}this.model._visibleSeries.push(n)}else"polaraxes"==this.model.AreaType&&"PolarAxes"==ej.seriesTypes[n.type.toLowerCase()].prototype.chartAreaType&&(n._zOrder=n.zOrder?n.zOrder:0,this.model._visibleSeries.push(n));if((n._yAxisName||n._xAxisName)&&this.model._axes)for(r=0;r<this.model._axes.length;r++)n._yAxisName&&n._yAxisName==this.model._axes[r].name&&(this.model._axes[r].orientation=this.model._axes[r].orientation?this.model._axes[r].orientation:this.model.requireInvertedAxes?"horizontal":"vertical"),n._xAxisName&&n._xAxisName==this.model._axes[r].name&&(this.model._axes[r].orientation=this.model._axes[r].orientation?this.model._axes[r].orientation:this.model.requireInvertedAxes?"vertical":"horizontal")}},setHiloStyle:function(n,c,r,u){var v,_=n.points[c];return v=(_.fill?_.fill:n.fill?n.fill:u)||this.model.seriesColors[r],"array"==jQuery.type(v)?v[0].color:v},setStyle:function(n,c,r,u,_,w){var s,g,T,D,L,I,a=(w||c._visiblePoints)[u],b=a.border,C=c.border;return c._hiloTypes&&(g=c.isFill?c.fill:null),"cartesianaxes"==n.chartObj.model.AreaType?(a.fill?s=a.fill:"waterfall"==c.type.toLowerCase()?((a.showIntermediateSum||a.showTotalSum)&&a.waterfallSum>0||a.y>0&&!a.showIntermediateSum&&!a.showTotalSum)&&(s=c.positiveFill?c.positiveFill:_):s=g||_,T=s||this.model.seriesColors[r],D=n.chartObj.model.requireInvertedAxes?this.svgRenderer.createGradientElement(n.getSeriesName(c)+"_"+r+u,T,0,0,100,0,n.gSeriesGroupEle):this.svgRenderer.createGradientElement(n.getSeriesName(c)+"_"+r+u,T,0,0,0,100,n.gSeriesGroupEle)):(L=this.model.pointColors,s=a.fill?a.fill:"array"==jQuery.type(L[u])?L[u][0].color:L[u],I=this.svgRenderer.createGradientElement(n.getSeriesName(c)+u,s,0,0,0,$(n.svgObject).height()||parseFloat(this.model.size.height),n.chartObj.gSeriesEle)),{interior:D||I,borderColor:b&&b.color?b.color:C.color,borderWidth:b&&!ej.util.isNullOrUndefined(b.width)?b.width:C.width,width:a.width?a.width:c.width,opacity:a.opacity?a.opacity:c.opacity,dashArray:b&&b.dashArray?b.dashArray:C.dashArray}},colorNameToHex:function(n){var c=n,r={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c","indigo ":"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};return"[object Array]"==Object.prototype.toString.call(c)?c:typeof r[c.toLowerCase()]<"u"?r[c.toLowerCase()]:c},_getLocalizedLabels:function(){return ej.getLocalizedConstants(this.sfType,this.model.locale)},_setCulture:function(n){this.culture=ej.preferredCulture(n)},draw:function(n){var c,u,_,w,v,a,s,h,t,o,l,p,b,C,T,D,L,I,R,V,F,A,z,N,U,J,Q,oe,ue,le,se,ee,re,W,pe,M;for(this.removeMultiRect(),(c={}).axes={},this._drawBackInterior(),this.model.chartRegions=[],this.model.outsideDataRegionPoints=[],this.model.regionCount=null,this.model.circularRadius=[],this.model.circleCenterX=[],this.model.circleCenterY=[],this.model.innerRadius=[],this.model.bounds=[],this.accDataLabelRegion=[],this.model.rightsidebounds=[],this.model.leftsidebounds=[],this.model.excludeDataUpdate=n,this.model.yAxisLabelRegions=[],this.model.xAxisLabelRegions=[],this.model.axisMultiLevelLabelRegions=[],this.model.multiLevelLabelRegions=[],this.model.minhightwidth=!1,this.model._isPieOfPie=!1,n||(this.model._visibleSeries=[]),this.model.stackedValue={},this.model._locale=this.model.locale||"en-US",this._setCulture(this.model._locale),this._localizedLabels=this._getLocalizedLabels(),r=this.model.series.length,this.model._sideBySideSeriesPlacement=ej.util.isNullOrUndefined(this.model.sideBySideSeriesPlacement)?!this.model.enable3D:this.model.sideBySideSeriesPlacement,M=0;M<r;M++)u=(b=this.model.series[M]).type.toLowerCase(),b._isTransposed=-1==u.indexOf("bar")?b.isTransposed:!b.isTransposed;for(r>0&&this.addedXYValues(n),this.model.AreaType=this.model.AreaType||"cartesianaxes",this._isEjScroller(),(_=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data={},this._trigger("preRender",_),this.gLegendEle=this.svgRenderer.createGroup({id:this.svgObject.id+"_Legend"}),this.gTitleEle=this.svgRenderer.createGroup({id:this.svgObject.id+"_ChartTitle",cursor:"default"}),this.gSubTitleEle=this.svgRenderer.createGroup({id:this.svgObject.id+"_ChartsubTitle",cursor:"default"}),this._createAxisLabelAndRange(),M=0;M<this.model._axes.length;M++)c.axes[this.model._axes[M].name]={};for(this._initializeSeriesColors(),this._calculateLegendBounds(),this.legendRender=new ej.EjLegendRender(this),(w=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data={legendBounds:this.model.LegendBounds},this._trigger("legendBoundsCalculate",w),o=0;o<this.model.indicators.length;o++)if((v=this.model.indicators[o])._points=[],v.xAxisName=v.xAxisName?v.xAxisName:this.model._axes[0].name,v.yAxisName=v.yAxisName?v.yAxisName:this.model._axes[1].name,v.isIndicator=!0,v.dataSource&&v.dataSource.length>0)v._hiloTypes=!0,this._processJsonData(v.dataSource,v),v._points=v.points;else if(v.points.length>0)for(M=0;M<v.points.length;M++)v._points=v.points,v._points[M].xValue=v.points[M].x,v._points[M].YValues=[],v._points[M].YValues[0]=v.points[M].close;else if(""!=v.seriesName)for(a=0;a<this.model._visibleSeries.length;a++)v.seriesName==(b=this.model._visibleSeries[a]).name&&(v._points=$.extend(!0,[],b.points));for(t=0;t<this.model._axes.length;t++)if(this.model._axes[t].valueType&&"category"==this.model._axes[t].valueType.toLowerCase())for(M=0;M<this.model.indicators.length;M++)if(this.model._axes[t].name==(v=this.model.indicators[M]).xAxisName)for(o=0;o<v._points.length;o++)v._points[o].xValue=o;for(this.model.indicatorRange=[],a=0;a<this.model.indicators.length;a++)(v=this.model.indicators[a])._points.length>0&&(T=v.type.toLowerCase(),(s=new ej.indicatorTypes[T]).calculateSegment(v,this));for(C=0;C<this.model._visibleSeries.length;C++)for(s=this.model._visibleSeries[C],M=0;M<s.points.length&&"string"==typeof s.points[M].xValue&&-1!=s.points[M].xValue.indexOf("/Date(");M++)s.points[M].xValue=new Date(parseInt(s.points[M].xValue.substr(6)));this.model.hAxes=[],this.model.vAxes=[];var xe=this,O=!1,B=!1;for(this._arrangeAxis(),this.model.crosshairLabelVisibility=!1,t=0;t<this.model._axes.length;t++){this.model.crosshairLabelVisibility=(fe=this.model._axes[t]).crosshairLabel.visible||this.model.crosshairLabelVisibility;var ne=[],r=this.model.series.length,H=this.model._axes[t].orientation.toLowerCase(),Z=this.model._axes[t].rangePadding.toLowerCase();if(ej.util.isNullOrUndefined(this.model._axes[t]._rangePadding)&&(this.model._axes[t]._rangePadding=this.model._axes[t].rangePadding),"auto"==Z)for("vertical"==H&&(fe.rangePadding=this.model.requireInvertedAxes?"none":"normal"),"horizontal"==H&&(fe.rangePadding=this.model.requireInvertedAxes?"normal":"none"),o=0;o<r;o++)if(-1!=(T=this.model.series[o].type.toLowerCase()).indexOf("100")&&fe.name==this.model.series[o]._yAxisName){fe.rangePadding="round";break}for(l=0;l<fe.stripLine.length;l++)fe.stripLine[l]=$.extend(!0,{},this.model.stripLineDefault,fe.stripLine[l]),"over"==fe.stripLine[l].zIndex.toLowerCase()?O=!0:B=!0;for(p=fe.orientation.toLowerCase(),o=0;o<this.model._visibleSeries.length;++o){this.model._hasSeriesPoints=(b=this.model._visibleSeries[o]).points.length>0||this.model._hasSeriesPoints,b.xAxisName||(b._xAxisName=xe.model._axes[0].name),b.yAxisName||(b._yAxisName=xe.model._axes[1].name),b._xAxisName=b._xAxisName?b._xAxisName:b.xAxisName?b.xAxisName:xe.model._axes[0].name,b._yAxisName=b._yAxisName?b._yAxisName:b.yAxisName?b.yAxisName:xe.model._axes[1].name;var te=b._xAxisName.toLowerCase(),ae=b._yAxisName.toLowerCase(),de=fe.name.toLowerCase();if((te||ae)&&(te==de||ae==de)){if(("horizontal"==p||-1!=b.type.toLowerCase().indexOf("bar")&&"vertical"==p)&&fe.valueType&&"datetime"==fe.valueType.toLowerCase())for(C=0;C<b.points.length;C++)"string"!=typeof b.points[C].xValue||isNaN(Date.parse(b.points[C].xValue))||(b.points[C].xValue=new Date(Date.parse(b.points[C].xValue)));else"string"!=b._xAxisValueType||fe.valueType||(fe._valueType="horizontal"==p&&!this.model.requireInvertedAxes||"vertical"==p&&this.model.requireInvertedAxes?"category":"double"),"date"!=b._xAxisValueType||fe.valueType||(fe._valueType="horizontal"==p&&!this.model.requireInvertedAxes||"vertical"==p&&this.model.requireInvertedAxes?"datetime":"double");"visible"==this.model._visibleSeries[o].visibility.toLowerCase()&&ne.push(b)}}if(p==(this.model.requireInvertedAxes?"horizontal":"vertical")){var _e=!1,Se=!1;for(r=ne.length,fe.isStacked100=ne.length>0,M=0;M<r;M++)-1!=(T=ne[M].type.toLowerCase()).indexOf("stacking")||"polaraxes"==this.model.AreaType&&("column"==ne[M].drawType.toLowerCase()||"area"==ne[M].drawType.toLowerCase())&&ne[M].isStacking?-1==T.indexOf("100")||_e?-1!=T.indexOf("100")||Se||(this._calculateStackingValues(ne,fe,c),Se=!0,fe.isStacked100=!1):(this._calculateStackingCumulativeValues(ne,fe,c),_e=!0):fe.isStacked100=!1}for((h=fe.scrollbarSettings).visible&&(null!=h.pointsLength||null!=h.range.min||null!=h.range.max)&&(this.model.isLazyZooming=!0),fe._valueType=fe._valueType?fe._valueType:fe.valueType?fe.valueType:"double",D=new(ej.axisTypes[fe._valueType.toLowerCase()]),L=0;L<ne.length;L++)for(I=0;I<ne[L].trendlines.length;I++)if("visible"==ne[L].trendlines[I].visibility){this.model._drawTrendline=!0;break}D._calculateRanges(xe,fe,ne,c,n)}if(xe._chartResize=!1,(R=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data={axes:this.model._axes},this._trigger("axesLabelsInitialize",R),this.model.isLazyZooming||this._updateScroll(),(this.svgHeight!=this.model.svgHeight||this.svgWidth!=this.model.svgWidth)&&(V=ej.util.isNullOrUndefined(this.prevHeight)?this.svgHeight:this.prevHeight,F=ej.util.isNullOrUndefined(this.prevWidth)?this.svgWidth:this.prevWidth,(le=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data={currentHeight:V,currentWidth:F,newHeight:this.model.svgHeight,newWidth:this.model.svgWidth},this._trigger("beforeResize",le),le.cancel?(this.model.enableCanvasRendering&&(this.svgRenderer.svgObj.width=le.data.currentWidth,this.svgRenderer.svgObj.height=le.data.currentHeight),this.model.svgWidth=le.data.currentWidth,this.model.svgHeight=le.data.currentHeight,$(this.svgObject).width(le.data.currentWidth),$(this.svgObject).height(le.data.currentHeight)):(this.model.enableCanvasRendering&&(this.svgRenderer.svgObj.width=le.data.newWidth,this.svgRenderer.svgObj.height=le.data.newHeight),this.model.svgWidth=le.data.newWidth,this.model.svgHeight=le.data.newHeight,$(this.svgObject).width(le.data.newWidth),$(this.svgObject).height(le.data.newHeight))),this._calculateAreaBounds(c),this.model.enable3D&&(A=new ej.Ej3DRender,this.vector=new A.vector3D,this.matrixobj=new A.matrix3D,this.bsptreeobj=new A.BSPTreeBuilder,this.polygon=new A.polygon3D,this.graphics=new A.Graphics3D,this.chart3D=this.svgRenderer.createGroup({id:this.svgObject.id+"_Chart3D"}),ej.Ej3DRender.Polygons=[]),"none"!=this.model.AreaType){for(this._calculateAxisSize(c),M=0,ue=this.model._axes.length;M<ue;M++)this._validateCrossing(this.model._axes[M])&&this._axisCrossing(this.model._axes[M],!1,c);if(c._crossAxisOverlap){for(M=0,ue=this.model._axes.length;M<ue;M++)c.axes[this.model._axes[M].name]._validCross&&this._axisCrossing(this.model._axes[M],!0,c);c._crossAxisOverlap=!1}if((z=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data={areaBounds:this.model.m_AreaBounds},this._trigger("chartAreaBoundsCalculate",z),this._drawChartAreaRect(),""!=this.model.title.text&&this.model.title.text&&this.model.title.visible&&this._drawTitle(),this.gXaxisEle=this.svgRenderer.createGroup({id:this.svgObject.id+"_XAxis"}),this.gYaxisEle=this.svgRenderer.createGroup({id:this.svgObject.id+"_YAxis"}),this.gPolarAxisEle=this.svgRenderer.createGroup({id:this.svgObject.id+"_AxisLine"}),this.model.enable3D?($.extend(ej.Ej3DAxisRenderer.prototype,this),this.chartaxis=new ej.Ej3DAxisRenderer(this)):($.extend(ej.EjAxisRenderer.prototype,this),this.chartaxis=new ej.EjAxisRenderer(this)),Q=this.chartaxis,this.model.xAxisTitleRegion=[],this.model.yAxisTitleRegion=[],this.model.enable3D){for(oe=0;oe<this.model._axes.length;oe++)Q._drawAxes(oe,this.model._axes[oe],c);ej.Ej3DChart.prototype.update3DWall(this,c)}else for(oe=0;oe<this.model._axes.length;oe++)Q._drawGridLines(oe,this.model._axes[oe],c);this.model.requireInvertedAxes?(this.svgRenderer.append(this.gYaxisEle,this.svgObject),this.svgRenderer.append(this.gXaxisEle,this.svgObject)):(this.svgRenderer.append(this.gXaxisEle,this.svgObject),this.svgRenderer.append(this.gYaxisEle,this.svgObject));var be="polaraxes"==this.model.AreaType?0:this.model.m_AreaBounds.X,Ce="polaraxes"==this.model.AreaType?0:this.model.m_AreaBounds.Y,Pe="polaraxes"==this.model.AreaType?$(this.svgObject).width():this.model.m_AreaBounds.Width,ke="polaraxes"==this.model.AreaType?$(this.svgObject).height():this.model.m_AreaBounds.Height,Ne={id:this.svgObject.id+"_ChartAreaClipRect",x:be,y:Ce,width:Pe,height:ke,fill:"white","stroke-width":1,stroke:"Gray"};this.svgRenderer.drawClipPath(Ne,this.svgObject),this._setZoomProperties()}else this._drawChartAreaRect(),Ne={id:this.svgObject.id+"_ChartAreaClipRect",x:0,y:0,width:$(this.svgObject).width(),height:$(this.svgObject).height(),fill:"white","stroke-width":1,stroke:"Gray"},this.svgRenderer.drawClipPath(Ne,this.svgObject),""!=this.model.title.text&&this.model.title.text&&this.model.title.visible&&this._drawTitle();for(B&&"cartesianaxes"==this.model.AreaType&&!this.model.enable3D&&(this.gStriplineBehind=this.svgRenderer.createGroup({id:this.svgObject.id+"_StriplineBehind","clip-path":"url(#"+this.svgObject.id+"_ChartAreaClipRect)"}),this._renderStripline("behind")),this.model.initSeriesRender&&(this.seriesRender(c,n),this.indicatorRender()),N=this.model.annotations.length,$("#annotation_group_"+this._id).empty(),U=0;U<N;U++)(J=this.model.annotations[U]).visible&&this.annotationRender(J,U);if("polaraxes"==this.model.AreaType&&this.model._axes[1].visible&&!this.model.enable3D&&this.chartaxis._drawAxisLine(this.model._axes[1]),"cartesianaxes"===this.model.AreaType&&(this.model.requireInvertedAxes?(this.svgRenderer.append(this.gYaxisEle,this.svgObject),this.svgRenderer.append(this.gXaxisEle,this.svgObject)):(this.svgRenderer.append(this.gXaxisEle,this.svgObject),this.svgRenderer.append(this.gYaxisEle,this.svgObject)),this.gXaxisTickEle=this.svgRenderer.createGroup({id:this.svgObject.id+"_XAxisTick"}),this.gYaxisTickEle=this.svgRenderer.createGroup({id:this.svgObject.id+"_YAxisTick"})),$.extend(ej.EjAxisRenderer.prototype,this),this.chartaxis=new ej.EjAxisRenderer(this),Q=this.chartaxis,O&&"cartesianaxes"==this.model.AreaType&&!this.model.enable3D&&(this.gStriplineOver=this.svgRenderer.createGroup({id:this.svgObject.id+"_StriplineOver","clip-path":"url(#"+this.svgObject.id+"_ChartAreaClipRect)"}),this._renderStripline("over")),!this.model.enable3D){var Le="cartesianaxes"==this.model.AreaType.toLowerCase(),je=this.model._axes,Ae=this.model.enableCanvasRendering;for(oe=0,ue=je.length;oe<ue;oe++){var fe,Oe=c.axes[(fe=je[oe]).name]._lineOption,Fe=c.axes[fe.name]._validCross;Le&&(Q._drawAxes(oe,fe),Oe[0]&&this.svgRenderer.drawLine(Oe[0],Oe[1]),"horizontal"===fe.orientation.toLowerCase()?(Q._drawXAxisTickLine(oe,fe,Ae?null:Oe[1],c),Q._drawXAxisMultiLevelLabels(oe,fe)):(Q._drawYAxisTickLine(oe,fe,Ae?null:Oe[1],Fe),Q._drawYAxisMultiLevelLabels(oe,fe)),fe._crossValue=null)}}if(!this.resetZooming&&(this.model._chartAreaZoom||this.panning)&&this._enableZoomingButtons(),this.resetZooming=!1,(this.svgHeight!=this.model.svgHeight||this.svgWidth!=this.model.svgWidth)&&(this.prevHeight=this.model.svgHeight,this.prevWidth=this.model.svgWidth,(le=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data={height:this.prevHeight,width:this.prevWidth,prevHeight:V,prevWidth:F,originalHeight:this.svgHeight,originalWidth:this.svgWidth},this._trigger("afterResize",le)),0==$.grep(ne=this.model._visibleSeries,function($e){return"true"==$e.selectionSettings.enable.toString()}).length?(this.model.selectionEnable=!1,this._removeSelection()):this.model.selectionEnable=!0,se=this.remove_duplicates(this.model.selectedDataPointIndexes),this.model.selectionEnable)for(this._removeSelection(),this.model._isStateChaged=!0,W=se.length,M=0;M<W;M++)(b=this.model._visibleSeries[(ee=se[M]).seriesIndex])&&("series"!=(re=b.selectionSettings.mode)&&b.points[ee.pointIndex]||"series"==re)&&this.segmentSelection(ee.event,ee.legendData,ee.seriesIndex,ee.pointIndex,ee.data);for(this.chartUpdating=!1,$(document).find("#measureTex").remove(),(pe=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data={model:this.model},this._trigger("loaded",pe),M=0;M<this.model._axes.length;M++)"logarithmic"!=(fe=$.extend(!0,{},this.model._axes[M]))._valueType.toLowerCase()&&(this.model._axes[M].range=fe._initialRange)},remove_duplicates:function(n){for(var _,w,c=[],r=[],u=n.length,v=this.model._visibleSeries,a=0;a<u;a++)"series"==(_=(w=v[n[a].seriesIndex])?w.selectionSettings.mode:"")?(c.indexOf(n[a].seriesIndex)>-1||r.push(n[a]),c.push(n[a].seriesIndex)):"cluster"==_?(c.indexOf(n[a].pointIndex)>-1||r.push(n[a]),c.push(n[a].pointIndex)):(n[a]in c||r.push(n[a]),c.push(n[a]));return r},_setZoomProperties:function(){for(var n,c,r,u,_=0;_<this.model._axes.length;_++)u=(n=this.model._axes[_]).orientation.toLowerCase(),c=n.zoomFactor.toFixed(3),r=n.zoomPosition.toFixed(3),"horizontal"==u&&(c!=this._xZoomFactor()||r!=this._xZoomPosition())&&(this._xZoomFactor(n.zoomFactor.toFixed(3)),this._xZoomPosition(n.zoomPosition.toFixed(3))),"vertical"==u&&(c!=this._yZoomFactor()||r!=this._yZoomPosition())&&(this._yZoomFactor(n.zoomFactor.toFixed(3)),this._yZoomPosition(n.zoomPosition.toFixed(3)))},annotationRender:function(n,c){var I,R,V,F,A,z,N,U,J,Q,oe,ue,le,ne,he,se,ee,re,W,pe,M,fe,xe,O,H,Z,ae,de,r=this._id,u=!1,_=this.model.series[0],w=_.type.toLowerCase(),v=this.model.m_AreaBounds.X,a=this.model.m_AreaBounds.Y,s=this.model.m_AreaBounds.Width,h=this.model.m_AreaBounds.Height,t=this.model.margin.left,o=this.model.margin.top,l=$.inArray(_,this.model._visibleSeries),p=this.model.circularRadius[l],g=this.model.circleCenterX[l],b=this.model.circleCenterY[l],C=$(document);n=$.extend(!0,{},this.model.annotationsDefault,n),(I=0!=$("#annotation_group_"+r).length?$("#annotation_group_"+r):$("<div></div>").attr("id","annotation_group_"+r)).css({position:"absolute",left:"0px",top:"0px"}),"SCRIPT"==(V=$("#"+(R=n.content))).get(0).tagName&&(V=$($("#"+R)[0].innerHTML)),F=V.clone(),A="annotation_"+r+"_"+R+"_"+c,$(F).attr("id",A),(z=$(F)).css({position:"absolute","z-index":2e3});var _e=n.region.toLowerCase(),Se=n.coordinateUnit.toLowerCase(),be="string"==typeof n.x||"object"==typeof n.x?Date.parse(n.x):n.x,Ce=n.y,Pe=n.horizontalAlignment.toLowerCase(),ke=n.verticalAlignment.toLowerCase();if("pixels"==Se)"series"==_e?s+v+t>be+v&&h+a+o>Ce+a&&(N=be+v,U=Ce+a):"chart"==_e&&$(this.svgObject).width()>be&&$(this.svgObject).height()>Ce&&(N=be,U=Ce),z.css({left:N,top:U}),u=!0;else if("points"==Se)if(J={x:be,y:Ce},"polaraxes"==this.model.AreaType)ee=this.model._axes[1],be>=(se=this.model._axes[0]).visibleRange.min&&be<=se.visibleRange.max&&Ce>=ee.visibleRange.min&&Ce<=ee.visibleRange.max&&(Q=this.TransformToVisibleAnnotation(se,ee,be,Ce,this),z.css({left:Q.X,top:Q.Y}),u=!0);else if("pyramid"==w||"funnel"==w)for(ue=0;ue<_._visiblePoints.length;ue++)(_._visiblePoints[ue].xValue<=be&&be<_._visiblePoints.length||Date.parse(_._visiblePoints[ue].xValue)<=be&&be<_._visiblePoints.length)&&(z.css({left:(oe=_._visiblePoints[be]).xLocation+this.pyrX,top:oe.yLocation+this.pyrY-oe.height/2}),u=!0);else if("pie"==w||"doughnut"==w||"pieofpie"==w){for(ue=0;ue<_._visiblePoints.length;ue++)if(_._visiblePoints[ue].xValue<=be&&be<_._visiblePoints.length||Date.parse(_._visiblePoints[ue].xValue)<=be&&be<_._visiblePoints.length){oe=_._visiblePoints[be];var Le,je,Ne=be,Ae=new ej.seriesTypes[w],Oe=oe?oe.currentMidAngle:0;Ne!=_.explodeIndex&&!_.explodeAll||this.vmlRendering?(Le=g,je=b):(Le=g+Math.cos(Oe)*_.explodeOffset,je=b+Math.sin(Oe)*_.explodeOffset),le=Ae.getXCordinate(Le,p,Oe),ne=Ae.getYCordinate(je,p,Oe),z.css({left:(le+(le+Le)/2)/2,top:(ne+(ne+je)/2)/2}),u=!0}}else{var Fe=n.xAxisName,$e=n.yAxisName,He=this.model._axes.length;for(he=0;he<He;he++)this.model._axes[he].name==Fe&&(se=this.model._axes[he]),this.model._axes[he].name==$e&&(ee=this.model._axes[he]);se||(se=this.model._axes[0]),ee||(ee=this.model._axes[1]),re="string"==typeof se.range.min||"object"==typeof se.range.min?Date.parse(se.range.min):se.range.min,W="string"==typeof se.range.max||"object"==typeof se.range.max?Date.parse(se.range.max):se.range.max,re<=be&&W>=be&&(this.model.requireInvertedAxes?(J.x=J.y+(J.y=J.x,0),Q=this._getAnnotationPoint(J,ee,se),z.css({left:Q.X+v,top:Q.Y+se.y})):(Q=this._getAnnotationPoint(J,se,ee),z.css({left:Q.X+v,top:Q.Y+ee.y})),u=!0)}else{if(z.css("display","block").appendTo($(I)),$(I).appendTo("#chartContainer_"+r),pe=z.outerWidth(),M=z.outerHeight(),"chart"==_e){switch(Pe){case"middle":N=$(this.svgObject).width()/2-pe/2;break;case"left":N=0;break;case"right":N=$(this.svgObject).width()-pe}switch(ke){case"middle":U=$(this.svgObject).height()/2-M/2;break;case"top":U=0;break;case"bottom":U=$(this.svgObject).height()-M}}else if("pie"==w||"doughnut"==w||"pieofpie"==w){switch(N=g,U=b,Pe){case"middle":N=g-pe/2;break;case"left":N=g-p;break;case"right":N=g+p-pe}switch(ke){case"middle":U=b-M/2;break;case"top":U=b-p;break;case"bottom":U=b+p}}else{switch(Pe){case"middle":N=v+s/2-pe/2;break;case"left":N=v;break;case"right":N=v+s-pe}switch(ke){case"middle":U=a+h/2-M/2;break;case"top":U=a;break;case"bottom":U=a+h-M}}("pyramid"==w||"funnel"==w)&&(N-=t),z.css({left:N,top:U})}if(N=parseFloat(z.css("left")),U=parseFloat(z.css("top")),"none"!=Se&&u){switch(z.css("display","block").appendTo($(I)),$(I).appendTo("#chartContainer_"+r),pe=z.outerWidth(),M=z.outerHeight(),Pe){case"middle":N-=pe/2;break;case"left":N-=pe}switch(ke){case"middle":U-=M/2;break;case"top":U-=M}}N=N+(fe=n.margin).left-fe.right,U=U+fe.top-fe.bottom,(xe=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data={content:z.html(),location:{x:N,y:U},opacity:n.opacity,angle:n.angle},this._trigger("annotationRendering",xe),z.html(xe.data.content),z.css({left:xe.data.location.x,top:xe.data.location.y,opacity:xe.data.opacity}),(O=xe.data.angle)&&z.css({"-ms-transform":"rotate("+O+"deg)","-webkit-transform":"rotate("+O+"deg)","-moz-transform":"rotate("+O+"deg)","-o-transform":"rotate("+O+"deg)","-transform":"rotate("+O+"deg)"});var Be=z.attr("id"),Ye=ae=Z=H=0,dt=$("#"+this._id).width(),Ke=$("#"+this._id).height();!u||0!=O||"series"!=_e&&"points"!=Se?u&&0==O&&"chart"==_e?(dt<N+pe&&(H=pe-(N+pe-dt)),N<0&&(Z=0==(Z=pe+N)?pe:Z),Ke<U+M&&(ae=M-(U+M-Ke)),U<0&&(Ye=0==(Ye=M+U)?M:Ye),H=0==H?pe:H,ae=0==ae?M:ae,document.getElementById(Be).style.clip="rect("+Ye.toString()+"px,"+H.toString()+"px,"+ae.toString()+"px,"+Z+"px)"):!u||90!=O||"series"!=_e&&"points"!=Se?u&&90==O&&"chart"==_e&&(N=(de=document.getElementById(Be).getBoundingClientRect()).left-$(this.svgObject).offset().left,Ke<(U=de.top-$(this.svgObject).offset().top)+pe&&(H=pe-(U+pe-Ke)),N<0&&(ae=0==(ae=M-(0-N))?M:ae),U<0&&(Z=0==(Z=0-U)?pe:Z),dt<N+M&&(Ye=N+M-dt),H=0==H?pe:H,ae=0==ae?M:ae,document.getElementById(Be).style.clip="rect("+Ye.toString()+"px,"+H.toString()+"px,"+ae.toString()+"px,"+Z+"px)"):(N=(de=document.getElementById(Be).getBoundingClientRect()).left-$(this.svgObject).offset().left+C.scrollLeft(),h+a<(U=de.top-$(this.svgObject).offset().top+C.scrollTop())+pe&&(H=pe-(U+pe-(h+a))),N<v&&(ae=M-(v-N)),U<a&&(Z=a-U),s+v<N+M&&(Ye=N+M-(s+v)),H=0==H?pe:H,ae=0==ae?M:ae,document.getElementById(Be).style.clip="rect("+Ye.toString()+"px,"+H.toString()+"px,"+ae.toString()+"px,"+Z+"px)"):(s+v<N+pe&&(H=pe-(N+pe-(s+v))),N<v&&(Z=v-N),h+a<U+M&&(ae=M-(U+M-(h+a))),U<a&&(Ye=a-U),H=0==H?pe:H,ae=0==ae?M:ae,document.getElementById(Be).style.clip="rect("+Ye.toString()+"px,"+H.toString()+"px,"+ae.toString()+"px,"+Z+"px)")},TransformToVisibleAnnotation:function(n,c,r,u,_){r="logarithmic"==n._valueType&&r>0?Math.log(r,n.logBase):r,u="logarithmic"==n._valueType&&u>0?Math.log(u,c.logBase):u;var w=_.model.Radius*ej.EjSvgRender.utils._valueToCoefficient(c,u,this),v=ej.EjSvgRender.utils._valueToVector(n,r);return{X:_.model.centerX+w*v.X,Y:_.model.centerY+w*v.Y}},_getAnnotationPoint:function(n,c,r){var _=n.x,w=n.y,v="logarithmic"==c._valueType?ej.EjSvgRender.utils._logBase(0==_?1:_,c.logBase):_,a="logarithmic"==r._valueType?ej.EjSvgRender.utils._logBase(0==w?1:w,c.logBase):w;return v=ej.EjSvgRender.utils._getPointXY(v,c.visibleRange,c.isInversed)*c.width,a=(1-ej.EjSvgRender.utils._getPointXY(a,r.visibleRange,r.isInversed))*r.height,n.location={X:v,Y:a},n.location},indicatorRender:function(){var c,r,u,_,w,v,a,s,h;for($(this.svgObject).find("#"+this.svgObject.id+"_IndicatorCollection").length>0&&$(this.svgObject).find("#"+this.svgObject.id+"_IndicatorCollection").remove(),this.gIndicatorEle=this.svgRenderer.createGroup({id:this.svgObject.id+"_IndicatorCollection","clip-path":"url(#"+this.svgObject.id+"_ChartAreaClipRect)"}),c=0;c<this.model.indicators.length&&this.model.indicators[c].visible&&this.model.indicators[c]._points.length>0;c++){for(_=(r=this.model.indicators[c]).animationDuration,w=0;w<this.model._axes.length;w++)(v=this.model._axes[w]).name&&"horizontal"==v.orientation.toLowerCase()&&v.name.toLowerCase()==r.xAxisName.toLowerCase()?r.xAxis=v:v.name&&"vertical"==v.orientation.toLowerCase()&&v.name.toLowerCase()==r.yAxisName.toLowerCase()&&(r.yAxis=v);a=r.type.toLowerCase(),u=new ej.indicatorTypes[a],this.model.enableCanvasRendering?(this.svgRenderer.ctx.save(),this.svgRenderer.ctx.beginPath(),this.svgRenderer.ctx.rect(this.model.m_AreaBounds.X,r.yAxis.y,r.xAxis.width,r.yAxis.height),this.svgRenderer.ctx.clip(),u.draw(r,this),this.svgRenderer.ctx.restore()):u.draw(r,this),(s=u.gIndicatorGroupEle)&&ej.EjSvgRender.utils._drawAxesBoundsClipPath(s,r,this),this.vmlRendering||this.model.enableCanvasRendering||r.enableAnimation&&(!r._animatedSeries||r.type!=r._previousType)&&(this.svgRenderer.append(this.gIndicatorEle,this.svgObject),h=$(this.gIndicatorEle).find("#"+this.svgObject.id+"_indicatorGroup_"+c+"_ClipRect").children(),ej.EjSeriesRender.prototype._doLineAnimation(this,h,_),this.model.AnimationComplete=!0,r._animatedSeries=!0,r._previousType=r.type),this.svgRenderer.append(this.gIndicatorEle,this.svgObject)}},doAnimation:function(n){var C,T,D,L,I,R,F,A,z,N,J,Q,oe,ue,le,ne,he,ee,re,W,c=this,r=c.model,u=r.requireInvertedAxes,_=n.type.toLowerCase(),w=$.inArray(n,r._visibleSeries),v=this.svgObject.id+"_SeriesGroup_"+w,a=$(c.gSymbolGroupEle)[w].childNodes,s=a.length,h=$(c.gDataLabelEle)[w].childNodes,t=h.length,o=$(c.gConnectorEle)[w].childNodes,l=o.length,p=null==$(c.gErrorBarGroupEle)[w]?void 0:$(c.gErrorBarGroupEle)[w].childNodes,g=ej.util.isNullOrUndefined(p)?0:p.length,b=n._animationType,se=ej.EjSeriesRender.prototype;switch(c.gSeriesGroupEle=$("#"+v)[0],he=c.model.series[w].animationDuration,ej.util.isNullOrUndefined(he)?(oe=2e3,ue=200,le=500,ne=1e3):ue=(oe=le=ne=parseFloat(he))/10,b){case"rect":if(A=(F=$(this.gSeriesEle).find("#"+v).children("rect")).length,z=$(c.gSeriesEle).find("#"+v+"_ClipRect").children(),"boxandwhisker"==_){for(D=$(this.gSeriesEle).find("#"+v).children("line"),T=oe/(L=$(this.gSeriesEle).find("#"+v).children("path")).length,ee=0;ee<D.length;ee++)se._doLineSymbol(D[ee],T,ee,n,u,c,ue),se._doLineSymbol(F[ee],T,ee,n,u,c,ue);for(re=0;re<L.length;re++)se._doLineSymbol(L[re],T,re,n,u,c,ue)}else if(!_.indexOf("stacking")>-1&&"smooth"==n.animationType.toLowerCase())se.animateRect(z,n,u,c,ne);else for(W=0;W<A;W++)_.indexOf("stacking")>-1?se.animateStackingRect(F[W],n,u,c,ne):se.animateRect(F[W],n,u,c,ne);I=R=C=oe/4;break;case"path":z=$(c.gSeriesEle).find("#"+v+"_ClipRect").children(),se._doLineAnimation(c,z,oe),I=oe/s,R=oe/t,C=oe/g;break;case"scatter":for(W=0;W<s;W++)J=Math.floor(20*Math.random()+0),Q=parseInt(50*J),se.animateSymbol(a[W],Q,n,u,c,le);break;case"bubble":for(F=$(this.gSeriesGroupEle).children().not("defs"),Q=0,W=0;W<F.length;W++)se.animateSymbol(F[W],Q,n,u,c,le);for(W=0;W<s;W++)se.animateSymbol(a[W],Q,n,u,c,le);for(W=0;W<t;W++)se.animateSymbol(h[W],Q,n,u,c,le);for(W=0;W<l;W++)se.animateSymbol(o[W],Q,n,u,c,le);break;case"hilo":for(N=oe/(A=(F=$(this.gSeriesGroupEle).children().not("defs")).length),W=0;W<A;W++)se._doLineSymbol(F[W],N,W,n,u,c,ue);R=oe/t;break;case"cylinder":z=$(c.gSeriesEle).find("#"+v+"_ClipRect").children(),se.animateCylinder(c,n,u,z,oe),I=R=C=oe/4}if("bubble"!=b){for(re=0;re<s;re++)se._doLineSymbol(a[re],I,"rect"==b||"stackingRect"==b?2:re,n,u,c,ue);for(re=0;re<t;re++)se._doLineSymbol(h[re],R,"rect"==b||"stackingRect"==b?2:re,n,u,c,ue);for(N=oe/l,re=0;re<l;re++)se._doLineSymbol(o[re],N,"rect"==b||"stackingRect"==b?2:re,n,u,c,ue)}if("visible"==n.errorBar.visibility)for(re=0;re<g;re++)se._doLineSymbol(p[re],C,"rect"==b||"stackingRect"==b?2:re,n,u,c,ue)},_animationElements:function(n,c,r){var v,a,u=this,_=u.model.series[r].animationDuration,w=ej.util.isNullOrUndefined(_)?2e3:parseFloat(_);if(n._previousType=ej.util.isNullOrUndefined(n._previousType)?n.type:n._previousType,!n.enableAnimation||this.vmlRendering||this.model.enableCanvasRendering||n._animatedSeries&&n.type==n._previousType||(ej.EjSeriesRender.prototype.doCircularAnimation(this,n,c,r,w),n._previousType=n.type,n._animatedSeries=!u.isSplitted),u.isSplitted=!1,this.drawAccDisplayText(c,n,r),n.enableAnimation&&n._visiblePoints.length>0&&n.AnimationComplete&&!this.vmlRendering&&!this.model.enableCanvasRendering){if(u.svgRenderer._setAttr($(u.gSeriesEle).find("#"+u.gSeriesTextEle[r].id),{visibility:"visible"}),u.gSymbolGroupEle&&u.svgRenderer._setAttr($(u.gSeriesEle).find("#"+u.gSymbolGroupEle[r].id),{visibility:"visible"}),n.marker.dataLabel.template)for(v=$(u.element[0].childNodes[0].childNodes),a=0;a<v.length;a++)$(v[a]).css("display","block");u.gConnectorEle&&u.svgRenderer._setAttr($(u.gSeriesEle).find("#"+u.gConnectorEle[r].id),{visibility:"visible"}),u.gDataLabelEle&&u.svgRenderer._setAttr($(u.gSeriesEle).find("#"+u.gDataLabelEle[r].id),{visibility:"visible"})}},_appendConnectorElements:function(n){var r=ej.DataManager(this.model._visibleSeries,ej.Query().sortBy("_zOrder")).executeLocal()[n];r.type.toLowerCase(),"visible"==r.visibility&&!this.model.enable3D&&r.connectorLine&&(r.connectorLines||"none"==this.model.AreaType)&&(this.svgRenderer.append(this.gConnectorEle[n],this.gSeriesEle),r.connectorLines=!1)},_appendDataLabelElement:function(n){var c,r;c=this.model._visibleSeries[n],r=ej.util.isNullOrUndefined(c.zOrder)?r:c.zOrder,"visible"!=c.visibility||this.model.enable3D||(this.svgRenderer.append(this.gSymbolGroupEle[n],this.gSeriesEle),this.model.enable3D||this.model.enableCanvasRendering||(this.gDataLabelEle[n].childNodes.length>0&&this.svgRenderer.append(this.gDataLabelEle[n],this.gSeriesEle),this.gSeriesTextEle[n].childNodes.length>0&&this.svgRenderer.append(this.gSeriesTextEle[n],this.gSeriesEle))),this.vmlRendering||"visible"!=c.visibility||this.model.enableCanvasRendering||this.model.enable3D||(this.svgRenderer.append(this.gSeriesEle,this.svgObject),this.svgRenderer.append(this.svgObject,this.element))},_accSeriesDraw:function(n,c,r){var v,a,_=ej.DataManager(this.model._visibleSeries,ej.Query().sortBy("_zOrder")).executeLocal(),w=$.inArray(_[n],this.model._visibleSeries);this.model._visibleSeries[w]=_[n]=$.extend(!0,c,_[n]),(v=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data={series:c},this._trigger("seriesRendering",v),(a=new(ej.seriesTypes[r.toLowerCase()])).draw(this,c)||(this.model.minhightwidth=!0,this._animationElements(c,a,w))},_splitSeries:function(n){var r,u,_,c=[];c[0]=$.extend(!0,[],n._visiblePoints),c[1]=[];for(var C,a=n,s=parseInt(a.splitValue),h=a.splitMode.toLowerCase(),t=c[0].length,o=0,l=0,p=[],w=0,g=0;w!=t;)g+=c[0][w].y,w++;if("position"==h){for(w=t-1;w>=0&&l!=s;w--)o+=c[0][w].y,c[1][l]=c[0][w],l++,c[0].splice(w,1);c[1].reverse()}else if("value"==h||"percentage"==h)for(u=0;u<c[0].length;u++)("value"==h?c[0][u].y:Math.round(c[0][u].y/g*100))<s&&(o+=c[0][u].y,c[1][l]=c[0][u],l++,c[0].splice(u,1),u=-1);else if("indexes"==h){for((r=(r=JSON.parse("["+a.splitValue+"]")).filter(function(T,D,L){return L.indexOf(T)==D})).sort(),u=0;u<c[0].length;u++)for(_=0;_<r.length;_++)u==r[_]&&(o+=c[0][u].y,c[1][l]=c[0][u],l++);for(w=0;w<r.length;w++)c[0].splice(r[w]-w,1)}c[1].length>0&&(p[0]=o,c[0].unshift({_visibility:"visible",visible:!0,text:"Others",x:"string"==(C=a._xAxisValueType)?"Others":o,xValue:"string"==C?a.points.length:o,y:o,YValues:p,fill:this.model.colors[(a.points.length+1)%this.model.colors.length],isFill:!1,actualIndex:a.points.length})),this.isSplitted=!0,a.pieCollections=c},_calculateGapWidth:function(n){var u,_,w,a,s,h,t,c=0,r=0,v=.1*Math.min($(this.svgObject).width(),$(this.svgObject).width());for(ej.EjSeriesRender.prototype._calculateVisiblePoints(n),this._splitSeries(n),this.chartObj=this,a=0;a<2;a++)u=0==a?n.pieCoefficient:n.pieOfPieCoefficient,n._visiblePoints=n.pieCollections[a],n.collectionIndex=a,w=n.gapWidth,h=(s=ej.EjSeriesRender.prototype.calculatingSliceAngle(n,this.chartObj)).width<v?.25*u*v:.25*u*Math.min(s.width,s.height),_=this.model.circleCenterX[a],0==a?c=_+h:r=_-h;return this.model.pieGapWidth=(t=r-c-w)>0?t:0,n.pieCollections[0].length>0&&n.pieCollections[1].length>0&&n.connectorLine.width>0&&this.drawPieofPieConnectors(s,n),n},seriesRender:function(n,c){var r,u;if(this.model.allPoints=[],this.model.markerRegion=[],this.model.startX=[],this.model.startY=[],this.model.centerCount=0,this.gTrendlinesGroupEle=null,this.model._seriesIndex=null,this.model._previousSeries=null,!n)for(n={_crossAxisOverlap:!1,axes:{}},p=0;p<this.model._axes.length;p++)n.axes[this.model._axes[p].name]={};$(this.svgObject).find("#"+this.svgObject.id+"_SeriesCollection").length>0&&$(this.svgObject).find("#"+this.svgObject.id+"_SeriesCollection").remove();var p,g,b,C,T,D,L,I,R,V,F,A,z,Q,oe,ne,he,ee,re,W,pe,M,fe,xe,O,B,H,Z,te,ae,de,_e,Se,be,Ce,Pe,ke,Le,je,Ae,Oe,Fe,$e,He,_=this,w=this.svgObject,v={id:w.id+"_SeriesCollection","clip-path":"url(#"+w.id+"_ChartAreaClipRect)"},a=this.model.enable3D,s=this.model.AreaType,h=this.model.enableCanvasRendering,t=this.model._axes.length,o=ej.DataManager(this.model._visibleSeries,ej.Query().sortBy("_zOrder")).executeLocal(),l=o.length,N=h,U=this.svgRenderer,J=this.model.m_AreaBounds,le=J.X,Be=this.zoomed;for(this.gSeriesEle=U.createGroup(v),p=0;p<l;p++)if("visible"==o[p].visibility)for(this.model.series[p]._enableSmartLabels=ej.util.isNullOrUndefined(this.model.series[p].enableSmartLabels)?"none"==s:this.model.series[p].enableSmartLabels,ej.util.isNullOrUndefined(o[p].xAxis)||(o[p].xAxis=null,o[p].yAxis=null),g=0;g<t;g++)T=p,C=(b=this.model._axes[g]).orientation.toLowerCase(),b.name&&"horizontal"==C&&b.name.toLowerCase()==o[p]._xAxisName.toLowerCase()?o[p].xAxis=b:b.name&&"vertical"==C&&b.name.toLowerCase()==o[p]._yAxisName.toLowerCase()&&(o[p].yAxis=b),this.model.requireInvertedAxes&&(b.name&&"vertical"==C&&b.name.toLowerCase()==o[p]._xAxisName.toLowerCase()?o[p].xAxis=b:b.name&&"horizontal"==C&&b.name.toLowerCase()==o[p]._yAxisName.toLowerCase()&&(o[p].yAxis=b));if(l>0)if(Le=(V=o[0]).type.toLowerCase(),Oe=V.visibility.toLowerCase(),"pieofpie"!=Le||"visible"!=Oe||a)for(Ae=l;Ae>0&&"none"==s;Ae--)T=Ae-1,L=(D=o[Ae-1]).visibility.toLowerCase(),I=D.type.toLowerCase(),"visible"!==L||a||"pie"!=I&&"doughnut"!=I?"none"!=s||"visible"!==L||h||ej.Ej3DChart.prototype.renderSeries(this,D,c):this._accSeriesDraw(T,D,I);else{for(this.model._isPieOfPie=!0,V=this._calculateGapWidth(V),r=0;r<2;r++)V.collectionIndex=r,V._visiblePoints=V.pieCollections[r],this._accSeriesDraw(0,V,Le);V._visiblePoints=$.merge(V.pieCollections[0],V.pieCollections[1]),this.model.pieGapWidth=null,V.collectionIndex=0}for(u=0;u<l;u++)if(T=u,L=(D=o[u]).visibility.toLowerCase(),I=D.type.toLowerCase(),"none"!=s||"visible"!==L||a||0!==T||"pyramid"!=I&&"funnel"!=I){if("visible"!==L||a||"none"==s?a||"none"==s?"cartesianaxes"!=s||"visible"!==L||h||ej.Ej3DChart.prototype.renderSeries(this,D,n,c):U.append(w,this.element):(this.model._seriesIndex=ej.util.isNullOrUndefined(this.model._seriesIndex)?0:this.model._seriesIndex+1,this.renderSeries(D,n,c),"cartesianaxes"==s&&"boxandwhisker"!=this.model.series[u].type&&this._renderTrendline(_,D)),!ej.util.isNullOrUndefined(D.xAxis)&&"datetime"==D.xAxis._valueType)for(p=0;p<D.points.length;p++)!(D.points[p].xValue instanceof Date)&&(D.points[p].xValue=new Date(D.points[p].xValue))}else this._accSeriesDraw(T,D,I);if("none"!=s){for(p=0;p<l;p++)if(A=(V=this.model.series[p])._visiblePoints,V._enableSmartLabels&&"cartesianaxes"==this.model.AreaType)for("column"==(z=V.type.toLowerCase())||"stackingcolumn"==z||"bar"==z||"stackingbar"==z||"waterfall"==z||"stackingbar100"==z||"stackingcolumn100"==z||"rangecolumn"==z?this.cartesianColumnSmartLabels(V,A,p):"boxandwhisker"!=z&&this.cartesianSmartLabels(V,A,p),g=0;g<A.length;g++)(F=A[g]).hide=!ej.util.isNullOrUndefined(F.hide)&&F.hide,Q=N?F.xPos-this.canvasX:F.xPos,oe=N?F.yPos-this.canvasY:F.yPos,Fe=V.xAxis.visibleRange,$e=V.yAxis.visibleRange,He=-1!=I.indexOf("100")?parseFloat(F.percentage):F.y,(Q-F.width/2<0||Q+F.width/2>J.Width||oe+F.height/2>J.Height||oe-F.height/2<0||Be&&F.xValue<=Fe.min||F.xValue>=Fe.max||He<=$e.min||He>=$e.max)&&(F.hide=!(V.marker.dataLabel.showEdgeLabels&&!F.hide));for(p=0;p<l;p++)if(je=!(V=o[p])._dataLabels||V.marker.dataLabel.visible||V._dataLabels>0,"visible"==V.visibility&&je)for(ee=V._visiblePoints.length,he=0;he<ee;he++)F=V._visiblePoints[he],(V.marker.dataLabel.visible||F.marker&&F.marker.dataLabel&&F.marker.dataLabel.visible)&&(!(F.connectorFlag||F.newConnectorFlag)||F.hide||""==F.drawText||"visible"!=V.visibility||ej.util.isNullOrUndefined(F.textOptions)||(V.connectorLine=!0,h?(U.ctx.save(),_.model.requireInvertedAxes?U.ctx.rect(le+V.yAxis.plotOffset,V.xAxis.y,V.yAxis.width,V.xAxis.height):U.ctx.rect(le,V.yAxis.y,V.xAxis.width,V.yAxis.height),U.ctx.clip(),this.drawConnectorLines(p,he,F),U.ctx.restore()):V._enableSmartLabels&&this.drawConnectorLines(p,he,F)),F.newConnectorFlag=!1);for(p=0;p<l;p++)if(I=(V=o[p]).type.toLowerCase(),je=!V._dataLabels||V.marker.dataLabel.visible||V._dataLabels>0,"visible"==V.visibility&&je&&!this.model.enable3D)for(ee=V._visiblePoints.length,he=0;he<ee;he++)if(F=V._visiblePoints[he],(V.marker.dataLabel.visible||F.marker&&F.marker.dataLabel&&F.marker.dataLabel.visible)&&!F.hide&&!F.dataLabeltemplate&&"visible"==V.visibility&&!ej.util.isNullOrUndefined(F.textOptions)&&!F.hide){if(ej.util.isNullOrUndefined(F.textOptions.angle)||(F.textOptions.transform="rotate("+F.textOptions.angle+","+F.xPos+","+F.yPos+")"),h){if(F.textOptions.labelRotation=F.textOptions.angle,U.ctx.save(),_.model.requireInvertedAxes?_.svgRenderer.ctx.rect(le+V.yAxis.plotOffset,V.xAxis.y,V.yAxis.width,V.xAxis.height):U.ctx.rect(le,V.yAxis.y,V.xAxis.width,V.yAxis.height),_.svgRenderer.ctx.save(),_.svgRenderer.ctx.clip(),"boxandwhisker"==I.toLowerCase())for(1==V.showMedian&&""!=F.textOptionsBoxValues&&(ej.util.isNullOrUndefined(F.textOptionsBoxValues[0].angle)||(F.textOptionsBoxValues[0].labelRotation=F.textOptionsBoxValues[0].angle,F.textOptionsBoxValues[0].transform="rotate("+F.textOptionsBoxValues[0].angle+","+F.textOptionsBoxValues[0].xPos+","+F.textOptionsBoxValues[0].yPos+")"),ej.EjSeriesRender.prototype.dataLabelSymbol(p,V,he,F.textOptionsBoxValues[0].xPos,F.textOptionsBoxValues[0].yPos,F.textOptionsBoxValues[0].width,F.textOptionsBoxValues[0].height,F.textOptionsBoxValues[0].symbolName,this),delete F.textOptionsBoxValues[0].angle,this.svgRenderer.drawText(F.textOptionsBoxValues[0],F.textOptionsBoxValues[0].drawText,this.gSeriesTextEle[p])),ne=1;ne<F.textOptionsBoxValues.length;ne++)ej.util.isNullOrUndefined(F.textOptionsBoxValues[ne].angle)||(F.textOptionsBoxValues[ne].labelRotation=F.textOptionsBoxValues[ne].angle,F.textOptionsBoxValues[ne].transform="rotate("+F.textOptionsBoxValues[ne].angle+","+F.textOptionsBoxValues[ne].xPos+","+F.textOptionsBoxValues[ne].yPos+")"),ej.EjSeriesRender.prototype.dataLabelSymbol(p,V,he,F.textOptionsBoxValues[ne].xPos,F.textOptionsBoxValues[ne].yPos,F.textOptionsBoxValues[ne].width,F.textOptionsBoxValues[ne].height,F.textOptionsBoxValues[ne].symbolName,this),delete F.textOptionsBoxValues[ne].angle,this.svgRenderer.drawText(F.textOptionsBoxValues[ne],F.textOptionsBoxValues[ne].drawText,this.gSeriesTextEle[p]);else ej.EjSeriesRender.prototype.dataLabelSymbol(p,V,he,F.xPos,F.yPos,F.width,F.height,F.symbolName,this),delete F.textOptions.angle,this.svgRenderer.drawText(F.textOptions,F.drawText,this.gSeriesTextEle);_.svgRenderer.ctx.restore()}else ej.EjSeriesRender.prototype.dataLabelSymbol(p,V,he,F.xPos,F.yPos,F.width,F.height,F.symbolName,this,this.gDataLabelEle[p]),delete F.textOptions.angle,U.drawText(F.textOptions,F.drawText,this.gSeriesTextEle[p]);if("rangecolumn"==I||"rangearea"==I||"splinerangearea"==I)F.textOptionsLow.transform="rotate("+F.textOptionsLow.angle+","+F.xPosLow+","+F.yPosLow+")",h?(F.textOptionsLow.labelRotation=F.textOptionsLow.angle,U.ctx.save(),_.model.requireInvertedAxes?U.ctx.rect(le+V.yAxis.plotOffset,V.xAxis.y,V.yAxis.width,V.xAxis.height):U.ctx.rect(le,V.yAxis.y,V.xAxis.width,V.yAxis.height),U.ctx.clip(),ej.EjSeriesRender.prototype.dataLabelSymbol(p,V,he,F.xPosLow,F.yPosLow,F.widthLow,F.heightLow,F.symbolName,this),delete F.textOptionsLow.angle,U.drawText(F.textOptionsLow,F.drawTextLow,this.gSeriesTextEle),U.ctx.restore()):(ej.EjSeriesRender.prototype.dataLabelSymbol(p,V,he,F.xPosLow,F.yPosLow,F.widthLow,F.heightLow,F.symbolName,this,this.gDataLabelEle[p]),delete F.textOptionsLow.angle,U.drawText(F.textOptionsLow,F.drawTextLow,this.gSeriesTextEle[p]));else if("boxandwhisker"==I.toLowerCase())for(1==V.showMedian&&""!=F.textOptionsBoxValues&&(ej.util.isNullOrUndefined(F.textOptionsBoxValues[0].angle)||(F.textOptionsBoxValues[0].transform="rotate("+F.textOptionsBoxValues[0].angle+","+F.textOptionsBoxValues[0].xPos+","+F.textOptionsBoxValues[0].yPos+")"),ej.EjSeriesRender.prototype.dataLabelSymbol(p,V,he,F.textOptionsBoxValues[0].xPos,F.textOptionsBoxValues[0].yPos,F.textOptionsBoxValues[0].width,F.textOptionsBoxValues[0].height,F.textOptionsBoxValues[0].symbolName,this),delete F.textOptionsBoxValues[0].angle,this.svgRenderer.drawText(F.textOptionsBoxValues[0],F.textOptionsBoxValues[0].drawText,this.gSeriesTextEle[p])),ne=1;ne<F.textOptionsBoxValues.length;ne++)ej.util.isNullOrUndefined(F.textOptionsBoxValues[ne].angle)||(F.textOptionsBoxValues[ne].transform="rotate("+F.textOptionsBoxValues[ne].angle+","+F.textOptionsBoxValues[ne].xPos+","+F.textOptionsBoxValues[ne].yPos+")"),ej.EjSeriesRender.prototype.dataLabelSymbol(p,V,he,F.textOptionsBoxValues[ne].xPos,F.textOptionsBoxValues[ne].yPos,F.textOptionsBoxValues[ne].width,F.textOptionsBoxValues[ne].height,F.textOptionsBoxValues[ne].symbolName,this),delete F.textOptionsBoxValues[ne].angle,this.svgRenderer.drawText(F.textOptionsBoxValues[ne],F.textOptionsBoxValues[ne].drawText,this.gSeriesTextEle[p])}if("none"!=s){for(p=0;p<l;p++)this._appendConnectorElements(p);for(W=this.model._visibleSeries.length,p=0;p<W;p++)this._appendDataLabelElement(p)}}else{for(re=l-1;re>=0;re--)("pie"==(I=(V=this.model._visibleSeries[re]).type.toLowerCase())||"doughnut"==I)&&this.model.minhightwidth&&this._appendConnectorElements(re);if((W=this.model._visibleSeries.length)>0&&"pieofpie"==I)this._appendDataLabelElement(0);else for(re=l-1;re>=0;re--)("pie"==(I=(V=this.model._visibleSeries[re]).type.toLowerCase())||"doughnut"==I)&&this.model.minhightwidth&&this._appendDataLabelElement(re)}for(W=this.model._visibleSeries.length,pe=0;pe<W;pe++)B=(ae=this.model._visibleSeries[pe]).drawType,I=ae.type.toLowerCase(),ae._previousType=ej.util.isNullOrUndefined(ae._previousType)?ae.type:ae._previousType,this.vmlRendering||"visible"!=ae.visibility||h||a||"none"==s||(this.renderer.append(this.gSeriesEle,this.svgObject),this.renderer.append(this.svgObject,this.element),(M=new(ej.seriesTypes[ae.type.toLowerCase()])).chartObj=_,M.gSeriesGroupEle="scatter"==B?$("#"+this.svgObject.id+"_symbolGroup_"+pe)[0]:$("#"+this.svgObject.id+"_SeriesGroup_"+pe)[0],ae.enableAnimation&&(!ae._animatedSeries||ae._previousType!=ae.type)&&"none"!=this.model.AreaType&&(ae._animatedSeries=!0,ae._previousType=ae.type,fe=$("#template_group_"+this._id),xe=ae.marker.dataLabel,0!=fe.children().length&&xe.visible&&xe.template&&M.animateLabelTemplate(ae),"polar"==I||"radar"==I?ej.ejRadarSeries.prototype.doAnimation(ae,M):this.doAnimation(ae)));if(W=(o=this.model._visibleSeries).length,!h&&!a)for(r=0;r<W;r++)"visible"==o[r].visibility.toLowerCase()&&this.gTrendlinesGroupEle&&this.gTrendlinesGroupEle[r]&&0!=this.gTrendlinesGroupEle[r].childElementCount&&this.renderer.append(this.gTrendlinesGroupEle[r],w);for(p=0;p<W;p++)for(H=(V=this.model._visibleSeries[p]).trendlines,de=V.trendlines.length,_e=V.animationDuration,g=0;g<de;g++)(Z=H[g]).visibility&&(te=Z.type.toLowerCase(),ae=new ej.trendlineTypes[te],"visible"===Z.visibility.toLowerCase()&&Z.points&&Z.points.length>1&&V.enableAnimation&&!this.vmlRendering&&(!V._animatedTrendline||Z._previousType!=Z.type)&&(Z._previousType=Z.type,O=$(this.svgObject).find("#"+this.svgObject.id+"_TrendGroup_"+p+"_"+g+"_ClipRect").children(),ej.EjSeriesRender.prototype._doLineAnimation(this,O,_e),V._animatedTrendline=de-1==p));for(W=this.model._visibleSeries.length,Ce=w.id,p=0;p<W;p++)Se=$("#"+Ce+"_SeriesGroup_"+p),Pe=$("#"+Ce+"_SeriesGroup_waterfallLine_"+p),be=$("#"+Ce+"_symbolGroup_"+p),Se.length>0&&be.length>0&&be.insertAfter(Se),Se.length>0&&Pe.length>0&&Pe.insertAfter(Se);this.model.AnimationComplete=!0,(R=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data={series:ae},this._trigger("animationComplete",R),h&&(U.append(w,this.element),this.panning&&$("#"+this._id+"_canvas").css({cursor:"pointer"})),a&&!h&&(U.append(this.chart3D,w),ke={Width:$(w).width(),Height:$(w).height()},this.graphics.prepareView(this.model.perspectiveAngle,this.model.depth,this.model.rotation,this.model.tilt,ke,this),this.graphics.view(w,this),U.append(w,this.element)),U.vmlNamespace&&U.append(this.gSeriesEle,w),"polaraxes"==s&&U.append(this.gPolarAxisEle,w),$(w).find("#"+w.id+"_StriplineOver").length>0&&$(w).find("#"+w.id+"_StriplineOver").detach().appendTo(w),this._renderScrollbar(),this.legendRender.drawLegend(n),_.model.initSeriesRender=!0},_calculateZoomValue:function(n,c,r,u){var w,v,a,s,h,t=r.scrollbarSettings.range;"datetime"==r._valueType.toLowerCase()?(s=Date.parse(ej.util.isNullOrUndefined(t.min)?n:new Date(t.min)),h=Date.parse(ej.util.isNullOrUndefined(t.max)?c:new Date(t.max))):(s=parseFloat(ej.util.isNullOrUndefined(t.min)?n:t.min),h=parseFloat(ej.util.isNullOrUndefined(t.max)?c:t.max)),s=Math.min(s,n),w=(h=Math.max(h,c))-s,u.isRTL?(v=(h-c)/w,a=(c-n)/w):(v=(n-s)/w,a=(c-n)/w),u.scrollRange={min:s,max:h,delta:h-s},u._previousStart=n,u._previousEnd=c,u.zoomPosition=v,u.zoomFactor=a},_renderScrollbar:function(){var _,w,v,a,s,h,t,o,l,b,T,L,I,R,F,A,z,N,U,J,n=this.model,c=n.scrollerSize,r=$("#"+this._id).offset(),u=$(this.svgObject).offset().left-r.left,p=n._axes,g=p.length,C=n.zooming.enableScrollbar,D=n.AreaType;for(n.scrollObj=n.scrollObj?n.scrollObj:[],U=0;U<g;U++)z=(v=p[U])._valueType,T=(L=v.scrollbarSettings).range,b=v.isInversed,N="cartesianaxes"==D&&!n.enable3D,l=v._opposed,I=L.pointsLength,A=v.orientation.toLowerCase(),t=v.zoomFactor,R=$("#scrollbar_"+this.axisScroll[0].id+U).length,o=v.zoomPosition,N&&(v._isScroll&&n.isLazyZooming||(t<1||o>0)&&C)?(w=v.x+("vertical"==A?-c+(l?c:0):0)+(u<=0?0:u),a=(_=v.y+("horizontal"==A?v.height+(l?-c:0):0))-("horizontal"==A?0:v.plotOffset),s=v.plotOffset+("horizontal"==A?v.width:v.height),F=n.scrollObj,h=null!=T.min||null!=T.max?!!F[U]&&(F[U].actualRange.min!=T.min||F[U].actualRange.max!=T.max):!!F[U]&&F[U].actualRange!=L.pointsLength,this.scrollDraw=F[U]?F[U].x!=w||F[U].y!=_||F[U].width!=s:this.scrollDraw,J={orientation:v.orientation,index:U,width:s,x:w,y:a,opposed:l,isRTL:b,parent:this.axisScroll,enableResize:L.canResize},n.isLazyZooming?(0==R||this.scrollDraw||h)&&($("#scrollbar_"+this.axisScroll[0].id+U).remove(),null!=T.min||null!=T.max?!this.scrollDraw||h?(F[U]={isVirtual:!0,valueType:z,scrollRange:F[U]&&F[U].scrollRange?F[U].scrollRange:v.visibleRange},F[U].actualRange=$.extend(F[U].actualRange,L.range),$.extend(F[U],J),"datetime"==z?(F[U].startDateTime=new Date(v.visibleRange.min),F[U].endDateTime=new Date(v.visibleRange.max)):(F[U].startValue=v.visibleRange.min,F[U].endValue=v.visibleRange.max),this._calculateZoomValue(v.visibleRange.min,v.visibleRange.max,v,this.model.scrollObj[U])):(F[U].width=s,F[U].x=w,F[U].y=a):I>=v.maxPointLength&&(t=v.maxPointLength/I,o=b?1-v.zoomPosition:v.zoomPosition,!this.scrollDraw||h?(F[U]={isVirtual:!0,zoomPosition:o,zoomFactor:t,scrollRange:{min:0,max:I-1,delta:I-1},valueType:"double"},F[U].actualRange=L.pointsLength,$.extend(F[U],J),F[U].startValue=0,F[U].endValue=v.maxPointLength):(F[U].width=s,F[U].x=w,F[U].y=a)),this.model.scrollObj[U]&&(this.scrollbarContainer=new ej.EjSvgScrollbarRender(this.axisScroll,this.model.scrollObj[U]),this.scrollbarContainer._initializeScrollbarVariables(this.model.scrollObj[U]),this.scrollbarContainer._renderScrollbar.call(this,this.model.scrollObj[U]))):L.visible&&(F=n.scrollObj,(0==R||this.scrollDraw)&&($("#scrollbar_"+this.axisScroll[0].id+U).remove(),F[U]={zoomPosition:o,zoomFactor:t,valueType:z,scrollRange:v.actualRange,isZooming:!0},$.extend(F[U],J),"datetime"==F[U].valueType?(F[U].startDateTime=new Date(F[U].scrollRange.min),F[U].endDateTime=new Date(F[U].scrollRange.max)):(F[U].startValue=F[U].scrollRange.min,F[U].endValue=F[U].scrollRange.max),this.scrollbarContainer=new ej.EjSvgScrollbarRender(this.axisScroll,this.model.scrollObj[U]),this.scrollbarContainer._initializeScrollbarVariables(this.model.scrollObj[U]),this.scrollbarContainer._renderScrollbar.call(this,this.model.scrollObj[U])))):R>0&&$("#scrollbar_"+this.axisScroll[0].id+U).remove();this.scrollDraw=!1},_renderTrendline:function(n,c){var s,h,t,l,p,g,b,C,T,I,R,V,r=$.inArray(c,n.model.series),w="translate("+(n.model.requireInvertedAxes?c.yAxis.x:c.xAxis.x)+","+(n.model.requireInvertedAxes?c.xAxis.y:c.yAxis.y)+")",v={id:n.svgObject.id+"_TrendlinesGroup_"+r,"clip-path":"url(#"+n.svgObject.id+"_TrendlinesGroup_"+r+"_ClipRect)"},a=c.trendlines,D="",L=a.length;for(n.gTrendlinesGroupEle||(n.gTrendlinesGroupEle=[]),n.gTrendlinesGroupEle[r]=n.svgRenderer.createGroup(v),g=0;g<L;g++)if((p=a[g]).seriesIndex=r,p.isTrendLine=!0,p.trendlineIndex=g,"visible"===p.visibility.toLowerCase()&&!p.isNull&&p.points){switch(I={id:n.svgObject.id+"_TrendGroup_"+r+"_"+g,transform:w,"clip-path":"url(#"+n.svgObject.id+"_TrendGroup_"+r+"_"+g+"_ClipRect)"},c.gTrendGroupEle=null,c.gTrendGroupEle=n.svgRenderer.createGroup(I),R=p.type.toLowerCase(),l=new ej.trendlineTypes[R],b=p.slope,C=p._intercept,R){case"linear":D="y = "+b.toFixed(4)+"x + "+C.toFixed(4);break;case"exponential":D="y = "+C.toFixed(3)+"e^"+b.toFixed(4)+"x";break;case"logarithmic":D="y = "+b.toFixed(3)+"ln(x) + "+C.toFixed(4);break;case"power":D="y = "+C.toFixed(3)+"x^"+b.toFixed(4);break;case"polynomial":for(D="y = ",s=(t=p.polynomialSlopes).length-1;s>=0;s--)D+=(T=t[s])>0?"+"+T:"-"+Math.abs(T),0!=s&&(D+="x^"+s+" ")}p.equation=D,(V=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data={series:c,trendline:p,forwardForecastPoints:p.points[p.points.length-1],backwardForecastPoints:p.points[0]},this._trigger("trendlineRendering",V),n.model.enableCanvasRendering?(this.svgRenderer.ctx.save(),this.svgRenderer.ctx.beginPath(),this.svgRenderer.ctx.rect(n.model.m_AreaBounds.X,c.yAxis.y,c.xAxis.width,c.yAxis.height),this.svgRenderer.ctx.clip(),this.svgRenderer.ctx.beginPath(),l.draw(p,c,n),this.svgRenderer.ctx.restore()):(l.draw(p,c,n),(h=c.gTrendGroupEle)&&ej.EjSvgRender.utils._drawAxesBoundsClipPath(h,c,this))}},_renderStripline:function(n){var c,r,u,_;for($.extend(ej.EjStripline.prototype,this),this.chartstripline=new ej.EjStripline(this),c=this.chartstripline,this.model._stripeline=!1,r=0;r<this.model._axes.length;r++)for(u=this.model._axes[r],_=0;_<u.stripLine.length;_++)u.stripLine[_].zIndex.toLowerCase()==n&&c._drawStripline(u,u.stripLine[_],r,_);"over"==n&&this.model._stripeline?this.svgRenderer.append(this.gStriplineOver,this.svgObject):this.model._stripeline&&this.svgRenderer.append(this.gStriplineBehind,this.svgObject)},renderSeries:function(n,c,r){for(var u,_,w,v,a,s,h,o,p,g=n.drawType,b=$.inArray(n,this.model._visibleSeries),C=0;C<n.points.length&&"string"==typeof n.points[C].x&&-1!=n.points[C].x.indexOf("/Date(");C++)n.points[C].x=new Date(parseInt(n.points[C].x.substr(6)));n.xAxis=null==n.xAxis?this.model._axes[0]:n.xAxis,n.yAxis=null==n.yAxis?this.model._axes[1]:n.yAxis;var L,R,T=n.type.toLowerCase(),D=n.drawType.toLowerCase(),I=null;if("cartesianaxes"==this.model.AreaType?(I="translate("+(u=ej.EjSvgRender.utils._getTransform(n.xAxis,n.yAxis,this.model.requireInvertedAxes)).x+","+u.y+")",R="visible"):R=n.enableAnimation&&!n._animatedSeries?"hidden":"visible",_={id:this.svgObject.id+"_TextGroup_"+b,transform:I,visibility:R},w={id:this.svgObject.id+"_DataLabel_"+b,transform:I,visibility:R},L="scatter"!=T?{id:this.svgObject.id+"_symbolGroup_"+b,transform:I,visibility:R}:{id:this.svgObject.id+"_SeriesGroup_"+b,transform:I},v={id:this.svgObject.id+"_ConnectorGroup_"+b,transform:I,visibility:R},this.gSymbolGroupEle||(this.gSymbolGroupEle=[]),this.gSymbolGroupEle[b]=this.svgRenderer.createGroup(L),this.gSeriesTextEle||(this.gSeriesTextEle=[]),this.gSeriesTextEle[b]=this.svgRenderer.createGroup(_),this.gConnectorEle||(this.gConnectorEle=[]),this.gConnectorEle[b]=this.svgRenderer.createGroup(v),this.gDataLabelEle||(this.gDataLabelEle=[]),this.gDataLabelEle[b]=this.svgRenderer.createGroup(w),(a=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data={series:n},this._trigger("seriesRendering",a),s=new ej.seriesTypes[T],this.model.enableCanvasRendering&&"none"!=this.model.AreaType?(this.svgRenderer.ctx.save(),this.svgRenderer.ctx.beginPath(),this.model.requireInvertedAxes?(I=ej.EjSvgRender.utils._getTransform(n.xAxis,n.yAxis,this.model.requireInvertedAxes),this.canvasX=I.x,this.canvasY=I.y,this.svgRenderer.ctx.rect(n.yAxis.x,n.xAxis.y,n.yAxis.width,n.xAxis.height)):(this.canvasX=n.xAxis.x,this.canvasY=n.yAxis.y,this.svgRenderer.ctx.rect(n.xAxis.x,n.yAxis.y,n.xAxis.width,n.yAxis.height)),this.svgRenderer.ctx.clip(),s.draw(this,n,c,r),this.svgRenderer.ctx.restore()):this.model.enableCanvasRendering&&"polaraxes"==this.model.AreaType?(this.svgRenderer.ctx.save(),this.svgRenderer.ctx.beginPath(),this.svgRenderer.ctx.arc(this.model.centerX,this.model.centerY,this.model.Radius,0,2*Math.PI,!1),this.svgRenderer.ctx.clip(),this.canvasX=this.canvasY=0,s.draw(this,n,r),this.svgRenderer.ctx.restore()):(this.canvasX=this.canvasY=0,"cartesianaxes"==this.model.AreaType?s.draw(this,n,c):"polaraxes"==this.model.AreaType&&n._xAxisName==this.model._axes[0].name&&n._yAxisName==this.model._axes[1].name&&s.draw(this,n,r)),"visible"==(h=this.model.series[b].errorBar).visibility&&"cartesianaxes"==this.model.AreaType&&"boxandwhisker"!=this.model.series[b].type&&this.renderErrorBar(h,n),"splinerangearea"==T&&(s.gSeriesGroupEle=this.gSeriesGroupEle),(o=s.gSeriesGroupEle)&&ej.EjSvgRender.utils._drawAxesBoundsClipPath(o,n,this),"candle"!=T&&"hilo"!=T&&"hiloopenclose"!=T&&"boxandwhisker"!=T){var F,V=this,A=V.model.AreaType.toLowerCase(),z=ej.seriesTypes[T].prototype.isRegion;p=!n._pointMarker||n.marker.visible||n._pointMarker,"scatter"==T||!p||$.each(n._visiblePoints,function(N,U){if(!1!==U.visible&&""!==U.x&&(U.marker&&U.marker.visible||n.marker.visible)){if(F="polaraxes"==A&&"column"==D||z?U.symbolLocation:"polaraxes"!=A?ej.EjSvgRender.utils._getPoint(U,n):ej.EjSvgRender.utils.TransformToVisible(n,U.xValue,U.y,V),"polaraxes"==A){var J=n.yAxis.labelFormat?n.yAxis.labelFormat:"",Q=U.text?U.text:U.y+J.substring(J.indexOf("}")+1);ej.EjSvgRender.utils._measureText(Q,null,n.marker.dataLabel.font)}("polaraxes"==A&&n._xAxisName==V.model._axes[0].name&&n._yAxisName==V.model._axes[1].name&&("polar"==T.toLowerCase()||"radar"==T.toLowerCase())&&"scatter"!=g||"cartesianaxes"==A)&&s.drawSymbol(b,n,N,F.X,F.Y)}}),"scatter"!=T?(n.marker.visible&&"scatter"!=g&&(o=this.gSymbolGroupEle[b],ej.EjSvgRender.utils._drawAxesBoundsClipPath(o,n,this)),n.marker.dataLabel.visible&&(o=this.gSeriesTextEle[b],ej.EjSvgRender.utils._drawAxesBoundsClipPath(o,n,this),o=this.gDataLabelEle[b],ej.EjSvgRender.utils._drawAxesBoundsClipPath(o,n,this)),!ej.util.isNullOrUndefined(this.gConnectorEle)&&this.gConnectorEle.length>0&&(o=this.gConnectorEle[b],ej.EjSvgRender.utils._drawAxesBoundsClipPath(o,n,this))):(o=this.gSymbolGroupEle[b],ej.EjSvgRender.utils._drawAxesBoundsClipPath(o,n,this),this.svgRenderer.append(o,this.gSeriesEle),(n.tooltip.visible||"scatter"==T)&&(this.vmlRendering?(this.cloneSeriesEle=$(this.gSeriesEle).clone(),this.cloneobj=$(this.element).clone(),this.svgclone=$(this.svgObject).clone(),$(document.body).append(this.cloneobj),this.svgRenderer.append(this.cloneSeriesEle,this.svgclone),this.svgRenderer.append(this.svgclone,this.cloneobj)):(this.svgRenderer.append(this.gSeriesEle,this.svgObject),this.svgRenderer.append(this.svgObject,this.element)),this.vmlRendering&&($(this.cloneobj).remove(),$(this.svgclone).remove())))}p=!n._dataLabels||n.marker.dataLabel.visible||n._dataLabels>0,(n.marker.dataLabel.visible||p)&&this.drawDisplayText(s,n,c)},renderErrorBar:function(n,c){var w,v,a,s,h,t,o,D,I,R,F,A,z,N,oe,ue,le,he,se,ee,re,W,pe,M,fe,xe,O,B,H,te,ae,de,_e,Se,be,Ce,Pe,ke,Ne,Le,je,Ae,Oe,Fe,$e,He,Be,Ye,dt,Ke,tt,ht,nt,Ct,yt,Dt,wt,Mt,bt,Pt,jt,kt,mt,Tt,Zt,pt,Et,At,r=this,u=r.model,_=c,p=_._visiblePoints,g=p.length,b=r.canvasX,C=r.canvasY,T=$.inArray(_,u._visibleSeries),L=ej.EjSvgRender.utils._getTransform(_.xAxis,_.yAxis,u.requireInvertedAxes),V=u.requireInvertedAxes,U=r.svgObject.id,J=r.model.m_AreaBounds;for(ue={id:U+"_ErrorBarGroup_"+T,transform:"translate("+L.x+","+L.y+")","clip-path":"url(#"+U+"_ChartAreaClipRect)"},ej.util.isNullOrUndefined(r.gErrorBarGroupEle)&&(r.gErrorBarGroupEle=[]),oe=r.gErrorBarGroupEle[T]=r.svgRenderer.createGroup(ue),(mt=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data={errorBar:n},this._trigger("errorBarRendering",mt),w=(le=mt.data.errorBar).type,v=le.mode,a=le.direction,s=le.fill,h=le.cap,t=le.cap.fill,o=le.cap.width,I=le.verticalErrorValue,R=le.horizontalErrorValue,F=le.verticalPositiveErrorValue,A=le.verticalNegativeErrorValue,z=le.horizontalPositiveErrorValue,N=le.horizontalNegativeErrorValue,D=0;D<g;D++)if(!0!==p[D].isEmpty&&1==p[D].visible){switch(Tt=r.svgRenderer.createGroup({id:r.svgObject.id+"_ErrorBarGroup_"+T+"_Point"+D}),he=D,ee=(se=p[D]).YValues[0],re=se.xValue,W=p[D].YValues[0],pe=p[D].xValue,M=w.indexOf("column")||w.indexOf("bar")>-1?se.symbolLocation:se.location,ej.util.isNullOrUndefined(M)&&(M=ej.EjSvgRender.utils._getPoint(se,_)),_e=M.X,Se=M.Y,w){case"fixedValue":yt=se,("vertical"==v||"both"==v)&&(yt.YValues[0]=ee+I,fe=ej.EjSvgRender.utils._getPoint(yt,_),yt.YValues[0]=ee-I,xe=ej.EjSvgRender.utils._getPoint(yt,_),V?fe.Y=xe.Y=M.Y:fe.X=xe.X=M.X),("horizontal"==v||"both"==v)&&(yt.YValues[0]=ee,yt.xValue=re,yt.xValue=re+R,O=ej.EjSvgRender.utils._getPoint(yt,_),yt.xValue=re-R,B=ej.EjSvgRender.utils._getPoint(yt,_)),yt.YValues[0]=ee,yt.xValue=re;break;case"percentage":Dt=se,wt=I/100*ee,Mt=R/100*re,("vertical"==v||"both"==v)&&(Dt.YValues[0]=ee+wt,fe=ej.EjSvgRender.utils._getPoint(Dt,_),Dt.YValues[0]=ee-wt,xe=ej.EjSvgRender.utils._getPoint(Dt,_),V?fe.Y=xe.Y=M.Y:fe.X=xe.X=M.X),("horizontal"==v||"both"==v)&&(Dt.YValues[0]=ee,Dt.xValue=re,Dt.xValue=re+Mt,O=ej.EjSvgRender.utils._getPoint(Dt,_),Dt.xValue=re-Mt,B=ej.EjSvgRender.utils._getPoint(Dt,_)),Dt.YValues[0]=ee,Dt.xValue=re;break;case"standardDeviation":bt=se,te=(H=r.meanCalculation(v,p)).horMean,ae=H.verStandSquareRoot,de=H.horStandSquareRoot,("vertical"==v||"both"==v)&&(be=I*ae,bt.YValues[0]=H.verMean,Pe=ej.EjSvgRender.utils._getPoint(bt,_),bt.YValues[0]=(ee=bt.YValues[0])+be,fe=ej.EjSvgRender.utils._getPoint(bt,_),bt.YValues[0]=ee-be,xe=ej.EjSvgRender.utils._getPoint(bt,_),V?Pe.Y=fe.Y=xe.Y=M.Y:Pe.X=fe.X=xe.X=M.X,Pe.X=Pe.X+b,Pe.Y=Pe.Y+C),("horizontal"==v||"both"==v)&&(Ce=R*de,bt.xValue=te,ke=ej.EjSvgRender.utils._getPoint(bt,_),V?ke.X=M.X:ke.Y=M.Y,bt.YValues[0]=W,bt.xValue=(re=bt.xValue)+Ce,O=ej.EjSvgRender.utils._getPoint(bt,_),bt.xValue=re-Ce,B=ej.EjSvgRender.utils._getPoint(bt,_),ke.X=ke.X+b,ke.Y=ke.Y+C),bt.YValues[0]=W,bt.xValue=pe;break;case"standardError":Pt=se,ae=(H=r.meanCalculation(v,p)).verStandSquareRoot,de=H.horStandSquareRoot,("vertical"==v||"both"==v)&&(Ne=(be=I*ae)/Math.sqrt(g),Pt.YValues[0]=ee+Ne,fe=ej.EjSvgRender.utils._getPoint(Pt,_),Pt.YValues[0]=ee-Ne,xe=ej.EjSvgRender.utils._getPoint(Pt,_),V?fe.Y=xe.Y=M.Y:fe.X=xe.X=M.X),("horizontal"==v||"both"==v)&&(Le=(Ce=R*de)/Math.sqrt(g),Pt.YValues[0]=ee,Pt.xValue=re,Pt.xValue=re+Le,O=ej.EjSvgRender.utils._getPoint(Pt,_),Pt.xValue=re-Le,B=ej.EjSvgRender.utils._getPoint(Pt,_)),Pt.YValues[0]=ee,Pt.xValue=re,D=he;break;case"custom":jt=se,("vertical"==v||"both"==v)&&(jt.YValues[0]=ee+F,fe=ej.EjSvgRender.utils._getPoint(jt,_),jt.YValues[0]=ee-A,xe=ej.EjSvgRender.utils._getPoint(jt,_),V?fe.Y=xe.Y=M.Y:fe.X=xe.X=M.X),("horizontal"==v||"both"==v)&&(jt.YValues[0]=ee,jt.xValue=re,jt.xValue=re+z,O=ej.EjSvgRender.utils._getPoint(jt,_),jt.xValue=re-N,B=ej.EjSvgRender.utils._getPoint(jt,_)),jt.YValues[0]=ee,jt.xValue=re}1==h.visible&&(("vertical"==v||"both"==v)&&(je={verHighvalue:fe,verLowvalue:xe}),("horizontal"==v||"both"==v)&&(Ae={horHighvalue:O,horLowvalue:B}),Oe=(kt=r.renderCap(h,v,je,Ae,V)).verHighCapX1,Fe=kt.verHighCapX2,$e=kt.verLowCapX1,He=kt.verLowCapX2,Be=kt.horHighCapY1,Ye=kt.horHighCapY2,dt=kt.horLowCapY1,Ke=kt.horLowCapY2),_e+=b,Se+=C,("vertical"==v||"both"==v)&&(fe.X=fe.X+b,fe.Y=fe.Y+C,xe.X=xe.X+b,xe.Y=xe.Y+C),("horizontal"==v||"both"==v)&&(O.X=O.X+b,O.Y=O.Y+C,B.X=B.X+b,B.Y=B.Y+C),"both"==a?(("vertical"==v||"both"==v)&&("standardDeviation"!=w?tt="M "+_e+" "+Se+" L "+fe.X+" "+fe.Y+" M "+_e+" "+Se+" L "+xe.X+" "+xe.Y+" ":"standardDeviation"==w&&(tt="M "+Pe.X+" "+Pe.Y+" L "+fe.X+" "+fe.Y+" M "+Pe.X+" "+Pe.Y+" L "+xe.X+" "+xe.Y+" "),Zt=tt,pt=ht=V?h.visible?"M "+fe.X+" "+fe.Y+" L "+fe.X+" "+Oe+" M "+fe.X+" "+fe.Y+" L "+fe.X+" "+Fe+" M "+xe.X+" "+xe.Y+" L "+xe.X+" "+$e+" M "+xe.X+" "+xe.Y+" L "+xe.X+" "+He+" ":"":h.visible?"M "+fe.X+" "+fe.Y+" L "+Oe+" "+fe.Y+" M "+fe.X+" "+fe.Y+" L "+Fe+" "+fe.Y+" M "+xe.X+" "+xe.Y+" L "+$e+" "+xe.Y+" M "+xe.X+" "+xe.Y+" L "+He+" "+xe.Y+" ":""),("horizontal"==v||"both"==v)&&("standardDeviation"!=w?nt="M "+_e+" "+Se+" L "+O.X+" "+O.Y+" M "+_e+" "+Se+" L "+B.X+" "+B.Y+" ":"standardDeviation"==w&&(nt="M "+ke.X+" "+ke.Y+" L "+O.X+" "+O.Y+" M "+ke.X+" "+ke.Y+" L "+B.X+" "+B.Y+" "),Zt=nt,pt=Ct=V?h.visible?"M "+O.X+" "+O.Y+" L "+Be+" "+O.Y+" M "+O.X+" "+O.Y+" L "+Ye+" "+O.Y+" M "+B.X+" "+B.Y+" L "+dt+" "+B.Y+" M "+B.X+" "+B.Y+" L "+Ke+" "+B.Y+" ":"":h.visible?"M "+O.X+" "+O.Y+" L "+O.X+" "+Be+" M "+O.X+" "+O.Y+" L "+O.X+" "+Ye+" M "+B.X+" "+B.Y+" L "+B.X+" "+dt+" M "+B.X+" "+B.Y+" L "+B.X+" "+Ke+" ":""),"both"==v&&(Zt=nt+=tt,pt=Ct+=ht)):"plus"==a?(("vertical"==v||"both"==v)&&("standardDeviation"!=w?tt="M "+_e+" "+Se+" L "+fe.X+" "+fe.Y+" ":"standardDeviation"==w&&(tt="M "+Pe.X+" "+Pe.Y+" L "+fe.X+" "+fe.Y+" "),Zt=tt,pt=ht=V?h.visible?"M "+fe.X+" "+fe.Y+" L "+fe.X+" "+Oe+" M "+fe.X+" "+fe.Y+" L "+fe.X+" "+Fe+" ":"":h.visible?"M "+fe.X+" "+fe.Y+" L "+Oe+" "+fe.Y+" M "+fe.X+" "+fe.Y+" L "+Fe+" "+fe.Y+" ":""),("horizontal"==v||"both"==v)&&("standardDeviation"!=w?nt="M "+_e+" "+Se+" L "+O.X+" "+O.Y+" ":"standardDeviation"==w&&(nt="M "+ke.X+" "+ke.Y+" L "+O.X+" "+O.Y+" "),Zt=nt,pt=Ct=V?h.visible?"M "+O.X+" "+O.Y+" L "+Be+" "+O.Y+" M "+O.X+" "+O.Y+" L "+Ye+" "+O.Y+" ":"":h.visible?"M "+O.X+" "+O.Y+" L "+O.X+" "+Be+" M "+O.X+" "+O.Y+" L "+O.X+" "+Ye+" ":""),"both"==v&&(Zt=nt+=tt,pt=Ct+=ht)):(("vertical"==v||"both"==v)&&("standardDeviation"!=w?tt="M "+_e+" "+Se+" L "+xe.X+" "+xe.Y+" ":"standardDeviation"==w&&(tt="M "+Pe.X+" "+Pe.Y+" L "+xe.X+" "+xe.Y+" "),Zt=tt,pt=ht=V?h.visible?"M "+xe.X+" "+xe.Y+" L "+xe.X+" "+$e+" M "+xe.X+" "+xe.Y+" L "+xe.X+" "+He+" ":"":h.visible?"M "+xe.X+" "+xe.Y+" L "+$e+" "+xe.Y+" M "+xe.X+" "+xe.Y+" L "+He+" "+xe.Y+" ":""),("horizontal"==v||"both"==v)&&("standardDeviation"!=w?nt="M "+_e+" "+Se+" L "+B.X+" "+B.Y+" ":"standardDeviation"==w&&(nt="M "+ke.X+" "+ke.Y+" L "+B.X+" "+B.Y+" "),Zt=nt,pt=Ct=V?h.visible?"M "+B.X+" "+B.Y+" L "+dt+" "+B.Y+" M "+B.X+" "+B.Y+" L "+Ke+" "+B.Y+" ":"":h.visible?"M "+B.X+" "+B.Y+" L "+B.X+" "+dt+" M "+B.X+" "+B.Y+" L "+B.X+" "+Ke+" ":""),"both"==v&&(Zt=nt+=tt,pt=Ct+=ht)),Et={id:r.svgObject.id+"_ErrorBar_"+T+"_Point"+he,d:Zt,stroke:s,"stroke-width":n.width,opacity:n.opacity},At={id:r.svgObject.id+"_ErrorBarCap_"+T+"_Point"+he,d:pt,stroke:t,"stroke-width":o},r.model.enableCanvasRendering?(this.svgRenderer.ctx.rect(J.X,J.Y,J.Width,J.Height),this.svgRenderer.ctx.clip(),r.svgRenderer.drawPath(Et,null),r.svgRenderer.drawPath(At,null)):(r.svgRenderer.drawPath(Et,Tt),r.svgRenderer.drawPath(At,Tt),r.svgRenderer.append(Tt,oe))}r.svgRenderer.append(oe,r.gSeriesEle),ej.EjSvgRender.utils._drawAxesBoundsClipPath(oe,_,r)},meanCalculation:function(n,c){for(var a,s,h,t,r=0,u=0,F=c.length,A=0;A<F;A++)"vertical"==n?r+=c[A].y:("horizontal"==n||(r+=c[A].y),u+=c[A].xValue);for(a=r/F,s=u/F,h=F-1,A=0;A<F;A++)"vertical"==n?(t=c[A].y-a,r+=Math.pow(t,2)):"horizontal"==n?(t=c[A].xValue-s,u+=Math.pow(t,2)):(r+=Math.pow(c[A].y-a,2),u+=Math.pow(c[A].xValue-s,2));return{verStandSquareRoot:Math.sqrt(r/h),horStandSquareRoot:Math.sqrt(u/h),verMean:a,horMean:s}},renderCap:function(n,c,r,u,_){var w,v,a,s,h,t,o,l,p,g,b,C,T,D,L;return w=this.canvasX,v=this.canvasY,a=n.length/2,("vertical"==c||"both"==c)&&(s=r.verHighvalue,h=r.verLowvalue),("horizontal"==c||"both"==c)&&(t=u.horHighvalue,o=u.horLowvalue),("vertical"==c||"both"==c)&&(_?(l=s.Y+v+a,p=s.Y+v-a,g=h.Y+v+a,b=h.Y+v-a):(l=s.X+w-a,p=s.X+w+a,g=h.X+w-a,b=h.X+w+a)),("horizontal"==c||"both"==c)&&(_?(C=t.X+w+a,T=t.X+w-a,D=o.X+w+a,L=o.X+w-a):(C=t.Y+v-a,T=t.Y+v+a,D=o.Y+v-a,L=o.Y+v+a)),{verHighCapX1:l,verHighCapX2:p,verLowCapX1:g,verLowCapX2:b,horHighCapY1:C,horHighCapY2:T,horLowCapY1:D,horLowCapY2:L}},drawDisplayText:function(n,c,r){var _,h,u=this,w=c.type.toLowerCase(),v=u.model.AreaType.toLowerCase(),a=ej.seriesTypes[w].prototype.isRegion,s=c.drawType.toLowerCase(),t=!1,o=$.inArray(c,u.model._visibleSeries);ej.util.isNullOrUndefined(u.model.regionCount)&&(u.model.regionCount=-1);for(var C,l=u.model.enableCanvasRendering,p="polaraxes"==u.model.AreaType.toLowerCase(),g=0,b={},T=u.model.series.length;g<T;g++)b[C=u.model.series[g].stackingGroup]={length:b[C]?b[C].length+1:1,seriesIndex:g};r.stackingGroup=b,$.each(c._visiblePoints,function(D,L){var R,V,I=u.model.series[o].type.toLowerCase();if(c._visiblePoints[D].textOptionsBoxValues=[],h=L.marker,_="polaraxes"==v&&"column"==s||a||"rangecolumn"==s?"boxandwhisker"==I.toLowerCase()?L.dataLabelLocation:L.symbolLocation:"polaraxes"!=v?ej.EjSvgRender.utils._getPoint(L,c):ej.EjSvgRender.utils.TransformToVisible(c,L.xValue,L.y,u),!1!==L.visible&&(h&&h.dataLabel&&h.dataLabel.visible||(!h||!h.dataLabel)&&c.marker.dataLabel.visible)){for(a&&u.model.regionCount++,I=u.model.series[o].type.toLowerCase(),R=0;R<u.model._axes.length;R++)if(u.model._axes[R].zoomFactor<1||u.model._axes[R].zoomPosition>0){t=!0;break}if(!(u.zoomed||c.xAxis._isScroll||t)||"column"!=I&&"stackingcolumn"!=I&&"stackingcolumn100"!=I)if(l&&"cartesianaxes"==u.model.AreaType){if(u.svgRenderer.ctx.save(),u.svgRenderer.ctx.beginPath(),u.model.requireInvertedAxes?u.svgRenderer.ctx.rect(c.yAxis.x,c.xAxis.y,c.yAxis.width,c.xAxis.height):u.svgRenderer.ctx.rect(c.xAxis.x,c.yAxis.y,c.xAxis.width,c.yAxis.height),u.svgRenderer.ctx.clip(),u.model.chartRegions[u.model.regionCount]||-1==I.indexOf("column")&&-1==I.indexOf("bar")&&-1==I.indexOf("waterfall")){if("boxandwhisker"==I.toLowerCase())for(V=0;V<_.length;V++)L.y=L.boxPlotLocation[V].YValues,n.drawDataLabel(c,D,L,_[V].X,_[V].Y,u.model.regionCount,r,_[V].outlier);else n.drawDataLabel(c,D,L,_.X,_.Y,u.model.regionCount,r);("rangecolumn"==I||"rangearea"==I||"splinerangearea"==I)&&(L.y=L.low,n.drawDataLabel(c,D,L,_.X,_.Y,u.model.regionCount,r),L.y=L.high)}u.svgRenderer.ctx.restore()}else{if(l&&p&&(u.svgRenderer.ctx.save(),u.svgRenderer.ctx.beginPath(),u.svgRenderer.ctx.arc(u.model.centerX,u.model.centerY,u.model.Radius,0,2*Math.PI,!1),u.svgRenderer.ctx.clip(),_.X-=u.canvasX,_.Y-=u.canvasY),"column"==I||"stackingcolumn"==I||"stackingcolumn100"==I)u.model.chartRegions[u.model.regionCount]&&n.drawDataLabel(c,D,L,_.X,_.Y,u.model.regionCount,r);else if("boxandwhisker"==I.toLowerCase())for(V=0;V<_.length;V++)L.y=L.boxPlotLocation[V].YValues,n.drawDataLabel(c,D,L,_[V].X,_[V].Y,u.model.regionCount,r,_[V].outlier);else n.drawDataLabel(c,D,L,_.X,_.Y,u.model.regionCount,r);("rangecolumn"==I||"rangearea"==I||"splinerangearea"==I)&&(L.y=L.low,n.drawDataLabel(c,D,L,_.X,_.Y,u.model.regionCount,r),L.y=L.high),l&&p&&u.svgRenderer.ctx.restore()}else for(R=0;R<u.model.chartRegions.length;R++)o==u.model.chartRegions[R].SeriesIndex&&D==u.model.chartRegions[R].Region.PointIndex&&(l&&"cartesianaxes"==u.model.AreaType?(u.svgRenderer.ctx.save(),u.svgRenderer.ctx.beginPath(),u.model.requireInvertedAxes?u.svgRenderer.ctx.rect(c.yAxis.x,c.xAxis.y,c.yAxis.width,c.xAxis.height):u.svgRenderer.ctx.rect(c.xAxis.x,c.yAxis.y,c.xAxis.width,c.yAxis.height),u.svgRenderer.ctx.clip(),n.drawDataLabel(c,D,L,_.X,_.Y,R,r),u.svgRenderer.ctx.restore()):n.drawDataLabel(c,D,L,_.X,_.Y,R,r))}})},cartesianSmartLabels:function(n,c){var u,_,w,v,a,s,h,t,o,l,p,g,b,C,T,L,I,R,V,F,A,r=c.length;for(this.connectorFlag=!1,this.processCount=1,this.posObj={top:[],rightTop:[],left:[],leftTop:[],right:[],rightTop:[],rightBottom:[],leftBottom:[],bottom:[]},v=0;v<this.model.series.length;v++)if(u=this.model.series[v].marker.size.width,_=this.model.series[v].marker.size.height,b=this.model.series[v].type.toLowerCase(),g=ej.seriesTypes[b].prototype.isRegion,"hidden"!=this.model.series[v].visibility&&this.model.series[v].marker.visible&&!g)for(a=0;a<this.model.series[v]._visiblePoints.length;a++)this.model.markerRegion[this.model.markerRegion.length]={seriesIndex:v,xPos:(s=(C=this.model.series[v]._visiblePoints[a]).location).X+this.canvasX,yPos:s.Y+this.canvasY,width:u,height:_};for(I=this.model.m_AreaBounds,T=0;T<r;T++)(C=c[T]).hide=!1,A=C.yPos,V=C.height,(F=C.xPos)-(R=C.width)/2<0&&F>-R/2&&(L=F-R/2,C.textOptions.x=C.xPos=F+Math.abs(L)+10,C.newConnectorFlag=!0),F+R/2>I.Width&&F+R/2<I.Width+R/2&&(L=F-R/2,C.textOptions.x=C.xPos=I.Width-R/2-10,C.newConnectorFlag=!0),A+R/2>I.Height&&A+V/2<I.Height+V/2&&(C.yPos=A-(L=A+V/2-I.Height)-10,C.textOptions.y=C.yPos+5,C.newConnectorFlag=!0),A-V/2<0&&A>-V/2&&(L=A-V/2,C.yPos=C.yPos+Math.abs(L)+10,C.textOptions.y=C.yPos+5,C.newConnectorFlag=!0);for(w=0;w<r;w++)ej.util.isNullOrUndefined(c[w].yPos)||(this.model.allPoints[this.model.allPoints.length]=c[w],this.connectorFlag=!1,this.compareDataLabels(w,c,0,this.processCount),(C=c[w]).connectorFlag=this.connectorFlag,c[w].dataLabeltemplate&&(o=$("#"+c[w].id),p=this.model.enableCanvasRendering?c[w].yPos+this.model.m_AreaBounds.Y:c[w].yPos,o.css("left",l=c[w].xPos).css("top",p),"cartesianaxes"==this.model.AreaType&&(t=n.yAxis.y,R=c[w].width,V=c[w].height,(l>(h=(I=this.model.m_AreaBounds).X+(this.model.requireInvertedAxes?n.yAxis.plotOffset:n.xAxis.plotOffset))+I.Width||l+R<h||p+V<t||p+V>I.Y+I.Height||this.zoomed&&(l<h||p<t||l>h+I.Width||p>t+I.Height))&&o.remove())),this.storeDataLabelPositions(C))},storeDataLabelPositions:function(n){var r=this.posObj;switch(n.position){case"top":r.top[this.processCount-1]=n,this.processCount=1;break;case"rightTop":r.rightTop[this.processCount-1]=n,this.processCount=1;break;case"right":r.right[this.processCount-1]=n,this.processCount=1;break;case"rightBottom":r.rightBottom[this.processCount-1]=n,this.processCount=1;break;case"bottom":r.bottom[this.processCount-1]=n,this.processCount=1;break;case"left":r.left[this.processCount-1]=n,this.processCount=1;break;case"leftBottom":r.leftBottom[this.processCount-1]=n,this.processCount=1;break;case"leftTop":r.leftTop[this.processCount-1]=n}},cartesianColumnSmartLabels:function(n,c){var u,_,v,a,s,h,t,l,p,g,b,C,T,r=c.length;for(this.connectorFlag=!1,this.processCount=1,this.model.outsideLabels=[],t=0;t<r;t++)if(!ej.util.isNullOrUndefined(c[t].yPos)&&!isNaN(c[t].yPos)&&(this.model.allPoints[this.model.allPoints.length]=c[t],n._enableSmartLabels&&(this.connectorFlag=!1,this.compareColumnDataLabels(n,t,c,0,this.processCount)),c[t].dataLabeltemplate)){(l=$("#"+c[t].id)).css("left",c[t].xPos).css("top",c[t].yPos),u=c[t].xPos,_=c[t].yPos,c.height=l.outerHeight();var I=this.model.m_AreaBounds.X,R=this.model.m_AreaBounds.Y,V=this.model.m_AreaBounds.Width,F=this.model.m_AreaBounds.Height;c.width=l.outerWidth(),v=l.width()/2,a=l.height(),p=g=b=0,C=0,s=(T=this.model.m_AreaBounds).X+(this.model.requireInvertedAxes?n.yAxis.plotOffset:n.xAxis.plotOffset),h=n.yAxis.y,n.marker.dataLabel.showEdgeLabels&&(u>s+T.Width||_+a>T.Y+T.Height||u<s||_<h||u>s+T.Width||_>h+T.Height||u-v>T.Width+T.X)&&(u<I&&(g=I-u),F+R<_+a&&(C=a-(_+a-(F+R))),_<R&&(p=R-_),V+I<u+(v=l.outerWidth())&&(b=v-(u+v-(V+I))),b=0==b?v:b,C=0==C?a:C,document.getElementById(l[0].id).style.clip="rect("+p+"px,"+b+"px,"+C+"px,"+g+"px)")}},compareColumnDataLabels:function(n,c,r,u){var v,a,s,h,t,o,l,b,C,V,F,_=this.model.allPoints.length-1,w=this.model.m_AreaBounds,D=n.marker.dataLabel.enableContrastColor,L=[],I=n.type.toLowerCase(),R=new(ej.seriesTypes[n.type.toLowerCase()]);for(this.firstPoints=[],V=0;V<_;V++)if(C=this.model.allPoints[this.model.allPoints.length-1],this.currentCollideLabel=b=this.model.allPoints[V],h=(s=n.marker.dataLabel).textPosition.toLowerCase(),(a=this.isCollide(b,C,null,null,this,s.angle)).state){if("column"==I||"stackingcolumn"==I||"rangecolumn"==I||"waterfall"==I){if(C.textOptions.y=C.yPos=s.showEdgeLabels||"top"==h||"middle"==h?C.yPos+a.height+5:C.yPos-a.height-5,C.textOptions.y=C.textOptions.y+5+C.margin.top/2-C.margin.bottom/2,C.textOptions.y>w.Height){C.hide=!0;break}}else C.textOptions.x=C.xPos="top"==h||"middle"==h?b.xPos-b.width/2-C.width/2-5:b.xPos+b.width/2+C.width/2+5;for(this.compareColumnDataLabels(n,c,r,u,this.processCount),v=this.checkOutsideLabels(this.model,C,w),o=0;o<this.model.allPoints.length;o++)0==o?this.firstPoints.push(this.model.allPoints[0]):this.firstPoints[this.firstPoints.length-1].x!=this.model.allPoints[o].x&&this.firstPoints.push(this.model.allPoints[o]);if(v||this.zoomed){for(l=0;l<=this.model.allPoints.length-1;l++)this._positionOutsideLabels(C,this.model.allPoints,l,I);this.model.outsideLabels.push(C)}if(D&&I.indexOf("stacking")>-1){for(F=this.model.chartRegions,o=0;o<this.model.chartRegions.length;o++)F[o].Region.PointIndex==c&&(a=this.isCollide(F[o],C,0,D,this)),a.state&&L.push(F[o]);if(L.length>5)break;L.length>=1&&(t="array"==jQuery.type(this.model.seriesColors[L[0].SeriesIndex])?this.model.seriesColors[L[0].SeriesIndex][0].color:this.model.seriesColors[L[0].SeriesIndex],C.textOptions.fill=R._applySaturation(this,t))}}},_positionOutsideLabels:function(n,c,r,u){var v,_=c[r];if(r>=0)if(v=this.isCollide(_,n),!u||"column"!=u&&"stackingcolumn"!=u&&"rangecolumn"!=u&&"waterfall"!=u)n.textOptions.x=n.xPos=this.model.outsideLabels.length>0?this.model.outsideLabels[this.model.outsideLabels.length-1].xPos:c[0].xPos+_.width/2+n.width/2+5;else{if(this.model.outsideLabels.length>0&&n.x==this.model.outsideLabels[this.model.outsideLabels.length-1].x)n.textOptions.y=n.yPos=this.model.outsideLabels[this.model.outsideLabels.length-1].yPos-v.height;else for(r=0;r<this.firstPoints.length;r++)n.x==this.firstPoints[r].x&&v.state?n.textOptions.y=n.yPos=this.firstPoints[r].yPos-v.height:c.length>1&&r<c.length-1&&(n.textOptions.y=n.yPos=c[r+1].yPos);n.textOptions.y=n.textOptions.y+5+n.margin.top/2-n.margin.bottom/2}},compareDataLabels:function(n,c,r,u){var a,s,h,t,o,_=this.model.allPoints.length,w=this.model.m_AreaBounds,g=this.posObj;for(this.breakLoop=!1,a=0;a<_;a++)if(this.model.series[this.model.allPoints[a].seriesIndex].type.toLowerCase(),t=this.model.allPoints[_-1],this.currentCollideLabel=h=this.model.allPoints[a],s=10,(o=this.isCollide(h,t,a)).state||o.marker)switch(this.connectorFlag=!0,r){case 0:if(this.processCount>1&&this.resetValues(t),o.marker?(this.prevLabel=o.markerRegion,this.processCount=1):ej.util.isNullOrUndefined(this.prevLabel)?(this.prevLabel=h,this.processCount=1):this.isCollide(this.prevLabel,t).state||(this.prevLabel=h,this.processCount=1),this.resetValues(t),t.textOptions.x=t.xPos=u>1&&g.right[this.processCount-2]?(h=g.right[this.processCount-2]).xPos+(h.width/2+t.width/2+s):this.prevLabel.xPos+(this.prevLabel.width/2+t.width/2+s),r+=1,t.position="right",this.breakLoop)break;if(!this.checkOutsideLabels(this.model,t,w)){this.compareDataLabels(n,c,r,this.processCount);break}case 1:if(this.resetValues(t),t.textOptions.x=t.xPos=this.prevLabel.xPos+this.prevLabel.width/2+t.width/2+s,t.textOptions.y=t.yPos=u>1&&g.rightBottom[this.processCount-2]?(h=g.rightBottom[this.processCount-2]).yPos+this.canvasY+h.height+s:t.location.Y+this.canvasY+t.height+5,t.textOptions.y=t.textOptions.y+5+t.margin.top/2-t.margin.bottom/2,t.position="rightBottom",r+=1,this.breakLoop)break;if(!this.checkOutsideLabels(this.model,t,w)){this.compareDataLabels(n,c,r,this.processCount);break}case 2:if(this.resetValues(t),t.textOptions.y=t.yPos=t.location.Y+this.canvasY+t.height+5,t.textOptions.y=t.yPos=u>1&&g.bottom[this.processCount-2]?(h=g.bottom[this.processCount-2]).yPos+t.height+s:t.location.Y+this.canvasY+t.height+5,t.textOptions.y=t.textOptions.y+5+t.margin.top/2-t.margin.bottom/2,t.position="bottom",r+=1,this.breakLoop)break;if(!this.checkOutsideLabels(this.model,t,w)){this.compareDataLabels(n,c,r,this.processCount);break}case 3:if(this.resetValues(t),t.textOptions.x=t.xPos=this.prevLabel.xPos-this.prevLabel.width/2-t.width/2-s,t.textOptions.y=t.yPos=u>1&&g.leftBottom[this.processCount-2]?(h=g.leftBottom[this.processCount-2]).yPos+this.canvasY+h.height+s:t.location.Y+this.canvasY+t.height+5,t.textOptions.y=t.textOptions.y+5+t.margin.top/2-t.margin.bottom/2,t.position="leftBottom",r+=1,this.breakLoop)break;if(!this.checkOutsideLabels(this.model,t,w)){this.compareDataLabels(n,c,r,this.processCount);break}case 4:if(this.resetValues(t),t.textOptions.x=t.xPos=u>1&&g.left[this.processCount-2]?(h=g.left[this.processCount-2]).xPos-h.width/2-t.width/2-s:this.prevLabel.xPos-this.prevLabel.width/2-t.width/2-s,t.position="left",r+=1,this.breakLoop)break;if(!this.checkOutsideLabels(this.model,t,w)){this.compareDataLabels(n,c,r,this.processCount);break}case 5:if(this.resetValues(t),t.textOptions.x=t.xPos=this.prevLabel.xPos-this.prevLabel.width/2-t.width/2-s,t.textOptions.y=t.yPos=u>1&&g.leftTop[this.processCount-2]?(h=g.leftTop[this.processCount-2]).yPos-(t.height+s):this.prevLabel.yPos-t.height-s,t.textOptions.y=t.textOptions.y+5+t.margin.top/2-t.margin.bottom/2,t.position="leftTop",r+=1,this.breakLoop)break;if(!this.checkOutsideLabels(this.model,t,w)){this.compareDataLabels(n,c,r,this.processCount);break}case 6:if(this.resetValues(t),t.textOptions.y=t.yPos=u>1&&g.top[u-2]?(h=g.top[u-2]).yPos-(t.height+s):this.prevLabel.yPos-this.processCount*(t.height+s),t.textOptions.y=t.textOptions.y+5+t.margin.top/2-t.margin.bottom/2,r+=1,t.position="top",this.breakLoop)break;if(!this.checkOutsideLabels(this.model,t,w)){this.compareDataLabels(n,c,r,this.processCount);break}case 7:if(this.resetValues(t),t.textOptions.x=t.xPos=this.prevLabel.xPos+this.prevLabel.width/2+t.width/2+s,t.textOptions.y=t.yPos=u>1&&g.rightTop[this.processCount-2]?(h=g.rightTop[this.processCount-2]).yPos-t.height-s:this.prevLabel.yPos-t.height-s,t.textOptions.y=t.textOptions.y+5+t.margin.top/2-t.margin.bottom/2,t.position="rightTop",r+=1,this.breakLoop)break;if(!this.checkOutsideLabels(this.model,t,w)){this.compareDataLabels(n,c,r,this.processCount);break}case 8:if(r=0,this.processCount+=1,n==this.processCount)r=9;else if(!this.checkOutsideLabels(this.model,t,w)){this.compareDataLabels(n,c,r,this.processCount);break}case 9:(n==this.processCount||this.processCount>_)&&(this.processCount-=1,r=r<0||8==r?0:r-1,this.breakLoop=!0)}},checkOutsideLabels:function(n,c,r){var a,s,u=n.enableCanvasRendering,_=c.dataLabeltemplate;if(n.series[c.seriesIndex].marker.dataLabel.showEdgeLabels&&(s=u?c.yPos-this.canvasY:c.dataLabel.textY,(a=u?c.xPos-this.canvasX:c.dataLabel.textX)-c.dataLabel.width/2<0||a+c.dataLabel.width/2>(_?r.Width+r.X:r.Width)||s+c.dataLabel.height/2>(_?r.Height+r.Y:r.Height)||s-c.dataLabel.height/2<0))return!0},drawPieofPieConnectors:function(n,c){var u,_,w;this.model.enableCanvasRendering||(this.gConnectorLinesGroup||(this.gConnectorLinesGroup=this.svgRenderer.createGroup({id:this.svgObject.id+"_connectorLineGroup",visibility:c.enableAnimation&&!c._animatedSeries?"hidden":"visible"})),$(this.gConnectorLinesGroup.childNodes).remove());var p,a=[],s=[],h=[],t=[],o=-.5*Math.PI;for(u=0;u<2;u++){if(p=c.pieCollections[u],a[u]=.25*(0==u?c.pieCoefficient:c.pieOfPieCoefficient)*Math.min(n.width,n.height),s[u]=this.model.circleCenterX[u],s[u]=0==u?s[u]+this.model.pieGapWidth/2:s[u]-this.model.pieGapWidth/2,h[u]=this.model.circleCenterY[u],p[0].start>0&&p[0].end<Math.PI&&0==u)var g=p[0].start+o,b=p[0].end+o-1e-6,C=s[u]+a[u]*Math.cos(g),T=h[u]+a[u]*Math.sin(g),D=s[u]+a[u]*Math.cos(b),L=h[u]+a[u]*Math.sin(b);else D=C=s[u]+a[u]*Math.cos(o),L=(T=h[u]+a[u]*Math.sin(o))+2*a[u];t.push({X1:C,Y1:T,X2:D,Y2:L})}for(_=c.connectorLine,w=0;w<2;w++)this.svgRenderer.drawLine({id:this.svgObject.id+"_connectorLine"+w,x1:0==w?t[w].X1:t[w-1].X2,y1:0==w?t[w].Y1:t[w-1].Y2,x2:0==w?t[w+1].X1:t[w].X2,y2:0==w?t[w+1].Y1:t[w].Y2,stroke:_.color,"stroke-width":_.width,opacity:_.opacity,"stroke-dasharray":_.dashArray},this.gConnectorLinesGroup);this.svgRenderer.append(this.gConnectorLinesGroup,this.gSeriesEle)},drawConnectorLines:function(n,c,r){var t,_=!0,w=r.xPos,v=r.yPos,a=this.model.m_AreaBounds,s=this.model.series[n].marker.dataLabel,h=r.location?r.location:r.symbolLocation;if(t=h.Y>r.textOptions.y?r.textOptions.y:r.textOptions.y-r.height/2,r.dataLabeltemplate?(t=r.yPos-this.model.m_AreaBounds.Y+r.height,r.textOptions.x=r.textOptions.x-this.model.m_AreaBounds.X+r.width/4+this.canvasX):(w>a.Width||w+r.width<0||v-r.height>a.Height||v+r.height<0)&&!s.showEdgeLabels&&(_=!1),_){var o="M "+(h.X+this.canvasX)+" "+(h.Y+this.canvasY)+" L "+r.textOptions.x+" "+t,l=this.model.series[n].marker.dataLabel.connectorLine,p=ej.util.isNullOrUndefined(l.color)?this.model.series[n].fill:l.color,g={id:this.svgObject.id+"_dataLabelConnectorLine_series"+n+"_"+c,stroke:p,"stroke-width":l.width,d:o};this.model.series[n].connectorLines=!0,this.svgRenderer.drawPath(g,this.gConnectorEle[n])}},resetValues:function(n){n.textOptions.y=n.dataLabel.textY,n.yPos=n.dataLabel.y,n.textOptions.x=n.dataLabel.textX,n.xPos=n.dataLabel.x},isCollide:function(n,c,r,u,_,w){var t,o,l,p,g,b,C,T,D,L,v=0,a=0,s=!1,h=!1;if(u)"None"!=c.symbolName?(p=c.xPos,g=c.xPos+c.width,b=c.yPos-c.height/2,C=c.yPos+c.height/2):(p=c.textOptions.x-c.width/2,g=c.textOptions.x+c.width/2,b=c.textOptions.y-(90==c.textOptions.angle||-90==c.textOptions.angle?c.height/2:c.height),C=c.textOptions.y+(90==c.textOptions.angle||-90==c.textOptions.angle?c.height/2:0)),s=(l={X:(t=n.Region.Bounds).X-(o=_.model.m_AreaBounds).X,Y:t.Y-o.Y,Width:t.Width,Height:t.Height}).X<g&&l.X+l.Width>p&&l.Y<C&&l.Y+l.Height>b;else{T=(n.seriesIndex?this.model.series[n.seriesIndex].marker.dataLabel.border.width:0)+(c.seriesIndex?this.model.series[c.seriesIndex].marker.dataLabel.border.width:0);var I=this.model.series,R=I[n.seriesIndex],V=I[c.seriesIndex],F=n.xPos,A=n.yPos,z=c.xPos,N=c.yPos;n.xPos+=R.xAxis.x,n.yPos+=R.yAxis.y,c.xPos+=V.xAxis.x,c.yPos+=V.yAxis.y;var U=n.height,J=n.width,Q=c.height,oe=c.width;if(w&&(90==(D=w>360?w-360:w<-360?w+360:w)||-90==D)&&(U=n.width,J=n.height,Q=c.width,oe=c.height),n!=c&&((s=!(n.yPos+U<c.yPos||n.yPos>c.yPos+Q||n.xPos+J/2+T<=c.xPos-oe/2||n.xPos-J/2>=c.xPos+oe/2))&&(a=n.yPos+U-c.yPos,v=n.xPos+J-c.xPos),n.xPos=F,n.yPos=A),!s)for(L=0;L<this.model.markerRegion.length&&(F=(n=this.model.markerRegion[L]).xPos,A=n.yPos,n.xPos+=(R=I[n.seriesIndex]).xAxis.x,c.yPos+=R.yAxis.y,!(h=!(n.yPos+U<c.yPos-Q/2||n.yPos>c.yPos+Q||n.xPos+J<c.xPos||n.xPos>c.xPos+oe)));L++);n.xPos=F,n.yPos=A,c.xPos=z,c.yPos=N}return{state:s,marker:h,markerRegion:n,width:v,height:a}},drawAccDisplayText:function(n,c,r){var w,v,a,s,h,t,u=this,_=c._visiblePoints.length;if(u.firstStartAngle=[],"pyramid"!=(w=c.type.toLowerCase())&&"funnel"!=w&&"pieofpie"!=w&&(c.leftsidePoints.length>0||c.rightsidePoints.length>0)){for(v=c.rightsidePoints.length,a=c.leftsidePoints.length,h=0;h<v;h++)c.rightsidePoints[h].index=h,n.drawDataLabelAcc(u,c,c.rightsidePoints[h].pointIndex,c.rightsidePoints[h],r);for(s=a-1;s>=0;s--)c.leftsidePoints[s].index=s,n.drawDataLabelAcc(u,c,c.leftsidePoints[s].pointIndex,c.leftsidePoints[s],r)}else for(h=0;h<_;h++)c._visiblePoints[h].index=h,t="pieofpie"==w?c._visiblePoints[h].actualIndex:h,c._visiblePoints[h].start!=c._visiblePoints[h].startAngle&&(c._visiblePoints[h].startAngle=c._visiblePoints[h].start),isNaN(c._visiblePoints[h].startAngle)&&"pie"==c.type.toLowerCase()&&"pieofpie"==c.type.toLowerCase||n.drawDataLabelAcc(u,c,t,c._visiblePoints[h],r,c.collectionIndex);("pyramid"==c.type.toLowerCase()||"funnel"==c.type.toLowerCase())&&(this.svgRenderer.append(this.gConnectorEle,this.gSeriesEle),this.svgRenderer.append(this.gSymbolGroupEle,this.gSeriesEle),this.svgRenderer.append(this.gDataLabelEle,this.gSeriesEle),this.svgRenderer.append(this.gSeriesTextEle,this.gSeriesEle),this.svgRenderer.append(this.gSeriesEle,this.svgObject),this.vmlRendering||this.svgRenderer.append(this.svgObject,this.element))},_processOData:function(n){var c=this,r=n.type.toLowerCase(),u=n.dataSource.executeQuery(n.query);u.done(function(_){var w,a;for(c._processJsonData(_.result,n),n.visibility="visible",$(c.svgObject).empty(),$(c.legendSvgContainer).empty(),c.model.enableCanvasRendering&&(c.svgRenderer.ctx.clearRect(0,0,c.svgObject.width,c.svgObject.height),$("#canvas_trackSymbol").remove()),w=!0,a="pie"!=r||"doughnut"!=r?0:c.model.series.length-1;"pie"!=r||"doughnut"!=r?a<c.model.series.length:a>=0;"pie"!=r||"doughnut"!=r?a++:a--)if(c.model.series[a].dataSource&&"hidden"==c.model.series[a].visibility){w=!1;break}w&&c.draw()}),u.fail(function(){var _,w;for(n.visibility="visible",$(c.svgObject).empty(),$(c.legendSvgContainer).empty(),_=!0,w=0;w<c.model.series.length;w++)if(c.model.series[w].dataSource&&"hidden"==c.model.series[w].visibility){_=!1;break}_&&c.draw()})},_findDatatype:function(n,c){var r,u,_;if(null==n.xAxisName)r=null!=c.model.primaryXAxis.valueType&&"datetime"==c.model.primaryXAxis.valueType.toLowerCase();else for(u=0;u<c.model._axes.length;u++)r=(_=c.model._axes[u]).name==n.xAxisName&&null!=_.valueType&&"datetime"==_.valueType.toLowerCase();return r},_processJsonData:function(n,c){var p,g,r=c.xName,u=c.yName,_=c.pointColorMappingName,w=c.marker&&c.marker.dataLabel&&c.marker.dataLabel.textMappingName,v=c.type.toLowerCase(),a=document.createElementNS&&document.createElementNS("http://www.w3.org/2000/svg","svg")?n.length:void 0===n[n.length-1]?n.length-1:n.length,h="bubble"==v,t=!!n[0][r].indexOf||(c._hiloTypes?n[0][c.high]&&n[0][c.high].indexOf:!!(0==n[0][u]?0:n[0][u]||n[0][c.size]||0).indexOf),o=t&&n[0][r].indexOf&&-1!=n[0][r].indexOf("/Date("),l=0,b=this.model._hiddenPointIndex;if(c.points=new Array(a),t)"boxandwhisker"!=v&&this._processStringData(n,c,r,u,o,a);else for(;l<a;)p=n[l][r],c._hiloTypes||(g="string"==typeof n[l][u]?parseFloat(n[l][u]):n[l][u]),c.points[l++]={x:p,xValue:p,y:g,YValues:[g]};return"boxandwhisker"==v&&this._processBoxandWhiskerData(n,c,r,u,o),(h||_.length>0||w.length>0||b.length>0)&&this._processBubbleSize(n,c,t,_,w,b,h,a),c._hiloTypes&&this._processHiLoValues(n,c,t,v,a),0},_processBoxandWhiskerData:function(n,c,r,u,_){for(var a,s,w=0,v=n.length,h=n[0][r].indexOf&&-1!=n[0][r].indexOf("/Date(");w<v;)a=n[w][r],_&&(a=new Date(h?parseInt(a.substr(6)):a)),s=n[w][u],c.points[w++]={x:a,xValue:a,y:s,YValues:[s]}},_processStringData:function(n,c,r,u,_,w){for(var a,s,v=0,h=n[0][r].indexOf&&-1!=n[0][r].indexOf("/Date(");v<w;)a=n[v][r],!_||a instanceof Date||(a=new Date(h?parseInt(a.substr(6)):a)),s=parseFloat(n[v][u]),c.points[v++]={x:a,xValue:a,y:s,YValues:[s]}},_processBubbleSize:function(n,c,r,u,_,w,v,a){for(var s,h=0;h<a;h++)(s=c.points[h]).YValues[0]=r?parseFloat(n[h][c.yName]):n[h][c.yName],v&&(s.size=s.YValues[1]=r?parseFloat(n[h][c.size]):n[h][c.size]),u.length>0&&(s.fill=n[h][u]),_.length>0&&(s.text=n[h][_]),w.length>0&&h==w[h]&&(s.visibility="hidden")},_processHiLoValues:function(n,c,r,u,_){for(var w,v,a=0;a<_;a++)v=n[a],(w=c.points[a]).y=w.high=w.YValues[0]=r?this.tryParseFloat(v[c.high]):v[c.high],w.low=w.YValues[1]=r?this.tryParseFloat(v[c.low]):v[c.low],"hilo"!=u&&"rangecolumn"!=u&&"waterfall"!=u&&(w.open=w.YValues[2]=r?this.tryParseFloat(v[c.open]):v[c.open],w.close=w.YValues[3]=r?this.tryParseFloat(v[c.close]):v[c.close],c.volume&&(w.volume=w.YValues[4]=r?this.tryParseFloat(v[c.volume]):v[c.volume]))},tryParseFloat:function(n){return n&&n.length>0?parseFloat(n):n},bindTo:function(n){var u,_,w,v,a,s,h,t,c=this.model,r=c.series;for($("#"+this.svgObject.id+"_CrosshairVertical").remove(),$("#"+this.svgObject.id+"_CrosshairHorizontal").remove(),$.finish?($(".ejTooltip"+this._id).finish(),$(".tooltipDiv"+this._id).finish()):($(".ejTooltip"+this._id).stop(!0,!0),$(".tooltipDiv"+this._id).stop(!0,!0)),$(document).find('[id*="_TrackToolTip"]').remove(),$("#template_group_"+this._id).remove(),this.isChartElemId&&this.createElementsId(),c.primaryXAxis._valueType=null,c.primaryXAxis.position=null,c.primaryYAxis._valueType=null,c.primaryYAxis.position=null,c.requireInvertedAxes=!1,c._hiddenPointIndex=[],u=r.length,_=c.axes.length,h=0;h<_;h++)(w=c.axes[h])._valueType=null,w.position=null;if(c._axes)for(_=c._axes.length,a=0;a<_;a++)(w=c._axes[a])._valueType=null,w.position=null,w.zoomFactor=w._pointsLength&&w._pointsLength!=w.scrollbarSettings.pointsLength?1:w.zoomFactor;for(h=0;h<u;h++){if(t=r[h],v=["y","high","low","open","close"],!ej.isNullOrUndefined(t.points))for(a=0;a<t.points.length;a++)v.map(function(o){var l=t.points[a][o];ej.isNullOrUndefined(l)||(t.points[a][o]="string"==typeof l?parseFloat(l):l)});t.position=null,t.fill&&this.model.seriesColors&&t.fill!=this.model.seriesColors[h]&&(r[h].isFill=!0)}if(c.AreaType&&"none"==c.AreaType)for(t=r[0],h=0;t.points&&h<t.points.length;h++)"hidden"==(s=t.points[h])._visibility&&"none"==c.AreaType&&1==r.length&&(this.model._hiddenPointIndex[h]=h),s.isFill=s.fill&&c.pointColors&&s.fill!=c.pointColors[h]||s.isFill,s.fill=s.isFill?s.fill:null;if(c.enable3D&&(ej.Ej3DRender.transform=null),r){if(this.setModelProperties(n),!n)for(h=0;h<r.length;h++)(null==(t=r[h]).visibility||null==t.visibility)&&(t.visibility="visible"),t.type&&(t._hiloTypes="polar"==t.type.toLowerCase()||"radar"==t.type.toLowerCase()?ej.seriesTypes[t.drawType.toLowerCase()].prototype.hiloTypes:ej.seriesTypes[t.type.toLowerCase()].prototype.hiloTypes),t.points||(t.points=[]),t.dataSource&&(t.dataSource instanceof ej.DataManager?(t.visibility="hidden",!ej.isNullOrUndefined(t.query)&&t.query instanceof ej.Query||(t.query=ej.Query()),this._processOData(t)):t.dataSource.length>0&&(("string"==typeof t.dataSource||t.dataSource.toLowerCase)&&(t.dataSource=JSON.parse(t.dataSource.replace(/'''/g,'"'))),this._processJsonData(t.dataSource,t)));$(this.svgObject).width()>0&&this.draw(n)}},_createChartId:function(){var n=!1,c=0,r=$(this.element)[0].className.split(" ")[0];do{$("#"+r+"_"+c).length||($(this).attr("_id",r+"_"+c),$(this.element).attr("id",r+"_"+c),n=!0),c++}while(!n);this.isChartElemId=!0},createElementsId:function(){this.legendContainer.attr("id","legend_"+this._id),this.scrollerContainer.attr("id","legend_Scroller"+this._id),this.chartContainer.attr("id","chartContainer_"+this._id),this.axisScroll.attr("id","axisScrollbar_"+this._id),$(this.svgObject).attr("id",this._id+(this.model.enableCanvasRendering?"_canvas":"_svg"))},calculateHeight:function(n){var c=$(n.svgObject),r=n.model.size.height,_=$(n.element).height()/100*parseInt(r);return c.height(_),_},calculateWidth:function(n){var c=$(n.svgObject),r=n.model.size.width,_=$(n.element).width()/100*parseInt(r);return c.width(_),_},selectedStyle:function(n){for(var c=$("#"+n._id).find('[class*="Selection"]'),r=[],u=0;u<c.length;u++)r[u]=[],r[u].id=c[u].id,r[u].className=$("#"+r[u].id).attr("class");return $("[id $= Def ]").length>0&&(r.pattern=$("[id $= Def ]")),r},chartResize:function(){var _,w,n=this,c=$(n.svgObject),r=this.selectedStyle(n);this.removeMultiRect(),this._chartResize=!0,this.model.enableCanvasRendering&&($("[id*="+this._id+"_Selection_]").remove(),$("#canvas_trackSymbol").remove(),n.svgObject.getContext("2d").clearRect(0,0,this.svgRenderer.svgObj.width,this.svgRenderer.svgObj.height),"string"==typeof n.model.size.width&&-1!=n.model.size.width.indexOf("%")?(_=n.calculateWidth(n),this.svgRenderer.svgObj.width=_):this.svgRenderer.svgObj.width=$("#"+this._id).width(),"string"==typeof n.model.size.height&&-1!=n.model.size.height.indexOf("%")?(w=n.calculateHeight(n),this.svgRenderer.svgObj.height=w):this.svgRenderer.svgObj.height=ej.util.isNullOrUndefined(this.model.size.height)?"450":parseInt($(n.element).height())),this.resizeTO&&clearTimeout(this.resizeTO),this.resizeTO=setTimeout(function(){var v,a;if(!ej.util.isNullOrUndefined(n.model)&&("string"==typeof n.model.size.width&&-1!=n.model.size.width.indexOf("%")?n.calculateWidth(n):c.width($(n.element).width()),"string"==typeof n.model.size.height&&-1!=n.model.size.height.indexOf("%")?n.calculateHeight(n):c.height(n.model.size.height),$(n.svgObject).width()>0)){for($(n.svgObject).empty(),$(n.legendSvgContainer).empty(),$("#template_group_"+n._id).remove(),$("#annotation_group_"+n._id).remove(),n.disableAnimation(),v=0;v<n.model.series.length;v++)n.model.series[v].regionAdded=!1;for(n.draw(),a=0;a<r.length;a++)$("#"+r[a].id).attr("class",r[a].className);r.pattern&&n.svgRenderer.append(r.pattern,n.svgObject),n.zoomed&&!n.vmlRendering&&n._enableZoomingButtons(),n.enableAnimation()}},500)},isDevice:function(){return/mobile|tablet|android|kindle/i.test(navigator.userAgent.toLowerCase())},isWindows:function(){if(!(ej.getBooleanVal($("head"),"data-ej-android")||ej.getBooleanVal($("head"),"data-ej-ios")||ej.getBooleanVal($("head"),"data-ej-ios7")||ej.getBooleanVal($("head"),"data-ej-flat")))return this._windows()},_windows:function(){return/trident|windows phone/i.test(navigator.userAgent.toLowerCase())||!0===ej.getBooleanVal($("head"),"data-ej-windows",!1)},bindResizeEvents:function(){if(this.model._resizeEventRegistered)return 0;ej.isTouchDevice()&&this._isOrientationSupported()?this._on($(window),"orientationchange",this.chartResize):this._on($(window),"resize",this.chartResize),this.model._resizeEventRegistered=!0},removeResizeEvents:function(){this.model._resizeEventRegistered&&(ej.isTouchDevice()&&this._isOrientationSupported()?this._off($(window),"orientationchange",this.chartResize):this._off($(window),"resize",this.chartResize),this.model._resizeEventRegistered=!1)},_isOrientationSupported:function(){return"orientation"in window&&"onorientationchange"in window},_calculatePinchZoomPosition:function(n){var r,_,h,t,o,c=this.model.m_AreaBounds,u=this.model._axes,w=n.originalEvent.touches&&n.originalEvent.touches.length>0?n.originalEvent.touches[0]:n.originalEvent,v=w.pageX,a=w.pageY,s=this.previousPanTouch,l=0,p=u.length;if(v>c.X&&v<c.X+c.Width&&a>c.Y&&a<c.Y+c.Height){if(s||(s=this.previousPanTouch={pageX:v,pageY:a}),ej.isTouchDevice()||this.model.zooming.enableDeferredZoom)return this.oPreviousCoords={x:this.previousPanTouch.pageX,y:this.previousPanTouch.pageY},this.chartMouseMove(n);for(;l<p;l++)o=(t="horizontal"==(_=u[l]).orientation.toLowerCase())?(s.pageX-v)/_.width*_.zoomFactor:(s.pageY-a)/_.height*_.zoomFactor,r=_.zoomPosition,_.zoomPosition=this._ensureValueInMinMax(t?r+o:r-o,0,1-_.zoomFactor),h=h||r!=_.zoomPosition;this.previousPanTouch={pageX:v,pageY:a},h&&!this.chartUpdating&&(this.redraw(!0,h,n.target),this._enableZoomingButtons())}},_calculateTouchDistance:function(n,c){for(var r=[],u=0,_=c.length;u<_;u++)null==n[u]&&(n[u]=c[u]),r[u]={},u>0&&(r[u].scaleX=n[0].pageX!=n[1].pageX&&(c[0].pageX-c[1].pageX)/(n[0].pageX-n[1].pageX),r[u].scaleY=n[0].pageY!=n[1].pageY&&(c[0].pageY-c[1].pageY)/(n[0].pageY-n[1].pageY),r[u].center={x:(n[0].pageX+c[0].pageX)/2,y:(n[1].pageY+c[1].pageY)/2});return r},_ensureValueInMinMax:function(n,c,r){return n<c?c:n>r?r:n},_calculatePinchZoomFactor:function(n,c,r){var v,a,s,h,t,o,l,p,b,u=this.model,_=u._axes,w=!0,g=u.m_AreaBounds,C=1e4,T=0,D=_.length;if(c="x"==c?"horizontal":"y"==c?"vertical":null,null!=this.previousScale){for(;T<D;T++)if(!c||_[T].orientation===c){if(!(a="horizontal"==(o=_[T]).orientation?n[1].scaleX:n[1].scaleY))break;b="horizontal"==o.orientation?this.previousScale[1].scaleX:this.previousScale[1].scaleY,l=o.zoomFactor,p=o.zoomPosition,t=this._ensureValueInMinMax(1/o.zoomFactor,1,C),h=this._ensureValueInMinMax(t+t*(a-b)/b,1,C),s="horizontal"==o.orientation?n[1].center.x/g.Width:1-n[1].center.y/g.Height,o.zoomFactor=this._ensureValueInMinMax(1/h,1/C,1),o.zoomPosition=this._ensureValueInMinMax(p+(l-o.zoomFactor)*s,0,1-o.zoomFactor),v=v||l!=o.zoomFactor,w=w&&1==o.zoomFactor}!v||w||this.chartUpdating?w&&this.zoomed&&!this.chartUpdating&&(this.redraw(!0,!0,r),this.zoomed=!1,this._removeZoomkit()):(this.zoomed=!0,this.redraw(!0,!0,r),this._enableZoomingButtons())}this.previousScale=n},_addTouchPointer:function(n,c,r,u){for(u=n.length;u--;)if(c.pointerId==n[u].pointerId)return r&&(n[u]=c),0;n.push(c)},_removeTouchPointer:function(n,c,r){for(r=n&&n.length;r--;)if(c.pointerId==n[r].pointerId)return n.splice(r,1),0},_copyTouches:function(n){for(var c=[],r=0,u=n.length;r<u;r++)c[r]={pageX:n[r].pageX,pageY:n[r].pageY};return c},_initEventParams:function(){return{touches:[],movements:[]}},_pointerPinchStart:function(n){var r,c=n.originalEvent,u=this.model,_=u.m_AreaBounds,w=$(this.element).offset(),v=this.eventParams||(this.eventParams=this._initEventParams()),a=(c.pageX||c.changedTouches[0].pageX)-w.left,s=(c.pageY||c.changedTouches[0].pageY)-w.top;this.model.selectionEnable&&(this.cancelEvent(n),c.preventDefault()),!u.enable3D&&"cartesianaxes"==u.AreaType&&"mouse"!=c.pointerType&&4!=c.pointerType&&u.zooming.enable&&u.zooming.enablePinching&&(c.touches||c.pointerId)?-1!=(r=n.target.id).indexOf("ResetZoom")?this.resetZoom(n):-1!=r.indexOf("panIcon")?this.startPan(n):-1!=r.indexOf("ZoomIcon")?this.startZoom(n):-1!=r.indexOf("ZoomOut")||-1!=r.indexOf("ZoomIn")?this.startZoomInOut(n):a>_.X&&a<_.X+_.Width&&s>_.Y&&s<_.Y+_.Height?(c.touches?v.touches=this._copyTouches(c.touches):this._addTouchPointer(v.touches,{pageX:a,pageY:s,pointerId:c.pointerId}),v.touches.length<2&&this.chartMouseDown(n)):this.chartMouseDown(n):this.chartMouseDown(n)},_removeInteractions:function(){$("[id*=_TrackSymbol]").remove(),this._removeTrackBall(),this._removeHighlight(),$("#"+this.svgObject.id+"_TrackToolTip").hide(),$("#"+this._id+"_tooltip").remove()},_pinchGestureMove:function(n){var c=n.originalEvent.changedTouches[0],r=n.originalEvent.touches,u=this.model,_=$(this.element).offset(),w=u.m_AreaBounds,v=c.pageX-_.left,a=c.pageY-_.top;this.eventParams=this.eventParams||this._initEventParams(u,c),!u.enable3D&&"cartesianaxes"==u.AreaType&&"mouse"!=c.pointerType&&4!=c.pointerType&&u.zooming.enable&&u.zooming.enablePinching&&r&&v>w.X&&v<w.X+w.Width&&a>w.Y&&a<w.Y+w.Height?(this._removeInteractions(),r.length>1?this._calculatePinchZoomFactor(this._calculateTouchDistance(this.eventParams.touches,r),u.zooming.type,n.target):this.doPan||this.panning?this._calculatePinchZoomPosition(n):this.chartMouseMove(n)):this.chartMouseMove(n)},_pointerPinchMove:function(n){var c,r=0,u=n.originalEvent,_=$(this.element).offset(),w=u.pageX-_.left,v=u.pageY-_.top,a=this.model,s=this.eventParams||this._initEventParams(a,u),h=s.touches,t=this.previousPointerMove,o=h.length,l=s.movements;if(null!=t&&t.pageX==u.pagex&&t.pageY==u.pageY&&t.pointerId==n.pointerId)return!1;if(!a.enable3D&&"cartesianaxes"==a.AreaType&&"mouse"!=u.pointerType&&4!=u.pointerType&&a.zooming.enable&&a.zooming.enablePinching){if(w>(c=a.m_AreaBounds).X&&w<c.X+c.Width&&v>c.Y&&v<c.Y+c.Height)if(this._addTouchPointer(h,{pageX:w,pageY:v,pointerId:u.pointerId}),h&&h.length>1){for(;r<o;r++)this._addTouchPointer(l,h[r],!1);this._addTouchPointer(l,{pageX:w,pageY:v,pointerId:u.pointerId},!0),l[0].pageX==h[0].pageX&&l[1].pageX==h[1].pageX&&l[0].pageY==h[0].pageY&&l[1].pageY==l[1].pageY||this._calculatePinchZoomFactor(this._calculateTouchDistance(h,l),this.model.zooming.type,n.target)}else this.doPan||this.panning?this._calculatePinchZoomPosition(n):this.chartMouseMove(n);else h.length>0&&this._removeTouchPointer(h,n),l.length>0&&this._removeTouchPointer(l,n),this.chartMouseMove(n);this.previousPointerMove={pageX:w,pageY:v,pointerId:u.pointerId}}else this.chartMouseMove(n)},_pointerPinchEnd:function(n){var c=this.model,r=n.originalEvent,u=this.eventParams||(this.eventParams=this._initEventParams(c,r)),_=-1!=r.type.indexOf("leave")||-1!=r.type.indexOf("out")||-1!=r.type.indexOf("Out");!c.enable3D&&"cartesianaxes"==c.AreaType&&"mouse"!=r.pointerType&&4!=r.pointerType&&c.zooming.enable&&c.zooming.enablePinching&&(r.touches||r.pointerId)?(null!=this.continuePinching&&this.svgObject.removeChild(this.svgObject.firstChild),this.continuePinching=this.previousPanTouch=this.previousScale=null,r.touches?(this.eventParams=null,this.chartMouseUp(n),_&&this.chartMouseLeave(n)):(this._removeTouchPointer(u.touches,{pointerId:r.pointerId}),u.movements.length>0&&this._removeTouchPointer(u.movements,{pointerId:r.pointerId}),0==u.touches.length&&(this.chartMouseUp(n),_&&this.chartMouseLeave(n),this.eventParams=null))):(this.chartMouseUp(n),_&&this.chartMouseLeave(n))},_appendStyle:function(n){var c="#"+n+".e-canvas * {touch-action:none; -ms-touch-action:none}",r=document.head||document.body,u=document.createElement("style");u.type="text/css",u.appendChild(document.createTextNode(c)),r.appendChild(u)},bindEvents:function(){var s,h,n=jQuery.uaMatch(navigator.userAgent),c=ej.EjSvgRender.utils.browserInfo(),r=c.isMSPointerEnabled,u=c.pointerEnabled,_=r?u?"pointerdown":"MSPointerDown":"touchstart mousedown",w=r?u?"pointerup":"MSPointerUp":"touchend mouseup",v=r?u?"pointermove":"MSPointerMove":"touchmove mousemove",a=r?u?"pointerleave":"MSPointerOut":"touchleave mouseleave";this.model.browserInfo=c,window.navigator.maxTouchPoints>1&&window.PointerEvent||window.PointerEventsPolyfill?(this._on(this.element,"pointerup pointerleave",this._pointerPinchEnd),this._on(this.element,"pointerdown",this._pointerPinchStart),this._on(this.element,"pointermove",this._pointerPinchMove),this._appendStyle(this.element[0].id)):window.TouchEvent?(this._on(this.element,"touchstart",this._pointerPinchStart),this._on(this.element,"touchmove",this._pinchGestureMove),this._on(this.element,"touchend",this._pointerPinchEnd),this._on($(this.element),"mousedown",this.chartMouseDown),this._on($(this.element),"mousemove",this.chartMouseMove),this._on(this.element,"mouseleave",this.chartMouseLeave),this._on($(document),"mouseup",this.chartMouseUp),this._appendStyle(this.element[0].id)):window.navigator.msMaxTouchPoints&&window.navigator.msPointerEnabled?(this._on(this.element,"MSPointerUp",this._pointerPinchEnd),this._on(this.element,"mouseleave",this.chartMouseLeave),this._on(this.element,"MSPointerDown",this._pointerPinchStart),this._on(this.element,"MSPointerMove",this._pointerPinchMove),this._appendStyle(this.element[0].id)):(this._on(this.element,v,this.chartMouseMove),this._on(this.element,a,this.chartMouseLeave),this._on($(document),w,this.chartMouseUp),this._on($(this.element),_,this.chartMouseDown)),this._isSafari=!!navigator.userAgent.match(/Version\/[\d\.]+.*Safari/),1!=(this.isDevice()&&this._isSafari)&&this._on($(this.element),"click",this.chartMouseClick),this._on($(this.element),"contextmenu",this.chartRightClick),this._on($(this.element),"dblclick",this.chartMouseDoubleClick),(this.model.canResize||this.model.isResponsive)&&this.bindResizeEvents(),s=this.model.zooming.enable||this.model.commonSeriesOptions.dragSettings.enable?"none":"pan-y",$(this.element).css({"ms-touch-action":s,"touch-action":s,"content-zooming":"none"}),$(this.element).css({"-webkit-touch-callout":"none","-webkit-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none"}),h="mozilla"==n.browser.toLowerCase()?u?"mousewheel":"DOMMouseScroll":"mousewheel",this._on(this.element,h,this.chartMouseWheel)},calZoomFactors:function(n,c,r,u){var _,w;return 1==n?(_=1,w=0):w=u+(r-(_=ej.EjSvgRender.utils._minMax(1/n,0,1)))*c,{zoomMFactor:_,zoomMPosition:w}},doMouseWheelZoom:function(n,c,r){if(n>=1){var u=this.calZoomFactors(n,c,r.zoomFactor,r.zoomPosition);if(r.zoomPosition!=u.zoomMPosition||r.zoomFactor!=u.zoomMFactor)return this.zoomed=!0,r.zoomPosition=u.zoomMPosition,r.zoomFactor=u.zoomMPosition+u.zoomMFactor>1?1-u.zoomMPosition:u.zoomMFactor,!0}return!1},enableAnimation:function(){for(var c=0;c<this.model.series.length;c++)this.model.series[c].enableAnimation=this.serAnimation[c]},disableAnimation:function(){for(var n,c=this,r=0;r<c.model.series.length;r++)c.model.series[r].enableAnimation=!1;for(n=0;n<c.model.indicators.length;n++)c.model.indicators[n].enableAnimation=!1},_removeTrackBall:function(){var c,n="#"+this.svgObject.id;$("#"+this.svgObject.id+"_trackSymbol").remove(),$(document).find("#measureTex").remove(),this.chartCross.visible&&(c=$(this.svgObject).find(n+"_AxisCrossToolTip"),this.svgRenderer._setAttr($(c),{visibility:"hidden"}),c=$(this.svgObject).find(n+"_CrosshairVertical"),this.svgRenderer._setAttr($(c),{d:"M 0 0"}),c=$(this.svgObject).find(n+"_CrosshairHorizontal"),this.svgRenderer._setAttr($(c),{d:"M 0 0"}),c=$(this.svgObject).find(n+"_TrackAxisToolTip"),this.svgRenderer._setAttr($(c),{visibility:"hidden"}),c=$(this.svgObject).find(n+"_Tracker"),this.svgRenderer._setAttr($(c),{d:"M 0 0"}),c=$(this.svgObject).find('[id*="_TrackToolTip"]'),this.svgRenderer._setAttr($(c),{visibility:"hidden"}),c=$(this.svgObject).find('[id*="_TrackToolTip"]').children(),this.svgRenderer._setAttr($(c),{visibility:"hidden"}),$(c).css("visibility","hidden"),c=$(this.svgObject).find('[id*="_trackSymbol_"]'),this.svgRenderer._setAttr($(c),{visibility:"hidden"}),$(document).find('[id*="_TrackToolTipTemplate_"]').attr("visibility","hidden"),$(document).find('[id*="_TrackToolTipTemplate_"]').css("display","none"),$(n+"_CrosshairVertical").css("display","none"),$(n+"_CrosshairHorizontal").css("display","none"),$("#"+this._id).find('[id*="canvas_AxisToolTipRect"]').css("visibility","hidden"),$("#"+this._id).find('[id*="canvas_Tracker"]').remove(),$("#"+this._id).find('[id*="canvas_trackSymbol"]').css("visibility","hidden"),$("#"+this._id).find('[id*="_gTooltip_"]').remove(),$("#secondCanvas").remove(),$(document).find('[id*="TrackGroupToolTipTemplate"]').remove(),$(document).find('[id*="_TrackToolTipTemplate_"]').remove(),$("#"+this._id).find('[id*="_trackball_grouping_tooltip"]').remove())},enableTrackBall:function(){this.model.crosshair.visible=this.chartCross.visible,this.model.crosshair.type=this.chartCross.mArea},disableTrackBall:function(){this.model.crosshair.visible=!1,this._removeTrackBall()},_enableZoomingButtons:function(){var c,r,u,_,w,v,n=this.svgObject.id;if("cartesianaxes"!=this.model.AreaType&&($("#"+n+"_ResetZoom").remove(),$("#"+n+"_PanBtn").remove(),$("#"+n+"_ZoomBtn").remove(),$("#"+n+"_ZoomInBtn").remove(),$("#"+n+"_ZoomOutBtn").remove()),"cartesianaxes"==this.model.AreaType)for(this._removeZoomkit(),c=this.model.zooming.isReversed,this.toolbarItems||(this.toolbarItems=$.extend(!0,[],this.model.zooming.toolbarItems),this.toolbarItems.reverse()),v=(u=(r=c?this.toolbarItems:this.model.zooming.toolbarItems).length)-1;v>=0;v--)switch(_=r[v],w=u-v,_){case"reset":this.resetZoomButton(w);break;case"pan":this.panButton(w);break;case"zoom":case"zoomIn":case"zoomOut":this.zoomButton(w,_);break;default:u-=1}},chartMouseWheel:function(n){var c,r,u,_,w,v;if($("#"+this.svgObject.id+"_TrackToolTip").hide(),$(document).find('[id*="TrackGroupToolTipTemplate"]').remove(),$(document).find('[id*="_TrackToolTipTemplate_"]').remove(),$(this.svgObject).find('[id*="_trackSymbol_"]').remove(),this.model.zooming.enableMouseWheel&&"cartesianaxes"==this.model.AreaType&&!this.model.enable3D&&!this.vmlRendering&&ej.util.isNullOrUndefined(this.model.isLazyZooming)){c=this,this.zoomed=!1;var s=!1,h="#"+c.svgObject.id,a=jQuery.uaMatch(navigator.userAgent),t=!!navigator.userAgent.match(/Trident\/7\./),o=n.originalEvent.wheelDelta,l="mozilla"==a.browser.toLowerCase()?t?o/120>0?1:-1:-n.originalEvent.detail/3>0?1:-1:o/120>0?1:-1;for(u=0;u<this.model._axes.length;u++)("vertical"==(_=this.model._axes[u]).orientation.toLowerCase()&&("y"==c.model.zooming.type.toLowerCase()||"x,y"==c.model.zooming.type.trim().toLowerCase())||"horizontal"==_.orientation.toLowerCase()&&("x"==c.model.zooming.type.toLowerCase()||"x,y"==c.model.zooming.type.trim().toLowerCase()))&&(w=Math.max(1/ej.EjSvgRender.utils._minMax(_.zoomFactor,0,1),1),v=Math.max(w+.25*l,1),s|=c.doMouseWheelZoom(v,.5,_)),1!=_.zoomFactor&&0!=_.zoomPosition&&(r=!0),this.resetZooming=1==_.zoomFactor&&0==_.zoomPosition;this._updateScroll(),this.disableAnimation(),this.disableTrackBall(),s&&(this.model.legendCollapsed=!1,this.zoomed=!0,c.redraw(!0)),this.model._chartAreaZoom=!0,this._enableZoomingButtons(),this.mouseWheelCoords={x:n.originalEvent.pageX,y:n.originalEvent.pageY},r||($(h+"_ResetZoom").remove(),$(h+"_PanBtn").remove(),$(h+"_ZoomBtn").remove(),$(h+"_ZoomInBtn").remove(),$(h+"_ZoomOutBtn").remove(),this.enableAnimation(),this.panning=!1),a=jQuery.uaMatch(navigator.userAgent),n.preventDefault&&"chrome"==a.browser&&this.model.zooming.enable&&n.preventDefault(),n.returnValue=!1}$(".tooltipDiv"+this._id).remove()},getAxisMultiLevelLabelsData:function(n){var u,_,w,s,c=this.calMousePosition(n),r=this.model.multiLevelLabelRegions.length;for(this.mousemoveX=c.X,this.mousemoveY=c.Y,s=0;s<r;s++)if(w=(u=this.model.multiLevelLabelRegions[s]).bounds.y,this.mousemoveX>=(_=u.bounds.x)&&this.mousemoveX<=_+u.bounds.width&&this.mousemoveY<=w+u.bounds.height&&this.mousemoveY>=w)return{location:{x:this.mousemoveX,y:this.mousemoveY},axis:this.model._axes[u.axisIndex],multiLevelLabel:u.multiLevelLabel}},getAxisLabelData:function(n){var u,_,w,v,a,s,o,l,c=this.calMousePosition(n),r=n.target.id,t=this.model._axes.length;if(this.mousemoveX=c.X,this.mousemoveY=c.Y,"cartesianaxes"==this.model.AreaType||"polaraxes"==this.model.AreaType)if(this.model.enable3D){if(r.indexOf("horizontal")>=0||r.indexOf("vertical")>=0)for(o=0;o<t;o++)for(s=this.model._axes[o].visibleLabels.length,l=0;l<s;l++)if(r==this.svgObject.id+this.model._axes[o].orientation+l)return{location:{x:this.mousemoveX,y:this.mousemoveY},index:l,axis:this.model._axes[o],text:this.model._axes[o].visibleLabels[l].Text}}else for(o=0;o<t;o++)if(s=this.model._axes[o].visibleLabels.length,this.model._axes[o].visible)for(l=0;l<s;l++)if(u=this.model._axes[o].visibleLabels[l].region,!ej.util.isNullOrUndefined(u)&&(_=u.bounds.x,w=u.bounds.y,v=u.bounds.width,a=u.bounds.height,_=this.vmlRendering&&r.indexOf("_YLabel_")>=0?this.model._axes[o].opposedPosition?_:_+v:_,this.mousemoveX>=_&&this.mousemoveX<=_+v&&(this.vmlRendering?this.mousemoveY<=w+a&&this.mousemoveY>=w:this.mousemoveY>=w-a&&this.mousemoveY<=w)))return{location:{x:this.mousemoveX,y:this.mousemoveY},index:l,axis:this.model._axes[o],text:u.labelText}},getLegendData:function(n){var c=this.calMousePosition(n),r=this.model.legend.isReversed;c.X=r&&($("#legend_"+this._id).find('[class*="e-vscrollbar"]').length||"scroll"==$("#legend_"+this._id)[0].style.overflowY)?c.X-18:c.X,c.X-=parseFloat($(this.element).css("padding-left")),c.Y-=parseFloat($(this.element).css("padding-top"));var _,u=this.model.legend._ejScroller,w=0;_=u?$("#legend_"+this._id).ejScroller("instance").model.scrollTop:$("#legend_"+this._id).scrollTop(),w=u?$("#legend_"+this._id).ejScroller("instance").model.scrollLeft:$("#legend_"+this._id).scrollLeft(),r&&u&&(w=0==w?$("#legend_"+this._id).ejScroller("instance")._rtlScrollLeftValue:$("#legend_"+this._id).ejScroller("instance").model.scrollLeft==$("#legend_"+this._id).ejScroller("instance")._rtlScrollLeftValue?0:$("#legend_"+this._id).ejScroller("instance")._rtlScrollLeftValue-$("#legend_"+this._id).ejScroller("instance").model.scrollLeft),this.scrolltop=_||0,this.scrollleft=w||0,this.mousemoveX=c.X+w,this.mousemoveY=c.Y+_;var t,v=n.target.id,a=this.mousemoveX,s=this.mousemoveY,h=this._id;return!(!(!ej.util.isNullOrUndefined(v)&&this.svgRenderer._getAttrVal($(n.target).parents(":eq(1)"),"id")==this.svgObject.id+"_Legend"||this.model.enableCanvasRendering&&v=="legend_"+h+"_canvas"||this.vmlRendering)||($.each(this.model.legendRegion,function(o,l){a>=l.Bounds.LegendBound.X+l.Bounds.ItemBound.X&&a<=l.Bounds.LegendBound.X+l.Bounds.ItemBound.X+l.Bounds.ItemBound._Width&&(s>=l.Bounds.LegendBound.Y+l.Bounds.ItemBound.Y-l.Bounds.ItemBound.Height/4&&s<=l.Bounds.LegendBound.Y+l.Bounds.ItemBound.Y+l.Bounds.ItemBound.Height?(t=l,$("#legend_"+h+"_canvas").css("cursor","pointer")):$("#legend_"+h+"_canvas").css("cursor","default"))}),ej.util.isNullOrUndefined(t)))&&{legendItem:t,series:this.model._visibleSeries[t.LegendItem.SeriesIndex]}},get3DSeriesPoint:function(n){var a,s,h,t,o,l,c=this.mousemoveX,r=this.mousemoveY,u="polaraxes"==this.model.AreaType?0:this.model.m_AreaBounds.X,_="polaraxes"==this.model.AreaType?0:this.model.m_AreaBounds.Y,w="polaraxes"==this.model.AreaType?$(this.svgObject).width():this.model.m_AreaBounds.Width,v="polaraxes"==this.model.AreaType?$(this.svgObject).height():this.model.m_AreaBounds.Height;if(c>u&&c<u+w&&r>_&&r<_+v&&("path"==(t=$(n.target)[0].nodeName)||"shape"==t)&&$(n.target)[0].id.indexOf("Region")>1)return a=$(n.target)[0].id.match(/(\d+)/g),s=parseInt(a[a.length-1]),h=parseInt(a[a.length-2]),(o={}).Region={},o.Region.PointIndex=s,o.SeriesIndex=h,(l={}).pointIndex=s,{region:o,pointData:l,location:{x:c,y:r}}},GetSeriesPoint:function(n){for(var c,r,u,_,w,o,l,h=this.mousemoveX,t=this.mousemoveY,p=this,g=p.model.indicators,b=p.model._visibleSeries,C=0;C<g.length&&g[C].segment;C++)b=b.concat(g[C].segment);if(p.model.enable3D)return this.get3DSeriesPoint(n);var T="polaraxes"==this.model.AreaType?0:this.model.m_AreaBounds.X,D="polaraxes"==this.model.AreaType?0:this.model.m_AreaBounds.Y,L="polaraxes"==this.model.AreaType?$(this.svgObject).width():this.model.m_AreaBounds.Width,I="polaraxes"==this.model.AreaType?$(this.svgObject).height():this.model.m_AreaBounds.Height;if("cartesianaxes"==this.model.AreaType||"polaraxes"==this.model.AreaType){if(h>T&&h<T+L&&t>D&&t<D+I&&$.each(this.model.chartRegions,function(oe,ue){var le,ne,he,ee,W,M,xe,O,te;if(ej.util.isNullOrUndefined(ue.SeriesIndex)){if(u=p.model.chartRegions,!ue.isStripLine){var _e=ue.length,be=p.model.requireInvertedAxes?p.model.series[ue[_e-1].SeriesIndex]._xAxisName:p.model.series[ue[_e-1].SeriesIndex]._yAxisName;for(O=0;O<p.model._axes.length;O++)if(be==p.model._axes[O].name){xe=p.model._axes[O];break}for(B=0;B<u.length;B++)for(H=0;H<u[B].length;H++)Z=[],(te=u[B][H].region)[0]&&Z.push({x:te[0].X+xe.x,y:te[0].Y+xe.y}),te[1]&&Z.push({x:te[1].X+xe.x,y:te[1].Y+xe.y}),te[2]&&Z.push({x:te[2].X+xe.x,y:te[2].Y+xe.y}),te[3]&&Z.push({x:te[3].X+xe.x,y:te[3].Y+xe.y}),p.isPointInPolygon(Z,ae={x:h,y:t})&&(o=u[B][H])}}else if(le=b[ue.SeriesIndex],"polaraxes"==p.model.AreaType&&"column"==le.drawType.toLowerCase()&&n.target||"rangecolumn"==le.drawType.toLowerCase()){if(p.model.enableCanvasRendering){if("polar"==le.type.toLowerCase()){var ke,Ne,se=ue.Region.Bounds,Ce=-.5*Math.PI,Pe=se.innerRadius||se.DRadius;ke=h-se.CenterX,Ne=t-se.CenterY;var Oe=p.model._visibleSeries[ue.SeriesIndex].startAngle?2*Math.PI*(p.model.itemCurrentXPos<0?1+p.model.itemCurrentXPos:p.model.itemCurrentXPos):0,Fe=(Math.atan2(Ne,ke)-Ce-Oe)%(2*Math.PI);Fe<0&&0!=se.PointIndex&&(Fe=2*Math.PI+Fe),ne=parseFloat(se.StartAngle.toFixed(14)),he=parseFloat(se.EndAngle.toFixed(14)),he-=Oe,Fe>=(ne-=Oe)&&Fe<=he&&(oe=se.PointIndex,(c=Math.sqrt(Math.pow(Math.abs(ke),2)+Math.pow(Math.abs(Ne),2)))<=se.Radius&&c>Pe&&(o={Region:{PointIndex:oe},SeriesIndex:ue.SeriesIndex,type:ue.type}))}else if("radar"==le.type.toLowerCase()&&(se=ue.Region.Bounds).Line1){U=se.Line4;var Z=[{x:(te=se.Line1).x,y:te.y},{x:(z=se.Line2).x,y:z.y},{x:(N=se.Line3).x,y:N.y}],ae={x:h,y:t};if("column"==le.drawType.toLowerCase())for(var re=!1,B=-1,$e=Z.length,H=$e-1;++B<$e;H=B)(Z[B].y<=ae.y&&ae.y<Z[H].y||Z[H].y<=ae.y&&ae.y<Z[B].y)&&ae.x<(Z[H].x-Z[B].x)*(ae.y-Z[B].y)/(Z[H].y-Z[B].y)+Z[B].x&&(re=!re);else for(ee=[{x:te.x,y:te.y},{x:z.x,y:z.y},{x:N.x,y:N.y},{x:U.x,y:U.y}],B=0,H=2,re=!1,W=0;W<ee.length;W++)(ee[B].y<=ae.y&&ae.y<ee[H].y||ee[H].y<=ae.y&&ae.y<ee[B].y)&&ae.x<(ee[H].x-ee[B].x)*(ae.y-ee[B].y)/(ee[H].y-ee[B].y)+ee[B].x&&(re=!re),O=B,B=H,H=++O,2==W&&(H=0);re&&(o={Region:{PointIndex:oe=se.PointIndex},SeriesIndex:ue.SeriesIndex,type:ue.type})}}else if(("path"==(M=$(n.target)[0].nodeName)||"shape"==M)&&$($(n.target).parent())[0].id==p.svgObject.id+"_SeriesGroup_"+ue.SeriesIndex)return oe=$(n.target)[0].id.match(/(\d+)/g),l=parseInt(oe[oe.length-1]),o=ue={Region:{PointIndex:l},SeriesIndex:ue.SeriesIndex,type:ue.type},!1}else h>=ue.Region.Bounds.X&&h<=ue.Region.Bounds.X+ue.Region.Bounds.Width&&t>ue.Region.Bounds.Y&&t<ue.Region.Bounds.Y+ue.Region.Bounds.Height&&(o=ue)}),o)return{region:o,location:{x:h,y:t}}}else{if(!((_=(p=this).model.chartRegions).length>0)||"pyramid"!=_[0].Series.type.toLowerCase()&&"funnel"!=_[0].Series.type.toLowerCase())return $.each(p.model.chartRegions,function(oe,ue){var ee,re,pe,M,fe,xe,O,Z,le=-.5*Math.PI,ne=ue.SeriesData,he=ue.Region,se="doughnut"==p.model._visibleSeries[ue.SeriesIndex].type.toLowerCase()?ne.DRadius:0;ee=h-ne.CenterX,re=t-ne.CenterY;var te=p.model._visibleSeries[ue.SeriesIndex],ae=te.startAngle,de=te.endAngle;if(ae=ae<0?ae+360:ae,de=de<0?de+360:de,te.endAngle-te.startAngle<0){for(pe=(de/=360)?2*Math.PI*(de<0?1+de:de):0,(M=(Math.atan2(re,ee)-le-pe)%(2*Math.PI))<0&&(M=2*Math.PI+M),v=[],fe=0;fe<he.length;fe++)if(xe=parseFloat(he[fe].StartAngle.toFixed(14)),O=parseFloat(he[fe].EndAngle.toFixed(14)),xe=xe<0?2*Math.PI+xe:xe,O=O<0?2*Math.PI+O:O,xe-=pe,O-=pe,xe=parseFloat(xe.toFixed(14)),O=parseFloat(O.toFixed(14)),te.startAngle>=0&&te.endAngle<=0&&(xe=xe<=0?2*Math.PI+xe:xe,O=O<0?2*Math.PI+O:O),M<=xe&&M>=O){v.push(he[fe]);break}}else for(pe=ae?2*Math.PI*(p.model.itemCurrentXPos<0?1+p.model.itemCurrentXPos:p.model.itemCurrentXPos):0,(M=(Math.atan2(re,ee)-le-pe)%(2*Math.PI))<0&&(M=p.model._isPieOfPie?M:2*Math.PI+M),v=[],fe=0;fe<he.length;fe++)if(xe=parseFloat(he[fe].StartAngle.toFixed(14)),O=parseFloat(he[fe].EndAngle.toFixed(14)),xe=xe<0?p.model._isPieOfPie?xe:2*Math.PI+xe:xe,O=O<0?2*Math.PI+O:O,xe-=pe,O-=pe,xe=parseFloat(xe.toFixed(14)),O=parseFloat(O.toFixed(14)),te.startAngle<0&&(te.endAngle>-1||null==te.endAngle)&&(xe=xe<0?2*Math.PI+xe:xe,O=O<=0?2*Math.PI+O:O),M+2*Math.PI<O&&"pieofpie"==te.type&&(M+=2*Math.PI),M>=xe&&M<=O){v.push(he[fe]);break}v.length>0&&(te.explodeAll||te.explodeIndex==v[0].PointIndex?(Z=t-v[0].StartY,v.length>0&&(c=Math.sqrt(Math.pow(Math.abs(h-v[0].StartX),2)+Math.pow(Math.abs(Z),2)))<=ne.Radius&&c>se&&(he.PointIndex=v[0].PointIndex,he.Index=v[0].Index,he.SeriesIndex=v[0].SeriesIndex,o={region:ue,pointData:v,location:{x:h,y:t}})):(c=Math.sqrt(Math.pow(Math.abs(ee),2)+Math.pow(Math.abs(re),2)))<=ne.Radius&&c>se&&(he.PointIndex=v[0].PointIndex,he.Index=v[0].Index,he.SeriesIndex=v[0].SeriesIndex,o={region:ue,pointData:v,location:{x:h,y:t}}))}),o;if(("path"==(w=$(n.target)[0].nodeName)||"shape"==w)&&$($(n.target).parent())[0].id==p.svgObject.id+"_SeriesGroup_"+_[0].SeriesIndex)return u=p.model.chartRegions[0],r=$(n.target)[0].id.match(/(\d+)/g),r=parseInt(r[r.length-1]),u.Region.PointIndex=r,(v={}).pointIndex=r,o={region:u,pointData:v,location:{x:h,y:t}};u=_[0];var F,A,z,N,U,J,Q,R=this.pyrX,V=this.pyrY,v={};for(C=0;C<u.Region.length;C++)if(A=u.Region[C].Line1,z=u.Region[C].Line2,N=u.Region[C].Line3,U=u.Region[C].Line4,F="pyramid"==_[0].Series.type.toLowerCase()?[{x:A.x+R,y:A.y+V},{x:z.x+R,y:z.y+V},{x:N.x+R,y:N.y+V},{x:U.x+R,y:U.y+V}]:[{x:A.x+R,y:A.y+V},{x:z.x+R,y:z.y+V},{x:N.x+R,y:N.y+V},{x:U.x+R,y:U.y+V},{x:(J=u.Region[C].Line5).x+R,y:J.y+V},{x:(Q=u.Region[C].Line6).x+R,y:Q.y+V}],this.isPointInPolygon(F,{x:h,y:t}))return v.pointIndex=u.Region[C].PointIndex,u.Region.PointIndex=v.pointIndex,o={region:u,pointData:v,location:{x:h,y:t}}}},isPointInPolygon:function(n,c){for(var r=!1,u=-1,_=n.length,w=_-1;++u<_;w=u)(n[u].y<=c.y&&c.y<n[w].y||n[w].y<=c.y&&c.y<n[u].y)&&c.x<(n[w].x-n[u].x)*(c.y-n[u].y)/(n[w].y-n[u].y)+n[u].x&&(r=!r);return r},mousePosition:function(n){return!ej.util.isNullOrUndefined(n.pageX)&&n.pageX>0?{x:n.pageX,y:n.pageY}:n.originalEvent&&!ej.util.isNullOrUndefined(n.originalEvent.pageX)&&n.originalEvent.pageX>0?{x:n.originalEvent.pageX,y:n.originalEvent.pageY}:n.originalEvent&&null!=n.originalEvent.changedTouches?!ej.util.isNullOrUndefined(n.originalEvent.changedTouches[0].pageX)&&n.originalEvent.changedTouches[0].pageX>0?{x:n.originalEvent.changedTouches[0].pageX,y:n.originalEvent.changedTouches[0].pageY}:void 0:{x:0,y:0}},calMousePosition:function(n){var c=jQuery.uaMatch(navigator.userAgent),r=this.mousePosition(n);return n.pageX=r.x,n.pageY=r.y,c.browser.toLowerCase(),{X:n.pageX-$(this.svgObject).offset().left,Y:n.pageY-$(this.svgObject).offset().top}},calTouchPosition:function(n){var r,u,_,c=jQuery.uaMatch(navigator.userAgent);return"mozilla"==c.browser.toLowerCase()||"webkit"==c.browser.toLowerCase()?(r=(_=n.originalEvent.touches[0]).pageX-$(this.svgObject).parent().offset().left,u=_.pageY-$(this.svgObject).parent().offset().top,this.leftPadding=$(this.svgObject).offset().left,this.grabPadding=0):"msie"==c.browser.toLowerCase()?(r=n.originalEvent.pageX-$(this.svgObject).offset().left,u=n.originalEvent.pageY-$(this.svgObject).offset().top,this.leftPadding=$(this.svgObject).offset().left):(r=(_=n.originalEvent.touches[0]).pageX-$(this.svgObject).offset().left,u=_.pageY-$(this.svgObject).offset().top,this.leftPadding=$(this.svgObject).offset().left),{X:r,Y:u}},cancelEvent:function(n){return n.stopPropagation(),"chrome"==jQuery.uaMatch(navigator.userAgent).browser&&(this.model.zooming.enable||this.model.crosshair.visible)&&n.preventDefault(),this.model.enable3D&&(n.preventDefault(),n.stopPropagation()),n.returnValue=!1,n.cancelBubble=!0,!1},resetZoom:function(){var n=this,c="#"+this.svgObject.id;$(".tooltipDiv"+this._id).remove(),$(".zoom"+this._id).remove(),n.zoomed&&($.each(this.model._axes,function(r,u){u.zoomed=!1,u.zoomFactor=1,u.zoomPosition=0}),n.model.primaryXAxis.zoomFactor=1,n.model.primaryYAxis.zoomFactor=1,n.model.primaryXAxis.zoomPosition=0,n.model.primaryYAxis.zoomPosition=0,$("#"+n._id+"_canvas").css({cursor:"default"}),$(c+"_ResetZoom").remove(),$(c+"_PanBtn").remove(),$(c+"_ZoomBtn").remove(),$(c+"_ZoomInBtn").remove(),$(c+"_ZoomOutBtn").remove(),n.zoomed=!1,n.zooming=!1,n.panning=!1,n.model._chartAreaZoom=!1,n.resetZooming=!0,n.enableTrackBall(),n.redraw(!0),n.enableAnimation(),n.svgRenderer._setAttr($(n.svgObject).find(c+"_XAxis,"+c+"_ChartArea,"+c+"_YAxis,"+c+"_SeriesCollection"),{cursor:"default"}))},startZoomInOut:function(n){var r,u,c=n.target.id.indexOf("ZoomIn")>-1?"zoomIn":"zoomOut";this.drag=!1,this.zoomed=!0;var a,s,h,t,_=this.model.zooming.type.toLowerCase(),w="zoomIn"==c?.2:-.2,v=!0;for(r=0;r<this.model._axes.length;r++)s=(a=this.model._axes[r]).zoomFactor,h=a.zoomPosition,"horizontal"==a.orientation.toLowerCase()?(a.zoomFactor="y"!=_?s-w:a.zoomFactor,a.zoomPosition="y"!=_?h+w:a.zoomPosition):(a.zoomFactor="x"!=_?s-w:a.zoomFactor,a.zoomPosition="x"!=_?h+w:a.zoomPosition),parseFloat(a.zoomFactor.toFixed(3))<=.001&&(a.zoomFactor=s,a.zoomPosition=h),parseFloat(a.zoomFactor.toFixed(3))>=1&&(a.zoomFactor=1,a.zoomPosition=0),v=v&&1==a.zoomFactor,this.resetZooming=1==a.zoomFactor&&0==a.zoomPosition;t=this._getZoomedData(this),(u=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data={},u.data.series=t,this._trigger("zoomed",u),this._updateScroll(),this.redraw(!0),v?(this._removeZoomkit(),this.resetZooming=!0,this.zoomed=this.panning=!1,this.model._chartAreaZoom=!1):this._enableZoomingButtons()},startZoom:function(){var r,n=this,c="#"+this.svgObject.id;$(".tooltipDiv"+this._id).remove(),r=this.model.theme.toLowerCase().indexOf("dark")>=0?"#000000":" #FFFFFF",n.svgRenderer._setAttr($(c+"_ZoomBtn"),{selected:"true"}),n.svgRenderer._setAttr($(c+"_ZoomPath"),{fill:"#14B9FF"}),n.svgRenderer._setAttr($(c+"_ZoomIcon"),{fill:"#FFFFFF"}),n.svgRenderer._setAttr($(c+"_PanPath"),{fill:"#B7B7B7"}),n.svgRenderer._setAttr($(c+"_panIcon"),{fill:r}),$(c+"_ZoomBtn").css({"border-color":"#14B9FF","background-color":"#14B9FF"}),$(c+"_PanBtn").css({"border-color":"#B7B7B7","background-color":"#B7B7B7"}),$("#"+n._id+"_canvas").css({cursor:"default"}),this._cursorToDefault(),n.panning=!1,n.enableTrackBall()},startPan:function(){var r,n=this,c="#"+this.svgObject.id;$(".tooltipDiv"+this._id).remove(),r=this.model.theme.toLowerCase().indexOf("dark")>=0?"#000000":" #FFFFFF",n.svgRenderer._setAttr($(c+"_ZoomBtn"),{selected:"false"}),n.svgRenderer._setAttr($(c+"_PanBtn"),{selected:"true"}),n.svgRenderer._setAttr($(c+"_ZoomPath"),{fill:"#B7B7B7"}),n.svgRenderer._setAttr($(c+"_ZoomIcon"),{fill:r}),n.svgRenderer._setAttr($(c+"_PanPath"),{fill:"#14B9FF"}),n.svgRenderer._setAttr($(c+"_panIcon"),{fill:"#FFFFFF"}),$(c+"_ZoomBtn").css({"border-color":"#B7B7B7","background-color":"#B7B7B7"}),$(c+"_PanBtn").css({"border-color":"#14B9FF","background-color":"#14B9FF"}),$("#"+n._id+"_canvas").css({cursor:"pointer"}),this._cursorToPointer(),n.panning=!0,n.disableTrackBall()},zoomButton:function(n,c){var r="zoom"==c?"_Zoom":"zoomIn"==c?"_ZoomIn":"_ZoomOut",w=this.model.m_AreaBounds.X+(this.model.m_AreaBounds.Width-32*n-(5*n+5)),v=this.model.m_AreaBounds.Y+this.model.m_AreaBounds.Height+(this.model.elementSpacing-this.model.m_AreaBounds.Height),a=this.model.theme.toLowerCase().indexOf("dark")>=0?"#000000":" #FFFFFF";ej.EjCanvasRender.prototype.zoomButton({id:this.svgObject.id+r+"Path",d:"M32,27c0,2.75-2.25,5-5,5H5c-2.75,0-5-2.25-5-5V5c0-2.75,2.25-5,5-5h22c2.75,0,5,2.25,5,5V27z",fill:this.panning||"zoomIn"==c||"zoomOut"==c?"#b7b7b7":"#14B9FF",zoomId:this._id+r+"Btn",width:26,height:26,left:w+0,top:v+0,iconColor:a},c,this),this._on($("#"+this.svgObject.id+r+"Btn"),"touchstart click","zoom"==c?this.startZoom:this.startZoomInOut)},panButton:function(n){var u=this.model.m_AreaBounds.X+(this.model.m_AreaBounds.Width-32*n-(5*n+5)),_=this.model.m_AreaBounds.Y+this.model.m_AreaBounds.Height+(this.model.elementSpacing-this.model.m_AreaBounds.Height),w=this.model.theme.toLowerCase().indexOf("dark")>=0?"#000000":" #FFFFFF";ej.EjCanvasRender.prototype.panButton({id:this.svgObject.id+"_PanPath",d:"M 32 27 c 0 2.75 -2.25 5 -5 5 H 5 c -2.75 0 -5 -2.25 -5 -5 V 5 c 0 -2.75 2.25 -5 5 -5 h 22 c 2.75 0 5 2.25 5 5 V 27 Z",fill:this.panning?"#14B9FF":"#b7b7b7",panId:this._id+"_PanBtn",width:26,height:26,left:u+0,top:_+0,iconColor:w},this),this._on($("#"+this.svgObject.id+"_PanBtn"),"touchstart click",this.startPan)},resetZoomButton:function(n){var a,u=this.model.m_AreaBounds.X+(this.model.m_AreaBounds.Width-(32*n+(5*n+5))),_=this.model.m_AreaBounds.Y+this.model.m_AreaBounds.Height+(this.model.elementSpacing-this.model.m_AreaBounds.Height),w=this.model.theme.toLowerCase().indexOf("dark")>=0?"#000000":" #FFFFFF";ej.EjCanvasRender.prototype.resetZoom({id:this.svgObject.id+"_ResetZoomPath",d:"M 32 27 c 0 2.75 -2.25 5 -5 5 H 5 c -2.75 0 -5 -2.25 -5 -5 V 5 c 0 -2.75 2.25 -5 5 -5 h 22 c 2.75 0 5 2.25 5 5 V 27 Z",fill:"#b7b7b7",resetZoomId:this._id+"_ResetZoom",width:26,height:26,left:u+0,top:_+0,iconColor:w},this),a=(window.TouchEvent?"touchstart":window.PointerEvent?"pointerdown":window.MSPointerEvent?"MSPointerDown":"click")+" click",this._on($("#"+this.svgObject.id+"_ResetZoom"),a,this.resetZoom)},doZoom:function(n,c,r){var _,w,v,u=this;if(this.model._chartAreaZoom=!0,this.scrollDraw=!0,$(".tooltipDiv"+this._id).remove(),u.model.enableCanvasRendering)var a=$("#"+this.svgObject.id+"_ZoomArea")[0].getClientRects()[0],s=$("#"+this.svgObject.id)[0].getClientRects()[0],h=a.left-s.left-$(document).scrollLeft(),t=a.top-s.top-$(document).scrollTop();else h=parseFloat(u.svgRenderer._getAttrVal($(n),"x")),t=parseFloat(u.svgRenderer._getAttrVal($(n),"y"));for($("#"+this.svgObject.id+"_ZoomArea").remove(),this.drag=!1,this.zoomed=!0,w=0;w<this.model._axes.length;w++){var o=this.model._axes[w],l=o.zoomFactor,p=o.zoomPosition;"horizontal"==o.orientation.toLowerCase()?(o.zoomFactor="y"!=u.model.zooming.type.toLowerCase()?l*(c/u.model.m_AreaBounds.Width):o.zoomFactor,o.zoomPosition="y"!=u.model.zooming.type.toLowerCase()?p+Math.abs((h-u.model.m_AreaBounds.X)/u.model.m_AreaBounds.Width)*l:o.zoomPosition,parseFloat(o.zoomFactor.toFixed(3))<=.001&&(o.zoomFactor=l,o.zoomPosition=p)):(o.zoomFactor="x"!=u.model.zooming.type.toLowerCase()?l*r/u.model.m_AreaBounds.Height:o.zoomFactor,o.zoomPosition="x"!=u.model.zooming.type.toLowerCase()?p+(1-Math.abs((r+(t-u.model.m_AreaBounds.Y))/u.model.m_AreaBounds.Height))*l:o.zoomPosition,parseFloat(o.zoomFactor.toFixed(3))<=.001&&(o.zoomFactor=l,o.zoomPosition=p))}_=this._getZoomedData(u),(v=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data={},v.data.series=_,this._trigger("zoomed",v),this.disableAnimation(),this.model.legendCollapsed=!1,this.redraw(!0),this._enableZoomingButtons()},_getZoomedData:function(n){for(var c,a,h,t,o,r=this.model._visibleSeries,u=r.length,_=[],w=[],v=[],l=0;l<u;l++){if("visible"==r[l].visibility)for(o=(v=r[l].points).length,a=r[l].type.toLowerCase(),(new(ej.axisTypes[r[l].xAxis._valueType.toLowerCase()]))._calculateVisibleRange(r[l].xAxis,n),(new(ej.axisTypes[r[l].yAxis._valueType.toLowerCase()]))._calculateVisibleRange(r[l].yAxis,n),h=r[l].xAxis.visibleRange,t=r[l].yAxis.visibleRange,c=0;c<o;c++)h.min<=v[c].xValue&&h.max>=v[c].xValue&&t.min<=v[c].y&&t.max>=v[c].y&&_.push(r[l]._hiloTypes?"rangearea"==a||"rangecolumn"==a||"waterfall"==a||"hilo"==a?{XValue:v[c].x,High:v[c].high,Low:v[c].low}:{XValue:v[c].x,High:v[c].high,Low:v[c].low,Open:v[c].open,Close:v[c].close}:{XValue:v[c].x,YValue:v[c].y});0!=_.length&&w.push({selectedData:_}),_=[]}return w},_cursorToDefault:function(){var n="#"+this.svgObject.id;this.svgRenderer._setAttr($(this.svgObject).find(n+"_XAxis,"+n+"_ChartArea,"+n+"_YAxis,"+n+"_SeriesCollection,"+n+"_StriplineBehind,"+n+"_StriplineOver"),{cursor:"default"})},_cursorToPointer:function(){var n="#"+this.svgObject.id;this.svgRenderer._setAttr($(this.svgObject).find(n+"_XAxis,"+n+"_ChartArea,"+n+"_YAxis,"+n+"_SeriesCollection,"+n+"_StriplineBehind,"+n+"_StriplineOver"),{cursor:"pointer"})},removeMultiRect:function(){$(this.parentgEle).empty(),this.model.selectedDataCollection=[]},multiSelectDataCalculation:function(){for(var n,c,r,u,_,L,V,F,A,z,N,U,J,Q,oe,ue,le,ne,se,ee,W,pe,M,fe,v=[],a=this.selectedRectIndex,s=this.oldRectX[a],h=this.oldRectY[a],t=this.oldRectWidth[a],o=this.oldRectHeight[a],g=this.model.series,b=g.length,C=this.multiAxis,T=C.length,D=this.multiSelectType,xe=(this.model.AreaType.toLowerCase(),0);xe<b;xe++){if(le=(fe=g[xe]).xAxis.visibleRange,ne=fe.yAxis.visibleRange,n=C.some(function(O){return O.name.toLowerCase()==fe._xAxisName.toLowerCase()}),c=C.some(function(O){return O.name.toLowerCase()==fe._yAxisName.toLowerCase()}),M=fe.selectionSettings,n&&c&&"visible"==fe.visibility.toLowerCase()){for(r=0;r<T;r++)"horizontal"==(L=C[r]).orientation.toLowerCase()?(this.selectFactor="y"!=M.rangeType.toLowerCase()?t/this.multiAxis[r].width*1:1,this.selectPosition="y"!=M.rangeType.toLowerCase()?0+1*Math.abs((s-this.multiAxis[r].x)/this.multiAxis[r].width):0,parseFloat(1..toFixed(3))<=.001&&(this.selectFactor=1,this.selectPosition=0)):(this.selectFactor="x"!=M.rangeType.toLowerCase()?1*o/this.multiAxis[r].height:1,this.selectPosition="x"!=M.rangeType.toLowerCase()?0+1*(1-Math.abs((o+(h-this.multiAxis[r].y))/this.multiAxis[r].height)):0,parseFloat(1..toFixed(3))<=.001&&(this.selectFactor=1,this.selectPosition=0)),L.visibleRange=$.extend(!0,{},L.actualRange),(this.selectFactor<1||this.selectPosition>0)&&(J="logarithmic"==L.valueType?L.visibleRange:L.actualRange,this.selectFactor=this.selectFactor>1?1:this.selectFactor<0?0:this.selectFactor,this.selectPosition=this.selectPosition<0?0:this.selectPosition>1?1:this.selectPosition,oe=L.isInversed?(Q=L.actualRange.max-this.selectPosition*L.actualRange.delta)-this.selectFactor*L.actualRange.delta:(Q=L.actualRange.min+this.selectPosition*L.actualRange.delta)+this.selectFactor*L.actualRange.delta,Q<J.min&&(oe+=J.min-Q,Q=J.min),oe>J.max&&(Q-=oe-J.max,oe=J.max),"logarithmic"==L.valueType&&(Q=Math.pow(10,Q),oe=Math.pow(10,oe)),L.visibleRange.min=Math.min(Q,oe),L.visibleRange.max=Math.max(Q,oe));if(N=fe._visiblePoints,U=fe.type.toLowerCase(),pe=fe.isTransposed,V=fe.xAxis.visibleRange.min,F=fe.xAxis.visibleRange.max,A=fe.yAxis.visibleRange.min,z=fe.yAxis.visibleRange.max,ej.util.isNullOrUndefined(v)&&(v=[]),fe.selectionSettings.enable)switch(D){case"x":for(r=0;r<N.length;r++)N[r].seriesIndex=xe,ue=N[r].isEmpty,se=N[r].xValue,ee=N[r].y,fe.xAxis.isInversed||fe.yAxis.isInversed?U.indexOf("bar")>=0?U.indexOf("stacking")>=0?(W=fe.stackedValue.EndValues[r],!ue&&z>=W&&A<=W&&v.push(N[r])):("waterfall"==U&&!ue&&z>=N[r].YValues[0]&&A<=N[r].YValues[0]||!ue&&z>=ee&&A<=ee)&&v.push(N[r]):!ue&&F>=se&&V<=se&&v.push(N[r]):pe&&U.indexOf("bar")>=0?!ue&&V<=se&&F>=se&&v.push(N[r]):U.indexOf("bar")>=0||fe.isTransposed&&!(U.indexOf("bar")>=0)?U.indexOf("stacking")>=0?(W=fe.stackedValue.EndValues[r],!ue&&A<=W&&z>=W&&v.push(N[r])):("waterfall"==U&&!ue&&A<=N[r].YValues[0]&&z>=N[r].YValues[0]||!ue&&A<=ee&&z>=ee)&&v.push(N[r]):!ue&&Math.round(V)<=se&&F>=se&&v.push(N[r]);break;case"y":for(r=0;r<N.length;r++)N[r].seriesIndex=xe,ue=N[r].isEmpty,se=N[r].xValue,ee=N[r].y,fe.xAxis.isInversed||fe.yAxis.isInversed?U.indexOf("bar")>=0?!ue&&F>=se&&V<=se&&v.push(N[r]):U.indexOf("stacking")>=0?(W=fe.stackedValue.EndValues[r],!ue&&A<=W&&z>=W&&v.push(N[r])):("waterfall"==U&&!ue&&z>=N[r].YValues[0]&&A<=N[r].YValues[0]||!ue&&z>=ee&&A<=ee)&&v.push(N[r]):pe&&U.indexOf("bar")>=0?U.indexOf("stacking")>=0?(W=fe.stackedValue.EndValues[r],!ue&&A<=W&&z>=W&&v.push(N[r])):("waterfall"==U&&!ue&&A<=N[r].YValues[0]&&z>=N[r].YValues[0]||!ue&&A<=ee&&z>=ee)&&v.push(N[r]):U.indexOf("bar")>=0||fe.isTransposed&&!(U.indexOf("bar")>=0)?!ue&&V<=se&&F>=se&&v.push(N[r]):U.indexOf("stacking")>=0?(W=fe.stackedValue.EndValues[r],!ue&&A<=W&&z>=W&&v.push(N[r])):("waterfall"==U&&!ue&&A<=N[r].YValues[0]&&z>=N[r].YValues[0]||!ue&&A<=ee&&z>=ee)&&v.push(N[r]);break;case"xy":for(r=0;r<N.length;r++)N[r].seriesIndex=xe,ue=N[r].isEmpty,se=N[r].xValue,ee=N[r].y,U.indexOf("stacking")>=0?(W=fe.stackedValue.EndValues[r],!ue&&F>=se&&V<=se&&A<=W&&z>=W&&v.push(N[r])):("waterfall"==U&&!ue&&F>=se&&V<=se&&A<=N[r].YValues[0]&&z>=N[r].YValues[0]||!ue&&F>=se&&Math.round(V)<=se&&A<=ee&&z>=ee)&&v.push(N[r])}}fe.xAxis.visibleRange=le,fe.yAxis.visibleRange=ne}u=this.currentIndex,(ej.util.isNullOrUndefined(this.model.selectedDataCollection)||0==$("#"+this.svgObject.id+"_rectSelectionGroup").length)&&(this.model.selectedDataCollection=[]),this.removeRect?this.model.selectedDataCollection.splice(u,1):this.rectPan||this.resize?(this.model.selectedDataCollection[u]=0,this.model.selectedDataCollection[u]=v):this.model.selectedDataCollection[this.model.selectedDataCollection.length]=v,(_=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data={},_.data.selectedData=v,_.data.selectedDataCollection=this.model.selectedDataCollection,this._trigger("rangeSelected",_)},multiSelectMouseUp:function(n){var h;if(this._isMultiSelect&&"range"==this.multiSelectMode){var o,l,p,g=this.svgObject.id,b=this.selectedRectIndex,C="#"+g+"_selectRect",T=parseInt($(C+b).attr("width")),D=parseInt($(C+b).attr("height")),L=parseInt($(C+b).attr("x")),I=parseInt($(C+b).attr("y"));if((this.multiSelectDraw||!this.removeRect||!this.resize||!this.rectPan)&&T>0&&D>0){for(this.svgRenderer.drawRect({id:g+"_resize_rightRect"+b,x:L+T-5,y:I+10,width:10,height:D-20>0?D-20:0,fill:"transparent",stroke:"transparent","stroke-width":2,cursor:"e-resize"},this.gEle),this.svgRenderer.drawRect({id:g+"_resize_bottomRect"+b,x:L,y:I+D-5,width:T-10>0?T-10:0,height:10,fill:"transparent",stroke:"transparent","stroke-width":2,cursor:"s-resize"},this.gEle),this.svgRenderer.drawRect({id:g+"_resize_leftRect"+b,x:L-5,y:I,width:10,height:D,fill:"transparent",stroke:"transparent","stroke-width":2,cursor:"w-resize"},this.gEle),this.svgRenderer.drawRect({id:g+"_resize_topRect"+b,x:L,y:I-5,width:T-10>0?T-10:0,height:10,fill:"transparent",stroke:"transparent","stroke-width":2,cursor:"n-resize"},this.gEle),this.svgRenderer.drawCircle({id:g+"_resize_bottomRightCornerCircle"+b,cx:L+T,cy:I+D,r:10,fill:"transparent",stroke:"transparent","stroke-width":2,cursor:"se-resize"},this.gEle),this.svgRenderer.drawCircle({id:g+"_closeTopRightCornerCircle"+b,cx:L+T,cy:I,r:10,fill:"white",stroke:"#2988d6","stroke-width":2,cursor:"pointer"},this.gEle),this.svgRenderer.drawLine({id:g+"_closePath"+b,x1:L+T-4,y1:I-4,x2:L+T+4,y2:I+4,stroke:"#2988d6","stroke-width":2,cursor:"pointer"},this.gEle),this.svgRenderer.drawLine({id:g+"_closePathOpposite"+b,x1:L+T+4,y1:I-4,x2:L+T-4,y2:I+4,stroke:"#2988d6","stroke-width":2,cursor:"pointer"},this.gEle),o=[16,10,4,10,4,4],l=[4,4,4,10,10,16],p=["a","b","c","d","e","f"],h=0;h<6;h++)this.svgRenderer.drawCircle({id:g+"_gripCircle_"+p[h]+b,cx:L+T-o[h],cy:I+D-l[h],r:.4,stroke:"#5B5B5B","stroke-width":2},this.gripCollection);null!=this.gripCollection&&$(this.gripCollection).appendTo(this.gEle),$("#"+g+"_gripCollection"+b).css({visibility:"hidden"})}ej.util.isNullOrUndefined(this.oldRectX)&&(this.oldRectX=[],this.oldRectY=[],this.oldRectWidth=[],this.oldRectHeight=[],this.oldReRightRectX=[],this.oldReTopRectY=[],this.oldReBottomRectY=[]),this.oldRectX[b]=parseInt($(C+b).attr("x")),this.oldRectY[b]=parseInt($(C+b).attr("y")),this.oldRectWidth[b]=parseInt($(C+b).attr("width")),this.oldRectHeight[b]=parseInt($(C+b).attr("height")),this.oldReRightRectX[b]=parseInt($("#"+g+"_resize_rightRect"+b).attr("x")),this.oldReTopRectY[b]=parseInt($("#"+g+"_resize_topRect"+b).attr("y")),this.oldReBottomRectY[b]=parseInt($("#"+g+"_resize_bottomRect"+b).attr("y")),this.oldMultiSelectType=this.multiSelectType,(this.resize||this.rectPan)&&(this.resize&&$("#"+this.svgObject.id+"_gripCollection"+b).attr({transform:""}),$("#"+g+"_closeTopRightCornerCircle"+b).css({display:"inline"}),$("#"+g+"_closePath"+b).css({display:"inline"}),$("#"+g+"_closePathOpposite"+b).css({display:"inline"}),$("#"+g+"_resize_rightRect"+b).css({cursor:"e-resize"}),$("#"+g+"_resize_leftRect"+b).css({cursor:"w-resize"}),$("#"+g+"_resize_bottomRect"+b).css({cursor:"s-resize"}),$("#"+g+"_resize_topRect"+b).css({cursor:"n-resize"})),this.drag=!1,this.removeRect&&($("#"+g+"_selectedRectGroup"+b).remove(),this.parentgEle.childNodes.length<=0&&$(this.parentgEle).remove()),(this.multiSelectDraw||this.removeRect||this.resize||this.rectPan)&&T>0&&D>0&&(this.multiSelectDraw=!1,this.multiSelectDataCalculation(n)),this.resize&&(this.resize=!1),this.rectPan&&(this.rectPan=!1),this.removeRect=!1,this.enableTrackBall()}},chartMouseUp:function(n){var c,r,u,_,w,v,a,s,h,t,o,l,p,g,b,C,T;if(this.isTouch(n)&&(this.model.touchCross=!1,this.chartMouseUpTouch(n)),!this.currentPageX&&this.panning&&(c=this.calMousePosition(n),this.currentPageX=c.X,this.currentPageY=c.Y),t=this,r=this.model,this.mousedownPointX=this.mousedownPointY=null,$("[id*=_PreviewSeries]").remove(),t.dragPoint){$("#"+this._id).find('[id*="_Marker"]').remove(),_=r._visibleSeries[u=this.dragIndex.seriesIndex],this.model.enableCanvasRendering||this.gPreviewSeriesGroupEle&&($(this.svgObject).find("#"+this.svgObject.id+"_PreviewSeriesGroup_"+u).remove(),this.gPreviewSeriesGroupEle.childNodes.length>0&&this.gPreviewSeriesGroupEle.removeChild(this.gPreviewSeriesGroupEle.childNodes[0])),this.dragPoint=_.dragPoint=!1;var D=this._getDraggedPoint(_,this.mousemoveX,this.mousemoveY);v=_.data.seriesIndex,a=_.data.pointIndex,s={X:this.commonDragEventArgs.data.oldValue.X,Y:this.commonDragEventArgs.data.oldValue.Y},h={X:D.X,Y:D.Y},(w=$.extend({},this.commonDragEventArgs)).data={series:_,seriesIndex:v,pointIndex:a,oldValue:s,newValue:h},this._trigger("dragEnd",w),t.commonDragEventArgs=w,t._changeDraggingPoints(_,a,w.data.newValue.X,w.data.newValue.Y),_.region=null,this.redraw()}if("cartesianaxes"!=this.multiSelectAreaType||r.zooming.enable||r.enableCanvasRendering||this.multiSelectMouseUp(n),t=this,r.zooming.enable&&"cartesianaxes"==r.AreaType){if((o=$("#"+this.svgObject.id+"_ZoomArea"))[0])if(r.enableCanvasRendering)var R=o[0].getClientRects()[0],F=R.width,A=R.height;else{var V=$(o);F=parseFloat(this.svgRenderer._getAttrVal(V,"width")),A=parseFloat(this.svgRenderer._getAttrVal(V,"height"))}F>0&&A>0?t.doZoom(o,F,A):this.drag=!1,t.panning||this.enableTrackBall()}l=this.svgObject.id,((p=ej.util.isNullOrUndefined(n.target.parentNode)?"":n.target.parentNode.id)==l+"_ResetZoom"||p==l+"_ZoomBtn"||n.target.id==l+"_ResetZoom"||n.target.id==l+"_ZoomBtn")&&(this.panning=!1,this.model._chartAreaZoom=!1),(ej.isTouchDevice()||r.zooming.enableDeferredZoom)&&this.panning&&this.doPan&&"cartesianaxes"==r.AreaType&&(g={x:this.oPreviousCoords.x-this.currentPageX,y:this.oPreviousCoords.y-this.currentPageY},this.oPreviousCoords={x:this.currentPageX,y:this.currentPageY},$.each(r._axes,function(z,N){var U=Math.max(1/ej.EjSvgRender.utils._minMax(N.zoomFactor,0,1),1);t.translate(N,g.x,g.y,U)}),this.model.legendCollapsed=!1,C=b=$.extend({},ej.EjSvgRender.commonChartEventArgs),T=this,b.data={model:this.model},this._trigger("panStart",b),window.setTimeout(function(){T.redraw(!0,!0,n.target),T._cursorToPointer(),T._enableZoomingButtons(),(C=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data={model:T.model},T._trigger("panEnd",C)},10)),this.doPan&&(this.doPan=!1),this.rotateActivate=!1},multiSelectMouseDown:function(evt){var i,k;this.multiSelectAreaType=this.model.AreaType.toLowerCase();var model=this.model,chartX=model.m_AreaBounds.X,chartWidth=model.m_AreaBounds.Width,chartY=model.m_AreaBounds.Y,chartHeight=model.m_AreaBounds.Height,mouseDownCords=this.calMousePosition(evt);if("cartesianaxes"==this.multiSelectAreaType&&!model.zooming.enable&&!model.enableCanvasRendering&&mouseDownCords.X>=chartX&&mouseDownCords.X<chartX+chartWidth&&mouseDownCords.Y<chartY+chartHeight&&mouseDownCords.Y>=chartY){var seriesCollection=this.model.series,seriesCollectionLength=seriesCollection.length,id,mouseDownCords,matchStr,containerSvg=this.svgObject.id,selectMode=seriesCollection.some(function(n){return"range"==n.selectionSettings.mode.toLowerCase()});for(this._isMultiSelect=seriesCollection.some(function(n){return 1==n.selectionSettings.enable&&"range"==n.selectionSettings.mode.toLowerCase()}),selectMode&&(this.multiSelectMode="range"),i=0;i<seriesCollectionLength;i++)1==seriesCollection[i].selectionSettings.enable&&"range"==seriesCollection[i].selectionSettings.mode.toLowerCase()&&(this.multiSelectType=seriesCollection[i].selectionSettings.rangeType.toLowerCase());if(this._isMultiSelect&&"range"==this.multiSelectMode){this.disableTrackBall(),mouseDownCords=this.calMousePosition(evt),this.mouseDownX=mouseDownCords.X,this.mouseDownY=mouseDownCords.Y,this.drag=!0,$(this.parentgEle).find("g").length<1?this.selectedRectIndex=0:(id=$(this.parentgEle).find("g").last().attr("id"),matchStr=containerSvg+"_gripCollection",id=parseInt(id.substr(matchStr.length)),this.selectedRectIndex=id+1),0==$(this.parentgEle).find("g").length&&(this.parentgEle=this.svgRenderer.createGroup({id:containerSvg+"_rectSelectionGroup"})),this.gEle=this.svgRenderer.createGroup({id:containerSvg+"_selectedRectGroup"+this.selectedRectIndex}),0==$(this.gripCollection).find("g").length&&(this.gripCollection=this.svgRenderer.createGroup({id:containerSvg+"_gripCollection"+this.selectedRectIndex})),evt.target.id.indexOf("resize")>=0&&(id=evt.target.id.split("resize")[1].match(/\d+/)[0],this.selectedRectIndex=eval(id)),evt.target.id.indexOf("close")>=0&&(id=evt.target.id.split("close")[1].match(/\d+/)[0],this.selectedRectIndex=eval(id)),evt.target.id.indexOf(this.svgObject.id+"_selectRect")>=0&&(matchStr=this.svgObject.id+"_selectRect",this.selectedRectIndex=parseInt(evt.target.id.substr(matchStr.length))),this.currentIndex=$(evt.target.parentNode).index();var axes=this.model._axes,axesLength=axes.length,axis,mouseMoveCords=this.calMousePosition(evt),mouseMoveX=mouseMoveCords.X,mouseMoveY=mouseMoveCords.Y;for(this.multiAxis=[],k=0;k<axesLength;k++)axis=axes[k],mouseMoveX>axis.Location.X1&&mouseMoveX<axis.Location.X2&&this.multiAxis.push(axis),mouseMoveY<axis.Location.Y1&&mouseMoveY>axis.Location.Y2&&this.multiAxis.push(axis)}}},_grab:function(n,c,r,u,_){var w=$.extend({},ej.EjSvgRender.commonChartEventArgs);w.data={seriesIndex:r,pointIndex:u,currentPoint:_},c._trigger("dragStart",w),n.data=w.data,this.commonDragEventArgs=w,this.mousedownPointX=this.mousedownPointY=null},_enableDragging:function(n,c,r){var _,w,l,u=this,v=n.type.toLowerCase(),a=u.model.AreaType,s=n.visibility.toLowerCase();!this.mousedownPointX||!this.mousedownPointY||"cartesianaxes"!=a||this.model.enable3D||"visible"!=s||"line"!=v&&"spline"!=v&&"area"!=v&&"stepline"!=v&&"steparea"!=v&&"splinearea"!=v&&"column"!=v&&"bar"!=v&&"bubble"!=v&&"scatter"!=v||(_=this.getClosesPointXY([],[],n,this.mousedownPointX,this.mousedownPointY,r),this.mousemoveX=this.mousedownPointX,this.mousemoveY=this.mousedownPointY,w=this.GetSeriesPoint(r),ej.util.isNullOrUndefined(_.point)||(this.dragPoint=n.dragPoint=!0,_.seriesIndex=c,n.pointData=_,u._grab(n,u,c,_.index,{xValue:_.point.xValue,yValue:_.point.YValues}),this.dragIndex={pointIndex:_.index,seriesIndex:c}),ej.util.isNullOrUndefined(w)||c!=(l=w.region).SeriesIndex)||(n.region=w.region,this.dragPoint=n.dragPoint=!0,u._grab(n,u,l.SeriesIndex,l.Region.PointIndex,{xValue:n._visiblePoints[l.Region.PointIndex].xValue,yValue:n._visiblePoints[l.Region.PointIndex].YValues}),this.dragIndex={pointIndex:l.Region.PointIndex,seriesIndex:l.SeriesIndex})},chartMouseDown:function(e){var model=this.model,matchStr=this._id+"_scrollbar_",parentNodeId=e.target.parentNode&&e.target.parentNode.id?e.target.parentNode.id:"",selectionIndex=parentNodeId.indexOf(matchStr)>-1?parseInt(parentNodeId.substr(matchStr.length)):NaN,isZoom=this.isZoomButtonHovered(e.target),axes=model._axes,chart=this,id,mouseDownCords=this.calMousePosition(e),browserInfo=this.model.browserInfo,timer,parent,isZoomToolkit,mousePanCords;this.mousedownPointX=mouseDownCords.X,this.mousedownPointY=mouseDownCords.Y,"which"in e?this.chartRightClick=3==e.which:"button"in e&&(this.chartRightClick=2==e.button),isNaN(selectionIndex)||ej.util.isNullOrUndefined(selectionIndex)||(axes[selectionIndex].previousRange=$.extend(!0,{},model._axes[selectionIndex].visibleRange)),this.mousemoveX=this.mouseDownX=mouseDownCords.X,this.mousemoveY=this.mouseDownY=mouseDownCords.Y,this.isTouch(e)&&(this.model.event=e,this.model.touchCross=!0,$.finish?$(this.model.trackerElement).finish():$(this.model.trackerElement).stop(!0,!0),this.model.tapNum=this.model.tapNum||0,isZoom||this.doubleTap(e),chart.model.crosshair.visible&&!isZoom&&(timer=setTimeout(function(){var n=$("#"+chart.svgObject.id).find("#"+chart.svgObject.id+"_ZoomArea"),c=chart.model.elementSpacing/2,r=chart.getEvent(chart.model.event),_=r.pageY;chart.model.touchCross&&!chart.panning&&Math.abs(r.pageX-chart.model.cachedX)<c&&Math.abs(_-chart.model.cachedY)<c&&(0==n.length||0==parseFloat($(n).attr("width"))||0==parseFloat($(n).attr("height")))&&(chart.chartInteractiveBehavior(e),chart.model.crosshairMoved=!0,chart.drag=!1)},500))),this.model.enable3D&&this.model.enableRotation&&(this.rotateActivate=!0),this.svgRenderer.vmlNamespace||(this.oPreviousCoords={},e.target.id.indexOf("resize")>=0&&(id=e.target.id.split("resize")[1].match(/\d+/)[0],this.selectedRectIndex=eval(id),this.multiSelectMouseDownId=e.target.id,this.resize=!0),e.target.id.indexOf("close")>=0&&(id=e.target.id.split("close")[1].match(/\d+/)[0],this.selectedRectIndex=eval(id),this.removeRect=!0),e.target.id.indexOf(this.svgObject.id+"_selectRect")>=0&&(matchStr=this.svgObject.id+"_selectRect",this.selectedRectIndex=parseInt(e.target.id.substr(matchStr.length))),e.target.id==this.svgObject.id+"_selectRect"+this.selectedRectIndex&&(this.rectPan=!0,this.PreviousCoords={X:e.pageX,Y:e.pageY}),this.isTouch(e)||this.multiSelectMouseDown(e),parent=this.svgRenderer._getAttrVal($(e.target).parent(),"id"),isZoomToolkit=parent!=this.svgObject.id+"_ZoomBtn"&&parent!=this.svgObject.id+"_ZoomInBtn"&&parent!=this.svgObject.id+"_ZoomOutBtn"&&parent!=this.svgObject.id+"_ResetZoom"&&parent!=this.svgObject.id+"_PanBtn",isZoomToolkit&&this.model.zooming.enable&&!this.model.isLazyZooming&&!this.panning&&"cartesianaxes"==this.model.AreaType?this.mouseDownX>=this.model.m_AreaBounds.X&&this.mouseDownX<model.m_AreaBounds.X+model.m_AreaBounds.Width&&this.mouseDownY<model.m_AreaBounds.Y+model.m_AreaBounds.Height&&this.mouseDownY>=model.m_AreaBounds.Y&&!this.isTouch(e)&&((isNaN(selectionIndex)||ej.util.isNullOrUndefined(selectionIndex))&&(this.drag=!0),this.disableTrackBall()):(isZoomToolkit&&this.panning||"e-hhandle e-box"==$(e.target)[0].className)&&(mousePanCords=this.calMousePosition(e),this.mousePanX=mousePanCords.X,this.mousePanY=mousePanCords.Y,this.mousePanX>=model.m_AreaBounds.X&&this.mousePanX<model.m_AreaBounds.X+model.m_AreaBounds.Width&&this.mousePanY<model.m_AreaBounds.Y+model.m_AreaBounds.Height+18&&this.mousePanY>=model.m_AreaBounds.Y&&(this.doPan=!0)),(this.rotateActivate||this.doPan)&&(this.oPreviousCoords={x:e.pageX,y:e.pageY}))},chartMouseLeave:function(n){this.cancelEvent(n),this.isTouch(n)||($("[id*=_TrackSymbol]").remove(),this._removeHighlight(),this._removeTrackBall(),$("#"+this.svgObject.id+"_TrackToolTip").hide(),$("#"+this._id+"_tooltip").remove(),$(".tooltipDiv"+this._id).hasClass(this.svgObject.id)&&$(".tooltipDiv"+this._id).remove());var c=$.extend({},ej.EjSvgRender.commonChartEventArgs);c.data={location:{x:this.mousemoveX,y:this.mousemoveY},size:{height:this.model.svgHeight,width:this.model.svgWidth},id:n.target.id,pageX:n.pageX,pageY:n.pageY},this._trigger("chartMouseLeave",c)},_doClick:function(n){var u,_,w,v,a,h,t,o,l,p,b,C,T,D,L,I,R,V;this.drag=!1,this.model.crosshairMoved||this._removeHighlight(),this.model.selectedDataPointIndexes||(this.model.selectedDataPointIndexes=[]),this.model.clusterPoints=[],this.model._isStateChaged=!1;var A,z,U,J,Q=this.getEvent(n),oe=Q.pageX,ue=Q.pageY,se=this.model._visibleSeries,ee=this.isZoomButtonHovered(n.target),re=n.target.id;if((J=this.GetSeriesPoint(n))?(A=J.region.SeriesIndex,z=J.region.Region.PointIndex):this.model.selectionEnable&&(this.model.enable3D||-1!=n.target.id.indexOf("LegendItem")||"none"==this.model.AreaType||(!(_=(u=n.target.id).match(/(\d+)/g))||-1==u.indexOf("symbol")&&-1==u.indexOf("Series")||-1!=u.indexOf("Text")?_&&(-1!=u.indexOf("Text")||-1!=u.indexOf("dataLabel"))&&(A=parseInt(_[0].charAt(1)),z=isNaN(parseInt(_[0].charAt(0)))?parseInt(_[0].charAt(1)):parseInt(_[0].charAt(0))):(A=parseInt(_[0]),z=isNaN(parseInt(_[1]))?0:parseInt(_[1])))),!ee||this.model.enableCanvasRendering){for(l=0;l<this.model._visibleSeries.length;l++)if(w=(U=this.model._visibleSeries[l]).type.toLowerCase(),"cartesianaxes"==this.model.AreaType&&"visible"==U.visibility.toLowerCase()&&"scatter"!==w&&"bubble"!==w&&"column"!==w&&-1==w.indexOf("bar")&&"stackingcolumn"!==w&&"stackingcolumn100"!==w&&!U._hiloTypes){var pe=this.calMousePosition(n);this.mousemoveX=pe.X,this.mousemoveY=pe.Y,v=this.getClosesPointXY([],[],U,this.mousemoveX,this.mousemoveY,n),ej.util.isNullOrUndefined(v.point)||(A=l,z=v.index,(a=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data={location:{x:this.mousemoveX,y:this.mousemoveY},region:{SeriesIndex:l,Region:{PointIndex:v.index}}},this._trigger("pointRegionClick",a))}J&&(!ee||this.model.enableCanvasRendering)&&((F=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data=J,this._trigger("pointRegionClick",F))}if("none"==this.model.AreaType&&this.model.enable3D&&"path"==$(n.target)[0].nodeName&&(!this.isTouch(n)||Math.abs(oe-this.model.cachedX)<10&&Math.abs(ue-this.model.cachedY)<10))if(te=$(n.target)[0].id.match(/(\d+)/g),A=parseInt(te[te.length-2]),z=parseInt(te[te.length-1]),this.model._visibleSeries[A].explodeIndex=this.model._visibleSeries[A].explodeIndex==(h=this.model._visibleSeries[A]._visiblePoints[z].actualIndex)?null:h,this.vmlRendering||this.model.enableCanvasRendering||(t=this.selectedStyle(this)),$(this.svgObject).empty(),$(this.legendSvgContainer).empty(),this.draw(),"none"==this.model.AreaType){this.model._isStateChaged=!1;var M,fe=t.length,xe="_Region_Series_"+A+"_Point_"+z,O=$(this.svgObject).find("[id$="+xe+"],[id*="+xe+"back],[id*="+xe+"front]"),B=O.length;for(o=0;o<fe;o++)for(l=0;l<B;l++)t[o].id==O[l].id&&(M=t[o].className).indexOf("SelectionStyle")<0&&M.indexOf("SelectionundefinedStyle")<0&&$("[id="+O[l].id+"]").attr("class",M);t.pattern&&this.svgRenderer.append(t.pattern,this.svgObject)}else $("[id*="+this.svgObject.id+"_LegendItemShape],[id*=_Region_Series_]").each(function(){$(this).attr("class","")});if((p=this.getLegendData(n))&&($("#template_group_"+this._id).remove(),(F=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data=p,this._trigger("legendItemClick",F),A=p.legendItem.LegendItem.SeriesIndex,!this.model.legend.toggleSeriesVisibility&&p.series.selectionSettings.enable&&(this.model._isStateChaged=!1,this.legendSelection(this,p,n,J)),!F.cancel&&this.model.legend.toggleSeriesVisibility)){for($("[id*="+this._id+"_Selection_]").remove(),"none"!=this.model.AreaType||"none"==this.model.AreaType&&"pieofpie"!=w&&"pyramid"!=w&&"funnel"!=w&&this.model._visibleSeries.length>1?(A=p.legendItem.LegendItem.SeriesIndex,b=p.legendItem.LegendItem.TrendLineIndex,ej.util.isNullOrUndefined(b)?(p.series.visibility="visible"===p.series.visibility.toLowerCase()?"hidden":"visible",this.model.series[A].visibility=p.series.visibility,this._notifyArrayChange&&this._notifyArrayChange("series["+A+"]visibility",p.series.visibility)):(C=p.series.trendlines[b].visibility.toLowerCase(),this.model.series[A].trendlines[b].visibility=C="visible"===C?"hidden":"visible",this._notifyArrayChange&&this._notifyArrayChange("series["+A+"].trendlines["+b+"].visibility",C))):(this.model._isPieOfPie?(T=this._getPieOfPiePoint(p.legendItem.LegendItem.ActualIndex,p.series,p)._visibility,z=p.legendItem.LegendItem.ActualIndex):(T=p.series.visiblePoints[p.legendItem.LegendItem.PointIndex]._visibility,z=p.series.visiblePoints[p.legendItem.LegendItem.PointIndex].actualIndex),p.series.points[z]._visibility="visible"===T?"hidden":"visible"),this.model.enableCanvasRendering&&(D=document.getElementById(this._id).getClientRects()[0],this.svgRenderer.ctx.clearRect(0,0,D.width,D.height),$("#"+this._id).find('[id*="canvas_symbol"]').remove()),$(this.svgObject).empty(),$(this.legendSvgContainer).empty(),L=0;L<this.model.series.length;L++)this.model.series[L].regionAdded=!1;this.model.legendCollapsed=!0,this.disableAnimation(),this.draw(),this.enableAnimation(),"none"!=this.model.AreaType&&this.zoomed&&this._enableZoomingButtons()}if((I=this.getAxisLabelData(n))&&((F=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data=I,this._trigger("axisLabelClick",F)),(R=this.getAxisMultiLevelLabelsData(n))&&((F=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data=R,this._trigger("multiLevelLabelClick",F)),re.indexOf("annotation_")>=0){var F,H=re.lastIndexOf("_"),Z=re.substr(H+1,re.length),te=parseInt(Z);(F=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data={location:{x:this.mousemoveX,y:this.mousemoveY},contentData:this.model.annotations[te],pageX:n.pageX,pageY:n.pageY},this._trigger("annotationClick",F)}V=!ej.isNullOrUndefined(A)&&this.model._visibleSeries[A].selectionSettings.enable,!ej.isNullOrUndefined(A)&&!p&&V&&(!this.isTouch(n)||!this.model.crosshairMoved&&Math.abs(oe-this.model.cachedX)<10&&Math.abs(ue-this.model.cachedY)<10)&&(se[A].selectionSettings.type.toLowerCase(),"range"!=se[A].selectionSettings.mode.toLowerCase()&&this.segmentSelection(n,p,A,z,J,se)),this.model.crosshairMoved=!1,(F=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data={location:{x:this.mousemoveX,y:this.mousemoveY},size:{height:this.model.svgHeight,width:this.model.svgWidth},id:re,pageX:n.pageX,pageY:n.pageY},this._trigger("chartClick",F)},getTargetId:function(n,c,r){var u,_=this.model._visibleSeries[n].type.toLowerCase(),w=-1!=_.indexOf("area")||-1!=_.indexOf("line")||-1!=_.indexOf("scatter");return this.model.enable3D?$("[id*=_Region_Series_"+n+"_Point_"+c+"]").each(function(){u=this.id}):"series"!=r||"none"==this.model.AreaType?w?$("[id*="+this.svgObject.id+"_Series"+n+"_Point"+c+"_symbol]").each(function(){u=this.id}):$("[id$="+this.svgObject.id+"_Series"+n+"_Point"+c+"]").each(function(){u=this.id}):$("[id*="+this.svgObject.id+"_Series"+n+"]").each(function(){u=this.id}),u},findCanvasSelection:function(n,c,r){return 1==("point"==r?$("#"+this._id+"_Selection_series"+n+"_point_"+c+"_canvas").length:"series"==r?$("#"+this._id+"_Selection_series"+n+"_canvas").length:$("#"+this._id+"_Selection_Cluster_point_"+c+"_canvas").length)},segmentSelection:function(n,c,r,u,Q){var a,s,h,t,o,l,p,b,w=this.model._visibleSeries,v=w[r];if(ej.isNullOrUndefined(v))return 0;var F,A,z,U,J,oe,ne,he,T=v.selectionSettings,L="multiple"==T.type.toLowerCase(),I=T.mode,R=!1;if(this.model.isSelected=!0,!ej.isNullOrUndefined(u)&&"cluster"==I){for(a=[],t=w[r]._visiblePoints[u].xValue,o=0,l=w.length;o<l;o++)for(h=(s=w[o].points).length,p=0;p<h;p++)t==s[p].xValue&&0==s[p].isEmpty&&1==s[p].visible&&(a[a.length]={seriesIndex:o,pointIndex:p});this.model.clusterPoints=a}if(this.model.enableCanvasRendering||(F=this.getTargetId(r,u,I))&&(A=$("#"+F)[0].parentNode.id,null!=$("#"+A)[0]&&A&&(A.indexOf(this.svgObject.id+"_TextGroup_")>=0||A.indexOf(this.svgObject.id+"_symbolGroup"),A.indexOf(this.svgObject.id+"_TrackSymbol_")>=0&&(R=!0))),this.model.enableCanvasRendering?z=this.findCanvasSelection(r,u,I):(z=-1!=($("#"+F).attr("class")?$("#"+F).attr("class"):"").indexOf("Selection"),this.model.enable3D&&(z=-1!=($("[id*=_Region_Series_"+r+"_Point_"+u+"]").attr("class")?$("[id*=_Region_Series_"+r+"_Point_"+u+"]").attr("class"):"").indexOf("Selection"))),(z||!L||L)&&(this.removeSelection(r,u,w,I,L,c,z),(oe=(Q=this.model.selectedDataPointIndexes).length)>0&&!this.model._isStateChaged))if(L){if(z)for(b=0;b<oe;b++)U=Q[b].seriesIndex,J=Q[b].pointIndex,ne=("point"==I||"none"==this.model.AreaType)&&U==r&&J==u,he="cluster"==I&&J==u,(("series"==I&&U==r||he)&&"none"!=this.model.AreaType||ne)&&(Q.splice(b,1),oe=Q.length,b=-1)}else for(b=0;b<oe;b++)U=Q[b].seriesIndex,J=Q[b].pointIndex,ne=("point"==I||"none"==this.model.AreaType)&&U==r&&J==u,he="cluster"==I&&J==u,("series"==I&&(U==r&&J==u||U!=r||J!=u)||ne||he)&&(Q.splice(b,1),oe=Q.length,b=-1);if(!z&&(this.model.enableCanvasRendering?this.canvasSelection(this,n,v,c,r,u,Q,T):this.selection(this,n,v,R,c,r,u,A,F,Q),oe=(Q=this.model.selectedDataPointIndexes).length,!this.model._isStateChaged))if(oe>0)if(L)Q.push({legendData:c,seriesIndex:r,pointIndex:u});else{for(b=0;b<oe;b++)U=Q[b].seriesIndex,J=Q[b].pointIndex,(!("series"!=I&&"cluster"!=I&&"none"!=this.model.AreaType||Q[b].SeriesIndex==r&&Q[b].PointIndex==u)||"point"==I&&Q[b].SeriesIndex==r)&&(Q.splice(b,1),oe=this.model.selectedDataPointIndexes.length,b=-1);Q.push({legendData:c,seriesIndex:r,pointIndex:u})}else Q.push({legendData:c,seriesIndex:r,pointIndex:u});this._trigger("seriesRegionClick",{selectedData:this.model.selectedDataPointIndexes})},legendSelection:function(n,c,r,u){var o,_=this.model.selectedDataPointIndexes?this.model.selectedDataPointIndexes:[],v="none"==n.model.AreaType&&1==this.model._visibleSeries.length?c.legendItem.LegendItem.PointIndex:c.legendItem.LegendItem.SeriesIndex,a=c.legendItem.LegendItem.SeriesIndex,s=v,h=n.svgObject.id+"_LegendItemShape"+v,t=$("#"+h).attr("class")?$("#"+h).attr("class"):"";if(1==$("#"+n._id+"_Selection_Legend"+v+"_canvas").length||-1!=t.indexOf("Selection")){for($("#"+n._id+"_Selection_Legend"+v+"_canvas").remove(),$("[id*="+n._id+"_Selection_series"+v+"]").remove(),$("#"+this._id+"_Selection_series"+a+"_point_"+s+"_canvas").remove(),$("#"+h).attr("class",""),$("[id*="+n.svgObject.id+"_Series"+a+"]").attr("class",""),$("[id*=_Region_Series_"+a+"]").attr("class",""),o=0;o<_.length;o++)if(_[o].seriesIndex==v||"none"==this.model.AreaType&&_[o].pointIndex==v){_.splice(o,1);break}}else n.segmentSelection(r,c,a,s,u)},chartMouseClick:function(n){this.cancelEvent(n),window.navigator.msPointerEnabled&&(n=n.originalEvent),this._doClick(n)},chartMouseDoubleClick:function(n){window.navigator.msPointerEnabled&&(n=n.originalEvent);var c=$.extend({},ej.EjSvgRender.commonChartEventArgs);c.data={location:{x:this.mousemoveX,y:this.mousemoveY},size:{height:this.model.svgHeight,width:this.model.svgWidth},id:n.target.id,pageX:n.pageX,pageY:n.pageY},this._trigger("chartDoubleClick",c)},drawTrackerSymbol:function(n,c,r,u,_,w,v){var s,h,p,g,a=n.type.toLowerCase(),t=new ej.seriesTypes[a],o="boxandwhisker"==n.type.toLowerCase()?v:r,l=ej.EjSvgRender.utils._getTransform(n.xAxis,n.yAxis,this.model.requireInvertedAxes);p={id:this.svgObject.id+"_ClipRectTrack_"+c,x:-(s=n.isTransposed?n.yAxis.plotOffset:n.xAxis.plotOffset),y:-(h=n.isTransposed?n.xAxis.plotOffset:n.yAxis.plotOffset),width:l.width+2*s,height:l.height+2*h,fill:"white","stroke-width":1,stroke:"Gray"},"none"!=this.model.AreaType&&("cartesianaxes"==this.model.AreaType&&_.X+l.x<=l.x+l.width&&(_.X+l.x>=l.x||0==_.X)&&(_.Y+l.y>=l.y||0==_.Y)?this.model.crosshair.visible||"bubble"==a||"scatter"==a?(n.trackerRemoved||(g=this.svgObject.id+"_TrackSymbol_"+c,g="boxandwhisker"==a?g+o:g,$("#"+this._id).find("[id*="+g+"]").remove(),g="canvas_trackSymbol_"+c,g="boxandwhisker"==a?g+o:g,$("#"+this._id).find("[id*="+g+"]").remove()),this.gTrackerEle=this.svgRenderer.createGroup({"clip-path":"url(#"+this.svgObject.id+"_ClipRectTrack_"+c+")",class:"Tracker",id:this.svgObject.id+"_TrackSymbol_"+c+"_"+o,transform:"translate("+l.x+","+l.y+")"})):this.gTrackerEle=null:($("#"+this.svgObject.id+"_TrackSymbol_"+c+"_"+o).remove(),this.gTrackerEle=this.svgRenderer.createGroup({id:this.svgObject.id+"_TrackSymbol_"+c+"_"+o}),this.model.enableCanvasRendering||("polaraxes"==this.model.AreaType?this.gTrackerEle.setAttribute("clip-path","url(#"+this.svgObject.id+"_SeriesGroup_"+c+"_ClipRect)"):(this.gTrackerEle.setAttribute("clip-path","url(#"+this.svgObject.id+"_ClipRectTrack_"+c+")"),this.gTrackerEle.setAttribute("transform","translate("+l.x+","+l.y+")")))),0==$("#"+this.svgObject.id+"_CrosshairGroup").length&&(this.gTrackball=this.svgRenderer.createGroup({id:this.svgObject.id+"_CrosshairGroup",visibility:"visible"}),this.svgRenderer.append(this.gTrackball,this.svgObject)),this.model.crosshair.marker.visible&&!n.isIndicator&&n._visiblePoints[r].visible&&(t.drawSymbol(c,n,r,_.X,_.Y,this,u,v),_.low&&t.drawSymbol(c,n,r,this.model.requireInvertedAxes?_.low:_.X,this.model.requireInvertedAxes?_.Y:_.low,this,u)),this.gTrackerEle&&$("#"+this.gTrackerEle.id).length<1&&this.svgRenderer.append(this.gTrackerEle,this.gTrackball)),0!=$(this.svgObject).find("#"+this.svgObject.id+"_ClipRectTrack_"+c).length||this.vmlRendering||this.svgRenderer.drawClipPath(p,$("#"+this.svgObject.id+"_CrosshairGroup"))},getClosesPointXY:function(n,c,r,u,_,w){var v,s,h,t,o,p,g,D,I,R,V,a=ej.EjSvgRender.utils._getTransform(r.xAxis,r.yAxis,this.model.requireInvertedAxes),C=this.isTouch(w),T=r._visiblePoints?r._visiblePoints.length:0,L=r.marker?$.extend(!0,{},r.marker.size):{height:6,width:6};if(L.height=C&&L.height<20?L.height+10:L.height,L.width=C&&L.width<20?L.width+10:L.width,_<=a.y+a.height&&a.y<=_&&a.x<=u&&u<=a.x+a.width)for(I=0;I<T;I++){if(o=(t=r._visiblePoints[I]).location,p=!1,g=null,D=null,"boxandwhisker"==r.type&&!this.model.enable3D&&!ej.util.isNullOrUndefined(t.boxPlotLocation))for(R=0;R<t.boxPlotLocation.length;R++)V={X:t.boxPlotLocation[R].X,Y:t.boxPlotLocation[R].Y},1==t.boxPlotLocation[R].outlier&&u>V.X+a.x-L.width&&u<V.X+a.x+L.width&&(g=t.x,ej.util.isNullOrUndefined(g)&&(p=t.visible),_>V.Y+a.y-L.height&&_<V.Y+a.y+L.height+10&&(D=t.boxPlotValues.outliers[R],s={X:V.X,Y:V.Y}),ej.util.isNullOrUndefined(s)||(v=t,h=I));o&&(u>o.X+a.x-L.width/2&&u<o.X+a.x+L.width/2&&(g=t.x,ej.util.isNullOrUndefined(g)&&(p=t.visible)),_>o.Y+a.y-L.height/2&&_<o.Y+a.y+L.height/2&&(D=t.YValues[0]),ej.util.isNullOrUndefined(g)&&!p||ej.util.isNullOrUndefined(D)||(v=t,h=I))}return{point:v,index:h,outlierPosition:s}},getClosestPointX:function(n,c,r,u){var v,_=[],w=ej.EjSvgRender.utils._getTransform(c.xAxis,c.yAxis,this.model.requireInvertedAxes);this.model.requireInvertedAxes?(r=Math.abs(u-(w.y+w.height)),u=Math.abs(r-w.x)):(r=Math.abs(r-w.x),u=Math.abs(u-(w.y+w.height)));var s=ej.EjSvgRender.utils._getValuebyPoint(r,u,c,this.model.requireInvertedAxes).PointX,h=[];return $.each(c.points,function(t,o){n.push(o.xValue)}),v=this.getClosest(n,s),ej.util.isNullOrUndefined(v)||("number"==typeof v?$.each(c._visiblePoints,function(t,o){o.xValue==v&&(_.push(o),h.push(t))}):(v=v.getTime(),$.each(c._visiblePoints,function(t,o){("number"==typeof o.xValue?o.xValue==v:o.xValue.getTime()==v)&&(_.push(o),h.push(t))}))),{point:_,index:h}},getClosest:function(n,c){var u,_,w,r=null;if(this._beforeMin=!1,this._afterMax=!1,u=Math.min.apply(null,n),_=Math.max.apply(null,n),c>=u-.5&&c<=_+.5){for(w=0;w<n.length;w++)(null==r||Math.abs(n[w]-c)<Math.abs(r-c))&&(r=n[w]);this._closest=null}else c>_?(r=n[n.length-1],this._closest=ej.util.isNullOrUndefined(this._closest)||r>this._closest?r:this._closest,this._afterMax=!0):(r=n[0],this._closest=ej.util.isNullOrUndefined(this._closest)||r<this._closest?r:this._closest,this._beforeMin=!0);return r},createTooltip:function(n,c,r){var u,_,v,a,h,t,o,l,p,g,b,T,D;r||(r=this.model._visibleSeries[n.SeriesIndex]);var I="pieofpie"==r.type?this._getPieOfPiePoint(n.Region.PointIndex,r):"pie"!=r.type&&"doughnut"!=r.type||this.model.enable3D?r._visiblePoints[n.Region.PointIndex]:r._visiblePoints[n.Region.Index],R=this.dragPoint?r.pointCollection[n.Region.PointIndex]:$.extend(!0,{},I),F=r.tooltip.isReversed;if(!1!==R.visible){if(u=r.tooltip.format,"boxandwhisker"==r.type){if(_=this.calMousePosition(c),this.mousemoveX=_.X,this.mousemoveY=_.Y,n.Region.Bounds)if(n.Region.Bounds.Width==r.outlierSettings.size.width)for(v=0;v<R.boxPlotLocation.length;v++)1==R.boxPlotLocation[v].outlier&&R.boxPlotLocation[v].X+r.outlierSettings.size.width/2>this.mousemoveX-r.xAxis.x&&R.boxPlotLocation[v].X-r.outlierSettings.size.width/2<this.mousemoveX-r.xAxis.x&&R.boxPlotLocation[v].Y+r.outlierSettings.size.height/2>this.mousemoveY-r.yAxis.y&&R.boxPlotLocation[v].Y-r.outlierSettings.size.height/2<this.mousemoveY-r.yAxis.y&&(a=this.getTooltipFormat(R,r,n.SeriesIndex,n.Region.PointIndex,u,R.boxPlotLocation[v]),R.x=a.data.x,R.y=a.text);else a=this.getTooltipFormat(R,r,n.SeriesIndex,n.Region.PointIndex,u,R.boxPlotLocation[0]),R.x=a.data.x,R.y=a.text}else a=this.getTooltipFormat(R,r,n.SeriesIndex,n.Region.PointIndex,u),R.x=a.data.x,R.y=a.data.y;(h=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data={currentText:null,seriesIndex:n.SeriesIndex,pointIndex:n.Region.PointIndex,series:r},this._trigger("toolTipInitialize",h),t=$(".tooltipDiv"+this._id),$("#"+this.svgObject.id).find("#"+this.svgObject.id+"_TrackToolTip").attr("visibility","hidden"),$("#"+this.svgObject.id+"_TrackToolTip").attr("visibility","hidden").hide(),0==$(".tooltipDiv"+this._id).length?(this.tooltipFirst=!0,t=$("<div></div>").attr("class","tooltipDiv"+this._id).css({position:"absolute","z-index":"13000",display:"block"}),$(document.body).append(t),$(".tooltipDiv"+this._id).addClass(this.svgObject.id)):($(".tooltipDiv"+this._id).css("display","block"),this.tooltipFirst=!1),null!=r.tooltip.template?(o=$("#"+r.tooltip.template).clone(),$(".tooltipDiv"+this._id)[0].innerHTML="",$(o).css("display","block").appendTo(t),r.count=1,R.count=1,(l=this.getSeriesColor(R,n.SeriesIndex,r))?$(t).css("background-color","array"==jQuery.type(l)?l[0].color:l):$(t).css("background-color",this.model.pointColors[n.Region.PointIndex]),p={series:r,point:R},ej.util.isNullOrUndefined(h.data.currentText)?$(t).html($(t).html().parseTemplate(p)):$(t).html($(o).html(h.data.currentText))):$(t).html(h.data.ToolTip);var A=this.model.m_AreaBounds,z=c.pageX+10,N=c.pageY+10,U=$(t).width(),J=$(t).height(),Q=document.getElementById(this.svgObject.id).getClientRects()[0];null==z&&(z=c.pageX+10),null==N&&(N=c.pageY+10),g=z,b=N,z-$(this.svgObject).offset().left+U>A.X+A.Width&&(g=z-(U+20)+$(document).scrollLeft()),N-$(this.svgObject).offset().top+J>A.Y+A.Height&&(b=N-(N+J-(A.Y+A.Height+Q.top))+$(document).scrollTop()),g<0&&(T=$("#"+this._id)[0].getBoundingClientRect(),c.pageX<T.width/2?g=z:($(t).css("width",z-20),g=0)),$(t).css("left",g),$(t).css("top",b),(D=r.tooltip).enableAnimation&&$(t).css({"transition-property":"left,top","-moz-transition-property":"left,top","-webkit-transition-property":"left,top","-o-transition-property":"left,top","transition-duration":D.duration,"-moz-transition-duration":D.duration,"-webkit-transition-duration":this.tooltipFirst?"0s":D.duration,"-o-transition-duration":D.duration}),$(t)[0].getBoundingClientRect().top<A.Y+Q.top&&$(t).css("top",A.Y+Q.top+$(document).scrollTop()),F&&($(t).css("left",z-(U+20)),z-(U+20)<r.xAxis.x&&$(t).css("left",z))}},translate:function(n,c,r,u){var _="horizontal"==n.orientation.toLowerCase()?c/n.width/u:r/n.height/u;n.zoomPosition="horizontal"==n.orientation.toLowerCase()?ej.EjSvgRender.utils._minMax(n.zoomPosition+_,0,1-n.zoomFactor):ej.EjSvgRender.utils._minMax(n.zoomPosition-_,0,1-n.zoomFactor)},highlightFill:function(n,c,r,u,_){var t,w=c.model.seriesColors,a=n.color;return _&&"none"==c.model.AreaType&&(1==this.model._visibleSeries.length?u=_.legendItem.LegendItem.PointIndex:r=_.legendItem.LegendItem.SeriesIndex),t=""!=a?a:"none"==c.model.AreaType?c.model.pointColors[u]:_?w[r]:(_?w[r]:u&&c.model.series[r].points[u]?c.model.series[r].points[u].fill:null)||w[r],"[object Array]"===Object.prototype.toString.call(t)&&(t=t[1].color),t},canvasHighlight:function(n,c,oe,u){var R,V,F,z,N,U,J,Q,ue,le,ne,he,se,ee,W,pe,_=oe.highlightSettings,w=oe.data,v=_.color,a=_.opacity,s=_.border.color,h=_.border.width,t=_.pattern.toLowerCase(),o=n.model.legend.visible,l=_.mode,p=oe.seriesIndex,g=oe.pointIndex,b=oe.type.toLowerCase(),C=document.getElementById(n._id+"_canvas").getBoundingClientRect(),T=[],D=[],L=[],I=this.model._visibleSeries.length,A=this.highlightFill(_,n,p,g,u);if("none"!=n.model.AreaType||"none"==n.model.AreaType&&I>1&&("series"==l||u))for(W=0,pe=n.model.chartRegions.length;W<pe;W++)("series"==l||u)&&p==n.model.chartRegions[W].SeriesIndex&&T.push(n.model.chartRegions[W].Region);else for(W=0,pe=n.model.chartRegions.length;W<pe;W++)p==n.model.chartRegions[W].SeriesIndex&&g==n.model.chartRegions[W].Region.PointIndex&&T.push(n.model._isPieOfPie?n._getPieOfPiePoint(n.model.chartRegions[W].Region.PointIndex,oe):n.model.chartRegions[W].Region[g]);if("cluster"==l&&"none"!=n.model.Areatype&&typeof g<"u")for(z=n.model._visibleSeries[p]._visiblePoints[g].xValue,W=0,pe=n.model._visibleSeries.length;W<pe;W++)for(N=0;N<n.model._visibleSeries[W]._visiblePoints.length;N++)z==n.model._visibleSeries[W]._visiblePoints[N].xValue&&(L[L.length]={seriesIndex:W,pointIndex:N});for(U=0;U<L.length;U++)for(R=L[U].seriesIndex,V=L[U].pointIndex,J=0;J<n.model.chartRegions.length;J++)R==n.model.chartRegions[J].SeriesIndex&&V==n.model.chartRegions[J].Region.PointIndex&&T.push("cluster"!=l?n.model.chartRegions[J].Region:n.model.chartRegions[J]);if(Q="none"==n.model.AreaType&&1==I?g:p,"series"!=l&&!u||0!=$("#"+n._id+"_Selection_series"+Q+"_canvas").length||0!=$("#"+n._id+"_Selection_Cluster_point_"+g+"_canvas").length||0!=$("#"+n._id+"_Selection_"+p+"_point_"+g+"_canvas").length)if("cluster"==l&&0==$("#"+n._id+"_Selection_Cluster_point_"+g+"_canvas").length&&"none"!=this.model.AreaType&&0==$("#"+n._id+"_Selection_"+p+"_point_"+g+"_canvas").length&&0==$("#"+n._id+"_Selection_series"+p+"_canvas").length){for(W=0,pe=this.model._visibleSeries.length;W<pe;W++)(oe=this.model._visibleSeries[W]).seriesIndex=W,D.push(oe._visiblePoints[g]);for(ue=[],le=[],F=this.createCanvasElement(n._id+"_Highlight__Cluster_point_"+g+"_canvas",n.svgWidth,n.svgHeight,C),this.createRect(n,F),W=0,pe=this.model._visibleSeries.length;W<pe;W++){for(ue=[],v=(_=n.model._visibleSeries[W].highlightSettings).color,a=_.opacity,s=_.border.color,h=_.border.width,t=_.pattern.toLowerCase(),A=this.highlightFill(_,n,W,g,Q,u),v="none"==t||""==t?A:this.canvasPattern(F,n,c,A,_),le.push(v),he=0,se=T.length;he<se;he++)T[he].SeriesIndex==W&&ue.push(T[he].Region);if(-1!=b.indexOf("column")||-1!=b.indexOf("waterfall")||-1!=b.indexOf("bar"))for(ne=0==$("#"+n._id+"_Selection_"+W+"_point_"+g+"_canvas").length,he=0,se=ue.length;he<se;he++)this.canvasSeriesRect(ue[he],a,s,h,v,ne,oe);else"bubble"==b?this.canvasBubbleHighlight(_,ue,n,W,v,h,a,s):"scatter"==b&&this.canvasScatterHighlight(ue,v,h,a,s)}}else("cluster"==l&&"none"==this.model.AreaType||"point"==l&&0==$("#"+n._id+"_Selection_"+p+"_point_"+g+"_canvas").length&&0==$("#"+n._id+"_Selection_series"+p+"_canvas").length&&0==$("#"+n._id+"_Selection_Cluster_point_"+g+"_canvas").length)&&(D[0]=this.model._isPieOfPie?this._getPieOfPiePoint(g,oe):oe._visiblePoints[g],F=this.createCanvasElement(n._id+"_Highlight_"+p+"_point_"+g+"_canvas",n.svgWidth,n.svgHeight,C),this.createRect(n,F),v="none"==t||""==t?A:this.canvasPattern(F,n,c,A,_),-1!=b.indexOf("column")||-1!=b.indexOf("waterfall")||-1!=b.indexOf("bar")?((T=[])[0]=w.region.Region,this.canvasSeriesRect(T[0],a,s,h,v,!0,oe)):"pie"==b||"doughnut"==b||"pieofpie"==b?((T=[])[0]=w.pointData[0],this.canvasHighlightCircle(n,_,g,a,s,h,v,T,b,F)):"pyramid"==b||"funnel"==b?this.canvasHighlightPyramid(n,T[0],_,F,a,s,h,v,b):"bubble"==b?((T=[])[0]=w.region.Region,this.canvasBubbleHighlight(_,T,n,p,v,h,a,s)):"scatter"==b&&((T=[])[0]=w.region.Region,this.canvasScatterHighlight(T,v,h,a,s)));else if(D=oe._visiblePoints,F=this.createCanvasElement(n._id+"_Highlight_series"+p+"_canvas",n.svgWidth,n.svgHeight,C),v="none"==t||""==t?A:this.canvasPattern(F,n,c,A,_),this.createRect(n,F),-1!=b.indexOf("column")||-1!=b.indexOf("waterfall")||-1!=b.indexOf("bar"))for(W=0;W<T.length;W++)ne=0==$("#"+n._id+"_Selection_"+p+"_point_"+W+"_canvas").length,this.canvasSeriesRect(T[W],a,s,h,v,ne,oe);else"pie"==b||"doughnut"==b||"pieofpie"==b?this.canvasHighlightCircle(n,_,g,a,s,h,v,T=1==I?T:T[0],b,F):"pyramid"==b||"funnel"==b?this.canvasHighlightPyramid(n,T[0],_,F,a,s,h,v,b):"bubble"==b?this.canvasBubbleHighlight(_,T,n,p,v,h,a,s):"scatter"==b&&this.canvasScatterHighlight(T,v,h,a,s);if(o&&0==$("#"+n._id+"_Selection_Legend"+Q+"_canvas").length)if("cluster"!=l||u||"none"==this.model.AreaType)this.canvasHighlightLegend(n,oe,_,"Highlight",C,v);else for(W=0,pe=L.length;W<pe;W++)this.canvasHighlightLegend(n,this.model._visibleSeries[ee=L[W].seriesIndex],_,"Highlight",C,le[ee]);"visible"===oe.visibility&&1==oe.marker.visible&&"none"!=this.model.AreaType&&this.canvasHighlightMarker(n,oe,D,_,F,c,le)},canvasSeriesRect:function(n,c,r,u,_,w,v){var h,t,a={opacity:c,stroke:r,"stroke-width":u,fill:_},s=v.cornerRadius;n&&(a.x=n.Bounds.X,a.y=n.Bounds.Y,a.width=n.Bounds.Width,a.height=n.Bounds.Height,w&&("object"!=typeof s&&s>0||s.topLeft>0||s.bottomLeft>0||s.topRight>0||s.bottomRight>0?(t=ej.EjSvgRender.utils._calculateroundedCorner(s,a),a.d=t,ej.EjCanvasRender.prototype.drawPath(a,h)):this.drawRect(a,h)))},canvasSelection:function(n,c,r,u,_,w,v,a){var s,h,t,o,p,g,b,C,T,D,I,R,V,F,A,z,N;r.seriesIndex=_,r.pointIndex=w;var H,Z,te,ae,de,U=this.model._visibleSeries,J=a.color,Q=a.opacity,oe=a.border.color,ue=a.border.width,le=a.pattern.toLowerCase(),ne=n.model.legend.visible,he=a.mode,se=r.type.toLowerCase(),ee=document.getElementById(n._id+"_canvas").getBoundingClientRect(),re=[],W=[],pe=this.model._visibleSeries.length,M=n.model.chartRegions,fe=this.model.clusterPoints,O="none"==n.model.AreaType&&1==pe?w:_,B=this.highlightFill(a,n,_,w,u,v);if(H=M.length,"none"!=n.model.AreaType||"none"==n.model.AreaType&&pe>1)for(g=0;g<H;g++)(("series"==he||u)&&_==M[g].SeriesIndex||("point"==he||u)&&_==M[g].SeriesIndex&&w==M[g].Region.PointIndex)&&re.push("none"!=n.model.AreaType||"point"!=he||u?M[g].Region:M[g].Region[w]);else if(H>0){if(this.model._isPieOfPie){if(u)for(s=0;s<r.pieCollections.length;s++)for(h=r.pieCollections[s],t=0;t<h.length;t++)if(h[t].actualIndex==u.legendItem.LegendItem.PointIndex){o=s;break}p=M[r.data?r.data.pointData[0].PieSeriesIndex:o]}else p=M[0];for(Z=p.Region.length,g=0;g<Z;g++)w==p.Region[g].PointIndex&&re.push(p.Region[g])}if(("series"==he||u)&&("none"!=this.model.AreaType||"none"==this.model.AreaType&&pe>1))if(W=r._visiblePoints,de=this.createCanvasElement(n._id+"_Selection_series"+O+"_canvas",n.svgWidth,n.svgHeight,ee),J="none"==le||""==le?B:this.canvasPattern(de,n,c,B,a),this.createRect(n,de),-1!=se.indexOf("column")||-1!=se.indexOf("waterfall")||-1!=se.indexOf("bar"))for(g=0;g<re.length;g++)this.canvasSeriesRect(re[g],Q,oe,ue,J,!0,r);else"pie"==se||"doughnut"==se||"pieofpie"==se?this.canvasHighlightCircle(n,a,w,Q,oe,ue,J,re[0],se,de):"bubble"==se?this.canvasBubbleHighlight(a,re,n,_,J,ue,Q,oe):"scatter"==se&&this.canvasScatterHighlight(re,J,ue,Q,oe);else if("cluster"==he&&"none"!=this.model.AreaType&&0==$("#"+n._id+"_Selection_Cluster_point_"+w+"_canvas").length){for(b=fe.length,I=0;I<b;I++)C=fe[I].seriesIndex,T=fe[I].pointIndex,(D=$.grep(M,function(_e){return _e.SeriesIndex==C&&_e.Region.PointIndex==T})).length>0?(re.push(D[0]),W.push(U[D[0].SeriesIndex]._visiblePoints[w])):W.push(U[I]._visiblePoints[w]);for(this.selectedPoint=w,R=[],V=[],de=this.createCanvasElement(n._id+"_Selection_Cluster_point_"+w+"_canvas",n.svgWidth,n.svgHeight,ee),this.createRect(n,de),g=0,te=U.length;g<te;g++){for(R=[],J=(ae=U[g].selectionSettings).color,Q=ae.opacity,oe=ae.border.color,ue=ae.border.width,le=ae.pattern.toLowerCase(),B=this.highlightFill(ae,n,g,w,u),J="none"==le||""==le?B:this.canvasPattern(de,n,c,B,ae),V.push(J),F=0,A=re.length;F<A;F++)re[F].SeriesIndex==g&&R.push(re[F].Region);if(-1!=se.indexOf("column")||-1!=se.indexOf("waterfall")||-1!=se.indexOf("bar"))for(z=0,N=R.length;z<N;z++)this.canvasSeriesRect(R[z],Q,oe,ue,J,!0,r);else"bubble"==se?this.canvasBubbleHighlight(ae,R,n,g,J,ue,Q,oe):"scatter"==se&&this.canvasScatterHighlight(R,J,ue,Q,oe);!u&&"none"!=this.model.AreaType&&ne&&((r=U[g]).seriesIndex=g,this.canvasHighlightLegend(n,r,a,"Selection_Cluster",ee,J))}}else("point"==he&&0==$("#"+n._id+"_Selection_"+_+"_point_"+w+"_canvas").length||"none"==this.model.AreaType)&&(this.selectedPoint=w,W[0]=this.model._isPieOfPie?this._getPieOfPiePoint(w,r):r._visiblePoints[w],de=this.createCanvasElement(n._id+"_Selection_series"+_+"_point_"+w+"_canvas",n.svgWidth,n.svgHeight,ee),this.createRect(n,de),J="none"==le||""==le?B:this.canvasPattern(de,n,c,B,a),-1!=se.indexOf("column")||-1!=se.indexOf("waterfall")||-1!=se.indexOf("bar")?this.canvasSeriesRect(re[0],Q,oe,ue,J,!0,r):"pie"==se||"doughnut"==se||"pieofpie"==se?this.canvasHighlightCircle(n,a,w,Q,oe,ue,J,re,se,de):"pyramid"==se||"funnel"==se?this.canvasHighlightPyramid(n,re[0],a,de,Q,oe,ue,J,se):"bubble"==se?this.canvasBubbleHighlight(a,re,n,_,J,ue,Q,oe):"scatter"==se&&this.canvasScatterHighlight(re,J,ue,Q,oe));ne&&("cluster"!=he||u)&&this.canvasHighlightLegend(n,r,a,"Selection",ee,J),1==r.marker.visible&&"none"!=this.model.AreaType&&this.canvasHighlightMarker(n,r,W,a,de,c,V)},createRect:function(n,c){"none"!=n.model.AreaType&&(c.lineWidth=0,c.strokeStyle="transparent",c.rect(n.model.m_AreaBounds.X,n.model.m_AreaBounds.Y,n.model.m_AreaBounds.Width,n.model.m_AreaBounds.Height),c.clip(),c.stroke(),c.save())},canvasHighlightPyramid:function(n,c,r,u,_,w,v,a,s){var t=n.model.title.text?ej.EjSvgRender.utils._measureText(n.model.title.text,$(this.svgObject).width()-n.model.margin.left-n.model.margin.right,n.model.title.font):0,o=n.pyrX=("left"===n.model.legend.position.toLowerCase()?n.model.LegendViewerBounds.Width:0)+n.model.elementSpacing+n.model.margin.left,l=n.pyrY=("top"===n.model.legend.position.toLowerCase()?n.model.LegendViewerBounds.Height:0)+(n.model.title.text?n.model._titleLocation.Y+t.height:n.model.margin.top+n.model.elementSpacing),p={opacity:_,stroke:w,"stroke-width":v,fill:a,type:s,d:"M "+(o+c.Line1.x)+" "+(l+c.Line1.y)+" L "+(o+c.Line2.x)+" "+(l+c.Line2.y)+" L "+(o+c.Line3.x)+" "+(l+c.Line3.y)+" L "+(o+c.Line4.x)+" "+(l+c.Line4.y)+" z"};"funnel"==s&&(p.d="M "+(o+c.Line1.x)+" "+(l+c.Line1.y)+" L "+(o+c.Line2.x)+" "+(l+c.Line2.y)+" L "+(o+c.Line3.x)+" "+(l+c.Line3.y)+" L "+(o+c.Line4.x)+" "+(l+c.Line4.y)+" L "+(o+c.Line5.x)+" "+(l+c.Line5.y)+" L "+(o+c.Line6.x)+" "+(l+c.Line6.y)+" z"),ej.EjCanvasRender.prototype.drawPath(p,u)},canvasScatterHighlight:function(n,c,r,u,_){for(var w,v={},a={},h=0;h<n.length;h++)w={startX:n[h].Bounds.X+n[h].Bounds.Height/2,startY:n[h].Bounds.Y+n[h].Bounds.Width/2},a.height=n[h].Bounds.Height,a.width=n[h].Bounds.Width,(v={}).ShapeSize=a,v.cx=w.startX,v.cy=w.startY,v.Style={},v.Style.BorderColor=_,v.Style.Color=c,v.Style.Opacity=u,v.Style.BorderWidth=r,ej.EjSvgRender.chartSymbol._drawCircle(w,v,this,void 0)},canvasBubbleHighlight:function(n,c,r,u,_,w,v,a){for(var s,l=0;l<c.length;l++)s=c[l].Bounds.Height/2,ej.EjCanvasRender.prototype.drawCircle({cx:c[l].Bounds.X-this.model.series[u].xAxis.x+s+this.canvasX,cy:c[l].Bounds.Y-this.model.series[u].yAxis.y+s+this.canvasY,r:s,fill:_,"stroke-width":w,opacity:v,stroke:a},void 0)},canvasHighlightCircle:function(n,c,r,u,_,w,v,a,s,h){for(var l=0;l<a.length;l++)this.highlightSegment(h,{opacity:u,stroke:_,lineWidth:w,color:v,x:a[l].StartX,y:a[l].StartY,radius:n.model._isPieOfPie?n.model.circularRadius[a[l].PieSeriesIndex]:n.model.circularRadius[a[l].SeriesIndex],innerRadius:n.model.innerRadius[a[l].SeriesIndex],startAngle:a[l].StartAngle,endAngle:a[l].EndAngle,type:s})},canvasHighlightMarker:function(n,c,r,u,_,w,v){var l,p,g,b,C,T,a=u,s=a.pattern.toLowerCase(),h=c.type.toLowerCase(),t={},o=""!=a.color?a.color:n.model.seriesColors[c.seriesIndex];for(l="none"==s||""==s?o:this.canvasPattern(_,n,w,o,a),t.Style={},t.Style.BorderColor=a.border.color,t.Style.Opacity=a.opacity,t.Style.BorderWidth=a.border.width,T=0;T<r.length;T++)(p=-1!=h.indexOf("line")||-1!=h.indexOf("area")?r[T].location:r[T].symbolLocation)&&(g="cartesianaxes"==this.model.AreaType?{startX:p.X+this.canvasX,startY:p.Y+this.canvasY}:{startX:p.X,startY:p.Y},b=c.marker,$.each(n.model.symbolShape,function(D){b.shape.toLowerCase()==D.toLowerCase()&&(C=D)}),t.ShapeSize=b.size,t.r=Math.sqrt(b.size.height*b.size.height+b.size.width*b.size.width)/2,t.cx=g.startX,t.cy=g.startY,t.Style.Color=v?v[T]:l,ej.EjSvgRender.chartSymbol["_draw"+C](g,t,n,_))},canvasHighlightLegend:function(n,c,r,u,_,w){var a,s,v=this.model._visibleSeries.length,h="none"==n.model.AreaType&&1==v?c.pointIndex:c.seriesIndex;if(0==$("#"+n._id+"_"+u+"_Legend"+h+"_canvas").length&&h<c.points.length){a=this.createCanvasElement(n._id+"_"+u+"_Legend"+h+"_canvas",n.svgWidth,n.svgHeight,_);var o={startX:(s="none"!=n.model.AreaType||"none"==n.model.AreaType&&v>1?n.model.legendRegion[c.seriesIndex]:n.model.legendRegion[c.pointIndex]).Bounds.LegendBound.X+s.Location.startX,startY:s.Bounds.LegendBound.Y+s.Location.startY},l={svgRenderer:n.svgRenderer,svgObject:n.svgObject},p={SeriesIndex:h,Style:{Color:w,Opacity:r.opacity,Visibility:!0,BorderWidth:0,BorderColor:w},context:!0,ShapeSize:s.Style.ShapeSize};"seriestype"==s.SymbolShape.toLowerCase()?(n.legendItem=s.LegendItem,ej.EjSvgRender.chartSymbol["_draw"+s.SymbolShape](o,p,n)):ej.EjSvgRender.chartSymbol["_draw"+s.SymbolShape](o,p,l,a)}},createCanvasElement:function(n,c,r,u){var _,w,s,v=document.createElement("canvas");return jQuery(this.element).attr("id"),v.setAttribute("id",n),v.height=r,v.width=c,v.style["touch-action"]&&(v.style["touch-action"]="none"),v.style["-ms-touch-action"]&&(v.style["-ms-touch-action"]="none"),this.svgRenderer.append(v,this.element),(s=document.getElementById(n)).style.left=u.left+$(document).scrollLeft()+"px",s.style.top=u.top+$(document).scrollTop()+"px",s.style.position="absolute",_=$("#"+this._id+"_canvas").offset(),w=$(s).offset(),_.left<w.left&&(s.style.left=u.left-Math.abs(_.left-w.left)+$(document).scrollLeft()+"px"),_.top<w.top&&(s.style.top=u.top-Math.abs(_.top-w.top)+$(document).scrollTop()+"px"),v.getContext("2d")},highlightSegment:function(n,c){n.save(),n.beginPath(),"pie"==c.type||"pieofpie"==c.type?(n.moveTo(c.x,c.y),n.arc(c.x,c.y,c.radius,c.startAngle-1.57,c.endAngle-1.57,!1)):(n.arc(c.x,c.y,c.radius,c.startAngle-1.57,c.endAngle-1.57,!1),n.arc(c.x,c.y,c.innerRadius,c.endAngle-1.57,c.startAngle-1.57,!0)),n.fillStyle=c.color,n.globalAlpha=c.opacity,n.fill(),n.lineWidth=c.lineWidth,n.strokeStyle=c.stroke,n.clip(),n.stroke(),n.closePath(),n.restore()},canvasPattern:function(n,c,r,u,_){var w=_,a=w.pattern.toLowerCase(),s=u,h=w.opacity,l=document.createElement("canvas"),p=l.getContext("2d"),g=[];switch(a){case"chessboard":g[0]={x:0,y:0,width:10,height:10,fill:"white",stroke:"white",opacity:h,name:"rect"},g[1]={x:0,y:0,width:5,height:5,fill:s,opacity:h,name:"rect"},g[2]={x:5,y:5,width:5,height:5,fill:s,opacity:h,name:"rect"},l.width=10,l.height=10,this.loadPattern(c,g,"",p);break;case"pacman":g[0]={name:"rect",x:0,y:0,width:18,height:18,transform:"translate(0,0)",fill:"white",opacity:h},g[1]={name:"path",d:"M 9.081 9.194 L 14.887 6.114 C 14.075000000000001 4.618 12.484 3.0620000000000007 10.596 3.0620000000000007 L 8.835 3.0620000000000007 C 6.138 3.063 3 6.151 3 8.723 L 3 10.402000000000001 C 3 12.974 6.138 16.063000000000002 8.835 16.063000000000002 L 10.596 16.063000000000002 C 12.681000000000001 16.063000000000002 14.431000000000001 14.303000000000003 15.131 12.549000000000003 L 9.081 9.194 z","stroke-width":1,stroke:s,fill:s},l.width=18,l.height=18,this.loadPattern(c,g,"",p);break;case"crosshatch":g[0]={x:0,y:0,width:8,height:8,fill:"white",stroke:u,opacity:h,name:"rect"},g[1]={d:"M 0 0 L 8 8 Z","stroke-width":1,stroke:s,name:"path"},g[2]={d:"M 8 0 L 0 8 Z","stroke-width":1,stroke:s,name:"path"},l.width=8,l.height=8,this.loadPattern(c,g,"",p);break;case"dots":g[0]={x:0,y:0,width:7,height:7,transform:"translate(0,0)",fill:"white",opacity:h,name:"rect"},g[1]={cx:3,cy:3,r:2,"stroke-width":1,fill:s,name:"circle"},l.width=7,l.height=7,this.loadPattern(c,g,"",p);break;case"diagonalforward":g[0]={x:0,y:0,width:6,height:6,fill:"white",stroke:u,opacity:h,name:"rect"},g[1]={d:"M 3 -3 L 9 3 M 6 6 L 0 0 M 3 9 L -3 3","stroke-width":2,stroke:s,name:"path"},l.width=6,l.height=6,this.loadPattern(c,g,"",p);break;case"diagonalbackward":g[0]={x:0,y:0,width:6,height:6,"stroke-width":2,fill:"white",stroke:u,opacity:h,name:"rect"},g[1]={d:"M 3 -3 L -3 3 M 0 6 L 6 0 M 9 3 L 3 9","stroke-width":2,stroke:s,name:"path"},l.width=6,l.height=6,this.loadPattern(c,g,"",p);break;case"grid":g[0]={name:"rect",x:0,y:0,width:6,height:6,transform:"translate(0,0)",fill:"white",opacity:h},g[1]={name:"path",d:"M 1 3.5 L 11 3.5 M 0 3.5 L 11 3.5 M 0 7.5 L 11 7.5 M 0 11.5 L 11 11.5 M 5.5 0 L 5.5 12 M 11.5 0 L 11.5 12 Z","stroke-width":1,stroke:s},l.width=6,l.height=6,this.loadPattern(c,g,"",p);break;case"turquoise":g[0]={name:"rect",x:0,y:0,width:17,height:17,transform:"translate(0,0)",fill:"white",opacity:h},g[1]={name:"path",d:"M 2.697 0.5319999999999996 C 3.8695005238907747 0.5319999999999996 4.82 1.4771268931071944 4.82 2.643 C 4.82 3.808873106892805 3.8695005238907747 4.754 2.697 4.754 C 1.5244994761092252 4.754 0.5739999999999998 3.808873106892805 0.5739999999999998 2.643 C 0.5739999999999998 1.4771268931071944 1.5244994761092252 0.5319999999999996 2.697 0.5319999999999996 Z","stroke-width":1,"stroke-miterlimit":10,stroke:s,fill:s},g[2]={name:"path",d:"M 13.928 0.5319999999999996 C 15.100500523890776 0.5319999999999996 16.051000000000002 1.4771268931071944 16.051000000000002 2.643 C 16.051000000000002 3.808873106892805 15.100500523890776 4.754 13.928 4.754 C 12.755499476109225 4.754 11.805 3.808873106892805 11.805 2.643 C 11.805 1.4771268931071944 12.755499476109225 0.5319999999999996 13.928 0.5319999999999996 Z","stroke-width":1,"stroke-miterlimit":10,stroke:s,fill:s},g[3]={name:"path",d:"M 8.313 0.5319999999999996 C 9.485500523890776 0.5319999999999996 10.436 1.4771268931071944 10.436 2.643 C 10.436 3.808873106892805 9.485500523890776 4.754 8.313 4.754 C 7.140499476109226 4.754 6.19 3.808873106892805 6.19 2.643 C 6.19 1.4771268931071944 7.140499476109226 0.5319999999999996 8.313 0.5319999999999996 Z","stroke-width":1,"stroke-miterlimit":10,stroke:s,fill:s},g[4]={name:"path",d:"M 13.928 6.16 C 15.100500523890776 6.16 16.051000000000002 7.105126893107196 16.051000000000002 8.271 C 16.051000000000002 9.436873106892806 15.100500523890776 10.382000000000001 13.928 10.382000000000001 C 12.755499476109225 10.382000000000001 11.805 9.436873106892806 11.805 8.271 C 11.805 7.105126893107196 12.755499476109225 6.16 13.928 6.16 Z","stroke-width":1,"stroke-miterlimit":10,stroke:s,fill:s},g[5]={name:"path",d:"M 8.313 6.16 C 9.485500523890776 6.16 10.436 7.105126893107196 10.436 8.271 C 10.436 9.436873106892806 9.485500523890776 10.382000000000001 8.313 10.382000000000001 C 7.140499476109226 10.382000000000001 6.19 9.436873106892806 6.19 8.271 C 6.19 7.105126893107196 7.140499476109226 6.16 8.313 6.16 Z","stroke-width":1,"stroke-miterlimit":10,stroke:s,fill:s},g[6]={name:"path",d:"M 13.928 11.787999999999998 C 15.100500523890776 11.787999999999998 16.051000000000002 12.733126893107194 16.051000000000002 13.899 C 16.051000000000002 15.064873106892804 15.100500523890776 16.009999999999998 13.928 16.009999999999998 C 12.755499476109225 16.009999999999998 11.805 15.064873106892804 11.805 13.899 C 11.805 12.733126893107194 12.755499476109225 11.787999999999998 13.928 11.787999999999998 Z","stroke-width":1,"stroke-miterlimit":10,stroke:s,fill:s},g[7]={name:"path",d:"M 8.313 11.787999999999998 C 9.485500523890776 11.787999999999998 10.436 12.733126893107194 10.436 13.899 C 10.436 15.064873106892804 9.485500523890776 16.009999999999998 8.313 16.009999999999998 C 7.140499476109226 16.009999999999998 6.19 15.064873106892804 6.19 13.899 C 6.19 12.733126893107194 7.140499476109226 11.787999999999998 8.313 11.787999999999998 Z","stroke-width":1,"stroke-miterlimit":10,stroke:s,fill:s},l.width=17,l.height=17,this.loadPattern(c,g,"",p);break;case"star":g[0]={name:"rect",x:0,y:0,width:21,height:21,transform:"translate(0,0)",fill:"white",opacity:h},g[1]={name:"path",d:"M 15.913 18.59 L 10.762 12.842 L 5.613 18.75 L 8.291 11.422 L 0.325 9.91 L 8.154 8.33 L 5.337 0.91 L 10.488 6.658 L 15.637 0.75 L 12.959 8.078 L 20.925 9.59 L 13.096 11.17 z","stroke-width":1,stroke:s,fill:s},l.width=21,l.height=21,this.loadPattern(c,g,"",p);break;case"triangle":g[0]={name:"rect",x:0,y:0,width:10,height:10,fill:"white",opacity:h},g[1]={name:"path",d:"M 4.987 0 L 7.48 4.847 L 9.974 9.694 L 4.987 9.694 L 0 9.694 L 2.493 4.847 z","stroke-width":1,stroke:s,fill:s},l.width=10,l.height=10,this.loadPattern(c,g,"",p);break;case"circle":g[0]={name:"rect",x:0,y:0,width:9,height:9,transform:"translate(0,0)",fill:"white",opacity:h},g[1]={name:"circle",cx:5.125,cy:3.875,r:3.625,"stroke-width":1,fill:s},l.width=9,l.height=9,this.loadPattern(c,g,"",p);break;case"tile":g[0]={name:"rect",x:0,y:0,width:18,height:18,transform:"translate(0,0)",fill:"white",opacity:h},g[1]={name:"path",d:"M 0 9 L 0 0 L 9 0 z","stroke-width":1,stroke:s,fill:s},g[2]={name:"path",d:"M 9 9 L 9 0 L 18 0 z","stroke-width":1,stroke:s,fill:s},g[3]={name:"path",d:"M 0 18 L 0 9 L 9 9 z","stroke-width":1,stroke:s,fill:s},g[4]={name:"path",d:"M 9 18 L 9 9 L 18 9 z","stroke-width":1,stroke:s,fill:s},l.width=18,l.height=18,this.loadPattern(c,g,"",p);break;case"horizontaldash":g[0]={name:"rect",x:0,y:0,width:12,height:12,transform:"translate(0,0)",fill:"white",opacity:h},g[1]={name:"path",d:"M 0 1.5 L 10 1.5 M 0 5.5 L 10 5.5 M 0 9.5 L 10 9.5 z","stroke-width":1,stroke:s,fill:s},l.width=12,l.height=12,this.loadPattern(c,g,"",p);break;case"verticaldash":g[0]={name:"rect",x:0,y:0,width:12,height:12,transform:"translate(0,0)",fill:"white",opacity:h},g[1]={name:"path",d:"M 1.5 0 L 1.5 10 M 5.5 0 L 5.5 10 M 9.5 0 L 9.5 10 z","stroke-width":1,stroke:s,fill:s},l.width=12,l.height=12,this.loadPattern(c,g,"",p);break;case"rectangle":g[0]={x:0,y:0,name:"rect",width:12,height:12,fill:"white",opacity:h},g[1]={name:"rect",x:1,y:2,width:4,height:9,fill:s,opacity:h},g[2]={name:"rect",x:7,y:2,width:4,height:9,fill:s,opacity:h},l.width=12,l.height=12,this.loadPattern(c,g,"",p);break;case"box":g[0]={x:0,y:0,name:"rect",width:13,height:13,fill:"white",opacity:h},g[1]={name:"rect",x:1.5,y:1.5,width:10,height:9,fill:s,opacity:h},l.width=10,l.height=10,this.loadPattern(c,g,"",p);break;case"horizontalstripe":g[0]={name:"rect",x:0,y:0,width:10,height:12,transform:"translate(0,0)",fill:"white",opacity:h},g[1]={name:"path",d:"M 0 0.5 L 10 0.5 M 0 4.5 L 10 4.5 M 0 8.5 L 10 8.5 z","stroke-width":1,stroke:s,fill:s},l.width=10,l.height=12,this.loadPattern(c,g,"",p);break;case"verticalstripe":g[0]={name:"rect",x:0,y:0,width:12,height:10,transform:"translate(0,0)",fill:"white",opacity:h},g[1]={name:"path",d:"M 0.5 0 L 0.5 10 M 4.5 0 L 4.5 10 M 8.5 0 L 8.5 10 z","stroke-width":1,stroke:s,fill:s},l.width=12,l.height=10,this.loadPattern(c,g,"",p);break;case"bubble":g[0]={name:"rect",x:0,y:0,width:20,height:20,transform:"translate(0,0)",fill:"#ffffff",opacity:h},g[1]={name:"circle",cx:5.217,cy:11.325,r:3.429,"stroke-width":1,fill:"#D0A6D1"},g[2]={name:"circle",cx:13.328,cy:6.24,r:4.884,"stroke-width":1,fill:s},g[3]={name:"circle",cx:13.277,cy:14.66,r:3.018,"stroke-width":1,fill:"#D0A6D1"},l.width=20,l.height=20,this.loadPattern(c,g,"",p);break;case"custom":l=document.getElementById(w.customPattern)}return n.createPattern(l,"repeat")},foundClasses:function(n){var c=[];return $("[id*="+n+"]").each(function(){var r=$(this).attr("class")?$(this).attr("class"):"";r.indexOf("Selection")>=0&&c.push(r)}),c},selection:function(n,c,r,u,_,w,v,a,s,h){var V,F,A,z,N,le,ne,he,se,ee,t=this.model.clusterPoints,l=this.model._visibleSeries,p=l.length,g="none"==this.model.AreaType&&1==p?v:w,b=r.selectionSettings,T=(this.model._visibleSeries[w].selectionSettings.type.toLowerCase(),"series"+w),D=!1,I=($("#"+s).attr("name"),b.pattern.toLowerCase()),R=b.mode;if(a&&(V=a.indexOf(this.svgObject.id+"_SeriesGroup_")>=0||a.indexOf(this.svgObject.id+"_Chart3D")>=0),("none"!=this.model.AreaType||"none"==this.model.AreaType&&"series"==R&&p>1)&&$("style").each(function(){$(this).html().indexOf("."+n._id+"SelectionStyle"+T)>-1&&(D=!0)}),!n.vmlRendering&&this.model.enable3D)"series"!=R&&!_||"none"==this.model.AreaType&&("none"!=this.model.AreaType||1==p)?"cluster"==R&&"none"!=n.model.AreaType?this.highlightCluster(n,w,v,"Selection",T,b,c,h):"none"==this.model.AreaType?(this.highlightPoint(n,w,v,"Selection",T+g,b,c,h),$("#"+this.svgObject.id+"_LegendItemShape"+g).attr("class","Selection"+T+g+"Style"+T+g+"1")):(this.highlightPoint(n,w,v,"Selection",T,b,c,h),$("#"+this.svgObject.id+"_LegendItemShape"+g).attr("class","Selection"+T+"Style"+T+"1")):(this.highlightSeries(n,w,v,"Selection",T,b,c,_,h),$("#"+this.svgObject.id+"_LegendItemShape"+g).attr("class","Selection"+T+"Style"+T+"1"));else{if("cluster"!=R||_||"none"==n.model.AreaType){(N={}).name="2D",N.index="none"==this.model.AreaType?g:w,N.api="Selection",N.color=""!=b.color?b.color:_?"none"==this.model.AreaType?this.model.pointColors[g]:this.model.seriesColors[g]:"none"!=$("#"+s).attr("fill")?$("#"+s).attr("fill"):$("#"+s).attr("stroke"),"[object Array]"===Object.prototype.toString.call(N.color)&&(N.color=N.color[1].color);var Q="none"==I||n.vmlRendering||""==I?b.color:this.pattern(n,c,N,b),U=b.opacity,J=b.border.color,oe=b.border.width;D||("none"==this.model.AreaType&&(("series"==R||_)&&1==p||"series"!=R&&!_)?($("style").each(function(){$(this).html().indexOf(".SelectionStyle"+T+"Point"+g)>-1&&(D=!0)}),D||(this.createStyle(n,n._id+"Selection",T+"Point"+g,U,Q,J,oe),this.createStyle(n,n._id+"SelectionLegend",T+"Point"+g,U,Q,"transparent",0))):("none"==this.model.AreaType&&p>1||"none"!=this.model.AreaType)&&(this.createStyle(n,n._id+"Selection",T,U,Q,J,oe),this.createStyle(n,n._id+"SelectionLegend",T,U,Q,"transparent",0)))}if(("series"==R||_)&&("none"==n.model.AreaType&&p>1||"none"!=n.model.AreaType)){if(!V)for(F=$("#"+a).childNodes?$("#"+a).childNodes:[],A=0;A<F.length;A++)$("#"+F[A].id).attr("class",n._id+"SelectionStyle");$("[id*="+this.svgObject.id+"_Series"+g+"]").each(function(){if(this.parentNode.id==n.svgObject.id+"_SeriesGroup_"+g||this.parentNode.id==n.svgObject.id+"_symbolGroup_"+g){var re=$(this).attr("name")?n._id+"SelectionPathStyle"+T:n._id+"SelectionStyle"+T;$(this).attr("class",re)}}),$("#"+this.svgObject.id+"_LegendItemShape"+g).attr("class",n._id+"SelectionLegendStyle"+T),u&&$("#"+a).remove()}else if("cluster"!=R||"none"==n.model.AreaType||ej.util.isNullOrUndefined(s)){if($("#"+s).attr("name")||s==n.svgObject.id+"_Series"+g||"none"==n.model.AreaType)$("#"+s).attr("class",n._id+"SelectionStyle"+T+"Point"+g),$("#"+this.svgObject.id+"_LegendItemShape"+g).attr("class",n._id+"SelectionLegendStyle"+T+"Point"+g),u&&$("#"+a).remove();else{if($("#"+s).attr("class",n._id+"SelectionStyle"+T),"cylinder"==this.model.commonSeriesOptions.columnFacet||"cylinder"==r.columnFacet)for(A=0;A<2;A++)$("#"+s.replace(/2$/,A)).attr("class",n._id+"SelectionStyle"+T);$("#"+this.svgObject.id+"_LegendItemShape"+g).attr("class",n._id+"SelectionLegendStyle"+T),$("#"+s+"_symbol").attr("class",n._id+"SelectionStyle"+T),u&&($("#"+s+"_symbol").attr("class",n._id+"SelectionStyle"+T),$("#"+a).remove())}null!=(ee=$("#"+s).attr("name"))&&("candle"==ee||ee.indexOf("hilo")>=0)&&($("[id$="+s+"]").attr("class",n._id+"SelectionStyle"+T),$("#"+this.svgObject.id+"_LegendItemShape"+g).attr("class",n._id+"SelectionLegendStyle"+T))}else{for(z=this.svgObject.id+"_Series",t=n.model.clusterPoints,g=s.match(/(\d+)/g),v=parseInt(g[g.length-1]),s.indexOf("SeriesText")>=0&&(v=this.GetSeriesPoint(c).region.Region.PointIndex),he=0;he<t.length;he++)T="ClusterSeries"+(ne=t[he].seriesIndex),(N={}).index=ne,N.name="2D",N.api="Selection"+T,N.color=""!=(b=l[ne].selectionSettings).color?b.color:this.model.seriesColors[ne],"[object Array]"===Object.prototype.toString.call(N.color)&&(N.color=N.color[1].color),U=b.opacity,J=b.border.color,oe=b.border.width,Q="none"==I||n.vmlRendering||""==I?N.color:this.pattern(n,c,N,b),$("style").each(function(){$(this).html().indexOf("."+n._id+"SelectionStyle"+T)>-1&&(le=!0)}),le||(this.createStyle(n,n._id+"Selection",T,U,Q,J,oe),this.createStyle(n,n._id+"SelectionLegend",T,U,Q,"transparent",0)),se=$("#"+z+t[he].seriesIndex+"_Point"+t[he].pointIndex).attr("name")?n._id+"SelectionPathStyle"+T:n._id+"SelectionStyle"+T,$("#"+z+t[he].seriesIndex+"_Point"+t[he].pointIndex).attr("class",se),$("#"+z+t[he].seriesIndex+"_Point"+t[he].pointIndex+"_symbol").attr("class",se),"hidden"!=n.model._visibleSeries[ne].visibility&&$("#"+this.svgObject.id+"_LegendItemShape"+ne).not("[class*='Highlight']").attr("class",n._id+"SelectionLegendStyle"+T),null!=(ee=$("#"+s).attr("name"))&&("candle"==ee||ee.indexOf("hilo")>=0)&&$("[id$="+z+t[he].seriesIndex+"_Point"+t[he].pointIndex+"]").attr("class","HighlightStyle"+T);u&&($("#"+this.svgObject.id+"_Series"+ne+"_Point"+v).attr("class",n._id+"SelectionStyle"+T),$("#"+this.svgObject.id+"_Series"+ne+"_Point"+v+"_symbol").attr("class",n._id+"SelectionStyle"+T),$("#"+a).remove())}}},removeSelection:function(n,c,r,u,_,w,v){var o,l,p,a=r.length,s=this.model.clusterPoints,t=s?s.length:0;if(("series"==u||w)&&("none"!=this.model.AreaType||"none"==this.model.AreaType&&a>1))for(l=0;l<a;l++)"point"!=(o=r[l].selectionSettings).mode&&"single"==o.type.toLowerCase()||w&&"single"==o.type.toLowerCase()?($(this.svgObject).find("[id*="+this.svgObject.id+"_SeriesGroup_"+l+"],[id*="+this.svgObject.id+"_symbolGroup_"+l+"],[id*=_Region_Series_"+l+"_]").each(function(){$(this).find("*").attr("class",""),$(this).attr("class","")}),$("#"+this._id+"_Selection_Legend"+l+"_canvas").remove(),$("#"+this._id+"_Selection_series"+l+"_canvas").remove(),$("[id*=_Region_Series_"+l+"]").attr("class",""),$("#"+this.svgObject.id+"_LegendItemShape"+l).attr("class","")):v&&"multiple"==o.type.toLowerCase()&&($("#"+this._id+"_Selection_series"+n+"_canvas").remove(),$("#"+this._id+"_Selection_Legend"+n+"_canvas").remove(),$("[id*=_Region_Series_"+n+"]").attr("class",""),$("[id*="+this.svgObject.id+"_Series"+n+"]").attr("class",""),$("#"+this.svgObject.id+"_LegendItemShape"+n).attr("class",""));if("cluster"==u&&"none"!=this.model.AreaType&&!w)if(_)if(this.model.enableCanvasRendering)$("[id*="+this._id+"_Selection_Cluster_point_"+c+"]").remove(),0==$("[id*="+this._id+"_Selection_Cluster]").length&&$("[id*="+this._id+"_SelectionCluster_Legend]").remove();else{for(p=0;p<t;p++)$("[id*=_Region_Series_"+s[p].seriesIndex+"_Point_"+s[p].pointIndex+"]").attr("class",""),$("[id*="+this.svgObject.id+"_Series"+s[p].seriesIndex+"_Point"+s[p].pointIndex+"]").attr("class","");0==this.foundClasses(this.model.enable3D?"_Region_Series_"+n:this.svgObject.id+"_Series"+n).length&&$("[id*="+this.svgObject.id+"_LegendItemShape]").attr("class","")}else if(this.model.enableCanvasRendering)$("[id*="+this._id+"_Selection_Cluster]").remove(),$("[id*="+this._id+"_SelectionCluster_Legend]").remove(),this.selectedPoint=null;else for(p=0;p<t;p++)$("[id*=_Region_Series_"+s[p].seriesIndex+"_Point_]").attr("class",""),$("[id*="+this.svgObject.id+"_Series"+s[p].seriesIndex+"_Point]").attr("class",""),$("#"+this.svgObject.id+"_LegendItemShape"+s[p].seriesIndex).attr("class","");"point"!=u||"none"==this.model.AreaType||w||(_?($("#"+this._id+"_Selection_series"+n+"_point_"+c+"_canvas").remove(),$("[id*=_Region_Series_"+n+"_Point_"+c+"]").attr("class",""),$("[id*="+this.svgObject.id+"_Series"+n+"_Point"+c+"]").attr("class",""),0==$("[id*="+this._id+"_Selection_series"+n+"]").length&&$("#"+this._id+"_Selection_Legend"+n+"_canvas").remove(),0==this.foundClasses(this.model.enable3D?"_Region_Series_"+n:this.svgObject.id+"_Series"+n).length&&$("#"+this.svgObject.id+"_LegendItemShape"+n).attr("class","")):($("[id*="+this._id+"_Selection_series"+n+"_point_]").remove(),$("[id*="+this._id+"_Selection_Legend"+n+"]").remove(),$("[id*=_Region_Series_"+n+"_Point_]").attr("class",""),$("[id*="+this.svgObject.id+"_Series"+n+"_Point]").attr("class",""),$("#"+this.svgObject.id+"_LegendItemShape"+n).attr("class",""))),"point"!=u&&"cluster"!=u&&("series"!=u||1!=this.model._visibleSeries.length||"none"!=this.model.AreaType||w)||(_?($("#"+this._id+"_Selection_series"+n+"_point_"+c+"_canvas").remove(),$("[id*=_Region_Series_"+n+"_Point_"+c+"]").attr("class",""),$("[id*="+this.svgObject.id+"_Series"+n+"_Point"+c+"]").attr("class",""),this.model._visibleSeries.length>1?$("#"+this.svgObject.id+"_LegendItemShape"+n).attr("class",""):$("#"+this.svgObject.id+"_LegendItemShape"+c).attr("class",""),this.model._visibleSeries.length>1?$("#"+this._id+"_Selection_Legend"+n+"_canvas").remove():$("#"+this._id+"_Selection_Legend"+c+"_canvas").remove()):($("[id*="+this._id+"_Selection_series]").remove(),$("[id*="+this._id+"_Selection_Legend]").remove(),$("[id*=_Region_Series_"+n+"_Point_]").attr("class",""),$("[id*="+this.svgObject.id+"_Series"+n+"_Point]").attr("class",""),this.model._visibleSeries.length>1?$("[id*="+this.svgObject.id+"_LegendItemShape"+n+"]").attr("class",""):$("[id*="+this.svgObject.id+"_LegendItemShape]").attr("class","")))},createStyle:function(n,c,r,u,_,w,v,a){var s,h,t;n.vmlRendering?((s=document.createElement("style")).id=c+"Segment",h="."+c+"Style"+r+" {filter: alpha(opacity="+(u*=100)+");}."+c+"PathStyle"+r+"  {filter: alpha(opacity="+u+");}",s.setAttribute("type","text/css"),s.styleSheet?s.styleSheet.cssText=h:(t=document.createTextNode(h),s.appendChild(t)),document.getElementsByTagName("head")[0].appendChild(s)):($("<style id="+c+"Segment"+r+" type='text/css'> ."+c+"Style"+r+"{ fill:"+_+";opacity:"+u+";stroke:"+w+";stroke-width:"+v+";stroke-opacity:"+a+"}</style>").appendTo("body"),$("<style id="+c+"Path"+r+" type='text/css'> ."+c+"PathStyle"+r+"{ opacity:"+u+";stroke:"+w+";stroke-width:"+v+";stroke-opacity:"+a+"}</style>").appendTo("body"))},highlightPoint:function(n,c,r,u,_,w,v){for(var a,s,t="_Region_Series_"+c+"_Point_"+r,o=$(this.svgObject).find("[id$="+t+"],[id*="+t+"back],[id*="+t+"front]"),l=0;l<o.length;l++)(a=[]).api=u+_,a.seriesName=_,a.name=$("[id="+o[l].id+"]").attr("name"),a.index=l,s=this.highlightFill(w,n,c,r),($("#"+o[l].id).attr("class")||"").indexOf("Selection")<0&&$("[id="+o[l].id+"]").attr("class",this.dStyle(a,s,n,v,w))},highlightCluster:function(n,c,r,u,a,w,v){var s,h,t,o,l,p,g,b,C,T,D;if("none"!=n.model.AreaType){for(p=[],g=n.model._visibleSeries[c]._visiblePoints[r].x,b=0,C=n.model._visibleSeries.length;b<C;b++)for(D=0;D<n.model._visibleSeries[b]._visiblePoints.length;D++)g==n.model._visibleSeries[b]._visiblePoints[D].x&&(p[p.length]={seriesIndex:b,pointIndex:D});for(T=0;T<p.length;T++){for(a="series"+T,s="_Region_Series_"+p[T].seriesIndex+"_Point_"+p[T].pointIndex,h=$(this.svgObject).find("[id$="+s+"],[id*="+s+"back],[id*="+s+"front]"),D=0;D<h.length;D++)(t=[]).api=u+a,t.seriesName="series"+T,t.name=$("[id="+h[D].id+"]").attr("name"),t.index=D,o=this.highlightFill(w="Highlight"==u?n.model._visibleSeries[T].highlightSettings:n.model._visibleSeries[T].selectionSettings,n,c=T,r),(l=(l=$("#"+h[D].id).attr("class"))||"").indexOf("Selection"+a+"Style")<0&&l.indexOf("SelectionStyle")<0&&$("[id="+h[D].id+"]").attr("class",this.dStyle(t,o,n,v,w));"Highlight"==u?$("#"+this.svgObject.id+"_LegendItemShape"+T).not("[class*='Selection']").attr("class","Highlight"+a+"Style"+a+"1"):$("#"+this.svgObject.id+"_LegendItemShape"+T).attr("class","Selection"+a+"Style"+a+"1")}}},highlightSeries:function(n,s,r,u,_,w,v,a){var p,g,C,h=r,o="none"==n.model.AreaType&&1==n.model._visibleSeries.length?"_Region_Series_"+s+"_Point_"+r:"_Region_Series_"+s+"_Point_",l=$(this.svgObject).find("[id*="+o+"]"),b=a?$("#"+this.svgObject.id+"_LegendItemShape"+r).attr("class"):v?$("#"+v.target.id).attr("class"):"";if((b=b||"").indexOf("SelectionStyle")<0||a)for(C=0;C<l.length;C++)(p=[]).api=u+_,p.seriesName=_,p.name=$("[id="+l[C].id+"]").attr("name"),p.index=C,g=this.highlightFill(w,n,s,h,a),(b=(b=$("#"+l[C].id).attr("class"))||"").indexOf("SelectionStyle")<0&&b.indexOf("Selection"+_+"Style")<0&&$("[id="+l[C].id+"]").attr("class",this.dStyle(p,g,n,v,w))},highlight:function(n,c,r,u,_,w,v,a){var h,o,L,R,V,F,A,z,N,U,J,Q,oe,s=r.highlightSettings,t=$.inArray(r,n.model._visibleSeries),l="series"+t,p=!1,g=t,b=v||c.target.id,C=jQuery.uaMatch(navigator.userAgent);!a&&this.isTouch(c)&&"chrome"==C.browser&&(h=c.originalEvent.changedTouches[0],b=document.elementFromPoint(h.clientX,h.clientY).id);var ue=(w=w||c.target.parentNode.id).indexOf(this.svgObject.id+"_SeriesGroup_")>=0||w.indexOf(this.svgObject.id+"_Chart3D")>=0,ne=($("#"+b).attr("name"),s.pattern.toLowerCase()),he=n.model._visibleSeries.length;if("none"==n.model.AreaType&&1==he&&(n.model.enable3D?g=u?u.legendItem.LegendItem.PointIndex:_.region.Region.PointIndex:(o=(u?this.svgObject.id+"_LegendItemShape"+u.legendItem.LegendItem.PointIndex:b).substr((u?this.svgObject.id+"_LegendItemShape":this.svgObject.id+"_Series"+t+"_Point").length),g=o)),$("style").each(function(){$(this).html().indexOf(".HighlightStyle"+l)>-1&&(p=!0)}),n.model.enable3D&&!n.vmlRendering)"series"!=s.mode&&!u||("none"!=n.model.AreaType||1==he)&&"none"==n.model.AreaType?"cluster"==s.mode&&"none"!=n.model.AreaType?this.highlightCluster(n,t,_.pointData.pointIndex,"Highlight",l,s,c):(this.highlightPoint(n,t,o=_?_.pointData.pointIndex:g,"Highlight",l+o,s,c),$("#"+this.svgObject.id+"_LegendItemShape"+g).not("[class*='Selection']").attr("class","Highlight"+l+o+"Style"+l+o+"1")):(this.highlightSeries(n,t,g,"Highlight",l,s,c,u),$("#"+this.svgObject.id+"_LegendItemShape"+g).not("[class*='Selection']").attr("class","Highlight"+l+"Style"+l+"1"));else{if(s.mode||"none"==this.model.AreaType){(L={}).name="2D",L.index=t,L.api="Highlight",L.color=""!=s.color?s.color:u?"none"==this.model.AreaType?this.model.pointColors[g]:this.model.seriesColors[g]:$("#"+b).attr("fill"),"[object Array]"===Object.prototype.toString.call(L.color)&&(L.color=L.color[1].color);var se="none"==ne||n.vmlRendering||""==ne?s.color:this.pattern(n,c,L,s),ee=a?1:s.opacity,re=a?-1==r.type.toLowerCase().indexOf("hilo")?n.model.highlightColor:se:s.border.color,W=a?3.5:s.border.width,pe=a&&-1==r.type.toLowerCase().indexOf("hilo")?.5:1;p||(this.createStyle(n,"Highlight",l,ee,se,re,W,pe),this.createStyle(n,"HighlightLegend",l,ee,se,"transparent",0,pe))}if(-1==(I=(I=u?$("#"+this.svgObject.id+"_LegendItemShape"+g).attr("class"):$("#"+b).attr("class"))||"").indexOf("Selection"))if(("series"==s.mode&&!a||u)&&("none"==n.model.AreaType&&1!=he||"none"!=n.model.AreaType))$("[id*="+this.svgObject.id+"_Series"+g+"]").each(function(){if(this.parentNode.id==n.svgObject.id+"_SeriesGroup_"+g||this.parentNode.id==n.svgObject.id+"_symbolGroup_"+g){var xe=$(this).attr("class"),O=$(this).attr("name")?"HighlightPathStyle"+l:"HighlightStyle"+l;(null==xe||-1==xe.indexOf("SelectionStyle"))&&xe!="SelectionStyle"+l&&xe!="SelectionStyleClusterSeries"+t&&xe!="SelectionPathStyle"+l&&w.indexOf(n.svgObject.id+"_symbolGroup_"+g)<=0&&$(this).attr("class",O)}}),$("#"+this.svgObject.id+"_LegendItemShape"+g).not("[class*='Selection']").attr("class","HighlightLegendStyle"+l);else if("cluster"!=s.mode||"none"==n.model.AreaType||a){if(!$("#"+b).attr("name")&&b!=n.svgObject.id+"_Series"+g){if(0!=(M=$("#"+b).attr("class")?$("#"+b).attr("class"):"").indexOf("Selection")&&w.indexOf(n.svgObject.id+"_symbolGroup_"+g)<=0&&(_||u)){if(ue&&($("#"+b).attr("class","HighlightStyle"+l),"cylinder"==this.model.commonSeriesOptions.columnFacet||"cylinder"==r.columnFacet))for(N=0;N<2;N++)$("#"+b.replace(/2$/,N)).attr("class","HighlightStyle"+l);$("#"+b+"_symbol").attr("class","HighlightStyle"+l),$("#"+this.svgObject.id+"_Series"+t+"_Point"+o).not("[class*='Selection']").attr("class","HighlightStyle"+l),$("#"+this.svgObject.id+"_LegendItemShape"+g).not("[class*='Selection']").attr("class","HighlightLegendStyle"+l)}b.indexOf("symbol")>-1&&$("#"+b).attr("class","HighlightStyle"+l)}null!=(oe=$("#"+b).attr("name"))&&("candle"==oe||oe.indexOf("hilo")>=0)&&($("[id$="+b+"]").attr("class","HighlightStyle"+l),$("#"+this.svgObject.id+"_LegendItemShape"+g).not("[class*='Selection']").attr("class","HighlightLegendStyle"+l))}else{if(R=this.svgObject.id+"_Series",V=[],(g=b.match(/(\d+)/g))&&b.toLowerCase().indexOf("point")>0)for(o=parseInt(g[g.length-1]),A=n.model._visibleSeries[t]._visiblePoints[o].xValue,N=0,U=n.model._visibleSeries.length;N<U;N++)for(J=0;J<n.model._visibleSeries[N]._visiblePoints.length;J++)A==(z=n.model._visibleSeries[N]._visiblePoints[J]).xValue&&0==z.isEmpty&&1==z.visible&&(V[V.length]={seriesIndex:N,pointIndex:J});for(Q=0;Q<V.length;Q++){l="series"+(F=V[Q].seriesIndex),(L={}).name="2D",L.api="Highlight"+l,L.color=""!=(s=n.model._visibleSeries[F].highlightSettings).color?s.color:this.model.seriesColors[F],"[object Array]"===Object.prototype.toString.call(L.color)&&(L.color=L.color[1].color),ee=s.opacity,re=s.border.color,W=s.border.width,se="none"==ne||n.vmlRendering||""==ne?L.color:this.pattern(n,c,L,s),p||(this.createStyle(n,"Highlight",l,ee,se,re,W),this.createStyle(n,"HighlightLegend",l,ee,se,"transparent",0));var M=$("#"+R+V[Q].seriesIndex+"_Point"+V[Q].pointIndex).attr("class"),I=($("#"+R+V[Q].seriesIndex+"_Point"+V[Q].pointIndex+"_symbol").attr("class"),$("#"+R+V[Q].seriesIndex+"_Point"+V[Q].pointIndex).attr("name")?"HighlightPathStyle"+l:"HighlightStyle"+l);(null==M||-1==M.indexOf("SelectionStyleseries"+Q))&&M!="SelectionStyleseries"+Q&&M!="SelectionPathStyle"+l&&w.indexOf(n.svgObject.id+"_symbolGroup_"+Q)<=0&&($("#"+R+V[Q].seriesIndex+"_Point"+V[Q].pointIndex).attr("class",I),$("#"+R+V[Q].seriesIndex+"_Point"+V[Q].pointIndex+"_symbol").attr("class",I)),"hidden"!=n.model._visibleSeries[F].visibility&&$("#"+this.svgObject.id+"_LegendItemShape"+F).not("[class*='Selection']").attr("class","HighlightLegendStyle"+l),null!=(oe=$("#"+b).attr("name"))&&("candle"==oe||oe.indexOf("hilo")>=0)&&$("[id$="+R+V[Q].seriesIndex+"_Point"+V[Q].pointIndex+"]").attr("class","HighlightStyle"+l)}}}},dStyle:function(n,c,r,u,_){var t,o,w=ej.Ej3DRender.prototype.polygon3D.prototype,v=_,a=n.api,s=n.seriesName,h=v.opacity;return c=r.colorNameToHex(c),c="XLight"==n.name?w.applyXLight(c,r):"ZLight"==n.name?w.applyZLight(c,r):c,(t={}).name=n.name,t.color=c,t.api=a,c="none"==v.pattern?c:this.pattern(r,u,t,v),document.getElementById(a+"Segment"+s)?(o=document.getElementById(a+"Segment"+s)).innerHTML=o.innerHTML+"."+a+"Style"+s+n.index+" { fill:"+c+";opacity:"+h+" }":((o=document.createElement("style")).id=a+"Segment"+s,o.type="text/css",o.innerHTML="."+a+"Style"+s+n.index+" { fill:"+c+";opacity:"+h+" }",document.getElementsByTagName("head")[0].appendChild(o)),a+"Style"+s+n.index},pattern:function(n,c,r,u){var o,l,g,_=u,w=r.api,v=_.pattern.toLowerCase(),a=r.color,s=""!=_.opacity?_.opacity:$("#"+c.target.id).attr("opacity"),h="#ffffff";switch(document.getElementById(w+"Def")?o=$("#"+w+"Def")[0]:(o=n.svgRenderer.createPattern({id:w+"Def"},"svg"),n.svgRenderer.append(o,n.svgObject)),n.model.enable3D&&(h="XLight"==r.name?"#595959":"ZLight"==r.name?"#737373":"#808080"),"#"+v+"_"+w+"_"+r.name+"_"+r.index&&$("#"+v+"_"+w+"_"+r.name+"_"+r.index).remove(),l=[],v){case"chessboard":return g=n.svgRenderer.createPattern({id:v+"_"+w+"_"+r.name+"_"+r.index,patternUnits:"userSpaceOnUse",x:0,y:0,width:10,height:10},"pattern"),l[0]={x:0,y:0,width:10,height:10,fill:h,opacity:s,name:"rect"},l[1]={x:0,y:0,width:5,height:5,fill:a,opacity:s,name:"rect"},l[2]={x:5,y:5,width:5,height:5,fill:a,opacity:s,name:"rect"},this.loadPattern(n,l,g),o.appendChild(g),"url(#"+v+"_"+w+"_"+r.name+"_"+r.index+")";case"pacman":return g=n.svgRenderer.createPattern({id:v+"_"+w+"_"+r.name+"_"+r.index,patternUnits:"userSpaceOnUse",width:"17.917",height:"18.384"},"pattern"),l[0]={name:"rect",x:0,y:0,width:17.917,height:18.384,transform:"translate(0,0)",fill:h,opacity:s},l[1]={name:"path",d:"M9.081,9.194l5.806-3.08c-0.812-1.496-2.403-3.052-4.291-3.052H8.835C6.138,3.063,3,6.151,3,8.723v1.679   c0,2.572,3.138,5.661,5.835,5.661h1.761c2.085,0,3.835-1.76,4.535-3.514L9.081,9.194z","stroke-width":1,stroke:a,fill:a},this.loadPattern(n,l,g),o.appendChild(g),"url(#"+v+"_"+w+"_"+r.name+"_"+r.index+")";case"crosshatch":return g=n.svgRenderer.createPattern({id:v+"_"+w+"_"+r.name+"_"+r.index,patternUnits:"userSpaceOnUse",width:"8",height:"8"},"pattern"),l[0]={x:0,y:0,width:8,height:8,transform:"translate(0,0)",fill:h,opacity:s,name:"rect"},l[1]={d:"M0 0L8 8ZM8 0L0 8Z","stroke-width":1,stroke:a,name:"path"},this.loadPattern(n,l,g),o.appendChild(g),"url(#"+v+"_"+w+"_"+r.name+"_"+r.index+")";case"dots":return g=n.svgRenderer.createPattern({id:v+"_"+w+"_"+r.name+"_"+r.index,patternUnits:"userSpaceOnUse",width:"6",height:"6"},"pattern"),l[0]={x:0,y:0,width:7,height:7,transform:"translate(0,0)",fill:h,opacity:s,name:"rect"},l[1]={cx:3,cy:3,r:2,"stroke-width":1,fill:a,name:"circle"},this.loadPattern(n,l,g),o.appendChild(g),"url(#"+v+"_"+w+"_"+r.name+"_"+r.index+")";case"diagonalforward":return g=n.svgRenderer.createPattern({id:v+"_"+w+"_"+r.name+"_"+r.index,patternUnits:"userSpaceOnUse",width:"6",height:"6"},"pattern"),l[0]={x:0,y:0,width:6,height:6,transform:"translate(0,0)",fill:h,opacity:s,name:"rect"},l[1]={d:"M 3 -3 L 9 3 M 6 6 L 0 0 M 3 9 L -3 3","stroke-width":2,stroke:a,name:"path"},this.loadPattern(n,l,g),o.appendChild(g),"url(#"+v+"_"+w+"_"+r.name+"_"+r.index+")";case"diagonalbackward":return g=n.svgRenderer.createPattern({id:v+"_"+w+"_"+r.name+"_"+r.index,patternUnits:"userSpaceOnUse",width:"6",height:"6"},"pattern"),l[0]={x:0,y:0,width:6,height:6,transform:"translate(0,0)",fill:h,opacity:s,name:"rect"},l[1]={d:"M 3 -3 L -3 3 M 0 6 L 6 0 M 9 3 L 3 9","stroke-width":2,stroke:a,name:"path"},this.loadPattern(n,l,g),o.appendChild(g),"url(#"+v+"_"+w+"_"+r.name+"_"+r.index+")";case"grid":return g=n.svgRenderer.createPattern({id:v+"_"+w+"_"+r.name+"_"+r.index,patternUnits:"userSpaceOnUse",width:"6",height:"6"},"pattern"),l[0]={name:"rect",x:0,y:0,width:6,height:6,transform:"translate(0,0)",fill:h,opacity:s},l[1]={name:"path",d:"M1 3.5L11 3.5 M0 3.5L11 3.5 M0 7.5L11 7.5 M0 11.5L11 11.5 M5.5 0L5.5 12 M11.5 0L11.5 12Z","stroke-width":1,stroke:a},this.loadPattern(n,l,g),o.appendChild(g),"url(#"+v+"_"+w+"_"+r.name+"_"+r.index+")";case"turquoise":return g=n.svgRenderer.createPattern({id:v+"_"+w+"_"+r.name+"_"+r.index,patternUnits:"userSpaceOnUse",width:"17",height:"17"},"pattern"),l[0]={name:"rect",x:0,y:0,width:17,height:17,transform:"translate(0,0)",fill:h,opacity:s},l[1]={name:"path",d:"M0.5739999999999998,2.643a2.123,2.111 0 1,0 4.246,0a2.123,2.111 0 1,0 -4.246,0","stroke-width":1,"stroke-miterlimit":10,stroke:a,fill:a},l[2]={name:"path",d:"M11.805,2.643a2.123,2.111 0 1,0 4.246,0a2.123,2.111 0 1,0 -4.246,0","stroke-width":1,"stroke-miterlimit":10,stroke:a,fill:a},l[3]={name:"path",d:"M6.19,2.643a2.123,2.111 0 1,0 4.246,0a2.123,2.111 0 1,0 -4.246,0","stroke-width":1,"stroke-miterlimit":10,stroke:a,fill:a},l[4]={name:"path",d:"M11.805,8.217a2.123,2.111 0 1,0 4.246,0a2.123,2.111 0 1,0 -4.246,0","stroke-width":1,"stroke-miterlimit":10,stroke:a,fill:a},l[5]={name:"path",d:"M6.19,8.217a2.123,2.111 0 1,0 4.246,0a2.123,2.111 0 1,0 -4.246,0","stroke-width":1,"stroke-miterlimit":10,stroke:a,fill:a},l[6]={name:"path",d:"M11.805,13.899a2.123,2.111 0 1,0 4.246,0a2.123,2.111 0 1,0 -4.246,0","stroke-width":1,"stroke-miterlimit":10,stroke:a,fill:a},l[7]={name:"path",d:"M6.19,13.899a2.123,2.111 0 1,0 4.246,0a2.123,2.111 0 1,0 -4.246,0","stroke-width":1,"stroke-miterlimit":10,stroke:a,fill:a},this.loadPattern(n,l,g),o.appendChild(g),"url(#"+v+"_"+w+"_"+r.name+"_"+r.index+")";case"star":return g=n.svgRenderer.createPattern({id:v+"_"+w+"_"+r.name+"_"+r.index,patternUnits:"userSpaceOnUse",width:"21",height:"21"},"pattern"),l[0]={name:"rect",x:0,y:0,width:21,height:21,transform:"translate(0,0)",fill:h,opacity:s},l[1]={name:"path",d:"M15.913,18.59L10.762 12.842 5.613 18.75 8.291 11.422 0.325 9.91 8.154 8.33 5.337 0.91 10.488 6.658 15.637 0.75 12.959 8.078 20.925 9.59 13.096 11.17 z","stroke-width":1,stroke:a,fill:a},this.loadPattern(n,l,g),o.appendChild(g),"url(#"+v+"_"+w+"_"+r.name+"_"+r.index+")";case"triangle":return g=n.svgRenderer.createPattern({id:v+"_"+w+"_"+r.name+"_"+r.index,patternUnits:"userSpaceOnUse",width:"10",height:"10"},"pattern"),l[0]={name:"rect",x:0,y:0,width:10,height:10,transform:"translate(0,0)",fill:h,opacity:s},l[1]={name:"path",d:"M4.987,0L7.48 4.847 9.974 9.694 4.987 9.694 0 9.694 2.493 4.847 z","stroke-width":1,stroke:a,fill:a},this.loadPattern(n,l,g),o.appendChild(g),"url(#"+v+"_"+w+"_"+r.name+"_"+r.index+")";case"circle":return g=n.svgRenderer.createPattern({id:v+"_"+w+"_"+r.name+"_"+r.index,patternUnits:"userSpaceOnUse",width:"9",height:"9"},"pattern"),l[0]={name:"rect",x:0,y:0,width:9,height:9,transform:"translate(0,0)",fill:h,opacity:s},l[1]={name:"circle",cx:5.125,cy:3.875,r:3.625,"stroke-width":1,fill:a},this.loadPattern(n,l,g),o.appendChild(g),"url(#"+v+"_"+w+"_"+r.name+"_"+r.index+")";case"tile":return g=n.svgRenderer.createPattern({id:v+"_"+w+"_"+r.name+"_"+r.index,patternUnits:"userSpaceOnUse",width:"18",height:"18"},"pattern"),l[0]={name:"rect",x:0,y:0,width:18,height:18,transform:"translate(0,0)",fill:h,opacity:s},l[1]={name:"path",d:"M0,9L0 0 9 0 z","stroke-width":1,stroke:a,fill:a},l[2]={name:"path",d:"M9,9L9 0 18 0 z","stroke-width":1,stroke:a,fill:a},l[3]={name:"path",d:"M0,18L0 9 9 9 z","stroke-width":1,stroke:a,fill:a},l[4]={name:"path",d:"M9,18L9 9 18 9 z","stroke-width":1,stroke:a,fill:a},this.loadPattern(n,l,g),o.appendChild(g),"url(#"+v+"_"+w+"_"+r.name+"_"+r.index+")";case"horizontaldash":return g=n.svgRenderer.createPattern({id:v+"_"+w+"_"+r.name+"_"+r.index,patternUnits:"userSpaceOnUse",width:"12",height:"12"},"pattern"),l[0]={name:"rect",x:0,y:0,width:12,height:12,transform:"translate(0,0)",fill:h,opacity:s},l[1]={name:"path",d:"M0,1.5 L10 1.5 M0,5.5 L10 5.5 M0,9.5 L10 9.5 z","stroke-width":1,stroke:a,fill:a},this.loadPattern(n,l,g),o.appendChild(g),"url(#"+v+"_"+w+"_"+r.name+"_"+r.index+")";case"verticaldash":return g=n.svgRenderer.createPattern({id:v+"_"+w+"_"+r.name+"_"+r.index,patternUnits:"userSpaceOnUse",width:"12",height:"12"},"pattern"),l[0]={name:"rect",x:0,y:0,width:12,height:12,transform:"translate(0,0)",fill:h,opacity:s},l[1]={name:"path",d:"M1.5,0 L1.5 10 M5.5,0 L5.5 10 M9.5,0 L9.5 10 z","stroke-width":1,stroke:a,fill:a},this.loadPattern(n,l,g),o.appendChild(g),"url(#"+v+"_"+w+"_"+r.name+"_"+r.index+")";case"rectangle":return g=n.svgRenderer.createPattern({id:v+"_"+w+"_"+r.name+"_"+r.index,patternUnits:"userSpaceOnUse",x:0,y:0,width:12,height:12},"pattern"),l[0]={name:"rect",width:12,height:12,fill:h,opacity:s},l[1]={name:"rect",x:1,y:2,width:4,height:9,fill:a,opacity:s},l[2]={name:"rect",x:7,y:2,width:4,height:9,fill:a,opacity:s},this.loadPattern(n,l,g),o.appendChild(g),"url(#"+v+"_"+w+"_"+r.name+"_"+r.index+")";case"box":return g=n.svgRenderer.createPattern({id:v+"_"+w+"_"+r.name+"_"+r.index,patternUnits:"userSpaceOnUse",x:0,y:0,width:10,height:10},"pattern"),l[0]={name:"rect",width:13,height:13,fill:h,opacity:s},l[1]={name:"rect",x:1.5,y:1.5,width:10,height:9,fill:a,opacity:s},this.loadPattern(n,l,g),o.appendChild(g),"url(#"+v+"_"+w+"_"+r.name+"_"+r.index+")";case"horizontalstripe":return g=n.svgRenderer.createPattern({id:v+"_"+w+"_"+r.name+"_"+r.index,patternUnits:"userSpaceOnUse",width:"10",height:"12"},"pattern"),l[0]={name:"rect",x:0,y:0,width:10,height:12,transform:"translate(0,0)",fill:h,opacity:s},l[1]={name:"path",d:"M0,0.5 L10 0.5 M0,4.5 L10 4.5 M0,8.5 L10 8.5 z","stroke-width":1,stroke:a,fill:a},this.loadPattern(n,l,g),o.appendChild(g),"url(#"+v+"_"+w+"_"+r.name+"_"+r.index+")";case"verticalstripe":return g=n.svgRenderer.createPattern({id:v+"_"+w+"_"+r.name+"_"+r.index,patternUnits:"userSpaceOnUse",width:"12",height:"10"},"pattern"),l[0]={name:"rect",x:0,y:0,width:12,height:10,transform:"translate(0,0)",fill:h,opacity:s},l[1]={name:"path",d:"M0.5,0 L0.5 10 M4.5,0 L4.5 10 M8.5,0 L8.5 10 z","stroke-width":1,stroke:a,fill:a},this.loadPattern(n,l,g),o.appendChild(g),"url(#"+v+"_"+w+"_"+r.name+"_"+r.index+")";case"bubble":return g=n.svgRenderer.createPattern({id:v+"_"+w+"_"+r.name+"_"+r.index,patternUnits:"userSpaceOnUse",width:"20",height:"20"},"pattern"),l[0]={name:"rect",x:0,y:0,width:20,height:20,transform:"translate(0,0)",fill:h,opacity:s},l[1]={name:"circle",cx:5.217,cy:11.325,r:3.429,"stroke-width":1,fill:"#D0A6D1"},l[2]={name:"circle",cx:13.328,cy:6.24,r:4.884,"stroke-width":1,fill:a},l[3]={name:"circle",cx:13.277,cy:14.66,r:3.018,"stroke-width":1,fill:"#D0A6D1"},this.loadPattern(n,l,g),o.appendChild(g),"url(#"+v+"_"+w+"_"+r.name+"_"+r.index+")";case"custom":return"url(#"+_.customPattern+")"}},loadPattern:function(n,c,r,u){for(var _,w=0;w<c.length;w++)u?"rect"==c[w].name?(c[w].stroke="transparent",this.drawRect(c[w],u)):"path"==c[w].name?ej.EjCanvasRender.prototype.drawPath(c[w],u):"circle"==c[w].name&&(c[w].stroke="transparent",ej.EjCanvasRender.prototype.drawCircle(c[w],u)):(_=n.svgRenderer.createPattern(c[w],c[w].name),r.appendChild(_))},drawRect:function(n,c){c.save(),c.beginPath(),c.globalAlpha=n.opacity,c.lineWidth=n["stroke-width"],c.strokeStyle=n.stroke,c.rect(n.x,n.y,n.width,n.height),"none"==n.fill&&(n.fill="transparent"),c.fillStyle=n.fill,n.transform&&c.translate(n.transform[0],n.transform[1]),c.rotate(n.rotate*Math.PI/180),c.fillRect(n.x,n.y,n.width,n.height),c.clip(),c.stroke(),c.restore()},chartRightClick:function(n){return this.chartRightClick=!0,this.isTouch(n)&&this.model.crosshair.visible?(event.preventDefault(),event.stopPropagation(),!1):void 0},chartMouseUpTouch:function(n){var c=this,u=(jQuery.uaMatch(navigator.userAgent),this.calMousePosition(n));return this.mousemoveX=u.X,this.mousemoveY=u.Y,this.enableTrackBall(),clearTimeout(this.model.doubleTapTimer),this.drag||(this.model.doubleTapTimer=setTimeout(function(){(c.model.tapNum<2||c.model.crosshair.visible)&&c.singleTap(n),c.model.tapNum=0,c.model.cachedX=0,c.model.cachedY=0},200)),2==c.model.tapNum&&(c.model.doubleTapped=!1),!0},getEvent:function(n){return n.targetTouches&&n.targetTouches[0]?n.targetTouches[0]:n},doubleTap:function(n){var v,c=this.getEvent(n),r=c.pageX,u=c.pageY,a=this.model.m_AreaBounds;this.model.cachedX=this.model.cachedX||r,this.model.cachedY=this.model.cachedY||u,(new Date).getTime(),this.mouseDownX>=a.X&&this.mouseDownX<a.X+a.Width&&this.mouseDownY<a.Y+a.Height&&this.mouseDownY>=a.Y&&Math.abs(r-this.model.cachedX)<200&&Math.abs(u-this.model.cachedY)<200&&this.model.tapNum++,2==this.model.tapNum&&(this.model.doubleTapped=!0,this.multiSelectMouseDown(n),this.drag=this.model.zooming.enable||this._isMultiSelect,(v=this.model.trackerElement)&&($(v).finish(),v=null))},singleTap:function(n){var _,h,t,o,l,p,b,c=this,r=n.target.id,w=this.getEvent(n),v=w.pageX,a=w.pageY;if(!this.panning&&!this.isZoomButtonHovered(n.target)){for(this.cancelEvent(n),c.model.trackerElement&&($.finish?$(c.model.trackerElement).finish():$(c.model.trackerElement).stop(!0,!0),c.model.trackerElement=null),$(".ejTooltip"+this._id).remove(),(!c.model.crosshair.visible||"cartesianaxes"!=c.model.AreaType)&&Math.abs(v-c.model.cachedX)<10&&Math.abs(a-c.model.cachedY)<10?this.chartInteractiveBehavior(n):(c.model.element=$(document).find("#"+this.svgObject.id+"_CrosshairGroup"),c.model.trackerElement=$(c.model.element).children().not(".Tracker").not("defs"),$(c.model.trackerElement).length>0&&$(c.model.trackerElement).fadeOut(1e3,function(){$(c.model.element).find('[id*="trackSymbol"]').attr("visibility","hidden"),c.model.trackerElement=null,c._removeHighlight()}),h=$(document).find('[id*="_trackball_grouping_tooltip"]'),$(h).length>0&&$(h).fadeOut(1e3,function(){$(h).remove()})),this.axisTooltip(n,r),this.showTitleTooltip(n,r),this.model.enableCanvasRendering&&(this._textTooltip(n,this.model.xAxisLabelRegions),this._textTooltip(n,this.model.yAxisLabelRegions)),t=0,o=this.model.series.length;t<o;t++)p=(l=this.model.series[t]).marker.dataLabel,!l._enableSmartLabels||this.model.enable3D||p.enableWrap||(b=p.font,"none"==this.model.AreaType&&ej.util.isNullOrUndefined(p.template)&&this.datalabelTooltip(n,t,b));$(".ejTooltip"+this._id).length>0&&(_=$(".ejTooltip"+this._id)),$(".tooltipDiv"+this._id).length>0&&(_=$(".tooltipDiv"+this._id)),window.clearTimeout(c.model.timer),c.model.trackerElement=_,c.model.timer=setTimeout(function(){var T,C=c.model.prevPoint;c.model.trackerElement?c.model.trackerElement.fadeOut(500,function(){if(C){if("polaraxes"!=c.model.AreaType){var D=ej.EjSvgRender.utils._getPoint(C.point,C.series);c.drawTrackerSymbol(C.series,C.seriesIndex,C.pointIndex,null,D)}$("#canvas_trackSymbol").remove()}$("[id*=_TrackSymbol]").remove()}):(C&&"polaraxes"!=c.model.AreaType&&(T=ej.EjSvgRender.utils._getPoint(C.point,C.series),c.drawTrackerSymbol(C.series,C.seriesIndex,C.pointIndex,null,T)),c.model.crosshair.visible||($("#canvas_trackSymbol").remove(),$("[id*=_TrackSymbol]").remove()))},1200)}n.originalEvent.pointerType||this.panning||!(this.model.selectionEnable||this.isDevice()&&this._isSafari)||this._doClick(n)},_getPieOfPiePoint:function(n,c,r){for(var u,_=r?c.points:c._visiblePoints,w=_.length,v=0;v<w;v++)n==_[v].actualIndex&&(u=_[v]);return u},tooltip:function(n,c){var u,v,a,o,l,p,g,b,L,I,R,V,F,A,U,J,Q,oe,ue,le,ne,r=!1,w=this.GetSeriesPoint(c);if($("#canvas_trackSymbol").remove(),ej.util.isNullOrUndefined(w)&&!this.dragPoint&&$("#"+n.svgObject.id+"_TrackToolTip").remove(),this.model.crosshair.visible||"cartesianaxes"!=this.model.AreaType)$("#"+this.svgObject.id).find("#"+this.svgObject.id+"_TrackToolTip").hide(),ej.util.isNullOrUndefined(w)&&(clearTimeout(this.removeTooltip),n.removeTooltip=setTimeout(function(){$(".tooltipDiv"+n._id).remove()},1e3));else{for(var ee,re,W,he=this.model.indicators,se=this.model._visibleSeries,pe=se.length,M=0,fe=0;fe<pe;fe++)for(W=se[fe].trendlines,re=0;re<W.length;re++)"visible"!=W[re].visibility.toLowerCase()||W[re].isNull||"boxandwhisker"==this.model.series[0].type||(W[re]._visiblePoints=W[re].points,se=se.concat(W[re]));for(v=0;v<he.length&&he[v].segment;v++)(ee=he[v]).visible&&(se=se.concat(ee.segment));for(a=se.length,ue=0;ue<a;ue++)_=ue,s=(u=se[ue]).type.toLowerCase(),"visible"!=u.visibility.toLowerCase()||"scatter"===s||"bubble"===s||"column"===s||-1!=s.indexOf("bar")||"stackingcolumn"===s||"stackingcolumn100"===s||u._hiloTypes?ej.util.isNullOrUndefined(w)&&!this.dragPoint&&$(".tooltipDiv"+this._id).hasClass(this.svgObject.id)&&(clearTimeout(this.removeTooltip),n.removeTooltip=setTimeout(function(){$(".tooltipDiv"+n._id).remove()},1e3)):($("#"+n.svgObject.id+"_TrackToolTipTemplate_"+_).remove(),$(".tooltipDiv"+this._id).hasClass(n.svgObject.id)||$(".tooltipDiv"+this._id).remove(),$("#"+n.svgObject.id).find("#"+n.svgObject.id+"_TrackSymbol_"+_).remove(),$("#"+n.svgObject.id+"_TrackSymbol_"+_).remove(),F=null,o=n.getClosesPointXY([],[],u,n.mousemoveX,n.mousemoveY,c),ej.util.isNullOrUndefined(o.point)&&(!this.model.prevPoint||this.model.prevPoint.seriesIndex&&!this.model.series[this.model.prevPoint.seriesIndex].tooltip.visible)&&!this.dragPoint&&$(".tooltipDiv"+this._id).hasClass(this.svgObject.id)&&(clearTimeout(this.removeTooltip),n.removeTooltip=setTimeout(function(){$(".tooltipDiv"+n._id).remove()},1e3)),o.point&&("boxandwhisker"==u.type.toLowerCase()?(M++,F=o.outlierPosition):F=ej.EjSvgRender.utils._getPoint(o.point,u),(l=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data={location:{x:this.mousemoveX,y:this.mousemoveX},region:{SeriesIndex:ue,Region:{PointIndex:o.index}}},n._trigger("pointRegionMouseMove",l)),(p=this.model.prevPoint)&&p.seriesIndex==ue&&!o.point&&("boxandwhisker"==u.type.toLowerCase()?(M++,g=p.outlierPosition):g=ej.EjSvgRender.utils._getPoint(p.point,p.series),n.model.enableCanvasRendering||n.drawTrackerSymbol(p.series,p.seriesIndex,p.pointIndex,null,g),this.model.prevPoint=null),u.isIndicator||u.isTrendLine||u.selectionSettings.enable||u.highlightSettings.enable||!u.marker.visible&&"boxandwhisker"!=u.type.toLowerCase()||!o.point||l.cancel||(ej.util.isNullOrUndefined(o.point.marker)||ej.util.isNullOrUndefined(o.point.marker.visible)||o.point.marker&&o.point.marker.visible?n.drawTrackerSymbol(u,_,o.index,!1,F):"boxandwhisker"!=u.type||o.point.marker||n.drawTrackerSymbol(u,_,o.index,!1,F),p&&o.point!=p.point&&("boxandwhisker"==u.type.toLowerCase()?(M++,b=p.outlierPosition):b=ej.EjSvgRender.utils._getPoint(p.point,p.series),n.drawTrackerSymbol(p.series,p.seriesIndex,p.pointIndex,null,b,Z,M)),(ej.util.isNullOrUndefined(o.point.marker)||ej.util.isNullOrUndefined(o.point.marker.visible)||o.point.marker&&o.point.marker.visible)&&(this.model.prevPoint={point:o.point,pointIndex:o.index,series:u,seriesIndex:_,outlierPosition:o.outlierPosition})),u.tooltip.visible&&o.point&&(!w||ue>w.region.SeriesIndex&&!(u._zOrder<this.model._visibleSeries[w.region.SeriesIndex]._zOrder))&&(A=ej.EjSvgRender.utils._getTransform(u.xAxis,u.yAxis,n.model.requireInvertedAxes),F.X+A.x<=A.x+A.width&&(F.X+A.x>=A.x||0==F.X)&&Math.abs(F.Y-(A.y+A.height))<=A.y+A.height&&(Math.abs(F.Y-(A.y+A.height))>=A.y||0==F.Y)&&(l.cancel||(0==$(n.svgObject).find("#"+n.svgObject.id+"_TrackToolTip").length&&(n.gTransToolEle=n.svgRenderer.createGroup({id:n.svgObject.id+"_TrackToolTip",transform:"translate("+A.x+","+A.y+")"})),n.svgRenderer._setAttr($(n.svgObject).find("#"+n.svgObject.id+"_TrackToolTip"),{transform:"translate("+A.x+","+A.y+")",visibility:"visible"}),ej.util.isNullOrUndefined(u.tooltip.template)?(r=!0,$(".tooltipDiv"+this._id).remove(),n.displayShowTooltip(F,o.point,u,o.index)):(r=!0,$("#"+n.svgObject.id).find("#"+n.svgObject.id+"_TrackToolTip").attr("visibility","hidden"),n.createTooltip({SeriesIndex:_,Region:{PointIndex:o.index}},c,u))))))}if($(".tooltipDiv"+this._id).hasClass(this.svgObject.id)||$(".tooltipDiv"+this._id).remove(),w&&ej.util.isNullOrUndefined(w.region.isStripLine)){if(("pie"==(D=this.model._visibleSeries[w.region.SeriesIndex].type.toLowerCase())||"pieofpie"==D||"doughnut"==D)&&this.model._visibleSeries[w.region.SeriesIndex].explode&&(this.model._visibleSeries[w.region.SeriesIndex].enableAnimation?(this.model.AnimationComplete||this.model.enableCanvasRendering)&&this.pieExplosion(w,c):this.model.enable3D||this.pieExplosion(w,c)),w.region.isIndicator)I=(xe=this.model.indicators[w.region.SeriesIndex]).segment[0]._visiblePoints[w.region.Region.PointIndex],xe.fill=xe.segment[0].fill;else if("pieofpie"!=(xe=this.model._visibleSeries[w.region.SeriesIndex]).type||this.model.enable3D){if("pie"!=xe.type&&"doughnut"!=xe.type||this.model.enable3D)I=this.model._visibleSeries[w.region.SeriesIndex]._visiblePoints[w.region.Region.PointIndex];else for(L=0;L<xe._visiblePoints.length;L++)if(w.region.Region.length==xe._visiblePoints.length){if(w.region.Region.PointIndex==xe._visiblePoints[L].actualIndex){I=this.model._visibleSeries[w.region.SeriesIndex]._visiblePoints[L];break}}else if(w.region.Region.Index==L){I=this.model._visibleSeries[w.region.SeriesIndex]._visiblePoints[L];break}}else I=this._getPieOfPiePoint(w.region.Region.PointIndex,xe);if(I&&"polaraxes"==this.model.AreaType){for(ue=0;ue<this.model._visibleSeries.length;ue++)$("[id*=_TrackSymbol]").remove(),R="canvas_trackSymbol_"+ue,$("#"+this._id).find("[id*="+R+"]").remove();if(V="polaraxes"!=this.model.AreaType?ej.EjSvgRender.utils._getPoint(I,xe):ej.EjSvgRender.utils.TransformToVisible(xe,I.xValue,I.y,this),J=this.model.prevPoint,!ej.util.isNullOrUndefined(J)&&J!=w&&xe.marker.visible){var xe=this.model._visibleSeries[J.region.SeriesIndex],O=this.model._visibleSeries[J.region.SeriesIndex]._visiblePoints[J.region.Region.PointIndex],B=ej.EjSvgRender.utils.TransformToVisible(xe,O.xValue,O.y,this);this.drawTrackerSymbol(xe,J.region.SeriesIndex,J.region.Region.PointIndex,null,B),this.model.prevPoint=null}xe.marker.visible&&"column"!=xe.drawType&&"rangecolumn"!=xe.drawType.toLowerCase()&&(this.drawTrackerSymbol(xe,w.region.SeriesIndex,w.region.Region.PointIndex,!0,V),this.model.prevPoint=w)}xe.tooltip.visible&&!r&&"visible"==xe.visibility.toLowerCase()&&(ej.util.isNullOrUndefined(xe.tooltip.template)?("cartesianaxes"==this.model.AreaType?(A=ej.EjSvgRender.utils._getTransform(xe.xAxis,xe.yAxis,this.model.requireInvertedAxes),0==$(this.svgObject).find("#"+this.svgObject.id+"_TrackToolTip").length&&(this.gTransToolEle=this.svgRenderer.createGroup({id:this.svgObject.id+"_TrackToolTip",transform:"translate("+A.x+","+A.y+")"})),this.svgRenderer._setAttr($(this.svgObject).find("#"+this.svgObject.id+"_TrackToolTip"),{transform:"translate("+A.x+","+A.y+")"}),$("#"+this.svgObject.id+"_TrackToolTip").attr("visibility","visible"),F={X:w.location.x-this.model.m_AreaBounds.X,Y:Math.abs(w.location.y-this.model.m_AreaBounds.Y)}):(0==$(this.svgObject).find("#"+this.svgObject.id+"_TrackToolTip").length&&(this.gTransToolEle=this.svgRenderer.createGroup({id:this.svgObject.id+"_TrackToolTip"})),F={X:w.location.x,Y:Math.abs(w.location.y)}),$(".tooltipDiv"+this._id).remove(),this.displayShowTooltip(F,I,xe,w.region.Region.PointIndex)):($("#"+n.svgObject.id).find("#"+n.svgObject.id+"_TrackToolTip").attr("visibility","hidden"),this.createTooltip(w.region,c))),(U=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data=w,this._trigger("pointRegionMouseMove",U)}else if(ej.util.isNullOrUndefined(this.model.prevPoint)||"polaraxes"!=this.model.AreaType){if(!ej.util.isNullOrUndefined(this.model.explodeValue)){var H,Z,s=this.model.series[this.model.explodeValue.SeriesIndex].type.toLowerCase(),D=(xe=this.model._visibleSeries[this.model.explodeValue.SeriesIndex],new ej.seriesTypes[s]),_=(xe.labelPosition.toLowerCase(),this.model.explodeValue.SeriesIndex),ae=this.model._isPieOfPie?this._getPieOfPiePoint(this.model.explodeValue.PointIndex,xe):xe._visiblePoints[this.model.explodeValue.Index],de=D._calculateArcData(this,this.model.explodeValue.PointIndex,ae,xe,_,this.model.explodeValue.PieSeriesIndex);for(this.model.enableCanvasRendering&&(this.model.series[_].explodeIndex=null,Q=document.getElementById(this.svgObject.id).getClientRects()[0],this.svgRenderer.ctx.clearRect(Q.left,Q.top,Q.width,Q.height),$("#"+this._id).ejChart("redraw")),Z=this.svgObject.id+"_SeriesGroup_"+_,H=1==this.model.explodeValue.PieSeriesIndex?$(this.gSeriesEle).children("#"+Z)[1]:$(this.gSeriesEle).children("#"+Z)[0],oe=$(H).children(),ue=0;ue<oe.length;ue++)if(ne=this.svgRenderer._getAttrVal($(le=oe[ue])[0],"data-pointIndex"),parseInt(ne)==this.model.explodeValue.PointIndex){this.svgRenderer._setAttr($(le),{d:de.Direction});break}D.drawDataLabelAcc(this,xe,this.model.explodeValue.Index,ae,_,this.model.explodeValue.PieSeriesIndex),this.model.explodeValue=null,this.model.explode=!1}}else xe=this.model._visibleSeries[(J=this.model.prevPoint).region.SeriesIndex],I=this.model._visibleSeries[J.region.SeriesIndex]._visiblePoints[J.region.Region.PointIndex],V=ej.EjSvgRender.utils.TransformToVisible(xe,I.xValue,I.y,this),this.drawTrackerSymbol(xe,J.region.SeriesIndex,J.region.Region.PointIndex,null,V),this.model.prevPoint=null},chartTrackball:function(n,c,r){var u,_,w,v,s,h,t,o,g,b,C,T,D,L,R,V,F,z,U,J,Q;this.crosshairLinePath=[];var ne,se,ee,re,fe,xe,O,B,Z,ae,de,Se,Ce,Pe,je,Fe,$e,oe=n.model.requireInvertedAxes,ue=[],le=[],W=this.model.indicators,pe=this.model._visibleSeries,M=!1,H=[],He=[],Be=[],Ye=[],dt=this.model.enableCanvasRendering,Ke=0,tt=0,ht=0,Ct=($("#"+this._id).offset(),[]),yt=[],Dt=[],wt=this.model.crosshair.trackballTooltipSettings.mode.toLowerCase(),Mt=n._id+"_trackball_grouping_tooltip",bt=this.model.locale,Pt=0,jt=0;if(!this.model.enable3D&&this.model.crosshair.visible&&"trackball"==this.model.crosshair.type.toLowerCase()){for(0==$("#"+this.svgObject.id+"_CrosshairGroup").length?(u={id:n.svgObject.id+"_CrosshairGroup",visibility:"visible"},dt?(u.position="absolute",n.svgRenderer.drawCrosshairLine(u,"#chartContainer_"+this._id)):(n.gTrackball=n.svgRenderer.createGroup(u),n.svgRenderer.append(n.gTrackball,n.svgObject))):n.model.trackerElement&&($.finish?$(n.model.trackerElement).finish():$(n.model.trackerElement).stop(!0,!0),n.model.trackerElement=null),this.model.enableCanvasRendering||($("[class*=HighlightStyle]").attr("class",""),$("[class*=HighlightLegendStyle]").attr("class",""),$("[class*=HighlightLegendPathStyle]").attr("class",""),$("[class*=HighlightPathStyle]").attr("class",""),$("[class*=Highlightseries]").attr("class",""),$("[id*="+this._id+"_Highlight_]").remove()),$("#secondCanvas").remove(),$("#"+this._id).find('[id*="_gTooltip_"]').remove(),$("#"+Mt).children().remove(),$(document).find('[id*="TrackGroupToolTipTemplate"]').remove(),$(document).find('[id*="TrackToolTipTemplate"]').remove(),dt&&$("#"+this._id).find('[id*="canvas_trackSymbol"]').css("visibility","hidden"),_=pe.length,w=0;w<W.length&&W[w].segment;w++)pe=pe.concat(W[w].segment);for(de=pe.length,Q=0;Q<de;Q++)if("visible"==pe[Q].visibility&&pe[Q].enableTrackTooltip&&(fe=Q,xe=[],O=oe?n.mousemoveY+pe[Q].xAxis.plotOffset>pe[Q].xAxis.y&&n.mousemoveY<pe[Q].xAxis.y+pe[Q].xAxis.height+pe[Q].xAxis.plotOffset:n.mousemoveX+pe[Q].xAxis.plotOffset>pe[Q].xAxis.x&&n.mousemoveX<pe[Q].xAxis.x+pe[Q].xAxis.width+pe[Q].xAxis.plotOffset,dt&&(this.canvasX=pe[Q].xAxis.x),B=n.getClosestPointX(xe,pe[Q],n.mousemoveX,n.mousemoveY),Z=pe[Q].xAxis.visibleRange,""!=B.point&&(s="boxandwhisker"==pe[Q].type.toLowerCase()?B.point[0].boxPlotLocation[0].YValues:B.point[0].YValues[0],""!=B.point&&(s>=pe[Q].yAxis.visibleRange.min||"grouping"==wt)&&B.point[0].xValue>=Z.min&&B.point[0].xValue<=Z.max&&O)))for(h=0;h<B.point.length;h++)B.point[h].visible&&(pe[Q].isIndicator||Ke++);for(Q=0;Q<de;Q++){if(fe=Q,v=[],"visible"==(ee=pe[Q]).visibility.toLowerCase()&&ee.enableTrackTooltip)if(xe=[],O=oe?n.mousemoveY+pe[Q].xAxis.plotOffset>ee.xAxis.y&&n.mousemoveY<ee.xAxis.y+ee.xAxis.height+pe[Q].xAxis.plotOffset:n.mousemoveX+pe[Q].xAxis.plotOffset>ee.xAxis.x&&n.mousemoveX<ee.xAxis.x+ee.xAxis.width+pe[Q].xAxis.plotOffset,dt&&(this.canvasX=ee.xAxis.x),B=n.getClosestPointX(xe,ee,n.mousemoveX,n.mousemoveY),Z=ee.xAxis.visibleRange,""!=B.point){if(((s="boxandwhisker"==pe[Q].type.toLowerCase()?B.point[0].boxPlotValues.midvalue:B.point[0].YValues[0])>=pe[Q].yAxis.visibleRange.min||"grouping"==wt)&&B.point[0].xValue>=Z.min&&B.point[0].xValue<=Z.max)if(O)for(se=B.point.length,h=0;h<se;h++)if(B.point[h].visible){if(!ee.isIndicator){if("boxandwhisker"==ee.type)for(Pt++,t={xValue:B.point[h].xValue,YValues:B.point[h].boxPlotLocation[0].YValues},(ne=ej.EjSvgRender.utils._getPoint(t,ee)).YValues=t.YValues,v.push(ne),o=0;o<B.point[h].boxPlotLocation.length;o++)1==B.point[h].boxPlotLocation[o].outlier&&v.push({X:B.point[h].boxPlotLocation[o].X,Y:B.point[h].boxPlotLocation[o].Y,YValues:B.point[h].boxPlotLocation[o].YValues,outlier:B.point[h].boxPlotLocation[o].outlier});else ne=ej.EjSvgRender.utils._getPoint(B.point[h],ee);if(this.model.financial=1==_&&1==se&&ee._hiloTypes||!1,oe)if(re=this.model.financial?"M "+ee.yAxis.x+" "+(ne.Y+ee.xAxis.y)+" L "+((ne.X<ne.low?ne.X:ne.low)+ee.yAxis.x)+" "+(ne.Y+ee.xAxis.y)+" M "+(ee.yAxis.x+(ne.X>ne.low?ne.X:ne.low))+" "+(ne.Y+ee.xAxis.y)+" L "+(ee.yAxis.x+ee.yAxis.width)+" "+(ne.Y+ee.xAxis.y):"M "+ee.yAxis.x+" "+(ne.Y+ee.xAxis.y)+" L "+(ee.yAxis.x+ee.yAxis.width)+" "+(ne.Y+ee.xAxis.y),"boxandwhisker"==ee.type)for(V=0;V<v.length;V++)He.push({X:v[V].X,Y:v[V].Y,YValues:v[V].YValues,outlier:v[V].outlier});else He.push({X:B.point[h].location.X+ee.yAxis.x,Y:B.point[h].location.Y+ee.xAxis.y});else if(re=this.model.financial?"M "+(ne.X+ee.xAxis.x)+" "+n.model.m_AreaBounds.Y+" L "+(ne.X+ee.xAxis.x)+" "+((ne.Y<ne.low?ne.Y:ne.low)+ee.yAxis.y)+" M "+(ne.X+ee.xAxis.x)+" "+((ne.Y>ne.low?ne.Y:ne.low)+ee.yAxis.y)+" L "+(ne.X+ee.xAxis.x)+" "+(n.model.m_AreaBounds.Y+n.model.m_AreaBounds.Height):"M "+(ne.X+ee.xAxis.x)+" "+n.model.m_AreaBounds.Y+" L "+(ne.X+ee.xAxis.x)+" "+(n.model.m_AreaBounds.Y+n.model.m_AreaBounds.Height),"boxandwhisker"==ee.type)for(V=0;V<v.length;V++)He.push({X:v[V].X,Y:v[V].Y,YValues:v[V].YValues,outlier:v[V].outlier});else He.push({X:B.point[h].location.X+ee.xAxis.x,Y:B.point[h].location.Y+ee.yAxis.y});if(this.crosshairLinePath.push(ae={id:n.svgObject.id+"_Tracker",fill:"none","stroke-width":n.model.crosshair.line.width,"clip-path":"url(#"+n.svgObject.id+"_ChartAreaClipRect)",stroke:n.model.crosshair.line.color,d:re}),0==$("#"+n.svgObject.id+"_Tracker").length?(dt?(b=this.svgRenderer.createCrosshairCanvas()).ctx=b.getContext("2d"):(b=this.svgRenderer,g=n.gTrackball),n.svgRenderer.drawPath.call(b,ae,g),M=!0):(M=!0,ej.util.isNullOrUndefined(this._closest)?n.svgRenderer._setAttr($(n.svgObject).find("#"+n.svgObject.id+"_Tracker"),{d:re,visibility:"visible"}):this._beforeMin?this._closest>=B.point[h].xValue&&n.svgRenderer._setAttr($(n.svgObject).find("#"+n.svgObject.id+"_Tracker"),{d:re,visibility:"visible"}):this._afterMax&&this._closest<=B.point[h].xValue&&n.svgRenderer._setAttr($(n.svgObject).find("#"+n.svgObject.id+"_Tracker"),{d:re,visibility:"visible"}),$("#"+n.svgObject.id+"_Tracker").css({display:"block"}),dt&&((b=this.svgRenderer.createCrosshairCanvas()).ctx=b.getContext("2d"),n.svgRenderer.drawPath.call(b,ae,n.gTrackball)),$("#"+this._id).find('[id*="canvas_Tracker"]').css("visibility","visible")),Se=ej.EjSvgRender.utils._getTransform(ee.xAxis,ee.yAxis,oe),n.gTransToolEle=n.svgRenderer.createGroup({transform:"translate("+Se.x+","+Se.y+")",id:n.svgObject.id+"_TrackToolTip_"+fe}),Ce=this.model.prePoint,ej.util.isNullOrUndefined(Ce)||Ce.pointIndex[0]!=B.index[0]||!$("#"+n.svgObject.id+"_trackSymbol_"+fe+"_"+B.index)){if(ej.util.isNullOrUndefined(Pe)&&(n.gTransToolEle&&n.gTrackerEle&&($(this.svgObject).find('[id*="_TrackSymbol_"],[id*="_TrackToolTip"]').attr("visibility","hidden"),$("#"+this._id).find('[id*="canvas_trackSymbol"]').css("visibility","hidden")),Pe=B),C=ee.type.toLowerCase(),T=0,(!ee._hiloTypes||C.indexOf("rangearea")>-1)&&("grouping"!=wt||"grouping"==wt&&C.indexOf("column")<0&&C.indexOf("bar")<0))if("boxandwhisker"==ee.type)for(D=0;D<v.length;D++)n.drawTrackerSymbol(ee,fe,B.index[h],!0,v[D],null,T),T++;else n.drawTrackerSymbol(ee,fe,B.index[h],!0,ne);if(ee.trackerRemoved=!0,n.model.crosshair.trackballTooltipSettings.tooltipTemplate)"grouping"===wt?(B=n.getClosestPointX(xe,ee,n.mousemoveX,n.mousemoveY),he=this.getSeriesColor(B.point[h],fe,ee),le.push({seriesColor:he}),se=B.point.length,(Tt=this.getTooltipFormat(B.point[h],ee,fe,B.index[h],mt)).text="&nbsp"+Tt.text+"&nbsp",Ct.push({text:Tt.text,seriesIndex:fe,pointIndex:B.index[h]}),ue.push({point:B.point[h]}),H.push({series:ee}),(ee._hiloTypes&&"rangearea"!=C||C.indexOf("column")>-1||C.indexOf("bar")>-1)&&this.highlightStart(r,{region:{Region:{PointIndex:B.index[h]},SeriesIndex:fe}},this._id+"_svg_SeriesGroup_"+fe,this._id+"_svg_Series"+fe+"_Point"+B.index[h],!0),Ke===Ct.length&&(Fe=document.getElementById(this.svgRenderer.svgObj.id).getClientRects()[0],n.displayGroupingTemplate(void 0,void 0,ne,ue,H,fe,B.index[h],Fe,le))):(Fe=document.getElementById(this.svgRenderer.svgObj.id).getClientRects()[0],n.displayTemplateTooltip(void 0,void 0,ne,B.point[h],ee,fe,B.index[h],Fe));else if(je=He.length-1,jt=v.length,"grouping"==wt){var kt,Tt,Zt,he=this.getSeriesColor(B.point[h],fe,ee),mt=ee.tooltip.format,pt=[];if("boxandwhisker"==ee.type)for(V=0;V<jt;V++)Zt=this.getTooltipFormat(B.point[h],ee,fe,B.index[h],mt,v[V]),pt.push(Zt),Tt=null;else Tt=this.getTooltipFormat(B.point[h],ee,fe,B.index[h],mt);if(L=ee.tooltip.font&&ee.tooltip.font.color?ee.tooltip.font.color:he,I=ee.tooltip.font?$.extend(!1,ee.font,{},ee.tooltip.font):ee.font,"object"==typeof L&&(L=he[1].color),"boxandwhisker"==ee.type)for(R=0;R<pt.length;R++)Ct.push({text:pt[R].text,seriesIndex:fe,pointIndex:B.index[h]});else Tt.text="&nbsp"+Tt.text+"&nbsp",Ct.push({text:Tt.text,seriesIndex:fe,pointIndex:B.index[h]});if((ee._hiloTypes&&"rangearea"!=C||C.indexOf("column")>-1||C.indexOf("bar")>-1)&&this.highlightStart(r,{region:{Region:{PointIndex:B.index[h]},SeriesIndex:fe}},this._id+"_svg_SeriesGroup_"+fe,this._id+"_svg_Series"+fe+"_Point"+B.index[h],!0),"boxandwhisker"==ee.type)for(R=0;R<pt.length;R++)Dt.push(n._id+"_grouping_text_"+fe+"_"+B.index[h]+R);else Dt.push(n._id+"_grouping_text_"+fe+"_"+B.index[h]);if(kt={color:L,"font-size":I.size,"font-family":I.fontFamily,"font-style":I.fontStyle,"font-weight":I.fontWeight},"boxandwhisker"==ee.type)for(R=0;R<pt.length;R++)yt.push(kt);else yt.push(kt);(Pt==Ke&&"boxandwhisker"==ee.type||Ke==Ct.length&&"boxandwhisker"!=ee.type)&&n.displayTooltip(!0,{point:B.point[h],series:ee,textCollection:Ct,textOptionsCollection:yt,groupingTextId:Dt})}else{var At,ke=this.getTooltipFormat(B.point[h],ee,fe,Q,ee.tooltip.format,Q),Et=ee.tooltip,I=Et.font?$.extend(!1,ee.font,{},Et.font):ee.font,Ne=ej.EjSvgRender.utils._measureText(ke.text,null,I),vi=(tt=tt>(ht=oe?Ne.height:Ne.width)?tt:ht,Math.ceil(ke.text.toString().split("<br/>").length/2));if(this.model.tooltipPadding=Number(I.size.toString().replace(/px/i,""))/3,At=this.model.tooltipPadding+2*ee.tooltip.border.width,oe)Be.push({Start:He[je].X-At-Ne.width/2,End:He[je].X+At+Ne.width/2}),Ye.push({Point:He[je],ClosestPoint:B.point[h],Series:ee,ClosestPointIndex:B.index[h],Tgap:0,StEnd:Be[je],TextArea:Ne,ReqInvertAxis:oe});else if("boxandwhisker"==ee.type)for(V=0;V<jt;V++)Be.push({Start:v[V].Y-At*vi-Ne.height/2,End:v[V].Y+At*vi+Ne.height/2}),Ye.push({Point:v[V],ClosestPoint:B.point[h],Series:ee,ClosestPointIndex:B.index[h],Tgap:0,StEnd:Be[V],TextArea:Ne,ReqInvertAxis:oe});else Be.push({Start:He[je].Y-At*vi-Ne.height/2,End:He[je].Y+At*vi+Ne.height/2}),Ye.push({Point:He[je],ClosestPoint:B.point[h],Series:ee,ClosestPointIndex:B.index[h],Tgap:0,StEnd:Be[je],TextArea:Ne,ReqInvertAxis:oe});if("boxandwhisker"==ee.type&&Pt==Ke)for(tt+=2*At,Ye=Ye.sort(oe?function(Lt,ot){return Lt.Point.X-ot.Point.X}:function(Lt,ot){return Lt.Point.Y-ot.Point.Y}),this.SmartTooltipPosition(Ye),F=Ye.length,n.displayTooltip(!1,Ye,tt),Q=0;Q<F;Q++)fe=$.inArray(Ye[Q].Series,this.model._visibleSeries),Ye[Q].Series._hiloTypes&&this.highlightStart(r,{region:{Region:{PointIndex:Ye[Q].ClosestPointIndex},SeriesIndex:fe}},this._id+"_svg_SeriesGroup_"+fe,this._id+"_svg_Series"+fe+"_Point"+Ye[Q].ClosestPointIndex,!0);else if(Ye.length==Ke&&"boxandwhisker"!=ee.type)for(tt+=2*At,Ye=Ye.sort(oe?function(Lt,ot){return Lt.Point.X-ot.Point.X}:function(Lt,ot){return Lt.Point.Y-ot.Point.Y}),this.SmartTooltipPosition(Ye),F=Ye.length,n.displayTooltip(!1,Ye,tt),Q=0;Q<F;Q++)fe=$.inArray(Ye[Q].Series,this.model._visibleSeries),Ye[Q].Series._hiloTypes&&this.highlightStart(r,{region:{Region:{PointIndex:Ye[Q].ClosestPointIndex},SeriesIndex:fe}},this._id+"_svg_SeriesGroup_"+fe,this._id+"_svg_Series"+fe+"_Point"+Ye[Q].ClosestPointIndex,!0)}}else $e=$(this.svgObject).find('[id*="_TrackSymbol_"],[id*="_TrackToolTip"]'),this.svgRenderer._setAttr($($e),{visibility:"visible"}),$("#"+this._id).find('[id*="canvas_trackSymbol"]').css("visibility","visible"),$e=$(this.svgObject).find('[id*="_TrackToolTip"]').children(),this.svgRenderer._setAttr($($e),{visibility:"visible"}),$e=$(this.svgObject).find('[id*="_trackSymbol_"]'),this.svgRenderer._setAttr($($e),{visibility:"visible"}),$(n.svgObject).find('[id*="_TrackAxisToolTip"]').attr("visibility","visible"),null!=this.model.crosshair.trackballTooltipSettings.tooltipTemplate&&("grouping"===wt?($e=$(document).find('[id*="TrackGroupToolTipTemplate"]'),this.svgRenderer._setAttr($($e),{visibility:"visible"})):($e=$(document).find('[id*="_TrackToolTipTemplate_"]'),this.svgRenderer._setAttr($($e),{visibility:"visible"})))}}else $("#"+this.svgObject.id+"_TrackSymbol_"+fe).remove();else this._removeTrackBall()}else M||$(n.svgObject).find('[id*="_Tracker"]').remove(),$("#"+n.svgObject.id+"_TrackSymbol_"+Q),z=this.svgObject.id+"_TrackSymbol_"+fe,$("#"+this._id).find("[id*="+z+"]").remove(),$("#"+n._id).find("[id*=_canvas_trackSymbol_"+Q+"]").css("visibility","hidden"),this.model.enableCanvasRendering||($("[class*=HighlightStyle]").attr("class",""),$("[class*=HighlightLegendStyle]").attr("class",""),$("[class*=HighlightLegendPathStyle]").attr("class",""),$("[class*=HighlightPathStyle]").attr("class",""),$("[class*=Highlightseries]").attr("class",""),$("[id*="+this._id+"_Highlight_]").remove());ee.trackerRemoved=!1}if(null!=this.model.closestPoint&&(this.model.prePoint={point:B.point,pointIndex:B.index,series:ee,seriesIndex:fe}),0==$("#"+this.svgObject.id+"_TrackAxisToolTip").length&&this.model.crosshairLabelVisibility?(n.gTrackAxisEle=n.svgRenderer.createGroup({id:n.svgObject.id+"_TrackAxisToolTip",visibility:"visible"}),n.svgRenderer.append(n.gTrackAxisEle,n.gTrackball)):$("#"+this.svgObject.id+"_TrackAxisToolTip").css("display","block"),ne&&(U=B.point[0],dt?$(n.svgObject.parentElement).find('[id*="AxisToolTipRect"]').css({visibility:"hidden",display:"none"}):$(n.svgObject).find('[id*="_TrackAxisToolTip"]').attr("visibility","visible").children().attr({display:"none"}),$.each(n.model._axes,function(Ai,lt){var Lt,ls=lt.x,Yi=lt._opposed;if(oe){if("vertical"==lt.orientation.toLowerCase()&&lt.crosshairLabel.visible&&n.mousemoveY<=lt.y+lt.height&&lt.y<=n.mousemoveY){var wi=lt._valueType.toLowerCase(),Xi=U.xValue;"logarithmic"==wi&&(Xi=Math.pow(lt.logBase,Xi).toFixed(2).replace(new RegExp("\\.0{2}"),"")),"datetime"==wi&&(Xi=ej.format(new Date(Math.floor(Xi)),ej.util.isNullOrUndefined(lt.labelFormat)?ej.EjSvgRender.utils._dateTimeLabelFormat(lt._intervalType,lt):lt.labelFormat,bt)),"category"==wi&&(Xi=ej.EjSvgRender.utils._getLabelContent(Xi,lt,bt)),n.displayAxisTooltip({X:lt.x,Y:ne.Y+lt.y},Xi,lt,Ai,c)}}else"horizontal"==lt.orientation.toLowerCase()&&lt.crosshairLabel.visible&&ne.X+ls<=lt.x+lt.width&&lt.x<=He[He.length-1].X&&(wi=lt._valueType.toLowerCase(),Lt=(ne.X/lt.width*lt.visibleRange.delta+lt.visibleRange.min).toFixed(2).replace(new RegExp("\\.0{2}"),""),"logarithmic"==wi&&(Lt=Math.pow(lt.logBase,Lt)),"datetime"==wi&&(Lt=ej.format(new Date(Math.floor(Lt)),ej.util.isNullOrUndefined(lt.labelFormat)?ej.EjSvgRender.utils._dateTimeLabelFormat(lt._intervalType,lt):lt.labelFormat,bt)),("category"==wi||"datetimecategory"==wi)&&("object"!=typeof U.x&&(Lt=U.xValue),Lt=(Lt="category"!=wi&&ej.util.isNullOrUndefined(lt.labelFormat)?ej.format(new Date(lt.labels[Math.floor(Lt)]),ej.EjSvgRender.utils._dateTimeLabelFormat(lt.intervalType,lt),bt):ej.EjSvgRender.utils._getLabelContent(Math.floor(Lt),lt,bt))||"undefined"),n.displayAxisTooltip({X:He[He.length-1].X,Y:Yi?lt.y+lt.height-lt.majorTickLines.size:lt.y+lt.height+lt.majorTickLines.size+10},Lt,lt,Ai,c,!0))})),"grouping"!==wt&&n.model.crosshair.trackballTooltipSettings.tooltipTemplate)for(J=$(document).find('[id*="_TrackToolTipTemplate_"]'),Q=0;Q<J.length;Q++)$(J[Q]).appendTo(this.templateContainer),$(this.templateContainer).appendTo(this.chartContainer)}},chartCrossHair:function(n,c){var w,v,a,s,h,t,o,r=ej.util.isNullOrUndefined(this.model.primaryYAxis.roundingPlaces)?2:this.model.primaryYAxis.roundingPlaces,u=n.model.enableCanvasRendering,_=this.model.locale;if(!this.model.enable3D&&this.model.crosshair.visible&&"crosshair"==this.model.crosshair.type.toLowerCase()){for(0==$("#"+this.svgObject.id+"_CrosshairGroup").length?(w={id:this.svgObject.id+"_CrosshairGroup",visibility:"visible"},u?(w.position="absolute",n.svgRenderer.drawCrosshairLine(w,"#chartContainer_"+this._id)):(this.gCrosshair=this.svgRenderer.createGroup(w),this.svgRenderer.append(this.gCrosshair,this.svgObject))):$("#"+this.svgObject.id+"_CrosshairGroup").css("display","block"),n.model.trackerElement&&($.finish?$(this.model.trackerElement).finish():$(this.model.trackerElement).stop(!0,!0),this.model.trackerElement=null),t=0;t<this.model._axes.length;t++)"vertical"==(o=this.model._axes[t]).orientation.toLowerCase()?c.y>=o.y&&c.y<=o.y+o.height&&(o.x<c.x?v=Math.min(v||o.x,o.x):a=Math.max(a||o.x,o.x)):c.x>=o.x&&c.x<=o.x+o.width&&(o.y<c.y?s=Math.min(s||o.y,o.y):h=Math.max(h||o.y,o.y));var R,V,p=v||this.model.m_AreaBounds.X,g=a?a-p:this.model.m_AreaBounds.X+this.model.m_AreaBounds.Width-p,b=s||this.model.m_AreaBounds.Y,C=h?h-b:this.model.m_AreaBounds.Y+this.model.m_AreaBounds.Height-b,T="M "+this.mousemoveX+" "+b+" L "+this.mousemoveX+" "+(b+C),D="M "+p+" "+this.mousemoveY+" L "+(p+g)+" "+this.mousemoveY,L=$("#"+this._id).offset(),I=n.svgObject,F={left:I.offsetLeft>L.left?I.offsetLeft:L.left,top:I.offsetTop>L.top?I.offsetTop:L.top};0==$("#"+n.svgObject.id+"_CrosshairVertical").length?(R={id:n.svgObject.id+"_CrosshairVertical",fill:"none","stroke-width":n.model.crosshair.line.width,stroke:n.model.crosshair.line.color,"clip-path":"url(#"+this.svgObject.id+"_ChartAreaClipRect)",d:T},u?(R.width=0,R.height=C,R.top=b,R.left=p,R.position="absolute",R.style="solid",R.opacity=.5,n.svgRenderer.drawCrosshairLine(R,"#"+this.svgObject.id+"_CrosshairGroup")):n.svgRenderer.drawPath(R,n.gCrosshair)):(n.svgRenderer._setAttr($(n.svgObject).find("#"+n.svgObject.id+"_CrosshairVertical"),{d:T}),u&&($("#secondCanvas").remove(),$("#"+n.svgObject.id+"_CrosshairVertical").css("left",this.mousemoveX).css({top:b,height:C,display:"block"})),$("#"+n.svgObject.id+"_CrosshairVertical").attr("visibility","visible").css("display","block")),0==$("#"+n.svgObject.id+"_CrosshairHorizontal").length?(V={id:n.svgObject.id+"_CrosshairHorizontal",fill:"none","stroke-width":n.model.crosshair.line.width,stroke:n.model.crosshair.line.color,"clip-path":"url(#"+this.svgObject.id+"_ChartAreaClipRect)",d:D},u?(V.top=b+F.top,V.left=p+F.left,V.width=g,V.height=0,V.position="absolute",V.style="solid",V.opacity=.5,n.svgRenderer.drawCrosshairLine(V,"#"+this.svgObject.id+"_CrosshairGroup")):n.svgRenderer.drawPath(V,n.gCrosshair)):(n.svgRenderer._setAttr($(n.svgObject).find("#"+n.svgObject.id+"_CrosshairHorizontal"),{d:D}),$("#"+n.svgObject.id+"_CrosshairHorizontal").attr("visibility","visible").css("display","block"),u&&$("#"+n.svgObject.id+"_CrosshairHorizontal").css("top",this.mousemoveY).css({left:p,width:g,display:"block"})),0==$("#"+n.svgObject.id+"_AxisCrossToolTip").length?(n.gTrackAxisEle=n.svgRenderer.createGroup({id:n.svgObject.id+"_AxisCrossToolTip",visibility:"visible"}),n.svgRenderer.append(n.gTrackAxisEle,n.gCrosshair)):(this.svgRenderer._setAttr($(n.gTrackAxisEle),{visibility:"visible"}),$(n.gTrackAxisEle).css("display","block")),$.each(n.model._axes,function(A,z){var U,J,oe,N=z._valueType.toLowerCase();"horizontal"==z.orientation.toLowerCase()&&z.crosshairLabel.visible?n.mousemoveX<=z.x+z.width&&z.x<=n.mousemoveX?(U="category"==z._valueType&&"betweenticks"==z.labelPlacement.toLowerCase()?.5:0,J=(Math.abs(n.mousemoveX-(z.isInversed?z.x+z.width:z.x))/z.width*z.visibleRange.delta+z.visibleRange.min+U).toFixed(2).replace(new RegExp("\\.0{2}"),""),"logarithmic"==N&&(J=Math.pow(z.logBase,J).toFixed(2).replace(new RegExp("\\.0{2}"),"")),"datetime"==N&&(J=ej.format(new Date(Math.floor(J)),ej.util.isNullOrUndefined(z.labelFormat)?ej.EjSvgRender.utils._dateTimeLabelFormat(z._intervalType,z):z.labelFormat,_)),("category"==N||"datetimecategory"==N)&&("category"!=N&&ej.util.isNullOrUndefined(z.labelFormat)?(J=J<0?0:J,J=ej.format(new Date(z.labels[Math.floor(J)]),ej.EjSvgRender.utils._dateTimeLabelFormat(z.intervalType,z),_)):J=ej.EjSvgRender.utils._getLabelContent(J,z,_)),n.displayAxisTooltip({X:n.mousemoveX,Y:z.y},J,z,A,c),$("#"+n.svgObject.id+"_AxisToolTipText_"+A).show(),$("#"+n.svgObject.id+"_AxisToolTipRect_"+A).show()):($("#"+n.svgObject.id+"_AxisToolTipText_"+A).hide(),$("#"+n.svgObject.id+"_AxisToolTipRect_"+A).hide()):"vertical"==z.orientation.toLowerCase()&&z.crosshairLabel.visible&&(n.mousemoveY<=z.y+z.height&&z.y<=n.mousemoveY?(oe=(Math.abs(1-Math.abs(n.mousemoveY-(z.isInversed?z.y+z.height:z.y))/z.width/z.height)*z.visibleRange.delta+z.visibleRange.min).toFixed(r).replace(new RegExp("\\.0{"+r+"}"),""),"logarithmic"==N&&(oe=Math.pow(z.logBase,oe).toFixed(2).replace(new RegExp("\\.0{2}"),"")),"datetime"==N&&(oe=ej.format(new Date(Math.floor(oe)),ej.util.isNullOrUndefined(z.labelFormat)?ej.EjSvgRender.utils._dateTimeLabelFormat(z._intervalType,z):z.labelFormat,_)),("category"==N||"datetimecategory"==N)&&(oe="category"==N||ej.util.isNullOrUndefined(z.labelFormat)?ej.EjSvgRender.utils._getLabelContent(oe,z,_):ej.format(new Date(z.labels[Math.floor(oe)]),ej.EjSvgRender.utils._dateTimeLabelFormat(z.intervalType,z),_)),n.displayAxisTooltip({X:z.x,Y:n.mousemoveY},oe,z,A,c),$("#"+n.svgObject.id+"_AxisToolTipText_"+A).show(),$("#"+n.svgObject.id+"_AxisToolTipRect_"+A).show()):($("#"+n.svgObject.id+"_AxisToolTipText_"+A).hide(),$("#"+n.svgObject.id+"_AxisToolTipRect_"+A).hide()))})}},chartTouchMove:function(n){this.cancelEvent(n),this.chartInteractiveBehavior(n=n.originalEvent.touches[0])},isZoomButtonHovered:function(n){if(null!=n.parentNode){var c=n.parentNode.id,r=n.id;if(-1==r.indexOf("_ZoomInBtn ")&&-1==r.indexOf("ZoomOutBtn")&&-1==r.indexOf("_ZoomBtn")&&-1==r.indexOf("_ResetZoom")&&-1==r.indexOf("_PanBtn")&&c&&-1==c.indexOf("_ZoomInBtn")&&-1==c.indexOf("_ZoomOutBtn")&&-1==c.indexOf("_ZoomBtn")&&-1==c.indexOf("_ResetZoom")&&-1==c.indexOf("_PanBtn"))return!1}return!0},showTooltipOnDrag:function(n){$("#"+n.svgObject.id).find("#"+n.svgObject.id+"_TrackToolTip").attr("visibility","visible"),$("#"+n.svgObject.id+"_TrackToolTip").show(),$(".tooltipDiv").css("display","block")},getScaleValues:function(n){var c=document.getElementById(n.element[0].id),r=1,u=1,_=c.offsetWidth,w=c.offsetHeight;return _>0&&(r=c.getBoundingClientRect().width/_,u=c.getBoundingClientRect().height/w),{x:r,y:u}},chartInteractiveBehavior:function(n){var r,u,_,w,v,a,s,h,t,c=this.calMousePosition(n);this.mousemoveX=c.X,this.mousemoveY=c.Y,r=this.getScaleValues(this),this.mousemoveX=this.mousemoveX/r.x,this.mousemoveY=this.mousemoveY/r.y,u="#"+this.svgObject.id,this.mouseWheelCoords&&(_=Math.abs(this.mouseWheelCoords.x-n.pageX),w=Math.abs(this.mouseWheelCoords.y-n.pageY),(_>0||w>0)&&!this.panning?this.enableTrackBall():this.disableTrackBall()),s=n.target.id,"cartesianaxes"==(v=this).model.AreaType&&this.mousemoveX>=this.model.m_AreaBounds.X&&this.mousemoveX<this.model.m_AreaBounds.X+this.model.m_AreaBounds.Width&&this.mousemoveY<this.model.m_AreaBounds.Y+this.model.m_AreaBounds.Height&&this.mousemoveY>=this.model.m_AreaBounds.Y&&this.model.initSeriesRender?(a={x:v.mousemoveX,y:v.mousemoveY},null==(s=v.svgRenderer._getAttrVal($(n.target).parent(),"id"))||s!=v.svgRenderer._getAttrVal($(this.svgObject).find(u+"_ZoomBtn"),"id")&&s!=v.svgRenderer._getAttrVal($(this.svgObject).find(u+"_ResetZoom"),"id")&&s!=v.svgRenderer._getAttrVal($(this.svgObject).find(u+"_PanBtn"),"id")?this.enableTrackBall():this.disableTrackBall(),this.model.crosshair.visible||this.isZoomButtonHovered(n.target)?this.dragPoint?this.showTooltipOnDrag(v,n):this.closestXyPoint||($("#"+v.svgObject.id).find("#"+v.svgObject.id+"_TrackToolTip").attr("visibility","hidden"),$("#"+v.svgObject.id+"_TrackToolTip").hide(),$(".tooltipDiv"+this._id).css("display","none")):this.tooltip(v,n),this.model.enable3D||(this.chartTrackball(v,a,n),this.chartCrossHair(v,a))):("none"!=v.model.AreaType&&"polaraxes"!=v.model.AreaType||this.isZoomButtonHovered(n.target)?this.dragPoint?this.showTooltipOnDrag(v,n):this.closestXyPoint||($("#"+v.svgObject.id).find("#"+v.svgObject.id+"_TrackToolTip").attr("visibility","hidden"),$("#"+v.svgObject.id+"_TrackToolTip").hide(),$(".tooltipDiv"+this._id).css("display","none"),this._removeTrackBall(),this._removeHighlight()):this.tooltip(v,n),(h=this.model.prevPoint)&&h.point&&(this.model.enableCanvasRendering?$("#canvas_trackSymbol").remove():(t="boxandwhisker"==h.series.type?h.outlierPosition:ej.EjSvgRender.utils._getPoint(h.point,h.series),v.drawTrackerSymbol(h.series,h.seriesIndex,h.pointIndex,null,t)),this.model.prevPoint=null))},highlightSvg:function(n,c,r,u,_,w,v){var s,h;null!=c&&(s=c.substr((this.svgObject.id+"_SeriesGroup_").length),c.indexOf(this.svgObject.id+"_symbolGroup_")>=0&&(s=c.substr((this.svgObject.id+"_symbolGroup_").length))),h=this.model.series[s=null!=_?_.region.SeriesIndex:s],r&&h&&(h.highlightSettings.enable||v)&&this.highlight(n,u,h,null,_,c,w,v)},highlightCanvas:function(n,c,r){for(var _,w,v,a,s,h=0;h<this.model._visibleSeries.length;h++)if(w=(_=this.model._visibleSeries[h]).type.toLowerCase(),"cartesianaxes"==this.model.AreaType&&"visible"==_.visibility.toLowerCase()&&"scatter"!==w&&"bubble"!==w&&"column"!==w&&-1==w.indexOf("bar")&&"stackingcolumn"!==w&&"stackingcolumn100"!==w&&!_._hiloTypes){var t=this.calMousePosition(c);this.mousemoveX=t.X,this.mousemoveY=t.Y,v=this.getClosesPointXY([],[],_,this.mousemoveX,this.mousemoveY,c),ej.util.isNullOrUndefined(v.point)||((a=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data={location:{x:this.mousemoveX,y:this.mousemoveY},region:{SeriesIndex:h,Region:{PointIndex:v.index}}})}(r=a?a.data:r)&&this.model.series[r.region.SeriesIndex].highlightSettings.enable&&((s=$.extend({},this.model.series[r.region.SeriesIndex])).pointIndex=r.region.Region.PointIndex,s.seriesIndex=r.region.SeriesIndex,s.data=r,0==$("#"+this._id+"_Selection_series"+s.seriesIndex+"_canvas").length&&($("[id*="+this._id+"_Highlight_]").remove(),this.findCanvasSelection(s.seriesIndex,s.pointIndex,s.selectionSettings.mode.toLowerCase())||this.canvasHighlight(this,c,s)))},resizeCursor:function(n,c,r,u,_,w,v){var a=this.selectedRectIndex;c<=u||r<=_||c>=w+u||r>=v+_?($("#"+n+"_resize_rightRect"+a).css({cursor:"default"}),$("#"+n+"_resize_leftRect"+a).css({cursor:"default"}),$("#"+n+"_resize_bottomRect"+a).css({cursor:"default"}),$("#"+n+"_resize_topRect"+a).css({cursor:"default"}),$("#"+n+"_resize_bottomRightCornerCircle"+a).css({cursor:"default"})):(c>=u||r>=_||c<=w+u||r<=v+_)&&($("#"+n+"_resize_rightRect"+a).css({cursor:"e-resize"}),$("#"+n+"_resize_leftRect"+a).css({cursor:"w-resize"}),$("#"+n+"_resize_bottomRect"+a).css({cursor:"s-resize"}),$("#"+n+"_resize_topRect"+a).css({cursor:"n-resize"}),$("#"+n+"_resize_bottomRightCornerCircle"+a).css({cursor:"se-resize"}))},multiSelectMouseMove:function(evt){var q,rectOptions,translate;if(this._isMultiSelect&&"range"==this.multiSelectMode&&!this.dragPoint){var mouseMoveCords=this.calMousePosition(evt),mouseMoveX=mouseMoveCords.X,mouseMoveY=mouseMoveCords.Y,gripMouseMoveX,gripMouseMoveY,translate,selectionSettingsType=this.multiSelectType,width,height,x,y,rectX,rectY,rectWidth,rectHeight,id,x1,x2,y1,y2,xPlotOffset,yPlotOffset,modifiedX,modifiedY,mouseDownX=this.mouseDownX,mouseDownY=this.mouseDownY,selectedRectIndex=this.selectedRectIndex,containerSvg=this.svgObject.id,chartArea="#"+containerSvg+"_ChartArea",chartAreaX=parseInt($(chartArea).attr("x")),chartAreaY=parseInt($(chartArea).attr("y")),chartAreaWidth=parseInt($(chartArea).attr("width")),chartAreaHeight=parseInt($(chartArea).attr("height")),multiSelectMouseDownId=this.multiSelectMouseDownId,selctRectId="#"+containerSvg+"_selectRect",multiAxis=this.multiAxis;for(q=0;q<multiAxis.length;q++)"horizontal"==multiAxis[q].orientation.toLowerCase()?(x1=multiAxis[q].Location.X1,x2=multiAxis[q].Location.X2,xPlotOffset=multiAxis[q].plotOffset):(y1=multiAxis[q].Location.Y1,y2=multiAxis[q].Location.Y2,yPlotOffset=multiAxis[q].plotOffset);if(this.drag&&!this.resize&&!this.rectPan&&!this.removeRect){var currentX=mouseMoveX,currentY=mouseMoveY,areaBounds=this.model.m_AreaBounds;switch(this.multiSelectDraw=!0,mouseMoveX<areaBounds.X?currentX=areaBounds.X:mouseMoveX>areaBounds.X+areaBounds.Width&&(currentX=areaBounds.X+areaBounds.Width),currentY=mouseMoveY<areaBounds.Y?areaBounds.Y:mouseMoveY>areaBounds.Y+areaBounds.Height?areaBounds.Y+areaBounds.Height:mouseMoveY,selectionSettingsType){case"x":width=Math.abs(currentX-mouseDownX),height=y1-y2+yPlotOffset+yPlotOffset,x=currentX>mouseDownX?mouseDownX:currentX,y=y2-yPlotOffset;break;case"y":width=x2-x1+xPlotOffset+xPlotOffset,height=Math.abs(currentY-mouseDownY),x=x1-xPlotOffset,y=currentY>mouseDownY?mouseDownY:currentY;break;case"xy":width=Math.abs(currentX-mouseDownX),height=Math.abs(currentY-mouseDownY),x=currentX>mouseDownX?mouseDownX:currentX,y=currentY>mouseDownY?mouseDownY:currentY}width>0&&height>0&&(rectOptions={id:this.svgObject.id+"_selectRect"+this.selectedRectIndex,x,y,width,height,fill:"rgba(41,136,214,0.2)","stroke-width":2,stroke:"rgba(41,136,214,0.5)",cursor:"pointer","clip-path":"url(#"+this.svgObject.id+"_ChartAreaClipRect)"},x>=x1+xPlotOffset&&mouseMoveX<=x2-xPlotOffset&&mouseMoveY<=y1+yPlotOffset&&y>=y2-yPlotOffset&&this.svgRenderer.drawRect(rectOptions,this.gEle),null!=this.gEle&&($(this.gEle).appendTo(this.parentgEle),0==this.selectedRectIndex&&(this.model.gCurrentEle=this.gEle),$(this.parentgEle).appendTo(this.svgObject)))}if(rectX=parseInt($(selctRectId+selectedRectIndex).attr("x")),rectY=parseInt($(selctRectId+selectedRectIndex).attr("y")),rectWidth=parseInt($(selctRectId+selectedRectIndex).attr("width")),rectHeight=parseInt($(selctRectId+selectedRectIndex).attr("height")),!this.drag&&(evt.target.id.indexOf("selectRect")>=0||evt.target.id.indexOf("resize")>=0)){evt.target.parentNode.id.indexOf("selectedRect")>=0&&(id=evt.target.parentNode.id.split("selectedRect")[1].match(/\d+/)[0],this.gripIndex=eval(id));var selectRectId="#"+containerSvg+"_selectRect",selectRectWidth=parseInt($(selectRectId+this.gripIndex).attr("width")),selectRectHeight=parseInt($(selectRectId+this.gripIndex).attr("height")),selectRectX=parseInt($(selectRectId+this.gripIndex).attr("x")),selectRectY=parseInt($(selectRectId+this.gripIndex).attr("y"));$("#"+containerSvg+"_gripCollection"+selectedRectIndex).css({visibility:"hidden"}),(selectRectX+selectRectWidth-16>=selectRectX||selectRectY+selectRectHeight-16>=selectRectY)&&$("#"+this.svgObject.id+"_gripCollection"+this.gripIndex).attr({transform:""}),(selectRectX+selectRectWidth-16<selectRectX||selectRectY+selectRectHeight-16<selectRectY)&&(translate="translate(15,15)",$("#"+this.svgObject.id+"_gripCollection"+this.gripIndex).attr({transform:translate})),this.oldId!=evt.target.id&&$("#"+containerSvg+"_gripCollection"+this.oldGripIndex).css({visibility:"hidden"}),$("#"+containerSvg+"_gripCollection"+this.gripIndex).css({visibility:"visible"}),this.oldId=evt.target.id,this.oldGripIndex=this.gripIndex}if(evt.target.id.indexOf("selectRect")<0&&evt.target.id.indexOf("resize")<0&&$("#"+containerSvg+"_gripCollection"+this.gripIndex).css({visibility:"hidden"}),this.resize){$("#"+containerSvg+"_closeTopRightCornerCircle"+selectedRectIndex).hide(),$("#"+containerSvg+"_closePath"+selectedRectIndex).hide(),$("#"+containerSvg+"_closePathOpposite"+selectedRectIndex).hide(),$("#"+containerSvg+"_gripCollection"+selectedRectIndex).css({visibility:"hidden"});var oldRectX=this.oldRectX[selectedRectIndex],oldRectY=this.oldRectY[selectedRectIndex],oldRectHeight=this.oldRectHeight[selectedRectIndex],oldRectWidth=this.oldRectWidth[selectedRectIndex],oldReBottomRectY=this.oldReBottomRectY[selectedRectIndex],oldReRightRectX=this.oldReRightRectX[selectedRectIndex];switch(selectionSettingsType){case"x":multiSelectMouseDownId==containerSvg+"_resize_rightRect"+selectedRectIndex?(rectWidth=mouseMoveX-oldRectX,$("#"+containerSvg+"_resize_rightRect"+selectedRectIndex).attr("x",mouseMoveX-5),mouseMoveX<oldRectX?(rectX=mouseMoveX,rectWidth=oldRectX-mouseMoveX):mouseMoveX>=oldRectX&&(rectX=oldRectX)):multiSelectMouseDownId==containerSvg+"_resize_leftRect"+selectedRectIndex&&(rectX=mouseMoveX,rectWidth=oldRectWidth+oldRectX-mouseMoveX,$("#"+containerSvg+"_resize_leftRect"+selectedRectIndex).attr("x",mouseMoveX-5),mouseMoveX>oldReRightRectX+5&&(rectX=oldReRightRectX+5,rectWidth=mouseMoveX-oldRectX-oldRectWidth)),this.resizeCursor(containerSvg,mouseMoveX,mouseMoveY,chartAreaX,chartAreaY,chartAreaWidth,chartAreaHeight);break;case"y":multiSelectMouseDownId==containerSvg+"_resize_topRect"+selectedRectIndex?(rectHeight=oldRectHeight+oldRectY-mouseMoveY,rectY=mouseMoveY,$("#"+containerSvg+"_resize_topRect"+selectedRectIndex).attr("y",mouseMoveY-5),mouseMoveY>oldReBottomRectY+5&&(rectY=oldReBottomRectY+5,rectHeight=mouseMoveY-oldRectY-oldRectHeight)):multiSelectMouseDownId==containerSvg+"_resize_bottomRect"+selectedRectIndex&&(rectHeight=mouseMoveY-oldRectY,$("#"+containerSvg+"_resize_bottomRect"+selectedRectIndex).attr("y",mouseMoveY-5),mouseMoveY<oldRectY?(rectY=mouseMoveY,rectHeight=oldRectY-mouseMoveY):mouseMoveY>=oldRectY&&(rectY=oldRectY)),this.resizeCursor(containerSvg,mouseMoveX,mouseMoveY,chartAreaX,chartAreaY,chartAreaWidth,chartAreaHeight);break;case"xy":multiSelectMouseDownId==containerSvg+"_resize_rightRect"+selectedRectIndex?(rectWidth=mouseMoveX-oldRectX,$("#"+containerSvg+"_resize_rightRect"+selectedRectIndex).attr("x",mouseMoveX-5),mouseMoveX<oldRectX?(rectX=mouseMoveX,rectWidth=oldRectX-mouseMoveX):mouseMoveX>=oldRectX&&(rectX=oldRectX)):multiSelectMouseDownId==containerSvg+"_resize_leftRect"+selectedRectIndex?(rectX=mouseMoveX,rectWidth=oldRectWidth+oldRectX-mouseMoveX,$("#"+containerSvg+"_resize_leftRect"+selectedRectIndex).attr("x",mouseMoveX-5),mouseMoveX>oldReRightRectX+5&&(rectX=oldReRightRectX+5,rectWidth=mouseMoveX-oldRectX-oldRectWidth)):multiSelectMouseDownId==containerSvg+"_resize_topRect"+selectedRectIndex?(rectHeight=oldRectHeight+oldRectY-mouseMoveY,rectY=mouseMoveY,$("#"+containerSvg+"_resize_topRect"+selectedRectIndex).attr("y",mouseMoveY-5),mouseMoveY>oldReBottomRectY+5&&(rectY=oldReBottomRectY+5,rectHeight=mouseMoveY-oldRectY-oldRectHeight)):multiSelectMouseDownId==containerSvg+"_resize_bottomRect"+selectedRectIndex?(rectHeight=mouseMoveY-oldRectY,$("#"+containerSvg+"_resize_bottomRect"+selectedRectIndex).attr("y",mouseMoveY-5),mouseMoveY<oldRectY?(rectY=mouseMoveY,rectHeight=oldRectY-mouseMoveY):mouseMoveY>=oldRectY&&(rectY=oldRectY)):multiSelectMouseDownId==containerSvg+"_resize_bottomRightCornerCircle"+selectedRectIndex&&(rectWidth=mouseMoveX-oldRectX,rectHeight=mouseMoveY-oldRectY,$("#"+containerSvg+"_resize_bottomRightCornerCircle"+selectedRectIndex).attr({cx:mouseMoveX,cy:mouseMoveY}),mouseMoveX<oldRectX&&mouseMoveY<oldRectY?(rectX=mouseMoveX,rectY=mouseMoveY,rectWidth=oldRectX-mouseMoveX,rectHeight=oldRectY-mouseMoveY):mouseMoveX<oldRectX?(rectX=mouseMoveX,rectWidth=oldRectX-mouseMoveX):mouseMoveY<oldRectY?(rectY=mouseMoveY,rectHeight=oldRectY-mouseMoveY):mouseMoveX>=oldRectX&&mouseMoveY>=oldRectY&&(rectX=oldRectX,rectY=oldRectY)),this.resizeCursor(containerSvg,mouseMoveX,mouseMoveY,chartAreaX,chartAreaY,chartAreaWidth,chartAreaHeight)}switch(selectionSettingsType){case"x":rectX>=x1-xPlotOffset&&rectWidth+rectX-x1<=x2-x1-xPlotOffset&&$(selctRectId+selectedRectIndex).attr({x:rectX,width:rectWidth});break;case"y":rectHeight+rectY-y2<=y1-y2+yPlotOffset&&rectY>=y2-yPlotOffset&&$(selctRectId+selectedRectIndex).attr({y:rectY,height:rectHeight});break;case"xy":rectX>=x1-xPlotOffset&&rectWidth+rectX-x1<=x2-x1-xPlotOffset&&rectHeight+rectY-y2<=y1-y2+yPlotOffset&&rectY>=y2-yPlotOffset&&$(selctRectId+selectedRectIndex).attr({x:rectX,y:rectY,width:rectWidth,height:rectHeight})}}if(this.rectPan)switch($("#"+containerSvg+"_closeTopRightCornerCircle"+selectedRectIndex).hide(),$("#"+containerSvg+"_closePath"+selectedRectIndex).hide(),$("#"+containerSvg+"_closePathOpposite"+selectedRectIndex).hide(),$("#"+containerSvg+"_gripCollection"+selectedRectIndex).css({visibility:"hidden"}),(mouseMoveX<=chartAreaX||mouseMoveY<=chartAreaY||mouseMoveX>=chartAreaX+chartAreaWidth||mouseMoveY>=chartAreaY+chartAreaHeight)&&this.multiSelectMouseUp(evt),modifiedX=this.PreviousCoords.X-evt.pageX,modifiedY=this.PreviousCoords.Y-evt.pageY,rectX-=modifiedX,rectY-=modifiedY,this.PreviousCoords.X=evt.pageX,this.PreviousCoords.Y=evt.pageY,selectionSettingsType){case"x":rectX>=x1-xPlotOffset&&rectWidth+rectX-x1<=x2-x1-xPlotOffset&&$(selctRectId+selectedRectIndex).attr({x:rectX});break;case"y":rectHeight+rectY-y2<=y1-y2+yPlotOffset&&rectY>=y2-yPlotOffset&&$(selctRectId+selectedRectIndex).attr({y:rectY});break;case"xy":rectX>=x1-xPlotOffset&&rectWidth+rectX-x1<=x2-x1-xPlotOffset&&rectHeight+rectY-y2<=y1-y2+yPlotOffset&&rectY>=y2-yPlotOffset&&$(selctRectId+selectedRectIndex).attr({x:rectX,y:rectY})}}},isTouch:function(n){var r=n.originalEvent?n.originalEvent:n;return"touch"==r.pointerType||2==r.pointerType||r.type.indexOf("touch")>-1},highlightStart:function(n,c,w,u,_){if(null!=n.target.parentNode)var v=(w=w||n.target.parentNode.id).indexOf(this.svgObject.id+"_SeriesGroup_")>=0||w.indexOf(this.svgObject.id+"_symbolGroup_")>=0||w.indexOf(this.svgObject.id+"_TrackSymbol_")>=0||w.indexOf(this.svgObject.id+"_Chart3D")>=0;this.model.enableCanvasRendering?this.highlightCanvas(this,n,c):this.highlightSvg(this,w,v,n,c,u,_)},_changeDraggingPoints:function(n,c,r,u){r="datetime"==n.xAxis._valueType?new Date(r):r,u="datetime"==n.yAxis._valueType?new Date(u):u;var _=n.dragSettings.type.toLowerCase();("x"==_||"xy"==_)&&"category"!=n.xAxis._valueType&&(this.dragPoint?(n.pointCollection[c].x=r,n.pointCollection[c].xValue="datetime"==n.xAxis._valueType&&"object"!=typeof r?new Date(r):r):(n._visiblePoints[c].x=n.points[c].x=r,n._visiblePoints[c].xValue=n.points[c].xValue="datetime"==n.xAxis._valueType&&"object"==typeof r?Date.parse(r):r),ej.util.isNullOrUndefined(n.dataSource)||(n.dataSource[c][n.xName]=r)),("y"==_||"xy"==_)&&(this.dragPoint?(n.pointCollection[c].y=u,n.pointCollection[c].YValues[0]="datetime"==n.yAxis._valueType&&"object"!=typeof u?new Date(u):u):(n._visiblePoints[c].y=n.points[c].y=u,n._visiblePoints[c].YValues[0]=n.points[c].YValues[0]="datetime"==n.yAxis._valueType&&"object"==typeof u?Date.parse(u):u),ej.util.isNullOrUndefined(n.dataSource)||(n.dataSource[c][n.yName]=u))},_dragDelta:function(n,c,r,u,_,w){var a={X:r,Y:u},s={X:n,Y:c},h=$.extend({},this.commonDragEventArgs);h.data={seriesIndex:_,pointIndex:w,oldValue:a,newValue:s},this._trigger("dragging",h),this.commonDragEventArgs=h},_getDraggedPoint:function(n,c,r){var u,v,a,s=ej.EjSvgRender.utils._getTransform(n.xAxis,n.yAxis,this.model.requireInvertedAxes);return this.model.requireInvertedAxes?(v=s.y+s.height-r,a=c-s.x):(v=c-s.x,a=s.y+s.height-r),u=ej.EjSvgRender.utils._getValuebyPoint(v,a,n,this.model.requireInvertedAxes),{X:parseFloat(u.PointX.toFixed(2)),Y:parseFloat(u.PointY.toFixed(2))}},_pointDragandDrop:function(n,c,r){var _,h,t,o,l,p,g,C,u=n.data.seriesIndex,w=[],v=null,a=n.type.toLowerCase(),s={axes:{}};for(h=0;h<this.model._axes.length;h++)s.axes[this.model._axes[h].name]={};$("#"+this._id).find('[id*="_Marker"]').remove();var T=this._getDraggedPoint(n,this.mousemoveX,this.mousemoveY),D=T.X,L=T.Y,I=this.commonDragEventArgs.data.currentPoint?this.commonDragEventArgs.data.currentPoint.xValue:this.commonDragEventArgs.data.oldValue.X,R=this.commonDragEventArgs.data.currentPoint?this.commonDragEventArgs.data.currentPoint.yValue[0]:this.commonDragEventArgs.data.oldValue.Y;if(n.region?r._dragDelta(D,L,I,R,(C=n.region).SeriesIndex,C.Region.PointIndex):r._dragDelta(D,L,I,R,(t=n.pointData).seriesIndex,t.index),this.model.enableCanvasRendering)this.canvasElement&&this.canvasElement.clearRect(0,0,r.svgWidth,r.svgHeight),0==$("#"+r._id+"_PreviewSeries"+u+"_canvas").length&&(o=document.getElementById(r._id+"_canvas").getBoundingClientRect(),_=this.createCanvasElement(r._id+"_PreviewSeries"+u+"_canvas",r.svgWidth,r.svgHeight,o),this.createRect(r,_),this.canvasElement=_);else{n.xAxis=null==n.xAxis?this.model._axes[0]:n.xAxis,n.yAxis=null==n.yAxis?this.model._axes[1]:n.yAxis;var V=ej.EjSvgRender.utils._getTransform(n.xAxis,n.yAxis,this.model.requireInvertedAxes),F={id:this.svgObject.id+"_PreviewSeriesGroup",transform:v="translate("+V.x+","+V.y+")",cursor:"default",visibility:"visible"};$("#"+this.svgObject.id+"_PreviewSeriesGroup").attr("transform",v),this.gPreviewSeriesGroupEle||(this.chartObj=r,this.chartObj.gPreviewSeriesGroupEle=this.gPreviewSeriesGroupEle=this.svgRenderer.createGroup(F)),this.gPreviewSeriesGroupEle.childNodes.length>0&&this.gPreviewSeriesGroupEle.removeChild(this.gPreviewSeriesGroupEle.childNodes[0])}w=$.extend(!0,{},n._visiblePoints),n.pointCollection=w,w.length=n._visiblePoints.length;var A=r.commonDragEventArgs.data,z=A.pointIndex,N=A.seriesIndex;if(r._changeDraggingPoints(n,z,A.newValue.X,A.newValue.Y),l=new ej.seriesTypes[a],p=n.pointCollection[z],"bubble"==a)b=ej.EjSvgRender.utils._getPoint(p,n),g={id:this.svgObject.id+"_PreviewSeries"+N+"_Point"+z,cx:b.X+this.canvasX,cy:b.Y+this.canvasY,r:p.radius,fill:n.fill,"stroke-width":2,visibility:"visible","stroke-dasharray":"",opacity:.6,stroke:"transparent"},this.model.enableCanvasRendering?ej.EjCanvasRender.prototype.drawCircle(g,_):this.svgRenderer.drawCircle(g,this.gPreviewSeriesGroupEle),this.svgRenderer.append(this.gPreviewSeriesGroupEle,this.gSeriesEle);else if("scatter"==a){var b=ej.EjSvgRender.utils._getPoint(p,n),U=n.marker.shape.capitalizeFirstString(),J=(b={startX:b.X+this.canvasX,startY:b.Y+this.canvasY},{ShapeSize:{width:n.marker.size.width,height:n.marker.size.height},ID:this.svgObject.id+"_PreviewSeries"+N+"_Point"+z,Style:{Color:n.fill,BorderWidth:n.marker.border.width,BorderColor:"transparent",Opacity:.6,Visibility:"visible"}});this.model.enableCanvasRendering?ej.EjSvgRender.chartSymbol["_draw"+U](b,J,this,_):ej.EjSvgRender.chartSymbol["_draw"+U](b,J,this,this.gPreviewSeriesGroupEle),this.svgRenderer.append(this.gPreviewSeriesGroupEle,this.gSeriesEle)}else if("column"==a||"bar"==a){p.xValue="object"==typeof p.xValue?Date.parse(p.xValue):p.xValue;var Q=ej.EjSeriesRender.prototype.getOrigin(r,n,s),ue=p.YValues[0],le=Q,ne=ej.EjSeriesRender.prototype.calculateSides(p,n.sidebysideInfo),ee=ej.EjSeriesRender.prototype.getRectangle(ne.x1,ue,ne.x2,le,n,r);g={id:this.svgObject.id+"_PreviewSeries"+N+"_Point"+z,x:ee.X+this.canvasX,y:ee.Y+this.canvasY,width:ee.Width,height:ee.Height,cornerRadius:n.cornerRadius,fill:n.fill,"stroke-width":2,plot:ue<0?"negative":"positive",opacity:.6,stroke:"transparent","stroke-dasharray":""},this.model.enableCanvasRendering?ej.EjCanvasRender.prototype.drawRect(g,_):(this.svgRenderer.drawRect(g,this.gPreviewSeriesGroupEle),this.svgRenderer.append(this.gPreviewSeriesGroupEle,this.gSeriesEle))}else("spline"==a||"splinearea"==a)&&(p.xValue="object"==typeof p.xValue?Date.parse(p.xValue):p.xValue),l.draw(this,n,s);b=ej.EjSvgRender.utils._getPoint(p,n),n.tooltip.visible&&(ej.util.isNullOrUndefined(n.tooltip.template)?($(".tooltipDiv"+this._id).remove(),r.displayShowTooltip(b,p,n,p.actualIndex)):($("#"+r.svgObject.id).find("#"+r.svgObject.id+"_TrackToolTip").attr("visibility","hidden"),r.createTooltip(C={SeriesIndex:N,Region:{PointIndex:p.actualIndex}},c,n)))},_dragPointMarker:function(n,c,r,u,_){var w,v,s,t,a=n.seriesIndex;w=ej.EjSvgRender.utils._getPoint(_.point,n),this.model.enableCanvasRendering?0==$("#"+this.svgObject.id+"_Marker").length&&(s=document.getElementById(this.svgObject.id).getBoundingClientRect(),v=this.createCanvasElement(this.svgObject.id+"_Marker",this.svgWidth,this.svgHeight,s)):this.gMarkerGroupEle||(this.gMarkerGroupEle=this.svgRenderer.createGroup({id:this.svgObject.id+"_markerGroup_"+a})),t={id:this.svgObject.id+"_Series"+a+"_Point"+_.index+"_Marker",cx:w.X+this.model.m_AreaBounds.X,cy:w.Y+this.model.m_AreaBounds.Y,r:7,fill:n.fill,"stroke-width":3,opacity:1,stroke:"white",visibility:"visible"},this.model.enableCanvasRendering?ej.EjCanvasRender.prototype.drawCircle(t,v):(this.svgRenderer.drawCircle(t,this.gMarkerGroupEle),this.svgRenderer.append(this.gMarkerGroupEle,this.gSeriesEle))},_dragPointGripper:function(n){var w,a,t,o,l,g,b,C,T,D,c=n.region.type.toLowerCase(),r=this.model._visibleSeries[n.region.SeriesIndex],_=r.isTransposed,v=r.yAxis.isInversed;if("column"==c||"bar"==c){for(this.model.enableCanvasRendering?(a=document.getElementById(this.svgObject.id).getBoundingClientRect(),w=this.createCanvasElement(this.svgObject.id+"_Marker",this.svgWidth,this.svgHeight,a),document.getElementById(w.canvas.id).style.zIndex=1):this.gMarkerGroupEle||(this.gMarkerGroupEle=this.svgRenderer.createGroup({id:this.svgObject.id+"_markerGroup_"+n.region.SeriesIndex})),C=n.region.Region.Bounds,(_&&"bar"==c||"column"==c&&!_)&&(t=C.Width,o=C.X),(!_&&"bar"==c||"column"==c&&_)&&(t=C.Height,o=C.Y),b=(t>75?t-75:0)/2+o+(l=t<75?t-t/3:50)/6+(g=(l-6)/6)/2,T=1;T<=3;T++)b+=1==T?g:2*g+3,(D={id:this.svgObject.id+"_Series"+n.region.SeriesIndex+"_Point"+n.region.Region.PointIndex+"_Marker"+T,fill:"white",opacity:1,stroke:"white",visibility:"visible"}).r=Math.abs(g),(_&&"bar"==c||"column"==c&&!_)&&(D.cx=b,D.cy=v?C.Y+C.Height-g-5:C.Y+g+5),(!_&&"bar"==c||"column"==c&&_)&&(D.cx=v?C.X+g+5:C.X+C.Width-g-5,D.cy=b),this.model.enableCanvasRendering?ej.EjCanvasRender.prototype.drawCircle(D,w):this.svgRenderer.drawCircle(D,this.gMarkerGroupEle);this.svgRenderer.append(this.gMarkerGroupEle,this.gSeriesEle)}},chartMouseMove:function(n){function c(He){var Ye,Be=C._id;$("#"+Be+"_tooltip").length<=0?(Ye=$("<div></div>").attr({id:Be+"_tooltip",class:"zoom"+Be}),$(Ye).html("&nbsp"+He+"&nbsp"),$(document.body).append(Ye),$(Ye).css({left:n.pageX+10,top:n.pageY+10,display:"block",position:"absolute","z-index":"13000",cursor:"default","font-family":"Segoe UI",color:"#707070","font-size":"12px","background-color":"#FFFFFF",border:"1px solid #707070"})):$("#"+Be+"_tooltip").css({left:n.pageX+10,top:n.pageY+10})}var s,h,t,o,l,p,g,b,C,T,D,L,I,R,V,F,A,z,N,U,J,Q,oe,ue,he,ee,re,M,r=this.GetSeriesPoint(n),u=this.svgObject,_=this.model,w=_.zooming.enable,v=_.enableCanvasRendering;if(_.event=n,clearTimeout(this.removeTooltip),this.doPan&&n.target.id.indexOf(this._id+"_scrollbar")>-1&&(this.doPan=!1),s={left:0,top:0},"cartesianaxes"!=this.multiSelectAreaType||w||v||this.multiSelectMouseMove(n),this.rotateActivate&&this.oPreviousCoords){if(h=this.oPreviousCoords.Y-this.mousemoveY,((t=this.oPreviousCoords.X-this.mousemoveX)||h)&&(_.tilt-=h,_.rotation+=t,this.model.isSelected&&(o=this.selectedStyle(this)),this.isTouch(n)||$(this.chart3D).empty(),$("#template_group_"+this._id).empty(),l={Width:$(u).width(),Height:$(u).height()},this.graphics.view(u,this,_.rotation,_.tilt,l,_.perspectiveAngle,_.depth),this.svgRenderer.append(this.chart3D,u),this.model.isSelected))for(oe=0;oe<o.length;oe++)$("#"+o[oe].id).attr("class",o[oe].className);this.oPreviousCoords.Y=this.mousemoveY,this.oPreviousCoords.X=this.mousemoveX}var H,xe=u.id,O=this.isZoomButtonHovered(n.target),B=_._visibleSeries;for(oe=(H=B.length)-1;oe>=0;oe--)if(L=(p=B[oe]).type.toLowerCase(),p.dragSettings.enable&&!_.enable3D){if($("#"+this._id).find('[id*="_Marker"]').remove(),this._enableDragging(p,oe,n),this.dragPoint)break;if(Le=this.calMousePosition(n),this.mousemoveX=Le.X,this.mousemoveY=Le.Y,g=this.GetSeriesPoint(n),!p.marker.visible&&"bubble"!=L&&"scatter"!=L&&"column"!=L&&"bar"!=L&&(b=this.getClosesPointXY(T,D,p,this.mousemoveX,this.mousemoveY,n)).point){p.seriesIndex=oe,this._dragPointMarker(p,this.mousemoveX,this.mousemoveY,n,b),this.closestXyPoint=b;break}if(g&&g.region.SeriesIndex==oe){this._dragPointGripper(g);break}}if(C=this,this.dragPoint&&(T=[],D=[],$(document).keyup(function(He){27==He.keyCode&&($(".tooltipDiv"+this._id).remove(),$("#"+xe+"_TrackToolTip").remove(),C.dragPoint=!1,B[C.commonDragEventArgs.data.seriesIndex].pointCollection=null,C.chartMouseUp(He))}),C._pointDragandDrop(B[ee=this.dragIndex.seriesIndex],n,C)),this.calMousePosition(n),$("#"+this._id+"_tooltip").remove(),!this.dragPoint&&(this.drag||O||(this.isTouch(n)||_.doubleTapped)&&!_.crosshairMoved)||this.chartInteractiveBehavior(n),_.crosshair.visible&&"cartesianaxes"==_.AreaType||(v&&r||($("[class*=HighlightStyle]").attr("class",""),$("[class*=HighlightLegendStyle]").attr("class",""),$("[class*=HighlightLegendPathStyle]").attr("class",""),$("[class*=HighlightPathStyle]").attr("class",""),$("[class*=Highlightseries]").attr("class",""),$("[id*="+this._id+"_Highlight_]").remove()),this.highlightStart(n,r)),!this.panning&&(U="#"+xe,w&&"cartesianaxes"==_.AreaType&&!_.enable3D&&this.drag&&!this.dragPoint&&!this.chartRightClick)){this.disableTrackBall(),$("#"+xe+"_ZoomArea").remove();var Z,te,ae,de,W=this.mousemoveX,pe=this.mousemoveY,_e=_.m_AreaBounds;this.mousemoveX<_e.X?W=_e.X:this.mousemoveX>_e.X+_e.Width&&(W=_e.X+_e.Width),pe=this.mousemoveY<_e.Y?_e.Y:this.mousemoveY>_e.Y+_e.Height?_e.Y+_e.Height:this.mousemoveY,"x"==(I=_.zooming.type.toLowerCase())?(Z=Math.abs(W-this.mouseDownX),te=_e.Height,ae=W>this.mouseDownX?this.mouseDownX:W,de=_e.Y):"y"==I?(Z=_e.Width,te=Math.abs(pe-this.mouseDownY),ae=_e.X,de=pe>this.mouseDownY?this.mouseDownY:pe):(Z=Math.abs(W-this.mouseDownX),te=Math.abs(pe-this.mouseDownY),ae=W>this.mouseDownX?this.mouseDownX:W,de=pe>this.mouseDownY?this.mouseDownY:pe),$(u).css({"-moz-user-select":"-moz-none","-khtml-user-select":"none","-webkit-user-select":"none","-ms-user-select":"none","user-select":"none"}),this.zooming=!0,R={id:xe+"_ZoomArea",x:ae+s.left,y:de+s.top,width:Z,height:te,fill:"rgba(69,114,167,0.25)","stroke-width":1,stroke:"rgba(69,114,167,0.25)","clip-path":"url(#"+xe+"_ChartAreaClipRect)"},v?this.svgRenderer.drawZoomRect(R,this):this.svgRenderer.drawRect(R,u)}if(V=_.zooming.enableDeferredZoom,this.panning&&this.doPan&&"cartesianaxes"==_.AreaType&&!this.dragPoint)if(this.currentPageX=n.pageX,this.currentPageY=n.pageY,$("#secondCanvas").remove(),$("#"+this._id+"_canvas").css({cursor:"pointer"}),ej.isTouchDevice()||V){if(ej.isTouchDevice()||V){for(A=0;A<B.length;A++){var se=_.series[A],Se=ej.EjSvgRender.utils._getTransform(se.xAxis,se.yAxis,_.requireInvertedAxes),be=n.pageX-this.oPreviousCoords.x+Se.x,Ce=n.pageY-this.oPreviousCoords.y+Se.y,Pe="translate("+be+","+Ce+")";$("#"+xe+"_SeriesGroup_"+A).attr("transform",Pe),$("#"+xe+"_symbolGroup_"+A).attr("transform",Pe),$("#"+xe+"_TextGroup_"+A).attr("transform",Pe)}for(ee=0;ee<_.indicators.length&&_.indicators[ee]._points.length>0;ee++)z=_.indicators[ee],Se=ej.EjSvgRender.utils._getTransform(z.xAxis,z.yAxis,_.requireInvertedAxes),Pe="translate("+(be=n.pageX-this.oPreviousCoords.x+Se.x)+","+(Ce=n.pageY-this.oPreviousCoords.y+Se.y)+")",$("#"+xe+"_indicatorGroup_"+ee).attr("transform",Pe)}}else F={x:this.oPreviousCoords.x-n.pageX,y:this.oPreviousCoords.y-n.pageY},this.oPreviousCoords={x:n.pageX,y:n.pageY},$.each(_._axes,function(He,Be){var Ye=Math.max(1/ej.EjSvgRender.utils._minMax(Be.zoomFactor,0,1),1);C.translate(Be,F.x,F.y,Ye)}),this._updateScroll(),this.redraw(!0,null,n.target,this.isTouch(n)),this._cursorToPointer(),this._enableZoomingButtons();if(""!=(N=n.target.id)||ej.util.isNullOrUndefined(n.target.parentNode)||(N=n.target.parentNode.id.indexOf("_XLabel_")>=0||n.target.parentNode.id.indexOf("_YLabel_")>=0?n.target.parentNode.id:N),U=this._id,J=ej.util.isNullOrUndefined(n.target.parentNode)?"":n.target.parentNode.id,w&&(J==U+"_svg_ResetZoom"?c(this._localizedLabels.reset):J==U+"_svg_PanBtn"?c(this._localizedLabels.pan):J==U+"_svg_ZoomBtn"?c(this._localizedLabels.zoom):J==U+"_svg_ZoomInBtn"?c(this._localizedLabels.zoomIn):J==U+"_svg_ZoomOutBtn"&&c(this._localizedLabels.zoomOut)),(Q=this.getAxisLabelData(n))&&((M=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data=Q,this._trigger("axisLabelMouseMove",M)),!this.isTouch(n))for(this.axisTooltip(n,N),_.title.enableTrim&&this.showTitleTooltip(n,N),oe=0,H=_.series.length;oe<H;oe++)ue=(se=_.series[oe]).marker&&se.marker.dataLabel,!se._enableSmartLabels||this.model.enable3D||ue.enableWrap||(ne=ue.font,"none"==_.AreaType&&ej.util.isNullOrUndefined(ue.template)&&this.datalabelTooltip(n,oe,ne));if($(u).find(U+"_ResetZoom,"+U+"_PanBtn,"+U+"_ZoomBtn").length>0&&$(u).find(U+"_ResetZoom,"+U+"_PanBtn,"+U+"_ZoomBtn").appendTo(u),he=this.getLegendData(n)){var ke=this.model.legend.isReversed,ne=this.model.legend.font,Ne=$.extend({},ej.EjSvgRender.commonChartEventArgs);if(Ne.data=he,he.series.highlightSettings.enable&&(v?((se=$.extend({},he.series)).seriesIndex=he.legendItem.LegendItem.SeriesIndex,se.pointIndex=he.legendItem.LegendItem.PointIndex,0==$("#"+C._id+"_Selection_Legend"+(ee="none"==this.model.AreaType?se.pointIndex:se.seriesIndex)+"_canvas").length&&($("[id*="+this._id+"_Highlight_]").remove(),this.canvasHighlight(C,n,se,he))):this.highlight(C,n,he.series,he)),this._trigger("legendItemMouseMove",Ne),v){var Le=this.calMousePosition(n),je=Le.X,Ae=Le.Y,Oe=_.LegendBounds;$(this.legendContainer).children().css({cursor:"pointer"}),je>=Oe.X&&je<=Oe.X+_.LegendViewerBounds.Width&&Ae<=Oe.Y+_.LegendViewerBounds.Height&&Ae>=Oe.Y&&this._textTooltip(n,_.legendTextRegion,ke,ne)}else this._textTooltip(n,_.legendTextRegion,ke,ne)}else v&&$(this.legendContainer).children().css("cursor","default");if(v&&(-1!=N.indexOf("_ResetZoom")||-1!=J.indexOf("_ResetZoom")?c(this._localizedLabels.reset):-1!=N.indexOf("_PanBtn")||-1!=J.indexOf("_PanBtn")?c(this._localizedLabels.pan):-1!=N.indexOf("_ZoomBtn")||-1!=J.indexOf("_ZoomBtn")?c(this._localizedLabels.zoom):-1!=N.indexOf("_ZoomInBtn")||-1!=J.indexOf("_ZoomInBtn")?c(this._localizedLabels.zoomIn):(-1!=N.indexOf("_ZoomOutBtn")||-1!=J.indexOf("_ZoomOutBtn"))&&c(this._localizedLabels.zoomOut),this.isTouch(n)||(this._textTooltip(n,_.xAxisLabelRegions),this._textTooltip(n,_.yAxisLabelRegions))),re=this,_.xAxisTitleRegion){W=this.mousemoveX,pe=this.mousemoveY;var Fe=this.model.primaryXAxis.title.isReversed,$e=this.model.primaryXAxis.font;$.each(_.xAxisTitleRegion,function(Ye,dt){W>=dt.Bounds.X&&W<=dt.Bounds.X+dt.Bounds.Width&&pe>=dt.Bounds.Y-dt.Bounds.Height&&pe<=dt.Bounds.Y&&dt.trimText!=dt.labelText&&re.showAxisTooltip(n.pageX,n.pageY,dt.labelText,dt.trimText,Fe,$e)})}_.yAxisTitleRegion&&(W=this.mousemoveX,pe=this.mousemoveY,Fe=this.model.primaryXAxis.title.isReversed,$e=this.model.primaryXAxis.font,$.each(_.yAxisTitleRegion,function(Ke,tt){W>=tt.Bounds.X&&W<=tt.Bounds.X+tt.Bounds.Width&&pe>=tt.Bounds.Y-tt.Bounds.Height&&pe<=tt.Bounds.Y&&tt.trimText!=tt.labelText&&re.showAxisTooltip(n.pageX,n.pageY,tt.labelText,tt.trimText,Fe,$e)})),_.axisMultiLevelLabelRegions&&(W=this.mousemoveX,pe=this.mousemoveY,$.each(_.axisMultiLevelLabelRegions,function(He,Be){W>=Be.Bounds.X&&W<=Be.Bounds.X+Be.Bounds.Width&&pe>=Be.Bounds.Y-Be.Bounds.Height&&pe<=Be.Bounds.Y&&Be.trimText!=Be.labelText&&re.showAxisTooltip(n.pageX,n.pageY,Be.labelText)})),(M=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data={location:{x:this.mousemoveX,y:this.mousemoveY},size:{height:_.svgHeight,width:_.svgWidth},id:n.target.id,pageX:n.pageX,pageY:n.pageY},this._trigger("chartMouseMove",M)},axisTooltip:function(n,c){var v,a,s,h,t,l,r=this.svgObject.id,u=this.model.hAxes,_=this.model.vAxes;if(c.indexOf("svghorizontal")>-1){var o,w=u[0],p=c.replace(this._id,"").replace("_svghorizontal","");(o=w.visibleLabels[parseInt(p)]).Text=o.Text.toString(),o.Text.indexOf("...")>-1&&this.showAxisTooltip(n.pageX,n.pageY,l=o.Text==o.originalText?"":o.originalText)}if(c.indexOf("_YLabel_")>=0){for(a=0;a<_.length;a++)if(c.indexOf(r+"_"+_[a].name+"_YLabel_")>=0){w=_[a];break}if(w&&w.enableTrim)for(v=w.visibleLabels.length,t=0;t<v&&"cartesianaxes"==this.model.AreaType;t++)if(c==r+"_"+_[a].name+"_YLabel_"+t){if(""==(l=(o=w.visibleLabels[t]).Text==o.displayText?"":w.labelFormat?w.labelFormat.replace("{value}",o.Text):o.Text))break;"inside"==w.labelPosition.toLowerCase()&&(this._hideTooltip(),this._removeTrackBall()),this.showAxisTooltip(n.pageX,n.pageY,l,o.displayText)}}if(c.indexOf("_XLabel_")>=0){for(a=0;a<u.length;a++)if(c.indexOf(r+"_"+u[a].name+"_XLabel_")>=0){w=u[a];break}if(w&&(w.enableTrim||"trim"==w.labelIntersectAction.toLowerCase()||"wrapbyword"==w.labelIntersectAction.toLowerCase()))for(v=w.visibleLabels.length,s=w.isInversed,h=w.font,t=0;t<v&&"cartesianaxes"==this.model.AreaType;t++)if(c==r+"_"+u[a].name+"_XLabel_"+t){if(""==(l=(o=w.visibleLabels[t]).Text==o.displayText?"":o.Text))break;"inside"==w.labelPosition.toLowerCase()&&(this._hideTooltip(),this._removeTrackBall()),this.showAxisTooltip(n.pageX,n.pageY,l,o.displayText,s,h)}}},showTitleTooltip:function(n,c){ej.EjSvgRender.utils._measureText(this.model.title.text,$(this.svgObject).width()-this.model.margin.left-this.model.margin.right,this.model.title.font);var C,u=this.model,_=u._titleLocation,w=u._subTitleLocation,v=u.title.enableTrim,a=u.elementSpacing,s=this.mousemoveX,h=this.mousemoveY,o=(u.title.textOverflow.toLowerCase(),u.title.subTitle.enableTrim),p=(u.title.subTitle.textOverflow.toLowerCase(),u.title.text),g=u.title.subTitle.text,b=u.title.isReversed;v&&this.model.trimTooltip&&(C=ej.EjSvgRender.utils._trimText(p,u.title.maximumWidth,u.title.font),(c.indexOf("ChartTitleText")>=0||this.model.enableCanvasRendering&&s>=_.X-a&&s<=_.X-a+_.size.width&&h>=_.Y-_._height&&h<=_.Y+_.size.height)&&this.showAxisTooltip(n.pageX,n.pageY,p,C,b,u.title.font)),o&&u.subTitleTooltip&&(C=ej.EjSvgRender.utils._trimText(g,u.title.subTitle.maximumWidth,u.title.subTitle.font),(c.indexOf("ChartSubTitleText")>=0||u.enableCanvasRendering&&s>=w.X&&s<=w.X+w.size.width&&h>=w.Y&&h<=w.Y+w.size.height)&&this.showAxisTooltip(n.pageX,n.pageY,g,C,b,u.title.subTitle.font))},_updateScroll:function(){for(var _,n=this.model.scrollObj,c=n?n.length:0,r=this.model._axes,u=this.scrollbarContainer,w=0;w<c;w++)n[w]&&((_=n[w]).zoomPosition!=r[w].zoomPosition||_.zoomFactor!=r[w].zoomFactor)&&(_.zoomPosition=r[w].zoomPosition,_.zoomFactor=r[w].zoomFactor,u._initializeScrollbarVariables(_),u._scrollbarUpdate.call(this,_),u._setScrollPosition.call(this,_.startX,_.startX+_.rectWidth,_))},_hideTooltip:function(){$("#"+this.svgObject.id).find("#"+this.svgObject.id+"_TrackToolTip").attr("visibility","hidden"),$("#"+this.svgObject.id+"_TrackToolTip").attr("visibility","hidden").hide(),$(".tooltipDiv"+this._id).css("display","none")},_removeHighlight:function(){var n,c;if($("[id*=HighlightSegment]").remove(),$("[id*=HighlightPath]").remove(),$("[id*=HighlightLegendSegment]").remove(),$("[id*=HighlightLegendPath]").remove(),$("[id*=HighlightDef]").remove(),$("[id*=Highlightseries]").remove(),$("[id*="+this._id+"_Highlight_]").remove(),!this.model.enableCanvasRendering&&!this.vmlRendering)if(null!==(n=this.svgObject.querySelector("[class^='Highlight']"))&&null==n.length)n.removeAttribute("class");else for(c=n&&n.length;c--;)n.removeAttribute("class")},_removeSelection:function(){$("[id*="+this._id+"_SelectionCluster_Legend]").remove(),$("[id*="+this._id+"_Selection_series]").remove(),$("[id*="+this._id+"_Selection_Cluster]").remove(),$("[id*="+this._id+"SelectionSegment]").remove(),$("[id*="+this._id+"SelectionPath]").remove(),$("[id*="+this._id+"SelectionLegend]").remove(),$("[id*="+this._id+"SelectionDef]").remove(),$("[id*="+this._id+"Selectionseries]").remove(),$("[id*="+this._id+"_Selection_]").remove()},datalabelTooltip:function(n,c,r){var u=this.calMousePosition(n);this.mousemoveX=u.X,this.mousemoveY=u.Y;var t,o,l,p,g,b,T,_=this._id,w=this.mousemoveX,v=this.mousemoveY,a=this.vmlRendering,s=this.model.elementSpacing,h=this;ej.util.isNullOrUndefined(this.accDataLabelRegion[c])||$.each(this.accDataLabelRegion[c],function(D,L){t=L.bounds.minX,o=L.bounds.minY,l=L.bounds.maxX,p=L.bounds.maxY,a&&(t=L.bounds.minX+L.bounds.width/2,l=L.bounds.maxX+L.bounds.width/2,o=L.bounds.minY,p=L.bounds.maxY),w>=t&&w<=l&&v>=o&&v<=p&&($("#"+_+"_tooltip").remove(),g=$("<div></div>").attr({id:_+"_tooltip",class:"ejTooltip"+_}),L.trimmedText!=L.text&&($("#"+h.svgObject.id+"_TrackToolTip").hide(),$(g).html(L.text),$(document.body).append(g),b=ej.EjSvgRender.utils._measureText(L.text,L.text.length,L.font).width,$(g).css({top:n.pageY+s,display:"block",position:"absolute","z-index":"13000",cursor:"default",color:"#000000","font-size":r.size,"background-color":"#FFFFFF",border:"1px solid #707070","white-space":"nowrap",padding:"5px"}),("pyramid"==L.type||"funnel"==L.type)&&(h.model.m_AreaBounds.Width+h.model.m_AreaBounds.X-n.pageX>b?$(g).css({left:n.pageX+s}):(T=n.pageX-b+2*s,$(g).css({left:T}))),("pie"==L.type||"doughnut"==L.type||"pieofpie"==L.type)&&(t>L.bounds.centerX?h.svgWidth-h.model.margin.left-h.model.margin.right-w<b?(T=n.pageX-b,$(g).css({left:T+s})):$(g).css({left:n.pageX+s}):w<b?$(g).css({left:n.pageX+s}):(T=n.pageX-b,$(g).css({left:T-2*s})))))})},showAxisTooltip:function(n,c,r,u,_,w){var v=this._id,a=$("<div></div>").attr({id:v+"_tooltip",class:"ejTooltip"+v});if($(a).html(r),_&&!ej.util.isNullOrUndefined(w))var s=ej.EjSvgRender.utils._measureText(r,null,w).width,h=ej.EjSvgRender.utils._measureText(u,null,w).width,t=h<=s?s:h;$(document.body).append(a),$(a).css({left:_?n-t:n+10,top:c+10,display:"block",position:"absolute","padding-left":"3px","padding-right":"3px","z-index":"13000",cursor:"default","font-family":"Segoe UI",color:"#707070","font-size":"12px","background-color":"#FFFFFF",border:"1px solid #707070"})},_textTooltip:function(n,c,r,u){var s,L,w=this.calMousePosition(n),v=this.model.legend._ejScroller,a=0,h=r&&($("#legend_"+this._id).find('[class*="e-vscrollbar"]').length||"scroll"==$("#legend_"+this._id)[0].style.overflowY)?w.X-18:w.X,t=w.Y,o=h,l=t,p=this._id,b=this.model.legend,C=b.enableScrollbar;b.textOverflow.toLowerCase(),s=v?$("#legend_"+this._id).ejScroller("instance").model.scrollTop:$("#legend_"+this._id).scrollTop(),a=v?$("#legend_"+this._id).ejScroller("instance").model.scrollLeft:$("#legend_"+this._id).scrollLeft(),r&&v&&(a=0==a?$("#legend_"+this._id).ejScroller("instance")._rtlScrollLeftValue:$("#legend_"+this._id).ejScroller("instance").model.scrollLeft==$("#legend_"+this._id).ejScroller("instance")._rtlScrollLeftValue?0:$("#legend_"+this._id).ejScroller("instance")._rtlScrollLeftValue-$("#legend_"+this._id).ejScroller("instance").model.scrollLeft),(C||v)&&(o=h+(a||0),l=t+(s||0)),$.each(c,function(I,R){if(o>=R.bounds.x&&o<=R.bounds.x+R.bounds.width&&(l>=R.bounds.y&&l<=R.bounds.y+R.bounds.height||l>=R.bounds.y-R.bounds.height/3&&l<=R.bounds.y)&&($("#"+p+"_tooltip").remove(),L=$("<div></div>").attr({id:p+"_tooltip",class:"ejTooltip"+p}),("array"==jQuery.type(R.trimText)?R.trimText.join(" "):R.trimText)!=R.labelText)){if($(L).html(R.labelText),r&&!ej.util.isNullOrUndefined(u))var V=ej.EjSvgRender.utils._measureText(R.labelText,null,u).width;$(document.body).append(L),$(L).css({left:r?n.pageX-V-15:n.pageX+10,top:n.pageY+10,display:"block",position:"absolute","padding-left":"3px","padding-right":"3px","z-index":"13000",cursor:"default","font-family":"Segoe UI",color:"#707070","font-size":"12px","background-color":"#FFFFFF",border:"1px solid #707070"})}})},pieExplosion:function(n){var c,r,u,_,w,v,a,s;this.model.explode=!0;var t,o,l,h=n,p=h.region.Series,g=h.region.SeriesIndex,b=new(ej.seriesTypes[p.type.toLowerCase()]),C=p.explodeIndex,D=(p.labelPosition.toLowerCase(),{SeriesIndex:h.pointData[0].SeriesIndex,PointIndex:h.pointData[0].Index}),L=this.model._isPieOfPie?h.pointData[0].PointIndex:h.region.Series._visiblePoints[h.pointData[0].Index].actualIndex;if(C!=L&&!h.region.Series.explodeAll){if(p.explodeIndex=L,l=h.pointData[0].PieSeriesIndex,!ej.util.isNullOrUndefined(this.model.explodeValue)&&this.model.explodeValue!=D){for(this.model.explodeValue.SeriesIndex!=h.region.SeriesIndex&&(p=this.model._visibleSeries[this.model.explodeValue.SeriesIndex]),c=this.model._isPieOfPie?this._getPieOfPiePoint(this.model.explodeValue.PointIndex,p):p._visiblePoints[this.model.explodeValue.Index],r=b._calculateArcData(this,this.model.explodeValue.PointIndex,c,p,this.model.explodeValue.SeriesIndex,this.model.explodeValue.PieSeriesIndex),t=this.svgObject.id+"_SeriesGroup_"+this.model.explodeValue.SeriesIndex,o=1==this.model.explodeValue.PieSeriesIndex?$(this.gSeriesEle).children("#"+t)[1]:$(this.gSeriesEle).children("#"+t)[0],_=$(o).children(),w=0;w<_.length;w++)if(a=this.svgRenderer._getAttrVal($(v=_[w])[0],"data-pointIndex"),parseInt(a)==this.model.explodeValue.PointIndex){this.svgRenderer._setAttr($(v),{d:r.Direction});break}b.drawDataLabelAcc(this,p,this.model.explodeValue.Index,c,this.model.explodeValue.SeriesIndex,this.model.explodeValue.PieSeriesIndex)}for(u=this.model._isPieOfPie?this._getPieOfPiePoint(n.region.Region.PointIndex,p):p._visiblePoints[h.pointData[0].Index],r=b._calculateArcData(this,h.pointData[0].PointIndex,u,h.region.Series,g,l),t=this.svgObject.id+"_SeriesGroup_"+h.region.SeriesIndex,o=1==l?$(this.gSeriesEle).children("#"+t)[1]:$(this.gSeriesEle).children("#"+t)[0],_=$(o).children(),w=0;w<_.length;w++)if(a=this.svgRenderer._getAttrVal($(v=_[w])[0],"data-pointIndex"),parseInt(a)==h.pointData[0].PointIndex){this.svgRenderer._setAttr($(v),{d:r.Direction});break}this.model.enableCanvasRendering&&(s=document.getElementById(this.svgObject.id).getClientRects()[0],this.svgRenderer.ctx.clearRect(s.left,s.top,s.width,s.height),$("#"+this._id).ejChart("redraw")),b.drawDataLabelAcc(this,p,h.pointData[0].Index,u,g,l),this.model.explodeValue={SeriesIndex:h.pointData[0].SeriesIndex,PointIndex:h.pointData[0].PointIndex,Index:h.pointData[0].Index,PieSeriesIndex:h.pointData[0].PieSeriesIndex}}h.region.Series.explodeIndex=C},displayGroupingTemplate:function(n,c,r,u,_,w,v,a,s){var t,p,b,C,T,D,L,I,V,F,A,z,N,U,h=[],o=[],l=[];for(t=$.extend(!0,{},s),l=$.extend(!0,{},_),p=Object.keys(l).length,h=$.extend(!0,{},u),F=0;F<p;F++)b=l[F].series.isTransposed,h[F].point.x=h[F].point.x,"datetime"==l[F].series.xAxis._valueType.toLowerCase()&&(h[F].point.x=ej.format(new Date(h[F].point.x),ej.EjSvgRender.utils._dateTimeLabelFormat(l[F].series.xAxis.intervalType,l[F].series.xAxis))),"category"==l[F].series.xAxis._valueType.toLowerCase()&&(h[F].point.x=ej.EjSvgRender.utils._getLabelContent(v,l[F].series.xAxis)),n=ej.util.isNullOrUndefined(n)?0:n,c=ej.util.isNullOrUndefined(c)?0:c,C=this.model.m_AreaBounds.X,T=this.model.m_AreaBounds.Y,D=b||this.model.requireInvertedAxes?l[F].series.yAxis.y:r.X+n+C+this.model.crosshair.marker.size.width+5,L=b||this.model.requireInvertedAxes?l[F].series.xAxis.x+r.Y:this.model.m_AreaBounds.Height/2+T,I=$("#"+this.model.crosshair.trackballTooltipSettings.tooltipTemplate).clone(),$(I).css("background-color",t[F].seriesColor),$(I).css("display","block"),h[F].point.count=1,_.count=void 0,A={series:_,point:h[F].point},o.push($(I).html($(I).html().parseTemplate(A)));0==$("#"+this.svgObject.id+"_TrackGroupToolTipTemplate").length&&(V=$("<div id ="+this.svgObject.id+"TrackGroupToolTipTemplate style='pointer-events:none; position: absolute; z-index: 13000; display: block;'></div>"),$(V).appendTo(this.chartContainer)),$(V).append(o),z=this.model.crosshair.trackballTooltipSettings.border,$(V).css("border",z.width+"px solid "+z.color),N=parseFloat($(V).css("height")),U=parseFloat($(V).css("width")),L=b||this.model.requireInvertedAxes?L:L-N/2,1!=p||b||(L=r.Y+T+N/2),1==p&&(b||this.model.requireInvertedAxes)&&(D=r.X+n+C+this.model.crosshair.marker.size.width+5-U/2,L=r.Y+T-N-this.model.crosshair.marker.size.height-5),L+N<this.model.m_AreaBounds.Y?L=this.model.m_AreaBounds.Y:L+N/2>this.model.m_AreaBounds.Height&&(L-=N),D+U>C+this.model.m_AreaBounds.Width&&!b&&(D=r.X+n+C-this.model.crosshair.marker.size.width-5-U),$(V).css("left",D),$(V).css("top",L)},displayTemplateTooltip:function(n,c,r,u,_,w,v,a){var t,o,l,p,g,b,C,T,D,L,s=$.extend(!0,{},u);s.x=s.x,"datetime"==_.xAxis._valueType.toLowerCase()&&(s.x=ej.format(new Date(s.x),ej.EjSvgRender.utils._dateTimeLabelFormat(_.xAxis.intervalType,_.xAxis))),"category"==_.xAxis._valueType.toLowerCase()&&(s.x=ej.EjSvgRender.utils._getLabelContent(v,_.xAxis)),n=ej.util.isNullOrUndefined(n)?0:n,c=ej.util.isNullOrUndefined(c)?0:c;var A,z,I=this.model.m_AreaBounds.X,R=this.model._axes,V=_._xAxisName,F=_._yAxisName;for(t=0,o=R.length;t<o;t++)V==R[t].name?_._isTransposed?A=R[t].Location.Y2:z=R[t].Location.X1:F==R[t].name&&(_._isTransposed?z=R[t].Location.X1:A=R[t].Location.Y2);l=r.X+this.model.crosshair.marker.size.width+z,p=r.Y+c+A,0==$("#"+this.svgObject.id+"_TrackToolTipTemplate_"+w).length&&(g=$("<div id="+this.svgObject.id+"_TrackToolTipTemplate_"+w+" style='pointer-events:none;position: absolute; z-index: 13000; display: block;'></div>"),$(document.body).append(g)),null!=this.model.crosshair.trackballTooltipSettings.tooltipTemplate&&(b=document.getElementById(this.model.crosshair.trackballTooltipSettings.tooltipTemplate).cloneNode(!0),$(b).css("display","block").appendTo(g),_.count=1,s.count=1,C=this.getSeriesColor(s,w,_),$(g).css("background-color","array"==jQuery.type(C)?C[0].color:C),T={series:_,point:s},$(g).html($(g).html().parseTemplate(T))),p-=parseFloat($(g).css("height"))/2,D=parseFloat($(g).css("height")),L=parseFloat($(g).css("width")),(_.isTransposed||this.model.requireInvertedAxes)&&(p=r.Y+this.model.m_AreaBounds.Y-D-5-this.model.crosshair.marker.size.height,l=r.X+I-L/2),p+D<this.model.m_AreaBounds.Y&&(_.isTransposed||this.model.requireInvertedAxes)&&(p+=D+this.model.crosshair.marker.size.height+5+a.top),l+L>I+this.model.m_AreaBounds.Width&&(l-=L+10+this.model.crosshair.marker.size.width),$(g).css("left",l),$(g).css("top",p)},displayAxisTooltip:function(n,c,r,u,_,w){var v,a,h,t,o;"double"==r._valueType.toLowerCase()&&(v=r.labelFormat?r.labelFormat.match("{value}"):null,c=r.labelFormat?null!=v?r.labelFormat.replace("{value}","${value}"==r.labelFormat?"$"+Number(c):Number(c)):ej.format(Number(c),r.labelFormat,this.model.locale):c);var g,l=0,p=r.orientation.toLowerCase(),b=0,C=0,T=r._opposed,D=this.model.enableCanvasRendering,L=T?l+10+(r.x+r.width):r.x+r.width;for(a=0;a<this.model._axes.length;a++)this.model._axes[a].majorTickLines.size>l&&(l=this.model._axes[a].majorTickLines.size);if(n.X>=0&&n.X<=L){var N=n.X,U=n.Y,R=$.extend({},ej.EjSvgRender.commonChartEventArgs);R.data={axisIndex:u,chartAxis:r,currentTrackText:c,location:_},this._trigger("trackAxisToolTip",R),h=ej.EjSvgRender.utils._measureText(R.data.currentTrackText,null,r.crosshairLabel.font),"horizontal"==p&&(N-=h.width/2,"inside"==r.labelPosition||(T?_.y<r.y:_.y>r.y)?(0==T&&(U=r.y-h.height+l-(r._isScroll?this.model.scrollerSize:0),g="top"),1==T&&(U=r.y+h.height-l,g="bottom")):(1==T&&(U=r.y-h.height/2-5-l,g="bottom"),0==T&&(U=r.y+h.height-5+l,g="top")),b=5,U+=r._isScroll?r.opposedPosition?-this.model.scrollerSize:this.model.scrollerSize:0),!T&&N+h.width>this.model.m_AreaBounds.Width+this.model.m_AreaBounds.X&&(N=this.model.m_AreaBounds.Width+this.model.m_AreaBounds.X-h.width+5+this.model.elementSpacing),"vertical"==p&&(U=n.Y+h.height/4,"inside"==r.labelPosition||!T&&_.x<r.x?(1==T&&(N=r.x-h.width+5-l,g="left"),0==T&&(N=r.x+10+(r._isScroll?this.model.scrollerSize:0),g="right")):(1==T&&(N=h.width+r.x>$(this.svgObject).width()-5?$(this.svgObject).width()-h.width-5:r.x+15,g="left"),0==T&&(N=h.width>r.x?10:r.x-h.width-l,g="right")),N+=r._isScroll?r.opposedPosition?this.model.scrollerSize:-this.model.scrollerSize:0,C=5);var V={id:this.svgObject.id+"_AxisToolTipText_"+u,x:N-C,y:U+b,fill:r.crosshairLabel.font.color,"font-size":r.crosshairLabel.font.size,"font-family":r.crosshairLabel.font.fontFamily,"font-style":r.crosshairLabel.font.fontStyle,"font-weight":r.crosshairLabel.font.fontWeight,"text-anchor":"start",opacity:r.crosshairLabel.font.opacity},A=ej.EjSvgRender.utils._measureText(R.data.currentTrackText,this.model.m_AreaBounds.Width,r.crosshairLabel.font),z=r.crosshairLabel,oe={x:(N-=5)-C,y:(U-=A.height)+b,width:A.width+10,height:2*A.height-10,rx:z.rx*(D?2:1),ry:z.ry*(D?2:1)},ue=ej.EjSvgRender.utils._calculateroundedCorner(null,oe,!0,g,0,w);oe={id:this.svgObject.id+"_AxisToolTipRect_"+u,d:ue,fill:z.fill,"stroke-width":z.border.width,stroke:z.border.color},_.y<(t=this.model._axes[u]).y+t.height&&_.y>t.y||_.x<t.x+t.width&&_.x>t.x?(this.svgRenderer._setAttr($("#"+this.svgObject.id+"_AxisToolTipRect_"+u),{display:"block"}),this.svgRenderer._setAttr($("#"+this.svgObject.id+"_AxisToolTipText_"+u),{display:"block"}),oe.display="block"):(this.svgRenderer._setAttr($("#"+this.svgObject.id+"_AxisToolTipRect_"+u),{display:"none"}),this.svgRenderer._setAttr($("#"+this.svgObject.id+"_AxisToolTipText_"+u),{display:"none"}),oe.display="none"),D?(o=this.svgRenderer.createCrosshairCanvas()).ctx=o.getContext("2d"):o=this.svgRenderer,this.svgRenderer.drawPath.call(o,oe,this.gTrackAxisEle),this.svgRenderer.drawText.call(o,V,R.data.currentTrackText,this.gTrackAxisEle)}},maxWdithArrayCollection:function(n,c){for(var u,r=0,_=0,w=0,v=ej.EjSvgRender.utils._measureText,a=0,s=n.length;a<s;a++)_=(u=v(n[a],0,c)).width,w+=u.height,r=0==r||r<_?_:r;return{maxTextWidth:r,totalHeight:w}},displayTooltip:function(n,c,r){var o,l,p,g,b,T,L,I,R,V,F,A,z,N,U,J,u=this.model.crosshair,_=u.trackballTooltipSettings,w=_.rx,v=_.ry,a=_.border,s=this.model.m_AreaBounds,h=this.model.crosshair.isReversed;if(n){var oe,ue,B,H,Q=c.series,le=document.getElementById(this._id),se=($(le).offset(),(he=Q.tooltip).font?$.extend(!1,Q.font,{},he.font):Q.font),re=Q.marker.size.width/2+Q.marker.border.width+a.width+5,W=Q._isTransposed?Q.xAxis.y+re:Q.yAxis.y,fe=c.textCollection,xe=c.textOptionsCollection,O=c.groupingTextId,Z={X:(M={X:(Q._isTransposed?Q.yAxis.x:Q.xAxis.x+re)+(ee="boxandwhisker"==Q.type?c.point.boxPlotLocation[3]:c.point.location).X,Y:W+ee.Y}).X,Y:M.Y},te=document.getElementById(this._id+"_trackball_grouping_tooltip");if(this._trigger("trackToolTip",{data:{currentText:fe,location:Z}}),!ej.util.isNullOrUndefined(this.model.trackToolTip)&&""!=this.model.trackToolTip)for(t=0,C=fe.length;t<C-1;t++)""==fe[t].text&&(fe.splice(t,1),xe.splice(t,1),O.splice(t,1));for(ej.util.isNullOrUndefined(te)?(te=document.createElement("div"),B={left:Z.X,top:Z.Y,border:parseInt(a.width?a.width:1)+"px solid "+(a.color?a.color:"#000000"),background:_.fill?_.fill:"#ffffff",opacity:_.opacity,position:"absolute",height:"auto",width:"auto","border-radius":w+"px "+v+"px","pointer-events":"none"},te.setAttribute("id",this._id+"_trackball_grouping_tooltip")):B={left:Z.X,top:Z.Y},t=0,C=fe.length;t<C;t++)(H=document.createElement("span")).setAttribute("id",O[t]),o=fe[t].text,$(H).html(o+"</br>"),$(H).css(xe[t]),te.appendChild(H);l=fe.map(function(vi){return vi.text}),r=(oe=this.maxWdithArrayCollection(l,se)).maxTextWidth,ue=oe.totalHeight,B.top=Q._isTransposed?B.top:B.top-.5*ue,B.left=Q._isTransposed?B.left-.5*r:B.left,fe.length>1&&(B.top=Q._isTransposed?B.top:W+(.5*s.Height-.5*ue),B.left=Q._isTransposed?s.Width/2+s.X-.5*r:B.left),Q._isTransposed?ue+B.top>s.Y+s.Height&&(B.top-=ue+2*re):B.left+r>=s.X+s.Width&&(B.left-=r+2*(re+a.width)),B.left=Z.X==M.X?B.left:Z.X,B.top=Z.Y==M.Y?B.top:Z.Y,$(te).css(B),$(te).appendTo(this.chartContainer)}else for(p=0,g=c.length;p<g;p++){var M=c[p].Point,ee=c[p].ClosestPoint,ae=c[p].ClosestPointIndex,de=c[p].Tgap,_e=$.inArray(Q=c[p].Series,this.model._visibleSeries),Se={X1:s.X,Y1:s.Y+s.Height,X2:s.X+s.Width,Y2:s.Y},be=this.model._axes,Ce=Q._xAxisName,Pe=Q._yAxisName;for(b=0,C=be.length;b<C;b++)Ce==be[b].name?Q._isTransposed?(Se.Y1=be[b].Location.Y1,Se.Y2=be[b].Location.Y2):(Se.X1=be[b].Location.X1,Se.X2=be[b].Location.X2):Pe==be[b].name&&(Q._isTransposed?(Se.X1=be[b].Location.X1,Se.X2=be[b].Location.X2):(Se.Y1=be[b].Location.Y1,Se.Y2=be[b].Location.Y2));if(M.X="boxandwhisker"==Q.type?M.X+Se.X1:M.X,M.Y="boxandwhisker"==Q.type?M.Y+Se.Y2:M.Y,M.X>=Se.X1&&M.X<=Se.X2&&M.Y>=Se.Y2&&M.Y<=Se.Y1||n){var t,Ne,ke=this.model.requireInvertedAxes,Le=M.X+(Q.isIndicator?0:ej.util.isNullOrUndefined(Q._trackMarker)?Q.marker.size.width:Q._trackMarker.size.width)+Fe+1,je=M.Y,Ae=Q.tooltip.format,Oe=ej.util.isNullOrUndefined(Q.yAxis.roundingPlaces)?2:Q.yAxis.roundingPlaces;if(T=this.getTooltipFormat(ee,Q,_e,ae,Ae,"boxandwhisker"==c[p].Series.type&&M.outlier?M:Oe),Q.name&&Q.name.replace(" ",""),(L=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data={Location:{X:Le,Y:je},Series:Q,serIndex:_e,pointIndex:ae,currentText:T.text},this._trigger("trackToolTip",L),!L.cancel){Le=L.data.Location.X,je=L.data.Location.Y;var he,Tt,Fe=this.model.tooltipPadding,$e=de,He=(se=(he=Q.tooltip).font?$.extend(!1,Q.font,{},he.font):Q.font,ej.EjSvgRender.utils._measureText(L.data.currentText,Q.xAxis.width,se)),Be=this.getSeriesColor(ee,_e,Q),ht=(this.getTooltipOptions(Be,Q),He.width+2*Fe),nt=He.height+2*Fe,yt=ke?Q.yAxis.width:Q.xAxis.width,Dt=ke?de+M.X-ht/2:de+M.Y-nt/2,wt=ke?de+M.X+ht/2:de+M.Y+nt/2,Mt=ke?s.X:s.Y,bt=ke?s.X+s.Width:s.Y+s.Height,Pt=[],kt=this.model.financial?0:3+u.marker.border.width+(ke?u.marker.size.height:u.marker.size.width)/2+5,mt=Q.type.toLowerCase(),Zt=0==mt.indexOf("rangearea")?this.model.crosshair.marker.size.height/2:0;if(Dt>=Mt&&wt<=bt||this.model.financial){ke?M.Y-kt-r<s.Y?(I={x:M.X-ht/2+$e,y:M.Y+kt,width:ht,height:nt,rx:w,ry:v},Pt.push({X:M.X-ht/2+Fe+$e,Y:M.Y+kt+nt/2-Fe}),Tt="top"):(this.model.financial?(t=(Le=M.X-ht/2+$e)+Fe,Ne=(je=M.Y+Fe+Zt)+2*Fe,Tt="top"):(Le=M.X-ht/2+$e,je=M.Y-kt-nt,t=M.X-ht/2+Fe+$e,Ne=M.Y-kt-nt/2-Fe,Tt="bottom"),I={x:Le,y:je,width:ht,height:nt,rx:w,ry:v},Pt.push({X:t,Y:Ne})):M.X+kt+r-s.X>=yt||h?(this.model.financial?(t=(Le=M.X-ht/2)+Fe,Ne=(je=M.Y-nt-Fe-Zt)+$e+nt,Tt="bottom"):M.X-r<=this.model.m_AreaBounds.X&&h?(je=M.Y-nt/2+$e,t=(Le=M.X+kt)+Fe,Ne=M.Y+$e+nt/2,Tt="left"):(je=M.Y-nt/2+$e,t=(Le=M.X-kt-ht)+Fe,Ne=M.Y+$e+nt/2,Tt="right"),I={x:Le,y:je,width:ht,height:nt,rx:w,ry:v},Pt.push({X:t,Y:Ne})):(this.model.financial?(t=(Le=M.X-ht/2)+Fe,Ne=(je=M.Y-Zt-nt-2*Fe)+$e+nt,Tt="bottom"):(je=M.Y-nt/2+$e,t=(Le=M.X+kt)+Fe,Ne=M.Y+$e+nt/2,Tt="left"),I={x:Le,y:je,width:ht,height:nt,rx:w,ry:v},Pt.push({X:t,Y:Ne})),"object"==typeof(V=Be)&&(V=Be[1].color);var C,pt=L.data.currentText,At=ej.EjSvgRender.utils._measureText(pt,Q.xAxis.width,se).height;L.data.currentText.indexOf("<br/>")>=0&&(pt=L.data.currentText.split("<br/>"),ke?M.Y-kt-r<s.Y?Pt.push({X:M.X-ht/2+Fe+$e,Y:M.Y+kt+At/pt.length}):(this.model.financial?(t=M.X-ht/2+Fe+$e,Ne=M.Y+4*Fe+Zt):(t=M.X-ht/2+Fe+$e,Ne=M.Y-kt-nt+At/pt.length),Pt.push({X:t,Y:Ne})):(F=mt.indexOf("candle")>=0||mt.indexOf("hiloopenclose")>=0||!1,M.X+kt+r-s.X>=yt?(this.model.financial?(t=M.X-ht/2+Fe,Ne=M.Y+$e-nt-Zt+(F?0:2*Fe),I.y-=F?3*Fe:Fe,I.height+=F?2*Fe:Fe):(t=M.X-ht-kt+Fe,Ne=M.Y+$e-nt/2+At/pt.length),Pt.push({X:t,Y:Ne})):(this.model.financial?(t=M.X-ht/2+Fe,Ne=M.Y+$e-nt-Zt+(F?0:Fe),I.y-=F?2*Fe:Fe,I.height+=F?2*Fe:Fe):(t=M.X+kt+Fe,Ne=M.Y+$e-nt/2+At/pt.length),Pt.push({X:t,Y:Ne}))),At=0),z={id:this.svgObject.id+"_ToolTipText_"+_e+"_"+(A="boxandwhisker"==Q.type?p:ae),x:Pt[C=Pt.length-1].X,y:Pt[C].Y+(At=ke?At:-At)/2,fill:he.font&&he.font.color?he.font.color:"#ffffff","font-size":se.size,"font-family":se.fontFamily,"font-style":se.fontStyle,"font-weight":se.fontWeight,"text-anchor":"start",isTrackball:!0,padding:this.model.tooltipPadding},R=ej.EjSvgRender.utils._calculateroundedCorner(null,I,!0,Tt,$e),N={id:this.svgObject.id+"_gTooltip_"+_e+"_"+A,d:R,fill:_.fill?_.fill:V,"stroke-width":parseInt(_.border.width?_.border.width:0)+"px",stroke:_.border.color?_.border.color:"transparent","fill-opacity":_.opacity},this.model.enableCanvasRendering?(U=this.svgRenderer.createCrosshairCanvas()).ctx=U.getContext("2d"):U=this.svgRenderer,J=this.svgRenderer.createGroup({id:this.svgObject.id+"_gTooltip_"+_e+"_"+A}),this.svgRenderer.drawPath.call(U,N,J),this.svgRenderer.drawText.call(U,z,pt,J,se)}}0==$("#"+this.svgObject.id+"_TrackToolTip_"+_e).length&&this.svgRenderer.append($(J),this.gTrackball)}}},SmartTooltipPosition:function(n){for(var c=[[],[]],r=n.length,u=[],_=n[0].Series._isTransposed?this.model.m_AreaBounds.Width:this.model.m_AreaBounds.Height,w=this.model.tooltipPadding,v=-w,a=0;a<r;a++)c[0][a]=$.extend({},n[a].StEnd),c[1][a]={yAxis:n[a].Series._yAxisName,xAxis:n[a].Series._xAxisName,isTransposed:n[a].Series._isTransposed},u[a]=n[a].ReqInvertAxis?n[a].Point.X:n[a].Point.Y,v+=n[a].StEnd.End-n[a].StEnd.Start+w;for(this.ContinousOverlappingPoints(c[0],u),v<_&&this.verticalArrangeMents(c),a=0;a<r;a++)n[a].Tgap=this.model.financial?0:c[0][a].Start-n[a].StEnd.Start},verticalArrangeMents:function(n){for(var w,v,a,s,t,o,l,p,c=n[0],r=n[1],_=this.model.tooltipPadding,h=this.model._axes,g=c.length,b=g-1,C=0,T=0,D=h.length;b>=0;b--){for(w=r[b].isTransposed,s=r[b].yAxis,T=0;T<D;T++)s==h[T].name&&(w?(v=h[T].Location.X2,a=h[T].Location.X1):(v=h[T].Location.Y1,a=h[T].Location.Y2));if(p=(t=c[b]).End-t.Start,v<t.End)for(t.End=v-2,t.Start=t.End-p,C=b-1;C>=0;C--)l=(o=c[C]).End-o.Start,o.End>c[C+1].Start&&c[C+1].Start>a&&c[C+1].End<v&&(o.End=c[C+1].Start-_,o.Start=o.End-l)}for(b=0;b<g;b++){for(w=r[b].isTransposed,s=r[b].yAxis,T=0;T<D;T++)s==h[T].name&&(w?(v=h[T].Location.X2,a=h[T].Location.X1):(v=h[T].Location.Y1,a=h[T].Location.Y2));if(p=(t=c[b]).End-t.Start,t.Start<a)for(t.Start=a+1,t.End=t.Start+p,C=b+1;C<=g-1;C++)l=(o=c[C]).End-o.Start,o.Start<c[C-1].End&&c[C-1].Start>a&&c[C-1].End<v&&(o.Start=c[C-1].End+_,o.End=o.Start+l)}},ContinousOverlappingPoints:function(n,c){var o,l,p,g,b,r=this.model.tooltipPadding,u=0,_=0,w=0,v=0,a=n.length-1,s=n[0].End-n[0].Start+r;for(u=n[0].Start+s,w=n[0].Start,p=0;p<a;p++)if(u>=n[p+1].Start){if(u+=s=n[p+1].End-n[p+1].Start+r,++_-1==a-1||p==a-1){for(o=n[v].End-n[v].Start,n[v].Start=(c[v]+c[p+1])/2-(u-w)/2,n[v].End=n[v].Start+o,g=v;g>0&&n[g].Start<=n[g-1].End+r;g--)n[g-1].Start=n[g].Start-(l=n[g-1].End-n[g-1].Start)-r,n[g-1].End=n[g-1].Start+l;for(b=v+1;b<=v+_;b++)o=n[b].End-n[b].Start,n[b].Start=n[b-1].End+r,n[b].End=n[b].Start+o}}else{if((_=p>0?_:0)>0){for(o=n[v].End-n[v].Start,n[v].Start=(c[v]+c[p])/2-(u-w)/2,n[v].End=n[v].Start+o,g=v;g>0&&n[g].Start<=n[g-1].End+r;g--)n[g-1].Start=n[g].Start-(l=n[g-1].End-n[g-1].Start)-r,n[g-1].End=n[g-1].Start+l;for(b=v+1;b<=v+_;b++)o=n[b].End-n[b].Start,n[b].Start=n[b-1].End+r,n[b].End=n[b].Start+o;_=0}u=n[p+1].Start+(s=n[p+1].End-n[p+1].Start+r),w=n[p+1].Start,v=p+1}},getTooltipOptions:function(n,c){var r,u,_,w,v,a;return this.model.theme.indexOf("gradient")>=0?(r="array"==jQuery.type(n)?n[0].color:n,u="white",v="#333333",_=5,w=5):(-1==(a=c.type.toLowerCase()).indexOf("column")&&-1==a.indexOf("waterfall")&&-1==a.indexOf("bar")&&-1==a.indexOf("box")&&"rangearea"!=a&&"none"!=this.model.AreaType?(u="array"==jQuery.type(n)?n[0].color:n,r="transparent",v="white"):(r="#333333",u="white",v="#333333"),_=0,w=0),{rectBColor:r,rectFColor:u,rectTextColor:v,rectX:_,rectY:w}},getSeriesColor:function(n,c,r){return!r||r.isIndicator||r.isTrendLine?r.fill:n._hiloFill?n._hiloFill._gradientStop?n._hiloFill._gradientStop[0].color:n._hiloFill:n.fill?n.fill._gradientStop?n.fill._gradientStop[0].color:n.fill:"waterfall"==r.type.toLowerCase()&&r.positiveFill&&(n.y>0&&!n.showIntermediateSum&&!n.showTotalSum||n.waterfallSum>0)?r.positiveFill:this.model.seriesColors[c]},getFormat:function(n,c){if(!n.tooltip.format){var r=n.type.toLowerCase(),u="boxandwhisker"!=n.type?"null":c.outlier;return r.indexOf("range")>-1||r.indexOf("hilo")>-1&&-1==r.indexOf("open")?"#point.x# <br/> High : #point.high# <br/> Low : #point.low#":r.indexOf("candle")>-1||r.indexOf("open")>-1?"#point.x# <br/> High : #point.high# <br/> Low : #point.low# <br/> Open : #point.open# <br/> Close : #point.close#":r.indexOf("bubble")>-1?"#point.x# : #point.y# : #point.size#":r.indexOf("box")>-1&&u?"X : #boxPlotPoints.xValue#  Y : #boxPlotPoints.YValues#":r.indexOf("box")>-1?"Minimum : #boxPlotPoints.Minimum# <br/> Upper Quartile : #boxPlotPoints.UpperQuartile# <br/> Median : #boxPlotPoints.midvalue# <br/> Lower Quartile : #boxPlotPoints.LowerQuartile# <br/> Maximum : #boxPlotPoints.Maximum#  ":"#point.x# : #point.y#"}return n.tooltip.format},getTooltipFormat:function(n,c,r,u,_,w){var L,I,R,V,F,A,z,N,U,ue,le,ne,v=$.extend(!0,{},n),a=this.model.AreaType,s=this.model.locale,h=c.xAxis,t=c.yAxis,o=h._valueType.toLowerCase(),l=ej.util.isNullOrUndefined,p=h.labelFormat,g=t.labelFormat,b=ej.EjSvgRender.utils._dateTimeLabelFormat,T=(ej,!1),D=!1;for(c.count=1,v.count=1,_=this.getFormat(c,w);_.indexOf("ej.format(")>=0;)"#point.x#"==(ue=(F=_.substring(_.indexOf("ej.format("),_.indexOf(")")+1)).substring(F.indexOf("(")+1,F.indexOf(",")))?(T=!0,L=F.substring(F.indexOf(",")+1,F.indexOf(")"))):"#point.y#"==ue?(D=!0,I=F.substring(F.indexOf(",")+1,F.indexOf(")"))):(A=F.substring(F.indexOf(",")+1,F.indexOf(")")),N=(z=ue.substring(ue.indexOf("#")+1)).substring(z.indexOf(".")+1,z.indexOf("#")),v.hasOwnProperty(N)&&v[N]&&(v[N]=ej.format(v[N],A,s))),_=_.replace(F,ue);if("cartesianaxes"==a?"datetime"==o.toLowerCase()?(v.x=ej.format(new Date(v.xValue),l(p)?b(h._intervalType,h):c.xAxis.labelFormat,s),v.x=T?ej.format(new Date(v.xValue),L,s):v.x):"datetimecategory"==o.toLowerCase()?(v.x=ej.format(new Date(v.x),l(p)?b(h.intervalType,h):h.labelFormat,s),v.x=T?ej.format(new Date(v.x),L,s):v.x):"category"==o.toLowerCase()?v.x=this.model.primaryXAxis.isIndexed?v.x?v.x:"undefined":ej.EjSvgRender.utils._getLabelContent(v.xValue,c.xAxis,s):(v.x=!T||0!=L.indexOf("e")&&0!=L.indexOf("E")?T?ej.format(v.x,L,s):v.x:this.convertExponential(U,6,20,v.x,L),R=p?p.match("{value}"):null,v.x=p?null!=R?p.replace("{value}","${value}"==p?"$"+v.x:v.x):T||0==p.indexOf("e")||0==p.indexOf("E")?v.x:ej.format(Number(v.x),p,s):v.x):"date"==o&&(v.x=ej.format(new Date(v.xValue),b("days"),s),v.x=T?ej.format(new Date(v.xValue),L,s):v.x),!D||0!=I.indexOf("e")&&0!=I.indexOf("E")?(v.y=v.waterfallSum?v.waterfallSum:v.y,v.y=D?ej.format(v.y,I,s):v.y):v.y=this.convertExponential(void 0,6,20,v.y,I),R=g?g.match("{value}"):null,v.y=g?null!=R?g.replace("{value}","${value}"==g?"$"+v.y:v.y):D||0==g.indexOf("e")||0==g.indexOf("E")?v.y:ej.format(Number(v.y),g,s):v.y,("none"==a||"polaraxes"==a)&&T&&(0==L.indexOf("e")||0==L.indexOf("E"))&&(v.x=this.convertExponential(U,6,20,v.x,L)),c.isStacking&&"area"==c.drawType&&("polar"==c.type||"radar"==c.type)&&(v.y=c.stackedValue.EndValues[u]-c.stackedValue.StartValues[u]),"boxandwhisker"==c.type.toLowerCase()){if(le=c._visiblePoints[u].boxPlotValues,1==w.outlier)for(ne=0;ne<le.outliers.length;ne++)w.YValues==le.outliers[ne]&&(w.YValues=g?null!=R?g.replace("{value}","${value}"==g?"$"+w.YValues:w.YValues):D||0==g.indexOf("e")||0==g.indexOf("E")?w.YValues:ej.format(Number(w.YValues),g,s):w.YValues);else w.YValues==le.Minimum?le.Minimum=g?null!=R?g.replace("{value}","${value}"==g?"$"+le.Minimum:le.Minimum):D||0==g.indexOf("e")||0==g.indexOf("E")?le.Minimum:ej.format(Number(le.Minimum),g,s):le.Minimum:w.YValues==le.Maximum?le.Maximum=g?null!=R?g.replace("{value}","${value}"==g?"$"+le.Maximum:le.Maximum):D||0==g.indexOf("e")||0==g.indexOf("E")?le.Maximum:ej.format(Number(le.Maximum),g,s):le.Maximum:w.YValues==le.UpperQuartile?le.UpperQuartile=g?null!=R?g.replace("{value}","${value}"==g?"$"+le.UpperQuartile:le.UpperQuartile):D||0==g.indexOf("e")||0==g.indexOf("E")?le.UpperQuartile:ej.format(Number(le.UpperQuartile),g,s):le.UpperQuartile:w.YValues==le.LowerQuartile?le.LowerQuartile=g?null!=R?g.replace("{value}","${value}"==g?"$"+le.LowerQuartile:le.LowerQuartile):D||0==g.indexOf("e")||0==g.indexOf("E")?le.LowerQuartile:ej.format(Number(le.LowerQuartile),g,s):le.LowerQuartile:w.YValues==le.midvalue&&(le.midvalue=g?null!=R?g.replace("{value}","${value}"==g?"$"+le.midvalue:le.midvalue):D||0==g.indexOf("e")||0==g.indexOf("E")?le.midvalue:ej.format(Number(le.midvalue),g,s):le.midvalue);le.count=c.count,le.xValue=v.x,le.YValues=w.YValues,V={boxPlotPoints:le}}else V={series:c,point:v};return{data:v,text:_=_.parseTemplate(V)}},convertExponential:function(n,c,r,u,_){return n=_.match(/(\d+)/g),u.toExponential(n=null==n?c:n>r?r:n)},displayShowTooltip:function(n,c,r,u){var v,a,h,o,l,p,g,b,C,T,D,L,I,R,F,A,_=this.model.requireInvertedAxes,w=r.tooltip.isReversed;if(!1!==c.visible){$(".ejTooltip"+this._id).not("#"+this.svgObject.id+"_TrackToolTip").remove(),$.finish?$(".ejTooltip"+this._id).finish():$(".ejTooltip"+this._id).stop(!0,!0);var z,N,J,ue,le,ne,U=r.isIndicator||r.isTrendLine?0:$.inArray(r,this.model._visibleSeries),H=7,he=r.tooltip.format,se=document.getElementById(this.svgObject.id).getClientRects()[0],ee=this.model.m_AreaBounds,re=r.type.toLowerCase();switch(this.model.AreaType){case"cartesianaxes":ue=w?n.X-(r.isIndicator||r.isTrendLine?0:ej.util.isNullOrUndefined(r._trackMarker)?"bubble"==re?c.radius+15:r.marker.size.width:r._trackMarker.size.width)+("column"==re||"bar"==re||"stackingbar"==re||"stackingcolumn"==re||"waterfall"==re||"rangecolumn"==re?ee.X:_?r.yAxis.x:r.xAxis.x):n.X+(r.isIndicator||r.isTrendLine?0:ej.util.isNullOrUndefined(r._trackMarker)?"bubble"==re?c.radius+15:r.marker.size.width:r._trackMarker.size.width)+("column"==re||"bar"==re||"stackingbar"==re||"stackingcolumn"==re||"waterfall"==re||"rangecolumn"==re?ee.X:_?r.yAxis.x:r.xAxis.x),le=n.Y+(-1!=re.indexOf("column")||-1!=re.indexOf("waterfall")||-1!=re.indexOf("bar")||-1!=re.indexOf("rangearea")||"scatter"==re||"bubble"==re?this.dragPoint?_?r.xAxis.y:r.yAxis.y:ee.Y:_?r.xAxis.y:r.yAxis.y),this.dragPoint&&(ue=ue>r.xAxis.x?ue:r.xAxis.x,le=le<r.yAxis.height+r.yAxis.y?le:r.yAxis.height+r.yAxis.y),J=this.getSeriesColor(c,U,r);break;case"polaraxes":ue=w?n.X-H+(ej.util.isNullOrUndefined(r._trackMarker)?r.marker.size.width:r._trackMarker.size.width):n.X+H+(ej.util.isNullOrUndefined(r._trackMarker)?r.marker.size.width:r._trackMarker.size.width),le=n.Y,J=this.getSeriesColor(c,U,r);break;case"none":ue=w?n.X-r.marker.size.width+H:n.X+r.marker.size.width+H,le=n.Y,J=this.model.pointColors[u]}if("boxandwhisker"==r.type.toLowerCase())for(v=0;v<r._visiblePoints[u].boxPlotLocation.length;v++)(a=r._visiblePoints[u].boxPlotLocation[v]).outlier?a.X+r.outlierSettings.size.width/2>n.X&&a.X-r.outlierSettings.size.width/2<n.X&&a.Y+r.outlierSettings.size.height/2>n.Y&&a.Y-r.outlierSettings.size.height/2<n.Y&&(ne=this.getTooltipFormat(c,r,U,u,he,a),ej.EjSvgRender.utils._measureText(ne.text)):(ne=this.getTooltipFormat(c,r,U,u,he,a),ej.EjSvgRender.utils._measureText(ne.text));else ne=this.getTooltipFormat(c,r,U,u,he),ej.EjSvgRender.utils._measureText(ne.text);var B,W=this.getTooltipOptions(J,r),pe=W.rectBColor,M=W.rectFColor,fe=W.rectTextColor,xe=W.rectX,O=W.rectY,t=r.tooltip;if(H=5,B=null==document.getElementById(this.svgObject.id+"_TrackToolTip")?$("<div></div>").attr({id:this.svgObject.id+"_TrackToolTip",class:"ejTooltip"+this._id}):$("#"+this.svgObject.id+"_TrackToolTip"),h=!!navigator.userAgent.match(/Trident\/7\./),!ej.isTouchDevice()||h||this.vmlRendering?this._on(B,"mousemove",this.chartTooltipHover):window.navigator.msPointerEnabled?this._on(B,"MSPointerMove",this.chartTooltipHover):this._on(B,"touchmove",this.chartTooltipHover),$("#"+this.svgObject.id+"_TrackToolTip").show(),N=$("#"+this._id).parent()[0].style.zIndex,t={top:le+$(document).scrollTop(),left:ue+$(document).scrollLeft(),"background-color":t.fill?t.fill:M,"border-style":"solid",position:"absolute","border-color":t.border.color?t.border.color:pe,"border-width":t.border.width||0==t.border.width?t.border.width:1,opacity:t.opacity,"z-index":N+1e6,"border-radius":(t.rx?t.rx:xe).toString()+"px "+(t.ry?t.ry:O).toString()+"px","padding-left":"5px","padding-right":"5px","padding-top":"2px","padding-bottom":"2px"},$(B).css(t),(o=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data={seriesIndex:U,pointIndex:u,currentText:ne.text,isTrendLine:r.isTrendLine,trendlineIndex:r.trendlineIndex},this._trigger("toolTipInitialize",o),!o.cancel){var te=r.tooltip,ae=te.font?$.extend(!1,r.font,{},te.font):r.font,de={top:le+$(document).scrollTop(),left:ue+$(document).scrollLeft(),color:te.font&&te.font.color?ae.color:fe,"font-size":ae.size,"font-family":ae.fontFamily,"font-style":ae.fontStyle,"font-weight":ae.fontWeight,"align-self":"baseline"};for($(B).css(de),null==document.getElementById(this.svgObject.id+"_TrackToolTip")&&$(document.body).append(B[0]),l=z=o.data.currentText,$("#"+this.svgObject.id+"_TrackToolTip").html(l),p=0,g=0,l=(l=l.replace(/<br >/g,"<br/>").replace(/<br \/>/g,"<br/>").replace(/<br>/g,"<br/>")).split("<br/>"),b=0;b<l.length;b++)for(C=(C=l[b]).split("</tr>"),T=0;T<C.length;T++)D=(D=this.RemoveTableAttr(D=C[T])).replace(/&nbsp;/g," "),p+=ej.EjSvgRender.utils._measureText(D,null,ae).height,g<(L=ej.EjSvgRender.utils._measureText(D,null,ae).width)&&(g=L);"cartesianaxes"==this.model.AreaType?ej.EjSvgRender.utils._measureText(z,r.xAxis.width,ae):ej.EjSvgRender.utils._measureText(l,null,ae);var _e="cartesianaxes"==this.model.AreaType?this.model.requireInvertedAxes?r.yAxis.width:r.xAxis.width:$(this.svgObject).width()-("right"==this.model.legend.position.toLowerCase()?this.model.LegendViewerBounds.Width+2*this.model.elementSpacing:0),Se="cartesianaxes"==this.model.AreaType?this.model.requireInvertedAxes?r.xAxis.height:r.yAxis.height:$(this.svgObject).height()-("bottom"==this.model.legend.position.toLowerCase()?this.model.LegendViewerBounds.Height+this.model.elementSpacing:0),be=$("#"+this.svgObject.id+"_TrackToolTip")[0].getBoundingClientRect(),Ce=this.getScaleValues(this);$("#"+this.svgObject.id+"_TrackToolTip").css("top",$(document).scrollTop()+be.top*Ce.y+se.top-(p+4)/2),$("#"+this.svgObject.id+"_TrackToolTip").css("left",$(document).scrollLeft()+be.left*Ce.x+se.left+(be.left-ue)),ue+(g+H)>=_e+r.xAxis.x&&!w&&(R=document.getElementById(this.svgObject.id).getClientRects()[0],A=ue*Ce.x-(g+2*H+(r.isIndicator||r.isTrendLine?0:ej.util.isNullOrUndefined(r._trackMarker)?r.marker.visible?r.marker.size.width:"bubble"==re?c.radius+15:0:r._trackMarker.size.width)+2*H),$("#"+this.svgObject.id+"_TrackToolTip").css("left",A+R.left-H+$(document).scrollLeft())),((be=$("#"+this.svgObject.id+"_TrackToolTip")[0].getBoundingClientRect()).bottom>=r.yAxis.y+Se+se.top||be.bottom>=r.xAxis.y+Se+se.top)&&(I=le-(be.bottom-be.top*Ce.y+(r.isIndicator||r.isTrendLine?0:ej.util.isNullOrUndefined(r._trackMarker)?r.marker.visible?r.marker.size.height:0:r._trackMarker.size.height))+H+se.top,$("#"+this.svgObject.id+"_TrackToolTip").css("top",I+$(document).scrollTop())),(be=$("#"+this.svgObject.id+"_TrackToolTip")[0].getBoundingClientRect()).left<0&&(R=document.getElementById(this.svgObject.id).getClientRects()[0],n.X<ee.Width/2?$("#"+this.svgObject.id+"_TrackToolTip").css("left",ue+se.left):($("#"+this.svgObject.id+"_TrackToolTip").css("width",be.right-2*H),$("#"+this.svgObject.id+"_TrackToolTip").css("left",0))),(be.top<se.top||be.top<0)&&$("#"+this.svgObject.id+"_TrackToolTip").css("top",(se.top<0?$(document).scrollTop():se.top)+"px"),w&&(F=be.right-be.left,$("#"+this.svgObject.id+"_TrackToolTip").css("left",be.x-F),be.x<r.xAxis.x&&(A=g+2*H+(r.isIndicator||r.isTrendLine?0:ej.util.isNullOrUndefined(r._trackMarker)?r.marker.visible?r.marker.size.width:"bubble"==re?c.radius+15:0:r._trackMarker.size.width)+2*H,$("#"+this.svgObject.id+"_TrackToolTip").css("left",be.x+A))),$("#"+this.svgObject.id+"_TrackToolTip").show()}}},RemoveTableAttr:function(n){var c,r,u;for((-1!=n.indexOf("<table>")||-1!=n.indexOf("</table>")||-1!=n.indexOf("<td>")||-1!=n.indexOf("</td>")||-1!=n.indexOf("<tr>"))&&(n=n.replace(/\//g,"").replace(/<table>/g,"").replace(/<th>/g,"").replace(/<tr>/g,"").replace(/<td>/g,""));n.search(/<td/i)>-1;)if(n.search(/<tr/)>-1)n=n.slice(n.search(/<td/i));else if(n.search(/<td/)>-1&&n.indexOf(">")>n.search(/<td/)){for(c=(n=n.slice(n.indexOf(">")+1)).split("<td"),r=0;r<c.length;r++)c[r]=(u=c[r]).indexOf(">")>-1?u.slice(u.indexOf(">")+1):u;n=c.join("")}return n},chartTooltipHover:function(n){var _,c=$("#"+n.target.id)[0].getBoundingClientRect(),r=n.clientX-c.left;$("#"+n.target.id).css("left",c.left+r+5),c=$("#"+n.target.id)[0].getBoundingClientRect(),_=document.getElementById(this.svgObject.id).getClientRects()[0],c.right>_.right+5&&$("#"+n.target.id).css("left",n.clientX-(c.right-c.left)-5)},_initializeSeriesColors:function(){var _,w,v,a,s,h,o,l,p,g,b,n=this,c=n.model.palette?n.model.palette:n.model.colors,r=c.length,u=n.model.AreaType;if(n.model.seriesColors=[],n.model.seriesBorderColors=[],n.model.pointColors=[],n.model.pointBorderColors=[],h=n.model._visibleSeries.length,"none"!=u)_=n.model._visibleSeries,w=n.model.seriesColors,v=n.model.seriesBorderColors;else{for(p=0,b=0;b<h;b++)l=n.model._visibleSeries[b].type.toLowerCase(),n.model._visibleSeries[b].points.length>p?(p=n.model._visibleSeries[b].points.length,o=n.model._visibleSeries[b].points):n.model._visibleSeries[b].points.length==p&&"funnel"!=l&&"pieofpie"!=l&&"pyramid"!=l&&(o=n.model._visibleSeries[b].points);_=o||[],w=n.model.pointColors,v=n.model.pointBorderColors}if("none"==u&&h>1)for(g=0;g<h;g++)n.model.seriesColors[g]=c[g%r];for(b=0;b<_.length;b++)s=(a=_[b]).trendlines,a.isFill=null==a.isFill?!(!a.fill||""==a.fill):a.isFill,a.isFill?w[b]=a.fill:(w[b]=c[b%r],a._hiloTypes||(a.fill=w[b])),"none"!=u&&s.length>0&&this._initializeTrendlinesColors(s,w[b]),ej.util.isNullOrUndefined(a.border)||ej.util.isNullOrUndefined(a.border.color)||""==a.border.color?(v[b]=n.model.seriesBorderDefaultColors[b%10],"none"!=u&&(a.border.color=v[b])):v[b]=a.border.color,a.dataPoint=a.points,a.trendLine=a.trendlines},_initializeTrendlinesColors:function(n,c){for(var r in n)(ej.util.isNullOrUndefined(n[r].fill)||""==n[r].fill)&&(n[r].fill=c)},_createAxisLabelAndRange:function(){for(var n,c,r,a,p,u=0,_=this.model,w=_.series,v=w.length,o=_.primaryXAxis,l=_.primaryYAxis,g=0;g<v;g++)w[g]._isTransposed&&"polaraxes"!=this.model.AreaType&&u++;for(v&&(u==v||w[0]._isTransposed&&"polaraxes"!=this.model.AreaType)&&(_.requireInvertedAxes=!0),_.requireInvertedAxes?(l.orientation="horizontal",o.orientation="vertical",l.labelPlacement=l.labelPlacement?l.labelPlacement:ej.datavisualization.Chart.LabelPlacement.OnTicks):(l.orientation="vertical",o.orientation="horizontal"),l.name=ej.util.isNullOrUndefined(l.name)?"SecondaryAxis":l.name,o.name=ej.util.isNullOrUndefined(o.name)?"PrimaryAxis":o.name,_._axes=[],_._axes[0]=o,_._axes[1]=l,p=_.axes.length,a=_.indicators,g=0;g<p;g++)if((t=_.axes[g]).name){for(n=0;n<v;n++){if(c=w[n].type.toLowerCase(),w[n].xAxisName==t.name){t.orientation=-1!=c.indexOf("bar")?w[n].isTransposed?"horizontal":"vertical":w[n].isTransposed?"vertical":"horizontal";break}if(w[n].yAxisName==t.name){t.orientation=-1!=c.indexOf("bar")?w[n].isTransposed?"vertical":"horizontal":w[n].isTransposed?"horizontal":"vertical";break}}for(r=0;r<a.length;r++){if(a[r].xAxisName==t.name){t.orientation="horizontal";break}if(a[r].yAxisName==t.name){t.orientation="vertical";break}}if(!t.orientation)continue;_.axes[g]="horizontal"==t.orientation.toLowerCase()?$.extend(!0,{},_.secondaryX,t):$.extend(!0,{},_.secondaryY,t),_._axes.push(_.axes[g])}for(r=0;r<_._axes.length;r++){var t,b=(t=this.model._axes[r]).scrollbarSettings,h=b.range;t.orientation.toLowerCase(),t.visibleLabels=[],t.range=null==t.range.min&&null==t.range.max&&null==t.range.interval?null:t.range,t.setRange=!!t.range&&(!!ej.util.isNullOrUndefined(t.setRange)||t.setRange),t.setRange=!(!t.actual_Range&&0==t.setRange),t.actualRange=t.actualRange?t.actualRange:null==t.range?{}:$.extend(!0,{},t.range),t.visibleRange=t.visibleRange?t.visibleRange:null==t.range?{}:t.range,t.name=t.name?t.name:r.toString(),t._isScroll=b.visible&&(null!=b.pointsLength||null!=h.min||null!=h.max)||_.zooming.enableScrollbar&&b.visible&&(t.zoomFactor<1||t.zoomPosition>0),t._pointsLength=b.pointsLength,"string"==typeof h.min&&-1!=h.min.indexOf("/Date(")&&(h.min=new Date(parseInt(h.min.substr(6)))),"string"==typeof h.max&&-1!=h.max.indexOf("/Date(")&&(h.max=new Date(parseInt(h.max.substr(6))))}},_drawTitle:function(){var l,V,F,A,z,N,J,n=this.model.title,w=this.model.margin,c=$(this.svgObject).width(),r=ej.EjSvgRender.utils._measureText(n.text,c-w.left-w.right,n.font),u=this.model.elementSpacing,_=""!=n.text&&n.visible?r.height+u:0,v=this.model.m_AreaBounds,a=this.model.AreaType,s="left"==this.model.legend.position.toLowerCase()?this.model.LegendViewerBounds.Width/2:"right"==this.model.legend.position.toLowerCase()?-this.model.LegendViewerBounds.Width/2:0,h=w.left+u+this.model.border.width,t=w.right+u+this.model.border.width,o=this.model.titleWrapTextCollection,p=parseInt(n.font.size),g=1.2*parseInt(n.font.size),b=n.enableTrim,C=n.maximumWidth,D=(n.textAlignment.toLowerCase(),n.textOverflow.toLowerCase()),L=n.text,I=n.isReversed,R=!(!b||"wrap"!=D&&"wrapandtrim"!=D||!(o.length>1));if("auto"==C.toString()||""==C.toString()?this.model.titleMaxWidth=C=.75*v.Width:C=parseInt(C),V=r.width>C,b&&V&&"trim"==D&&(L=ej.EjSvgRender.utils._trimText(L,C,n.font),this.model.titleTrim=r=ej.EjSvgRender.utils._measureText(L,c-w.left-w.right,n.font),this.model.trimTooltip=!0),this.model.trimTooltip&&"wrap"==D&&(this.model.trimTooltip=!1),F={width:this.model.trimTooltip&&R||o.length>1?this.model.titleMaxWidth:r.width,height:r.height*(o.length>0?o.length-1:1)},""!=n.text&&null!=n.text){if(l="transparent"==n.border.color&&"transparent"==n.background?w.top+_/2+u:w.top+g/2+u+p/4,A=("cartesianaxes"!=a?(c-w.left-w.right)/2+(w.left+s):h+(c-t)/2)-F.width/2,"near"==this.model.title.textAlignment.toLowerCase()?A=I?c-t-r.width:h:"far"==this.model.title.textAlignment.toLowerCase()&&(A=I?h:c-t-F.width),(z=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data={title:L,location:{x:A,y:l},size:r},this._trigger("titleRendering",z),N={id:this.svgObject.id+"_ChartTitleText",x:z.data.location.x,y:z.data.location.y,fill:n.font.color,"font-size":n.font.size,"font-family":n.font.fontFamily,"font-style":n.font.fontStyle,"font-weight":n.font.fontWeight,opacity:n.font.opacity,"text-anchor":"start"},this.svgRenderer.drawRect({id:this.svgObject.id+"_ChartTitleBorder",x:z.data.location.x-u,y:z.data.location.y-g+g/4,rx:n.border.cornerRadius,ry:n.border.cornerRadius,width:R&&V?this.model.titleMaxWidth+2*u:r.width+2*u,height:R&&V?r.height*o.length:g,fill:n.background,"stroke-width":n.border.width,stroke:n.border.color,opacity:n.border.opacity,class:"e-titleborder"},this.gTitleEle),R&&V)for(J=0;J<o.length;J++)N.id=this.svgObject.id+"_ChartTitleText_"+J,0!=J&&(N.y=N.y+r.height),this.svgRenderer.drawText(N,o[J],this.gTitleEle);else this.svgRenderer.drawText(N,z.data.title,this.gTitleEle);this.model._titleLocation={X:z.data.location.x,Y:z.data.location.y,size:F,_height:r.height},this.svgRenderer.append(this.gTitleEle,this.svgObject),""!=n.subTitle.text&&n.subTitle.text&&n.subTitle.visible&&this._drawSubTitle()}},_getLegendSize:function(n){var r=this.model.legend.itemStyle,u=ej.EjSvgRender.utils._measureText(n.Text,null,n.Font);return{Width:r.width+10+u.width,Height:Math.max(r.height,u.height)}},_getYValues:function(n){for(var c=[],r=n.length,u=0;u<r;u++)c.push(n[u].y);return c},_getXValues:function(n){for(var c=[],r=n.length,u=0;u<r;u++)c.push(n[u].xValue);return c},_drawSubTitle:function(){var a,z,oe,ue,ne,he,n=this.model.title,c=n.isReversed,r=n.subTitle,u=$(this.svgObject).width(),_=ej.EjSvgRender.utils._measureText(n.text,u-this.model.margin.left-this.model.margin.right,n.font),w=ej.EjSvgRender.utils._measureText(r.text,u-this.model.margin.left-this.model.margin.right,r.font),v="middle",h=this.model.elementSpacing,t=parseInt(r.font.size),o=this.model.m_AreaBounds.Width,l=1.2*parseInt(n.font.size),p=1.2*parseInt(r.font.size),g=""!=r.text&&r.visible?w.height+h:0,b=r.enableTrim,C=r.maximumWidth,T=n.maximumWidth,D=r.textOverflow.toLowerCase(),I=(n.textAlignment.toLowerCase(),r.textAlignment.toLowerCase()),R=n.text,V=n.enableTrim,F=n.textOverflow.toLowerCase(),A=r.text,N=!(!V||"wrap"!=F&&"wrapandtrim"!=F),J=!(!b||"wrap"!=D&&"wrapandtrim"!=D);if(T="auto"==T.toString()||""==T.toString()?.75*o:parseInt(T),C="auto"==C.toString()||""==C.toString()?.75*o:parseInt(C),_=ej.EjSvgRender.utils._measureText(n.text,u-this.model.margin.left-this.model.margin.right,n.font),b&&w.width>C&&"trim"==D&&(R=V&&"trim"==F?ej.EjSvgRender.utils._trimText(R,T,n.font):R,A=ej.EjSvgRender.utils._trimText(A,C,r.font),_=ej.EjSvgRender.utils._measureText(R,$(this.svgObject).width()-this.model.margin.left-this.model.margin.right,n.font),w=ej.EjSvgRender.utils._measureText(A,$(this.svgObject).width()-this.model.margin.left-this.model.margin.right,r.font),this.model.subTitleTooltip=!0),""!=A&&null!=A){a="transparent"==this.model.title.border.color&&"transparent"==this.model.title.background||"transparent"==this.model.title.subTitle.border.color&&"transparent"==this.model.title.subTitle.background?g/2+h+this.model._titleLocation.Y+this.model._titleLocation._height*(this.model.titleWrapTextCollection?this.model.titleWrapTextCollection.length-1:0):p/2+10+h+(N&&_.width>T?_.height*this.model.titleWrapTextCollection.length:l)+10+t/3,oe=this.model._titleLocation.X+this.model._titleLocation.size.width/2,"near"==I?(oe=z=c?this.model._titleLocation.X+this.model._titleLocation.size.width:this.model._titleLocation.X,v=c?"end":"start"):"far"==I&&(oe=c?this.model._titleLocation.X:this.model._titleLocation.X+this.model._titleLocation.size.width,v=c?"start":"end"),(ue=$.extend({},ej.EjSvgRender.commonChartEventArgs)).data={subTitle:A,location:{x:oe,y:a},size:w},this._trigger("subTitleRendering",ue);var ee={id:this.svgObject.id+"_ChartSubTitleText",x:ue.data.location.x,y:"transparent"==n.border.color&&"transparent"==n.background||"transparent"==n.subTitle.border.color&&"transparent"==n.subTitle.background?ue.data.location.y:ue.data.location.y-h/2,fill:r.font.color,"font-size":r.font.size,"font-family":r.font.fontFamily,"font-style":r.font.fontStyle,"font-weight":r.font.fontWeight,opacity:r.font.opacity,"text-anchor":v},pe=ue.data.location.x;if(this.svgRenderer.drawRect({id:this.svgObject.id+"_ChartSubTitleBorder",x:"start"==v?pe-h:"end"==v?J?pe-h-this.model.subTitleMaxWidth:pe-h-w.width:J?pe-h-this.model.subTitleMaxWidth/2:pe-h-w.width/2,y:"transparent"==n.border.color&&"transparent"==n.background||"transparent"==r.border.color&&"transparent"==r.background?ue.data.location.y-p+p/4:ue.data.location.y-p+p/4-h/2,rx:r.border.cornerRadius,ry:r.border.cornerRadius,width:J?this.model.subTitleMaxWidth+2*h:w.width+2*h,height:J?w.height*this.model.subTitleWrapTextCollection.length:p,fill:r.background,"stroke-width":r.border.width,stroke:r.border.color,opacity:r.border.opacity,class:"e-subtitleborder"},this.gSubTitleEle),J&&w.width>C)for(ne=0;ne<this.model.subTitleWrapTextCollection.length;ne++)ee.id=this.svgObject.id+"_ChartSubTitleText_"+ne,0!=ne&&(ee.y=ee.y+w.height),this.svgRenderer.drawText(ee,this.model.subTitleWrapTextCollection[ne],this.gSubTitleEle);else this.svgRenderer.drawText(ee,ue.data.subTitle,this.gSubTitleEle);he={width:this.model.subTitleTooltip?C:w.width,height:w.height*this.model.subTitleWrapTextCollection.length},"middle"==v?z=oe-he.width/2:"end"==v&&(z=oe-he.width),this.model._subTitleLocation={X:z,Y:ue.data.location.y-w.height/2,size:he},this.svgRenderer.append(this.gSubTitleEle,this.gTitleEle)}},_calculateStackingValues:function(n,c,r){var _,w,v,a,u=this.model;u.stackedValue[c.name]=[],(_=u.stackedValue[c.name]).min=0,_.max=0;var t,o,l,g,T,s=u.requireInvertedAxes?u.vAxes:u.hAxes,h=s.length,I=ej.util.isNullOrUndefined;for(w=0;w<h;w++){a=0;var A,b=[],C=[],R=[],V=[],F=0;for(v=0;v<n.length;v++)if(n[v]._xAxisName==s[w].name&&(-1!=n[v].type.toLowerCase().indexOf("stacking")||n[v].isStacking)){for((T={}).StartValues=[],T.EndValues=[],(l=n[v].stackingGroup)&&"stackingarea"!=n[v].type.toLowerCase()||(l=""),I(b[l])&&(b[l]=[],C[l]=[],R[l]=[],V[l]=[]),"number"!=typeof(F=this._getXCrossValue(A=n[v],s[w],r))&&(F=0),g=ej.EjSeriesRender.prototype._isVisiblePoints(A),o=this._getYValues(A._visiblePoints),t=g.length,a=0;a<t;a++){var D=0,L=o[a];I(b[l][A._visiblePoints[a].xValue])&&(b[l][A._visiblePoints[a].xValue]=F),I(C[l][A._visiblePoints[a].xValue])&&(C[l][A._visiblePoints[a].xValue]=F),T.StartValues.length<=a&&(T.StartValues.push(0),T.EndValues.push(0)),L>=0?(R[l][a]=null==R[l][a],L-=R[l][a]&&F,D=-1!=A.type.toLowerCase().indexOf("stacking")||L>0?b[l][A._visiblePoints[a].xValue]:0,b[l][A._visiblePoints[a].xValue]+=L,T.StartValues[a]=D+(D<F?F-D:0),T.EndValues[a]=L+D):(V[l][a]=null==V[l][a],D=C[l][A._visiblePoints[a].xValue],C[l][A._visiblePoints[a].xValue]+=L-=V[l][a]&&F,T.StartValues[a]=D,T.EndValues[a]=L+D,F<T.EndValues[a]&&(C[l][A._visiblePoints[a].xValue]=T.StartValues[a],b[l][A._visiblePoints[a].xValue]=T.EndValues[a],R[l][a]=null==R[l][a])),A.points[g[a].actualIndex].YValues=[T.EndValues[a]]}T.stackedSeries=!0,_.push(T),_.min>Math.min.apply(0,T.StartValues)&&(_.min=Math.min.apply(0,T.StartValues)),_.max<Math.max.apply(0,T.EndValues)&&(_.max=Math.max.apply(0,T.EndValues)),A.stackedValue=T}}},_calculateStackingCumulativeValues:function(n,c,r){var u,w,v,a,s,h,t,o,l,p,g,b,C,T;this.model.stackedValue[c.name]=[],this.model.stackedValue[c.name].min=0,this.model.stackedValue[c.name].max=0;var R,D=this.model.requireInvertedAxes?this.model.vAxes:this.model.hAxes,L=n.length,I=D.length;for(u=0;u<I;u++){var V=[],F=[],A=[],z=" ",N=[],U=[],J=0,Q=[];for(v=0;v<L;v++)if(ej.EjSeriesRender.prototype._isVisiblePoints(n[v]),z=n[v].stackingGroup,-1!=n[v].type.toLowerCase().indexOf("100")&&n[v]._xAxisName==D[u].name)for(n[v].stackingGroup&&" stackingarea100 "!=n[v].type.toLowerCase()||(n[v].stackingGroup="",z=n[v].stackingGroup),V[z]||(A[z]=[],V[z]=[],F[z]=[],N[z]=[],U[z]=[]),Q[z]=v,o=(t=this._getYValues(n[v]._visiblePoints)).length,l=0;l<o;l++)w=t[l],A[z][n[v].points[l].xValue]||(A[z][n[v].points[l].xValue]=0),A[z][n[v].points[l].xValue]+=Math.abs(w);for(v=0;v<L;v++)if(z=n[v].stackingGroup,-1!=n[v].type.toLowerCase().indexOf("100")&&(a=!1,n[v]._xAxisName==D[u].name)){for((s={}).StartValues=[],s.EndValues=[],"number"!=typeof(J=this._getXCrossValue(h=n[v],D[u],r))&&(J=0),o=(t=this._getYValues(h._visiblePoints)).length,l=0;l<o;l++)g=0,R=(b=t[l])/A[z][h.points[l].xValue]*100,b=isNaN(R)?0:R,h.points[l].percentage=b.toFixed(2),V[z][h.points[l].xValue]||(V[z][h.points[l].xValue]=J),F[z][h.points[l].xValue]||(F[z][h.points[l].xValue]=J),s.StartValues.length<=l&&(s.StartValues.push(0),s.EndValues.push(0)),b>=0?(C=V[z][h.points[l].xValue],N[z][l]=null==N[z][l],g=C<J?J-C:0,p=C,V[z][h.points[l].xValue]+=b-=N[z][l]&&J):(T=F[z][h.points[l].xValue],U[z][l]=null==U[z][l],g=T>J?J-T:0,p=T,F[z][h.points[l].xValue]+=b-=U[z][l]&&J),s.StartValues[l]=p+g,s.EndValues[l]=p+b,s.EndValues[l]>100&&(s.EndValues[l]=100),h.points[l].YValues=[s.EndValues[l]],a=Q[z]!=v||a;s.stackedSeries=a,this.model.stackedValue[c.name].push(s),this.model.stackedValue[c.name].min>Math.min.apply(0,s.StartValues)&&(this.model.stackedValue[c.name].min=Math.min.apply(0,s.StartValues)),this.model.stackedValue[c.name].max<Math.max.apply(0,s.EndValues)&&(this.model.stackedValue[c.name].max=Math.max.apply(0,s.EndValues)),this.model.stackedValue[c.name].min>Math.min.apply(0,s.EndValues)&&(this.model.stackedValue[c.name].min=-100),h.stackedValue=s}}},_legendItemBounds:function(n,c,r){var _,a,u=this.model.legend,w=u.position.toLowerCase(),h=0,t=0;return ej.util.isNullOrUndefined(u.columnCount)&&u.rowCount?(a=u.rowCount,h=c*Math.ceil(n/a),t=r*a):ej.util.isNullOrUndefined(u.rowCount)&&u.columnCount?(a=Math.ceil(n/u.columnCount),h=c*(_=u.columnCount),t=r*a):u.rowCount&&u.columnCount&&(u.columnCount<u.rowCount?(a=u.rowCount,h=c*Math.ceil(n/a),t=r*a):u.columnCount>u.rowCount?"top"===w||"bottom"===w||"custom"===w?(a=Math.ceil(n/u.columnCount),h=c*(_=u.columnCount),t=r*a):(a=Math.ceil(n/u.columnCount),h=c*Math.ceil(n/a),t=r*a):"top"===w||"bottom"===w||"custom"===w?(a=Math.ceil(n/u.columnCount),_=Math.ceil(n/u.rowCount),h=c*u.columnCount,t=r*_):(a=u.rowCount,h=c*Math.ceil(n/a),t=r*a)),{LegendWidth:h,LegendHeight:t+=this.model.elementSpacing}},_isEjScroller:function(){var c=this.model,r=$(this.legendContainer),u=c.legend;u._ejScroller=!ej.util.isNullOrUndefined($("#"+r[0].id).ejScroller)&&u.enableScrollbar},_rowsCalculation:function(n,c,r){for(var v,s,h,a=[],o=(n.legendItem?n.legendItem.Text.toString():n.text).split(" "),l=c,p=n.legendItem?n.legendItem.LegendStyle.Font:n.font,g=o.length,b=0,C=0;C<g;C++)if(v=o[C],(s=ej.EjSvgRender.utils._measureText(v,null,p).width)<=l){for(;C<g;){if(!((s=ej.EjSvgRender.utils._measureText(v,null,p).width)+(h=o[C+1]?ej.EjSvgRender.utils._measureText(o[C+1],null,p).width:0)<=l&&h>0)){b=Math.max(b,s);break}v=v.concat(" "+o[C+1]),C++}a.push(v)}else"wrapandtrim"==r?(v=ej.EjSvgRender.utils._trimText(v,l,p),a.push(v),this.model._legendMaxWidth=l,b=Math.max(b,l),n.legendItem||(this.model.trimTooltip=!0)):(a.push(v),n.legendItem?this.model._legendMaxWidth=Math.max(this.model._legendMaxWidth,s):b=Math.max(b,s));return this.model._legendMaxHeight=Math.max(this.model._legendMaxHeight,a.length),{textCollection:a,wordMax:b}},_triggerLegendEvent:function(n,c,r){var T,D,L,I,F,u=this,_=u.model,w=_.legend,v=_.AreaType,a=w.itemStyle,s=a.border,h=w.size.width,t=ej.EjSvgRender,o=u.svgRenderer,l=_._visibleSeries.length,p=u.svgObject,g=_.enableCanvasRendering,b=_.elementSpacing,C=w.textOverflow.toLowerCase(),R={BorderColor:s.color,BorderWidth:s.width,Opacity:w.opacity,Color:c,Font:$.extend(!0,{},w.font)};return(I=$.extend({},t.commonChartEventArgs)).data={svgRenderer:o,svgObject:p,symbolShape:w.shape,legendItem:{Text:n,Shape:w.shape,LegendStyle:R,SeriesIndex:"none"==v&&1==l?0:r},style:{ShapeSize:a,ElementSpace:b,Style:R,ID:u.svgObject.id+"_LegendItemShape"+r,SeriesIndex:"none"==v&&1==l?0:r},gLegendItemEle:u.gLegendItemEle},g&&(I.data.style.context=!0),u._trigger("legendItemRendering",I),T=I.data.legendItem.Text,D=I.data.legendItem.LegendStyle.Font,L=ej.EjSvgRender.utils._measureText(T,null,D).width,h=(h=h?parseInt(h,10):null)||_.svgWidth/100*parseInt(w.legendContainerWidth,10),"trim"!=C||"left"!==w.position&&"right"!==w.position?("wrap"==C||"wrapandtrim"==C)&&(T=u._rowsCalculation(I.data,h,this.model.legend.textOverflow.toLowerCase()).textCollection):(F=w.itemPadding+w.itemStyle.width,L>h&&(T=ej.EjSvgRender.utils._trimText(T,h+(w.size.width?-F:F),D),u.model._legendMaxWidth=h)),{commonEventArgs:I,legendItem:T}},_calculateLegendBounds:function(){var n,c;this.model.legendCollection=[],this.model.legendTextRegion=[],this.model.legendRegion=[],this.model.svgHeight=$(this.svgObject).height(),this.model.svgWidth=$(this.svgObject).width(),this.model._legendMaxWidth=0,this.model._legendMaxHeight=0;var A,N,U,J,Q,le,ne,he,se,ee,M,O,B,H,Z,te,ae,de,_e,be,Ce,Ae,Oe,Fe,$e,r=this,u=r.model,_=Math,w=_.max,v=_.min,a=_.abs,s=u.legend,t=s.size.height,o=s.size.width,l=s.isReversed,p=s.itemPadding>0?s.itemPadding:0,g=s.position.toLowerCase(),b=0,C=0,T=u.svgHeight,D=u.svgWidth,L=0,I=0,R=0,V=0,F=1,oe={},ue=[],re=u.AreaType,W=u._visibleSeries,pe=s.rowCount,fe=s.columnCount,xe=u.elementSpacing,Se=ej.EjSvgRender.utils._measureText(s.title.text,null,s.title.font),ke=0,Ne=0,Le=u.border.width,je=s.border.width,He=s.textOverflow.toLowerCase(),Be=T-(4*xe+2*Le+2*s.border.width),Ye=D-(4*xe+2*Le+2*je);if(W&&s.visible&&0!=W.length){if(Ae=W[0].type.toLowerCase(),"none"==re&&1==W.length||"pieofpie"==Ae||"pyramid"==Ae||"funnel"==Ae)for(B=W[0],H=(O=ej.EjSeriesRender.prototype._calculateVisiblePoints(B).legendPoints).length,se=!l||"top"!=g&&"bottom"!=g?0:H-1;!l||"top"!=g&&"bottom"!=g?se<H:se>=0;!l||"top"!=g&&"bottom"!=g?se++:se--)Z=s.fill?s.fill._gradientStop?s.fill._gradientStop:s.fill:u.pointColors[O[se].actualIndex],M=O[se],te=ej.util.isNullOrUndefined(M.x)?"series"+se:M.x,M.isEmpty||"visible"!=(M.visibleOnLegend?M.visibleOnLegend:"visible").toLowerCase()||"visible"!=B.visibleOnLegend.toLowerCase()||(Oe=this._triggerLegendEvent(te,Z,se),ue.push(oe={Text:Oe.legendItem,displayText:Oe.commonEventArgs.data.legendItem.Text,Font:(Fe=Oe.commonEventArgs.data.legendItem.LegendStyle).Font,SeriesIndex:0,PointIndex:se,ActualIndex:M.actualIndex,fill:Fe.Color,visibility:!1!==M.visible?"visible":"hidden",Shape:Oe.commonEventArgs.data.legendItem.Shape,LegendStyle:Fe,CommonEventArgs:{cancel:Oe.commonEventArgs.cancel,data:Oe.commonEventArgs.data}}));else for(H=W.length,se=!l||"top"!=g&&"bottom"!=g?0:H-1;!l||"top"!=g&&"bottom"!=g?se<H:se>=0;!l||"top"!=g&&"bottom"!=g?se++:se--)for(Z=s.fill?s.fill._gradientStop?s.fill._gradientStop:s.fill:ej.util.isNullOrUndefined(u.seriesColors[se])?u.pointColors[se]:u.seriesColors[se],te=(B=W[se]).name?B.name:"series"+se,"visible"==B.visibleOnLegend.toLowerCase()&&(Oe=this._triggerLegendEvent(te,Z,se),ue.push(oe={Text:Oe.legendItem,displayText:Oe.commonEventArgs.data.legendItem.Text,Font:(Fe=Oe.commonEventArgs.data.legendItem.LegendStyle).Font,SeriesIndex:se,fill:Fe.Color,visibility:B.visibility,Shape:Oe.commonEventArgs.data.legendItem.Shape,LegendStyle:Fe,CommonEventArgs:{cancel:Oe.commonEventArgs.cancel,data:Oe.commonEventArgs.data}})),le=(ne=B.trendlines).length,n=0;n<le;n++)he=ne[n],Z=s.fill?s.fill._gradientStop?s.fill._gradientStop:s.fill:he.fill,te=he.name?he.name:"series"+se,""!=he.visibility&&"visible"==he.visibleOnLegend.toLowerCase()&&(oe={Text:(Oe=this._triggerLegendEvent(te,Z,se)).legendItem,displayText:Oe.commonEventArgs.data.legendItem.Text,Font:(Fe=Oe.commonEventArgs.data.legendItem.LegendStyle).Font,SeriesIndex:se,trendLineIndex:n,fill:Fe.Color,isTrendLine:!0,visibility:"visible"==B.visibility.toLowerCase()?he.visibility:"hidden",Shape:Oe.commonEventArgs.data.legendItem.Shape,LegendStyle:Fe,CommonEventArgs:{cancel:Oe.commonEventArgs.cancel,data:Oe.commonEventArgs.data}},ue.push(oe));for(ae=ue.length,se=0;se<ae;se++)$e=(A=ue[se]).CommonEventArgs.data.style.ShapeSize.width,be=r._getLegendSize(A),L=w(this.model._legendMaxWidth>0?this.model._legendMaxWidth+p+$e:be.Width,L),I=w("wrap"==He||"wrapandtrim"==He?be.Height*this.model._legendMaxHeight:be.Height,I);for(V=I+2*xe,R=L,(fe||pe)&&(R=(U=r._legendItemBounds(ue.length,L+p,I+p)).LegendWidth,V=U.LegendHeight,"top"===g||"bottom"===g||"custom"===g?V=V-p+xe:R-=p),c=0;c<ae;c++)B=u.series[(A=ue[c]).SeriesIndex],be=r._getLegendSize(A),("wrap"==He||"wrapandtrim"==He)&&(be.Width=L,be.Height=I),pe||fe||("top"==g||"bottom"==g||"custom"==g?((b+=be.Width+p)>Ye&&0!=c?(R=w(R,b-=be.Width+p),b=be.Width+p,F++,V+=I+p):R=w(R,b),C=w(C,I)):((C+=be.Height+p)>Be?(V=w(V,C-=be.Height+p),C=be.Height+p,R+=L+p):V=w(V,C),b=w(b,L))),Ce="visible"==A.visibility.toLowerCase()?r.svgRenderer.createGradientElement("legend"+c,ue[c].fill,0,0,0,Be,r.gLegendEle):"gray",A.CommonEventArgs.data.legendItem.LegendStyle.Color=Ce,(N=pe||fe?{Width:L,Height:I}:be)._Width=be.Width,A.isTrendLine&&(A.TrendLineIndex=A.trendLineIndex,ee=B.trendlines[A.trendLineIndex].type.toLowerCase(),A.CommonEventArgs.data.legendItem.drawType=A.drawType="linear"==ee||"movingaverage"==ee?"line":"spline"),ue[c].Bounds=N,u.legendCollection.push(A);"top"===g||"bottom"===g||"custom"===g?(C+=20,u.LegendBounds={Width:w(R=Se.width>R-p?Se.width+20+p:R+20,b+=10)-p,Height:w(V,C),Rows:F}):(C+=10,u.LegendBounds={Width:w(R=Se.width>R?Se.width+20:R+20,b+=10),Height:w(V,C)+10-p,Columns:F}),u.LegendViewerBounds={Width:"0",Height:"0"},""==t||null==t?(J=a("left"==g||"right"==g||"custom"==g?T:T/100*parseInt("20%")),u.LegendViewerBounds.Height=v(J,u.LegendBounds.Height)):u.LegendViewerBounds.Height=-1!=t.indexOf("%")?a(T/100*parseInt(t)):parseInt(t),""==o||null==o?(Q=a("top"==g||"bottom"==g||"custom"==g?D:D/100*parseInt("20%")),u.LegendViewerBounds.Width=v(Q,u.LegendBounds.Width)):u.LegendViewerBounds.Width=-1!=o.indexOf("%")?a(D/100*parseInt(o)):parseInt(o)}else u.LegendBounds={Width:0,Height:0},u.LegendViewerBounds={Width:0,Height:0};de=$(r.legendContainer),_e=$(r.legendSvgContainer),s.enableScrollbar?(u.LegendActualBounds=u.LegendViewerBounds,de.removeAttr("style"),de.css({visibility:"hidden",width:u.LegendViewerBounds.Width,height:u.LegendViewerBounds.Height}),_e.css({height:u.LegendBounds.Height,width:u.LegendBounds.Width}),s._ejScroller?(s._ejScroller&&l&&de.addClass("e-rtl"),$("#"+de[0].id).ejScroller({width:u.LegendViewerBounds.Width,height:u.LegendViewerBounds.Height})):(de.css({overflow:"scroll"}),de.hasClass("e-rtl")&&de.removeClass("e-rtl")),u.LegendBounds.Width>u.LegendViewerBounds.Width&&u.LegendBounds.Height>u.LegendViewerBounds.Height?s._ejScroller?(Ne=$(".e-hscrollbar").height()||0,ke=$(".e-vscrollbar").width()||0):(de.css({overflow:"scroll"}),Ne=de[0].offsetHeight-2*je-de[0].clientHeight,ke=de[0].offsetWidth-2*je-de[0].clientWidth):u.LegendBounds.Width>u.LegendViewerBounds.Width?s._ejScroller?(Ne=$(".e-hscrollbar").height()||0,ke=0):(de[0].style.overflowX="scroll",de[0].style.overflowY="hidden",Ne=de[0].offsetHeight-2*je-de[0].clientHeight,ke=0):u.LegendBounds.Height>u.LegendViewerBounds.Height&&(s._ejScroller?(Ne=0,ke=$(".e-vscrollbar").width()):(de[0].style.overflowY="scroll",de[0].style.overflowX="hidden",Ne=0,ke=de[0].offsetWidth-2*je-de[0].clientWidth))):(u.LegendActualBounds=u.LegendBounds,""!=o&&null!=o&&(u.LegendActualBounds.Width=parseInt(o)),""!=t&&null!=t&&(u.LegendActualBounds.Height=parseInt(t))),u.LegendActualBounds.Height+=Math.abs(Ne),u.LegendActualBounds.Width+=Math.abs(ke),u.LegendActualBounds.hScrollSize=Ne,u.LegendActualBounds.vScrollSize=ke},GetPointXYOrgin:function(n,c,r,u){return{X:(n-r)/(this.model.axes.PrimaryXaxis.visibleRange.max-r)*this.model.m_AreaBounds.Width,Y:(c-u)/(this.model.axes.PrimaryYaxis.visibleRange.max-u)*(this.model.m_AreaBounds.Height-this.GetPointXY(this.model.axes.PrimaryXaxis.visibleRange.min,Math.max(this.model.axes.PrimaryYaxis.visibleRange.min,0)).Y)}},_wrap:function(n,c,r,u,_,w){var b,C,T,D,L,I,R,v=r,a=w.width,s=[],h=[],t=v.length,l=0,p=r.split(" "),g=p.length;if("wrap"==u){if(a>c)for(C=1;C<=v.length;C++)r=v.substring(0,C),(a=ej.EjSvgRender.utils._measureText(r,null,_).width)>c&&(r=v.substring(0,C-1),s[l]=r,b=(v=v.slice(C-1,t)).split(" "),v=p.indexOf(b[0])>-1?v:"-"+v,T=ej.EjSvgRender.utils._measureText(r,null,_).width,l++,C=0);s[l]=r}else if("wrapandtrim"==u)for(D=0,l=0;l<g;l++)if(L=p[l],(I=ej.EjSvgRender.utils._measureText(L,null,_).width)<c&&a>c){for(;l<g;){if(!((I=ej.EjSvgRender.utils._measureText(L,null,_).width)+(R=p[l+1]?ej.EjSvgRender.utils._measureText(p[l+1],null,_).width:0)<=c&&R>0)){D=Math.max(D,I);break}L=L.concat(" "+p[l+1]),l++}s.push(L)}else{if(!(a>c)){s.push(r);break}h.push(L),L=ej.EjSvgRender.utils._trimText(L,c,_),T=ej.EjSvgRender.utils._measureText(L,null,_).width,D=Math.max(D,T),s.push(L)}return{text:s,unTrimmedText:h}},getMultiLevelLabelSize:function(n){var r,c=0;n._multiLevelLabelHeight=0;for(var h,t,o,l,p,g,b,T,D,L,I,_=[],w=[],v=[],a=n.multiLevelLabels.length,s=n.visibleRange,R=n.orientation.toLowerCase(),V=[],F="vertical"==R?n.length:n.width?n.width:this.model.primaryYAxis.AxisMaxWidth?n.length-this.model.primaryYAxis.AxisMaxWidth:n.length,u=0;u<a;u++)D=(h=n.multiLevelLabels[u]=_[u]=$.extend(!0,{},this.model.multiLevelLabelsDefault,n.multiLevelLabels[u])).border.type.toLowerCase(),t=h.level,!h.visible||""==h.text||ej.util.isNullOrUndefined(h.start)||ej.util.isNullOrUndefined(h.end)||(o=Math.ceil(ej.EjSvgRender.utils._getPointXY(h.start,s,n.isInversed)*F),l=Math.ceil(ej.EjSvgRender.utils._getPointXY(h.end,s,n.isInversed)*F),p=ej.EjSvgRender.utils._measureText(h.text,null,h.font),I=h.textOverflow.toLowerCase(),g=ej.util.isNullOrUndefined(h.maximumTextWidth)?l-o:h.maximumTextWidth,b="vertical"==R?h.maximumTextWidth?h.maximumTextWidth:p.width:p.height,b+=2*h.border.width,p.width>g-10&&("wrap"==I||"wrapandtrim"==I)&&(T=(T=this._wrap(n,g-10,h.text,I,h.font,p)).text,b="vertical"==R?g-10:b*T.length),w[t]=ej.util.isNullOrUndefined(w[t])||w[t]<b?b:w[t]);for(_.sort(function(A,z){return parseFloat(A.level)-parseFloat(z.level)}),n.multiLevelLabels.sort(function(A,z){return parseFloat(A.level)-parseFloat(z.level)}),r=0;r<_.length;r++)0==r?(n.multiLevelLabels[r]._level=_[r]._level=0,L=0):_[r].level>L+1?(n.multiLevelLabels[r]._level=_[r]._level=L+1,L=_[r]._level):(n.multiLevelLabels[r]._level=_[r]._level=_[r].level,L=_[r].level>L?_[r].level:L),"curlybrace"==D&&(V[n.multiLevelLabels[r]._level]=!0);for(u=0;u<w.length;u++)v[u]=c,ej.util.isNullOrUndefined(w[u])?(w.splice(u,1),u--):(c="brace"==D?c+w[u]:c+w[u]+5,V[u]&&(c+=10,w[u]+=10));return n._multiLevelLabelHeight=c,n.multiLevelLabelHeight=w,n.prevHeight=v,c},_saturationColor:function(n,c){n=this.colorNameToHex(n),(n=String(n).replace(/[^0-9a-f]/gi,"")).length<6&&(n=n[0]+n[0]+n[1]+n[1]+n[2]+n[2]),c=c||0;for(var u,r="#",_=0;_<3;_++)u=parseInt(n.substr(2*_,2),16),r+=("00"+(u=Math.round(Math.min(Math.max(0,u+u*c),255)).toString(16))).substr(u.length);return r},_drawChartAreaRect:function(){var c,r,n=this.model.background&&this.model.background._gradientStop?"url(#"+this.svgObject.id+"_backGradient)":this.model.background;this.model.backGroundImageUrl&&(n="transparent"),r={id:this.svgObject.id+"_SvgRect",x:(c=this.model.border).width/2,y:c.width/2,width:$(this.svgObject).width()-2*c.width,height:$(this.svgObject).height()-2*c.width,fill:n,opacity:c.opacity,"stroke-width":c.width,stroke:c.color,class:"e-chartborder"},this.svgRenderer.drawRect(r,this.svgObject),this.model.backGroundImageUrl&&this._drawBackImage(),"cartesianaxes"!=this.model.AreaType||this.model.enable3D||this.svgRenderer.drawRect({id:this.svgObject.id+"_ChartArea",x:this.model.m_AreaBounds.X,y:this.model.m_AreaBounds.Y,width:this.model.m_AreaBounds.Width,height:this.model.m_AreaBounds.Height,fill:this.model.chartArea.background,"stroke-width":this.model.chartArea.border.width,opacity:this.model.chartArea.border.opacity,stroke:this.model.chartArea.border.color,class:"e-chartareaborder"},this.svgObject)},axesIndexCount:function(n,c){for(var r,u=[],_=0;_<n.length;_++)"vertical"==(r=n[_]).orientation.toLowerCase()?r.rowIndex==c&&u.push(r):r.columnIndex==c&&u.push(r);return u},axesCount:function(n){var w,v,a,c=[],r=[],u=0,_=this.model;if($.each(n,function(s,h){"vertical"==h.orientation.toLowerCase()?(u=_.rowDefinitions?_.rowDefinitions.length:0,(0==s||h.rowIndex!=c[c.length-1].axis.rowIndex)&&c.push({axis:h,index:h.rowIndex})):(u=_.columnDefinitions?_.columnDefinitions.length:0,(0==s||h.columnIndex!=c[c.length-1].axis.columnIndex)&&c.push({axis:h,index:h.columnIndex}))}),u>(w=c.length))for(w=u,v=0;v<u;v++)r.push(v);else for(a=0;a<w;a++)r.push(c[a].index);return{length:w,indexValue:r}},_calRowSize:function(){var _,w,v,a,s,h,n=0,c=[],r=0,u=this.model.m_AreaBounds.Y+this.model.m_AreaBounds.Height;if(null!=this.model._rowDefinitions[0].rowDefinitions)for(_=0,w=this.model._rowDefinitions.length;_<w;_++)(v=this.model._rowDefinitions[_].rowDefinitions).rowHeight=Math.abs(v.rowHeight),a=0,"percentage"==v.unit.toLowerCase()?(s=this._axisRowDefinitionSize(this.model.rowDefinitions),a=Math.floor(this.model.m_AreaBounds.Height*(v.rowHeight/s))):a=v.rowHeight,0==_&&c.push(u),c.push(u-a-r),r+=a;else{for(h=Math.floor(this.model.m_AreaBounds.Height/this.model._rowDefinitions.length),n=u;n>=this.model.m_AreaBounds.Y;n-=h)c.push(n),h=h||1;c.length&&c.length<=1&&c.push(n)}return c},_calColumnSize:function(){var w,v,a,s,h,t,o,l,n=[],c=this.model.m_AreaBounds.X,r=this.model.m_AreaBounds.Width,u=0,_=this.model._columnDefinitions;if(null!=_[0].columnDefinitions)for(w=0,v=_.length;w<v;w++)(a=_[w].columnDefinitions).columnWidth=Math.abs(a.columnWidth),"percentage"==a.unit.toLowerCase()?(h=this._axisColumnDefinitionSize(this.model.columnDefinitions),s=Math.floor(r*(a.columnWidth/h))):s=a.columnWidth,0==w&&n.push(c),n.push(c+s+u),u+=s;else{for(t=Math.floor(r/_.length),o=c,l=c+r;o<=l;o+=t)n.push(o),t=t||1;n.length&&n.length<=1&&n.push(o)}return n},_calculateAxisSize:function(n){for(var c,u,_,w,v,a,h=!0,t=!0,o=this._calColumnSize(),l=this.model._columnDefinitions,p=0,g=l.length;p<g;p++){var b=o[p],C=o[p+1],T=0,D=0,L=!0,I=!0,R=this.model.m_AreaBounds.Y,V=R+this.model.m_AreaBounds.Height;for(v=0,c=l[p].axis.length;v<c;v++){var F=l[p].axis[v],A=0,N=F._opposed;if(n.axes[F.name]._validCross||(N?I&&(t||0==D)?(A=R,I=!1):(A=R-=l.farSizes[D],D++):L&&(h||0==T)?(A=V,L=!1):(A=V+=l.nearSizes[T],T++)),F.columnSpan){if(l[p].index!=F.columnIndex)continue;C=o[g>=p+F.columnSpan?p+F.columnSpan:p+1],N||0!=T||(h=L),N&&0==D&&(t=I)}else C=o[p+1],h=!0,t=!0;F.Location={},F.Location.X1=b+F.plotOffset,F.Location.Y1=A,F.Location.X2=C-F.plotOffset,F.Location.Y2=A,F.x=F.Location.X1,F.y=F.Location.Y1,F.width=F.Location.X2-F.Location.X1,F.height=F.Location.Y2-F.Location.Y1}}for(h=!0,t=!0,u=this._calRowSize(),p=0,w=(_=this.model._rowDefinitions).length;p<w;p++){var U=u[p],J=u[p+1],Q=0,oe=0,ue=!0,le=!0,ne=this.model.m_AreaBounds.X,he=ne,se=ne+this.model.m_AreaBounds.Width;for(v=0,a=_[p].axis.length;v<a;v++){var re=0,W=_[p].axis[v];if(N=W._opposed,n.axes[W.name]._validCross||(N?le&&(t||0==t)?(re=se,le=!1):(re=se+=_.farSizes[oe],oe++):ue&&(h||0==Q)?(re=ne,ue=!1):(re=he-=_.nearSizes[Q],Q++)),W.rowSpan){if(_[p].index!=W.rowIndex)continue;J=u[w>=p+W.rowSpan?p+W.rowSpan:p+1],N||0!=Q||(h=ue),N&&0==oe&&(t=le)}else J=u[p+1],h=!0,t=!0;W.Location={},W.Location.X1=re,W.Location.Y1=U-W.plotOffset,W.Location.X2=re,W.Location.Y2=J+W.plotOffset,W.x=W.Location.X1,W.y=W.Location.Y2,W.height=W.Location.Y1-W.Location.Y2,W.width=W.axisLine.width}}},_validateCrossing:function(n){if(n._opposedPosition=!1,null!=n.crossesAt){var c=this._getCrossAxis(this.model._axes,"horizontal"==n.orientation.toLowerCase(),n.crossesInAxis);return n._crossValue=this._getCrossValue(n,c,c._valueType),((c.isInversed?!n.opposedPosition:n.opposedPosition)?n._crossValue<=c.visibleRange.min:n._crossValue>=c.visibleRange.max)&&(n._opposedPosition=!0),c.visibleRange.min<n._crossValue&&c.visibleRange.max>n._crossValue}return!1},_axisCrossing:function(n,c,r){var u="horizontal"==n.orientation.toLowerCase(),_=this._getCrossAxis(this.model._axes,u,n.crossesInAxis),v=Math.abs((_.isInversed?_.visibleRange.max:_.visibleRange.min)-n._crossValue);this._locateAxis(n,_,u,v),c||(r._crossAxisOverlap=this._avoidOverlapping(n,this.model.m_AreaBounds,u,n.opposedPosition,r)||r._crossAxisOverlap)},_locateAxis:function(n,c,r,u){var _=(r?c.height:c.width)*u/c.visibleRange.delta;r?n.y=c.y+c.height-_:n.x=c.x+_},_avoidOverlapping:function(n,c,r,u,_){var w=0,v=n.showNextToAxisLine?_.axes[n.name]._bounds:0;if(r){if(!u&&n.y+v>c.Y+c.Height)return c.Height-=w=n.y+v-c.Y-c.Height,this._recalculateSpace(n,r,u,w),!0;if(u&&n.y-v<c.Y)return c.Y+=w=v-(n.y-c.Y),c.Height-=w,this._recalculateSpace(n,r,u,w),!0}else{if(!u&&n.x-v<c.X)return c.X+=w=v-(n.x-c.X),c.Width-=w,this._recalculateSpace(n,r,u,w),!0;if(u&&n.x+v>c.X+c.Width)return c.Width-=w=n.x+v-c.X-c.Width,this._recalculateSpace(n,r,u,w),!0;if("inside"==n.labelPosition&&n.x+v>c.X+c.Width)return c.Width-=w=n.x+v-c.X-c.Width,this._recalculateSpace(n,r,u,w,n.showNextToAxisLine),!0}},_recalculateSpace:function(n,c,r,u,_){var w,v,a,s,h,t,o,l;if(c){for(h=0,t=(v=this.model._rowDefinitions)[a=r?v.length-1:0].axis.length;h<t;h++)v[a].axis[h].height-=u,v[a].axis[h].Location.Y2-=u,r&&(v[a].axis[h].Location.Y1=v[a].axis[h].y+=u);for(w=n.columnIndex,h=0,t=(v=this.model._columnDefinitions).length;h<t;h++)if(h!==w)for(o=0,l=v[h].axis.length;o<l;o++)v[h].axis[o]._opposed===r&&(v[h].axis[o].Location.Y1=v[h].axis[o].Location.Y2=v[h].axis[o].y+=(r?1:-1)*u)}else{for(h=0,t=(v=this.model._columnDefinitions)[a=r?v.length-1:0].axis.length;h<t;h++)v[a].axis[h].width-=u,_||(r?v[a].axis[h].Location.X2-=u:v[a].axis[h].Location.X1=v[a].axis[h].x+=u);for(s=n.rowIndex,h=0,t=(v=this.model._rowDefinitions).length;h<t;h++)if(h!==s)for(o=0,l=v[h].axis.length;o<l;o++)v[h].axis[o]._opposed===r&&(v[h].axis[o].Location.X1=v[h].axis[o].Location.X2=v[h].axis[o].x+=(r?-1:1)*u)}},_getCrossValue:function(n,c,r){switch(r.toLowerCase()){case"category":return-1!=c.labels.indexOf(n.crossesAt)?c.labels.indexOf(n.crossesAt):n.crossesAt;case"datetime":return isNaN(Date.parse(n.crossesAt))?null:Date.parse(n.crossesAt);case"logarithmic":return Math.log(n.crossesAt)/Math.log(c.logBase)}return n.crossesAt},_getXCrossValue:function(n,c,r){var u=c.crossesInAxis,_=n._yAxisName;return(r.axes[c.name]._validCross||null==r.axes[c.name]._validCross)&&c.crossesAt&&(!u&&_===this.model.primaryYAxis.name||u&&this._getCrossAxis(this.model._axes,!0,u).name===_)?c.crossesAt:0},_getAxisByName:function(n,c,r){if(r)for(var u=0,_=n.length;u<_;u++)if(n[u].name===r&&(c?"vertical"==n[u].orientation:"horizontal"==n[u].orientation))return n[u]},_getCrossAxis:function(n,c,r){return this._getAxisByName(n,c,r)||(this.model.requireInvertedAxes?c?this.model.primaryXAxis:this.model.primaryYAxis:c?this.model.primaryYAxis:this.model.primaryXAxis)},_arrangeAxis:function(){for(var n,c,r,u,_,w,v,a,s,h,t,o,p,g,l=this,b=0;b<this.model._axes.length;b++)"horizontal"==(p=this.model._axes[b]).orientation.toLowerCase()?(l.model.hAxes.push(p),p.columnIndex=ej.util.isNullOrUndefined(p.columnIndex)?0:p.columnIndex,l.model.hAxes[l.model.hAxes.length-1].columnIndex=p.columnIndex):"vertical"==p.orientation.toLowerCase()&&(l.model.vAxes.push(p),p.rowIndex=ej.util.isNullOrUndefined(p.rowIndex)?0:p.rowIndex,l.model.vAxes[l.model.vAxes.length-1].rowIndex=p.rowIndex,(g=ej.util.isNullOrUndefined(l.model.rowDefinitions)?null:l.model.rowDefinitions[p.rowIndex])&&(p.axisBottomLine={},p.axisBottomLine.visible=!0,p.axisBottomLine.lineWidth=g.lineWidth,p.axisBottomLine.color=g.lineColor));if(this.model.hAxes=ej.DataManager(this.model.hAxes,ej.Query().sortBy("columnIndex")).executeLocal(),this.model.vAxes=ej.DataManager(this.model.vAxes,ej.Query().sortBy("rowIndex")).executeLocal(),n=this.axesCount(l.model.vAxes),l.model._rowDefinitions=[],l.model.vAxes.length>0)for(c=0;c<n.length;c++)u=(r=l.model.rowDefinitions)?r[c]?r[c]:r[0]:null,l.model._rowDefinitions.push({axis:this.axesIndexCount(l.model.vAxes,n.indexValue[c]),index:n.indexValue[c],rowDefinitions:u});if(w=this._axisFilter(_=l.model._rowDefinitions,"rowSpan"),this._SpanningAxes(_,w,!0),v=this.axesCount(l.model.hAxes),l.model._columnDefinitions=[],l.model.hAxes.length>0)for(a=0;a<v.length;a++)h=(s=l.model.columnDefinitions)?s[a]?s[a]:s[0]:null,l.model._columnDefinitions.push({axis:this.axesIndexCount(l.model.hAxes,v.indexValue[a]),index:v.indexValue[a],columnDefinitions:h});o=this._axisFilter(t=l.model._columnDefinitions,"columnSpan"),this._SpanningAxes(t,o,!1),this._axisSize()},_SpanningAxes:function(n,c,r){for(var u,_,w,v,a,s,h=0,t=c.length;h<t&&null!=(u=c[h]);h++)if(_=r?u.rowSpan:u.columnSpan,null!=n[w=r?u.rowIndex:u.columnIndex])for(v=n[w].axis.indexOf(u),a=1,s=w+1;a<_&&s<n.length;a++,s++)n[s].axis.length>=v&&n[s].axis.splice(v,0,u)},_axisFilter:function(n,c){var r=[];return n.filter(function(u){for(var _=ej.DataManager(u.axis,ej.Query().where(c,">",1)).executeLocal(),w=0,v=_.length;w<v;w++)r.push(_[w])}),r},_axisSize:function(){for(var n,c,r,u,_,w,v=this._getLegendSpace(),a=$(this.svgObject).width()-this.model.margin.left-this.model.margin.right-2*this.model.elementSpacing-v.leftLegendWidth-v.rightLegendWidth,s=Math.floor(a/this.axesCount(this.model.hAxes).length),h=$(this.svgObject).height()-this.model.margin.top-this.model.margin.bottom-2*this.model.elementSpacing-v.topLegendHeight-v.bottomLegendHeight-v.modelTitleHeight-v.modelsubTitleHeight,t=Math.floor(h/this.axesCount(this.model.vAxes).length),o=0;o<this.model._axes.length;o++)"horizontal"==(n=this.model._axes[o]).orientation.toLowerCase()?"polaraxes"!=this.model.AreaType?(r=s,(c=ej.util.isNullOrUndefined(this.model.columnDefinitions)?[]:this.model.columnDefinitions[n.columnIndex])&&(c.unit=null==c.unit?"percentage":c.unit,c.columnWidth=null==c.columnWidth?100:c.columnWidth,"percentage"==c.unit.toLowerCase()?(w=this._axisColumnDefinitionSize(this.model.columnDefinitions),r=Math.floor(s*(c.columnWidth/w))):r=c.columnWidth),n.length=n.columnSpan?n.columnSpan*r:r):n.length=a>2*h?a-h:a:"vertical"==n.orientation.toLowerCase()&&("polaraxes"!=this.model.AreaType?(_=t,(u=ej.util.isNullOrUndefined(this.model.rowDefinitions)?[]:this.model.rowDefinitions[n.rowIndex])&&(u.unit=null==u.unit?"percentage":u.unit,u.rowHeight=null==u.rowHeight?100:u.rowHeight,"percentage"==u.unit.toLowerCase()?(w=this._axisRowDefinitionSize(this.model.rowDefinitions),_=Math.floor(t*(u.rowHeight/w))):_=u.rowHeight),n.length=n.rowSpan?n.rowSpan*_:_):n.length=h/2)},_axisRowDefinitionSize:function(n){var r,c=0;if(n)for(r=0;r<n.length;r++)c+=n[r].rowHeight;return c>100?c:100},_axisColumnDefinitionSize:function(n){var r,c=0;if(n)for(r=0;r<n.length;r++)c+=n[r].columnWidth;return c>100?c:100},_axisMeasure:function(n,c,r,u){var v,_=0,w=0;n.axisLine.width=n.axisLine.width<0?0:n.axisLine.width,n.majorTickLines.size=n.visible?n.majorTickLines.size<0?0:n.majorTickLines.size:0;var a=!this.model.enable3D&&n.visible&&n.axisLine.visible&&n.axisLine.width,s=ej.EjSvgRender.utils._measureText(n.title.text,c,n.title.font),h=n.visible?this.model.elementSpacing:0;return"vertical"==r?(w=n._LableMaxWidth.width,_=""!=n.title.text&&n.title.visible&&n.visible?8===document.documentMode?s.width:s.height+2*h:0):(w=n._LableMaxWidth.height,_=""!=n.title.text&&n.title.visible&&n.visible?s.height+h:0),_="inside"==n.title.position.toLowerCase()?0:_,v=this.getMultiLevelLabelSize(n),n.AxisMaxWidth=0==u&&"inside"==n.tickLinesPosition&&"inside"==n.labelPosition?_+v+a+h:0==u&&"inside"==n.tickLinesPosition&&"inside"!=n.labelPosition?_+v+a+h+w:0==u&&"inside"!=n.tickLinesPosition&&"inside"==n.labelPosition?_+v+a+h+n.majorTickLines.size:_+v+a+h+n.majorTickLines.size+w,n.AxisMaxWidth+=n._isScroll?18:0,n.AxisMaxWidth},_arraySum:function(n){for(var c=0,r=0;r<n.length;r++)c+=parseFloat(n[r])||0;return c},_calSpace:function(n,c,r,u){for(var _,w,v,a,t,o,l,s=[],h=[],p=0;p<c.length;p++)for(_=0,w=0,v=0;v<c[p].axis.length;v++)t=u.axes[(a=c[p].axis[v]).name]._bounds=this._axisMeasure(a,n,r,v),l=(o=u.axes[a.name]._validCross=this._validateCrossing(a))?0:t,a._opposed=a.opposedPosition?!a._opposedPosition:a._opposedPosition||a.opposedPosiiton||!1,o&&c[p].axis[v].showNextToAxisLine||(a.showNextToAxisLine||(l="inside"==a.labelPosition?t-a._multiLevelLabelHeight:t),a._opposed?(h.length<=w?h.push(l):h[w]<l&&(h[w]=l),w++):(s.length<=_?s.push(l):s[_]<l&&(s[_]=l),_++));return{nearSizes:s,farSizes:h}},_getLegendSpace:function(){var F,A,n=this.model,c=n.legend,r=c.position.toLowerCase(),u=n.LegendActualBounds,_=ej.EjSvgRender.utils._measureText,w=n.title,v=w.subTitle,a=n.elementSpacing,s=n.margin,h=n.svgWidth,t=c.border.width,o=0,l=0,p=0,g=0,b=0,C=0,D=(w.text.split(" "),w.enableTrim),L="auto"==(L=w.maximumWidth).toString()||""==L.toString()?.75*h:parseInt(L),I=w.textOverflow.toLowerCase(),R=w.text,V=w.visible,N=ej.EjSvgRender.utils._measureText(w.text,$(this.svgObject).width()-this.model.margin.left-this.model.margin.right,w.font),J=(v.text.split(" "),v.enableTrim),Q="auto"==(Q=v.maximumWidth).toString()||""==Q.toString()?.75*h:parseInt(Q),oe=v.textOverflow.toLowerCase(),ue=v.text,le=v.visible,ne=ej.EjSvgRender.utils._measureText(v.text,$(this.svgObject).width()-this.model.margin.left-this.model.margin.right,v.font),he=!!(V&&D&&N.width>L),se=!!(le&&J&&ne.width>Q),ee="wrap"==I||"wrapandtrim"==I,re="wrap"==oe||"wrapandtrim"==oe;this.model.titleWrapTextCollection=[],this.model.subTitleWrapTextCollection=[],this.model.trimTooltip=!1,this.model.subTitleTooltip=!1,c.visible&&(l=u.Width+5+a+2*t,p="left"==r?l:0,g="right"==r?l:0,c.title.text&&(o=_(c.title,null,c.title.font).height),b="top"==r?u.Height+o+2*t:0,C="bottom"==r?u.Height+o+2*t:0),he&&"wrap"==I||he&&"wrapandtrim"==I?F=this._rowsCalculation({text:R,font:w.font},L,I):("wrapandtrim"==I||"wrap"==I)&&(F=this._rowsCalculation({text:R,font:w.font},ej.EjSvgRender.utils._measureText(R,null,w.font).width,I)),this.model.titleWrapTextCollection=F?F.textCollection:"",this.model.titleMaxWidth=F?F.wordMax:L,se&&"wrap"==oe?A=this._rowsCalculation({text:ue,font:v.font},Q,oe):se&&"wrapandtrim"==oe?(A=this._rowsCalculation({text:ue,font:v.font},Q,oe),this.model.subTitleTooltip=this.model.trimTooltip):("wrapandtrim"==oe||"wrap"==oe)&&(A=this._rowsCalculation({text:ue,font:v.font},Q,oe)),this.model.subTitleWrapTextCollection=A?A.textCollection:"",this.model.subTitleMaxWidth=A?A.wordMax:Q;var W=_(w.text,h-s.left-s.right,w.font).height,pe=_(v.text,h-s.left-s.right,v.font).height;return{leftLegendWidth:p,rightLegendWidth:g,topLegendHeight:b,bottomLegendHeight:C,modelTitleHeight:""!=w.text&&w.visible?D&&ee&&N.width>L?W*this.model.titleWrapTextCollection.length+a:W+a:0,modelsubTitleHeight:""!=v.text&&v.visible&&w.visible?J&&re&&ne.width>Q?pe*this.model.subTitleWrapTextCollection.length+a:pe+a:0}},_arraySome:function(n,c){for(var r=!1,u=this.model.zooming.enableScrollbar,_=n.length,a=0;a<_;a++)r=r||(n[a]._isScroll&&n[a].maxPointLength<n[a].scrollbarSettings.pointsLength||n[a].zoomFactor<1&&n[a].scrollbarSettings.enableScrollbar&&u)&&n[a].orientation.toLowerCase()==c;return r},_calculateAreaBounds:function(n){var a,s,c=this,r=$(this.svgObject).width()-this.model.margin.left-this.model.margin.right,u=c.model.border.width;this.model.zooming.type.toLowerCase(),c.model.scrollerSize=18,this.model._yScroll=this._arraySome(this.model._axes,"vertical"),this.model._xScroll=this._arraySome(this.model._axes,"horizontal"),a=this._calSpace(r,c.model._rowDefinitions,"vertical",n),c.model._rowDefinitions.nearSizes=a.nearSizes,c.model._rowDefinitions.farSizes=a.farSizes;var h=this._arraySum(a.nearSizes),t=this._arraySum(a.farSizes),o=this._getLegendSpace(),l=h+o.leftLegendWidth+c.model.margin.left+u,p=t+o.rightLegendWidth+c.model.margin.right+c.model.margin.left+2*u,g=$(this.svgObject).width(),b=g-(l+p);if((b=Math.round(b)<=0?0:b)<=0&&"cartesianaxes"==this.model.AreaType)$(this.svgObject).width(g-b+1),this._calculateAreaBounds(n);else{s=this._calSpace(r,c.model._columnDefinitions,"horizontal",n),c.model._columnDefinitions.nearSizes=s.nearSizes,c.model._columnDefinitions.farSizes=s.farSizes;var C=this._arraySum(s.nearSizes),T=this._arraySum(s.farSizes),L=T+this.model.margin.top+(C||T?this.model.elementSpacing:0)+o.modelTitleHeight+o.modelsubTitleHeight+o.topLegendHeight+u,I=C+this.model.margin.bottom+o.bottomLegendHeight+2*u,R=Math.abs($(this.svgObject).height()-(L+I));this.model.m_AreaBounds={X:l,Y:L,Width:b,Height:R=0==R?1:R},this.model.m_Spacing={Left:l,Top:L,Right:p,Bottom:I},this.model.enableCanvasRendering?(this.canvasX=l,this.canvasY=L,this.canvasWidth=b,this.canvasHeight=R):this.canvasX=this.canvasY=this.canvasHeight=this.canvasWidth=0}}},jQuery.uaMatch=function(n){n=n.toLowerCase();var c=/(chrome)[ \/]([\w.]+)/.exec(n)||/(webkit)[ \/]([\w.]+)/.exec(n)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(n)||/(msie) ([\w.]+)/.exec(n)||n.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(n)||[];return{browser:c[1]||"",version:c[2]||"0"}}}(jQuery),ej.EjSvgScrollbarRender=function(n,c){var r,u;this.svgSupport=!!window.SVGSVGElement,r=jQuery(n).attr("id"),this.scrollsvgObj=this.scrollsvgObj?this.scrollsvgObj:[],this.svgSupport?(this.svgLink="http://www.w3.org/2000/svg",this.scrollsvgObj[c.index]=document.createElementNS(this.svgLink,"svg"),this.scrollsvgObj[c.index].setAttribute("id","scrollbar_"+r+c.index)):(u=document,this.scrollsvgObj[c.index]=u.createElement("div"),this.scrollsvgObj[c.index].style.position="relative",this.scrollsvgObj[c.index].setAttribute("id","scrollbar_"+r+c.index))},function(n){ej.EjSvgScrollbarRender.prototype={_initializeScrollbarVariables:function(c){c.offsetLeftX=0,c.rectWidth=c.offsetRightX=c.oldWidth=c.width,c.startX=0,c.endX=0,c.scrollbarLoaded=!1,(c.zoomPosition||c.zoomFactor)&&(c.offsetLeftX=c.zoomPosition*c.width,c.rectWidth=c.zoomFactor*c.width)},_scrollbarUpdate:function(c){var v,u=15,w=parseFloat(c.width)-30;c.offsetLeftX=c.scrollbarLoaded?c.offsetLeftX-u:c.offsetLeftX,c.offsetLeftX=c.offsetLeftX<u?0:c.offsetLeftX;var a=c.offsetLeftX/c.oldWidth*w+u,s=c.rectWidth/c.oldWidth*w;c._diff=s<44?44-s:0,s=s>44?s:44,c.oldWidth=w,v=a+s,c.rectWidth=s,c.offsetLeftX=c.startX=a,c.offsetRightX=v-u<=a?v+u:v,c.endX=c.width-c.offsetRightX,c.startX=a<u?u:a,a+s>c.width-u&&(c.offsetLeftX=c.startX=c.width-u-s,c.offsetRightX=c.width-u,c.endX=c.width-c.offsetRightX),c.scrollbarLoaded=!0},_renderScrollbar:function(c){var r,b;this.scrollsvgObj=this.scrollsvgObj?this.scrollsvgObj:[],n(this.scrollsvgObj[c.index]).empty(),this.scrollsvgObj[c.index]&&n(document).find("[id*= "+this.scrollsvgObj[c.index].id+"]").attr("height","0px");var C=this._id,T=15,D=18;this.scrollsvgObj[c.index]=this.scrollbarContainer.scrollsvgObj[c.index];var R=parseFloat(c.width),A=R-30;c.offsetLeftX=c.scrollbarLoaded?c.offsetLeftX-T:c.offsetLeftX,c.offsetLeftX=c.offsetLeftX<T?0:c.offsetLeftX;var z=c.offsetLeftX/c.oldWidth*A+T,N=c.rectWidth/c.oldWidth*A;c._diff=N<44?44-N:0,N=N>44?N:44,c.oldWidth=A,r=(z=z+N>A?A-(N-T):z)+N,c.rectWidth=N,c.offsetLeftX=c.startX=z,c.offsetRightX=z+N,c.endX=c.width-c.offsetRightX,c.scrollbarLoaded=!0,r=r-T<=z?r+T:r,this.scrollbar=this.renderer.createGroup("horizontal"==c.orientation?{id:C+"_scrollbar_"+c.index,transform:"translate("+(this.padding||0)+","+(this.vmlRendering?-5:0)+")"}:{id:C+"_scrollbar_"+c.index,transform:"translate(0,"+c.width+") rotate(270)"});var ne,ee,re,M,O,B,Q=(0,0,ne=R,D,4,re=" ",M="v",B=(ee=c).opposed,"vertical"==(O=ee.orientation)&&!B||B&&"vertical"!=O?"M 0 4 v 14 h "+ne+re+M+re+"-14 a"+" 4"+" 4 0 0 0"+re+-4+re+"-4 h"+re+-(ne-8)+" a"+" 4"+" 4 0 0 0"+re+-4+" 4 z":"M 0 0 v 14 a 4 4 0 0 0 4 4 h "+(ne-8)+" a"+" 4"+" 4 0 0 0"+" 4"+re+-4+re+M+re+"-14 z"),oe={id:C+"_scrollbarBackRect_"+c.index,"stroke-width":1,height:D,width:R,"stroke-linejoin":"round",stroke:"#B4B4B4",fill:"#F7F7F7",class:"e-rangeScroll-backRect"};this.vmlRendering?this.renderer.drawRect(oe,this.scrollbar):(oe.d=Q,this.renderer.drawPath(oe,this.scrollbar)),this.renderer.drawRect({id:C+"_scrollbarRightRect_"+c.index,"stroke-width":1,x:R-5,height:D,width:5,"stroke-linejoin":"round",stroke:"transparent",fill:"transparent"},this.scrollbar),this.renderer.drawRect({id:C+"_scrollbarLeftRect_"+c.index,"stroke-width":1,x:0,height:D,width:5,"stroke-linejoin":"round",stroke:"transparent",fill:"transparent"},this.scrollbar),this.renderer.drawPath({id:C+"_scrollbarLeftArrow_"+c.index,"stroke-width":1,stroke:"#999999",d:"M 5 9 L 10 14 L 10 3.5 Z",fill:"#999999",class:"e-rangeScroll-arrow"},this.scrollbar),this.renderer.drawPath({id:C+"_scrollbarRightArrow_"+c.index,"stroke-width":1,stroke:"#999999",d:"M "+(R-5)+" 9 L "+(R-10)+" 14 L "+(R-10)+" 3.5 Z",fill:"#999999",class:"e-rangeScroll-arrow"},this.scrollbar),this.renderer.drawRect({id:C+"_scrollbarSelect_"+c.index,x:z,y:0,width:N,rx:4,ry:4,height:17,stroke:"#999999","stroke-width":1,fill:"#CECECE",class:"e-rangeScroll-select"},this.scrollbar),this.centerLine=this.renderer.createGroup({id:C+"_scrollbarCenterLine_"+c.index,transform:"translate("+(z+N/2-7.5)+")"}),this.renderer.drawPath({id:C+"_scrollbarCenterShape_"+c.index,"stroke-width":1,stroke:"#999999",d:"M 0 3.5 L 0 13.5 ZM 5 3.5 L 5 13.5 ZM 10 3.5 L 10 13.5 ZM 15 3.5 L 15 13.5 Z",fill:"#999999",class:"e-rangeScroll-centerShape"},this.centerLine),this.renderer.append(this.centerLine,this.scrollbar),this.renderer.drawRect({id:C+"_leftHeaderHideRect_"+c.index,x:z,y:0,width:11,height:17,fill:"transparent",opacity:0,"stroke-width":1,class:"e-rangeScroll-leftRect"},this.scrollbar),this.renderer.drawCircle({id:C+"_scrollbarLeftHeader_"+c.index,cx:z+8,cy:8.5,r:3,fill:"#999999",stroke:"#999999","stroke-width":1,class:"e-rangeScroll-leftCircle"},this.scrollbar),this.renderer.drawRect({id:C+"_rightHeaderHideRect_"+c.index,x:r-11,y:0,width:11,height:17,fill:"transparent",opacity:0,"stroke-width":1,class:"e-rangeScroll-rightRect"},this.scrollbar),this.renderer.drawCircle({id:C+"_scrollbarRightHeader_"+c.index,fill:"#999999",cx:r-8,cy:8.5,r:3,stroke:"#999999","stroke-width":1,class:"e-rangeScroll-rightCircle"},this.scrollbar),this.renderer.append(this.scrollbar,this.scrollsvgObj[c.index]),"horizontal"==c.orientation?(this.scrollsvgObj[c.index].setAttribute("height",D),this.scrollsvgObj[c.index].setAttribute("width",R)):(this.scrollsvgObj[c.index].setAttribute("height",R),this.scrollsvgObj[c.index].setAttribute("width",D)),this.renderer.append(this.scrollsvgObj[c.index],c.parent),b=this.vmlRendering?c.y+5:c.y,this.scrollsvgObj[c.index].setAttribute("style","ejRangeNavigator"==this.pluginName?"overflow:visible;position:relative;display:block; top:"+(b-c.y)+"px;left:"+c.x+"px":"overflow:visible;position:absolute;display:block; top:"+b+"px;left:"+c.x+"px"),n("#"+C+"_scrollbarSelect_"+c.index).css({cursor:"pointer"}),c.enableResize?(n("#"+C+"_leftHeaderHideRect_"+c.index).css({cursor:"horizontal"==c.orientation?"w-resize":"n-resize"}),n("#"+C+"_rightHeaderHideRect_"+c.index).css({cursor:"horizontal"==c.orientation?"w-resize":"n-resize"}),n("#"+C+"_scrollbarRightHeader_"+c.index).css({cursor:"horizontal"==c.orientation?"w-resize":"n-resize"}),n("#"+C+"_scrollbarLeftHeader_"+c.index).css({cursor:"horizontal"==c.orientation?"w-resize":"n-resize"})):(n("#"+C+"_leftHeaderHideRect_"+c.index).hide(),n("#"+C+"_rightHeaderHideRect_"+c.index).hide(),n("#"+C+"_scrollbarLeftHeader_"+c.index).hide(),n("#"+C+"_scrollbarRightHeader_"+c.index).hide()),this.vmlRendering&&(n("#"+C+"_leftHeaderHideRect_"+c.index).css("visibility","hidden"),n("#"+C+"_rightHeaderHideRect_"+c.index).css("visibility","hidden")),this.scrollbarContainer._bindScrollEvents.call(this,c)},_bindScrollEvents:function(c){function r(l){this._on(n("#"+_+"_scrollbarLeftHeader_"+l.index),"mousedown",this.scrollbarContainer._leftScrollbarDown),this._on(n("#"+_+"_scrollbarRightHeader_"+l.index),"mousedown",this.scrollbarContainer._rightScrollbarDown),this._on(n("#"+_+"_leftHeaderHideRect_"+l.index),"mousedown",this.scrollbarContainer._leftScrollbarDown),this._on(n("#"+_+"_rightHeaderHideRect_"+l.index),"mousedown",this.scrollbarContainer._rightScrollbarDown),this._on(n("#"+_+"_scrollbarLeftArrow_"+l.index),"mousedown",this.scrollbarContainer._leftArrowDown),this._on(n("#"+_+"_scrollbarLeftArrow_"+l.index),"mouseup",this.scrollbarContainer._leftArrowUp),this._on(n("#"+_+"_scrollbarRightArrow_"+l.index),"mousedown",this.scrollbarContainer._rightArrowDown),this._on(n("#"+_+"_scrollbarRightArrow_"+l.index),"mouseup",this.scrollbarContainer._rightArrowUp),this._on(n("#"+_+"_scrollbarSelect_"+l.index),"mousedown",this.scrollbarContainer._scrollSelectRectDown),this._on(n("#"+_+"_scrollbarBackRect_"+l.index),"mousedown",this.scrollbarContainer._scrollBackRectDown),this._on(n("#"+_+"_scrollbarBackRect_"+l.index),"mouseup",this.scrollbarContainer._scrollBackRectUp),this._on(n(window),"mousemove",this.scrollbarContainer._scrollbarMove),this._on(n(window),"mouseup",this.scrollbarContainer._scrollbarUp),this._on(n(this.svgObject),"mousemove",this.scrollbarContainer._scrollbarMove),this._on(n(this.scrollsvgObj[l.index]),"mousemove",this.scrollbarContainer._scrollbarMove),this._on(n(this.scrollsvgObj[l.index]),"mouseup",this.scrollbarContainer._scrollbarUp)}function u(l){this._on(n("#"+_+"_scrollbarLeftHeader_"+l.index),"touchstart",this.scrollbarContainer._leftScrollbarDown),this._on(n("#"+_+"_scrollbarRightHeader_"+l.index),"touchstart",this.scrollbarContainer._rightScrollbarDown),this._on(n("#"+_+"_leftHeaderHideRect_"+l.index),"touchstart",this.scrollbarContainer._leftScrollbarDown),this._on(n("#"+_+"_rightHeaderHideRect_"+l.index),"touchstart",this.scrollbarContainer._rightScrollbarDown),this._on(n("#"+_+"_scrollbarLeftArrow_"+l.index),"touchstart",this.scrollbarContainer._leftArrowDown),this._on(n("#"+_+"_scrollbarLeftArrow_"+l.index),"touchend",this.scrollbarContainer._leftArrowUp),this._on(n("#"+_+"_scrollbarRightArrow_"+l.index),"touchstart",this.scrollbarContainer._rightArrowDown),this._on(n("#"+_+"_scrollbarRightArrow_"+l.index),"touchend",this.scrollbarContainer._rightArrowUp),this._on(n("#"+_+"_scrollbarSelect_"+l.index),"touchstart",this.scrollbarContainer._scrollSelectRectDown),this._on(n("#"+_+"_scrollbarBackRect_"+l.index),"touchstart",this.scrollbarContainer._scrollBackRectDown),this._on(n("#"+_+"_scrollbarBackRect_"+l.index),"touchend",this.scrollbarContainer._scrollBackRectUp),this._on(n(window),"touchmove",this.scrollbarContainer._scrollbarMove),this._on(n(window),"touchend",this.scrollbarContainer._scrollbarUp),this._on(n(this.scrollsvgObj[l.index]),"touchmove",this.scrollbarContainer._scrollbarMove),this._on(n(this.scrollsvgObj[l.index]),"touchend",this.scrollbarContainer._scrollbarUp)}var a,_=this._id,w=jQuery.uaMatch(navigator.userAgent),v=!!navigator.userAgent.match(/Trident\/7\./);if(r.call(this,c),window.PointerEvent)this._on(n("#"+_+"_scrollbarLeftHeader_"+c.index),"pointerdown",this.scrollbarContainer._leftScrollbarDown),this._on(n("#"+_+"_scrollbarRightHeader_"+c.index),"pointerdown",this.scrollbarContainer._rightScrollbarDown),this._on(n("#"+_+"_leftHeaderHideRect_"+c.index),"pointerdown",this.scrollbarContainer._leftScrollbarDown),this._on(n("#"+_+"_rightHeaderHideRect_"+c.index),"pointerdown",this.scrollbarContainer._rightScrollbarDown),this._on(n("#"+_+"_scrollbarLeftArrow_"+c.index),"pointerdown",this.scrollbarContainer._leftArrowDown),this._on(n("#"+_+"_scrollbarLeftArrow_"+c.index),"pointerup",this.scrollbarContainer._leftArrowUp),this._on(n("#"+_+"_scrollbarRightArrow_"+c.index),"pointerdown",this.scrollbarContainer._rightArrowDown),this._on(n("#"+_+"_scrollbarRightArrow_"+c.index),"pointerup",this.scrollbarContainer._rightArrowUp),this._on(n("#"+_+"_scrollbarSelect_"+c.index),"pointerdown",this.scrollbarContainer._scrollSelectRectDown),this._on(n("#"+_+"_scrollbarBackRect_"+c.index),"pointerdown",this.scrollbarContainer._scrollBackRectDown),this._on(n("#"+_+"_scrollbarBackRect_"+c.index),"pointerup",this.scrollbarContainer._scrollBackRectUp),this._on(n(window),"pointermove",this.scrollbarContainer._scrollbarMove),this._on(n(window),"pointerup",this.scrollbarContainer._scrollbarUp),this._on(n(this.scrollsvgObj[c.index]),"pointermove",this.scrollbarContainer._scrollbarMove),this._on(n(this.scrollsvgObj[c.index]),"pointerup",this.scrollbarContainer._scrollbarUp),n(this.scrollsvgObj[c.index]).css("touch-action","none");else if(window.navigator.msPointerEnabled&&!v)this._on(n("#"+_+"_scrollbarLeftHeader_"+c.index),"MSPointerDown",this.scrollbarContainer._leftScrollbarDown),this._on(n("#"+_+"_scrollbarRightHeader_"+c.index),"MSPointerDown",this.scrollbarContainer._rightScrollbarDown),this._on(n("#"+_+"_leftHeaderHideRect_"+c.index),"MSPointerDown",this.scrollbarContainer._leftScrollbarDown),this._on(n("#"+_+"_rightHeaderHideRect_"+c.index),"MSPointerDown",this.scrollbarContainer._rightScrollbarDown),this._on(n("#"+_+"_scrollbarLeftArrow_"+c.index),"MSPointerDown",this.scrollbarContainer._leftArrowDown),this._on(n("#"+_+"_scrollbarLeftArrow_"+c.index),"MSPointerUp",this.scrollbarContainer._leftArrowUp),this._on(n("#"+_+"_scrollbarRightArrow_"+c.index),"MSPointerDown",this.scrollbarContainer._rightArrowDown),this._on(n("#"+_+"_scrollbarRightArrow_"+c.index),"MSPointerUp",this.scrollbarContainer._rightArrowUp),this._on(n("#"+_+"_scrollbarSelect_"+c.index),"MSPointerDown",this.scrollbarContainer._scrollSelectRectDown),this._on(n("#"+_+"_scrollbarBackRect_"+c.index),"MSPointerDown",this.scrollbarContainer._scrollBackRectDown),this._on(n("#"+_+"_scrollbarBackRect_"+c.index),"MSPointerUp",this.scrollbarContainer._scrollBackRectUp),this._on(n(window),"MSPointerMove",this.scrollbarContainer._scrollbarMove),this._on(n(window),"MSPointerUp",this.scrollbarContainer._scrollbarUp),this._on(n(this.scrollsvgObj[c.index]),"MSPointerMove",this.scrollbarContainer._scrollbarMove),this._on(n(this.scrollsvgObj[c.index]),"MSPointerUp",this.scrollbarContainer._scrollbarUp),n(this.scrollsvgObj[c.index]).css("-ms-touch-action","none");else if("chrome"==w.browser.toLowerCase())u.call(this,c);else if(this.isDevice()){var s=-1!=navigator.userAgent.indexOf("Safari")&&-1==navigator.userAgent.indexOf("Chrome"),t=window.location!=window.parent.location?window.parent.navigator.userAgent.toLowerCase():window.navigator.userAgent.toLowerCase(),o=/mobile|tablet|android|kindle/i.test(t);ej.isMobile()&&this.isWindows()||!o&&ej.isMobile()&&s?(r.call(this),n(this.scrollsvgObj[c.index]).css("-ms-touch-action","none")):u.call(this,c)}a="mozilla"==w.browser.toLowerCase()?v?"mousewheel":"DOMMouseScroll":"mousewheel",this._on(n(this.scrollsvgObj[c.index]),a,this.scrollbarContainer._scrollMouseWheel),v&&n(this.scrollsvgObj[c.index]).css("touch-action","none")},_setScrollPosition:function(c,r,u){var w=this._id,v=c+u.rectWidth/2-7.5;n("#"+w+"_scrollbarLeftHeader_"+u.index).attr("cx",c+8),n("#"+w+"_leftHeaderHideRect_"+u.index).attr("x",c),n("#"+w+"_scrollbarRightHeader_"+u.index).attr("cx",r-8),n("#"+w+"_rightHeaderHideRect_"+u.index).attr("x",r-5),n("#"+w+"_scrollbarSelect_"+u.index).attr("x",c),n("#"+w+"_scrollbarSelect_"+u.index).attr("width",u.rectWidth),n("#"+w+"_scrollbarCenterLine_"+u.index).attr("transform","translate("+v+")"),"ejRangeNavigator"==this.pluginName&&(n("#"+w+"_scrollbarLeftHeader_"+u.index).css("left",c),n("#"+w+"_leftHeaderHideRect_"+u.index).css("left",c),n("#"+w+"_scrollbarRightHeader_"+u.index).css("left",r-8),n("#"+w+"_rightHeaderHideRect_"+u.index).css("left",r-5),n("#"+w+"_scrollbarSelect_"+u.index).css("left",c),n("#"+w+"_scrollbarCenterLine_"+u.index).css("left",v))},_calculateScrollLeftMove:function(c,r){r._startX-c>15?(r.startX=r._startX-c,r.offsetLeftX=r.startX,r._offsetRightX=r.startX+r.rectWidth,r.offsetRightX=r._offsetRightX,r.endX=r.width-r.offsetRightX):(r.startX=15,r._offsetLeftX=r.offsetLeftX,r.offsetLeftX=r.startX,r._offsetRightX=r.startX+r.rectWidth,r.offsetRightX=r._offsetRightX,r.endX=r.width-r.offsetRightX)},_calculateScrollRightMove:function(c,r){r&&r._offsetRightX+Math.abs(c)<r.width-15?(r._startX=r.startX+Math.abs(c),r.offsetLeftX=r._startX,r.offsetRightX=r._offsetRightX+Math.abs(c),r.endX=r.width-r.offsetRightX):(r._ofsetRightX=r.offsetRightX,r.offsetRightX=r.width-15,r._startX=r.offsetRightX-r.rectWidth,r.offsetLeftX=r._startX,r.endX=r.width-r.offsetRightX)},_calculateRange:function(c,r,u){var _,w,v,a,s,t,o,l;return _=(c-15)/(u.width-30-u._diff),v=u.scrollRange,w=(u.rectWidth-u._diff)/(u.width-30-u._diff),u.isRTL?a=(s=v.max-_*v.delta)-w*v.delta:s=(a=v.min+_*v.delta)+w*v.delta,"datetime"==u.valueType?(t=u.startDateTime,o=u.endDateTime,u.startDateTime=this.startDateTime=a=new Date(a),u.endDateTime=this.endDateTime=s=new Date(s)):(t=parseInt(u.startValue),o=parseInt(u.endValue),u.startValue=this.startValue=a=Math.ceil(a),u.endValue=this.endValue=s=Math.ceil(s)),u._scrollChanged=!0,(l=n.extend({},ej.EjSvgRender.commonChartEventArgs)).data={zoomPosition:_,zoomFactor:w,oldRange:{start:t,end:o},newRange:{start:a,end:s}},u.zoomPosition=_,u.zoomFactor=w,l},_calculateScrollPosition:function(c,r){var u,_,w,v,a,s,h,l,b,C;if(this.leftScrollbarClicked&&r.enableResize)return u=((c=(c=c>=15?c:15)>=15&&c<r.offsetRightX-15?c:r.offsetRightX-15)-36)/(r.width-30),_=r.rectWidth/(r.width-30),l=r.valueType.toLowerCase(),w=r.scrollRange,r.isRTL?(a=(a=w.max-u*w.delta)<w.max?a:w.max,"datetime"==l?(s=r.startDateTime,h=r.endDateTime,r.endDateTime=this.endDateTime=a=new Date(a),v=r.startDateTime):(s=parseInt(r.startValue),h=parseInt(r.endValue),r.endValue=this.endValue=a=Math.ceil(a),v=Math.ceil(r.startValue))):(v=(v=w.min+u*w.delta)>w.min?v:w.min,"datetime"==l?(s=r.startDateTime,h=r.endDateTime,r.startDateTime=this.startDateTime=v=new Date(v),a=r.endDateTime):(s=parseInt(r.startValue),h=parseInt(r.endValue),r.startValue=this.startValue=v=Math.ceil(v),a=Math.ceil(r.endValue))),(b=n.extend({},ej.EjSvgRender.commonChartEventArgs)).data={zoomPosition:u,zoomFactor:_,oldRange:{start:s,end:h},newRange:{start:v,end:a}},r._scrollChanged=!0,r.zoomPosition=u,r.zoomFactor=_,b;if(this.rightScrollbarClicked&&r.enableResize)return w=r.scrollRange,_=r.rectWidth/(r.width-30),u=r.zoomPosition,l=r.valueType.toLowerCase(),r.isRTL?(v=w.max-(u=(c-36)/(r.width-30))*w.delta,"datetime"==l?(s=r.startDateTime,h=r.endDateTime,r.startDateTime=this.startDateTime=v=new Date(v),a=r.endDateTime):(s=parseInt(r.startValue),h=parseInt(r.endValue),r.startValue=this.startValue=v=Math.floor(v),a=Math.ceil(r.endValue))):(a=w.min+u*w.delta+_*w.delta,"datetime"==l?(s=r.startDateTime,h=r.endDateTime,r.endDateTime=this.endDateTime=a=new Date(a),v=r.startDateTime):(s=parseInt(r.startValue),h=parseInt(r.endValue),r.endValue=this.endValue=a=Math.floor(a),v=Math.ceil(r.startValue))),(b=n.extend({},ej.EjSvgRender.commonChartEventArgs)).data={zoomPosition:r.zoomPosition?r.zoomPosition:0,zoomFactor:_,oldRange:{start:s,end:h},newRange:{start:v,end:a}},r._scrollChanged=!0,r.zoomFactor=_,b;if(r&&this.scrollRectClicked){if((C=this.mouseDownPos-c)>0&&r.offsetLeftX>=0)return this.scrollbarContainer._calculateScrollLeftMove.call(this,C,r),this.scrollbarContainer._calculateRange.call(this,r.startX,r.offsetRightX,r);if(C<0)return this.scrollbarContainer._calculateScrollRightMove.call(this,C,r),this.scrollbarContainer._calculateRange.call(this,r._startX,r.offsetRightX,r)}},_scrollbarMove:function(c){var r,u;if(this.moveClientX=ej.isNullOrUndefined(c.clientX)?null==c.originalEvent.clientX?c.originalEvent.touches[0].clientX:c.originalEvent.clientX:c.clientX,this.moveClientX!=this.downClientX){var v,a,s=this.model.padding||0,h=jQuery.uaMatch(navigator.userAgent),t=this.scrollbarContainer._doScrollIndex.call(this,c);if(!t)return 0;if(this.lastIndex=t.index,v=!this.vmlRendering&&"[object TouchEvent]"!==c.originalEvent.toString()&&"msie"!=h.browser.toLowerCase()||this.vmlRendering?("horizontal"==t.orientation?this.calMousePosition(c).X-t.x:t.width-(this.calMousePosition(c).Y-t.y))-s:("horizontal"==t.orientation?this.calTouchPosition(c).X-t.x:t.width-(this.calTouchPosition(c).Y-t.y))-s,this.mouseX=v,r=this._id,this.leftScrollbarClicked&&t.enableResize&&(t&&(v>34||v>23)&&v<t.offsetRightX-34?(t.rectWidth=t.width-(t.endX+v-8),a=v-8+t.rectWidth/2-7.5,n("#"+r+"_scrollbarLeftHeader_"+t.index).attr("cx",v),n("#"+r+"_leftHeaderHideRect_"+t.index).attr("x",v-7.5),n("#"+r+"_scrollbarSelect_"+t.index).attr("x",v-8),n("#"+r+"_scrollbarSelect_"+t.index).attr("width",t.rectWidth),n("#"+r+"_scrollbarCenterLine_"+t.index).attr("transform","translate("+a+")"),"ejRangeNavigator"==this.pluginName&&(n("#"+r+"_scrollbarLeftHeader_"+t.index).css("left",v),n("#"+r+"_leftHeaderHideRect_"+t.index).css("left",v-7.5),n("#"+r+"_scrollbarSelect_"+t.index).css("left",v),n("#"+r+"_scrollbarSelect_"+t.index).css("width",t.rectWidth),n("#"+r+"_scrollbarCenterLine_"+t.index).css("left",a)),t.offsetLeftX=t.startX=v-8,this.scrollbarContainer._scrollStartArgs.call(this,t),this.scrollbarContainer._scrollChangeArgs.call(this,t),t._diff=0):v>t.offsetRightX-34&&(this.rectWidth=42.89984101748814)),this.rightScrollbarClicked&&t.enableResize&&t&&(v<=t.width-34||v<=t.width-23)&&v>t.offsetLeftX+34&&(t.rectWidth=v-t.offsetLeftX+8,a=t.offsetLeftX+t.rectWidth/2-7.5,n("#"+r+"_scrollbarRightHeader_"+t.index).attr("cx",v),n("#"+r+"_rightHeaderHideRect_"+t.index).attr("x",v-2.5),n("#"+r+"_scrollbarSelect_"+t.index).attr("width",t.rectWidth),n("#"+r+"_scrollbarCenterLine_"+t.index).attr("transform","translate("+a+")"),"ejRangeNavigator"==this.pluginName&&(n("#"+r+"_scrollbarRightHeader_"+t.index).css("left",v),n("#"+r+"_rightHeaderHideRect_"+t.index).css("left",v-2.5),n("#"+r+"_scrollbarSelect_"+t.index).css("width",t.rectWidth),n("#"+r+"_scrollbarCenterLine_"+t.index).css("left",a)),t.offsetRightX=v+8,t.endX=t.width-v-8,this.scrollbarContainer._scrollStartArgs.call(this,t),this.scrollbarContainer._scrollChangeArgs.call(this,t),t._diff=0),this.scrollRectClicked&&(u=this.mouseDownPos-v,t._startX=ej.isNullOrUndefined(t._startX)?t.startX:t._startX,t&&u>0&&t.offsetLeftX>=0&&(this.scrollbarContainer._calculateScrollLeftMove.call(this,u,t),this.scrollbarContainer._setScrollPosition.call(this,t.startX,t.offsetRightX,t),(t.offsetLeftX>15||t.offsetLeftX!=t._offsetLeftX)&&(this.scrollbarContainer._scrollStartArgs.call(this,t),this.scrollbarContainer._scrollChangeArgs.call(this,t))),t&&u<0&&(ej.isNullOrUndefined(t._offsetRightX)&&(this.scrollbarContainer._scrollSelectRectDown.call(this,c),this.scrollbarContainer._scrollbarMove.call(this,c)),this.scrollbarContainer._calculateScrollRightMove.call(this,u,t),this.scrollbarContainer._setScrollPosition.call(this,t._startX,t._startX+t.rectWidth,t),(t.offsetRightX<t.width-15||t.offsetRightX!=t._ofsetRightX)&&(this.scrollbarContainer._scrollStartArgs.call(this,t),!1===this.model.enableDeferredUpdate||t.isZooming||""!=this.model.scrollChanged)))){var g,b,C,T,o=this.scrollbarContainer._calculateRange.call(this,t._startX,t._startX+t.rectWidth,t),l=o.data.oldRange,p=o.data.newRange;"datetime"==t.valueType.toLowerCase()?(g=Date.parse(l.start),C=Date.parse(p.start),b=Date.parse(l.end),T=Date.parse(p.end)):(g=l.start,C=p.start,b=l.end,T=p.end),""!=this.model.scrollChanged&&(g!=C||b!=T)&&(o=this.scrollbarContainer._args.call(this,t,o),this._trigger("scrollChanged",o)),this.model.enableDeferredUpdate||(this.scrollUpdate?this.scrollUpdate=!1:this.scrollbarContainer._appendScrollRange.call(this,t))}}this.offsetX=v},_scrollbarUp:function(c){var u,_,w,v,a,s,h,t,o,r=this.scrollbarContainer._doScrollIndex.call(this,c);n("[id^="+this._id+"_scrollbarSelect_]").attr("class","e-rangeScroll-select"),this.lastIndex=null,u=this.scrollbarContainer._calculateScrollPosition.call(this,this.mouseX,r),_=this.model.enableDeferredUpdate,u&&(w=u.data.oldRange,v=u.data.newRange,"datetime"==r.valueType.toLowerCase()?(a=Date.parse(w.start),h=Date.parse(v.start),s=Date.parse(w.end),t=Date.parse(v.end)):(a=w.start,h=v.start,s=w.end,t=v.end),(a!=h||s!=t||this.scrollRectClicked&&!_||_||this.leftScrollbarClicked||this.rightScrollbarClicked)&&(!(o=navigator.userAgent.toLowerCase().indexOf("chrome")>-1&&navigator.vendor.toLowerCase().indexOf("google")>-1)||o&&(this.leftScrollbarClicked||this.rightScrollbarClicked)&&this.downClientX!=this.moveClientX||this.scrollRectClicked||this.leftArrowClicked||this.rightArrowClicked)&&(!this.leftScrollbarClicked&&!this.rightScrollbarClicked||(this.leftScrollbarClicked||this.rightScrollbarClicked)&&Math.ceil(r.rectWidth)!=Math.ceil(this.rectOldWidth)&&(Math.abs(r.rectWidth-r.rectOldWidth)>4||!r.rectOldWidth))&&(ej.isNullOrUndefined(r._previousStart)||r._previousStart!=h||r._previousEnd!=t)&&(u=this.scrollbarContainer._args.call(this,r,u),this._trigger("scrollEnd",u),r._scrollStarted=!1,r._previousStart=h,r._previousEnd=t,r.rectOldWidth=r.rectWidth,this.scrollUpdate?this.scrollUpdate=!1:this.scrollbarContainer._appendScrollRange.call(this,r)),r.release=!0,r.clicked=!1),this._scrollEnd=!1,this.leftScrollbarClicked=!1,this.rightScrollbarClicked=!1,this.scrollRectClicked=!1,this.leftArrowClicked=!1,this.rightArrowClicked=!1,this.scrollbarBackRectClicked=!1},_leftScrollbarDown:function(c){c.preventDefault(),this.leftScrollbarClicked=!0,this.downClientX=ej.isNullOrUndefined(c.clientX)?c.originalEvent.touches[0].clientX:c.clientX},_rightScrollbarDown:function(c){c.preventDefault(),this.rightScrollbarClicked=!0,this.downClientX=ej.isNullOrUndefined(c.clientX)?c.originalEvent.touches[0].clientX:c.clientX},_scrollSelectRectDown:function(c){var r,w=this.scrollbarContainer._doScrollIndex.call(this,c);n("#"+this._id+"_scrollbarSelect_"+w.index).attr("class","e-rangeScroll-select e-rangeScroll-select-hover"),c.preventDefault();var u=jQuery.uaMatch(navigator.userAgent),_=this.model.padding||0;w=this.scrollbarContainer._doScrollIndex.call(this,c),r=!this.vmlRendering&&"[object TouchEvent]"!==c.originalEvent.toString()&&"msie"!=u.browser.toLowerCase()||this.vmlRendering?("horizontal"==w.orientation?this.calMousePosition(c).X-w.x:w.width-(this.calMousePosition(c).Y-w.y))-_:("horizontal"==w.orientation?this.calTouchPosition(c).X-w.x:w.width-(this.calTouchPosition(c).Y-w.y))-_,this.mouseDownPos=r,w._startX=w.startX=w.offsetLeftX,w._offsetRightX=w.offsetRightX,w.clicked=!0,w.release=!1,this.scrollRectClicked=!0},_scrollMouseWheel:function(c){c.preventDefault();var r=this.scrollbarContainer._doScrollIndex.call(this,c),u=!!navigator.userAgent.match(/Trident\/7\./),_=c.originalEvent.wheelDelta,v="mozilla"==jQuery.uaMatch(navigator.userAgent).browser.toLowerCase()?u?_/120>0?1:-1:-c.originalEvent.detail/3>0?1:-1:_/120>0?1:-1,a=Math.max(1/ej.EjSvgRender.utils._minMax(r.zoomFactor,0,1),1),s=Math.max(a+.25*v,1);this.scrollbarContainer.doMouseWheelZoom.call(this,s,.5,r)},_scrollStartArgs:function(c){if(c._scrollStarted=!0,""!=this.model.scrollStart&&!this._scrollEnd){var r=n.extend({},ej.EjSvgRender.commonChartEventArgs);r.data=c.isZooming?{axis:this.model._axes[c.index],currentRange:this.model._axes[c.index].visibleRange}:{startRange:"datetime"==c.valueType?c.startDateTime:c.startValue,endRange:"datetime"==c.valueType?c.endDateTime:c.endValue},this._trigger("scrollStart",r),this._scrollEnd=!0}},_scrollChangeArgs:function(c){if(!1===this.model.enableDeferredUpdate||c.isZooming||""!=this.model.scrollChanged){var w,v,a,s,r=this.scrollbarContainer._calculateRange.call(this,c.offsetLeftX,c.offsetRightX,c),u=r.data.oldRange,_=r.data.newRange;"datetime"==c.valueType.toLowerCase()?(w=Date.parse(u.start),a=Date.parse(_.start),v=Date.parse(u.end),s=Date.parse(_.end)):(w=u.start,a=_.start,v=u.end,s=_.end),""!=this.model.scrollChanged&&(w!=a||v!=s)&&(r=this.scrollbarContainer._args.call(this,c,r),this._trigger("scrollChanged",r)),this.model.enableDeferredUpdate||(this.scrollUpdate?this.scrollUpdate=!1:this.scrollbarContainer._appendScrollRange.call(this,c))}},_scrollEndArgs:function(c,r){var _,w,v,a,s,h,u=this.scrollbarContainer._calculateRange.call(this,c,r.offsetRightX,r);u&&r._scrollStarted&&(_=u.data.oldRange,w=u.data.newRange,"datetime"==r.valueType.toLowerCase()?(v=Date.parse(_.start),s=Date.parse(w.start),a=Date.parse(_.end),h=Date.parse(w.end)):(v=_.start,s=w.start,a=_.end,h=w.end),(v!=s||a!=h||this.leftScrollbarClicked||this.rightScrollbarClicked)&&(u=this.scrollbarContainer._args.call(this,r,u),this._trigger("scrollEnd",u)),r._scrollStarted=!1,this.scrollUpdate?this.scrollUpdate=!1:this.scrollbarContainer._appendScrollRange.call(this,r))},_args:function(c,r){if(c.isZooming){var u=this.model._axes[c.index],_=r.data;_.axis=u,_.newRange=u.visibleRange,_.oldRange=u.previousRange}return c.isVirtual&&(r.data.axis=this.model._axes[c.index],delete r.data.zoomFactor,delete r.data.zoomPosition),r},doMouseWheelZoom:function(c,r,u){if(c>=1){var _=this.scrollbarContainer.calZoomFactors(c,r,u.zoomFactor,u.zoomPosition);u.zoomPosition!=_.zoomMPosition&&_.zoomMPosition+u.zoomFactor<=1&&u.zoomPosition>=0&&(_.zoomMPosition+u.zoomFactor>=1&&(_.zoomMPosition=1-u.zoomFactor),_.zoomMPosition<0&&(_.zoomMPosition=0),u.zoomPosition=_.zoomMPosition,u.startX=u.zoomPosition*(u.width-30-u._diff)+15,u.startX=u.startX+u.rectWidth+5>u.width?u.width-u.rectWidth-15:u.startX,u.offsetLeftX=u.startX,u._offsetRightX=u.startX+u.rectWidth,u._offsetRightX>u.width-15?(u.offsetRightX=u.width-15,u.startX=u.offsetRightX-u.rectWidth,u.offsetLeftX=u.startX):u.offsetRightX=u._offsetRightX,u.endX=u.width-u.offsetRightX,this.scrollbarContainer._setScrollPosition.call(this,u.startX,u.offsetRightX,u),this.scrollbarContainer._calculateMouseWheelRange.call(this,u.startX,u.offsetRightX,u))}return!1},_calculateMouseWheelRange:function(c,r,u){var _,w,v,s,h,t,o,l,p,g,b,C;u.zoomFactor=u.rectWidth/(u.width-30),u.zoomPosition=(c-15)/(u.width-30-u._diff),_=u.scrollRange,u.isRTL?w=(v=_.max-u.zoomPosition*_.delta)-u.zoomFactor*_.delta:v=(w=_.min+u.zoomPosition*_.delta)+u.zoomFactor*_.delta,"datetime"==u.valueType?(s=u.startDateTime,h=u.endDateTime,u.startDateTime=this.startDateTime=w=new Date(w),u.endDateTime=this.endDateTime=v=new Date(v)):(s=parseInt(u.startValue),h=parseInt(u.endValue),u.startValue=this.startValue=w=Math.ceil(w),u.endValue=this.endValue=v=Math.ceil(v)),(t=n.extend({},ej.EjSvgRender.commonChartEventArgs)).data={zoomPosition:u.zoomPosition,zoomFactor:u.zoomFactor,oldRange:{start:s,end:h},newRange:{start:w,end:v}},u._scrollChanged=!0,u._scrollStarted=!1,o=t.data.oldRange,l=t.data.newRange,"datetime"==u.valueType.toLowerCase()?(p=Date.parse(o.start),b=Date.parse(l.start),g=Date.parse(o.end),C=Date.parse(l.end)):(p=o.start,b=l.start,g=o.end,C=l.end),(p!=b||g!=C||u.isZooming)&&(this.scrollbarContainer._scrollStartArgs.call(this,u),t=this.scrollbarContainer._args.call(this,u,t),this._trigger("scrollEnd",t),this.scrollUpdate?this.scrollUpdate=!1:this.scrollbarContainer._appendScrollRange.call(this,u),this._scrollEnd=!1)},calZoomFactors:function(c,r,u,_){var w,v;return 1==c?(w=1,v=0):v=_+(u-(w=ej.EjSvgRender.utils._minMax(1/c,0,1)))*r,{zoomMFactor:w,zoomMPosition:v}},_leftArrowDown:function(c){var r,u;this.leftArrowClicked=!0,(r=this.scrollbarContainer._doScrollIndex.call(this,c))._startX=r.startX=r.offsetLeftX,r._offsetRightX=r.offsetRightX,r.leftIncrement=5,u=this,r.interval=setInterval(function(){u.scrollbarContainer.leftArrowRecursive.call(u,r)},50)},_leftArrowUp:function(c){this.leftArrowClicked=!1;var r=this.scrollbarContainer._doScrollIndex.call(this,c);this.scrollbarContainer.leftArrowRecursive.call(this,r)},leftArrowRecursive:function(c){this.leftArrowClicked?(this.scrollbarContainer._calculateScrollLeftMove.call(this,c.leftIncrement,c),c._scrollStarted=!0,c.startX>15&&this.scrollbarContainer._scrollEndArgs.call(this,c.startX,c),this.scrollbarContainer._setScrollPosition.call(this,c.startX,c.offsetRightX,c),c.leftIncrement+=5):(clearInterval(c.interval),c.leftIncrement=0)},_rightArrowDown:function(c){var r,u;this.rightArrowClicked=!0,(r=this.scrollbarContainer._doScrollIndex.call(this,c))._startX=r.startX=r.offsetLeftX,r._offsetRightX=r.offsetRightX,r.rightIncrement=-5,u=this,r.interval=setInterval(function(){u.scrollbarContainer.rightArrowRecursive.call(u,r)},50)},_rightArrowUp:function(c){this.rightArrowClicked=!1;var r=this.scrollbarContainer._doScrollIndex.call(this,c);this.scrollbarContainer.rightArrowRecursive.call(this,r)},rightArrowRecursive:function(c){this.rightArrowClicked?(this.scrollbarContainer._calculateScrollRightMove.call(this,c.rightIncrement,c),c._scrollStarted=!0,c.offsetRightX<c.width-15&&this.scrollbarContainer._scrollEndArgs.call(this,c._startX,c),this.scrollbarContainer._setScrollPosition.call(this,c._startX,c.offsetRightX,c),c.rightIncrement-=5):(clearInterval(c.interval),c.rightIncrement=0)},_scrollBackRectDown:function(c){var w,v,a,r=jQuery.uaMatch(navigator.userAgent),u=this.model.padding||0,_=this.scrollbarContainer._doScrollIndex.call(this,c);w=!this.vmlRendering&&"[object TouchEvent]"!==c.originalEvent.toString()&&"msie"!=r.browser.toLowerCase()||this.vmlRendering?("horizontal"==_.orientation?this.calMousePosition(c).X-_.x:_.width-(this.calMousePosition(c).Y-_.y))-u:("horizontal"==_.orientation?this.calTouchPosition(c).X-_.x:_.width-(this.calTouchPosition(c).Y-_.y))-u,this.mouseDownPos=w,this.scrollbarBackRectClicked=!0,v=this,this.scrollbarContainer._scrollStartArgs.call(this,_),a=setInterval(function(){v.scrollbarContainer.scrollBackRectRecursive.call(v,_),this.scrollbarBackRectClicked||clearInterval(a)},50)},_scrollBackRectUp:function(c){this.scrollbarBackRectClicked=!1;var r=this.scrollbarContainer._doScrollIndex.call(this,c);this.scrollbarContainer.scrollBackRectRecursive.call(this,r)},_doScrollIndex:function(c){var r=this._id+"_scrollbar_",u=c.target.parentNode&&c.target.parentNode.id?c.target.parentNode.id:"",_=u.indexOf(r)>-1?parseInt(u.substr(r.length)):NaN;return ej.isNullOrUndefined(this.lastIndex)||isNaN(this.lastIndex)||!this.model.scrollObj[this.lastIndex].release&&this.model.scrollObj[this.lastIndex].clicked&&(_=this.lastIndex),this.lastIndex=ej.isNullOrUndefined(this.lastIndex)?_:this.lastIndex,ej.isNullOrUndefined(this.model.scrollObj[_])?this.model.scrollObj[this.lastIndex]:this.model.scrollObj[_]},scrollBackRectRecursive:function(c){if(this.scrollbarBackRectClicked){var r=.1*(c.width-30);c._startX=c.startX=c.offsetLeftX,c._offsetRightX=c.offsetRightX,this.mouseDownPos<c.startX?(this.scrollbarContainer._calculateScrollLeftMove.call(this,r=r<c.startX?r:c.startX-16,c),c._scrollStarted=!0,this.scrollbarContainer._scrollEndArgs.call(this,c.startX,c),this.scrollbarContainer._setScrollPosition.call(this,c.startX,c.offsetRightX,c)):this.mouseDownPos>c.offsetRightX?(this.scrollbarContainer._calculateScrollRightMove.call(this,r=-1*(r<c.endX?r:c.endX-16),c),c._scrollStarted=!0,this.scrollbarContainer._scrollEndArgs.call(this,c._startX,c),this.scrollbarContainer._setScrollPosition.call(this,c._startX,c.offsetRightX,c)):c._scrollStarted=!1}else c._scrollStarted=!1},_appendScrollRange:function(c){if(this.scrollbarUpdate=!0,"ejRangeNavigator"==this.pluginName)this.renderNavigator();else{var u=this.model._axes[c.index];c.isZooming&&(u.zoomFactor!=c.zoomFactor||u.zoomPosition!=c.zoomPosition)&&(u.zoomFactor=c.zoomFactor,u.zoomPosition=c.zoomPosition,this.redraw(!0))}this.scrollbarUpdate=!1}}}(jQuery),function(n,c){c.widget("ejChart","ej.datavisualization.Chart",{element:null,model:null,validTags:["div"],defaults:{border:{color:"transparent",width:0,opacity:.3},chartArea:{border:{color:"Gray",width:.5,opacity:.3},background:"transparent"},highlightColor:null,primaryXAxis:{rotateOn:"middle",crossesAt:null,crossesInAxis:null,isIndexed:!1,multiLevelLabelsColor:null,multiLevelLabelsFontColor:null,alignment:"center",labelPlacement:"",scrollbarSettings:{visible:!0,canResize:!0,range:{min:null,max:null},pointsLength:null},range:{min:null,max:null,interval:null},labelPosition:"outside",tickLinesPosition:"outside",alternateGridBand:{odd:{fill:"transparent",opacity:1},even:{fill:"transparent",opacity:1}},enableAutoIntervalOnZooming:!0,majorGridLines:{color:null,width:1,dashArray:"",visible:!0,opacity:1},majorTickLines:{color:null,width:1,size:5,visible:!0},minorGridLines:{color:null,width:1,dashArray:"",visible:!0},minorTickLines:{color:null,width:1,size:5,visible:!0},labelBorder:{color:null,width:0},multiLevelLabels:[{visible:!1,text:"",textAlignment:"center",start:null,end:null,level:0,maximumTextWidth:null,textOverflow:"trim",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"12px",fontWeight:"Regular",opacity:1},border:{type:"rectangle",width:1}}],minorTicksPerInterval:null,columnIndex:null,columnSpan:null,labelRotation:null,valueType:null,name:null,labelFormat:null,desiredIntervals:null,intervalType:null,roundingPlaces:null,logBase:10,plotOffset:0,labels:[],stripLine:[{visible:!1,startFromAxis:!1,text:"",width:0,textAlignment:"middlecenter",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"12px",fontWeight:"Regular",color:"black",opacity:1},start:null,end:null,isRepeat:!1,repeatEvery:null,repeatUntil:null,sizeType:"auto",color:"gray",borderColor:"black",zIndex:"over"}],title:{text:"",visible:!0,enableTrim:!1,offset:0,alignment:"center",isReversed:!1,position:"outside",maximumTitleWidth:null,font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"14px",opacity:1,fontWeight:"regular",color:null}},rangePadding:"Auto",additionalPadding:[1,1],orientation:"Horizontal",maximumLabels:3,opposedPosition:!1,showNextToAxisLine:!0,axisLine:{visible:!0,width:1,dashArray:"",offset:0,color:null},labelIntersectAction:"none",maximumLabelWidth:34,enableTrim:!1,edgeLabelPlacement:"none",isInversed:!1,font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"11px",color:null,fontWeight:"regular",opacity:1},visible:!0,crosshairLabel:{rx:3,ry:3,border:{color:null,width:1},fill:null,font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:null},visible:!1},zoomFactor:1,zoomPosition:0},primaryYAxis:{rotateOn:"middle",crossesAt:null,crossesInAxis:null,showNextToAxisLine:!0,alignment:"center",startFromZero:!0,range:{min:null,max:null,interval:null},scrollbarSettings:{visible:!0,canResize:!0,range:{min:null,max:null},pointsLength:null},labelPlacement:"",labelPosition:"outside",tickLinesPosition:"outside",multiLevelLabelsColor:null,multiLevelLabelsFontColor:null,alternateGridBand:{odd:{fill:"transparent",opacity:1},even:{fill:"transparent",opacity:1}},enableAutoIntervalOnZooming:!0,majorGridLines:{color:null,width:1,dashArray:"",visible:!0,opacity:1},majorTickLines:{color:null,width:1,size:5,visible:!0},minorGridLines:{color:null,width:1,dashArray:"",visible:!0},minorTickLines:{color:null,width:1,size:5,visible:!0},labelBorder:{color:null,width:0},multiLevelLabels:[{visible:!1,text:"",textAlignment:"center",start:null,end:null,level:0,maximumTextWidth:null,textOverflow:"trim",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"12px",fontWeight:"Regular",opacity:1},border:{type:"rectangle",width:1}}],minorTicksPerInterval:null,rowIndex:null,rowSpan:null,valueType:null,name:null,labelFormat:null,desiredIntervals:null,intervalType:null,roundingPlaces:null,labels:[],title:{text:"",visible:!0,enableTrim:!1,offset:0,alignment:"center",isReversed:!1,position:"outside",maximumTitleWidth:null,font:{color:null,fontFamily:"Segoe UI",fontStyle:"Normal",opacity:1,size:"14px",fontWeight:"regular"}},rangePadding:"Auto",stripLine:[{visible:!1,startFromAxis:!1,width:0,text:"",textAlignment:"middlecenter",font:{fontFamily:"Segoe UI",fontWeight:"Regular",fontStyle:"Normal",size:"12px",color:"black",opacity:1},start:null,end:null,isRepeat:!1,repeatEvery:null,repeatUntil:null,sizeType:"auto",color:"gray",borderColor:"black",zIndex:"over"}],logBase:10,plotOffset:0,orientation:"Vertical",maximumLabels:3,labelIntersectAction:"none",maximumLabelWidth:34,enableTrim:!1,edgeLabelPlacement:"none",isInversed:!1,crosshairLabel:{rx:3,ry:3,border:{color:null,width:1},fill:null,font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:null},visible:!1},visible:!0,opposedPosition:!1,font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"11px",opacity:1,fontWeight:"regular",color:null},axisLine:{visible:!0,width:1,dashArray:"",offset:0,color:null},zoomFactor:1,zoomPosition:0},axes:[],secondaryX:{rotateOn:"middle",crossesAt:null,crossesInAxis:null,showNextToAxisLine:!0,alignment:"center",multiLevelLabelsColor:null,multiLevelLabelsFontColor:null,range:{min:null,max:null,interval:null},scrollbarSettings:{visible:!0,canResize:!0,range:{min:null,max:null},pointsLength:null},tickLinesPosition:"outside",labelPosition:"outside",majorGridLines:{color:null,width:1,dashArray:"",visible:!0},alternateGridBand:{odd:{fill:"transparent",opacity:1},even:{fill:"transparent",opacity:1}},enableAutoIntervalOnZooming:!0,majorTickLines:{color:null,width:1,size:5,visible:!0},minorGridLines:{color:null,width:1,dashArray:"",visible:!0},minorTickLines:{color:null,width:1,size:5,visible:!0},labelBorder:{color:null,width:0},multiLevelLabels:[{visible:!1,text:"",textAlignment:"center",start:null,end:null,level:0,maximumTextWidth:null,textOverflow:"trim",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"12px",fontWeight:"Regular",opacity:1},border:{type:"rectangle",width:1}}],minorTicksPerInterval:null,columnIndex:null,columnSpan:null,labelRotation:null,valueType:null,name:null,labelFormat:null,labelPlacement:"",desiredIntervals:null,intervalType:null,roundingPlaces:null,logBase:10,plotOffset:0,labels:[],stripLine:[{visible:!1,startFromAxis:!1,text:"",textAlignment:"middlecenter",font:{fontFamily:"Segoe UI",fontStyle:"Normal",fontWeight:"regular",size:"12px",color:"black",opacity:1},start:null,end:null,isRepeat:!1,repeatEvery:null,repeatUntil:null,sizeType:"auto",color:"gray",borderColor:"black",zIndex:"over"}],title:{text:"",visible:!0,enableTrim:!1,offset:0,alignment:"center",isReversed:!1,position:"outside",maximumTitleWidth:null,font:{color:null,fontFamily:"Segoe UI",fontStyle:"Normal",size:"14px",opacity:1,fontWeight:"regular"}},rangePadding:"Auto",additionalPadding:[1,1],orientation:"Horizontal",maximumLabels:3,opposedPosition:!1,axisLine:{visible:!0,width:1,dashArray:"",offset:0,color:null},labelIntersectAction:"none",edgeLabelPlacement:"none",font:{color:null,fontFamily:"Segoe UI",fontStyle:"Normal",size:"11px",fontWeight:"regular",opacity:1},visible:!0,crosshairLabel:{rx:3,ry:3,border:{color:null,width:1},fill:null,font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:null},visible:!1},zoomFactor:1,zoomPosition:0},secondaryY:{rotateOn:"middle",crossesAt:null,crossesInAxis:null,showNextToAxisLine:!0,alignment:"center",startFromZero:!0,multiLevelLabelsColor:null,multiLevelLabelsFontColor:null,range:{min:null,max:null,interval:null},scrollbarSettings:{visible:!0,canResize:!0,range:{min:null,max:null},pointsLength:null},tickLinesPosition:"outside",labelPosition:"outside",majorGridLines:{color:null,width:1,dashArray:"",visible:!0},alternateGridBand:{odd:{fill:"transparent",opacity:1},even:{fill:"transparent",opacity:1}},enableAutoIntervalOnZooming:!0,majorTickLines:{color:null,width:1,size:5,visible:!0},minorGridLines:{color:null,width:1,dashArray:"",visible:!0},minorTickLines:{color:null,width:1,size:5,visible:!0},labelBorder:{color:null,width:0},multiLevelLabels:[{visible:!1,text:"",textAlignment:"center",start:null,end:null,level:0,maximumTextWidth:null,textOverflow:"trim",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"12px",fontWeight:"Regular",opacity:1},border:{type:"rectangle",width:1}}],minorTicksPerInterval:null,rowIndex:null,rowSpan:null,valueType:null,name:null,labelFormat:null,desiredIntervals:null,intervalType:null,roundingPlaces:null,labels:[],title:{text:"",visible:!0,enableTrim:!1,offset:0,alignment:"center",isReversed:!1,position:"outside",maximumTitleWidth:null,font:{fontFamily:"Segoe UI",fontStyle:"Normal",opacity:1,size:"14px",fontWeight:"regular",color:null}},rangePadding:"Auto",stripLine:[{visible:!1,startFromAxis:!1,text:"",textAlignment:"middlecenter",font:{fontFamily:"Segoe UI",fontStyle:"Normal",fontWeight:"regular",size:"12px",color:"black",opacity:1},start:null,end:null,isRepeat:!1,repeatEvery:null,repeatUntil:null,sizeType:"auto",color:"gray",borderColor:"black",zIndex:"over"}],logBase:10,plotOffset:0,orientation:"Vertical",maximumLabels:3,labelIntersectAction:"none",labelPlacement:"",edgeLabelPlacement:"none",crosshairLabel:{rx:3,ry:3,border:{color:null,width:1},fill:null,font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"13px",fontWeight:"regular",opacity:1,color:null},visible:!1},visible:!0,opposedPosition:!1,font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"11px",opacity:1,fontWeight:"regular"},axisLine:{color:null,visible:!0,width:1,dashArray:"",offset:0},zoomFactor:1,zoomPosition:0},trendlineDefaults:{type:"linear",visibility:"",visibleOnLegend:"visible",name:"Trendline",fill:"",width:1,opacity:1,dashArray:"",forwardForecast:0,backwardForecast:0,polynomialOrder:2,period:2,intercept:null,tooltip:{visible:!1,format:null,fill:null,border:{width:1,color:null},duration:"500ms",enableAnimation:!0,opacity:.95,font:{fontFamily:"Segoe UI",fontStyle:"Normal",fontWeight:"Regular",size:"12px",opacity:1}}},indicatorDefaults:{visible:!0,points:[],tooltip:{visible:!1,format:null,fill:null,border:{width:1,color:null},duration:"500ms",enableAnimation:!0,opacity:.95},seriesName:"",font:{fontFamily:"Segoe UI",fontStyle:"Normal",fontWeight:"Regular",size:"12px",color:"#707070",opacity:1},type:"SMA",period:14,standardDeviations:2,kPeriod:3,dPeriod:3,periodLine:{fill:"blue",width:2},lowerLine:{fill:"#008000",width:2},upperLine:{fill:"#ff0000",width:2},macdLine:{fill:"#ff9933",width:2},histogram:{fill:"#ccccff",opacity:1,border:{color:"#9999ff",width:1}},fill:"#00008B",width:2,xAxisName:"",yAxisName:"",visibility:"visible",macdType:"line",shortPeriod:12,longPeriod:26,trigger:9,enableAnimation:!1,animationDuration:null},annotationsDefault:{visible:!1,content:"",coordinateUnit:"none",verticalAlignment:"middle",horizontalAlignment:"middle",region:"chart",x:0,y:0,opacity:1,angle:0,xAxisName:"",yAxisName:"",margin:{left:0,right:0,bottom:0,top:0}},multiLevelLabelsDefault:{visible:!1,text:"",textAlignment:"center",start:null,end:null,level:0,maximumTextWidth:null,textOverflow:"trim",font:{fontFamily:"Segoe UI",fontStyle:"Normal",size:"12px",fontWeight:"Regular",opacity:1},border:{type:"rectangle",width:1}},stripLineDefault:{visible:!1,startFromAxis:!1,width:0,text:"",textAlignment:"middlecenter",font:{fontFamily:"Segoe UI",fontStyle:"Normal",fontWeight:"Regular",size:"12px",color:"black",opacity:1},start:null,end:null,isRepeat:!1,repeatEvery:null,repeatUntil:null,sizeType:"auto",color:"gray",borderColor:"black",zIndex:"over",borderWidth:1},rowDefinitions:null,columnDefinitions:null,title:{text:"",enableTrim:!1,visible:!0,isReversed:!1,maximumWidth:"auto",textOverflow:"trim",textAlignment:"center",background:"transparent",border:{color:"transparent",width:1,opacity:.8,cornerRadius:.8},font:{color:null,fontFamily:"Segoe UI",fontStyle:"Normal",size:"16px",opacity:1,fontWeight:"regular"},subTitle:{text:"",enableTrim:!1,visible:!0,maximumWidth:"auto",textOverflow:"trim",textAlignment:"far",background:"transparent",border:{color:"transparent",width:1,opacity:.8,cornerRadius:.8},font:{color:null,fontFamily:"Segoe UI",fontStyle:"Normal",size:"12px",opacity:1,fontWeight:"regular"}}},lineCap:{butt:"butt",round:"round",square:"square"},lineJoin:{round:"round",bevel:"bevel",miter:"miter"},legendAlignment:{near:"near",center:"center",far:"far"},legendPosition:{top:"top",bottom:"bottom",right:"right",left:"left",custom:"custom"},enableAnimation:!0,legend:{title:{text:"",textAlignment:"center",font:{color:null,size:"12px",fontFamily:"Segoe UI",fontStyle:"normal",fontWeight:"regular"}},border:{color:"transparent",width:1},visible:!0,isReversed:!1,textOverflow:"trim",textWidth:34,legendContainerWidth:"20%",toggleSeriesVisibility:!0,enableScrollbar:!0,itemPadding:10,shape:"None",alignment:"Center",position:"Bottom",location:{x:0,y:0},itemStyle:{height:9,width:9,border:{color:"transparent",width:1}},rowCount:null,columnCount:null,opacity:1,fill:null,background:null,font:{color:null,fontFamily:"Segoe UI",fontStyle:"Normal",fontWeight:"Regular",size:"12px"},size:{height:null,width:null}},indicators:[{points:[],tooltip:{visible:!1,format:null,fill:null,border:{width:1,color:null},duration:"500ms",enableAnimation:!0,opacity:.95},seriesName:"",animationDuration:null,type:"SMA",period:14,standardDeviations:2,kPeriod:3,dPeriod:3,periodLine:{fill:"blue",width:2},lowerLine:{fill:"#008000",width:2},upperLine:{fill:"#ff0000",width:2},macdLine:{fill:"#ff9933",width:2},histogram:{fill:"#ccccff",opacity:1,border:{color:"#9999ff",width:1}},fill:"#00008B",visible:!0,font:{fontFamily:"Segoe UI",fontStyle:"Normal",fontWeight:"Regular",size:"12px",color:"#707070",opacity:1},width:2,xAxisName:"",yAxisName:"",macdType:"line",shortPeriod:12,longPeriod:26,trigger:9,visibility:"visible",enableAnimation:!1}],background:null,backGroundImageUrl:null,annotations:[{visible:!1,content:"",coordinateUnit:"none",verticalAlignment:"middle",horizontalAlignment:"middle",region:"chart",x:0,y:0,opacity:1,angle:0,xAxisName:"",yAxisName:"",margin:{left:0,right:0,bottom:0,top:0}}],series:[{dragSettings:{enable:!1,type:"xy"},type:"column",enableTrackTooltip:!0,splitMode:"value",splitValue:null,splineType:"natural",cardinalSplineTension:.5,gapWidth:50,pieOfPieCoefficient:.6,visibleOnLegend:"visible",enableAnimation:!1,animationDuration:null,animationType:"linear",isClosed:!0,isTransposed:!1,isStacking:!0,columnSpacing:0,columnWidth:.7,columnFacet:"rectangle",drawType:"line",doughnutCoefficient:.4,explodeOffset:25,pyramidMode:"linear",boxPlotMode:"exclusive",funnelWidth:"11.6%",funnelHeight:"32.7%",positiveFill:null,showMedian:!0,outlierSettings:{shape:"circle",size:{width:6,height:6}},cornerRadius:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},connectorLine:{width:1,opacity:1,dashArray:null},errorBar:{visibility:"hidden",mode:"vertical",type:"fixedValue",horizontalErrorValue:1,verticalErrorValue:3,horizontalPositiveErrorValue:1,horizontalNegativeErrorValue:1,verticalPositiveErrorValue:5,verticalNegativeErrorValue:5,direction:"both",cap:{visible:!0,width:1,length:20},width:1,opacity:1},highlightSettings:{enable:!1,mode:"series",color:"",opacity:.6,border:{color:"",width:2},pattern:"none",customPattern:""},selectionSettings:{type:"Single",enable:!1,mode:"series",rangeType:"xy",color:"",opacity:.6,border:{color:"",width:2},pattern:"none",customPattern:""},emptyPointSettings:{visible:!0,style:{color:"",border:{color:"",width:1}},displayMode:"gap"},labelPosition:"inside",gapRatio:0,points:null,pieCoefficient:.8,doughnutSize:.8,dataSource:null,high:"",low:"",open:"",close:"",bullFillColor:null,bearFillColor:null,query:null,xName:"",yName:"",pointColorMappingName:"",visibility:"visible",startAngle:null,endAngle:null,xAxisName:null,yAxisName:null,explodeAll:null,explode:!1,explodeIndex:null,enableSmartLabels:null,tooltip:{visible:!1,isReversed:!1,format:null,template:null,fill:null,border:{width:1,color:null},enableAnimation:!0,duration:"500ms",opacity:.95},fill:null,opacity:1,lineCap:"butt",lineJoin:"round",dashArray:"",border:{width:1,color:"transparent",dashArray:""},width:2,marker:{shape:"circle",imageUrl:"",size:{width:6,height:6},visible:!1,opacity:1,fill:null,border:{color:"white",width:3},dataLabel:{visible:!1,isReversed:!1,angle:0,showEdgeLabels:!1,enableContrastColor:!1,textMappingName:"",verticalTextAlignment:"center",horizontalTextAlignment:"center",textPosition:"top",textAnchor:"middle",shape:"none",opacity:1,fill:null,border:{color:"white",width:.1},maximumLabelWidth:null,enableWrap:!1,connectorLine:{width:.5,type:"line",color:null},offset:{x:0,y:0},font:{fontFamily:"Segoe UI",fontStyle:"Normal",fontWeight:"Regular",color:null,size:"11px",opacity:1},margin:{left:5,top:5,bottom:5,right:5}}},bubbleOptions:{radiusMode:"minmax",minRadius:1,maxRadius:3},trendlines:[{visibility:"",visibleOnLegend:"visible",type:"linear",name:"Trendline",fill:"",width:1,opacity:1,dashArray:"",forwardForecast:0,backwardForecast:0,polynomialOrder:2,period:2,intercept:null,tooltip:{visible:!1,format:null,fill:null,border:{width:1,color:null},duration:"500ms",enableAnimation:!0,opacity:.95,font:{fontFamily:"Segoe UI",fontStyle:"Normal",fontWeight:"Regular",color:null,size:"12px",opacity:1}}}],font:{fontFamily:"Segoe UI",fontStyle:"Normal",fontWeight:"Regular",size:"12px",color:"#707070",opacity:1},_isdesigntime:!0}],commonSeriesOptions:{dragSettings:{enable:!1,type:"xy"},type:"column",enableTrackTooltip:!0,splitMode:"value",splitValue:null,splineType:"natural",cardinalSplineTension:.5,gapWidth:50,pieOfPieCoefficient:.6,visibleOnLegend:"visible",enableAnimation:!1,animationDuration:null,animationType:"linear",isClosed:!0,isTransposed:!1,isStacking:!1,columnWidth:.7,columnSpacing:0,columnFacet:"rectangle",drawType:"line",doughnutCoefficient:.4,explodeOffset:25,pyramidMode:"linear",boxPlotMode:"exclusive",funnelWidth:"11.6%",funnelHeight:"32.7%",positiveFill:null,showMedian:!0,outlierSettings:{shape:"circle",size:{width:6,height:6}},cornerRadius:{topLeft:0,topRight:0,bottomLeft:0,bottomRight:0},connectorLine:{width:1,opacity:1,dashArray:null},errorBar:{visibility:"hidden",mode:"vertical",type:"fixedValue",horizontalErrorValue:1,verticalErrorValue:3,horizontalPositiveErrorValue:1,horizontalNegativeErrorValue:1,verticalPositiveErrorValue:5,verticalNegativeErrorValue:5,direction:"both",cap:{visible:!0,width:1,length:20},width:1,opacity:1},highlightSettings:{enable:!1,mode:"series",color:"",opacity:.6,border:{color:"",width:2},pattern:"none",customPattern:""},selectionSettings:{type:"Single",enable:!1,mode:"series",rangeType:"xy",color:"",opacity:.6,border:{color:"",width:2},pattern:"none",customPattern:""},emptyPointSettings:{visible:!0,style:{color:"",border:{color:"",width:1}},displayMode:"gap"},labelPosition:"inside",gapRatio:0,pieCoefficient:.8,doughnutSize:.8,dataSource:null,xName:"",yName:"",pointColorMappingName:"",high:"",low:"",open:"",close:"",startAngle:null,endAngle:null,xAxisName:null,yAxisName:null,explodeAll:!1,explode:!1,explodeIndex:null,enableSmartLabels:null,tooltip:{visible:!1,isReversed:!1,format:null,template:null,fill:null,border:{color:null,width:1},enableAnimation:!0,duration:"500ms",opacity:.95},fill:null,opacity:1,lineCap:"butt",lineJoin:"round",dashArray:"",border:{color:"transparent",width:1,dashArray:""},width:2,marker:{shape:"circle",imageUrl:"",size:{width:6,height:6},visible:!1,opacity:1,fill:null,border:{color:"white",width:3},dataLabel:{visible:!1,isReversed:!1,angle:0,enableContrastColor:!1,showEdgeLabels:!1,textMappingName:"",verticalTextAlignment:"center",horizontalTextAlignment:"center",textPosition:"top",textAnchor:"middle",shape:"none",maximumLabelWidth:null,enableWrap:!1,opacity:1,fill:null,border:{color:"white",width:.1},offset:{x:0,y:0},connectorLine:{width:.5,type:"line",height:null},font:{fontFamily:"Segoe UI",fontStyle:"Normal",fontWeight:"Regular",size:"11px",color:null,opacity:1},margin:{left:5,top:5,bottom:5,right:5}}},bubbleOptions:{radiusMode:"minmax",minRadius:1,maxRadius:3},trendlines:[{visibility:"",visibleOnLegend:"visible",type:"linear",name:"Trendline",fill:"",width:1,opacity:1,dashArray:"",forwardForecast:0,backwardForecast:0,polynomialOrder:2,period:2,intercept:null,tooltip:{visible:!1,format:null,fill:null,border:{width:1,color:null},duration:"500ms",enableAnimation:!0,opacity:.95,font:{fontFamily:"Segoe UI",fontStyle:"Normal",fontWeight:"Regular",color:null,size:"12px",opacity:1}}}],font:{fontFamily:"Segoe UI",fontStyle:"Normal",fontWeight:"Regular",size:"12px",color:"#707070",opacity:1}},crosshair:{line:{width:1},marker:{visible:!0,size:{width:10,height:10},opacity:1,border:{width:3}},visible:!1,isReversed:!1,type:"crosshair",trackballTooltipSettings:{fill:null,mode:"float",border:{width:null,color:null},rx:3,ry:3,opacity:1,tooltipTemplate:null}},pointStyle:{lineCap:"butt",lineJoin:"round",opacity:1,interior:null,borderColor:null,borderWidth:1},textStyle:{marker:{textAlignment:"center",textPosition:"top"},font:{fontFamily:"Segoe UI",fontStyle:"Normal",fontWeight:"Regular",size:"12px",color:"#707070",opacity:1}},symbolShape:{None:0,LeftArrow:1,RightArrow:2,Circle:3,Cross:4,HorizLine:5,VertLine:6,Diamond:7,Rectangle:8,Triangle:9,InvertedTriangle:10,Hexagon:11,Pentagon:12,Star:13,Ellipse:14,Wedge:15,Trapezoid:16,UpArrow:17,DownArrow:18,Image:19,SeriesType:20},initSeriesRender:!0,theme:"flatlight",canResize:!1,isResponsive:!1,enable3D:!1,enableRotation:!1,sideBySideSeriesPlacement:null,perspectiveAngle:90,rotation:0,tilt:0,wallSize:2,depth:100,enableCanvasRendering:!1,selectedDataPointIndexes:[],exportSettings:{type:"png",fileName:"Chart",orientation:"portrait",angle:0,mode:"client",action:"",multipleExport:!1},zooming:{enable:!1,isReversed:!1,enableScrollbar:!1,type:"x,y",enablePinching:!0,enableMouseWheel:!1,enableDeferredZoom:!1,toolbarItems:["zoomIn","zoomOut","zoom","pan","reset"]},type:"x,y",locale:null,xZoomFactor:1,yZoomFactor:1,xZoomPosition:0,yZoomPosition:0,load:"",axesLabelRendering:"",axesRangeCalculate:"",axesTitleRendering:"",dragStart:"",dragging:"",dragEnd:"",chartAreaBoundsCalculate:"",legendItemRendering:"",legendBoundsCalculate:"",preRender:"",seriesRendering:"",trendlineRendering:"",symbolRendering:"",titleRendering:"",subtitleRendering:"",axesLabelsInitialize:"",pointRegionClick:"",seriesRegionClick:"",annotationClick:"",axisLabelClick:"",chartClick:"",scrollStart:"",scrollEnd:"",scrollChanged:"",chartDoubleClick:"",pointRegionMouseMove:"",legendItemClick:"",axisLabelMouseMove:"",chartMouseMove:"",legendItemMouseMove:"",chartMouseLeave:"",displayTextRendering:"",toolTipInitialize:"",trackAxisToolTip:"",trackToolTip:"",animationComplete:"",zoomed:"",destroy:"",create:"",beforeResize:"",afterResize:"",rangeSelected:"",multiLevelLabelClick:"",multiLevelLabelRendering:"",margin:{left:10,right:10,top:10,bottom:10},size:{width:null,height:null},elementSpacing:10,dateStart:25568.791666666668},dataTypes:{commonSeriesOptions:{dataSource:"data"},axes:"array",series:"array",annotations:"array",indicators:"array",seriesColors:"array",palette:"array",rowDefinitions:"array",columnDefinitions:"array",seriesBorderColors:"array",pointColors:"array",pointBorderColors:"array",initSeriesRender:"boolean",theme:"enum",canResize:"boolean",isResponsive:"boolean",elementSpacing:"number",primaryXAxis:{labels:"array",multiLevelLabels:"array",stripLine:"array",orientation:"enum",rangePadding:"enum",labelPlacement:"enum",tickLinesPosition:"enum",labelPosition:"enum",opposedPosition:"boolean",zoomFactor:"number",zoomPosition:"number",showNextToAxisLine:"boolean"},primaryYAxis:{labels:"array",multiLevelLabels:"array",stripLine:"array",orientation:"enum",rangePadding:"enum",labelPlacement:"enum",opposedPosition:"boolean",zoomFactor:"number",zoomPosition:"number"},legend:{textOverflow:"enum",shape:"enum",alignment:"enum",position:"enum",itemPadding:"number"},exportSettings:{type:"string",fileName:"string",orientation:"enum",angle:"number",mode:"enum",action:"string",multipleExport:"boolean"},zooming:{enable:"boolean",type:"string",enableMouseWheel:"boolean",toolbarItems:"array",enableScrollbar:"boolean"},size:{width:"string",height:"string"}},observables:["xZoomFactor","yZoomFactor","xZoomPosition","yZoomPosition"],_tags:[{tag:"series",attr:["xAxisName","yAxisName","zOrder","endAngle","startAngle","explodeIndex","labelPosition","xName","yName","pointColorMappingName","pyramidMode","boxPlotMode","showMedian","pieCoefficient","explodeAll","explodeOffset","funnelWidth","columnFacet","funnelHeight","gapRatio","isClosed","isTransposed","enableTrackTooltip","isStacking","bearFillColor","bullFillColor","dataSource","enableAnimation","animationDuration","doughnutCoefficient","doughnutSize","enableSmartLabels","drawType","dashArray","visibleOnLegend","columnSpacing","columnWidth","drawType","positiveFill","explodeIndex","cornerRadius","lineCap","lineJoin","highlightSettings.enable","highlightSettings.mode","highlightSettings.pattern","highlightSettings.color","highlightSettings.opacity","highlightSettings.customPattern","highlightSettings.border.color","highlightSettings.border.width","selectionSettings.enable","selectionSettings.mode","selectionSettings.pattern","selectionSettings.color","selectionSettings.opacity","selectionSettings.customPattern","selectionSettings.type","selectionSettings.rangeType","selectionSettings.border.width","selectionSettings.border.color","dragSettings.enable","dragSettings.type","connectorLine.width","connectorLine.opacity","connectorLine.dashArray","cornerRadius.topLeft","cornerRadius.topRight","cornerRadius.bottomLeft","cornerRadius.bottomRight","errorBar.visibility","errorBar.mode","errorBar.type","errorBar.horizontalErrorValue","errorBar.verticalErrorValue","errorBar.horizontalPositiveErrorValue","errorBar.horizontalNegativeErrorValue","errorBar.verticalPositiveErrorValue","errorBar.verticalNegativeErrorValue","errorBar.direction","errorBar.cap.visible","errorBar.cap.width","errorBar.cap.length","errorBar.width","errorBar.opacity","emptyPointSettings.visible","emptyPointSettings.style.color","emptyPointSettings.style.border.color","emptyPointSettings.style.border.width","emptyPointSettings.displayMode","bubbleOptions.minRadius","bubbleOptions.maxRadius","bubbleOptions.radiusMode","tooltip.visible","tooltip.format","tooltip.template","tooltip.fill","tooltip.border.width","tooltip.border.color","tooltip.enableAnimation","tooltip.duration","tooltip.opacity","tooltip.font.size","tooltip.font.opacity","tooltip.font.fontFamily","tooltip.font.fontStyle","tooltip.font.fontWeight","tooltip.font.color","border.width","border.color","border.dashArray","marker.shape","marker.imageUrl","marker.size.width","marker.size.height","marker.visible","marker.opacity","marker.fill","marker.border.color","marker.border.width","marker.dataLabel.visible","marker.dataLabel.angle","marker.dataLabel.template","marker.dataLabel.textMappingName","marker.dataLabel.verticalTextAlignment","marker.dataLabel.horizontalTextAlignment","marker.dataLabel.textPosition","marker.dataLabel.textAnchor","marker.dataLabel.shape","marker.dataLabel.opacity","marker.dataLabel.fill","marker.dataLabel.border.color","marker.dataLabel.border.width","marker.dataLabel.maximumLabelWidth","marker.dataLabel.enableWrap","marker.dataLabel.connectorLine.width","marker.dataLabel.connectorLine.type","marker.dataLabel.connectorLine.color","marker.dataLabel.offset","marker.dataLabel.offset.x","marker.dataLabel.offset.y","marker.dataLabel.font.size","marker.dataLabel.font.color","marker.dataLabel.enableContrastColor","marker.dataLabel.showEdgeLabels","marker.dataLabel.font.opacity","marker.dataLabel.font.fontFamily","marker.dataLabel.font.fontStyle","marker.dataLabel.font.fontWeight","marker.dataLabel.margin","marker.dataLabel.margin.left","marker.dataLabel.margin.top","marker.dataLabel.margin.bottom","marker.dataLabel.margin.right","font.size","font.opacity","font.fontFamily","font.fontStyle","font.fontWeight","font.color","splineType","cardinalSplineTension",[{tag:"trendlines",attr:["visibility","visibilityOnLegend","dashArray","forewardForecast","backwardForecast","polynomialOrder","tooltip.visible","tooltip.format","tooltip.fill","tooltip.border.width","tooltip.border.color","tooltip.enableAnimation","tooltip.duration","tooltip.opacity","tooltip.font.size","tooltip.font.opacity","tooltip.font.fontFamily","tooltip.font.fontStyle","tooltip.font.fontWeight","tooltip.font.color"],singular:"trendline"}],[{tag:"points",attr:["x","y","text","textMappingName","isEmpty","fill","visible"],singular:"points"}]],singular:"series"},{tag:"axes",attr:["columnIndex","rowIndex","desiredIntervals","multiLevelLabelsColor","multiLevelLabelsFontColor","isIndexed","labelPlacement","edgeLabelPlacement","intervalType","labelFormat","labelPosition","labelRotation","logBase","labelIntersectAction","opposedPosition","plotOffset","rangePadding","roundingPlaces","valueType","zoomFactor","zoomPosition","orientation","crossesAt","crossesInAxis","scrollbarSettings.visible","scrollbarSettings.canResize","scrollbarSettings.range.min","scrollbarSettings.range.max","scrollbarSettings.pointsLength","range.min","range.max","range.interval","tickLinesPosition","alternateGridBand.odd.fill","alternateGridBand.odd.opacity","alternateGridBand.even.fill","alternateGridBand.even.opacity","enableAutoIntervalOnZooming","majorGridLines.width","majorGridLines.color","majorGridLines.dashArray","majorGridLines.visible","majorGridLines.opacity","majorTickLines.color","majorTickLines.width","majorTickLines.size","majorTickLines.visible","minorGridLines.width","minorGridLines.dashArray","minorGridLines.color","minorGridLines.visible","minorTickLines.color","minorTickLines.width","minorTickLines.size","minorTickLines.visible","labelBorder.color","labelBorder.width","minorTicksPerInterval","columnSpan","crosshairLabel.visible","crosshairLabel.rx","crosshairLabel.ry","crosshairLabel.border.color","crosshairLabel.border.width","crosshairLabel.fill","crosshairLabel.font.fontFamily","crosshairLabel.font.fontStyle","crosshairLabel.font.size","crosshairLabel.font.fontWeight","crosshairLabel.font.opacity","crosshairLabel.font.color","font.size","font.color","font.opacity","font.fontFamily","font.fontStyle","font.fontWeight","isInversed","enableTrim","maximumLabelWidth","axisLine.visible","axisLine.width","axisLine.color","axisLine.dashArray","axisLine.offset","maximumLabels","title.text","title.visible","title.enableTrim","title.offset","title.alignment","title.position","title.maximumTitleWidth","title.font.size","title.font.color","title.font.opacity","title.font.fontFamily","title.font.fontStyle","title.font.fontWeight","additionalPadding","showNextToAxisLine",[{tag:"stripLine",attr:["borderColor","startFromAxis","zIndex","textAlignment","font.size","font.opacity","font.fontFamily","font.fontStyle","font.fontWeight","font.color"],singular:"stripLine"}],[{tag:"multiLevelLabels",attr:["textOverflow","maximumTextWidth","textAlignment","font.size","font.opacity","font.fontFamily","font.fontStyle","font.fontWeight","border.type","border.width"],singular:"multiLevelLabel"}]],singular:"axis"},{tag:"primaryXAxis.stripLine",attr:["borderColor","startFromAxis","zIndex","textAlignment","font.size","font.opacity","font.fontFamily","font.fontStyle","font.fontWeight","font.color"],singular:"primaryXAxis.stripLine"},{tag:"primaryYAxis.stripLine",attr:["borderColor","startFromAxis","zIndex","textAlignment","font.size","font.opacity","font.fontFamily","font.fontStyle","font.fontWeight","font.color"],singular:"primaryYAxis.stripLine"},{tag:"primaryXAxis.multiLevelLabels",attr:["textOverflow","maximumTextWidth","textAlignment","font.size","font.opacity","font.fontFamily","font.fontStyle","font.fontWeight","border.type","border.width"],singular:"primaryXAxis.multiLevelLabel"},{tag:"primaryYAxis.multiLevelLabels",attr:["textOverflow","maximumTextWidth","textAlignment","font.size","font.opacity","font.fontFamily","font.fontStyle","font.fontWeight","border.type","border.width"],singular:"primaryYAxis.multiLevelLabel"},{tag:"indicators",attr:["seriesName","xName","xAxisName","macdType","shortPeriod","longPeriod","enableAnimation","animationDuration","yAxisName","standardDeviations","kPeriod","dPeriod","periodLine.fill","periodLine.width","lowerLine.fill","lowerLine.width","upperLine.fill","upperLine.width","macdLine.fill","macdLine.width","histogram.fill","histogram.opacity","histogram.border.color","histogram.border.width","font.size","font.opacity","font.fontFamily","font.fontStyle","font.fontWeight","font.color","tooltip.visible","tooltip.format","tooltip.fill","tooltip.border.width","tooltip.border.color","tooltip.enableAnimation","tooltip.duration","tooltip.opacity",[{tag:"points",attr:[]}]],singular:"indicator"},{tag:"annotations",attr:["coordinateUnit","verticalAlignment","horizontalAlignment","xAxisName","yAxisName","margin.left","margin.right","margin.top","margin.bottom"],singular:"annotation"},{tag:"rowDefinitions",attr:["rowHeight","lineColor","lineWidth","unit"],singular:"rowDefinition"},{tag:"columnDefinitions",attr:["columnWidth","lineColor","lineWidth","unit"],singular:"columnDefinition"}],_xZoomFactor:c.util.valueFunction("xZoomFactor"),_yZoomFactor:c.util.valueFunction("yZoomFactor"),_xZoomPosition:c.util.valueFunction("xZoomPosition"),_yZoomPosition:c.util.valueFunction("yZoomPosition"),_init:function(){this._renderSfChart()},_destroy:function(){n("#template_group_"+this._id).remove(),n("#annotation_group_"+this._id).remove(),n(this.element).removeClass("e-chart e-js").find("#"+this.svgObject.id).remove(),n(this.element).removeClass("e-chart e-js").find("#legend_"+this.svgObject.id).remove()},_series:function(){this.redraw(),this._trigger("refresh")},_series_points:function(){this.redraw(),this._trigger("refresh")},_primaryXAxis_stripLine:function(){this.redraw(),this._trigger("refresh")},_primaryYAxis_stripLine:function(){this.redraw(),this._trigger("refresh")},_axes:function(){this.redraw(),this._trigger("refresh")},_axes_stripLine:function(){this.redraw(),this._trigger("refresh")},_ignoreOnExport:["dataSource"],_removeZoomkit:function(){this.model.zooming.enable&&(n("[id^="+this._id+"_][id$=_ResetZoom]").remove(),n("[id^="+this._id+"_][id$=_PanBtn]").remove(),n("[id^="+this._id+"_][id$=_ZoomBtn]").remove(),n("[id^="+this._id+"_][id$=_ZoomInBtn]").remove(),n("[id^="+this._id+"_][id$=_ZoomOutBtn]").remove())},getCanvasElement:function(r){n("#"+r);var u,w=document.createElement("canvas"),v=w.getContext("2d"),a=n("#"+r+"_canvas").width(),s=n("#"+r+"_canvas").height();return w.setAttribute("width",a),w.setAttribute("height",s),u=n("#"+r+"_canvas")[0],v.drawImage(u,0,0,a,s),{canvasContainer:w,canvasArea:v,width:a,height:s}},getSVGElement:function(r){var u=n("#"+r+"_svg").width(),_=n("#"+r+"_svg").height(),w=document.getElementById(r+"_svg"),v=n("<div>").append(n(w).clone()).html(),a=document.getElementById("legend_"+r+"_svg"),s=n("#legend_"+r).position();return n("#"+r+"_svg_Legend").attr("transform","translate("+s.left+","+s.top+")"),{chartSVG:v,legendChartSVG:n("<div>").append(n(a).clone()).html(),width:u,height:_}},print:function(){for(var r,u,_,w,v,a,s,h,t,o,l,p,g,b,C,T,D,L,z,R=[],V=[],A=this.model.series.length,N="",U=0,J=0;J<arguments.length;J++)if(D=n("#"+arguments[J]),g=arguments[J],D.hasClass("e-datavisualization-chart")){T=D.ejChart("instance"),p="<html> <div style='position:relative; left:0px; top:"+U+"px'>",z="",U=n("#"+(b=T.svgObject.id)).height()+50,n("#axisScrollbar_"+g)[0]&&(z=n("#axisScrollbar_"+g)[0].innerHTML);var ue,Q=["ResetZoom","PanBtn","ZoomBtn","ZoomOutBtn","ZoomInBtn"],oe=[];for(s=0;s<5;s++)n(ue="#"+b+"_"+Q[s])[0]&&(oe.push(n(ue)),n(ue).remove());if(1==T.model.enableCanvasRendering){for(C=this.getCanvasElement(g),(N=document.createElement("img")).setAttribute("src",n("#legend_"+g+"_canvas")[0].toDataURL()),n("#legend_Scroller"+g).prepend(N),p+=document.getElementById("chartContainer_"+g).outerHTML,n(N).remove(),N="",u=0;u<A;u++)if(r=T.model.series[u].selectionSettings.mode.toLowerCase(),"none"!=T.model.AreaType)if("series"==r)n(D).find("#"+g+"_Selection_series"+u+"_canvas").length>0&&(L=n("#"+g+"_Selection_series"+u+"_canvas")[0],C.canvasArea.drawImage(L,0,0,C.width,C.height)),n(D).find("#"+g+"_Selection_Legend"+u+"_canvas").length>0&&(N="<img style='position:absolute;left:0px;' src='"+n("#"+g+"_Selection_Legend"+u+"_canvas")[0].toDataURL()+"'/>");else if("point"==r){for(_=T.model.selectedDataPointIndexes,s=0;s<_.length;s++)_[s].seriesIndex==u&&n(D).find("#"+g+"_Selection_series"+u+"_point_"+_[s].pointIndex+"_canvas").length>0&&(L=n("#"+g+"_Selection_series"+u+"_point_"+_[s].pointIndex+"_canvas")[0],C.canvasArea.drawImage(L,0,0,C.width,C.height));n(D).find("#"+g+"_Selection_Legend"+u+"_canvas").length>0&&(N="<img style='position:absolute;left:0px;' src='"+n("#"+g+"_Selection_Legend"+u+"_canvas")[0].toDataURL()+"'/>")}else{for(_=T.model.selectedDataPointIndexes,s=0;s<_.length;s++)_[s].seriesIndex==u&&n(D).find("#"+g+"_Selection_Cluster_point_"+_[s].pointIndex+"_canvas").length>0&&(L=n("#"+g+"_Selection_Cluster_point_"+_[s].pointIndex+"_canvas")[0],C.canvasArea.drawImage(L,0,0,C.width,C.height));n(D).find("#"+g+"_SelectionCluster_Legend"+u+"_canvas").length>0&&(N="<img style='position:absolute;left:0px;' src='"+n("#"+g+"_SelectionCluster_Legend"+u+"_canvas")[0].toDataURL()+"'/>")}else for(_=T.model.selectedDataPointIndexes,s=0;s<_.length;s++)_[s].seriesIndex==u&&n("#"+g+"_Selection_series"+u+"_point_"+_[s].pointIndex+"_canvas").length>0&&(L=document.getElementById(g+"_Selection_series"+u+"_point_"+_[s].pointIndex+"_canvas"),C.canvasArea.drawImage(L,0,0,C.width,C.height),n("#"+g+"_Selection_Legend"+_[s].pointIndex+"_canvas").length>0&&(N="<img style='position:absolute;left:0px;' src='"+document.getElementById(g+"_Selection_Legend"+_[s].pointIndex+"_canvas").toDataURL()+"'/>"));C.canvasArea.save(),R.push(C.canvasContainer)}else w=this.getSVGElement(g),n("#"+g+"_svg_Legend").removeAttr("transform"),p+=n("#chartContainer_"+g)[0].outerHTML,p=this._getSelectionContentInSVG(T,g,p,"print"),null!=T.model.backGroundImageUrl&&((o=new Image).src=T.model.backGroundImageUrl,a=(v=document.createElement("canvas")).getContext("2d"),v.setAttribute("width",w.width),v.setAttribute("height",w.height),a.drawImage(o,0,0,w.width,w.height),p+="<img src='"+v.toDataURL()+"'/>"),p+='<svg xmlns="http://www.w3.org/2000/svg" style="left:0px; top:0px; position:absolute;" width="'+w.width+'" height="'+w.height+'" >',p+=w.chartSVG.toString()+" </svg>",V.push(p+=z+"</div></html>");for(s=0;s<oe.length;s++)n("#chartContainer_"+g).append(oe[s])}else p="<html>",p+=document.getElementById(arguments[J]).innerHTML,V.push(p+="</html>");for(h=window.open(),t=0;t<V.length;t++)h.document.write(V[t]);if(R.length>0){for(o=new Image,l=0;l<R.length;l++)p+="<img src='"+R[l].toDataURL()+"'/>",o.src=R[l].toDataURL();p+=N,p+=z+"</div></html>",o.onload=function(){h.document.write(p),p="",h.document.close(),h.focus(),h.print(),h.close()}}else V.length>0&&(p="",h.document.close(),h.focus(),h.print(),h.close())},redraw:function(r,u,_,w){var v,s;if(this.model.enableCanvasRendering)this.model.zooming.enable&&this.svgRenderer.ctx?(this.svgRenderer.ctx.clearRect(0,0,n("#"+this._id).width(),n("#"+this._id).height()),n(this.axisScroll).empty()):(n(this.svgObject).remove(),v=this.svgWidth,n("#canvas_trackSymbol").remove(),n("#"+this._id+"_canvas_Tracker").remove(),n("#secondCanvas").remove(),this.svgRenderer=new c.EjCanvasRender(this.element),this.svgRenderer.svgObj.height=c.util.isNullOrUndefined(this.model.size.height)?"450":this.model.size.height,this.svgRenderer.svgObj.width=c.util.isNullOrUndefined(this.model.size.width)?v:this.model.size.width,this.svgObject=this.svgRenderer.svgObj,this.svgRenderer.svgObj.getContext("2d"),n(this.scrollerContainer).remove(),n(this.legendSvgContainer).remove(),n(this.legendContainer).remove(),this.legendContainer=n("<div></div>").attr("id","legend_"+this._id).css("height","0px"),this.scrollerContainer=n("<div></div>").attr("id","legend_Scroller"+this._id).css("height","0px"),this.legendSvgContainer=this.svgRenderer.createLegendCanvas(this.element),this.svgRenderer.append(this.legendSvgContainer,this.scrollerContainer),n(this.scrollerContainer).appendTo(this.legendContainer),n(this.legendContainer).appendTo(this.chartContainer));else if(-1!=this.svgObject.id.indexOf("_canvas"))this._removeZoomkit(),n(this.svgObject).remove(),this.svgRenderer=new c.EjSvgRender(this.element),this.svgObject=this.svgRenderer.svgObj,this.canvasX=this.canvasY=0,n(this.scrollerContainer).remove(),n(this.legendSvgContainer).remove(),n(this.legendContainer).remove(),this.legendContainer=n("<div></div>").attr("id","legend_"+this._id).css("height","0px"),this.scrollerContainer=n("<div></div>").attr("id","legend_Scroller"+this._id).css("height","0px"),this.legendSvgContainer=this.svgRenderer.createLegendSvg(this.element),this.svgRenderer.append(this.legendSvgContainer,this.scrollerContainer),n(this.scrollerContainer).appendTo(this.legendContainer),n(this.legendContainer).appendTo(this.chartContainer);else if(!this.dragPoint||!u&&(!this.panning||!_||this.scrollbarUpdate||w||this.panning&&"chrome"!=this.model.browserInfo.name)||this.model.enable3D)n(this.svgObject).empty(),n(this.legendSvgContainer).empty(),n(this.axisScroll).empty();else{for(s=this.svgObject,this.chartUpdating=!0,!this.continuePinching&&_&&(_.id="",_.setAttribute("opacity",0),s.appendChild(_),this.continuePinching=!1);s.childNodes.length>1;)s.removeChild(s.firstChild);n(this.legendSvgContainer).empty()}this.model._chartAreaZoom&&(this.zoomed=this.model._chartAreaZoom=this.model._axes.some(function(h){return h.zoomFactor<1||h.zoomPosition>0})),this._removeZoomkit(),n("#annotation_group_"+this._id).remove(),r||(this.model.canResize||this.model.isResponsive?this.bindResizeEvents():this.removeResizeEvents()),this.bindTo(r)},export:function(a,s,_){var w,v=this.model.exportSettings;return a=c.util.isNullOrUndefined(a)?v.type:a.toLowerCase(),s=c.util.isNullOrUndefined(s)?v.action:s.toLowerCase(),"xlsx"==a?this._getExportModel(a,s,_):w="svg"!=a&&this.model.enableCanvasRendering?this.imageExport():this.svgExport(),w},_getExportModel:function(r,u,a){var g,C,T,D,L,I,w=n.extend(!0,{},this.model),v=this.model.exportSettings,t=(a=c.util.isNullOrUndefined(r)?v.multipleExport:a,w.size.height),o=w.size.width,p=c.buildTag("form","",null,{action:u,method:"post"}),b=this;if(w.event=null,w.primaryXAxis.range=w.primaryXAxis.actualRange,w.primaryYAxis.range=w.primaryYAxis.actualRange,delete w.chartRegions,this._ignoreOnExport)for(g=w.series,D=0;D<g.length;D++)delete g[D].dataSource,delete g[D].query,g[D].fill="array"==jQuery.type(g[D].fill)?g[D].fill[0].color:g[D].fill;for(D=0;D<g.length;D++){if(!g[D].dataPoint)for(g[D].dataPoint=g[D].points,C=0;C<g[D].dataPoint.length;C++)!g[D].dataPoint[C].fill&&w.pointColors.length>C&&(g[D].dataPoint[C].fill=w.pointColors[C]);g[D].trendLine||(g[D].trendLine=g[D].trendlines)}if(c.raiseWebFormsServerEvents)this.raiseWebServerEvents(JSON.stringify(w),"excelExporting"),this.raiseWebServerEvents(JSON.stringify(w));else{if(w.size.height&&-1!=w.size.height.indexOf("%")&&(w.size.height=n(this.svgObject).height().toString()),w.size.width&&-1!=w.size.width.indexOf("%")&&(w.size.width=n(this.svgObject).width().toString()),a)T={},n("body").find(".e-datavisualization-chart").each(function(R,V){var A,z,N,U,F=n(V).data("ejChart");if(!c.isNullOrUndefined(F)&&(F.model.event=null,A=JSON.parse(JSON.stringify(F.model)),b._ignoreOnExport)){for(g=A.series,z=0;z<g.length;z++)delete g[z].dataSource,delete g[z].query,g[z].fill="array"==jQuery.type(g[z].fill)?g[z].fill[0].color:g[z].fill;T[R]=JSON.stringify(A),N={name:"ChartModel",type:"hidden",value:JSON.stringify(A)},U=c.buildTag("input","",null,N),p.append(U)}});else{for(g=w.series,D=0;D<g.length;D++)delete g[D]._visiblePoints,delete g[D].points;L={name:"ChartModel",type:"hidden",value:JSON.stringify(w)},I=c.buildTag("input","",null,L),p.append(I),p.append(this)}n("body").append(p),p.submit(),w.size={width:o,height:t}}return w},imageExport:function(){var _,w,v,s,r=n.extend(!0,{},this.model);r.primaryXAxis.range=r.primaryXAxis.actualRange,r.primaryYAxis.range=r.primaryYAxis.actualRange,r.event=null;var g,b,C,T,D,R,V,h=this._id,t=n("[id*="+h+"_Selection_]"),o=n("#legend_"+h+"_canvas")[0],l=this.model.exportSettings,p=l.angle,L=this.model.LegendBounds,F=this.getCanvasElement(h);for(g=F.canvasContainer,b=F.canvasArea,C=F.width,T=F.height,D=n("#"+h+"_canvas")[0],g.setAttribute("id","Export_"+h),0==p?(L=this.model.LegendBounds).X&&0!=L.Width&&0!=L.Height&&b.drawImage(o,L.X,L.Y):90==p||-90==p?(g.setAttribute("width",T),g.setAttribute("height",C),b.save(),b.translate(T/2,C/2),b.rotate(p*Math.PI/180),b.drawImage(D,-C/2,-T/2),b.restore(),L.X&&(b.save(),90==p?b.translate(T-L.Y-L.Height/2,C-L.X-L.Width/2):b.translate(L.Y+L.Height/2,L.X+L.Width/2),b.rotate(p*Math.PI/180),b.drawImage(o,-L.Width/2,-L.Height/2),b.restore())):(g.setAttribute("width",C),g.setAttribute("height",T),b.save(),b.translate(C,T),b.rotate(Math.PI/1),b.drawImage(D,0,0),b.restore(),L.X&&(b.save(),b.translate(L.X+L.Width/2,T-L.Y-L.Height/2),b.rotate(p*Math.PI/180),b.drawImage(o,-L.Width/2,-L.Height/2),b.restore())),R=0;R<t.length;R++)document.getElementById(t[R].id).getBoundingClientRect(),0==p?b.drawImage(t[R],0,0):90==p||-90==p?(b.save(),b.translate(T/2,C/2),b.rotate(p*Math.PI/180),b.drawImage(t[R],-C/2,-T/2),b.restore(),90==p&&t[R].id.indexOf(h+"_Selection_Legend")>=0?(b.save(),b.translate(T-L.Y-L.Height/2,C-L.X-L.Width/2),b.rotate(p*Math.PI/180),b.drawImage(t[R],-L.Width/2,-L.Height/2),b.restore()):-90==p&&t[R].id.indexOf(h+"_Selection_Legend")>=0&&(b.save(),b.translate(L.X+L.Width/2,T-L.Y-L.Height/2),b.rotate(p*Math.PI/180),b.drawImage(t[R],-L.Width/2,-L.Height/2),b.restore())):180==p&&(b.save(),b.translate(C,T),b.rotate(Math.PI/1),b.drawImage(t[R],0,0),b.restore(),180==p&&t[R].id.indexOf(h+"_Selection_Legend")>=0&&(b.save(),b.translate(L.X+L.Width/2,T-L.Y-L.Height/2),b.rotate(p*Math.PI/180),b.drawImage(t[R],-L.Width/2,-L.Height/2),b.restore()));if(V="jpg"==l.type?g.toDataURL("image/jpeg"):g.toDataURL(),"client"==l.mode)return g;c.raiseWebFormsServerEvents?this.raiseWebServerEvents(V):"server"==l.mode&&(_=c.buildTag("form","",null,{action:l.action,method:"post"}),w={name:"ChartModel",type:"hidden",value:JSON.stringify(r)},v=c.buildTag("input","",null,w),s=c.buildTag("input","",null,{name:"Data",type:"hidden",value:V}),_.append(v).append(s).append(this),n("body").append(_),_.submit())},svgExport:function(){for(var r,u,a,h,t,o,l=this.svgObject.id,p=n.extend(!0,{},this.model),g=0;g<this.model._axes.length;g++)p._axes[g].range=p._axes[g].actual_Range;p.event=null;var b="legend_"+this.svgObject.id.substring(0,this.svgObject.id.length-4),C=document.getElementById(b),T="";""!==C.style.left&&""!==C.style.top&&(r=C.firstChild.innerHTML,(u=document.createElementNS("http://www.w3.org/2000/svg","svg")).setAttribute("x",C.style.left),u.setAttribute("y",C.style.top),T=((new XMLSerializer).serializeToString(u).replace("/>",">")+r+"</svg>").toString());var U,D=this._id,L=this.getSVGElement(D),I=this.model.exportSettings,R=I.angle,V=L.height,F=L.chartSVG,A=L.legendChartSVG,z=L.width,N='<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="'+z+'px" height="'+V+'px" >';if(N=0==R?N+F.toString()+T+"</svg>":90==R?N+'<g transform="translate('+V+',0) rotate(90 0 0)">'+F.toString()+A.toString()+"</g></svg>":-90==R?N+'<g transform="translate(0,'+z+') rotate(-90 0 0)">'+F.toString()+A.toString()+"</g></svg>":N+'<g transform="translate('+z+","+V+') rotate(180 0 0)">'+F.toString()+A.toString()+"</g></svg>",U=this._getSelectionContentInSVG(this,D,N,"export"),N=n("#"+D).find('[class*="Selection"]').length>0?U:N,N=encodeURIComponent(N),n("#"+l+"_Legend").removeAttr("transform"),"client"==I.mode)return N;c.raiseWebFormsServerEvents?this.raiseWebServerEvents(N):"server"==I.mode&&(a=c.buildTag("form","",null,{action:I.action,method:"post"}),o={name:"ChartModel",type:"hidden",value:JSON.stringify(p)},t=c.buildTag("input","",null,o),h=c.buildTag("input","",null,{name:"Data",type:"hidden",value:N}),a.append(h).append(t).append(this),n("body").append(a),a.submit())},_getSelectionContentInSVG:function(r,u,_,w){var a,s,h,t,o,l,p,g,b,C,v=this.model.series.length;if(r.model.enable3D){for(l="",C=0;C<v;C++)n("#Selectionseries"+C+"Segmentseries"+C).length>0&&(l+=n("#Selectionseries"+C+"Segmentseries"+C)[0].outerHTML);_+=l}else{for(C=0;C<v;C++)if(p=r.model.series[C].selectionSettings.mode.toLowerCase(),"none"!=r.model.AreaType)"cluster"!=p?n("#"+u+"SelectionSegmentseries"+C).length>0&&(s=document.getElementById(u+"SelectionSegmentseries"+C),h=n("<div>").append(n(s).clone()).html(),t=document.getElementById(u+"SelectionLegendSegmentseries"+C),o=n("<div>").append(n(t).clone()).html(),"export"===w?a=_.slice(0,_.length-6)+"<svg>"+h.toString()+o.toString()+"</svg></svg>":_+=h.toString()+o.toString()):n("#"+u+"SelectionSegmentClusterSeries"+C).length>0&&(s=document.getElementById(u+"SelectionSegmentClusterSeries"+C),h=n("<div>").append(n(s).clone()).html(),t=document.getElementById(u+"SelectionLegendSegmentClusterSeries"+C),o=n("<div>").append(n(t).clone()).html(),"export"===w?a=(c.util.isNullOrUndefined(a)?_.slice(0,_.length-6):a)+"<svg >"+h.toString()+o.toString()+"</svg>":_+=h.toString()+o.toString());else for(g=r.model.selectedDataPointIndexes,b=0;b<g.length;b++)g[b].seriesIndex==C&&n("#"+u+"SelectionSegmentseries"+C+"Point"+g[b].pointIndex).length>0&&(s=document.getElementById(u+"SelectionSegmentseries"+C+"Point"+g[b].pointIndex),h=n("<div>").append(n(s).clone()).html(),t=document.getElementById(u+"SelectionLegendSegmentseries"+C+"Point"+g[b].pointIndex),o=n("<div>").append(n(t).clone()).html(),"export"===w?a=_.slice(0,_.length-6)+"<svg>"+h.toString()+o.toString()+"</svg></svg>":_+=h.toString()+o.toString());"cluster"==p&&"export"===w&&(a+="</svg>")}return"export"===w?a:_},raiseWebServerEvents:function(r,s){var _=n.extend(!0,{},this.model),w=this.model.exportSettings;s=c.util.isNullOrUndefined(s)?"exporting":s,this.model.size._width=n(this.svgObject).width(),this.model.size._height=n(this.svgObject).height(),c.raiseWebFormsServerEvents(s,{model:_,originalEventType:s},{Data:r,Format:w.type,Orientation:w.orientation,FileName:w.fileName})},animate:function(r){var u,_,w,v;if(r)if(r.constructor===Array)for(v=0;v<r.length;v++)r[v]._animatedSeries=!1,r[v]._animatedTrendline=!1,r[v].AnimationComplete=!1;else r._animatedSeries=!1,r._animatedTrendline=!1,r.AnimationComplete=!1;else{for(u=this.model.series,v=0;v<u.length;v++)u[v]._animatedSeries=!1,u[v]._animatedTrendline=!1,u[v].AnimationComplete=!1;for(_=this.model.indicators,w=0;w<_.length;w++)_[w]._animatedSeries=!1,_[w]._animatedTrendline=!1}this.redraw()},_setModel:function(r){var u,_,w,v,a,s,h;for(w in r)switch(this.disableAnimation(),w){case"theme":for(this.model._themeChanged=!0,this.model.theme=r[w],this.setTheme(c.EjSvgRender.themes,this.model.theme),n.extend(!0,this.model.primaryXAxis,c.EjSvgRender.themes[this.model.theme].primaryXAxis),n.extend(!0,this.model.primaryYAxis,c.EjSvgRender.themes[this.model.theme].primaryYAxis),v=0;v<this.model.axes.length;v++)this.model.axes[v].orientation&&"horizontal"==this.model.axes[v].orientation.toLowerCase()?n.extend(!0,this.model.axes[v],c.EjSvgRender.themes[this.model.theme].secondaryX):n.extend(!0,this.model.axes[v],c.EjSvgRender.themes[this.model.theme].secondaryY);for(a=0;a<this.model.series.length;a++)n.extend(!0,this.model.series[a],c.EjSvgRender.themes[this.model.theme].commonSeriesOptions);break;case"commonSeriesOptions":for(s=0;s<this.model.series.length;s++)r[w].dataSource&&(this.model.series[s].dataSource=null),n.extend(!0,this.model.series[s],{},r[w]);break;case"series":for(r[w].length<this.model.series.length&&(this.model.series=this.model.series.slice(0,r[w].length)),u=this.model.series,s=0;s<u.length;s++)r[w][s].dataSource&&(u[s].dataSource=null);for(n.extend(!0,u,{},r[w]),s=0,h=u.length;s<h;s++)u[s].enableAnimation&&(u[s]._animatedSeries=!1),r[w][s]&&r[w][s].dataSource instanceof c.DataManager&&(u[s].dataSource=r[w][s].dataSource),r[w][s]&&r[w][s].query instanceof c.Query&&(u[s].query=r[w][s].query);break;case"legend":n.extend(!0,this.model.legend,{},r[w]);break;case"axes":n.extend(!0,this.model.axes,{},r[w]);break;case"primaryXAxis":this.model.primaryXAxis.setRange=!!r[w].range,this.model.primaryXAxis.setAxisInterval=!(!r[w].range||!r[w].range.interval)||this.model.primaryXAxis.setAxisInterval,this.model.primaryXAxis.actual_Range=this.model._axes[0].setRange?null:this.model._axes[0].actual_Range,n.extend(!0,this.model.primaryXAxis,{},r[w]);break;case"primaryYAxis":this.model.primaryYAxis.setRange=!!r[w].range,this.model.primaryYAxis.log_Range=r[w].range?r[w].range:this.model.primaryYAxis.log_Range,this.model.primaryYAxis.actual_Range=!this.model._axes||this.model._axes[1].setRange?null:this.model._axes[1].actual_Range,n.extend(!0,this.model.primaryYAxis,{},r[w]);break;case"xZoomFactor":for(this.model.primaryXAxis.zoomFactor=this._xZoomFactor(),_=this.model.axes,s=0;s<_.length;s++)"horizontal"==_[s].orientation.toLowerCase()&&(_[s].zoomFactor=this._xZoomFactor());break;case"yZoomFactor":for(this.model.primaryYAxis.zoomFactor=this._yZoomFactor(),_=this.model.axes,s=0;s<_.length;s++)"vertical"==_[s].orientation.toLowerCase()&&(_[s].zoomFactor=this._yZoomFactor());break;case"xZoomPosition":for(this.model.primaryXAxis.zoomPosition=this._xZoomPosition(),_=this.model.axes,s=0;s<_.length;s++)"horizontal"==_[s].orientation.toLowerCase()&&(_[s].zoomPosition=this._xZoomPosition());break;case"yZoomPosition":for(this.model.primaryYAxis.zoomPosition=this._yZoomPosition(),_=this.model.axes,s=0;s<_.length;s++)"vertical"==_[s].orientation.toLowerCase()&&(_[s].zoomPosition=this._yZoomPosition());break;case"drilldown":this.model.series=[],this.model.explodeValue=null,n.extend(!0,this.model,{},r[w]);break;case"datasource":for(s=0;s<this.model.series.length;s++)this.model.series[s].dataSource=null,this.model.series[s].points=null;n.extend(!0,this.model,{},r[w]);break;case"chartArea":n.extend(!0,this.model.chartArea,{},r[w]);break;default:for(n.extend(!0,this.model,{},r[w]),s=0,h=(u=this.model.series).length;s<h;s++)u[s].enableAnimation&&(u[s]._animatedSeries=!1)}this.model.canResize||this.model.isResponsive?this.bindResizeEvents():this.removeResizeEvents(),n("#annotation_group_"+this._id).remove(),this.model.enableCanvasRendering?(n(this.svgObject).remove(),n("#canvas_trackSymbol").remove(),n("#"+this._id+"_canvas_Tracker").remove(),n("#secondCanvas").remove(),this.svgRenderer=new c.EjCanvasRender(this.element),this.svgRenderer.svgObj.height=c.util.isNullOrUndefined(this.model.size.height)?"450":this.model.size.height,this.svgRenderer.svgObj.width=c.util.isNullOrUndefined(this.model.size.width)?n("#"+this._id).width():this.model.size.width,this.svgObject=this.svgRenderer.svgObj,n(this.legendSvgContainer).remove(),this.legendSvgContainer=this.svgRenderer.createLegendCanvas(this.element),this.svgRenderer.append(this.legendSvgContainer,this.legendContainer)):-1!=this.svgObject.id.indexOf("_canvas")?(this._removeZoomkit(),n(this.svgObject).remove(),this.svgRenderer=new c.EjSvgRender(this.element),this.svgObject=this.svgRenderer.svgObj,this.canvasX=this.canvasY=0,n(this.legendSvgContainer).remove(),this.legendSvgContainer=this.svgRenderer.createLegendSvg(this.element),this.svgRenderer.append(this.legendSvgContainer,this.legendContainer)):this.chartUpdating||(n(this.svgObject).empty(),n(this.legendSvgContainer).empty()),this.bindTo()}}),c.datavisualization.Chart.Locale=c.datavisualization.Chart.Locale||{},c.datavisualization.Chart.Locale.default=c.datavisualization.Chart.Locale["en-US"]={zoomIn:"Zoom In",zoomOut:"Zoom Out",zoom:"Zoom",pan:"Pan",reset:"Reset"},c.datavisualization.Chart.CrosshairType={Crosshair:"crosshair",TrackBall:"trackBall"},c.datavisualization.Chart.TrackballDisplayMode={Float:"float",Grouping:"grouping"},c.datavisualization.Chart.VisibleOnLegend={Visible:"visible",Hidden:"hidden"},c.datavisualization.Chart.ExportingType={PNG:"png",JPG:"jpg",PDF:"pdf",SVG:"svg",DOCX:"docx",XLSX:"xlsx"},c.datavisualization.Chart.ExportingMode={Client:"client",Server:"server"},c.datavisualization.Chart.ExportingOrientation={Portrait:"portrait",Landscape:"landscape"},c.datavisualization.Chart.ValueType={Double:"double",DateTime:"datetime",Category:"category",Logarithmic:"logarithmic",DateTimeCategory:"datetimecategory"},c.datavisualization.Chart.TextOverflow={None:"none",Wrap:"wrap",Trim:"trim",WrapAndTrim:"wrapandtrim"},c.datavisualization.Chart.Type={Line:"line",Spline:"spline",Column:"column",Doughnut:"doughnut",Area:"area",SplineArea:"splinearea",StepLine:"stepline",StepArea:"steparea",Pie:"pie",PieOfPie:"pieofpie",Hilo:"hilo",HiloOpenClose:"hiloopenclose",Candle:"candle",Bubble:"bubble",Scatter:"scatter",Bar:"bar",StackingArea:"stackingarea",StackingArea100:"stackingarea100",RangeColumn:"rangecolumn",StackingColumn:"stackingcolumn",StackingColumn100:"stackingcolumn100",StackingBar:"stackingbar",StackingBar100:"stackingbar100",Pyramid:"pyramid",Funnel:"funnel",Polar:"polar",Radar:"radar",RangeArea:"rangearea",SplineRangeArea:"splinerangearea",Waterfall:"waterfall",BoxAndWhishker:"boxandwhisker",StackingSplineArea:"stackingsplinearea",StackingSplineArea100:"stackingsplinearea100"},c.datavisualization.Chart.SplitMode={Position:"position",Value:"value",Percentage:"percentage",Indexes:"indexes"},c.datavisualization.Chart.SplineType={Natural:"natural",Monotonic:"monotonic",Cardinal:"cardinal",Clamped:"clamped"},c.datavisualization.Chart.DragType={XY:"xy",X:"x",Y:"y"},c.datavisualization.Chart.LabelPlacement={BetweenTicks:"betweenTicks",OnTicks:"onTicks"},c.datavisualization.Chart.TrendlinesType={Linear:"linear",Exponential:"exponential",Logarithmic:"logarithmic",Power:"power",Polynomial:"polynomial"},c.datavisualization.Chart.ErrorBarType={FixedValue:"fixedValue",Percentage:"percentage",StandardDeviation:"standardDeviation",StandardError:"standardError",Custom:"custom"},c.datavisualization.Chart.ErrorBarMode={Both:"both",Vertical:"vertical",Horizontal:"horizontal"},c.datavisualization.Chart.ErrorBarDirection={Both:"both",Plus:"plus",Minus:"minus"},c.datavisualization.Chart.LabelIntersectAction={None:"none",Rotate90:"rotate90",Rotate45:"rotate45",Wrap:"wrap",WrapByword:"wrapByWord",Trim:"trim",Hide:"hide",MultipleRows:"multipleRows"},c.datavisualization.Chart.EdgeLabelPlacement={None:"none",Shift:"shift",Hide:"hide"},c.datavisualization.Chart.roundedCorner={Both:"both",Start:"start",End:"end"},c.datavisualization.Chart.Theme={Azure:"azure",FlatLight:"flatlight",Azuredark:"azuredark",Lime:"lime",LimeDark:"limedark",Saffron:"saffron",SaffronDark:"saffrondark",GradientLight:"gradientlight",GradientDark:"gradientdark",HighContrast01:"highcontrast01",HighContrast02:"highcontrast02",Material:"material",Office365:"office365",Bootstrap:"bootstrap"},c.datavisualization.Chart.FontStyle={Normal:"normal",Italic:"italic"},c.datavisualization.Chart.FontWeight={Regular:"regular",Bold:"bold",Lighter:"lighter"},c.datavisualization.Chart.IntervalType={Auto:"auto",Days:"days",Hours:"hours",Seconds:"seconds",Milliseconds:"milliseconds",Minutes:"minutes",Months:"months",Weeks:"weeks",Years:"years"},c.datavisualization.Chart.RangePadding={Additional:"additional",Normal:"normal",None:"none",Round:"round",Auto:"auto"},c.datavisualization.Chart.TextAlignment={MiddleTop:"middletop",MiddleCenter:"middlecenter",MiddleBottom:"middlebottom"},c.datavisualization.Chart.LabelPosition={Inside:"inside",Outside:"outside"},c.datavisualization.Chart.ZIndex={Over:"over",Behind:"behind"},c.datavisualization.Chart.Unit={percentage:"percentage",pixel:"pixel"},c.datavisualization.Chart.PyramidMode={Linear:"linear",Surface:"Surface"},c.datavisualization.Chart.DrawType={Line:"line",Column:"column",Area:"area",RangeColumn:"rangecolumn",Scatter:"scatter",Spline:"spline"},c.datavisualization.Chart.AnimationType={Linear:"linear",Smooth:"smooth"},c.datavisualization.Chart.columnFacet={Rectangle:"rectangle",Cylinder:"cylinder"},c.datavisualization.Chart.EmptyPointMode={Gap:"gap",Zero:"zero",Average:"average"},c.datavisualization.Chart.Pattern={None:"none",Chessboard:"chessboard",Crosshatch:"crosshatch",Dots:"dots",Pacman:"pacman",DiagonalBackward:"diagonalBackward",DiagonalForward:"diagonalForward",Grid:"grid",Turquoise:"turquoise",Star:"star",Triangle:"triangle",Circle:"circle",Tile:"tile",HorizontalDash:"horizontalDash",VerticalDash:"verticalDash",Rectangle:"rectangle",Box:"box",VerticalStripe:"verticalStripe",HorizontalStripe:"horizontalStripe",Bubble:"bubble",Custom:"custom"},c.datavisualization.Chart.Mode={Series:"series",Point:"point",Cluster:"cluster",Range:"range"},c.datavisualization.Chart.SelectionType={Single:"single",Multiple:"multiple"},c.datavisualization.Chart.Shape={None:"none",LeftArrow:"leftarrow",RightArrow:"rightarrow",Circle:"circle",Cross:"cross",HorizLine:"horizline",VertLine:"vertLine",Diamond:"diamond",Rectangle:"rectangle",Triangle:"triangle",InvertedTriangle:"invertedtriangle",Hexagon:"hexagon",Pentagon:"pentagon",Star:"star",Ellipse:"ellipse",Wedge:"wedge",Trapezoid:"trapezoid",UpArrow:"uparrow",DownArrow:"downarrow",Image:"image"},c.datavisualization.Chart.DrawMode={Both:"both",Open:"open",Close:"close"},c.datavisualization.Chart.LineCap={Butt:"butt",Round:"round",Square:"square"},c.datavisualization.Chart.LineJoin={Round:"round",Bevel:"bevel",Miter:"miter"},c.datavisualization.Chart.Position={Top:"top",Middle:"middle",Bottom:"bottom"},c.datavisualization.Chart.Alignment={Center:"center",Near:"near",Far:"far"},c.datavisualization.Chart.RotateOn={Start:"start",Middle:"middle",End:"end"},c.datavisualization.Chart.TextAnchor={Start:"start",Middle:"middle",End:"end"},c.datavisualization.Chart.TickLinesPosition={Inside:"inside",Outside:"outside"},c.datavisualization.Chart.CoordinateUnit={None:"none",Pixels:"pixels",Points:"points"},c.datavisualization.Chart.HorizontalAlignment={Left:"left",Right:"right",Middle:"middle"},c.datavisualization.Chart.VerticalAlignment={Top:"top",Bottom:"bottom",Middle:"middle"},c.datavisualization.Chart.Region={Chart:"chart",Series:"series"},c.datavisualization.Chart.ConnectorLineType={Line:"line",Bezier:"bezier"},c.datavisualization.Chart.HorizontalTextAlignment={Near:"near",Far:"far",Center:"center"},c.datavisualization.Chart.VerticalTextAlignment={Near:"near",Far:"far",Center:"center"},c.datavisualization.Chart.multiLevelLabelsBorderType={None:"none",Rectangle:"rectangle",WithoutTopAndBottom:"withouttopandbottom",Brace:"brace",CurlyBrace:"curlybrace"},c.datavisualization.Chart.MACDType={Line:"line",Histogram:"histogram",Both:"both"},c.datavisualization.Chart.IndicatorsType={RSI:"rsi",Momentum:"momentum",Bollingerband:"bollingerband",Accumulationdistribution:"accumulationdistribution",EMA:"ema",SMA:"sma",Stochastic:"stochastic",ATR:"atr",MACD:"macd",TMA:"tma"},c.datavisualization.Chart.BoxPlotMode={Normal:"normal",Exclusive:"exclusive",Inclusive:"inclusive"},c.datavisualization.Chart.BubbleRadiusMode={MinMax:"minmax",Auto:"auto"},c.datavisualization.Chart.SizeType={Auto:"auto",Pixel:"pixel",Years:"years",Months:"months",Weeks:"weeks",Days:"days",Hours:"hours",Minutes:"minutes",Seconds:"seconds"},n.extend(c.datavisualization.Chart.prototype,c.ejChart)}(jQuery,Syncfusion)},__WEBPACK_AMD_DEFINE_ARRAY__=[__webpack_require__(270)],void 0!==(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=n)?__WEBPACK_AMD_DEFINE_FACTORY__.apply(exports,__WEBPACK_AMD_DEFINE_ARRAY__):__WEBPACK_AMD_DEFINE_FACTORY__)&&(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},976:(n,c,r)=>{"use strict";function u(d){return"function"==typeof d}function _(d){const f=d(S=>{Error.call(S),S.stack=(new Error).stack});return f.prototype=Object.create(Error.prototype),f.prototype.constructor=f,f}const w=_(d=>function(f){d(this),this.message=f?`${f.length} errors occurred during unsubscription:\n${f.map((S,P)=>`${P+1}) ${S.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=f});function v(d,m){if(d){const f=d.indexOf(m);0<=f&&d.splice(f,1)}}class a{constructor(m){this.initialTeardown=m,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let m;if(!this.closed){this.closed=!0;const{_parentage:f}=this;if(f)if(this._parentage=null,Array.isArray(f))for(const E of f)E.remove(this);else f.remove(this);const{initialTeardown:S}=this;if(u(S))try{S()}catch(E){m=E instanceof w?E.errors:[E]}const{_finalizers:P}=this;if(P){this._finalizers=null;for(const E of P)try{t(E)}catch(Y){m=m??[],Y instanceof w?m=[...m,...Y.errors]:m.push(Y)}}if(m)throw new w(m)}}add(m){var f;if(m&&m!==this)if(this.closed)t(m);else{if(m instanceof a){if(m.closed||m._hasParent(this))return;m._addParent(this)}(this._finalizers=null!==(f=this._finalizers)&&void 0!==f?f:[]).push(m)}}_hasParent(m){const{_parentage:f}=this;return f===m||Array.isArray(f)&&f.includes(m)}_addParent(m){const{_parentage:f}=this;this._parentage=Array.isArray(f)?(f.push(m),f):f?[f,m]:m}_removeParent(m){const{_parentage:f}=this;f===m?this._parentage=null:Array.isArray(f)&&v(f,m)}remove(m){const{_finalizers:f}=this;f&&v(f,m),m instanceof a&&m._removeParent(this)}}a.EMPTY=(()=>{const d=new a;return d.closed=!0,d})();const s=a.EMPTY;function h(d){return d instanceof a||d&&"closed"in d&&u(d.remove)&&u(d.add)&&u(d.unsubscribe)}function t(d){u(d)?d():d.unsubscribe()}const o={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},l={setTimeout(d,m,...f){const{delegate:S}=l;return S?.setTimeout?S.setTimeout(d,m,...f):setTimeout(d,m,...f)},clearTimeout(d){const{delegate:m}=l;return(m?.clearTimeout||clearTimeout)(d)},delegate:void 0};function p(d){l.setTimeout(()=>{const{onUnhandledError:m}=o;if(!m)throw d;m(d)})}function g(){}const b=D("C",void 0,void 0);function D(d,m,f){return{kind:d,value:m,error:f}}let L=null;function I(d){if(o.useDeprecatedSynchronousErrorHandling){const m=!L;if(m&&(L={errorThrown:!1,error:null}),d(),m){const{errorThrown:f,error:S}=L;if(L=null,f)throw S}}else d()}class V extends a{constructor(m){super(),this.isStopped=!1,m?(this.destination=m,h(m)&&m.add(this)):this.destination=oe}static create(m,f,S){return new N(m,f,S)}next(m){this.isStopped?Q(function T(d){return D("N",d,void 0)}(m),this):this._next(m)}error(m){this.isStopped?Q(function C(d){return D("E",void 0,d)}(m),this):(this.isStopped=!0,this._error(m))}complete(){this.isStopped?Q(b,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(m){this.destination.next(m)}_error(m){try{this.destination.error(m)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const F=Function.prototype.bind;function A(d,m){return F.call(d,m)}class z{constructor(m){this.partialObserver=m}next(m){const{partialObserver:f}=this;if(f.next)try{f.next(m)}catch(S){U(S)}}error(m){const{partialObserver:f}=this;if(f.error)try{f.error(m)}catch(S){U(S)}else U(m)}complete(){const{partialObserver:m}=this;if(m.complete)try{m.complete()}catch(f){U(f)}}}class N extends V{constructor(m,f,S){let P;if(super(),u(m)||!m)P={next:m??void 0,error:f??void 0,complete:S??void 0};else{let E;this&&o.useDeprecatedNextContext?(E=Object.create(m),E.unsubscribe=()=>this.unsubscribe(),P={next:m.next&&A(m.next,E),error:m.error&&A(m.error,E),complete:m.complete&&A(m.complete,E)}):P=m}this.destination=new z(P)}}function U(d){o.useDeprecatedSynchronousErrorHandling?function R(d){o.useDeprecatedSynchronousErrorHandling&&L&&(L.errorThrown=!0,L.error=d)}(d):p(d)}function Q(d,m){const{onStoppedNotification:f}=o;f&&l.setTimeout(()=>f(d,m))}const oe={closed:!0,next:g,error:function J(d){throw d},complete:g},ue="function"==typeof Symbol&&Symbol.observable||"@@observable";function le(d){return d}let se=(()=>{class d{constructor(f){f&&(this._subscribe=f)}lift(f){const S=new d;return S.source=this,S.operator=f,S}subscribe(f,S,P){const E=function W(d){return d&&d instanceof V||function re(d){return d&&u(d.next)&&u(d.error)&&u(d.complete)}(d)&&h(d)}(f)?f:new N(f,S,P);return I(()=>{const{operator:Y,source:G}=this;E.add(Y?Y.call(E,G):G?this._subscribe(E):this._trySubscribe(E))}),E}_trySubscribe(f){try{return this._subscribe(f)}catch(S){f.error(S)}}forEach(f,S){return new(S=ee(S))((P,E)=>{const Y=new N({next:G=>{try{f(G)}catch(ie){E(ie),Y.unsubscribe()}},error:E,complete:P});this.subscribe(Y)})}_subscribe(f){var S;return null===(S=this.source)||void 0===S?void 0:S.subscribe(f)}[ue](){return this}pipe(...f){return function he(d){return 0===d.length?le:1===d.length?d[0]:function(f){return d.reduce((S,P)=>P(S),f)}}(f)(this)}toPromise(f){return new(f=ee(f))((S,P)=>{let E;this.subscribe(Y=>E=Y,Y=>P(Y),()=>S(E))})}}return d.create=m=>new d(m),d})();function ee(d){var m;return null!==(m=d??o.Promise)&&void 0!==m?m:Promise}const pe=_(d=>function(){d(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let M=(()=>{class d extends se{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(f){const S=new fe(this,this);return S.operator=f,S}_throwIfClosed(){if(this.closed)throw new pe}next(f){I(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const S of this.currentObservers)S.next(f)}})}error(f){I(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=f;const{observers:S}=this;for(;S.length;)S.shift().error(f)}})}complete(){I(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:f}=this;for(;f.length;)f.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var f;return(null===(f=this.observers)||void 0===f?void 0:f.length)>0}_trySubscribe(f){return this._throwIfClosed(),super._trySubscribe(f)}_subscribe(f){return this._throwIfClosed(),this._checkFinalizedStatuses(f),this._innerSubscribe(f)}_innerSubscribe(f){const{hasError:S,isStopped:P,observers:E}=this;return S||P?s:(this.currentObservers=null,E.push(f),new a(()=>{this.currentObservers=null,v(E,f)}))}_checkFinalizedStatuses(f){const{hasError:S,thrownError:P,isStopped:E}=this;S?f.error(P):E&&f.complete()}asObservable(){const f=new se;return f.source=this,f}}return d.create=(m,f)=>new fe(m,f),d})();class fe extends M{constructor(m,f){super(),this.destination=m,this.source=f}next(m){var f,S;null===(S=null===(f=this.destination)||void 0===f?void 0:f.next)||void 0===S||S.call(f,m)}error(m){var f,S;null===(S=null===(f=this.destination)||void 0===f?void 0:f.error)||void 0===S||S.call(f,m)}complete(){var m,f;null===(f=null===(m=this.destination)||void 0===m?void 0:m.complete)||void 0===f||f.call(m)}_subscribe(m){var f,S;return null!==(S=null===(f=this.source)||void 0===f?void 0:f.subscribe(m))&&void 0!==S?S:s}}function O(d){return m=>{if(function xe(d){return u(d?.lift)}(m))return m.lift(function(f){try{return d(f,this)}catch(S){this.error(S)}});throw new TypeError("Unable to lift unknown Observable type")}}function B(d,m,f,S,P){return new H(d,m,f,S,P)}class H extends V{constructor(m,f,S,P,E,Y){super(m),this.onFinalize=E,this.shouldUnsubscribe=Y,this._next=f?function(G){try{f(G)}catch(ie){m.error(ie)}}:super._next,this._error=P?function(G){try{P(G)}catch(ie){m.error(ie)}finally{this.unsubscribe()}}:super._error,this._complete=S?function(){try{S()}catch(G){m.error(G)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var m;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:f}=this;super.unsubscribe(),!f&&(null===(m=this.onFinalize)||void 0===m||m.call(this))}}}function Z(d,m){return O((f,S)=>{let P=0;f.subscribe(B(S,E=>{S.next(d.call(m,E,P++))}))})}function Ke(d){return this instanceof Ke?(this.v=d,this):new Ke(d)}function nt(d){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var f,m=d[Symbol.asyncIterator];return m?m.call(d):(d=function $e(d){var m="function"==typeof Symbol&&Symbol.iterator,f=m&&d[m],S=0;if(f)return f.call(d);if(d&&"number"==typeof d.length)return{next:function(){return d&&S>=d.length&&(d=void 0),{value:d&&d[S++],done:!d}}};throw new TypeError(m?"Object is not iterable.":"Symbol.iterator is not defined.")}(d),f={},S("next"),S("throw"),S("return"),f[Symbol.asyncIterator]=function(){return this},f);function S(E){f[E]=d[E]&&function(Y){return new Promise(function(G,ie){!function P(E,Y,G,ie){Promise.resolve(ie).then(function(me){E({value:me,done:G})},Y)}(G,ie,(Y=d[E](Y)).done,Y.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Zt=d=>d&&"number"==typeof d.length&&"function"!=typeof d;function pt(d){return u(d?.then)}function Et(d){return u(d[ue])}function At(d){return Symbol.asyncIterator&&u(d?.[Symbol.asyncIterator])}function vi(d){return new TypeError(`You provided ${null!==d&&"object"==typeof d?"an invalid object":`'${d}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const lt=function Ai(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function ls(d){return u(d?.[lt])}function Yi(d){return function tt(d,m,f){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var P,S=f.apply(d,m||[]),E=[];return P={},Y("next"),Y("throw"),Y("return"),P[Symbol.asyncIterator]=function(){return this},P;function Y(Me){S[Me]&&(P[Me]=function(Ve){return new Promise(function(We,Je){E.push([Me,Ve,We,Je])>1||G(Me,Ve)})})}function G(Me,Ve){try{!function ie(Me){Me.value instanceof Ke?Promise.resolve(Me.value.v).then(me,ye):De(E[0][2],Me)}(S[Me](Ve))}catch(We){De(E[0][3],We)}}function me(Me){G("next",Me)}function ye(Me){G("throw",Me)}function De(Me,Ve){Me(Ve),E.shift(),E.length&&G(E[0][0],E[0][1])}}(this,arguments,function*(){const f=d.getReader();try{for(;;){const{value:S,done:P}=yield Ke(f.read());if(P)return yield Ke(void 0);yield yield Ke(S)}}finally{f.releaseLock()}})}function wi(d){return u(d?.getReader)}function Lt(d){if(d instanceof se)return d;if(null!=d){if(Et(d))return function ot(d){return new se(m=>{const f=d[ue]();if(u(f.subscribe))return f.subscribe(m);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(d);if(Zt(d))return function Xi(d){return new se(m=>{for(let f=0;f<d.length&&!m.closed;f++)m.next(d[f]);m.complete()})}(d);if(pt(d))return function gs(d){return new se(m=>{d.then(f=>{m.closed||(m.next(f),m.complete())},f=>m.error(f)).then(null,p)})}(d);if(At(d))return hi(d);if(ls(d))return function gt(d){return new se(m=>{for(const f of d)if(m.next(f),m.closed)return;m.complete()})}(d);if(wi(d))return function es(d){return hi(Yi(d))}(d)}throw vi(d)}function hi(d){return new se(m=>{(function gi(d,m){var f,S,P,E;return function je(d,m,f,S){return new(f||(f=Promise))(function(E,Y){function G(ye){try{me(S.next(ye))}catch(De){Y(De)}}function ie(ye){try{me(S.throw(ye))}catch(De){Y(De)}}function me(ye){ye.done?E(ye.value):function P(E){return E instanceof f?E:new f(function(Y){Y(E)})}(ye.value).then(G,ie)}me((S=S.apply(d,m||[])).next())})}(this,void 0,void 0,function*(){try{for(f=nt(d);!(S=yield f.next()).done;)if(m.next(S.value),m.closed)return}catch(Y){P={error:Y}}finally{try{S&&!S.done&&(E=f.return)&&(yield E.call(f))}finally{if(P)throw P.error}}m.complete()})})(d,m).catch(f=>m.error(f))})}function Ht(d,m,f,S=0,P=!1){const E=m.schedule(function(){f(),P?d.add(this.schedule(null,S)):this.unsubscribe()},S);if(d.add(E),!P)return E}function Ei(d,m,f=1/0){return u(m)?Ei((S,P)=>Z((E,Y)=>m(S,E,P,Y))(Lt(d(S,P))),f):("number"==typeof m&&(f=m),O((S,P)=>function ds(d,m,f,S,P,E,Y,G){const ie=[];let me=0,ye=0,De=!1;const Me=()=>{De&&!ie.length&&!me&&m.complete()},Ve=Je=>me<S?We(Je):ie.push(Je),We=Je=>{E&&m.next(Je),me++;let rt=!1;Lt(f(Je,ye++)).subscribe(B(m,ct=>{P?.(ct),E?Ve(ct):m.next(ct)},()=>{rt=!0},void 0,()=>{if(rt)try{for(me--;ie.length&&me<S;){const ct=ie.shift();Y?Ht(m,Y,()=>We(ct)):We(ct)}Me()}catch(ct){m.error(ct)}}))};return d.subscribe(B(m,Ve,()=>{De=!0,Me()})),()=>{G?.()}}(S,P,d,f)))}const fi=new se(d=>d.complete());function Gs(d){return d[d.length-1]}function ro(d){return function ao(d){return d&&u(d.schedule)}(Gs(d))?d.pop():void 0}function zs(d,m=0){return O((f,S)=>{f.subscribe(B(S,P=>Ht(S,d,()=>S.next(P),m),()=>Ht(S,d,()=>S.complete(),m),P=>Ht(S,d,()=>S.error(P),m)))})}function Ls(d,m=0){return O((f,S)=>{S.add(d.schedule(()=>f.subscribe(S),m))})}function Qo(d,m){if(!d)throw new Error("Iterable cannot be null");return new se(f=>{Ht(f,m,()=>{const S=d[Symbol.asyncIterator]();Ht(f,m,()=>{S.next().then(P=>{P.done?f.complete():f.next(P.value)})},0,!0)})})}function Xr(d,m){return m?function Yr(d,m){if(null!=d){if(Et(d))return function Eo(d,m){return Lt(d).pipe(Ls(m),zs(m))}(d,m);if(Zt(d))return function Ii(d,m){return new se(f=>{let S=0;return m.schedule(function(){S===d.length?f.complete():(f.next(d[S++]),f.closed||this.schedule())})})}(d,m);if(pt(d))return function Di(d,m){return Lt(d).pipe(Ls(m),zs(m))}(d,m);if(At(d))return Qo(d,m);if(ls(d))return function xo(d,m){return new se(f=>{let S;return Ht(f,m,()=>{S=d[lt](),Ht(f,m,()=>{let P,E;try{({value:P,done:E}=S.next())}catch(Y){return void f.error(Y)}E?f.complete():f.next(P)},0,!0)}),()=>u(S?.return)&&S.return()})}(d,m);if(wi(d))return function fa(d,m){return Qo(Yi(d),m)}(d,m)}throw vi(d)}(d,m):Lt(d)}function ts(...d){const m=ro(d),f=function Bs(d,m){return"number"==typeof Gs(d)?d.pop():m}(d,1/0),S=d;return S.length?1===S.length?Lt(S[0]):function Zi(d=1/0){return Ei(le,d)}(f)(Xr(S,m)):fi}class Ko extends M{constructor(m){super(),this._value=m}get value(){return this.getValue()}_subscribe(m){const f=super._subscribe(m);return!f.closed&&m.next(this._value),f}getValue(){const{hasError:m,thrownError:f,_value:S}=this;if(m)throw f;return this._throwIfClosed(),S}next(m){super.next(this._value=m)}}function Gn(d={}){const{connector:m=(()=>new M),resetOnError:f=!0,resetOnComplete:S=!0,resetOnRefCountZero:P=!0}=d;return E=>{let Y,G,ie,me=0,ye=!1,De=!1;const Me=()=>{G?.unsubscribe(),G=void 0},Ve=()=>{Me(),Y=ie=void 0,ye=De=!1},We=()=>{const Je=Y;Ve(),Je?.unsubscribe()};return O((Je,rt)=>{me++,!De&&!ye&&Me();const ct=ie=ie??m();rt.add(()=>{me--,0===me&&!De&&!ye&&(G=Hr(We,P))}),ct.subscribe(rt),!Y&&me>0&&(Y=new N({next:et=>ct.next(et),error:et=>{De=!0,Me(),G=Hr(Ve,f,et),ct.error(et)},complete:()=>{ye=!0,Me(),G=Hr(Ve,S),ct.complete()}}),Lt(Je).subscribe(Y))})(E)}}function Hr(d,m,...f){if(!0===m)return void d();if(!1===m)return;const S=new N({next:()=>{S.unsubscribe(),d()}});return Lt(m(...f)).subscribe(S)}function Ma(d,m){return O((f,S)=>{let P=null,E=0,Y=!1;const G=()=>Y&&!P&&S.complete();f.subscribe(B(S,ie=>{P?.unsubscribe();let me=0;const ye=E++;Lt(d(ie,ye)).subscribe(P=B(S,De=>S.next(m?m(ie,De,ye,me++):De),()=>{P=null,G()}))},()=>{Y=!0,G()}))})}function Ea(d,m){return d===m}function ci(d){for(let m in d)if(d[m]===ci)return m;throw Error("Could not find renamed property on target object.")}function Ra(d,m){for(const f in m)m.hasOwnProperty(f)&&!d.hasOwnProperty(f)&&(d[f]=m[f])}function Ri(d){if("string"==typeof d)return d;if(Array.isArray(d))return"["+d.map(Ri).join(", ")+"]";if(null==d)return""+d;if(d.overriddenName)return`${d.overriddenName}`;if(d.name)return`${d.name}`;const m=d.toString();if(null==m)return""+m;const f=m.indexOf("\n");return-1===f?m:m.substring(0,f)}function fs(d,m){return null==d||""===d?null===m?"":m:null==m||""===m?d:d+" "+m}const Zn=ci({__forward_ref__:ci});function Ro(d){return d.__forward_ref__=Ro,d.toString=function(){return Ri(this())},d}function Ft(d){return function $r(d){return"function"==typeof d&&d.hasOwnProperty(Zn)&&d.__forward_ref__===Ro}(d)?d():d}function no(d){return d&&!!d.\u0275providers}class St extends Error{constructor(m,f){super(function yo(d,m){return`NG0${Math.abs(d)}${m?": "+m:""}`}(m,f)),this.code=m}}function ai(d){return"function"==typeof d?d.name||d.toString():"object"==typeof d&&null!=d&&"function"==typeof d.type?d.type.name||d.type.toString():function Bt(d){return"string"==typeof d?d:null==d?"":String(d)}(d)}function Va(d,m){throw new St(-201,!1)}function hs(d,m){null==d&&function Rt(d,m,f,S){throw new Error(`ASSERTION ERROR: ${d}`+(null==S?"":` [Expected=> ${f} ${S} ${m} <=Actual]`))}(m,d,null,"!=")}function ui(d){return{token:d.token,providedIn:d.providedIn||null,factory:d.factory,value:void 0}}function Ys(d){return{providers:d.providers||[],imports:d.imports||[]}}function _a(d){return el(d,X)||el(d,ce)}function el(d,m){return d.hasOwnProperty(m)?d[m]:null}function Fa(d){return d&&(d.hasOwnProperty(K)||d.hasOwnProperty(ge))?d[K]:null}const X=ci({\u0275prov:ci}),K=ci({\u0275inj:ci}),ce=ci({ngInjectableDef:ci}),ge=ci({ngInjectorDef:ci});var ve=function(d){return d[d.Default=0]="Default",d[d.Host=1]="Host",d[d.Self=2]="Self",d[d.SkipSelf=4]="SkipSelf",d[d.Optional=8]="Optional",d}(ve||{});let we;function Re(d){const m=we;return we=d,m}function Ee(d,m,f){const S=_a(d);return S&&"root"==S.providedIn?void 0===S.value?S.value=S.factory():S.value:f&ve.Optional?null:void 0!==m?m:void Va(Ri(d))}const Ue=globalThis;class Qe{constructor(m,f){this._desc=m,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof f?this.__NG_ELEMENT_ID__=f:void 0!==f&&(this.\u0275prov=ui({token:this,providedIn:f.providedIn||"root",factory:f.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const ho={},va="__NG_DI_FLAG__",vs="ngTempTokenPath",qs=/\n/gm,co="__source";let Ui;function Ki(d){const m=Ui;return Ui=d,m}function uo(d,m=ve.Default){if(void 0===Ui)throw new St(-203,!1);return null===Ui?Ee(d,void 0,m):Ui.get(d,m&ve.Optional?null:void 0,m)}function ti(d,m=ve.Default){return(function Te(){return we}()||uo)(Ft(d),m)}function bi(d,m=ve.Default){return ti(d,ni(m))}function ni(d){return typeof d>"u"||"number"==typeof d?d:0|(d.optional&&8)|(d.host&&1)|(d.self&&2)|(d.skipSelf&&4)}function ta(d){const m=[];for(let f=0;f<d.length;f++){const S=Ft(d[f]);if(Array.isArray(S)){if(0===S.length)throw new St(900,!1);let P,E=ve.Default;for(let Y=0;Y<S.length;Y++){const G=S[Y],ie=ia(G);"number"==typeof ie?-1===ie?P=G.token:E|=ie:P=G}m.push(ti(P,E))}else m.push(ti(S))}return m}function is(d,m){return d[va]=m,d.prototype[va]=m,d}function ia(d){return d[va]}function Zs(d){return{toString:d}.toString()}var Qs=function(d){return d[d.OnPush=0]="OnPush",d[d.Default=1]="Default",d}(Qs||{}),bs=function(d){return d[d.Emulated=0]="Emulated",d[d.None=2]="None",d[d.ShadowDom=3]="ShadowDom",d}(bs||{});const Wi={},oi=[],So=ci({\u0275cmp:ci}),sa=ci({\u0275dir:ci}),oa=ci({\u0275pipe:ci}),Ba=ci({\u0275mod:ci}),po=ci({\u0275fac:ci}),Co=ci({__NG_ELEMENT_ID__:ci}),za=ci({__NG_ENV_ID__:ci});function Ya(d,m,f){let S=d.length;for(;;){const P=d.indexOf(m,f);if(-1===P)return P;if(0===P||d.charCodeAt(P-1)<=32){const E=m.length;if(P+E===S||d.charCodeAt(P+E)<=32)return P}f=P+1}}function qr(d,m,f){let S=0;for(;S<f.length;){const P=f[S];if("number"==typeof P){if(0!==P)break;S++;const E=f[S++],Y=f[S++],G=f[S++];d.setAttribute(m,Y,G,E)}else{const E=P,Y=f[++S];Zr(E)?d.setProperty(m,E,Y):d.setAttribute(m,E,Y),S++}}return S}function Xa(d){return 3===d||4===d||6===d}function Zr(d){return 64===d.charCodeAt(0)}function Ie(d,m){if(null!==m&&0!==m.length)if(null===d||0===d.length)d=m.slice();else{let f=-1;for(let S=0;S<m.length;S++){const P=m[S];"number"==typeof P?f=P:0===f||ze(d,f,P,null,-1===f||2===f?m[++S]:null)}}return d}function ze(d,m,f,S,P){let E=0,Y=d.length;if(-1===m)Y=-1;else for(;E<d.length;){const G=d[E++];if("number"==typeof G){if(G===m){Y=-1;break}if(G>m){Y=E-1;break}}}for(;E<d.length;){const G=d[E];if("number"==typeof G)break;if(G===f){if(null===S)return void(null!==P&&(d[E+1]=P));if(S===d[E+1])return void(d[E+2]=P)}E++,null!==S&&E++,null!==P&&E++}-1!==Y&&(d.splice(Y,0,m),E=Y+1),d.splice(E++,0,f),null!==S&&d.splice(E++,0,S),null!==P&&d.splice(E++,0,P)}const Ge="ng-template";function Ze(d,m,f){let S=0,P=!0;for(;S<d.length;){let E=d[S++];if("string"==typeof E&&P){const Y=d[S++];if(f&&"class"===E&&-1!==Ya(Y.toLowerCase(),m,0))return!0}else{if(1===E){for(;S<d.length&&"string"==typeof(E=d[S++]);)if(E.toLowerCase()===m)return!0;return!1}"number"==typeof E&&(P=!1)}}return!1}function it(d){return 4===d.type&&d.value!==Ge}function ut(d,m,f){return m===(4!==d.type||f?d.value:Ge)}function ft(d,m,f){let S=4;const P=d.attrs||[],E=function Xt(d){for(let m=0;m<d.length;m++)if(Xa(d[m]))return m;return d.length}(P);let Y=!1;for(let G=0;G<m.length;G++){const ie=m[G];if("number"!=typeof ie){if(!Y)if(4&S){if(S=2|1&S,""!==ie&&!ut(d,ie,f)||""===ie&&1===m.length){if(xt(S))return!1;Y=!0}}else{const me=8&S?ie:m[++G];if(8&S&&null!==d.attrs){if(!Ze(d.attrs,me,f)){if(xt(S))return!1;Y=!0}continue}const De=_t(8&S?"class":ie,P,it(d),f);if(-1===De){if(xt(S))return!1;Y=!0;continue}if(""!==me){let Me;Me=De>E?"":P[De+1].toLowerCase();const Ve=8&S?Me:null;if(Ve&&-1!==Ya(Ve,me,0)||2&S&&me!==Me){if(xt(S))return!1;Y=!0}}}}else{if(!Y&&!xt(S)&&!xt(ie))return!1;if(Y&&xt(ie))continue;Y=!1,S=ie|1&S}}return xt(S)||Y}function xt(d){return 0==(1&d)}function _t(d,m,f,S){if(null===m)return-1;let P=0;if(S||!f){let E=!1;for(;P<m.length;){const Y=m[P];if(Y===d)return P;if(3===Y||6===Y)E=!0;else{if(1===Y||2===Y){let G=m[++P];for(;"string"==typeof G;)G=m[++P];continue}if(4===Y)break;if(0===Y){P+=4;continue}}P+=E?1:2}return-1}return function Kt(d,m){let f=d.indexOf(4);if(f>-1)for(f++;f<d.length;){const S=d[f];if("number"==typeof S)return-1;if(S===m)return f;f++}return-1}(m,d)}function Qt(d,m,f=!1){for(let S=0;S<m.length;S++)if(ft(d,m[S],f))return!0;return!1}function _i(d,m){return d?":not("+m.trim()+")":m}function cs(d){let m=d[0],f=1,S=2,P="",E=!1;for(;f<d.length;){let Y=d[f];if("string"==typeof Y)if(2&S){const G=d[++f];P+="["+Y+(G.length>0?'="'+G+'"':"")+"]"}else 8&S?P+="."+Y:4&S&&(P+=" "+Y);else""!==P&&!xt(Y)&&(m+=_i(E,P),P=""),S=Y,E=E||!xt(S);f++}return""!==P&&(m+=_i(E,P)),m}function As(d){return Zs(()=>{const m=function rp(d){const m={};return{type:d.type,providersResolver:null,factory:null,hostBindings:d.hostBindings||null,hostVars:d.hostVars||0,hostAttrs:d.hostAttrs||null,contentQueries:d.contentQueries||null,declaredInputs:m,inputTransforms:null,inputConfig:d.inputs||Wi,exportAs:d.exportAs||null,standalone:!0===d.standalone,signals:!0===d.signals,selectors:d.selectors||oi,viewQuery:d.viewQuery||null,features:d.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:ap(d.inputs,m),outputs:ap(d.outputs)}}(d),f={...m,decls:d.decls,vars:d.vars,template:d.template,consts:d.consts||null,ngContentSelectors:d.ngContentSelectors,onPush:d.changeDetection===Qs.OnPush,directiveDefs:null,pipeDefs:null,dependencies:m.standalone&&d.dependencies||null,getStandaloneInjector:null,signals:d.signals??!1,data:d.data||{},encapsulation:d.encapsulation||bs.Emulated,styles:d.styles||oi,_:null,schemas:d.schemas||null,tView:null,id:""};!function np(d){d.features?.forEach(m=>m(d))}(f);const S=d.dependencies;return f.directiveDefs=il(S,!1),f.pipeDefs=il(S,!0),f.id=function Cx(d){let m=0;const f=[d.selectors,d.ngContentSelectors,d.hostVars,d.hostAttrs,d.consts,d.vars,d.decls,d.encapsulation,d.standalone,d.signals,d.exportAs,JSON.stringify(d.inputs),JSON.stringify(d.outputs),Object.getOwnPropertyNames(d.type.prototype),!!d.contentQueries,!!d.viewQuery].join("|");for(const P of f)m=Math.imul(31,m)+P.charCodeAt(0)<<0;return m+=2147483648,"c"+m}(f),f})}function ss(d){return li(d)||os(d)}function yx(d){return null!==d}function Ha(d){return Zs(()=>({type:d.type,bootstrap:d.bootstrap||oi,declarations:d.declarations||oi,imports:d.imports||oi,exports:d.exports||oi,transitiveCompileScopes:null,schemas:d.schemas||null,id:d.id||null}))}function ap(d,m){if(null==d)return Wi;const f={};for(const S in d)if(d.hasOwnProperty(S)){let P=d[S],E=P;Array.isArray(P)&&(E=P[1],P=P[0]),f[P]=S,m&&(m[P]=E)}return f}function li(d){return d[So]||null}function os(d){return d[sa]||null}function xs(d){return d[oa]||null}function il(d,m){if(!d)return null;const f=m?xs:ss;return()=>("function"==typeof d?d():d).map(S=>f(S)).filter(yx)}const Oi=0,vt=1,Gt=2,Pi=3,mo=4,Kr=5,us=6,$a=7,Fi=8,ra=9,Ua=10,$t=11,Jr=12,lp=13,Wa=14,Bi=15,en=16,Ga=17,To=18,tn=19,dp=20,na=21,Vo=22,sn=23,on=24,ii=25,Yd=1,hp=2,Do=7,qa=9,as=11;function Os(d){return Array.isArray(d)&&"object"==typeof d[Yd]}function ys(d){return Array.isArray(d)&&!0===d[Yd]}function Xd(d){return 0!=(4&d.flags)}function xa(d){return d.componentOffset>-1}function go(d){return!!d.template}function Hd(d){return 0!=(512&d[Gt])}function ya(d,m){return d.hasOwnProperty(po)?d[po]:null}let rs=null,al=!1;function Js(d){const m=rs;return rs=d,m}const pp={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function gp(d){if(!rn(d)||d.dirty){if(!d.producerMustRecompute(d)&&!vp(d))return void(d.dirty=!1);d.producerRecomputeValue(d),d.dirty=!1}}function _p(d){d.dirty=!0,function fp(d){if(void 0===d.liveConsumerNode)return;const m=al;al=!0;try{for(const f of d.liveConsumerNode)f.dirty||_p(f)}finally{al=m}}(d),d.consumerMarkedDirty?.(d)}function Ud(d){return d&&(d.nextProducerIndex=0),Js(d)}function Wd(d,m){if(Js(m),d&&void 0!==d.producerNode&&void 0!==d.producerIndexOfThis&&void 0!==d.producerLastReadVersion){if(rn(d))for(let f=d.nextProducerIndex;f<d.producerNode.length;f++)rl(d.producerNode[f],d.producerIndexOfThis[f]);for(;d.producerNode.length>d.nextProducerIndex;)d.producerNode.pop(),d.producerLastReadVersion.pop(),d.producerIndexOfThis.pop()}}function vp(d){Za(d);for(let m=0;m<d.producerNode.length;m++){const f=d.producerNode[m],S=d.producerLastReadVersion[m];if(S!==f.version||(gp(f),S!==f.version))return!0}return!1}function bp(d){if(Za(d),rn(d))for(let m=0;m<d.producerNode.length;m++)rl(d.producerNode[m],d.producerIndexOfThis[m]);d.producerNode.length=d.producerLastReadVersion.length=d.producerIndexOfThis.length=0,d.liveConsumerNode&&(d.liveConsumerNode.length=d.liveConsumerIndexOfThis.length=0)}function rl(d,m){if(function yp(d){d.liveConsumerNode??=[],d.liveConsumerIndexOfThis??=[]}(d),Za(d),1===d.liveConsumerNode.length)for(let S=0;S<d.producerNode.length;S++)rl(d.producerNode[S],d.producerIndexOfThis[S]);const f=d.liveConsumerNode.length-1;if(d.liveConsumerNode[m]=d.liveConsumerNode[f],d.liveConsumerIndexOfThis[m]=d.liveConsumerIndexOfThis[f],d.liveConsumerNode.length--,d.liveConsumerIndexOfThis.length--,m<d.liveConsumerNode.length){const S=d.liveConsumerIndexOfThis[m],P=d.liveConsumerNode[m];Za(P),P.producerIndexOfThis[S]=m}}function rn(d){return d.consumerIsAlwaysLive||(d?.liveConsumerNode?.length??0)>0}function Za(d){d.producerNode??=[],d.producerIndexOfThis??=[],d.producerLastReadVersion??=[]}let wp=null;const Dp=()=>{},Nx=(()=>({...pp,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:d=>{d.schedule(d.ref)},hasRun:!1,cleanupFn:Dp}))();class Pp{constructor(m,f,S){this.previousValue=m,this.currentValue=f,this.firstChange=S}isFirstChange(){return this.firstChange}}function Lp(d){return d.type.prototype.ngOnChanges&&(d.setInput=Fx),Vx}function Vx(){const d=jp(this),m=d?.current;if(m){const f=d.previous;if(f===Wi)d.previous=m;else for(let S in m)f[S]=m[S];d.current=null,this.ngOnChanges(m)}}function Fx(d,m,f,S){const P=this.declaredInputs[f],E=jp(d)||function Bx(d,m){return d[kp]=m}(d,{previous:Wi,current:null}),Y=E.current||(E.current={}),G=E.previous,ie=G[P];Y[P]=new Pp(ie&&ie.currentValue,m,G===Wi),d[S]=m}const kp="__ngSimpleChanges__";function jp(d){return d[kp]||null}const Po=function(d,m,f){};function Si(d){for(;Array.isArray(d);)d=d[Oi];return d}function Ms(d,m){return Si(m[d.index])}function Op(d,m){return d.data[m]}function Hs(d,m){const f=m[d];return Os(f)?f:f[Oi]}function da(d,m){return null==m?null:d[m]}function Mp(d){d[Ga]=0}function Ux(d){1024&d[Gt]||(d[Gt]|=1024,Rp(d,1))}function Ep(d){1024&d[Gt]&&(d[Gt]&=-1025,Rp(d,-1))}function Rp(d,m){let f=d[Pi];if(null===f)return;f[Kr]+=m;let S=f;for(f=f[Pi];null!==f&&(1===m&&1===S[Kr]||-1===m&&0===S[Kr]);)f[Kr]+=m,S=f,f=f[Pi]}const zt={lFrame:Wp(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Fp(){return zt.bindingsEnabled}function at(){return zt.lFrame.lView}function di(){return zt.lFrame.tView}function ns(){let d=Bp();for(;null!==d&&64===d.type;)d=d.parent;return d}function Bp(){return zt.lFrame.currentTNode}function Lo(d,m){const f=zt.lFrame;f.currentTNode=d,f.isParent=m}function Kd(){return zt.lFrame.isParent}function ry(d,m){const f=zt.lFrame;f.bindingIndex=f.bindingRootIndex=d,eh(m)}function eh(d){zt.lFrame.currentDirectiveIndex=d}function ih(d){zt.lFrame.currentQueryIndex=d}function ly(d){const m=d[vt];return 2===m.type?m.declTNode:1===m.type?d[us]:null}function $p(d,m,f){if(f&ve.SkipSelf){let P=m,E=d;for(;!(P=P.parent,null!==P||f&ve.Host||(P=ly(E),null===P||(E=E[Wa],10&P.type))););if(null===P)return!1;m=P,d=E}const S=zt.lFrame=Up();return S.currentTNode=m,S.lView=d,!0}function sh(d){const m=Up(),f=d[vt];zt.lFrame=m,m.currentTNode=f.firstChild,m.lView=d,m.tView=f,m.contextLView=d,m.bindingIndex=f.bindingStartIndex,m.inI18n=!1}function Up(){const d=zt.lFrame,m=null===d?null:d.child;return null===m?Wp(d):m}function Wp(d){const m={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:d,child:null,inI18n:!1};return null!==d&&(d.child=m),m}function Gp(){const d=zt.lFrame;return zt.lFrame=d.parent,d.currentTNode=null,d.lView=null,d}const qp=Gp;function oh(){const d=Gp();d.isParent=!0,d.tView=null,d.selectedIndex=-1,d.contextLView=null,d.elementDepthCount=0,d.currentDirectiveIndex=-1,d.currentNamespace=null,d.bindingRootIndex=-1,d.bindingIndex=-1,d.currentQueryIndex=0}function wa(d){zt.lFrame.selectedIndex=d}let Qp=!0;function hl(d,m){for(let f=m.directiveStart,S=m.directiveEnd;f<S;f++){const E=d.data[f].type.prototype,{ngAfterContentInit:Y,ngAfterContentChecked:G,ngAfterViewInit:ie,ngAfterViewChecked:me,ngOnDestroy:ye}=E;Y&&(d.contentHooks??=[]).push(-f,Y),G&&((d.contentHooks??=[]).push(f,G),(d.contentCheckHooks??=[]).push(f,G)),ie&&(d.viewHooks??=[]).push(-f,ie),me&&((d.viewHooks??=[]).push(f,me),(d.viewCheckHooks??=[]).push(f,me)),null!=ye&&(d.destroyHooks??=[]).push(f,ye)}}function cl(d,m,f){Kp(d,m,3,f)}function ul(d,m,f,S){(3&d[Gt])===f&&Kp(d,m,f,S)}function ah(d,m){let f=d[Gt];(3&f)===m&&(f&=8191,f+=1,d[Gt]=f)}function Kp(d,m,f,S){const E=S??-1,Y=m.length-1;let G=0;for(let ie=void 0!==S?65535&d[Ga]:0;ie<Y;ie++)if("number"==typeof m[ie+1]){if(G=m[ie],null!=S&&G>=S)break}else m[ie]<0&&(d[Ga]+=65536),(G<E||-1==E)&&(fy(d,f,m,ie),d[Ga]=(4294901760&d[Ga])+ie+2),ie++}function Jp(d,m){Po(4,d,m);const f=Js(null);try{m.call(d)}finally{Js(f),Po(5,d,m)}}function fy(d,m,f,S){const P=f[S]<0,E=f[S+1],G=d[P?-f[S]:f[S]];P?d[Gt]>>13<d[Ga]>>16&&(3&d[Gt])===m&&(d[Gt]+=8192,Jp(G,E)):Jp(G,E)}const er=-1;class ln{constructor(m,f,S){this.factory=m,this.resolving=!1,this.canSeeViewProviders=f,this.injectImpl=S}}function dn(d){return 32767&d}function hn(d,m){let f=function xy(d){return d>>16}(d),S=m;for(;f>0;)S=S[Wa],f--;return S}let lh=!0;function pl(d){const m=lh;return lh=d,m}const em=255,tm=5;let yy=0;const ko={};function ml(d,m){const f=im(d,m);if(-1!==f)return f;const S=m[vt];S.firstCreatePass&&(d.injectorIndex=m.length,dh(S.data,d),dh(m,null),dh(S.blueprint,null));const P=gl(d,m),E=d.injectorIndex;if(function nh(d){return d!==er}(P)){const Y=dn(P),G=hn(P,m),ie=G[vt].data;for(let me=0;me<8;me++)m[E+me]=G[Y+me]|ie[Y+me]}return m[E+8]=P,E}function dh(d,m){d.push(0,0,0,0,0,0,0,0,m)}function im(d,m){return-1===d.injectorIndex||d.parent&&d.parent.injectorIndex===d.injectorIndex||null===m[d.injectorIndex+8]?-1:d.injectorIndex}function gl(d,m){if(d.parent&&-1!==d.parent.injectorIndex)return d.parent.injectorIndex;let f=0,S=null,P=m;for(;null!==P;){if(S=dm(P),null===S)return er;if(f++,P=P[Wa],-1!==S.injectorIndex)return S.injectorIndex|f<<16}return er}function hh(d,m,f){!function wy(d,m,f){let S;"string"==typeof f?S=f.charCodeAt(0)||0:f.hasOwnProperty(Co)&&(S=f[Co]),null==S&&(S=f[Co]=yy++);const P=S&em;m.data[d+(P>>tm)]|=1<<P}(d,m,f)}function sm(d,m,f){if(f&ve.Optional||void 0!==d)return d;Va()}function om(d,m,f,S){if(f&ve.Optional&&void 0===S&&(S=null),!(f&(ve.Self|ve.Host))){const P=d[ra],E=Re(void 0);try{return P?P.get(m,S,f&ve.Optional):Ee(m,S,f&ve.Optional)}finally{Re(E)}}return sm(S,0,f)}function am(d,m,f,S=ve.Default,P){if(null!==d){if(2048&m[Gt]&&!(S&ve.Self)){const Y=function ky(d,m,f,S,P){let E=d,Y=m;for(;null!==E&&null!==Y&&2048&Y[Gt]&&!(512&Y[Gt]);){const G=rm(E,Y,f,S|ve.Self,ko);if(G!==ko)return G;let ie=E.parent;if(!ie){const me=Y[dp];if(me){const ye=me.get(f,ko,S);if(ye!==ko)return ye}ie=dm(Y),Y=Y[Wa]}E=ie}return P}(d,m,f,S,ko);if(Y!==ko)return Y}const E=rm(d,m,f,S,ko);if(E!==ko)return E}return om(m,f,S,P)}function rm(d,m,f,S,P){const E=function Ty(d){if("string"==typeof d)return d.charCodeAt(0)||0;const m=d.hasOwnProperty(Co)?d[Co]:void 0;return"number"==typeof m?m>=0?m&em:Py:m}(f);if("function"==typeof E){if(!$p(m,d,S))return S&ve.Host?sm(P,0,S):om(m,f,S,P);try{let Y;if(Y=E(S),null!=Y||S&ve.Optional)return Y;Va()}finally{qp()}}else if("number"==typeof E){let Y=null,G=im(d,m),ie=er,me=S&ve.Host?m[Bi][us]:null;for((-1===G||S&ve.SkipSelf)&&(ie=-1===G?gl(d,m):m[G+8],ie!==er&&lm(S,!1)?(Y=m[vt],G=dn(ie),m=hn(ie,m)):G=-1);-1!==G;){const ye=m[vt];if(nm(E,G,ye.data)){const De=Cy(G,m,f,Y,S,me);if(De!==ko)return De}ie=m[G+8],ie!==er&&lm(S,m[vt].data[G+8]===me)&&nm(E,G,m)?(Y=ye,G=dn(ie),m=hn(ie,m)):G=-1}}return P}function Cy(d,m,f,S,P,E){const Y=m[vt],G=Y.data[d+8],ye=function fl(d,m,f,S,P){const E=d.providerIndexes,Y=m.data,G=1048575&E,ie=d.directiveStart,ye=E>>20,Me=P?G+ye:d.directiveEnd;for(let Ve=S?G:G+ye;Ve<Me;Ve++){const We=Y[Ve];if(Ve<ie&&f===We||Ve>=ie&&We.type===f)return Ve}if(P){const Ve=Y[ie];if(Ve&&go(Ve)&&Ve.type===f)return ie}return null}(G,Y,f,null==S?xa(G)&&lh:S!=Y&&0!=(3&G.type),P&ve.Host&&E===G);return null!==ye?Sa(m,Y,ye,G):ko}function Sa(d,m,f,S){let P=d[f];const E=m.data;if(function _y(d){return d instanceof ln}(P)){const Y=P;Y.resolving&&function Qn(d,m){const f=m?`. Dependency path: ${m.join(" > ")} > ${d}`:"";throw new St(-200,`Circular dependency in DI detected for ${d}${f}`)}(ai(E[f]));const G=pl(Y.canSeeViewProviders);Y.resolving=!0;const me=Y.injectImpl?Re(Y.injectImpl):null;$p(d,S,ve.Default);try{P=d[f]=Y.factory(void 0,E,d,S),m.firstCreatePass&&f>=S.directiveStart&&function gy(d,m,f){const{ngOnChanges:S,ngOnInit:P,ngDoCheck:E}=m.type.prototype;if(S){const Y=Lp(m);(f.preOrderHooks??=[]).push(d,Y),(f.preOrderCheckHooks??=[]).push(d,Y)}P&&(f.preOrderHooks??=[]).push(0-d,P),E&&((f.preOrderHooks??=[]).push(d,E),(f.preOrderCheckHooks??=[]).push(d,E))}(f,E[f],m)}finally{null!==me&&Re(me),pl(G),Y.resolving=!1,qp()}}return P}function nm(d,m,f){return!!(f[m+(d>>tm)]&1<<d)}function lm(d,m){return!(d&ve.Self||d&ve.Host&&m)}class Cs{constructor(m,f){this._tNode=m,this._lView=f}get(m,f,S){return am(this._tNode,this._lView,m,ni(S),f)}}function Py(){return new Cs(ns(),at())}function dm(d){const m=d[vt],f=m.type;return 2===f?m.declTNode:1===f?d[us]:null}const ir="__parameters__";function or(d,m,f){return Zs(()=>{const S=function ph(d){return function(...f){if(d){const S=d(...f);for(const P in S)this[P]=S[P]}}}(m);function P(...E){if(this instanceof P)return S.apply(this,E),this;const Y=new P(...E);return G.annotation=Y,G;function G(ie,me,ye){const De=ie.hasOwnProperty(ir)?ie[ir]:Object.defineProperty(ie,ir,{value:[]})[ir];for(;De.length<=ye;)De.push(null);return(De[ye]=De[ye]||[]).push(Y),ie}}return f&&(P.prototype=Object.create(f.prototype)),P.prototype.ngMetadataName=d,P.annotationCls=P,P})}function rr(d,m){d.forEach(f=>Array.isArray(f)?rr(f,m):m(f))}function _l(d,m){return m>=d.length-1?d.pop():d.splice(m,1)[0]}const fh=is(or("Optional"),8),_h=is(or("SkipSelf"),4);var ca=function(d){return d[d.Important=1]="Important",d[d.DashCase=2]="DashCase",d}(ca||{});const yh=new Map;let n0=0;const Sh="__ngContext__";function ps(d,m){Os(m)?(d[Sh]=m[tn],function d0(d){yh.set(d[tn],d)}(m)):d[Sh]=m}let Ch;function Th(d,m){return Ch(d,m)}function fn(d){const m=d[Pi];return ys(m)?m[Pi]:m}function Im(d){return Mm(d[Jr])}function Om(d){return Mm(d[mo])}function Mm(d){for(;null!==d&&!ys(d);)d=d[mo];return d}function hr(d,m,f,S,P){if(null!=S){let E,Y=!1;ys(S)?E=S:Os(S)&&(Y=!0,S=S[Oi]);const G=Si(S);0===d&&null!==f?null==P?Vm(m,f,G):Ca(m,f,G,P||null,!0):1===d&&null!==f?Ca(m,f,G,P||null,!0):2===d?function jl(d,m,f){const S=function Ll(d,m){return d.parentNode(m)}(d,m);S&&function L0(d,m,f,S){d.removeChild(m,f,S)}(d,S,m,f)}(m,G,Y):3===d&&m.destroyNode(G),null!=E&&function A0(d,m,f,S,P){const E=f[Do];E!==Si(f)&&hr(m,d,S,E,P);for(let G=as;G<f.length;G++){const ie=f[G];vn(ie[vt],ie,d,m,S,E)}}(m,d,E,f,P)}}function Dl(d,m,f){return d.createElement(m,f)}function Rm(d,m){const f=d[qa],S=f.indexOf(m);Ep(m),f.splice(S,1)}function Lh(d,m){if(!(256&m[Gt])){m[Gt]&=-129,m[Gt]|=256,function P0(d,m){let f;if(null!=d&&null!=(f=d.destroyHooks))for(let S=0;S<f.length;S+=2){const P=m[f[S]];if(!(P instanceof ln)){const E=f[S+1];if(Array.isArray(E))for(let Y=0;Y<E.length;Y+=2){const G=P[E[Y]],ie=E[Y+1];Po(4,G,ie);try{ie.call(G)}finally{Po(5,G,ie)}}else{Po(4,P,E);try{E.call(P)}finally{Po(5,P,E)}}}}}(d,m),function D0(d,m){const f=d.cleanup,S=m[$a];if(null!==f)for(let E=0;E<f.length-1;E+=2)if("string"==typeof f[E]){const Y=f[E+3];Y>=0?S[Y]():S[-Y].unsubscribe(),E+=2}else f[E].call(S[f[E+1]]);null!==S&&(m[$a]=null);const P=m[na];if(null!==P){m[na]=null;for(let E=0;E<P.length;E++)(0,P[E])()}}(d,m),1===m[vt].type&&m[$t].destroy();const f=m[en];if(null!==f&&ys(m[Pi])){f!==m[Pi]&&Rm(f,m);const S=m[To];null!==S&&S.detachView(d)}!function h0(d){yh.delete(d[tn])}(m)}}function kh(d,m,f){return function Nm(d,m,f){let S=m;for(;null!==S&&40&S.type;)S=(m=S).parent;if(null===S)return f[Oi];{const{componentOffset:P}=S;if(P>-1){const{encapsulation:E}=d.data[S.directiveStart+P];if(E===bs.None||E===bs.Emulated)return null}return Ms(S,f)}}(d,m.parent,f)}function Ca(d,m,f,S,P){d.insertBefore(m,f,S,P)}function Vm(d,m,f){d.appendChild(m,f)}function Fm(d,m,f,S,P){null!==S?Ca(d,m,f,S,P):Vm(d,m,f)}let jh,Mh,Ym=function zm(d,m,f){return 40&d.type?Ms(d,f):null};function kl(d,m,f,S){const P=kh(d,S,m),E=m[$t],G=function Bm(d,m,f){return Ym(d,m,f)}(S.parent||m[us],S,m);if(null!=P)if(Array.isArray(f))for(let ie=0;ie<f.length;ie++)Fm(E,P,f[ie],G,!1);else Fm(E,P,f,G,!1);void 0!==jh&&jh(E,S,m,f,P)}function Hm(d,m){return null!==m?d[Bi][us].projection[m.projection]:null}function Ih(d,m,f,S,P,E,Y){for(;null!=f;){const G=S[f.index],ie=f.type;if(Y&&0===m&&(G&&ps(Si(G),S),f.flags|=2),32!=(32&f.flags))if(8&ie)Ih(d,m,f.child,S,P,E,!1),hr(m,d,P,G,E);else if(32&ie){const me=Th(f,S);let ye;for(;ye=me();)hr(m,d,P,ye,E);hr(m,d,P,G,E)}else 16&ie?Um(d,m,S,f,P,E):hr(m,d,P,G,E);f=Y?f.projectionNext:f.next}}function vn(d,m,f,S,P,E){Ih(f,S,d.firstChild,m,P,E,!1)}function Um(d,m,f,S,P,E){const Y=f[Bi],ie=Y[us].projection[S.projection];if(Array.isArray(ie))for(let me=0;me<ie.length;me++)hr(m,d,P,ie[me],E);else{let me=ie;const ye=Y[Pi];(function Sl(d){return 128==(128&d.flags)})(S)&&(me.flags|=128),Ih(d,m,me,ye,P,E,!0)}}function Wm(d,m,f){""===f?d.removeAttribute(m,"class"):d.setAttribute(m,"class",f)}function Gm(d,m,f){const{mergedAttrs:S,classes:P,styles:E}=f;null!==S&&qr(d,m,S),null!==P&&Wm(d,m,P),null!==E&&function O0(d,m,f){d.setAttribute(m,"style",f)}(d,m,E)}const Ml=new Qe("ENVIRONMENT_INITIALIZER"),ng=new Qe("INJECTOR",-1),lg=new Qe("INJECTOR_DEF_TYPES");class Bh{get(m,f=ho){if(f===ho){const S=new Error(`NullInjectorError: No provider for ${Ri(m)}!`);throw S.name="NullInjectorError",S}return f}}function nw(...d){return{\u0275providers:hg(0,d),\u0275fromNgModule:!0}}function hg(d,...m){const f=[],S=new Set;let P;const E=Y=>{f.push(Y)};return rr(m,Y=>{const G=Y;El(G,E,[],S)&&(P||=[],P.push(G))}),void 0!==P&&cg(P,E),f}function cg(d,m){for(let f=0;f<d.length;f++){const{ngModule:S,providers:P}=d[f];zh(P,E=>{m(E,S)})}}function El(d,m,f,S){if(!(d=Ft(d)))return!1;let P=null,E=Fa(d);const Y=!E&&li(d);if(E||Y){if(Y&&!Y.standalone)return!1;P=d}else{const ie=d.ngModule;if(E=Fa(ie),!E)return!1;P=ie}const G=S.has(P);if(Y){if(G)return!1;if(S.add(P),Y.dependencies){const ie="function"==typeof Y.dependencies?Y.dependencies():Y.dependencies;for(const me of ie)El(me,m,f,S)}}else{if(!E)return!1;{if(null!=E.imports&&!G){let me;S.add(P);try{rr(E.imports,ye=>{El(ye,m,f,S)&&(me||=[],me.push(ye))})}finally{}void 0!==me&&cg(me,m)}if(!G){const me=ya(P)||(()=>new P);m({provide:P,useFactory:me,deps:oi},P),m({provide:lg,useValue:P,multi:!0},P),m({provide:Ml,useValue:()=>ti(P),multi:!0},P)}const ie=E.providers;if(null!=ie&&!G){const me=d;zh(ie,ye=>{m(ye,me)})}}}return P!==d&&void 0!==d.providers}function zh(d,m){for(let f of d)no(f)&&(f=f.\u0275providers),Array.isArray(f)?zh(f,m):m(f)}const lw=ci({provide:String,useValue:ci});function Yh(d){return null!==d&&"object"==typeof d&&lw in d}function Ta(d){return"function"==typeof d}const Xh=new Qe("Set Injector scope."),Rl={},hw={};let Hh;function Nl(){return void 0===Hh&&(Hh=new Bh),Hh}class Yo{}class mr extends Yo{get destroyed(){return this._destroyed}constructor(m,f,S,P){super(),this.parent=f,this.source=S,this.scopes=P,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Uh(m,Y=>this.processProvider(Y)),this.records.set(ng,gr(void 0,this)),P.has("environment")&&this.records.set(Yo,gr(void 0,this));const E=this.records.get(Xh);null!=E&&"string"==typeof E.value&&this.scopes.add(E.value),this.injectorDefTypes=new Set(this.get(lg.multi,oi,ve.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const f of this._ngOnDestroyHooks)f.ngOnDestroy();const m=this._onDestroyHooks;this._onDestroyHooks=[];for(const f of m)f()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(m){return this.assertNotDestroyed(),this._onDestroyHooks.push(m),()=>this.removeOnDestroy(m)}runInContext(m){this.assertNotDestroyed();const f=Ki(this),S=Re(void 0);try{return m()}finally{Ki(f),Re(S)}}get(m,f=ho,S=ve.Default){if(this.assertNotDestroyed(),m.hasOwnProperty(za))return m[za](this);S=ni(S);const E=Ki(this),Y=Re(void 0);try{if(!(S&ve.SkipSelf)){let ie=this.records.get(m);if(void 0===ie){const me=function gw(d){return"function"==typeof d||"object"==typeof d&&d instanceof Qe}(m)&&_a(m);ie=me&&this.injectableDefInScope(me)?gr($h(m),Rl):null,this.records.set(m,ie)}if(null!=ie)return this.hydrate(m,ie)}return(S&ve.Self?Nl():this.parent).get(m,f=S&ve.Optional&&f===ho?null:f)}catch(G){if("NullInjectorError"===G.name){if((G[vs]=G[vs]||[]).unshift(Ri(m)),E)throw G;return function Bd(d,m,f,S){const P=d[vs];throw m[co]&&P.unshift(m[co]),d.message=function zd(d,m,f,S=null){d=d&&"\n"===d.charAt(0)&&"\u0275"==d.charAt(1)?d.slice(2):d;let P=Ri(m);if(Array.isArray(m))P=m.map(Ri).join(" -> ");else if("object"==typeof m){let E=[];for(let Y in m)if(m.hasOwnProperty(Y)){let G=m[Y];E.push(Y+":"+("string"==typeof G?JSON.stringify(G):Ri(G)))}P=`{${E.join(", ")}}`}return`${f}${S?"("+S+")":""}[${P}]: ${d.replace(qs,"\n  ")}`}("\n"+d.message,P,f,S),d.ngTokenPath=P,d[vs]=null,d}(G,m,"R3InjectorError",this.source)}throw G}finally{Re(Y),Ki(E)}}resolveInjectorInitializers(){const m=Ki(this),f=Re(void 0);try{const P=this.get(Ml.multi,oi,ve.Self);for(const E of P)E()}finally{Ki(m),Re(f)}}toString(){const m=[],f=this.records;for(const S of f.keys())m.push(Ri(S));return`R3Injector[${m.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new St(205,!1)}processProvider(m){let f=Ta(m=Ft(m))?m:Ft(m&&m.provide);const S=function uw(d){return Yh(d)?gr(void 0,d.useValue):gr(function mg(d,m,f){let S;if(Ta(d)){const P=Ft(d);return ya(P)||$h(P)}if(Yh(d))S=()=>Ft(d.useValue);else if(function pg(d){return!(!d||!d.useFactory)}(d))S=()=>d.useFactory(...ta(d.deps||[]));else if(function ug(d){return!(!d||!d.useExisting)}(d))S=()=>ti(Ft(d.useExisting));else{const P=Ft(d&&(d.useClass||d.provide));if(!function pw(d){return!!d.deps}(d))return ya(P)||$h(P);S=()=>new P(...ta(d.deps))}return S}(d),Rl)}(m);if(Ta(m)||!0!==m.multi)this.records.get(f);else{let P=this.records.get(f);P||(P=gr(void 0,Rl,!0),P.factory=()=>ta(P.multi),this.records.set(f,P)),f=m,P.multi.push(m)}this.records.set(f,S)}hydrate(m,f){return f.value===Rl&&(f.value=hw,f.value=f.factory()),"object"==typeof f.value&&f.value&&function mw(d){return null!==d&&"object"==typeof d&&"function"==typeof d.ngOnDestroy}(f.value)&&this._ngOnDestroyHooks.add(f.value),f.value}injectableDefInScope(m){if(!m.providedIn)return!1;const f=Ft(m.providedIn);return"string"==typeof f?"any"===f||this.scopes.has(f):this.injectorDefTypes.has(f)}removeOnDestroy(m){const f=this._onDestroyHooks.indexOf(m);-1!==f&&this._onDestroyHooks.splice(f,1)}}function $h(d){const m=_a(d),f=null!==m?m.factory:ya(d);if(null!==f)return f;if(d instanceof Qe)throw new St(204,!1);if(d instanceof Function)return function cw(d){const m=d.length;if(m>0)throw function pn(d,m){const f=[];for(let S=0;S<d;S++)f.push(m);return f}(m,"?"),new St(204,!1);const f=function Fd(d){return d&&(d[X]||d[ce])||null}(d);return null!==f?()=>f.factory(d):()=>new d}(d);throw new St(204,!1)}function gr(d,m,f=!1){return{factory:d,value:m,multi:f?[]:void 0}}function Uh(d,m){for(const f of d)Array.isArray(f)?Uh(f,m):f&&no(f)?Uh(f.\u0275providers,m):m(f)}const Vl=new Qe("AppId",{providedIn:"root",factory:()=>fw}),fw="ng",gg=new Qe("Platform Initializer"),fr=new Qe("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),fg=new Qe("CSP nonce",{providedIn:"root",factory:()=>function ur(){if(void 0!==Mh)return Mh;if(typeof document<"u")return document;throw new St(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let _g=(d,m,f)=>null;function ec(d,m,f=!1){return _g(d,m,f)}class Dw{}class xg{}class Lw{resolveComponentFactory(m){throw function Pw(d){const m=Error(`No component factory found for ${Ri(d)}.`);return m.ngComponent=d,m}(m)}}let br=(()=>{class d{static#e=this.NULL=new Lw}return d})();function kw(){return xr(ns(),at())}function xr(d,m){return new Da(Ms(d,m))}let Da=(()=>{class d{constructor(f){this.nativeElement=f}static#e=this.__NG_ELEMENT_ID__=kw}return d})();class wg{}let Iw=(()=>{class d{static#e=this.\u0275prov=ui({token:d,providedIn:"root",factory:()=>null})}return d})();class Hl{constructor(m){this.full=m,this.major=m.split(".")[0],this.minor=m.split(".")[1],this.patch=m.split(".").slice(2).join(".")}}const Ow=new Hl("16.2.12"),sc={};function Pg(d,m=null,f=null,S){const P=Lg(d,m,f,S);return P.resolveInjectorInitializers(),P}function Lg(d,m=null,f=null,S,P=new Set){const E=[f||oi,nw(d)];return S=S||("object"==typeof d?void 0:Ri(d)),new mr(E,m||Nl(),S||null,P)}let to=(()=>{class d{static#e=this.THROW_IF_NOT_FOUND=ho;static#t=this.NULL=new Bh;static create(f,S){if(Array.isArray(f))return Pg({name:""},S,f,"");{const P=f.name??"";return Pg({name:P},f.parent,f.providers,P)}}static#i=this.\u0275prov=ui({token:d,providedIn:"any",factory:()=>ti(ng)});static#s=this.__NG_ELEMENT_ID__=-1}return d})();function ac(d){return d.ngOriginalError}class Xo{constructor(){this._console=console}handleError(m){const f=this._findOriginalError(m);this._console.error("ERROR",m),f&&this._console.error("ORIGINAL ERROR",f)}_findOriginalError(m){let f=m&&ac(m);for(;f&&ac(f);)f=ac(f);return f||null}}function nc(d){return m=>{setTimeout(d,void 0,m)}}const xi=class Bw extends M{constructor(m=!1){super(),this.__isAsync=m}emit(m){super.next(m)}subscribe(m,f,S){let P=m,E=f||(()=>null),Y=S;if(m&&"object"==typeof m){const ie=m;P=ie.next?.bind(ie),E=ie.error?.bind(ie),Y=ie.complete?.bind(ie)}this.__isAsync&&(E=nc(E),P&&(P=nc(P)),Y&&(Y=nc(Y)));const G=super.subscribe({next:P,error:E,complete:Y});return m instanceof a&&m.add(G),G}};function jg(...d){}class ji{constructor({enableLongStackTrace:m=!1,shouldCoalesceEventChangeDetection:f=!1,shouldCoalesceRunChangeDetection:S=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new xi(!1),this.onMicrotaskEmpty=new xi(!1),this.onStable=new xi(!1),this.onError=new xi(!1),typeof Zone>"u")throw new St(908,!1);Zone.assertZonePatched();const P=this;P._nesting=0,P._outer=P._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(P._inner=P._inner.fork(new Zone.TaskTrackingZoneSpec)),m&&Zone.longStackTraceZoneSpec&&(P._inner=P._inner.fork(Zone.longStackTraceZoneSpec)),P.shouldCoalesceEventChangeDetection=!S&&f,P.shouldCoalesceRunChangeDetection=S,P.lastRequestAnimationFrameId=-1,P.nativeRequestAnimationFrame=function zw(){const d="function"==typeof Ue.requestAnimationFrame;let m=Ue[d?"requestAnimationFrame":"setTimeout"],f=Ue[d?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&m&&f){const S=m[Zone.__symbol__("OriginalDelegate")];S&&(m=S);const P=f[Zone.__symbol__("OriginalDelegate")];P&&(f=P)}return{nativeRequestAnimationFrame:m,nativeCancelAnimationFrame:f}}().nativeRequestAnimationFrame,function Hw(d){const m=()=>{!function Xw(d){d.isCheckStableRunning||-1!==d.lastRequestAnimationFrameId||(d.lastRequestAnimationFrameId=d.nativeRequestAnimationFrame.call(Ue,()=>{d.fakeTopEventTask||(d.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{d.lastRequestAnimationFrameId=-1,dc(d),d.isCheckStableRunning=!0,lc(d),d.isCheckStableRunning=!1},void 0,()=>{},()=>{})),d.fakeTopEventTask.invoke()}),dc(d))}(d)};d._inner=d._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(f,S,P,E,Y,G)=>{if(function Uw(d){return!(!Array.isArray(d)||1!==d.length)&&!0===d[0].data?.__ignore_ng_zone__}(G))return f.invokeTask(P,E,Y,G);try{return Ag(d),f.invokeTask(P,E,Y,G)}finally{(d.shouldCoalesceEventChangeDetection&&"eventTask"===E.type||d.shouldCoalesceRunChangeDetection)&&m(),Ig(d)}},onInvoke:(f,S,P,E,Y,G,ie)=>{try{return Ag(d),f.invoke(P,E,Y,G,ie)}finally{d.shouldCoalesceRunChangeDetection&&m(),Ig(d)}},onHasTask:(f,S,P,E)=>{f.hasTask(P,E),S===P&&("microTask"==E.change?(d._hasPendingMicrotasks=E.microTask,dc(d),lc(d)):"macroTask"==E.change&&(d.hasPendingMacrotasks=E.macroTask))},onHandleError:(f,S,P,E)=>(f.handleError(P,E),d.runOutsideAngular(()=>d.onError.emit(E)),!1)})}(P)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ji.isInAngularZone())throw new St(909,!1)}static assertNotInAngularZone(){if(ji.isInAngularZone())throw new St(909,!1)}run(m,f,S){return this._inner.run(m,f,S)}runTask(m,f,S,P){const E=this._inner,Y=E.scheduleEventTask("NgZoneEvent: "+P,m,Yw,jg,jg);try{return E.runTask(Y,f,S)}finally{E.cancelTask(Y)}}runGuarded(m,f,S){return this._inner.runGuarded(m,f,S)}runOutsideAngular(m){return this._outer.run(m)}}const Yw={};function lc(d){if(0==d._nesting&&!d.hasPendingMicrotasks&&!d.isStable)try{d._nesting++,d.onMicrotaskEmpty.emit(null)}finally{if(d._nesting--,!d.hasPendingMicrotasks)try{d.runOutsideAngular(()=>d.onStable.emit(null))}finally{d.isStable=!0}}}function dc(d){d.hasPendingMicrotasks=!!(d._hasPendingMicrotasks||(d.shouldCoalesceEventChangeDetection||d.shouldCoalesceRunChangeDetection)&&-1!==d.lastRequestAnimationFrameId)}function Ag(d){d._nesting++,d.isStable&&(d.isStable=!1,d.onUnstable.emit(null))}function Ig(d){d._nesting--,lc(d)}class $w{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new xi,this.onMicrotaskEmpty=new xi,this.onStable=new xi,this.onError=new xi}run(m,f,S){return m.apply(f,S)}runGuarded(m,f,S){return m.apply(f,S)}runOutsideAngular(m){return m()}runTask(m,f,S,P){return m.apply(f,S)}}const Og=new Qe("",{providedIn:"root",factory:Mg});function Mg(){const d=bi(ji);let m=!0;return ts(new se(P=>{m=d.isStable&&!d.hasPendingMacrotasks&&!d.hasPendingMicrotasks,d.runOutsideAngular(()=>{P.next(m),P.complete()})}),new se(P=>{let E;d.runOutsideAngular(()=>{E=d.onStable.subscribe(()=>{ji.assertNotInAngularZone(),queueMicrotask(()=>{!m&&!d.hasPendingMacrotasks&&!d.hasPendingMicrotasks&&(m=!0,P.next(!0))})})});const Y=d.onUnstable.subscribe(()=>{ji.assertInAngularZone(),m&&(m=!1,d.runOutsideAngular(()=>{P.next(!1)}))});return()=>{E.unsubscribe(),Y.unsubscribe()}}).pipe(Gn()))}let hc=(()=>{class d{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static#e=this.\u0275prov=ui({token:d,providedIn:"root",factory:()=>new d})}return d})();function Cn(d){for(;d;){d[Gt]|=64;const m=fn(d);if(Hd(d)&&!m)return d;d=m}return null}const Fg=new Qe("",{providedIn:"root",factory:()=>!1});let Ul=null;function Xg(d,m){return d[m]??Ug()}function Hg(d,m){const f=Ug();f.producerNode?.length&&(d[m]=Ul,f.lView=d,Ul=$g())}const iS={...pp,consumerIsAlwaysLive:!0,consumerMarkedDirty:d=>{Cn(d.lView)},lView:null};function $g(){return Object.create(iS)}function Ug(){return Ul??=$g(),Ul}const Ut={};function qt(d,m=ve.Default){const f=at();return null===f?ti(d,m):am(ns(),f,Ft(d),m)}function Wl(d,m,f,S,P,E,Y,G,ie,me,ye){const De=m.blueprint.slice();return De[Oi]=P,De[Gt]=140|S,(null!==me||d&&2048&d[Gt])&&(De[Gt]|=2048),Mp(De),De[Pi]=De[Wa]=d,De[Fi]=f,De[Ua]=Y||d&&d[Ua],De[$t]=G||d&&d[$t],De[ra]=ie||d&&d[ra]||null,De[us]=E,De[tn]=function l0(){return n0++}(),De[Vo]=ye,De[dp]=me,De[Bi]=2==m.type?d[Bi]:De,De}function Sr(d,m,f,S,P){let E=d.data[m];if(null===E)E=function cc(d,m,f,S,P){const E=Bp(),Y=Kd(),ie=d.data[m]=function cS(d,m,f,S,P,E){let Y=m?m.injectorIndex:-1,G=0;return function Ka(){return null!==zt.skipHydrationRootTNode}()&&(G|=128),{type:f,index:S,insertBeforeIndex:null,injectorIndex:Y,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:G,providerIndexes:0,value:P,attrs:E,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:m,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,Y?E:E&&E.parent,f,m,S,P);return null===d.firstChild&&(d.firstChild=ie),null!==E&&(Y?null==E.child&&null!==ie.parent&&(E.child=ie):null===E.next&&(E.next=ie,ie.prev=E)),ie}(d,m,f,S,P),function ay(){return zt.lFrame.inI18n}()&&(E.flags|=32);else if(64&E.type){E.type=f,E.value=S,E.attrs=P;const Y=function nn(){const d=zt.lFrame,m=d.currentTNode;return d.isParent?m:m.parent}();E.injectorIndex=null===Y?-1:Y.injectorIndex}return Lo(E,!0),E}function Tn(d,m,f,S){if(0===f)return-1;const P=m.length;for(let E=0;E<f;E++)m.push(S),d.blueprint.push(S),d.data.push(null);return P}function qg(d,m,f,S,P){const E=Xg(m,sn),Y=function Ss(){return zt.lFrame.selectedIndex}(),G=2&S;try{wa(-1),G&&m.length>ii&&function Wg(d,m,f,S){if(!S)if(3==(3&m[Gt])){const E=d.preOrderCheckHooks;null!==E&&cl(m,E,f)}else{const E=d.preOrderHooks;null!==E&&ul(m,E,0,f)}wa(f)}(d,m,ii,!1),Po(G?2:0,P);const me=G?E:null,ye=Ud(me);try{null!==me&&(me.dirty=!1),f(S,P)}finally{Wd(me,ye)}}finally{G&&null===m[sn]&&Hg(m,sn),wa(Y),Po(G?3:1,P)}}function uc(d,m,f){if(Xd(m)){const S=Js(null);try{const E=m.directiveEnd;for(let Y=m.directiveStart;Y<E;Y++){const G=d.data[Y];G.contentQueries&&G.contentQueries(1,f[Y],Y)}}finally{Js(S)}}}function Zg(d){const m=d.tView;return null===m||m.incompleteFirstPass?d.tView=gc(1,null,d.template,d.decls,d.vars,d.directiveDefs,d.pipeDefs,d.viewQuery,d.schemas,d.consts,d.id):m}function gc(d,m,f,S,P,E,Y,G,ie,me,ye){const De=ii+S,Me=De+P,Ve=function aS(d,m){const f=[];for(let S=0;S<m;S++)f.push(S<d?null:Ut);return f}(De,Me),We="function"==typeof me?me():me;return Ve[vt]={type:d,blueprint:Ve,template:f,queries:null,viewQuery:G,declTNode:m,data:Ve.slice().fill(null,De),bindingStartIndex:De,expandoStartIndex:Me,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof E?E():E,pipeRegistry:"function"==typeof Y?Y():Y,firstChild:null,schemas:ie,consts:We,incompleteFirstPass:!1,ssrId:ye}}let Qg=d=>null;function Kg(d,m,f,S){for(let P in d)if(d.hasOwnProperty(P)){f=null===f?{}:f;const E=d[P];null===S?Jg(f,m,P,E):S.hasOwnProperty(P)&&Jg(f,m,S[P],E)}return f}function Jg(d,m,f,S){d.hasOwnProperty(f)?d[f].push(m,S):d[f]=[m,S]}function ef(d,m,f,S,P,E){for(let me=0;me<S.length;me++)hh(ml(f,m),d,S[me].type);!function SS(d,m,f){d.flags|=1,d.directiveStart=m,d.directiveEnd=m+f,d.providerIndexes=m}(f,d.data.length,S.length);for(let me=0;me<S.length;me++){const ye=S[me];ye.providersResolver&&ye.providersResolver(ye)}let Y=!1,G=!1,ie=Tn(d,m,S.length,null);for(let me=0;me<S.length;me++){const ye=S[me];f.mergedAttrs=Ie(f.mergedAttrs,ye.hostAttrs),CS(d,f,m,ie,ye),wS(ie,ye,P),null!==ye.contentQueries&&(f.flags|=4),(null!==ye.hostBindings||null!==ye.hostAttrs||0!==ye.hostVars)&&(f.flags|=64);const De=ye.type.prototype;!Y&&(De.ngOnChanges||De.ngOnInit||De.ngDoCheck)&&((d.preOrderHooks??=[]).push(f.index),Y=!0),!G&&(De.ngOnChanges||De.ngDoCheck)&&((d.preOrderCheckHooks??=[]).push(f.index),G=!0),ie++}!function uS(d,m,f){const P=m.directiveEnd,E=d.data,Y=m.attrs,G=[];let ie=null,me=null;for(let ye=m.directiveStart;ye<P;ye++){const De=E[ye],Me=f?f.get(De):null,We=Me?Me.outputs:null;ie=Kg(De.inputs,ye,ie,Me?Me.inputs:null),me=Kg(De.outputs,ye,me,We);const Je=null===ie||null===Y||it(m)?null:PS(ie,ye,Y);G.push(Je)}null!==ie&&(ie.hasOwnProperty("class")&&(m.flags|=8),ie.hasOwnProperty("style")&&(m.flags|=16)),m.initialInputs=G,m.inputs=ie,m.outputs=me}(d,f,E)}function tf(d,m,f){const S=f.directiveStart,P=f.directiveEnd,E=f.index,Y=function ny(){return zt.lFrame.currentDirectiveIndex}();try{wa(E);for(let G=S;G<P;G++){const ie=d.data[G],me=m[G];eh(G),(null!==ie.hostBindings||0!==ie.hostVars||null!==ie.hostAttrs)&&bS(ie,me)}}finally{wa(-1),eh(Y)}}function bS(d,m){null!==d.hostBindings&&d.hostBindings(1,m)}function _c(d,m,f){m.componentOffset=f,(d.components??=[]).push(m.index)}function wS(d,m,f){if(f){if(m.exportAs)for(let S=0;S<m.exportAs.length;S++)f[m.exportAs[S]]=d;go(m)&&(f[""]=d)}}function CS(d,m,f,S,P){d.data[S]=P;const E=P.factory||(P.factory=ya(P.type)),Y=new ln(E,go(P),qt);d.blueprint[S]=Y,f[S]=Y,function fS(d,m,f,S,P){const E=P.hostBindings;if(E){let Y=d.hostBindingOpCodes;null===Y&&(Y=d.hostBindingOpCodes=[]);const G=~m.index;(function _S(d){let m=d.length;for(;m>0;){const f=d[--m];if("number"==typeof f&&f<0)return f}return 0})(Y)!=G&&Y.push(G),Y.push(f,S,E)}}(d,m,S,Tn(d,f,P.hostVars,Ut),P)}function DS(d,m,f,S,P,E){const Y=E[m];if(null!==Y)for(let G=0;G<Y.length;)sf(S,f,Y[G++],Y[G++],Y[G++])}function sf(d,m,f,S,P){const E=Js(null);try{const Y=d.inputTransforms;null!==Y&&Y.hasOwnProperty(S)&&(P=Y[S].call(m,P)),null!==d.setInput?d.setInput(m,P,f,S):m[S]=P}finally{Js(E)}}function PS(d,m,f){let S=null,P=0;for(;P<f.length;){const E=f[P];if(0!==E)if(5!==E){if("number"==typeof E)break;if(d.hasOwnProperty(E)){null===S&&(S=[]);const Y=d[E];for(let G=0;G<Y.length;G+=2)if(Y[G]===m){S.push(E,Y[G+1],f[P+1]);break}}P+=2}else P+=2;else P+=4}return S}function af(d,m){const f=d.contentQueries;if(null!==f)for(let S=0;S<f.length;S+=2){const E=f[S+1];if(-1!==E){const Y=d.data[E];ih(f[S]),Y.contentQueries(2,m[E],E)}}}function Gl(d,m){return d[Jr]?d[lp][mo]=m:d[Jr]=m,d[lp]=m,m}function bc(d,m,f){ih(0);const S=Js(null);try{m(d,f)}finally{Js(S)}}function xc(d,m,f,S,P){for(let E=0;E<f.length;){const Y=f[E++],G=f[E++];sf(d.data[Y],m[Y],S,G,P)}}function LS(d,m){const f=Hs(m,d),S=f[vt];!function kS(d,m){for(let f=m.length;f<d.blueprint.length;f++)m.push(d.blueprint[f])}(S,f);const P=f[Oi];null!==P&&null===f[Vo]&&(f[Vo]=ec(P,f[ra])),yc(S,f,f[Fi])}function yc(d,m,f){sh(m);try{const S=d.viewQuery;null!==S&&bc(1,S,f);const P=d.template;null!==P&&qg(d,m,P,1,f),d.firstCreatePass&&(d.firstCreatePass=!1),d.staticContentQueries&&af(d,m),d.staticViewQueries&&bc(2,d.viewQuery,f);const E=d.components;null!==E&&function jS(d,m){for(let f=0;f<m.length;f++)LS(d,m[f])}(m,E)}catch(S){throw d.firstCreatePass&&(d.incompleteFirstPass=!0,d.firstCreatePass=!1),S}finally{m[Gt]&=-5,oh()}}let hf=(()=>{class d{constructor(){this.all=new Set,this.queue=new Map}create(f,S,P){const E=typeof Zone>"u"?null:Zone.current,Y=function Rx(d,m,f){const S=Object.create(Nx);f&&(S.consumerAllowSignalWrites=!0),S.fn=d,S.schedule=m;const P=Y=>{S.cleanupFn=Y};return S.ref={notify:()=>_p(S),run:()=>{if(S.dirty=!1,S.hasRun&&!vp(S))return;S.hasRun=!0;const Y=Ud(S);try{S.cleanupFn(),S.cleanupFn=Dp,S.fn(P)}finally{Wd(S,Y)}},cleanup:()=>S.cleanupFn()},S.ref}(f,me=>{this.all.has(me)&&this.queue.set(me,E)},P);let G;this.all.add(Y),Y.notify();const ie=()=>{Y.cleanup(),G?.(),this.all.delete(Y),this.queue.delete(Y)};return G=S?.onDestroy(ie),{destroy:ie}}flush(){if(0!==this.queue.size)for(const[f,S]of this.queue)this.queue.delete(f),S?S.run(()=>f.run()):f.run()}get isQueueEmpty(){return 0===this.queue.size}static#e=this.\u0275prov=ui({token:d,providedIn:"root",factory:()=>new d})}return d})();function ql(d,m,f){let S=f?d.styles:null,P=f?d.classes:null,E=0;if(null!==m)for(let Y=0;Y<m.length;Y++){const G=m[Y];"number"==typeof G?E=G:1==E?P=fs(P,G):2==E&&(S=fs(S,G+": "+m[++Y]+";"))}f?d.styles=S:d.stylesWithoutHost=S,f?d.classes=P:d.classesWithoutHost=P}function Dn(d,m,f,S,P=!1){for(;null!==f;){const E=m[f.index];null!==E&&S.push(Si(E)),ys(E)&&cf(E,S);const Y=f.type;if(8&Y)Dn(d,m,f.child,S);else if(32&Y){const G=Th(f,m);let ie;for(;ie=G();)S.push(ie)}else if(16&Y){const G=Hm(m,f);if(Array.isArray(G))S.push(...G);else{const ie=fn(m[Bi]);Dn(ie[vt],ie,G,S,!0)}}f=P?f.projectionNext:f.next}return S}function cf(d,m){for(let f=as;f<d.length;f++){const S=d[f],P=S[vt].firstChild;null!==P&&Dn(S[vt],S,P,m)}d[Do]!==d[Oi]&&m.push(d[Do])}function Zl(d,m,f,S=!0){const P=m[Ua],E=P.rendererFactory,Y=P.afterRenderEventManager;E.begin?.(),Y?.begin();try{uf(d,m,d.template,f)}catch(ie){throw S&&function df(d,m){const f=d[ra],S=f?f.get(Xo,null):null;S&&S.handleError(m)}(m,ie),ie}finally{E.end?.(),P.effectManager?.flush(),Y?.end()}}function uf(d,m,f,S){const P=m[Gt];if(256!=(256&P)){m[Ua].effectManager?.flush(),sh(m);try{Mp(m),function Yp(d){return zt.lFrame.bindingIndex=d}(d.bindingStartIndex),null!==f&&qg(d,m,f,2,S);const Y=3==(3&P);if(Y){const me=d.preOrderCheckHooks;null!==me&&cl(m,me,null)}else{const me=d.preOrderHooks;null!==me&&ul(m,me,0,null),ah(m,0)}if(function OS(d){for(let m=Im(d);null!==m;m=Om(m)){if(!m[hp])continue;const f=m[qa];for(let S=0;S<f.length;S++){Ux(f[S])}}}(m),pf(m,2),null!==d.contentQueries&&af(d,m),Y){const me=d.contentCheckHooks;null!==me&&cl(m,me)}else{const me=d.contentHooks;null!==me&&ul(m,me,1),ah(m,1)}!function oS(d,m){const f=d.hostBindingOpCodes;if(null===f)return;const S=Xg(m,on);try{for(let P=0;P<f.length;P++){const E=f[P];if(E<0)wa(~E);else{const Y=E,G=f[++P],ie=f[++P];ry(G,Y),S.dirty=!1;const me=Ud(S);try{ie(2,m[Y])}finally{Wd(S,me)}}}}finally{null===m[on]&&Hg(m,on),wa(-1)}}(d,m);const G=d.components;null!==G&&gf(m,G,0);const ie=d.viewQuery;if(null!==ie&&bc(2,ie,S),Y){const me=d.viewCheckHooks;null!==me&&cl(m,me)}else{const me=d.viewHooks;null!==me&&ul(m,me,2),ah(m,2)}!0===d.firstUpdatePass&&(d.firstUpdatePass=!1),m[Gt]&=-73,Ep(m)}finally{oh()}}}function pf(d,m){for(let f=Im(d);null!==f;f=Om(f))for(let S=as;S<f.length;S++)mf(f[S],m)}function MS(d,m,f){mf(Hs(m,d),f)}function mf(d,m){if(!function Hx(d){return 128==(128&d[Gt])}(d))return;const f=d[vt],S=d[Gt];if(80&S&&0===m||1024&S||2===m)uf(f,d,f.template,d[Fi]);else if(d[Kr]>0){pf(d,1);const P=f.components;null!==P&&gf(d,P,1)}}function gf(d,m,f){for(let S=0;S<m.length;S++)MS(d,m[S],f)}class Pn{get rootNodes(){const m=this._lView,f=m[vt];return Dn(f,m,f.firstChild,[])}constructor(m,f){this._lView=m,this._cdRefInjectingView=f,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Fi]}set context(m){this._lView[Fi]=m}get destroyed(){return 256==(256&this._lView[Gt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const m=this._lView[Pi];if(ys(m)){const f=m[8],S=f?f.indexOf(this):-1;S>-1&&(function Pl(d,m){if(d.length<=as)return;const f=as+m,S=d[f];if(S){const P=S[en];null!==P&&P!==d&&Rm(P,S),m>0&&(d[f-1][mo]=S[mo]);const E=_l(d,as+m);!function x0(d,m){vn(d,m,m[$t],2,null,null),m[Oi]=null,m[us]=null}(S[vt],S);const Y=E[To];null!==Y&&Y.detachView(E[vt]),S[Pi]=null,S[mo]=null,S[Gt]&=-129}return S}(m,S),_l(f,S))}this._attachedToViewContainer=!1}!function Ph(d,m){if(!(256&m[Gt])){const f=m[$t];m[sn]&&bp(m[sn]),m[on]&&bp(m[on]),f.destroyNode&&vn(d,m,f,3,null,null),function S0(d){let m=d[Jr];if(!m)return Lh(d[vt],d);for(;m;){let f=null;if(Os(m))f=m[Jr];else{const S=m[as];S&&(f=S)}if(!f){for(;m&&!m[mo]&&m!==d;)Os(m)&&Lh(m[vt],m),m=m[Pi];null===m&&(m=d),Os(m)&&Lh(m[vt],m),f=m&&m[mo]}m=f}}(m)}}(this._lView[vt],this._lView)}onDestroy(m){!function Np(d,m){if(256==(256&d[Gt]))throw new St(911,!1);null===d[na]&&(d[na]=[]),d[na].push(m)}(this._lView,m)}markForCheck(){Cn(this._cdRefInjectingView||this._lView)}detach(){this._lView[Gt]&=-129}reattach(){this._lView[Gt]|=128}detectChanges(){Zl(this._lView[vt],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new St(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function w0(d,m){vn(d,m,m[$t],2,null,null)}(this._lView[vt],this._lView)}attachToAppRef(m){if(this._attachedToViewContainer)throw new St(902,!1);this._appRef=m}}class ES extends Pn{constructor(m){super(m),this._view=m}detectChanges(){const m=this._view;Zl(m[vt],m,m[Fi],!1)}checkNoChanges(){}get context(){return null}}class ff extends br{constructor(m){super(),this.ngModule=m}resolveComponentFactory(m){const f=li(m);return new Ln(f,this.ngModule)}}function _f(d){const m=[];for(let f in d)d.hasOwnProperty(f)&&m.push({propName:d[f],templateName:f});return m}class NS{constructor(m,f){this.injector=m,this.parentInjector=f}get(m,f,S){S=ni(S);const P=this.injector.get(m,sc,S);return P!==sc||f===sc?P:this.parentInjector.get(m,f,S)}}class Ln extends xg{get inputs(){const m=this.componentDef,f=m.inputTransforms,S=_f(m.inputs);if(null!==f)for(const P of S)f.hasOwnProperty(P.propName)&&(P.transform=f[P.propName]);return S}get outputs(){return _f(this.componentDef.outputs)}constructor(m,f){super(),this.componentDef=m,this.ngModule=f,this.componentType=m.type,this.selector=function Ji(d){return d.map(cs).join(",")}(m.selectors),this.ngContentSelectors=m.ngContentSelectors?m.ngContentSelectors:[],this.isBoundToModule=!!f}create(m,f,S,P){let E=(P=P||this.ngModule)instanceof Yo?P:P?.injector;E&&null!==this.componentDef.getStandaloneInjector&&(E=this.componentDef.getStandaloneInjector(E)||E);const Y=E?new NS(m,E):m,G=Y.get(wg,null);if(null===G)throw new St(407,!1);const De={rendererFactory:G,sanitizer:Y.get(Iw,null),effectManager:Y.get(hf,null),afterRenderEventManager:Y.get(hc,null)},Me=G.createRenderer(null,this.componentDef),Ve=this.componentDef.selectors[0][0]||"div",We=S?function rS(d,m,f,S){const E=S.get(Fg,!1)||f===bs.ShadowDom,Y=d.selectRootElement(m,E);return function nS(d){Qg(d)}(Y),Y}(Me,S,this.componentDef.encapsulation,Y):Dl(Me,Ve,function RS(d){const m=d.toLowerCase();return"svg"===m?"svg":"math"===m?"math":null}(Ve)),ct=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let et=null;null!==We&&(et=ec(We,Y,!0));const It=gc(0,null,null,1,0,null,null,null,null,null,null),Yt=Wl(null,It,null,ct,null,null,De,Me,Y,null,et);let si,Vs;sh(Yt);try{const Zo=this.componentDef;let zr,Zu=null;Zo.findHostDirectiveDefs?(zr=[],Zu=new Map,Zo.findHostDirectiveDefs(Zo,zr,Zu),zr.push(Zo)):zr=[Zo];const tA=function FS(d,m){const f=d[vt],S=ii;return d[S]=m,Sr(f,S,2,"#host",null)}(Yt,We),iA=function BS(d,m,f,S,P,E,Y){const G=P[vt];!function zS(d,m,f,S){for(const P of d)m.mergedAttrs=Ie(m.mergedAttrs,P.hostAttrs);null!==m.mergedAttrs&&(ql(m,m.mergedAttrs,!0),null!==f&&Gm(S,f,m))}(S,d,m,Y);let ie=null;null!==m&&(ie=ec(m,P[ra]));const me=E.rendererFactory.createRenderer(m,f);let ye=16;f.signals?ye=4096:f.onPush&&(ye=64);const De=Wl(P,Zg(f),null,ye,P[d.index],d,E,me,null,null,ie);return G.firstCreatePass&&_c(G,d,S.length-1),Gl(P,De),P[d.index]=De}(tA,We,Zo,zr,Yt,De,Me);Vs=Op(It,ii),We&&function XS(d,m,f,S){if(S)qr(d,f,["ng-version",Ow.full]);else{const{attrs:P,classes:E}=function js(d){const m=[],f=[];let S=1,P=2;for(;S<d.length;){let E=d[S];if("string"==typeof E)2===P?""!==E&&m.push(E,d[++S]):8===P&&f.push(E);else{if(!xt(P))break;P=E}S++}return{attrs:m,classes:f}}(m.selectors[0]);P&&qr(d,f,P),E&&E.length>0&&Wm(d,f,E.join(" "))}}(Me,Zo,We,S),void 0!==f&&function HS(d,m,f){const S=d.projection=[];for(let P=0;P<m.length;P++){const E=f[P];S.push(null!=E?Array.from(E):null)}}(Vs,this.ngContentSelectors,f),si=function YS(d,m,f,S,P,E){const Y=ns(),G=P[vt],ie=Ms(Y,P);ef(G,P,Y,f,null,S);for(let ye=0;ye<f.length;ye++)ps(Sa(P,G,Y.directiveStart+ye,Y),P);tf(G,P,Y),ie&&ps(ie,P);const me=Sa(P,G,Y.directiveStart+Y.componentOffset,Y);if(d[Fi]=P[Fi]=me,null!==E)for(const ye of E)ye(me,m);return uc(G,Y,d),me}(iA,Zo,zr,Zu,Yt,[$S]),yc(It,Yt,null)}finally{oh()}return new VS(this.componentType,si,xr(Vs,Yt),Yt,Vs)}}class VS extends Dw{constructor(m,f,S,P,E){super(),this.location=S,this._rootLView=P,this._tNode=E,this.previousInputValues=null,this.instance=f,this.hostView=this.changeDetectorRef=new ES(P),this.componentType=m}setInput(m,f){const S=this._tNode.inputs;let P;if(null!==S&&(P=S[m])){if(this.previousInputValues??=new Map,this.previousInputValues.has(m)&&Object.is(this.previousInputValues.get(m),f))return;const E=this._rootLView;xc(E[vt],E,P,m,f),this.previousInputValues.set(m,f),Cn(Hs(this._tNode.index,E))}}get injector(){return new Cs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(m){this.hostView.onDestroy(m)}}function $S(){const d=ns();hl(at()[vt],d)}function wc(d){let m=function vf(d){return Object.getPrototypeOf(d.prototype).constructor}(d.type),f=!0;const S=[d];for(;m;){let P;if(go(d))P=m.\u0275cmp||m.\u0275dir;else{if(m.\u0275cmp)throw new St(903,!1);P=m.\u0275dir}if(P){if(f){S.push(P);const Y=d;Y.inputs=Ql(d.inputs),Y.inputTransforms=Ql(d.inputTransforms),Y.declaredInputs=Ql(d.declaredInputs),Y.outputs=Ql(d.outputs);const G=P.hostBindings;G&&qS(d,G);const ie=P.viewQuery,me=P.contentQueries;if(ie&&WS(d,ie),me&&GS(d,me),Ra(d.inputs,P.inputs),Ra(d.declaredInputs,P.declaredInputs),Ra(d.outputs,P.outputs),null!==P.inputTransforms&&(null===Y.inputTransforms&&(Y.inputTransforms={}),Ra(Y.inputTransforms,P.inputTransforms)),go(P)&&P.data.animation){const ye=d.data;ye.animation=(ye.animation||[]).concat(P.data.animation)}}const E=P.features;if(E)for(let Y=0;Y<E.length;Y++){const G=E[Y];G&&G.ngInherit&&G(d),G===wc&&(f=!1)}}m=Object.getPrototypeOf(m)}!function US(d){let m=0,f=null;for(let S=d.length-1;S>=0;S--){const P=d[S];P.hostVars=m+=P.hostVars,P.hostAttrs=Ie(P.hostAttrs,f=Ie(f,P.hostAttrs))}}(S)}function Ql(d){return d===Wi?{}:d===oi?[]:d}function WS(d,m){const f=d.viewQuery;d.viewQuery=f?(S,P)=>{m(S,P),f(S,P)}:m}function GS(d,m){const f=d.contentQueries;d.contentQueries=f?(S,P,E)=>{m(S,P,E),f(S,P,E)}:m}function qS(d,m){const f=d.hostBindings;d.hostBindings=f?(S,P)=>{m(S,P),f(S,P)}:m}function Kl(d){return!!Sc(d)&&(Array.isArray(d)||!(d instanceof Map)&&Symbol.iterator in d)}function Sc(d){return null!==d&&("function"==typeof d||"object"==typeof d)}function kc(d,m,f){const S=at();return function ms(d,m,f){return!Object.is(d[m],f)&&(d[m]=f,!0)}(S,function Ja(){return zt.lFrame.bindingIndex++}(),m)&&function Us(d,m,f,S,P,E,Y,G){const ie=Ms(m,f);let ye,me=m.inputs;!G&&null!=me&&(ye=me[S])?(xc(d,f,ye,S,P),xa(m)&&function mS(d,m){const f=Hs(m,d);16&f[Gt]||(f[Gt]|=64)}(f,m.index)):3&m.type&&(S=function pS(d){return"class"===d?"className":"for"===d?"htmlFor":"formaction"===d?"formAction":"innerHtml"===d?"innerHTML":"readonly"===d?"readOnly":"tabindex"===d?"tabIndex":d}(S),P=null!=Y?Y(P,m.value||"",S):P,E.setProperty(ie,S,P))}(di(),function ki(){const d=zt.lFrame;return Op(d.tView,d.selectedIndex)}(),S,d,m,S[$t],f,!1),kc}function jc(d,m,f,S,P){const Y=P?"class":"style";xc(d,f,m.inputs[Y],Y,S)}function Ac(d,m,f,S){const P=at(),E=di(),Y=ii+d,G=P[$t],ie=E.firstCreatePass?function PC(d,m,f,S,P,E){const Y=m.consts,ie=Sr(m,d,2,S,da(Y,P));return function fc(d,m,f,S){if(Fp()){const P=null===S?null:{"":-1},E=function xS(d,m){const f=d.directiveRegistry;let S=null,P=null;if(f)for(let E=0;E<f.length;E++){const Y=f[E];if(Qt(m,Y.selectors,!1))if(S||(S=[]),go(Y))if(null!==Y.findHostDirectiveDefs){const G=[];P=P||new Map,Y.findHostDirectiveDefs(Y,G,P),S.unshift(...G,Y),_c(d,m,G.length)}else S.unshift(Y),_c(d,m,0);else P=P||new Map,Y.findHostDirectiveDefs?.(Y,S,P),S.push(Y)}return null===S?null:[S,P]}(d,f);let Y,G;null===E?Y=G=null:[Y,G]=E,null!==Y&&ef(d,m,f,Y,P,G),P&&function yS(d,m,f){if(m){const S=d.localNames=[];for(let P=0;P<m.length;P+=2){const E=f[m[P+1]];if(null==E)throw new St(-301,!1);S.push(m[P],E)}}}(f,S,P)}f.mergedAttrs=Ie(f.mergedAttrs,f.attrs)}(m,f,ie,da(Y,E)),null!==ie.attrs&&ql(ie,ie.attrs,!1),null!==ie.mergedAttrs&&ql(ie,ie.mergedAttrs,!0),null!==m.queries&&m.queries.elementStart(m,ie),ie}(Y,E,P,m,f,S):E.data[Y],me=Nf(E,P,ie,G,m,d);P[Y]=me;const ye=function ol(d){return 1==(1&d.flags)}(ie);return Lo(ie,!0),Gm(G,me,ie),32!=(32&ie.flags)&&function dl(){return Qp}()&&kl(E,P,me,ie),0===function Gx(){return zt.lFrame.elementDepthCount}()&&ps(me,P),function qx(){zt.lFrame.elementDepthCount++}(),ye&&(function pc(d,m,f){Fp()&&(function vS(d,m,f,S){const P=f.directiveStart,E=f.directiveEnd;xa(f)&&function TS(d,m,f){const S=Ms(m,d),P=Zg(f);let Y=16;f.signals?Y=4096:f.onPush&&(Y=64);const G=Gl(d,Wl(d,P,null,Y,S,m,null,d[Ua].rendererFactory.createRenderer(S,f),null,null,null));d[m.index]=G}(m,f,d.data[P+f.componentOffset]),d.firstCreatePass||ml(f,m),ps(S,m);const Y=f.initialInputs;for(let G=P;G<E;G++){const ie=d.data[G],me=Sa(m,d,G,f);ps(me,m),null!==Y&&DS(0,G-P,me,ie,0,Y),go(ie)&&(Hs(f.index,m)[Fi]=Sa(m,d,G,f))}}(d,m,f,Ms(f,m)),64==(64&f.flags)&&tf(d,m,f))}(E,P,ie),uc(E,ie,P)),null!==S&&function mc(d,m,f=Ms){const S=m.localNames;if(null!==S){let P=m.index+1;for(let E=0;E<S.length;E+=2){const Y=S[E+1],G=-1===Y?f(m,d):d[Y];d[P++]=G}}}(P,ie),Ac}function Ic(){let d=ns();Kd()?function Jd(){zt.lFrame.isParent=!1}():(d=d.parent,Lo(d,!1));const m=d;(function Qx(d){return zt.skipHydrationRootTNode===d})(m)&&function ty(){zt.skipHydrationRootTNode=null}(),function Zx(){zt.lFrame.elementDepthCount--}();const f=di();return f.firstCreatePass&&(hl(f,d),Xd(d)&&f.queries.elementEnd(d)),null!=m.classesWithoutHost&&function vy(d){return 0!=(8&d.flags)}(m)&&jc(f,m,at(),m.classesWithoutHost,!0),null!=m.stylesWithoutHost&&function by(d){return 0!=(16&d.flags)}(m)&&jc(f,m,at(),m.stylesWithoutHost,!1),Ic}function Oc(d,m,f,S){return Ac(d,m,f,S),Ic(),Oc}let Nf=(d,m,f,S,P,E)=>(function ha(d){Qp=d}(!0),Dl(S,P,function Zp(){return zt.lFrame.currentNamespace}()));function Rc(d){return!!d&&"function"==typeof d.then}function Bf(d){return!!d&&"function"==typeof d.subscribe}const Er="en-US";let F_=Er;class ja{}class I1{}class qc extends ja{constructor(m,f,S){super(),this._parent=f,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new ff(this);const P=function Xs(d,m){const f=d[Ba]||null;if(!f&&!0===m)throw new Error(`Type ${Ri(d)} does not have '\u0275mod' property.`);return f}(m);this._bootstrapComponents=function Ho(d){return d instanceof Function?d():d}(P.bootstrap),this._r3Injector=Lg(m,f,[{provide:ja,useValue:this},{provide:br,useValue:this.componentFactoryResolver},...S],Ri(m),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(m)}get injector(){return this._r3Injector}destroy(){const m=this._r3Injector;!m.destroyed&&m.destroy(),this.destroyCbs.forEach(f=>f()),this.destroyCbs=null}onDestroy(m){this.destroyCbs.push(m)}}class Zc extends I1{constructor(m){super(),this.moduleType=m}create(m){return new qc(this.moduleType,m,[])}}Symbol;const iP=new Qe("Application Initializer");let du=(()=>{class d{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((f,S)=>{this.resolve=f,this.reject=S}),this.appInits=bi(iP,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const f=[];for(const P of this.appInits){const E=P();if(Rc(E))f.push(E);else if(Bf(E)){const Y=new Promise((G,ie)=>{E.subscribe({complete:G,error:ie})});f.push(Y)}}const S=()=>{this.done=!0,this.resolve()};Promise.all(f).then(()=>{S()}).catch(P=>{this.reject(P)}),0===f.length&&S(),this.initialized=!0}static#e=this.\u0275fac=function(S){return new(S||d)};static#t=this.\u0275prov=ui({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})();const Wo=new Qe("LocaleId",{providedIn:"root",factory:()=>bi(Wo,ve.Optional|ve.SkipSelf)||function oP(){return typeof $localize<"u"&&$localize.locale||Er}()});let nP=(()=>{class d{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ko(!1)}add(){this.hasPendingTasks.next(!0);const f=this.taskId++;return this.pendingTasks.add(f),f}remove(f){this.pendingTasks.delete(f),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(S){return new(S||d)};static#t=this.\u0275prov=ui({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})();const sb=new Qe(""),md=new Qe("");let mu,uu=(()=>{class d{constructor(f,S,P){this._ngZone=f,this.registry=S,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,mu||(function jP(d){mu=d}(P),P.addToWindow(S)),this._watchAngularEvents(),f.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ji.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let f=this._callbacks.pop();clearTimeout(f.timeoutId),f.doneCb(this._didWork)}this._didWork=!1});else{let f=this.getPendingTasks();this._callbacks=this._callbacks.filter(S=>!S.updateCb||!S.updateCb(f)||(clearTimeout(S.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(f=>({source:f.source,creationLocation:f.creationLocation,data:f.data})):[]}addCallback(f,S,P){let E=-1;S&&S>0&&(E=setTimeout(()=>{this._callbacks=this._callbacks.filter(Y=>Y.timeoutId!==E),f(this._didWork,this.getPendingTasks())},S)),this._callbacks.push({doneCb:f,timeoutId:E,updateCb:P})}whenStable(f,S,P){if(P&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(f,S,P),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(f){this.registry.registerApplication(f,this)}unregisterApplication(f){this.registry.unregisterApplication(f)}findProviders(f,S,P){return[]}static#e=this.\u0275fac=function(S){return new(S||d)(ti(ji),ti(pu),ti(md))};static#t=this.\u0275prov=ui({token:d,factory:d.\u0275fac})}return d})(),pu=(()=>{class d{constructor(){this._applications=new Map}registerApplication(f,S){this._applications.set(f,S)}unregisterApplication(f){this._applications.delete(f)}unregisterAllApplications(){this._applications.clear()}getTestability(f){return this._applications.get(f)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(f,S=!0){return mu?.findTestabilityInTree(this,f,S)??null}static#e=this.\u0275fac=function(S){return new(S||d)};static#t=this.\u0275prov=ui({token:d,factory:d.\u0275fac,providedIn:"platform"})}return d})(),ma=null;const ob=new Qe("AllowMultipleToken"),gu=new Qe("PlatformDestroyListeners"),ab=new Qe("appBootstrapListener");function lb(d,m,f=[]){const S=`Platform: ${m}`,P=new Qe(S);return(E=[])=>{let Y=fu();if(!Y||Y.injector.get(ob,!1)){const G=[...f,...E,{provide:P,useValue:!0}];d?d(G):function OP(d){if(ma&&!ma.get(ob,!1))throw new St(400,!1);(function rb(){!function Ax(d){wp=d}(()=>{throw new St(600,!1)})})(),ma=d;const m=d.get(hb);(function nb(d){d.get(gg,null)?.forEach(f=>f())})(d)}(function db(d=[],m){return to.create({name:m,providers:[{provide:Xh,useValue:"platform"},{provide:gu,useValue:new Set([()=>ma=null])},...d]})}(G,S))}return function EP(d){const m=fu();if(!m)throw new St(401,!1);return m}()}}function fu(){return ma?.get(hb)??null}let hb=(()=>{class d{constructor(f){this._injector=f,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(f,S){const P=function RP(d="zone.js",m){return"noop"===d?new $w:"zone.js"===d?new ji(m):d}(S?.ngZone,function cb(d){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:d?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:d?.runCoalescing??!1}}({eventCoalescing:S?.ngZoneEventCoalescing,runCoalescing:S?.ngZoneRunCoalescing}));return P.run(()=>{const E=function M1(d,m,f){return new qc(d,m,f)}(f.moduleType,this.injector,function fb(d){return[{provide:ji,useFactory:d},{provide:Ml,multi:!0,useFactory:()=>{const m=bi(VP,{optional:!0});return()=>m.initialize()}},{provide:gb,useFactory:NP},{provide:Og,useFactory:Mg}]}(()=>P)),Y=E.injector.get(Xo,null);return P.runOutsideAngular(()=>{const G=P.onError.subscribe({next:ie=>{Y.handleError(ie)}});E.onDestroy(()=>{gd(this._modules,E),G.unsubscribe()})}),function ub(d,m,f){try{const S=f();return Rc(S)?S.catch(P=>{throw m.runOutsideAngular(()=>d.handleError(P)),P}):S}catch(S){throw m.runOutsideAngular(()=>d.handleError(S)),S}}(Y,P,()=>{const G=E.injector.get(du);return G.runInitializers(),G.donePromise.then(()=>(function B_(d){hs(d,"Expected localeId to be defined"),"string"==typeof d&&(F_=d.toLowerCase().replace(/_/g,"-"))}(E.injector.get(Wo,Er)||Er),this._moduleDoBootstrap(E),E))})})}bootstrapModule(f,S=[]){const P=pb({},S);return function AP(d,m,f){const S=new Zc(f);return Promise.resolve(S)}(0,0,f).then(E=>this.bootstrapModuleFactory(E,P))}_moduleDoBootstrap(f){const S=f.injector.get(Vr);if(f._bootstrapComponents.length>0)f._bootstrapComponents.forEach(P=>S.bootstrap(P));else{if(!f.instance.ngDoBootstrap)throw new St(-403,!1);f.instance.ngDoBootstrap(S)}this._modules.push(f)}onDestroy(f){this._destroyListeners.push(f)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new St(404,!1);this._modules.slice().forEach(S=>S.destroy()),this._destroyListeners.forEach(S=>S());const f=this._injector.get(gu,null);f&&(f.forEach(S=>S()),f.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(S){return new(S||d)(ti(to))};static#t=this.\u0275prov=ui({token:d,factory:d.\u0275fac,providedIn:"platform"})}return d})();function pb(d,m){return Array.isArray(m)?m.reduce(pb,d):{...d,...m}}let Vr=(()=>{class d{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=bi(gb),this.zoneIsStable=bi(Og),this.componentTypes=[],this.components=[],this.isStable=bi(nP).hasPendingTasks.pipe(Ma(f=>f?function Oa(...d){return Xr(d,ro(d))}(!1):this.zoneIsStable),function qn(d,m=le){return d=d??Ea,O((f,S)=>{let P,E=!0;f.subscribe(B(S,Y=>{const G=m(Y);(E||!d(P,G))&&(E=!1,P=G,S.next(Y))}))})}(),Gn()),this._injector=bi(Yo)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(f,S){const P=f instanceof xg;if(!this._injector.get(du).done)throw!P&&function Qr(d){const m=li(d)||os(d)||xs(d);return null!==m&&m.standalone}(f),new St(405,!1);let Y;Y=P?f:this._injector.get(br).resolveComponentFactory(f),this.componentTypes.push(Y.componentType);const G=function IP(d){return d.isBoundToModule}(Y)?void 0:this._injector.get(ja),me=Y.create(to.NULL,[],S||Y.selector,G),ye=me.location.nativeElement,De=me.injector.get(sb,null);return De?.registerApplication(ye),me.onDestroy(()=>{this.detachView(me.hostView),gd(this.components,me),De?.unregisterApplication(ye)}),this._loadComponent(me),me}tick(){if(this._runningTick)throw new St(101,!1);try{this._runningTick=!0;for(let f of this._views)f.detectChanges()}catch(f){this.internalErrorHandler(f)}finally{this._runningTick=!1}}attachView(f){const S=f;this._views.push(S),S.attachToAppRef(this)}detachView(f){const S=f;gd(this._views,S),S.detachFromAppRef()}_loadComponent(f){this.attachView(f.hostView),this.tick(),this.components.push(f);const S=this._injector.get(ab,[]);S.push(...this._bootstrapListeners),S.forEach(P=>P(f))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(f=>f()),this._views.slice().forEach(f=>f.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(f){return this._destroyListeners.push(f),()=>gd(this._destroyListeners,f)}destroy(){if(this._destroyed)throw new St(406,!1);const f=this._injector;f.destroy&&!f.destroyed&&f.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(S){return new(S||d)};static#t=this.\u0275prov=ui({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})();function gd(d,m){const f=d.indexOf(m);f>-1&&d.splice(f,1)}const gb=new Qe("",{providedIn:"root",factory:()=>bi(Xo).handleError.bind(void 0)});function NP(){const d=bi(ji),m=bi(Xo);return f=>d.runOutsideAngular(()=>m.handleError(f))}let VP=(()=>{class d{constructor(){this.zone=bi(ji),this.applicationRef=bi(Vr)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(S){return new(S||d)};static#t=this.\u0275prov=ui({token:d,factory:d.\u0275fac,providedIn:"root"})}return d})();let _u=(()=>{class d{static#e=this.__NG_ELEMENT_ID__=BP}return d})();function BP(d){return function zP(d,m,f){if(xa(d)&&!f){const S=Hs(d.index,m);return new Pn(S,S)}return 47&d.type?new Pn(m[Bi],m):null}(ns(),at(),16==(16&d))}class xb{constructor(){}supports(m){return Kl(m)}create(m){return new WP(m)}}const UP=(d,m)=>m;class WP{constructor(m){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=m||UP}forEachItem(m){let f;for(f=this._itHead;null!==f;f=f._next)m(f)}forEachOperation(m){let f=this._itHead,S=this._removalsHead,P=0,E=null;for(;f||S;){const Y=!S||f&&f.currentIndex<wb(S,P,E)?f:S,G=wb(Y,P,E),ie=Y.currentIndex;if(Y===S)P--,S=S._nextRemoved;else if(f=f._next,null==Y.previousIndex)P++;else{E||(E=[]);const me=G-P,ye=ie-P;if(me!=ye){for(let Me=0;Me<me;Me++){const Ve=Me<E.length?E[Me]:E[Me]=0,We=Ve+Me;ye<=We&&We<me&&(E[Me]=Ve+1)}E[Y.previousIndex]=ye-me}}G!==ie&&m(Y,G,ie)}}forEachPreviousItem(m){let f;for(f=this._previousItHead;null!==f;f=f._nextPrevious)m(f)}forEachAddedItem(m){let f;for(f=this._additionsHead;null!==f;f=f._nextAdded)m(f)}forEachMovedItem(m){let f;for(f=this._movesHead;null!==f;f=f._nextMoved)m(f)}forEachRemovedItem(m){let f;for(f=this._removalsHead;null!==f;f=f._nextRemoved)m(f)}forEachIdentityChange(m){let f;for(f=this._identityChangesHead;null!==f;f=f._nextIdentityChange)m(f)}diff(m){if(null==m&&(m=[]),!Kl(m))throw new St(900,!1);return this.check(m)?this:null}onDestroy(){}check(m){this._reset();let P,E,Y,f=this._itHead,S=!1;if(Array.isArray(m)){this.length=m.length;for(let G=0;G<this.length;G++)E=m[G],Y=this._trackByFn(G,E),null!==f&&Object.is(f.trackById,Y)?(S&&(f=this._verifyReinsertion(f,E,Y,G)),Object.is(f.item,E)||this._addIdentityChange(f,E)):(f=this._mismatch(f,E,Y,G),S=!0),f=f._next}else P=0,function sC(d,m){if(Array.isArray(d))for(let f=0;f<d.length;f++)m(d[f]);else{const f=d[Symbol.iterator]();let S;for(;!(S=f.next()).done;)m(S.value)}}(m,G=>{Y=this._trackByFn(P,G),null!==f&&Object.is(f.trackById,Y)?(S&&(f=this._verifyReinsertion(f,G,Y,P)),Object.is(f.item,G)||this._addIdentityChange(f,G)):(f=this._mismatch(f,G,Y,P),S=!0),f=f._next,P++}),this.length=P;return this._truncate(f),this.collection=m,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let m;for(m=this._previousItHead=this._itHead;null!==m;m=m._next)m._nextPrevious=m._next;for(m=this._additionsHead;null!==m;m=m._nextAdded)m.previousIndex=m.currentIndex;for(this._additionsHead=this._additionsTail=null,m=this._movesHead;null!==m;m=m._nextMoved)m.previousIndex=m.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(m,f,S,P){let E;return null===m?E=this._itTail:(E=m._prev,this._remove(m)),null!==(m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(S,null))?(Object.is(m.item,f)||this._addIdentityChange(m,f),this._reinsertAfter(m,E,P)):null!==(m=null===this._linkedRecords?null:this._linkedRecords.get(S,P))?(Object.is(m.item,f)||this._addIdentityChange(m,f),this._moveAfter(m,E,P)):m=this._addAfter(new GP(f,S),E,P),m}_verifyReinsertion(m,f,S,P){let E=null===this._unlinkedRecords?null:this._unlinkedRecords.get(S,null);return null!==E?m=this._reinsertAfter(E,m._prev,P):m.currentIndex!=P&&(m.currentIndex=P,this._addToMoves(m,P)),m}_truncate(m){for(;null!==m;){const f=m._next;this._addToRemovals(this._unlink(m)),m=f}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(m,f,S){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(m);const P=m._prevRemoved,E=m._nextRemoved;return null===P?this._removalsHead=E:P._nextRemoved=E,null===E?this._removalsTail=P:E._prevRemoved=P,this._insertAfter(m,f,S),this._addToMoves(m,S),m}_moveAfter(m,f,S){return this._unlink(m),this._insertAfter(m,f,S),this._addToMoves(m,S),m}_addAfter(m,f,S){return this._insertAfter(m,f,S),this._additionsTail=null===this._additionsTail?this._additionsHead=m:this._additionsTail._nextAdded=m,m}_insertAfter(m,f,S){const P=null===f?this._itHead:f._next;return m._next=P,m._prev=f,null===P?this._itTail=m:P._prev=m,null===f?this._itHead=m:f._next=m,null===this._linkedRecords&&(this._linkedRecords=new yb),this._linkedRecords.put(m),m.currentIndex=S,m}_remove(m){return this._addToRemovals(this._unlink(m))}_unlink(m){null!==this._linkedRecords&&this._linkedRecords.remove(m);const f=m._prev,S=m._next;return null===f?this._itHead=S:f._next=S,null===S?this._itTail=f:S._prev=f,m}_addToMoves(m,f){return m.previousIndex===f||(this._movesTail=null===this._movesTail?this._movesHead=m:this._movesTail._nextMoved=m),m}_addToRemovals(m){return null===this._unlinkedRecords&&(this._unlinkedRecords=new yb),this._unlinkedRecords.put(m),m.currentIndex=null,m._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=m,m._prevRemoved=null):(m._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=m),m}_addIdentityChange(m,f){return m.item=f,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=m:this._identityChangesTail._nextIdentityChange=m,m}}class GP{constructor(m,f){this.item=m,this.trackById=f,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class qP{constructor(){this._head=null,this._tail=null}add(m){null===this._head?(this._head=this._tail=m,m._nextDup=null,m._prevDup=null):(this._tail._nextDup=m,m._prevDup=this._tail,m._nextDup=null,this._tail=m)}get(m,f){let S;for(S=this._head;null!==S;S=S._nextDup)if((null===f||f<=S.currentIndex)&&Object.is(S.trackById,m))return S;return null}remove(m){const f=m._prevDup,S=m._nextDup;return null===f?this._head=S:f._nextDup=S,null===S?this._tail=f:S._prevDup=f,null===this._head}}class yb{constructor(){this.map=new Map}put(m){const f=m.trackById;let S=this.map.get(f);S||(S=new qP,this.map.set(f,S)),S.add(m)}get(m,f){const P=this.map.get(m);return P?P.get(m,f):null}remove(m){const f=m.trackById;return this.map.get(f).remove(m)&&this.map.delete(f),m}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function wb(d,m,f){const S=d.previousIndex;if(null===S)return S;let P=0;return f&&S<f.length&&(P=f[S]),S+m+P}class Sb{constructor(){}supports(m){return m instanceof Map||Sc(m)}create(){return new ZP}}class ZP{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(m){let f;for(f=this._mapHead;null!==f;f=f._next)m(f)}forEachPreviousItem(m){let f;for(f=this._previousMapHead;null!==f;f=f._nextPrevious)m(f)}forEachChangedItem(m){let f;for(f=this._changesHead;null!==f;f=f._nextChanged)m(f)}forEachAddedItem(m){let f;for(f=this._additionsHead;null!==f;f=f._nextAdded)m(f)}forEachRemovedItem(m){let f;for(f=this._removalsHead;null!==f;f=f._nextRemoved)m(f)}diff(m){if(m){if(!(m instanceof Map||Sc(m)))throw new St(900,!1)}else m=new Map;return this.check(m)?this:null}onDestroy(){}check(m){this._reset();let f=this._mapHead;if(this._appendAfter=null,this._forEach(m,(S,P)=>{if(f&&f.key===P)this._maybeAddToChanges(f,S),this._appendAfter=f,f=f._next;else{const E=this._getOrCreateRecordForKey(P,S);f=this._insertBeforeOrAppend(f,E)}}),f){f._prev&&(f._prev._next=null),this._removalsHead=f;for(let S=f;null!==S;S=S._nextRemoved)S===this._mapHead&&(this._mapHead=null),this._records.delete(S.key),S._nextRemoved=S._next,S.previousValue=S.currentValue,S.currentValue=null,S._prev=null,S._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(m,f){if(m){const S=m._prev;return f._next=m,f._prev=S,m._prev=f,S&&(S._next=f),m===this._mapHead&&(this._mapHead=f),this._appendAfter=m,m}return this._appendAfter?(this._appendAfter._next=f,f._prev=this._appendAfter):this._mapHead=f,this._appendAfter=f,null}_getOrCreateRecordForKey(m,f){if(this._records.has(m)){const P=this._records.get(m);this._maybeAddToChanges(P,f);const E=P._prev,Y=P._next;return E&&(E._next=Y),Y&&(Y._prev=E),P._next=null,P._prev=null,P}const S=new QP(m);return this._records.set(m,S),S.currentValue=f,this._addToAdditions(S),S}_reset(){if(this.isDirty){let m;for(this._previousMapHead=this._mapHead,m=this._previousMapHead;null!==m;m=m._next)m._nextPrevious=m._next;for(m=this._changesHead;null!==m;m=m._nextChanged)m.previousValue=m.currentValue;for(m=this._additionsHead;null!=m;m=m._nextAdded)m.previousValue=m.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(m,f){Object.is(f,m.currentValue)||(m.previousValue=m.currentValue,m.currentValue=f,this._addToChanges(m))}_addToAdditions(m){null===this._additionsHead?this._additionsHead=this._additionsTail=m:(this._additionsTail._nextAdded=m,this._additionsTail=m)}_addToChanges(m){null===this._changesHead?this._changesHead=this._changesTail=m:(this._changesTail._nextChanged=m,this._changesTail=m)}_forEach(m,f){m instanceof Map?m.forEach(f):Object.keys(m).forEach(S=>f(m[S],S))}}class QP{constructor(m){this.key=m,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Cb(){return new Xn([new xb])}let Xn=(()=>{class d{static#e=this.\u0275prov=ui({token:d,providedIn:"root",factory:Cb});constructor(f){this.factories=f}static create(f,S){if(null!=S){const P=S.factories.slice();f=f.concat(P)}return new d(f)}static extend(f){return{provide:d,useFactory:S=>d.create(f,S||Cb()),deps:[[d,new _h,new fh]]}}find(f){const S=this.factories.find(P=>P.supports(f));if(null!=S)return S;throw new St(901,!1)}}return d})();function Tb(){return new Fr([new Sb])}let Fr=(()=>{class d{static#e=this.\u0275prov=ui({token:d,providedIn:"root",factory:Tb});constructor(f){this.factories=f}static create(f,S){if(S){const P=S.factories.slice();f=f.concat(P)}return new d(f)}static extend(f){return{provide:d,useFactory:S=>d.create(f,S||Tb()),deps:[[d,new _h,new fh]]}}find(f){const S=this.factories.find(P=>P.supports(f));if(S)return S;throw new St(901,!1)}}return d})();const eL=lb(null,"core",[]);let tL=(()=>{class d{constructor(f){}static#e=this.\u0275fac=function(S){return new(S||d)(ti(Vr))};static#t=this.\u0275mod=Ha({type:d});static#i=this.\u0275inj=Ys({})}return d})(),Su=null;function Cu(){return Su}class mL{}const Ia=new Qe("DocumentToken");let Gb=(()=>{class d{static#e=this.\u0275fac=function(S){return new(S||d)};static#t=this.\u0275mod=Ha({type:d});static#i=this.\u0275inj=Ys({})}return d})();function Zb(d){return"server"===d}class aj extends mL{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class zu extends aj{static makeCurrent(){!function pL(d){Su||(Su=d)}(new zu)}onAndCancel(m,f,S){return m.addEventListener(f,S),()=>{m.removeEventListener(f,S)}}dispatchEvent(m,f){m.dispatchEvent(f)}remove(m){m.parentNode&&m.parentNode.removeChild(m)}createElement(m,f){return(f=f||this.getDefaultDocument()).createElement(m)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(m){return m.nodeType===Node.ELEMENT_NODE}isShadowRoot(m){return m instanceof DocumentFragment}getGlobalEventTarget(m,f){return"window"===f?window:"document"===f?m:"body"===f?m.body:null}getBaseHref(m){const f=function rj(){return Wn=Wn||document.querySelector("base"),Wn?Wn.getAttribute("href"):null}();return null==f?null:function nj(d){Ad=Ad||document.createElement("a"),Ad.setAttribute("href",d);const m=Ad.pathname;return"/"===m.charAt(0)?m:`/${m}`}(f)}resetBaseElement(){Wn=null}getUserAgent(){return window.navigator.userAgent}getCookie(m){return function ek(d,m){m=encodeURIComponent(m);for(const f of d.split(";")){const S=f.indexOf("="),[P,E]=-1==S?[f,""]:[f.slice(0,S),f.slice(S+1)];if(P.trim()===m)return decodeURIComponent(E)}return null}(document.cookie,m)}}let Ad,Wn=null,dj=(()=>{class d{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(S){return new(S||d)};static#t=this.\u0275prov=ui({token:d,factory:d.\u0275fac})}return d})();const Yu=new Qe("EventManagerPlugins");let tx=(()=>{class d{constructor(f,S){this._zone=S,this._eventNameToPlugin=new Map,f.forEach(P=>{P.manager=this}),this._plugins=f.slice().reverse()}addEventListener(f,S,P){return this._findPluginFor(S).addEventListener(f,S,P)}getZone(){return this._zone}_findPluginFor(f){let S=this._eventNameToPlugin.get(f);if(S)return S;if(S=this._plugins.find(E=>E.supports(f)),!S)throw new St(5101,!1);return this._eventNameToPlugin.set(f,S),S}static#e=this.\u0275fac=function(S){return new(S||d)(ti(Yu),ti(ji))};static#t=this.\u0275prov=ui({token:d,factory:d.\u0275fac})}return d})();class ix{constructor(m){this._doc=m}}const Xu="ng-app-id";let sx=(()=>{class d{constructor(f,S,P,E={}){this.doc=f,this.appId=S,this.nonce=P,this.platformId=E,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Zb(E),this.resetHostNodes()}addStyles(f){for(const S of f)1===this.changeUsageCount(S,1)&&this.onStyleAdded(S)}removeStyles(f){for(const S of f)this.changeUsageCount(S,-1)<=0&&this.onStyleRemoved(S)}ngOnDestroy(){const f=this.styleNodesInDOM;f&&(f.forEach(S=>S.remove()),f.clear());for(const S of this.getAllStyles())this.onStyleRemoved(S);this.resetHostNodes()}addHost(f){this.hostNodes.add(f);for(const S of this.getAllStyles())this.addStyleToHost(f,S)}removeHost(f){this.hostNodes.delete(f)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(f){for(const S of this.hostNodes)this.addStyleToHost(S,f)}onStyleRemoved(f){const S=this.styleRef;S.get(f)?.elements?.forEach(P=>P.remove()),S.delete(f)}collectServerRenderedStyles(){const f=this.doc.head?.querySelectorAll(`style[${Xu}="${this.appId}"]`);if(f?.length){const S=new Map;return f.forEach(P=>{null!=P.textContent&&S.set(P.textContent,P)}),S}return null}changeUsageCount(f,S){const P=this.styleRef;if(P.has(f)){const E=P.get(f);return E.usage+=S,E.usage}return P.set(f,{usage:S,elements:[]}),S}getStyleElement(f,S){const P=this.styleNodesInDOM,E=P?.get(S);if(E?.parentNode===f)return P.delete(S),E.removeAttribute(Xu),E;{const Y=this.doc.createElement("style");return this.nonce&&Y.setAttribute("nonce",this.nonce),Y.textContent=S,this.platformIsServer&&Y.setAttribute(Xu,this.appId),Y}}addStyleToHost(f,S){const P=this.getStyleElement(f,S);f.appendChild(P);const E=this.styleRef,Y=E.get(S)?.elements;Y?Y.push(P):E.set(S,{elements:[P],usage:1})}resetHostNodes(){const f=this.hostNodes;f.clear(),f.add(this.doc.head)}static#e=this.\u0275fac=function(S){return new(S||d)(ti(Ia),ti(Vl),ti(fg,8),ti(fr))};static#t=this.\u0275prov=ui({token:d,factory:d.\u0275fac})}return d})();const Hu={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},$u=/%COMP%/g,pj=new Qe("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function ax(d,m){return m.map(f=>f.replace($u,d))}let rx=(()=>{class d{constructor(f,S,P,E,Y,G,ie,me=null){this.eventManager=f,this.sharedStylesHost=S,this.appId=P,this.removeStylesOnCompDestroy=E,this.doc=Y,this.platformId=G,this.ngZone=ie,this.nonce=me,this.rendererByCompId=new Map,this.platformIsServer=Zb(G),this.defaultRenderer=new Uu(f,Y,ie,this.platformIsServer)}createRenderer(f,S){if(!f||!S)return this.defaultRenderer;this.platformIsServer&&S.encapsulation===bs.ShadowDom&&(S={...S,encapsulation:bs.Emulated});const P=this.getOrCreateRenderer(f,S);return P instanceof lx?P.applyToHost(f):P instanceof Wu&&P.applyStyles(),P}getOrCreateRenderer(f,S){const P=this.rendererByCompId;let E=P.get(S.id);if(!E){const Y=this.doc,G=this.ngZone,ie=this.eventManager,me=this.sharedStylesHost,ye=this.removeStylesOnCompDestroy,De=this.platformIsServer;switch(S.encapsulation){case bs.Emulated:E=new lx(ie,me,S,this.appId,ye,Y,G,De);break;case bs.ShadowDom:return new _j(ie,me,f,S,Y,G,this.nonce,De);default:E=new Wu(ie,me,S,ye,Y,G,De)}P.set(S.id,E)}return E}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(S){return new(S||d)(ti(tx),ti(sx),ti(Vl),ti(pj),ti(Ia),ti(fr),ti(ji),ti(fg))};static#t=this.\u0275prov=ui({token:d,factory:d.\u0275fac})}return d})();class Uu{constructor(m,f,S,P){this.eventManager=m,this.doc=f,this.ngZone=S,this.platformIsServer=P,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(m,f){return f?this.doc.createElementNS(Hu[f]||f,m):this.doc.createElement(m)}createComment(m){return this.doc.createComment(m)}createText(m){return this.doc.createTextNode(m)}appendChild(m,f){(nx(m)?m.content:m).appendChild(f)}insertBefore(m,f,S){m&&(nx(m)?m.content:m).insertBefore(f,S)}removeChild(m,f){m&&m.removeChild(f)}selectRootElement(m,f){let S="string"==typeof m?this.doc.querySelector(m):m;if(!S)throw new St(-5104,!1);return f||(S.textContent=""),S}parentNode(m){return m.parentNode}nextSibling(m){return m.nextSibling}setAttribute(m,f,S,P){if(P){f=P+":"+f;const E=Hu[P];E?m.setAttributeNS(E,f,S):m.setAttribute(f,S)}else m.setAttribute(f,S)}removeAttribute(m,f,S){if(S){const P=Hu[S];P?m.removeAttributeNS(P,f):m.removeAttribute(`${S}:${f}`)}else m.removeAttribute(f)}addClass(m,f){m.classList.add(f)}removeClass(m,f){m.classList.remove(f)}setStyle(m,f,S,P){P&(ca.DashCase|ca.Important)?m.style.setProperty(f,S,P&ca.Important?"important":""):m.style[f]=S}removeStyle(m,f,S){S&ca.DashCase?m.style.removeProperty(f):m.style[f]=""}setProperty(m,f,S){m[f]=S}setValue(m,f){m.nodeValue=f}listen(m,f,S){if("string"==typeof m&&!(m=Cu().getGlobalEventTarget(this.doc,m)))throw new Error(`Unsupported event target ${m} for event ${f}`);return this.eventManager.addEventListener(m,f,this.decoratePreventDefault(S))}decoratePreventDefault(m){return f=>{if("__ngUnwrap__"===f)return m;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>m(f)):m(f))&&f.preventDefault()}}}function nx(d){return"TEMPLATE"===d.tagName&&void 0!==d.content}class _j extends Uu{constructor(m,f,S,P,E,Y,G,ie){super(m,E,Y,ie),this.sharedStylesHost=f,this.hostEl=S,this.shadowRoot=S.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const me=ax(P.id,P.styles);for(const ye of me){const De=document.createElement("style");G&&De.setAttribute("nonce",G),De.textContent=ye,this.shadowRoot.appendChild(De)}}nodeOrShadowRoot(m){return m===this.hostEl?this.shadowRoot:m}appendChild(m,f){return super.appendChild(this.nodeOrShadowRoot(m),f)}insertBefore(m,f,S){return super.insertBefore(this.nodeOrShadowRoot(m),f,S)}removeChild(m,f){return super.removeChild(this.nodeOrShadowRoot(m),f)}parentNode(m){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(m)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Wu extends Uu{constructor(m,f,S,P,E,Y,G,ie){super(m,E,Y,G),this.sharedStylesHost=f,this.removeStylesOnCompDestroy=P,this.styles=ie?ax(ie,S.styles):S.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class lx extends Wu{constructor(m,f,S,P,E,Y,G,ie){const me=P+"-"+S.id;super(m,f,S,E,Y,G,ie,me),this.contentAttr=function mj(d){return"_ngcontent-%COMP%".replace($u,d)}(me),this.hostAttr=function gj(d){return"_nghost-%COMP%".replace($u,d)}(me)}applyToHost(m){this.applyStyles(),this.setAttribute(m,this.hostAttr,"")}createElement(m,f){const S=super.createElement(m,f);return super.setAttribute(S,this.contentAttr,""),S}}let vj=(()=>{class d extends ix{constructor(f){super(f)}supports(f){return!0}addEventListener(f,S,P){return f.addEventListener(S,P,!1),()=>this.removeEventListener(f,S,P)}removeEventListener(f,S,P){return f.removeEventListener(S,P)}static#e=this.\u0275fac=function(S){return new(S||d)(ti(Ia))};static#t=this.\u0275prov=ui({token:d,factory:d.\u0275fac})}return d})();const dx=["alt","control","meta","shift"],bj={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},xj={alt:d=>d.altKey,control:d=>d.ctrlKey,meta:d=>d.metaKey,shift:d=>d.shiftKey};let yj=(()=>{class d extends ix{constructor(f){super(f)}supports(f){return null!=d.parseEventName(f)}addEventListener(f,S,P){const E=d.parseEventName(S),Y=d.eventCallback(E.fullKey,P,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Cu().onAndCancel(f,E.domEventName,Y))}static parseEventName(f){const S=f.toLowerCase().split("."),P=S.shift();if(0===S.length||"keydown"!==P&&"keyup"!==P)return null;const E=d._normalizeKey(S.pop());let Y="",G=S.indexOf("code");if(G>-1&&(S.splice(G,1),Y="code."),dx.forEach(me=>{const ye=S.indexOf(me);ye>-1&&(S.splice(ye,1),Y+=me+".")}),Y+=E,0!=S.length||0===E.length)return null;const ie={};return ie.domEventName=P,ie.fullKey=Y,ie}static matchEventFullKeyCode(f,S){let P=bj[f.key]||f.key,E="";return S.indexOf("code.")>-1&&(P=f.code,E="code."),!(null==P||!P)&&(P=P.toLowerCase()," "===P?P="space":"."===P&&(P="dot"),dx.forEach(Y=>{Y!==P&&(0,xj[Y])(f)&&(E+=Y+".")}),E+=P,E===S)}static eventCallback(f,S,P){return E=>{d.matchEventFullKeyCode(E,f)&&P.runGuarded(()=>S(E))}}static _normalizeKey(f){return"esc"===f?"escape":f}static#e=this.\u0275fac=function(S){return new(S||d)(ti(Ia))};static#t=this.\u0275prov=ui({token:d,factory:d.\u0275fac})}return d})();const Tj=lb(eL,"browser",[{provide:fr,useValue:"browser"},{provide:gg,useValue:function wj(){zu.makeCurrent()},multi:!0},{provide:Ia,useFactory:function Cj(){return function N0(d){Mh=d}(document),document},deps:[]}]),Dj=new Qe(""),ux=[{provide:md,useClass:class lj{addToWindow(m){Ue.getAngularTestability=(S,P=!0)=>{const E=m.findTestabilityInTree(S,P);if(null==E)throw new St(5103,!1);return E},Ue.getAllAngularTestabilities=()=>m.getAllTestabilities(),Ue.getAllAngularRootElements=()=>m.getAllRootElements(),Ue.frameworkStabilizers||(Ue.frameworkStabilizers=[]),Ue.frameworkStabilizers.push(S=>{const P=Ue.getAllAngularTestabilities();let E=P.length,Y=!1;const G=function(ie){Y=Y||ie,E--,0==E&&S(Y)};P.forEach(ie=>{ie.whenStable(G)})})}findTestabilityInTree(m,f,S){return null==f?null:m.getTestability(f)??(S?Cu().isShadowRoot(f)?this.findTestabilityInTree(m,f.host,!0):this.findTestabilityInTree(m,f.parentElement,!0):null)}},deps:[]},{provide:sb,useClass:uu,deps:[ji,pu,md]},{provide:uu,useClass:uu,deps:[ji,pu,md]}],px=[{provide:Xh,useValue:"root"},{provide:Xo,useFactory:function Sj(){return new Xo},deps:[]},{provide:Yu,useClass:vj,multi:!0,deps:[Ia,ji,fr]},{provide:Yu,useClass:yj,multi:!0,deps:[Ia]},rx,sx,tx,{provide:wg,useExisting:rx},{provide:class Ek{},useClass:dj,deps:[]},[]];let Pj=(()=>{class d{constructor(f){}static withServerTransition(f){return{ngModule:d,providers:[{provide:Vl,useValue:f.appId}]}}static#e=this.\u0275fac=function(S){return new(S||d)(ti(Dj,12))};static#t=this.\u0275mod=Ha({type:d});static#i=this.\u0275inj=Ys({providers:[...px,...ux],imports:[Gb,tL]})}return d})();typeof window<"u"&&window;var _x=r(276);let vx=window;vx.jQuery=_x,vx.$=_x;let bx={},Mj=(()=>{class d{static IterateAndGetChanges(f){if(ej.isNullOrUndefined(f.tags)||0===f.tags.length)return null;let S={};for(let P=0,E=f.tags;P<E.length;P++){let Y=E[P],G=f["tag_"+Y.replace(/\./g,"_")];!ej.isNullOrUndefined(G)&&G.hasChanges&&(S[Y]=G.getChangesAndReset())}return S}}return d.\u0275fac=function(f){return new(f||d)},d.\u0275prov=ui({token:d,factory:d.\u0275fac}),d})(),Ej=(()=>{class d{constructor(f,S,P,E,Y,G){this.controlName=f,this.el=S,this.cdRef=P,this.tags=E,this.ejIterableDiffers=Y,this._ejKeyValueDiffers=G,this.model={},this.outputs=[],this.inputs=[],this.twoways=[],this.firstCheck=!0,this.ejIterable=this.ejIterableDiffers.find([]).create(null),this.ejKeyValueDif=G.find([]).create()}static bindAndRaiseEvent(f,S,P){P.startsWith("model.")||(S[P.startsWith("bold")?P.substr(4):P]=function(Y){f[P+"_output"].emit(Y)})}createTwoways(f){if(!f)return;let S=this.model;for(let P=0;P<f.length;P++){let E=f[P].replace(/\_/g,".");ej.createObject(E+"Change",this[f[P]+"_twoChange"],S),ej.createObject(E,this.addTwoways(E),S)}}addTwoways(f){let S=this.model,P=bx;return function(E,Y){if(P===bx&&(P=ej.getObject(f+"_two",S),void 0===P&&(P=ej.getObject(f,void 0===this||void 0===this.defaults?{}:this.defaults))),void 0===E)return P;P!==E&&(P=E,Y||(ej.createObject(f+"_two",E,S),ej.getObject(f+"Change",S).emit(E)))}}ngOnInit(){for(let f in this)-1!=f.indexOf("_input")&&this.inputs.push(f),-1!=f.indexOf("_output")&&this.outputs.push(f),-1!=f.indexOf("_two")&&-1==f.indexOf("_twoChange")&&this.twoways.push(f.replace("_two",""));ej.isNullOrUndefined(this.options)&&this.createTwoways(this.twoways)}ngAfterContentInit(){this.firstCheck=!1;let f=this.model,S=this.outputs;if(S)for(let P=0;P<S.length;P++){let E=S[P].replace("_output","");d.bindAndRaiseEvent(this,f,E)}if(ej.isNullOrUndefined(this.options)){for(let P=0;P<this.tags.length;P++){let E=this.tags[P],Y=this["tag_"+E.replace(/\./g,"_")];ej.isNullOrUndefined(Y)||ej.createObject(E,Y.getList(),this.model)}for(let P=0;P<this.inputs.length;P++){let E=this.inputs[P],Y=this.inputs[P].replace("_input","");if(null!=this[E])if(-1==Y.indexOf("_"))this.model[Y]?$.extend(!0,this.model[Y],this[E]):this.model[Y]=this[E];else if(-1==Y.indexOf("_two")){let G={},ie=Y.replace(/\_/g,".");ej.createObject(ie,this[E],G);let me=ie.split(".")[0];null==this.model[me]&&(this.model[me]={}),$.extend(!0,this.model[me],G[me])}}for(let P=0;P<this.twoways.length;P++){let E=this.twoways[P],Y=E+"_two";if(null!=this[Y])if(-1==E.indexOf("_"))this.model[Y]=this[Y];else{let G={},ie=E.replace(/\_/g,".")+"_two";ej.createObject(ie,this[Y],G);let me=Y.split("_")[0];$.extend(!0,this.model[me],G[me])}}}else this.model=jQuery.extend(this.model,this.options)}ngDoCheck(){if(ej.isNullOrUndefined(this.options))this.twoways.forEach(S=>{if(this[S+"_two"]instanceof Array){let P=this.ejIterable.diff(this[S+"_two"]);if(P){let E={};null!=this.widget&&(E=this.getTwowayChanges(P.collection,E,S.replace(/\_/g,".")),ej.createObject(S.replace(/\_/g,".")+".two",P.collection,E),this.widget.setModel(E,$.isPlainObject(E)))}}});else{let S=this.ejKeyValueDif.diff(this.options);if(S&&null!=this.widget){var f={};S.forEachChangedItem(P=>{ej.createObject(P.key,P.currentValue,f)}),this.widget.setModel(f,$.isPlainObject(f))}}}ngAfterViewInit(){let f=this.isEditor?$(this.el.nativeElement.children):$(this.el.nativeElement),S=this.lowerCaseFirstLetter(this.controlName);this.widget=$(f)[S](this.model)[S]("instance")}lowerCaseFirstLetter(f){return f[0].toLowerCase()+f.slice(1)}ngOnChanges(f){if(this.firstCheck)return;let S={};if(ej.isNullOrUndefined(this.options)){for(let P in f){let E=f[P];if(E.previousValue===E.currentValue)break;if(P=P.replace("_input","").replace(/\_/g,"."),P.endsWith(".two")){let Y=P.replace(".two","");S=this.getTwowayChanges(E.currentValue,S,Y)}ej.createObject(P,E.currentValue,S)}this.widget.setModel(S,$.isPlainObject(S))}}getTwowayChanges(f,S,P){let E=ej.getObject(P,this.widget.model);return E(f,!0),ej.createObject(P,E,S),S}ngAfterContentChecked(){let f=Mj.IterateAndGetChanges(this);for(let S in f)f.hasOwnProperty(S)&&this.widget["_"+S](f[S])}ngOnDestroy(){this.widget.destroy()}}return d.\u0275fac=function(f){!function Gg(){throw new Error("invalid")}()},d.\u0275prov=ui({token:d,factory:d.\u0275fac}),d})(),Rj=(()=>{class d extends Ej{constructor(f,S,P,E){super("BoldReportViewer",f,S,[],P,E),this.el=f,this.cdRef=S,this._ejIterableDiffers=P,this._ejkeyvaluediffers=E,this.drillThrough_output=new xi,this.renderingBegin_output=new xi,this.renderingComplete_output=new xi,this.reportError_output=new xi,this.reportExport_output=new xi,this.reportLoaded_output=new xi,this.showError_output=new xi,this.viewReportClick_output=new xi,this.ajaxBeforeLoad_output=new xi,this.ajaxSuccess_output=new xi,this.ajaxError_output=new xi,this.toolbarRendering_output=new xi,this.exportProgressChanged_output=new xi,this.printProgressChanged_output=new xi,this.exportItemClick_output=new xi,this.toolBarItemClick_output=new xi,this.hyperlink_output=new xi,this.reportPrint_output=new xi,this.beforeParameterAdd_output=new xi}}return d.\u0275fac=function(f){return new(f||d)(qt(Da),qt(_u),qt(Xn),qt(Fr))},d.\u0275cmp=As({type:d,selectors:[["bold-reportviewer"]],inputs:{dataSources_input:["dataSources","dataSources_input"],exportSettings_input:["exportSettings","exportSettings_input"],isResponsive_input:["isResponsive","isResponsive_input"],locale_input:["locale","locale_input"],pageSettings_input:["pageSettings","pageSettings_input"],parameters_input:["parameters","parameters_input"],toolbarSettings_input:["toolbarSettings","toolbarSettings_input"],parameterSettings_input:["parameterSettings","parameterSettings_input"],printMode_input:["printMode","printMode_input"],printOption_input:["printOption","printOption_input"],processingMode_input:["processingMode","processingMode_input"],renderMode_input:["renderMode","renderMode_input"],reportPath_input:["reportPath","reportPath_input"],reportServerUrl_input:["reportServerUrl","reportServerUrl_input"],reportServiceUrl_input:["reportServiceUrl","reportServiceUrl_input"],zoomFactor_input:["zoomFactor","zoomFactor_input"],serviceAuthorizationToken_input:["serviceAuthorizationToken","serviceAuthorizationToken_input"],toolbarRenderMode_input:["toolbarRenderMode","toolbarRenderMode_input"],enableParameterBlockScroller_input:["enableParameterBlockScroller","enableParameterBlockScroller_input"],enableDatasourceBlockScroller_input:["enableDatasourceBlockScroller","enableDatasourceBlockScroller_input"],sizeToReportContent_input:["sizeToReportContent","sizeToReportContent_input"],autoRender_input:["autoRender","autoRender_input"],enableNotificationBar_input:["enableNotificationBar","enableNotificationBar_input"],enableDropDownSearch_input:["enableDropDownSearch","enableDropDownSearch_input"],enableVirtualEvaluation_input:["enableVirtualEvaluation","enableVirtualEvaluation_input"],waitingPopupTemplate_input:["waitingPopupTemplate","waitingPopupTemplate_input"],enableOnScrollNavigation_input:["enableOnScrollNavigation","enableOnScrollNavigation_input"],customBrandSettings_input:["customBrandSettings","customBrandSettings_input"],enableRequestLimiting_input:["enableRequestLimiting","enableRequestLimiting_input"],customBrandSettings_link_input:["customBrandSettings.link","customBrandSettings_link_input"],customBrandSettings_domain_input:["customBrandSettings.domain","customBrandSettings_domain_input"],customBrandSettings_name_input:["customBrandSettings.name","customBrandSettings_name_input"],customBrandSettings_links_input:["customBrandSettings.links","customBrandSettings_links_input"],dataSources_name_input:["dataSources.name","dataSources_name_input"],dataSources_value_input:["dataSources.value","dataSources_value_input"],exportSettings_exportOptions_input:["exportSettings.exportOptions","exportSettings_exportOptions_input"],exportSettings_excelFormat_input:["exportSettings.excelFormat","exportSettings_excelFormat_input"],exportSettings_wordFormat_input:["exportSettings.wordFormat","exportSettings_wordFormat_input"],exportSettings_customItems_input:["exportSettings.customItems","exportSettings_customItems_input"],exportSettings_ImageQuality_input:["exportSettings.ImageQuality","exportSettings_ImageQuality_input"],exportSettings_UsePrintSizes_input:["exportSettings.UsePrintSizes","exportSettings_UsePrintSizes_input"],pageSettings_orientation_input:["pageSettings.orientation","pageSettings_orientation_input"],pageSettings_paperSize_input:["pageSettings.paperSize","pageSettings_paperSize_input"],pageSettings_height_input:["pageSettings.height","pageSettings_height_input"],pageSettings_width_input:["pageSettings.width","pageSettings_width_input"],pageSettings_margins_input:["pageSettings.margins","pageSettings_margins_input"],parameters_labels_input:["parameters.labels","parameters_labels_input"],parameters_name_input:["parameters.name","parameters_name_input"],parameters_nullable_input:["parameters.nullable","parameters_nullable_input"],parameters_prompt_input:["parameters.prompt","parameters_prompt_input"],parameters_values_input:["parameters.values","parameters_values_input"],parameterSettings_delimiterChar_input:["parameterSettings.delimiterChar","parameterSettings_delimiterChar_input"],parameterSettings_position_input:["parameterSettings.position","parameterSettings_position_input"],parameterSettings_popupHeight_input:["parameterSettings.popupHeight","parameterSettings_popupHeight_input"],parameterSettings_popupWidth_input:["parameterSettings.popupWidth","parameterSettings_popupWidth_input"],parameterSettings_itemWidth_input:["parameterSettings.itemWidth","parameterSettings_itemWidth_input"],parameterSettings_labelWidth_input:["parameterSettings.labelWidth","parameterSettings_labelWidth_input"],parameterSettings_minDateTime_input:["parameterSettings.minDateTime","parameterSettings_minDateTime_input"],parameterSettings_maxDateTime_input:["parameterSettings.maxDateTime","parameterSettings_maxDateTime_input"],parameterSettings_hideTooltip_input:["parameterSettings.hideTooltip","parameterSettings_hideTooltip_input"],parameterSettings_hideParameterBlock_input:["parameterSettings.hideParameterBlock","parameterSettings_hideParameterBlock_input"],parameterSettings_dateTimeFormat_input:["parameterSettings.dateTimeFormat","parameterSettings_dateTimeFormat_input"],parameterSettings_timeDisplayFormat_input:["parameterSettings.timeDisplayFormat","parameterSettings_timeDisplayFormat_input"],parameterSettings_timeInterval_input:["parameterSettings.timeInterval","parameterSettings_timeInterval_input"],parameterSettings_accessInternalValue_input:["parameterSettings.accessInternalValue","parameterSettings_accessInternalValue_input"],toolbarSettings_click_input:["toolbarSettings.click","toolbarSettings_click_input"],toolbarSettings_items_input:["toolbarSettings.items","toolbarSettings_items_input"],toolbarSettings_toolbars_input:["toolbarSettings.toolbars","toolbarSettings_toolbars_input"],toolbarSettings_showToolbar_input:["toolbarSettings.showToolbar","toolbarSettings_showToolbar_input"],toolbarSettings_showTooltip_input:["toolbarSettings.showTooltip","toolbarSettings_showTooltip_input"],toolbarSettings_autoHide_input:["toolbarSettings.autoHide","toolbarSettings_autoHide_input"],toolbarSettings_autoHideDelay_input:["toolbarSettings.autoHideDelay","toolbarSettings_autoHideDelay_input"],toolbarSettings_templateId_input:["toolbarSettings.templateId","toolbarSettings_templateId_input"],toolbarSettings_customItems_input:["toolbarSettings.customItems","toolbarSettings_customItems_input"],toolbarSettings_customGroups_input:["toolbarSettings.customGroups","toolbarSettings_customGroups_input"]},outputs:{drillThrough_output:"drillThrough",renderingBegin_output:"renderingBegin",renderingComplete_output:"renderingComplete",reportError_output:"reportError",reportExport_output:"reportExport",reportLoaded_output:"reportLoaded",showError_output:"showError",viewReportClick_output:"viewReportClick",ajaxBeforeLoad_output:"ajaxBeforeLoad",ajaxSuccess_output:"ajaxSuccess",ajaxError_output:"ajaxError",toolbarRendering_output:"toolbarRendering",exportProgressChanged_output:"exportProgressChanged",printProgressChanged_output:"printProgressChanged",exportItemClick_output:"exportItemClick",toolBarItemClick_output:"toolBarItemClick",hyperlink_output:"hyperlink",reportPrint_output:"reportPrint",beforeParameterAdd_output:"beforeParameterAdd"},features:[wc],decls:0,vars:0,template:function(f,S){},encapsulation:2}),d})(),Nj=(()=>{class d{}return d.\u0275fac=function(f){return new(f||d)},d.\u0275mod=Ha({type:d}),d.\u0275inj=Ys({imports:[[Gb]]}),d})();r(821),r(356),r(471);let Vj=(()=>{class d{constructor(){this.title="SSRS Report Viewer",this.serviceUrl="https://demos.boldreports.com/services/api/ReportViewer",this.reportPath="~/Resources/docs/sales-order-detail.rdl"}static#e=this.\u0275fac=function(S){return new(S||d)};static#t=this.\u0275cmp=As({type:d,selectors:[["app-ssrs-report-viewer"]],decls:1,vars:2,consts:[["id","reportViewer_Control",2,"width","100%","height","950px",3,"reportServiceUrl","reportPath"]],template:function(S,P){1&S&&Oc(0,"bold-reportviewer",0),2&S&&kc("reportServiceUrl",P.serviceUrl)("reportPath",P.reportPath)},dependencies:[Rj]})}return d})();const xx={now:()=>(xx.delegate||Date).now(),delegate:void 0};class Fj extends M{constructor(m=1/0,f=1/0,S=xx){super(),this._bufferSize=m,this._windowTime=f,this._timestampProvider=S,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=f===1/0,this._bufferSize=Math.max(1,m),this._windowTime=Math.max(1,f)}next(m){const{isStopped:f,_buffer:S,_infiniteTimeWindow:P,_timestampProvider:E,_windowTime:Y}=this;f||(S.push(m),!P&&S.push(E.now()+Y)),this._trimBuffer(),super.next(m)}_subscribe(m){this._throwIfClosed(),this._trimBuffer();const f=this._innerSubscribe(m),{_infiniteTimeWindow:S,_buffer:P}=this,E=P.slice();for(let Y=0;Y<E.length&&!m.closed;Y+=S?1:2)m.next(E[Y]);return this._checkFinalizedStatuses(m),f}_trimBuffer(){const{_bufferSize:m,_timestampProvider:f,_buffer:S,_infiniteTimeWindow:P}=this,E=(P?1:2)*m;if(m<1/0&&E<S.length&&S.splice(0,S.length-E),!P){const Y=f.now();let G=0;for(let ie=1;ie<S.length&&S[ie]<=Y;ie+=2)G=ie;G&&S.splice(0,G+1)}}}const Id={schedule(d,m){const f=setTimeout(d,m);return()=>clearTimeout(f)},scheduleBeforeRender(d){if(typeof window>"u")return Id.schedule(d,0);if(typeof window.requestAnimationFrame>"u")return Id.schedule(d,16);const m=window.requestAnimationFrame(d);return()=>window.cancelAnimationFrame(m)}};let qu;function Gj(d,m,f){let S=f;return function zj(d){return!!d&&d.nodeType===Node.ELEMENT_NODE}(d)&&m.some((P,E)=>!("*"===P||!function Xj(d,m){if(!qu){const f=Element.prototype;qu=f.matches||f.matchesSelector||f.mozMatchesSelector||f.msMatchesSelector||f.oMatchesSelector||f.webkitMatchesSelector}return d.nodeType===Node.ELEMENT_NODE&&qu.call(d,m)}(d,P)||(S=E,0))),S}class Zj{constructor(m,f){this.componentFactory=f.get(br).resolveComponentFactory(m)}create(m){return new Qj(this.componentFactory,m)}}class Qj{constructor(m,f){this.componentFactory=m,this.injector=f,this.eventEmitters=new Fj(1),this.events=this.eventEmitters.pipe(Ma(S=>ts(...S))),this.componentRef=null,this.viewChangeDetectorRef=null,this.inputChanges=null,this.hasInputChanges=!1,this.implementsOnChanges=!1,this.scheduledChangeDetectionFn=null,this.scheduledDestroyFn=null,this.initialInputValues=new Map,this.unchangedInputs=new Set(this.componentFactory.inputs.map(({propName:S})=>S)),this.ngZone=this.injector.get(ji),this.elementZone=typeof Zone>"u"?null:this.ngZone.run(()=>Zone.current)}connect(m){this.runInZone(()=>{if(null!==this.scheduledDestroyFn)return this.scheduledDestroyFn(),void(this.scheduledDestroyFn=null);null===this.componentRef&&this.initializeComponent(m)})}disconnect(){this.runInZone(()=>{null===this.componentRef||null!==this.scheduledDestroyFn||(this.scheduledDestroyFn=Id.schedule(()=>{null!==this.componentRef&&(this.componentRef.destroy(),this.componentRef=null,this.viewChangeDetectorRef=null)},10))})}getInputValue(m){return this.runInZone(()=>null===this.componentRef?this.initialInputValues.get(m):this.componentRef.instance[m])}setInputValue(m,f,S){this.runInZone(()=>{S&&(f=S.call(this.componentRef?.instance,f)),null!==this.componentRef?function Hj(d,m){return d===m||d!=d&&m!=m}(f,this.getInputValue(m))&&(void 0!==f||!this.unchangedInputs.has(m))||(this.recordInputChange(m,f),this.unchangedInputs.delete(m),this.hasInputChanges=!0,this.componentRef.instance[m]=f,this.scheduleDetectChanges()):this.initialInputValues.set(m,f)})}initializeComponent(m){const f=to.create({providers:[],parent:this.injector}),S=function Wj(d,m){const f=d.childNodes,S=m.map(()=>[]);let P=-1;m.some((E,Y)=>"*"===E&&(P=Y,!0));for(let E=0,Y=f.length;E<Y;++E){const G=f[E],ie=Gj(G,m,P);-1!==ie&&S[ie].push(G)}return S}(m,this.componentFactory.ngContentSelectors);this.componentRef=this.componentFactory.create(f,S,m),this.viewChangeDetectorRef=this.componentRef.injector.get(_u),this.implementsOnChanges=function Yj(d){return"function"==typeof d}(this.componentRef.instance.ngOnChanges),this.initializeInputs(),this.initializeOutputs(this.componentRef),this.detectChanges(),this.injector.get(Vr).attachView(this.componentRef.hostView)}initializeInputs(){this.componentFactory.inputs.forEach(({propName:m,transform:f})=>{this.initialInputValues.has(m)&&this.setInputValue(m,this.initialInputValues.get(m),f)}),this.initialInputValues.clear()}initializeOutputs(m){const f=this.componentFactory.outputs.map(({propName:S,templateName:P})=>m.instance[S].pipe(Z(Y=>({name:P,value:Y}))));this.eventEmitters.next(f)}callNgOnChanges(m){if(!this.implementsOnChanges||null===this.inputChanges)return;const f=this.inputChanges;this.inputChanges=null,m.instance.ngOnChanges(f)}markViewForCheck(m){this.hasInputChanges&&(this.hasInputChanges=!1,m.markForCheck())}scheduleDetectChanges(){this.scheduledChangeDetectionFn||(this.scheduledChangeDetectionFn=Id.scheduleBeforeRender(()=>{this.scheduledChangeDetectionFn=null,this.detectChanges()}))}recordInputChange(m,f){if(!this.implementsOnChanges)return;null===this.inputChanges&&(this.inputChanges={});const S=this.inputChanges[m];if(S)return void(S.currentValue=f);const P=this.unchangedInputs.has(m),E=P?void 0:this.getInputValue(m);this.inputChanges[m]=new Pp(E,f,P)}detectChanges(){null!==this.componentRef&&(this.callNgOnChanges(this.componentRef),this.markViewForCheck(this.viewChangeDetectorRef),this.componentRef.changeDetectorRef.detectChanges())}runInZone(m){return this.elementZone&&Zone.current!==this.elementZone?this.ngZone.run(m):m()}}class Kj extends HTMLElement{constructor(){super(...arguments),this.ngElementEventsSubscription=null}}let eA=(()=>{class d{constructor(f){this.injector=f}ngDoBootstrap(f){const S=function Jj(d,m){const f=function Uj(d,m){return m.get(br).resolveComponentFactory(d).inputs}(d,m.injector),S=m.strategyFactory||new Zj(d,m.injector),P=function $j(d){const m={};return d.forEach(({propName:f,templateName:S,transform:P})=>{m[function Bj(d){return d.replace(/[A-Z]/g,m=>`-${m.toLowerCase()}`)}(S)]=[f,P]}),m}(f);class E extends Kj{static#e=this.observedAttributes=Object.keys(P);get ngElementStrategy(){if(!this._ngElementStrategy){const G=this._ngElementStrategy=S.create(this.injector||m.injector);f.forEach(({propName:ie,transform:me})=>{if(!this.hasOwnProperty(ie))return;const ye=this[ie];delete this[ie],G.setInputValue(ie,ye,me)})}return this._ngElementStrategy}constructor(G){super(),this.injector=G}attributeChangedCallback(G,ie,me,ye){const[De,Me]=P[G];this.ngElementStrategy.setInputValue(De,me,Me)}connectedCallback(){let G=!1;this.ngElementStrategy.events&&(this.subscribeToEvents(),G=!0),this.ngElementStrategy.connect(this),G||this.subscribeToEvents()}disconnectedCallback(){this._ngElementStrategy&&this._ngElementStrategy.disconnect(),this.ngElementEventsSubscription&&(this.ngElementEventsSubscription.unsubscribe(),this.ngElementEventsSubscription=null)}subscribeToEvents(){this.ngElementEventsSubscription=this.ngElementStrategy.events.subscribe(G=>{const ie=new CustomEvent(G.name,{detail:G.value});this.dispatchEvent(ie)})}}return f.forEach(({propName:Y,transform:G})=>{Object.defineProperty(E.prototype,Y,{get(){return this.ngElementStrategy.getInputValue(Y)},set(ie){this.ngElementStrategy.setInputValue(Y,ie,G)},configurable:!0,enumerable:!0})}),E}(Vj,{injector:this.injector});customElements.define("ssrs-report-viewer",S)}static#e=this.\u0275fac=function(S){return new(S||d)(ti(to))};static#t=this.\u0275mod=Ha({type:d});static#i=this.\u0275inj=Ys({imports:[Pj,Nj]})}return d})();Tj().bootstrapModule(eA).catch(d=>console.error(d))},276:function(n,c){var u;!function(_,w){"use strict";"object"==typeof n.exports?n.exports=_.document?w(_,!0):function(v){if(!v.document)throw new Error("jQuery requires a window with a document");return w(v)}:w(_)}(typeof window<"u"?window:this,function(_,w){"use strict";var v=[],a=Object.getPrototypeOf,s=v.slice,h=v.flat?function(X){return v.flat.call(X)}:function(X){return v.concat.apply([],X)},t=v.push,o=v.indexOf,l={},p=l.toString,g=l.hasOwnProperty,b=g.toString,C=b.call(Object),T={},D=function(K){return"function"==typeof K&&"number"!=typeof K.nodeType&&"function"!=typeof K.item},L=function(K){return null!=K&&K===K.window},I=_.document,R={type:!0,src:!0,nonce:!0,noModule:!0};function V(X,K,ce){var ge,ve,we=(ce=ce||I).createElement("script");if(we.text=X,K)for(ge in R)(ve=K[ge]||K.getAttribute&&K.getAttribute(ge))&&we.setAttribute(ge,ve);ce.head.appendChild(we).parentNode.removeChild(we)}function F(X){return null==X?X+"":"object"==typeof X||"function"==typeof X?l[p.call(X)]||"object":typeof X}var A="3.7.1",z=/HTML$/i,N=function(X,K){return new N.fn.init(X,K)};function U(X){var K=!!X&&"length"in X&&X.length,ce=F(X);return!D(X)&&!L(X)&&("array"===ce||0===K||"number"==typeof K&&K>0&&K-1 in X)}function J(X,K){return X.nodeName&&X.nodeName.toLowerCase()===K.toLowerCase()}N.fn=N.prototype={jquery:A,constructor:N,length:0,toArray:function(){return s.call(this)},get:function(X){return null==X?s.call(this):X<0?this[X+this.length]:this[X]},pushStack:function(X){var K=N.merge(this.constructor(),X);return K.prevObject=this,K},each:function(X){return N.each(this,X)},map:function(X){return this.pushStack(N.map(this,function(K,ce){return X.call(K,ce,K)}))},slice:function(){return this.pushStack(s.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(N.grep(this,function(X,K){return(K+1)%2}))},odd:function(){return this.pushStack(N.grep(this,function(X,K){return K%2}))},eq:function(X){var K=this.length,ce=+X+(X<0?K:0);return this.pushStack(ce>=0&&ce<K?[this[ce]]:[])},end:function(){return this.prevObject||this.constructor()},push:t,sort:v.sort,splice:v.splice},N.extend=N.fn.extend=function(){var X,K,ce,ge,ve,we,Te=arguments[0]||{},Re=1,Ee=arguments.length,Xe=!1;for("boolean"==typeof Te&&(Xe=Te,Te=arguments[Re]||{},Re++),"object"!=typeof Te&&!D(Te)&&(Te={}),Re===Ee&&(Te=this,Re--);Re<Ee;Re++)if(null!=(X=arguments[Re]))for(K in X)ge=X[K],"__proto__"!==K&&Te!==ge&&(Xe&&ge&&(N.isPlainObject(ge)||(ve=Array.isArray(ge)))?(ce=Te[K],we=ve&&!Array.isArray(ce)?[]:ve||N.isPlainObject(ce)?ce:{},ve=!1,Te[K]=N.extend(Xe,we,ge)):void 0!==ge&&(Te[K]=ge));return Te},N.extend({expando:"jQuery"+(A+Math.random()).replace(/\D/g,""),isReady:!0,error:function(X){throw new Error(X)},noop:function(){},isPlainObject:function(X){var K,ce;return!(!X||"[object Object]"!==p.call(X)||(K=a(X))&&("function"!=typeof(ce=g.call(K,"constructor")&&K.constructor)||b.call(ce)!==C))},isEmptyObject:function(X){var K;for(K in X)return!1;return!0},globalEval:function(X,K,ce){V(X,{nonce:K&&K.nonce},ce)},each:function(X,K){var ce,ge=0;if(U(X))for(ce=X.length;ge<ce&&!1!==K.call(X[ge],ge,X[ge]);ge++);else for(ge in X)if(!1===K.call(X[ge],ge,X[ge]))break;return X},text:function(X){var K,ce="",ge=0,ve=X.nodeType;if(!ve)for(;K=X[ge++];)ce+=N.text(K);return 1===ve||11===ve?X.textContent:9===ve?X.documentElement.textContent:3===ve||4===ve?X.nodeValue:ce},makeArray:function(X,K){var ce=K||[];return null!=X&&(U(Object(X))?N.merge(ce,"string"==typeof X?[X]:X):t.call(ce,X)),ce},inArray:function(X,K,ce){return null==K?-1:o.call(K,X,ce)},isXMLDoc:function(X){var ce=X&&(X.ownerDocument||X).documentElement;return!z.test(X&&X.namespaceURI||ce&&ce.nodeName||"HTML")},merge:function(X,K){for(var ce=+K.length,ge=0,ve=X.length;ge<ce;ge++)X[ve++]=K[ge];return X.length=ve,X},grep:function(X,K,ce){for(var ve=[],we=0,Te=X.length,Re=!ce;we<Te;we++)!K(X[we],we)!==Re&&ve.push(X[we]);return ve},map:function(X,K,ce){var ge,ve,we=0,Te=[];if(U(X))for(ge=X.length;we<ge;we++)null!=(ve=K(X[we],we,ce))&&Te.push(ve);else for(we in X)null!=(ve=K(X[we],we,ce))&&Te.push(ve);return h(Te)},guid:1,support:T}),"function"==typeof Symbol&&(N.fn[Symbol.iterator]=v[Symbol.iterator]),N.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(X,K){l["[object "+K+"]"]=K.toLowerCase()});var Q=v.pop,oe=v.sort,ue=v.splice,le="[\\x20\\t\\r\\n\\f]",ne=new RegExp("^"+le+"+|((?:^|[^\\\\])(?:\\\\.)*)"+le+"+$","g");N.contains=function(X,K){var ce=K&&K.parentNode;return X===ce||!(!ce||1!==ce.nodeType||!(X.contains?X.contains(ce):X.compareDocumentPosition&&16&X.compareDocumentPosition(ce)))};var he=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g;function se(X,K){return K?"\0"===X?"\ufffd":X.slice(0,-1)+"\\"+X.charCodeAt(X.length-1).toString(16)+" ":"\\"+X}N.escapeSelector=function(X){return(X+"").replace(he,se)};var ee=I,re=t;!function(){var X,K,ce,ge,ve,Te,Re,Ee,Xe,Ue,we=re,st=N.expando,qe=0,Qe=0,Nt=ta(),Jt=ta(),Wt=ta(),Ni=ta(),Vi=function(Ie,ze){return Ie===ze&&(ve=!0),0},ks="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",lo="(?:\\\\[\\da-fA-F]{1,6}"+le+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",ei="\\["+le+"*("+lo+")(?:"+le+"*([*^$|!~]?=)"+le+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+lo+"))|)"+le+"*\\]",ea=":("+lo+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ei+")*)|.*)\\)|)",ri=new RegExp(le+"+","g"),Li=new RegExp("^"+le+"*,"+le+"*"),ho=new RegExp("^"+le+"*([>+~]|"+le+")"+le+"*"),va=new RegExp(le+"|>"),vs=new RegExp(ea),ba=new RegExp("^"+lo+"$"),qs={ID:new RegExp("^#("+lo+")"),CLASS:new RegExp("^\\.("+lo+")"),TAG:new RegExp("^("+lo+"|[*])"),ATTR:new RegExp("^"+ei),PSEUDO:new RegExp("^"+ea),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+le+"*(even|odd|(([+-]|)(\\d*)n|)"+le+"*(?:([+-]|)"+le+"*(\\d+)|))"+le+"*\\)|)","i"),bool:new RegExp("^(?:"+ks+")$","i"),needsContext:new RegExp("^"+le+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+le+"*((?:-\\d)?\\d*)"+le+"*\\)|)(?=[^-]|$)","i")},wo=/^(?:input|select|textarea|button)$/i,co=/^h\d$/i,Ui=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Gr=/[+~]/,Ki=new RegExp("\\\\[\\da-fA-F]{1,6}"+le+"?|\\\\([^\\r\\n\\f])","g"),uo=function(Ie,ze){var Ge="0x"+Ie.slice(1)-65536;return ze||(Ge<0?String.fromCharCode(Ge+65536):String.fromCharCode(Ge>>10|55296,1023&Ge|56320))},ti=function(){Wi()},tl=oa(function(Ie){return!0===Ie.disabled&&J(Ie,"fieldset")},{dir:"parentNode",next:"legend"});try{we.apply(v=s.call(ee.childNodes),ee.childNodes)}catch{we={apply:function(ze,Ge){re.apply(ze,s.call(Ge))},call:function(ze){re.apply(ze,s.call(arguments,1))}}}function ni(Ie,ze,Ge,Ze){var it,ut,ft,xt,_t,Qt,Vt,Xt=ze&&ze.ownerDocument,Kt=ze?ze.nodeType:9;if(Ge=Ge||[],"string"!=typeof Ie||!Ie||1!==Kt&&9!==Kt&&11!==Kt)return Ge;if(!Ze&&(Wi(ze),ze=ze||Te,Ee)){if(11!==Kt&&(_t=Ui.exec(Ie)))if(it=_t[1]){if(9===Kt){if(!(ft=ze.getElementById(it)))return Ge;if(ft.id===it)return we.call(Ge,ft),Ge}else if(Xt&&(ft=Xt.getElementById(it))&&ni.contains(ze,ft)&&ft.id===it)return we.call(Ge,ft),Ge}else{if(_t[2])return we.apply(Ge,ze.getElementsByTagName(Ie)),Ge;if((it=_t[3])&&ze.getElementsByClassName)return we.apply(Ge,ze.getElementsByClassName(it)),Ge}if(!(Ni[Ie+" "]||Xe&&Xe.test(Ie))){if(Vt=Ie,Xt=ze,1===Kt&&(va.test(Ie)||ho.test(Ie))){for(((Xt=Gr.test(Ie)&&bs(ze.parentNode)||ze)!=ze||!T.scope)&&((xt=ze.getAttribute("id"))?xt=N.escapeSelector(xt):ze.setAttribute("id",xt=st)),ut=(Qt=So(Ie)).length;ut--;)Qt[ut]=(xt?"#"+xt:":scope")+" "+sa(Qt[ut]);Vt=Qt.join(",")}try{return we.apply(Ge,Xt.querySelectorAll(Vt)),Ge}catch{Ni(Ie,!0)}finally{xt===st&&ze.removeAttribute("id")}}}return Zr(Ie.replace(ne,"$1"),ze,Ge,Ze)}function ta(){var Ie=[];return function ze(Ge,Ze){return Ie.push(Ge+" ")>K.cacheLength&&delete ze[Ie.shift()],ze[Ge+" "]=Ze}}function is(Ie){return Ie[st]=!0,Ie}function ia(Ie){var ze=Te.createElement("fieldset");try{return!!Ie(ze)}catch{return!1}finally{ze.parentNode&&ze.parentNode.removeChild(ze),ze=null}}function Bd(Ie){return function(ze){return J(ze,"input")&&ze.type===Ie}}function zd(Ie){return function(ze){return(J(ze,"input")||J(ze,"button"))&&ze.type===Ie}}function Zs(Ie){return function(ze){return"form"in ze?ze.parentNode&&!1===ze.disabled?"label"in ze?"label"in ze.parentNode?ze.parentNode.disabled===Ie:ze.disabled===Ie:ze.isDisabled===Ie||ze.isDisabled!==!Ie&&tl(ze)===Ie:ze.disabled===Ie:"label"in ze&&ze.disabled===Ie}}function Qs(Ie){return is(function(ze){return ze=+ze,is(function(Ge,Ze){for(var it,ut=Ie([],Ge.length,ze),ft=ut.length;ft--;)Ge[it=ut[ft]]&&(Ge[it]=!(Ze[it]=Ge[it]))})})}function bs(Ie){return Ie&&typeof Ie.getElementsByTagName<"u"&&Ie}function Wi(Ie){var ze,Ge=Ie?Ie.ownerDocument||Ie:ee;return Ge==Te||9!==Ge.nodeType||!Ge.documentElement||(Re=(Te=Ge).documentElement,Ee=!N.isXMLDoc(Te),Ue=Re.matches||Re.webkitMatchesSelector||Re.msMatchesSelector,Re.msMatchesSelector&&ee!=Te&&(ze=Te.defaultView)&&ze.top!==ze&&ze.addEventListener("unload",ti),T.getById=ia(function(Ze){return Re.appendChild(Ze).id=N.expando,!Te.getElementsByName||!Te.getElementsByName(N.expando).length}),T.disconnectedMatch=ia(function(Ze){return Ue.call(Ze,"*")}),T.scope=ia(function(){return Te.querySelectorAll(":scope")}),T.cssHas=ia(function(){try{return Te.querySelector(":has(*,:jqfake)"),!1}catch{return!0}}),T.getById?(K.filter.ID=function(Ze){var it=Ze.replace(Ki,uo);return function(ut){return ut.getAttribute("id")===it}},K.find.ID=function(Ze,it){if(typeof it.getElementById<"u"&&Ee){var ut=it.getElementById(Ze);return ut?[ut]:[]}}):(K.filter.ID=function(Ze){var it=Ze.replace(Ki,uo);return function(ut){var ft=typeof ut.getAttributeNode<"u"&&ut.getAttributeNode("id");return ft&&ft.value===it}},K.find.ID=function(Ze,it){if(typeof it.getElementById<"u"&&Ee){var ut,ft,xt,_t=it.getElementById(Ze);if(_t){if((ut=_t.getAttributeNode("id"))&&ut.value===Ze)return[_t];for(xt=it.getElementsByName(Ze),ft=0;_t=xt[ft++];)if((ut=_t.getAttributeNode("id"))&&ut.value===Ze)return[_t]}return[]}}),K.find.TAG=function(Ze,it){return typeof it.getElementsByTagName<"u"?it.getElementsByTagName(Ze):it.querySelectorAll(Ze)},K.find.CLASS=function(Ze,it){if(typeof it.getElementsByClassName<"u"&&Ee)return it.getElementsByClassName(Ze)},Xe=[],ia(function(Ze){var it;Re.appendChild(Ze).innerHTML="<a id='"+st+"' href='' disabled='disabled'></a><select id='"+st+"-\r\\' disabled='disabled'><option selected=''></option></select>",Ze.querySelectorAll("[selected]").length||Xe.push("\\["+le+"*(?:value|"+ks+")"),Ze.querySelectorAll("[id~="+st+"-]").length||Xe.push("~="),Ze.querySelectorAll("a#"+st+"+*").length||Xe.push(".#.+[+~]"),Ze.querySelectorAll(":checked").length||Xe.push(":checked"),(it=Te.createElement("input")).setAttribute("type","hidden"),Ze.appendChild(it).setAttribute("name","D"),Re.appendChild(Ze).disabled=!0,2!==Ze.querySelectorAll(":disabled").length&&Xe.push(":enabled",":disabled"),(it=Te.createElement("input")).setAttribute("name",""),Ze.appendChild(it),Ze.querySelectorAll("[name='']").length||Xe.push("\\["+le+"*name"+le+"*="+le+"*(?:''|\"\")")}),T.cssHas||Xe.push(":has"),Xe=Xe.length&&new RegExp(Xe.join("|")),Vi=function(Ze,it){if(Ze===it)return ve=!0,0;var ut=!Ze.compareDocumentPosition-!it.compareDocumentPosition;return ut||(1&(ut=(Ze.ownerDocument||Ze)==(it.ownerDocument||it)?Ze.compareDocumentPosition(it):1)||!T.sortDetached&&it.compareDocumentPosition(Ze)===ut?Ze===Te||Ze.ownerDocument==ee&&ni.contains(ee,Ze)?-1:it===Te||it.ownerDocument==ee&&ni.contains(ee,it)?1:ge?o.call(ge,Ze)-o.call(ge,it):0:4&ut?-1:1)}),Te}for(X in ni.matches=function(Ie,ze){return ni(Ie,null,null,ze)},ni.matchesSelector=function(Ie,ze){if(Wi(Ie),Ee&&!Ni[ze+" "]&&(!Xe||!Xe.test(ze)))try{var Ge=Ue.call(Ie,ze);if(Ge||T.disconnectedMatch||Ie.document&&11!==Ie.document.nodeType)return Ge}catch{Ni(ze,!0)}return ni(ze,Te,null,[Ie]).length>0},ni.contains=function(Ie,ze){return(Ie.ownerDocument||Ie)!=Te&&Wi(Ie),N.contains(Ie,ze)},ni.attr=function(Ie,ze){(Ie.ownerDocument||Ie)!=Te&&Wi(Ie);var Ge=K.attrHandle[ze.toLowerCase()],Ze=Ge&&g.call(K.attrHandle,ze.toLowerCase())?Ge(Ie,ze,!Ee):void 0;return void 0!==Ze?Ze:Ie.getAttribute(ze)},ni.error=function(Ie){throw new Error("Syntax error, unrecognized expression: "+Ie)},N.uniqueSort=function(Ie){var ze,Ge=[],Ze=0,it=0;if(ve=!T.sortStable,ge=!T.sortStable&&s.call(Ie,0),oe.call(Ie,Vi),ve){for(;ze=Ie[it++];)ze===Ie[it]&&(Ze=Ge.push(it));for(;Ze--;)ue.call(Ie,Ge[Ze],1)}return ge=null,Ie},N.fn.uniqueSort=function(){return this.pushStack(N.uniqueSort(s.apply(this)))},(K=N.expr={cacheLength:50,createPseudo:is,match:qs,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(Ie){return Ie[1]=Ie[1].replace(Ki,uo),Ie[3]=(Ie[3]||Ie[4]||Ie[5]||"").replace(Ki,uo),"~="===Ie[2]&&(Ie[3]=" "+Ie[3]+" "),Ie.slice(0,4)},CHILD:function(Ie){return Ie[1]=Ie[1].toLowerCase(),"nth"===Ie[1].slice(0,3)?(Ie[3]||ni.error(Ie[0]),Ie[4]=+(Ie[4]?Ie[5]+(Ie[6]||1):2*("even"===Ie[3]||"odd"===Ie[3])),Ie[5]=+(Ie[7]+Ie[8]||"odd"===Ie[3])):Ie[3]&&ni.error(Ie[0]),Ie},PSEUDO:function(Ie){var ze,Ge=!Ie[6]&&Ie[2];return qs.CHILD.test(Ie[0])?null:(Ie[3]?Ie[2]=Ie[4]||Ie[5]||"":Ge&&vs.test(Ge)&&(ze=So(Ge,!0))&&(ze=Ge.indexOf(")",Ge.length-ze)-Ge.length)&&(Ie[0]=Ie[0].slice(0,ze),Ie[2]=Ge.slice(0,ze)),Ie.slice(0,3))}},filter:{TAG:function(Ie){var ze=Ie.replace(Ki,uo).toLowerCase();return"*"===Ie?function(){return!0}:function(Ge){return J(Ge,ze)}},CLASS:function(Ie){var ze=Nt[Ie+" "];return ze||(ze=new RegExp("(^|"+le+")"+Ie+"("+le+"|$)"))&&Nt(Ie,function(Ge){return ze.test("string"==typeof Ge.className&&Ge.className||typeof Ge.getAttribute<"u"&&Ge.getAttribute("class")||"")})},ATTR:function(Ie,ze,Ge){return function(Ze){var it=ni.attr(Ze,Ie);return null==it?"!="===ze:!ze||(it+="","="===ze?it===Ge:"!="===ze?it!==Ge:"^="===ze?Ge&&0===it.indexOf(Ge):"*="===ze?Ge&&it.indexOf(Ge)>-1:"$="===ze?Ge&&it.slice(-Ge.length)===Ge:"~="===ze?(" "+it.replace(ri," ")+" ").indexOf(Ge)>-1:"|="===ze&&(it===Ge||it.slice(0,Ge.length+1)===Ge+"-"))}},CHILD:function(Ie,ze,Ge,Ze,it){var ut="nth"!==Ie.slice(0,3),ft="last"!==Ie.slice(-4),xt="of-type"===ze;return 1===Ze&&0===it?function(_t){return!!_t.parentNode}:function(_t,Qt,Vt){var Xt,Kt,Ot,_i,cs,Ji=ut!==ft?"nextSibling":"previousSibling",js=_t.parentNode,As=xt&&_t.nodeName.toLowerCase(),aa=!Vt&&!xt,ss=!1;if(js){if(ut){for(;Ji;){for(Ot=_t;Ot=Ot[Ji];)if(xt?J(Ot,As):1===Ot.nodeType)return!1;cs=Ji="only"===Ie&&!cs&&"nextSibling"}return!0}if(cs=[ft?js.firstChild:js.lastChild],ft&&aa){for(ss=(_i=(Xt=(Kt=js[st]||(js[st]={}))[Ie]||[])[0]===qe&&Xt[1])&&Xt[2],Ot=_i&&js.childNodes[_i];Ot=++_i&&Ot&&Ot[Ji]||(ss=_i=0)||cs.pop();)if(1===Ot.nodeType&&++ss&&Ot===_t){Kt[Ie]=[qe,_i,ss];break}}else if(aa&&(ss=_i=(Xt=(Kt=_t[st]||(_t[st]={}))[Ie]||[])[0]===qe&&Xt[1]),!1===ss)for(;(Ot=++_i&&Ot&&Ot[Ji]||(ss=_i=0)||cs.pop())&&(!(xt?J(Ot,As):1===Ot.nodeType)||!++ss||(aa&&((Kt=Ot[st]||(Ot[st]={}))[Ie]=[qe,ss]),Ot!==_t)););return(ss-=it)===Ze||ss%Ze==0&&ss/Ze>=0}}},PSEUDO:function(Ie,ze){var Ge,Ze=K.pseudos[Ie]||K.setFilters[Ie.toLowerCase()]||ni.error("unsupported pseudo: "+Ie);return Ze[st]?Ze(ze):Ze.length>1?(Ge=[Ie,Ie,"",ze],K.setFilters.hasOwnProperty(Ie.toLowerCase())?is(function(it,ut){for(var ft,xt=Ze(it,ze),_t=xt.length;_t--;)it[ft=o.call(it,xt[_t])]=!(ut[ft]=xt[_t])}):function(it){return Ze(it,0,Ge)}):Ze}},pseudos:{not:is(function(Ie){var ze=[],Ge=[],Ze=Xa(Ie.replace(ne,"$1"));return Ze[st]?is(function(it,ut,ft,xt){for(var _t,Qt=Ze(it,null,xt,[]),Vt=it.length;Vt--;)(_t=Qt[Vt])&&(it[Vt]=!(ut[Vt]=_t))}):function(it,ut,ft){return ze[0]=it,Ze(ze,null,ft,Ge),ze[0]=null,!Ge.pop()}}),has:is(function(Ie){return function(ze){return ni(Ie,ze).length>0}}),contains:is(function(Ie){return Ie=Ie.replace(Ki,uo),function(ze){return(ze.textContent||N.text(ze)).indexOf(Ie)>-1}}),lang:is(function(Ie){return ba.test(Ie||"")||ni.error("unsupported lang: "+Ie),Ie=Ie.replace(Ki,uo).toLowerCase(),function(ze){var Ge;do{if(Ge=Ee?ze.lang:ze.getAttribute("xml:lang")||ze.getAttribute("lang"))return(Ge=Ge.toLowerCase())===Ie||0===Ge.indexOf(Ie+"-")}while((ze=ze.parentNode)&&1===ze.nodeType);return!1}}),target:function(Ie){var ze=_.location&&_.location.hash;return ze&&ze.slice(1)===Ie.id},root:function(Ie){return Ie===Re},focus:function(Ie){return Ie===function bi(){try{return Te.activeElement}catch{}}()&&Te.hasFocus()&&!!(Ie.type||Ie.href||~Ie.tabIndex)},enabled:Zs(!1),disabled:Zs(!0),checked:function(Ie){return J(Ie,"input")&&!!Ie.checked||J(Ie,"option")&&!!Ie.selected},selected:function(Ie){return!0===Ie.selected},empty:function(Ie){for(Ie=Ie.firstChild;Ie;Ie=Ie.nextSibling)if(Ie.nodeType<6)return!1;return!0},parent:function(Ie){return!K.pseudos.empty(Ie)},header:function(Ie){return co.test(Ie.nodeName)},input:function(Ie){return wo.test(Ie.nodeName)},button:function(Ie){return J(Ie,"input")&&"button"===Ie.type||J(Ie,"button")},text:function(Ie){var ze;return J(Ie,"input")&&"text"===Ie.type&&(null==(ze=Ie.getAttribute("type"))||"text"===ze.toLowerCase())},first:Qs(function(){return[0]}),last:Qs(function(Ie,ze){return[ze-1]}),eq:Qs(function(Ie,ze,Ge){return[Ge<0?Ge+ze:Ge]}),even:Qs(function(Ie,ze){for(var Ge=0;Ge<ze;Ge+=2)Ie.push(Ge);return Ie}),odd:Qs(function(Ie,ze){for(var Ge=1;Ge<ze;Ge+=2)Ie.push(Ge);return Ie}),lt:Qs(function(Ie,ze,Ge){var Ze;for(Ze=Ge<0?Ge+ze:Ge>ze?ze:Ge;--Ze>=0;)Ie.push(Ze);return Ie}),gt:Qs(function(Ie,ze,Ge){for(var Ze=Ge<0?Ge+ze:Ge;++Ze<ze;)Ie.push(Ze);return Ie})}}).pseudos.nth=K.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})K.pseudos[X]=Bd(X);for(X in{submit:!0,reset:!0})K.pseudos[X]=zd(X);function oi(){}function So(Ie,ze){var Ge,Ze,it,ut,ft,xt,_t,Qt=Jt[Ie+" "];if(Qt)return ze?0:Qt.slice(0);for(ft=Ie,xt=[],_t=K.preFilter;ft;){for(ut in(!Ge||(Ze=Li.exec(ft)))&&(Ze&&(ft=ft.slice(Ze[0].length)||ft),xt.push(it=[])),Ge=!1,(Ze=ho.exec(ft))&&(Ge=Ze.shift(),it.push({value:Ge,type:Ze[0].replace(ne," ")}),ft=ft.slice(Ge.length)),K.filter)(Ze=qs[ut].exec(ft))&&(!_t[ut]||(Ze=_t[ut](Ze)))&&(Ge=Ze.shift(),it.push({value:Ge,type:ut,matches:Ze}),ft=ft.slice(Ge.length));if(!Ge)break}return ze?ft.length:ft?ni.error(Ie):Jt(Ie,xt).slice(0)}function sa(Ie){for(var ze=0,Ge=Ie.length,Ze="";ze<Ge;ze++)Ze+=Ie[ze].value;return Ze}function oa(Ie,ze,Ge){var Ze=ze.dir,it=ze.next,ut=it||Ze,ft=Ge&&"parentNode"===ut,xt=Qe++;return ze.first?function(_t,Qt,Vt){for(;_t=_t[Ze];)if(1===_t.nodeType||ft)return Ie(_t,Qt,Vt);return!1}:function(_t,Qt,Vt){var Xt,Kt,Ot=[qe,xt];if(Vt){for(;_t=_t[Ze];)if((1===_t.nodeType||ft)&&Ie(_t,Qt,Vt))return!0}else for(;_t=_t[Ze];)if(1===_t.nodeType||ft)if(Kt=_t[st]||(_t[st]={}),it&&J(_t,it))_t=_t[Ze]||_t;else{if((Xt=Kt[ut])&&Xt[0]===qe&&Xt[1]===xt)return Ot[2]=Xt[2];if(Kt[ut]=Ot,Ot[2]=Ie(_t,Qt,Vt))return!0}return!1}}function Ba(Ie){return Ie.length>1?function(ze,Ge,Ze){for(var it=Ie.length;it--;)if(!Ie[it](ze,Ge,Ze))return!1;return!0}:Ie[0]}function Co(Ie,ze,Ge,Ze,it){for(var ut,ft=[],xt=0,_t=Ie.length,Qt=null!=ze;xt<_t;xt++)(ut=Ie[xt])&&(!Ge||Ge(ut,Ze,it))&&(ft.push(ut),Qt&&ze.push(xt));return ft}function za(Ie,ze,Ge,Ze,it,ut){return Ze&&!Ze[st]&&(Ze=za(Ze)),it&&!it[st]&&(it=za(it,ut)),is(function(ft,xt,_t,Qt){var Vt,Xt,Kt,Ot,_i=[],cs=[],Ji=xt.length,js=ft||function po(Ie,ze,Ge){for(var Ze=0,it=ze.length;Ze<it;Ze++)ni(Ie,ze[Ze],Ge);return Ge}(ze||"*",_t.nodeType?[_t]:_t,[]),As=!Ie||!ft&&ze?js:Co(js,_i,Ie,_t,Qt);if(Ge?Ge(As,Ot=it||(ft?Ie:Ji||Ze)?[]:xt,_t,Qt):Ot=As,Ze)for(Vt=Co(Ot,cs),Ze(Vt,[],_t,Qt),Xt=Vt.length;Xt--;)(Kt=Vt[Xt])&&(Ot[cs[Xt]]=!(As[cs[Xt]]=Kt));if(ft){if(it||Ie){if(it){for(Vt=[],Xt=Ot.length;Xt--;)(Kt=Ot[Xt])&&Vt.push(As[Xt]=Kt);it(null,Ot=[],Vt,Qt)}for(Xt=Ot.length;Xt--;)(Kt=Ot[Xt])&&(Vt=it?o.call(ft,Kt):_i[Xt])>-1&&(ft[Vt]=!(xt[Vt]=Kt))}}else Ot=Co(Ot===xt?Ot.splice(Ji,Ot.length):Ot),it?it(null,xt,Ot,Qt):we.apply(xt,Ot)})}function Ya(Ie){for(var ze,Ge,Ze,it=Ie.length,ut=K.relative[Ie[0].type],ft=ut||K.relative[" "],xt=ut?1:0,_t=oa(function(Xt){return Xt===ze},ft,!0),Qt=oa(function(Xt){return o.call(ze,Xt)>-1},ft,!0),Vt=[function(Xt,Kt,Ot){var _i=!ut&&(Ot||Kt!=ce)||((ze=Kt).nodeType?_t(Xt,Kt,Ot):Qt(Xt,Kt,Ot));return ze=null,_i}];xt<it;xt++)if(Ge=K.relative[Ie[xt].type])Vt=[oa(Ba(Vt),Ge)];else{if((Ge=K.filter[Ie[xt].type].apply(null,Ie[xt].matches))[st]){for(Ze=++xt;Ze<it&&!K.relative[Ie[Ze].type];Ze++);return za(xt>1&&Ba(Vt),xt>1&&sa(Ie.slice(0,xt-1).concat({value:" "===Ie[xt-2].type?"*":""})).replace(ne,"$1"),Ge,xt<Ze&&Ya(Ie.slice(xt,Ze)),Ze<it&&Ya(Ie=Ie.slice(Ze)),Ze<it&&sa(Ie))}Vt.push(Ge)}return Ba(Vt)}function Xa(Ie,ze){var Ge,Ze=[],it=[],ut=Wt[Ie+" "];if(!ut){for(ze||(ze=So(Ie)),Ge=ze.length;Ge--;)(ut=Ya(ze[Ge]))[st]?Ze.push(ut):it.push(ut);ut=Wt(Ie,function qr(Ie,ze){var Ge=ze.length>0,Ze=Ie.length>0,it=function(ut,ft,xt,_t,Qt){var Vt,Xt,Kt,Ot=0,_i="0",cs=ut&&[],Ji=[],js=ce,As=ut||Ze&&K.find.TAG("*",Qt),aa=qe+=null==js?1:Math.random()||.1,ss=As.length;for(Qt&&(ce=ft==Te||ft||Qt);_i!==ss&&null!=(Vt=As[_i]);_i++){if(Ze&&Vt){for(Xt=0,!ft&&Vt.ownerDocument!=Te&&(Wi(Vt),xt=!Ee);Kt=Ie[Xt++];)if(Kt(Vt,ft||Te,xt)){we.call(_t,Vt);break}Qt&&(qe=aa)}Ge&&((Vt=!Kt&&Vt)&&Ot--,ut&&cs.push(Vt))}if(Ot+=_i,Ge&&_i!==Ot){for(Xt=0;Kt=ze[Xt++];)Kt(cs,Ji,ft,xt);if(ut){if(Ot>0)for(;_i--;)cs[_i]||Ji[_i]||(Ji[_i]=Q.call(_t));Ji=Co(Ji)}we.apply(_t,Ji),Qt&&!ut&&Ji.length>0&&Ot+ze.length>1&&N.uniqueSort(_t)}return Qt&&(qe=aa,ce=js),cs};return Ge?is(it):it}(it,Ze)),ut.selector=Ie}return ut}function Zr(Ie,ze,Ge,Ze){var it,ut,ft,xt,_t,Qt="function"==typeof Ie&&Ie,Vt=!Ze&&So(Ie=Qt.selector||Ie);if(Ge=Ge||[],1===Vt.length){if((ut=Vt[0]=Vt[0].slice(0)).length>2&&"ID"===(ft=ut[0]).type&&9===ze.nodeType&&Ee&&K.relative[ut[1].type]){if(!(ze=(K.find.ID(ft.matches[0].replace(Ki,uo),ze)||[])[0]))return Ge;Qt&&(ze=ze.parentNode),Ie=Ie.slice(ut.shift().value.length)}for(it=qs.needsContext.test(Ie)?0:ut.length;it--&&!K.relative[xt=(ft=ut[it]).type];)if((_t=K.find[xt])&&(Ze=_t(ft.matches[0].replace(Ki,uo),Gr.test(ut[0].type)&&bs(ze.parentNode)||ze))){if(ut.splice(it,1),!(Ie=Ze.length&&sa(ut)))return we.apply(Ge,Ze),Ge;break}}return(Qt||Xa(Ie,Vt))(Ze,ze,!Ee,Ge,!ze||Gr.test(Ie)&&bs(ze.parentNode)||ze),Ge}oi.prototype=K.filters=K.pseudos,K.setFilters=new oi,T.sortStable=st.split("").sort(Vi).join("")===st,Wi(),T.sortDetached=ia(function(Ie){return 1&Ie.compareDocumentPosition(Te.createElement("fieldset"))}),N.find=ni,N.expr[":"]=N.expr.pseudos,N.unique=N.uniqueSort,ni.compile=Xa,ni.select=Zr,ni.setDocument=Wi,ni.tokenize=So,ni.escape=N.escapeSelector,ni.getText=N.text,ni.isXML=N.isXMLDoc,ni.selectors=N.expr,ni.support=N.support,ni.uniqueSort=N.uniqueSort}();var W=function(X,K,ce){for(var ge=[],ve=void 0!==ce;(X=X[K])&&9!==X.nodeType;)if(1===X.nodeType){if(ve&&N(X).is(ce))break;ge.push(X)}return ge},pe=function(X,K){for(var ce=[];X;X=X.nextSibling)1===X.nodeType&&X!==K&&ce.push(X);return ce},M=N.expr.match.needsContext,fe=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function xe(X,K,ce){return D(K)?N.grep(X,function(ge,ve){return!!K.call(ge,ve,ge)!==ce}):K.nodeType?N.grep(X,function(ge){return ge===K!==ce}):"string"!=typeof K?N.grep(X,function(ge){return o.call(K,ge)>-1!==ce}):N.filter(K,X,ce)}N.filter=function(X,K,ce){var ge=K[0];return ce&&(X=":not("+X+")"),1===K.length&&1===ge.nodeType?N.find.matchesSelector(ge,X)?[ge]:[]:N.find.matches(X,N.grep(K,function(ve){return 1===ve.nodeType}))},N.fn.extend({find:function(X){var K,ce,ge=this.length,ve=this;if("string"!=typeof X)return this.pushStack(N(X).filter(function(){for(K=0;K<ge;K++)if(N.contains(ve[K],this))return!0}));for(ce=this.pushStack([]),K=0;K<ge;K++)N.find(X,ve[K],ce);return ge>1?N.uniqueSort(ce):ce},filter:function(X){return this.pushStack(xe(this,X||[],!1))},not:function(X){return this.pushStack(xe(this,X||[],!0))},is:function(X){return!!xe(this,"string"==typeof X&&M.test(X)?N(X):X||[],!1).length}});var O,B=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,H=N.fn.init=function(X,K,ce){var ge,ve;if(!X)return this;if(ce=ce||O,"string"==typeof X){if(!(ge="<"===X[0]&&">"===X[X.length-1]&&X.length>=3?[null,X,null]:B.exec(X))||!ge[1]&&K)return!K||K.jquery?(K||ce).find(X):this.constructor(K).find(X);if(ge[1]){if(N.merge(this,N.parseHTML(ge[1],(K=K instanceof N?K[0]:K)&&K.nodeType?K.ownerDocument||K:I,!0)),fe.test(ge[1])&&N.isPlainObject(K))for(ge in K)D(this[ge])?this[ge](K[ge]):this.attr(ge,K[ge]);return this}return(ve=I.getElementById(ge[2]))&&(this[0]=ve,this.length=1),this}return X.nodeType?(this[0]=X,this.length=1,this):D(X)?void 0!==ce.ready?ce.ready(X):X(N):N.makeArray(X,this)};H.prototype=N.fn,O=N(I);var Z=/^(?:parents|prev(?:Until|All))/,te={children:!0,contents:!0,next:!0,prev:!0};function ae(X,K){for(;(X=X[K])&&1!==X.nodeType;);return X}N.fn.extend({has:function(X){var K=N(X,this),ce=K.length;return this.filter(function(){for(var ge=0;ge<ce;ge++)if(N.contains(this,K[ge]))return!0})},closest:function(X,K){var ce,ge=0,ve=this.length,we=[],Te="string"!=typeof X&&N(X);if(!M.test(X))for(;ge<ve;ge++)for(ce=this[ge];ce&&ce!==K;ce=ce.parentNode)if(ce.nodeType<11&&(Te?Te.index(ce)>-1:1===ce.nodeType&&N.find.matchesSelector(ce,X))){we.push(ce);break}return this.pushStack(we.length>1?N.uniqueSort(we):we)},index:function(X){return X?"string"==typeof X?o.call(N(X),this[0]):o.call(this,X.jquery?X[0]:X):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(X,K){return this.pushStack(N.uniqueSort(N.merge(this.get(),N(X,K))))},addBack:function(X){return this.add(null==X?this.prevObject:this.prevObject.filter(X))}}),N.each({parent:function(X){var K=X.parentNode;return K&&11!==K.nodeType?K:null},parents:function(X){return W(X,"parentNode")},parentsUntil:function(X,K,ce){return W(X,"parentNode",ce)},next:function(X){return ae(X,"nextSibling")},prev:function(X){return ae(X,"previousSibling")},nextAll:function(X){return W(X,"nextSibling")},prevAll:function(X){return W(X,"previousSibling")},nextUntil:function(X,K,ce){return W(X,"nextSibling",ce)},prevUntil:function(X,K,ce){return W(X,"previousSibling",ce)},siblings:function(X){return pe((X.parentNode||{}).firstChild,X)},children:function(X){return pe(X.firstChild)},contents:function(X){return null!=X.contentDocument&&a(X.contentDocument)?X.contentDocument:(J(X,"template")&&(X=X.content||X),N.merge([],X.childNodes))}},function(X,K){N.fn[X]=function(ce,ge){var ve=N.map(this,K,ce);return"Until"!==X.slice(-5)&&(ge=ce),ge&&"string"==typeof ge&&(ve=N.filter(ge,ve)),this.length>1&&(te[X]||N.uniqueSort(ve),Z.test(X)&&ve.reverse()),this.pushStack(ve)}});var de=/[^\x20\t\r\n\f]+/g;function Se(X){return X}function be(X){throw X}function Ce(X,K,ce,ge){var ve;try{X&&D(ve=X.promise)?ve.call(X).done(K).fail(ce):X&&D(ve=X.then)?ve.call(X,K,ce):K.apply(void 0,[X].slice(ge))}catch(we){ce.apply(void 0,[we])}}N.Callbacks=function(X){X="string"==typeof X?function _e(X){var K={};return N.each(X.match(de)||[],function(ce,ge){K[ge]=!0}),K}(X):N.extend({},X);var K,ce,ge,ve,we=[],Te=[],Re=-1,Ee=function(){for(ve=ve||X.once,ge=K=!0;Te.length;Re=-1)for(ce=Te.shift();++Re<we.length;)!1===we[Re].apply(ce[0],ce[1])&&X.stopOnFalse&&(Re=we.length,ce=!1);X.memory||(ce=!1),K=!1,ve&&(we=ce?[]:"")},Xe={add:function(){return we&&(ce&&!K&&(Re=we.length-1,Te.push(ce)),function Ue(st){N.each(st,function(qe,Qe){D(Qe)?(!X.unique||!Xe.has(Qe))&&we.push(Qe):Qe&&Qe.length&&"string"!==F(Qe)&&Ue(Qe)})}(arguments),ce&&!K&&Ee()),this},remove:function(){return N.each(arguments,function(Ue,st){for(var qe;(qe=N.inArray(st,we,qe))>-1;)we.splice(qe,1),qe<=Re&&Re--}),this},has:function(Ue){return Ue?N.inArray(Ue,we)>-1:we.length>0},empty:function(){return we&&(we=[]),this},disable:function(){return ve=Te=[],we=ce="",this},disabled:function(){return!we},lock:function(){return ve=Te=[],!ce&&!K&&(we=ce=""),this},locked:function(){return!!ve},fireWith:function(Ue,st){return ve||(st=[Ue,(st=st||[]).slice?st.slice():st],Te.push(st),K||Ee()),this},fire:function(){return Xe.fireWith(this,arguments),this},fired:function(){return!!ge}};return Xe},N.extend({Deferred:function(X){var K=[["notify","progress",N.Callbacks("memory"),N.Callbacks("memory"),2],["resolve","done",N.Callbacks("once memory"),N.Callbacks("once memory"),0,"resolved"],["reject","fail",N.Callbacks("once memory"),N.Callbacks("once memory"),1,"rejected"]],ce="pending",ge={state:function(){return ce},always:function(){return ve.done(arguments).fail(arguments),this},catch:function(we){return ge.then(null,we)},pipe:function(){var we=arguments;return N.Deferred(function(Te){N.each(K,function(Re,Ee){var Xe=D(we[Ee[4]])&&we[Ee[4]];ve[Ee[1]](function(){var Ue=Xe&&Xe.apply(this,arguments);Ue&&D(Ue.promise)?Ue.promise().progress(Te.notify).done(Te.resolve).fail(Te.reject):Te[Ee[0]+"With"](this,Xe?[Ue]:arguments)})}),we=null}).promise()},then:function(we,Te,Re){var Ee=0;function Xe(Ue,st,qe,Qe){return function(){var Nt=this,Jt=arguments,Wt=function(){var Vi,ks;if(!(Ue<Ee)){if((Vi=qe.apply(Nt,Jt))===st.promise())throw new TypeError("Thenable self-resolution");D(ks=Vi&&("object"==typeof Vi||"function"==typeof Vi)&&Vi.then)?Qe?ks.call(Vi,Xe(Ee,st,Se,Qe),Xe(Ee,st,be,Qe)):(Ee++,ks.call(Vi,Xe(Ee,st,Se,Qe),Xe(Ee,st,be,Qe),Xe(Ee,st,Se,st.notifyWith))):(qe!==Se&&(Nt=void 0,Jt=[Vi]),(Qe||st.resolveWith)(Nt,Jt))}},Ni=Qe?Wt:function(){try{Wt()}catch(Vi){N.Deferred.exceptionHook&&N.Deferred.exceptionHook(Vi,Ni.error),Ue+1>=Ee&&(qe!==be&&(Nt=void 0,Jt=[Vi]),st.rejectWith(Nt,Jt))}};Ue?Ni():(N.Deferred.getErrorHook?Ni.error=N.Deferred.getErrorHook():N.Deferred.getStackHook&&(Ni.error=N.Deferred.getStackHook()),_.setTimeout(Ni))}}return N.Deferred(function(Ue){K[0][3].add(Xe(0,Ue,D(Re)?Re:Se,Ue.notifyWith)),K[1][3].add(Xe(0,Ue,D(we)?we:Se)),K[2][3].add(Xe(0,Ue,D(Te)?Te:be))}).promise()},promise:function(we){return null!=we?N.extend(we,ge):ge}},ve={};return N.each(K,function(we,Te){var Re=Te[2],Ee=Te[5];ge[Te[1]]=Re.add,Ee&&Re.add(function(){ce=Ee},K[3-we][2].disable,K[3-we][3].disable,K[0][2].lock,K[0][3].lock),Re.add(Te[3].fire),ve[Te[0]]=function(){return ve[Te[0]+"With"](this===ve?void 0:this,arguments),this},ve[Te[0]+"With"]=Re.fireWith}),ge.promise(ve),X&&X.call(ve,ve),ve},when:function(X){var K=arguments.length,ce=K,ge=Array(ce),ve=s.call(arguments),we=N.Deferred(),Te=function(Re){return function(Ee){ge[Re]=this,ve[Re]=arguments.length>1?s.call(arguments):Ee,--K||we.resolveWith(ge,ve)}};if(K<=1&&(Ce(X,we.done(Te(ce)).resolve,we.reject,!K),"pending"===we.state()||D(ve[ce]&&ve[ce].then)))return we.then();for(;ce--;)Ce(ve[ce],Te(ce),we.reject);return we.promise()}});var Pe=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;N.Deferred.exceptionHook=function(X,K){_.console&&_.console.warn&&X&&Pe.test(X.name)&&_.console.warn("jQuery.Deferred exception: "+X.message,X.stack,K)},N.readyException=function(X){_.setTimeout(function(){throw X})};var ke=N.Deferred();function Ne(){I.removeEventListener("DOMContentLoaded",Ne),_.removeEventListener("load",Ne),N.ready()}N.fn.ready=function(X){return ke.then(X).catch(function(K){N.readyException(K)}),this},N.extend({isReady:!1,readyWait:1,ready:function(X){(!0===X?--N.readyWait:N.isReady)||(N.isReady=!0,!(!0!==X&&--N.readyWait>0)&&ke.resolveWith(I,[N]))}}),N.ready.then=ke.then,"complete"===I.readyState||"loading"!==I.readyState&&!I.documentElement.doScroll?_.setTimeout(N.ready):(I.addEventListener("DOMContentLoaded",Ne),_.addEventListener("load",Ne));var Le=function(X,K,ce,ge,ve,we,Te){var Re=0,Ee=X.length,Xe=null==ce;if("object"===F(ce))for(Re in ve=!0,ce)Le(X,K,Re,ce[Re],!0,we,Te);else if(void 0!==ge&&(ve=!0,D(ge)||(Te=!0),Xe&&(Te?(K.call(X,ge),K=null):(Xe=K,K=function(Ue,st,qe){return Xe.call(N(Ue),qe)})),K))for(;Re<Ee;Re++)K(X[Re],ce,Te?ge:ge.call(X[Re],Re,K(X[Re],ce)));return ve?X:Xe?K.call(X):Ee?K(X[0],ce):we},je=/^-ms-/,Ae=/-([a-z])/g;function Oe(X,K){return K.toUpperCase()}function Fe(X){return X.replace(je,"ms-").replace(Ae,Oe)}var $e=function(X){return 1===X.nodeType||9===X.nodeType||!+X.nodeType};function He(){this.expando=N.expando+He.uid++}He.uid=1,He.prototype={cache:function(X){var K=X[this.expando];return K||(K={},$e(X)&&(X.nodeType?X[this.expando]=K:Object.defineProperty(X,this.expando,{value:K,configurable:!0}))),K},set:function(X,K,ce){var ge,ve=this.cache(X);if("string"==typeof K)ve[Fe(K)]=ce;else for(ge in K)ve[Fe(ge)]=K[ge];return ve},get:function(X,K){return void 0===K?this.cache(X):X[this.expando]&&X[this.expando][Fe(K)]},access:function(X,K,ce){return void 0===K||K&&"string"==typeof K&&void 0===ce?this.get(X,K):(this.set(X,K,ce),void 0!==ce?ce:K)},remove:function(X,K){var ce,ge=X[this.expando];if(void 0!==ge){if(void 0!==K)for((ce=(K=Array.isArray(K)?K.map(Fe):(K=Fe(K))in ge?[K]:K.match(de)||[]).length);ce--;)delete ge[K[ce]];(void 0===K||N.isEmptyObject(ge))&&(X.nodeType?X[this.expando]=void 0:delete X[this.expando])}},hasData:function(X){var K=X[this.expando];return void 0!==K&&!N.isEmptyObject(K)}};var Be=new He,Ye=new He,dt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Ke=/[A-Z]/g;function ht(X,K,ce){var ge;if(void 0===ce&&1===X.nodeType)if(ge="data-"+K.replace(Ke,"-$&").toLowerCase(),"string"==typeof(ce=X.getAttribute(ge))){try{ce=function tt(X){return"true"===X||"false"!==X&&("null"===X?null:X===+X+""?+X:dt.test(X)?JSON.parse(X):X)}(ce)}catch{}Ye.set(X,K,ce)}else ce=void 0;return ce}N.extend({hasData:function(X){return Ye.hasData(X)||Be.hasData(X)},data:function(X,K,ce){return Ye.access(X,K,ce)},removeData:function(X,K){Ye.remove(X,K)},_data:function(X,K,ce){return Be.access(X,K,ce)},_removeData:function(X,K){Be.remove(X,K)}}),N.fn.extend({data:function(X,K){var ce,ge,ve,we=this[0],Te=we&&we.attributes;if(void 0===X){if(this.length&&(ve=Ye.get(we),1===we.nodeType&&!Be.get(we,"hasDataAttrs"))){for(ce=Te.length;ce--;)Te[ce]&&0===(ge=Te[ce].name).indexOf("data-")&&(ge=Fe(ge.slice(5)),ht(we,ge,ve[ge]));Be.set(we,"hasDataAttrs",!0)}return ve}return"object"==typeof X?this.each(function(){Ye.set(this,X)}):Le(this,function(Re){var Ee;if(we&&void 0===Re)return void 0!==(Ee=Ye.get(we,X))||void 0!==(Ee=ht(we,X))?Ee:void 0;this.each(function(){Ye.set(this,X,Re)})},null,K,arguments.length>1,null,!0)},removeData:function(X){return this.each(function(){Ye.remove(this,X)})}}),N.extend({queue:function(X,K,ce){var ge;if(X)return ge=Be.get(X,K=(K||"fx")+"queue"),ce&&(!ge||Array.isArray(ce)?ge=Be.access(X,K,N.makeArray(ce)):ge.push(ce)),ge||[]},dequeue:function(X,K){var ce=N.queue(X,K=K||"fx"),ge=ce.length,ve=ce.shift(),we=N._queueHooks(X,K);"inprogress"===ve&&(ve=ce.shift(),ge--),ve&&("fx"===K&&ce.unshift("inprogress"),delete we.stop,ve.call(X,function(){N.dequeue(X,K)},we)),!ge&&we&&we.empty.fire()},_queueHooks:function(X,K){var ce=K+"queueHooks";return Be.get(X,ce)||Be.access(X,ce,{empty:N.Callbacks("once memory").add(function(){Be.remove(X,[K+"queue",ce])})})}}),N.fn.extend({queue:function(X,K){var ce=2;return"string"!=typeof X&&(K=X,X="fx",ce--),arguments.length<ce?N.queue(this[0],X):void 0===K?this:this.each(function(){var ge=N.queue(this,X,K);N._queueHooks(this,X),"fx"===X&&"inprogress"!==ge[0]&&N.dequeue(this,X)})},dequeue:function(X){return this.each(function(){N.dequeue(this,X)})},clearQueue:function(X){return this.queue(X||"fx",[])},promise:function(X,K){var ce,ge=1,ve=N.Deferred(),we=this,Te=this.length,Re=function(){--ge||ve.resolveWith(we,[we])};for("string"!=typeof X&&(K=X,X=void 0),X=X||"fx";Te--;)(ce=Be.get(we[Te],X+"queueHooks"))&&ce.empty&&(ge++,ce.empty.add(Re));return Re(),ve.promise(K)}});var nt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ct=new RegExp("^(?:([+-])=|)("+nt+")([a-z%]*)$","i"),yt=["Top","Right","Bottom","Left"],Dt=I.documentElement,wt=function(X){return N.contains(X.ownerDocument,X)},Mt={composed:!0};Dt.getRootNode&&(wt=function(X){return N.contains(X.ownerDocument,X)||X.getRootNode(Mt)===X.ownerDocument});var bt=function(X,K){return"none"===(X=K||X).style.display||""===X.style.display&&wt(X)&&"none"===N.css(X,"display")};function Pt(X,K,ce,ge){var ve,we,Te=20,Re=ge?function(){return ge.cur()}:function(){return N.css(X,K,"")},Ee=Re(),Xe=ce&&ce[3]||(N.cssNumber[K]?"":"px"),Ue=X.nodeType&&(N.cssNumber[K]||"px"!==Xe&&+Ee)&&Ct.exec(N.css(X,K));if(Ue&&Ue[3]!==Xe){for(Xe=Xe||Ue[3],Ue=+(Ee/=2)||1;Te--;)N.style(X,K,Ue+Xe),(1-we)*(1-(we=Re()/Ee||.5))<=0&&(Te=0),Ue/=we;N.style(X,K,(Ue*=2)+Xe),ce=ce||[]}return ce&&(Ue=+Ue||+Ee||0,ve=ce[1]?Ue+(ce[1]+1)*ce[2]:+ce[2],ge&&(ge.unit=Xe,ge.start=Ue,ge.end=ve)),ve}var jt={};function kt(X){var K,ce=X.ownerDocument,ge=X.nodeName,ve=jt[ge];return ve||(K=ce.body.appendChild(ce.createElement(ge)),ve=N.css(K,"display"),K.parentNode.removeChild(K),"none"===ve&&(ve="block"),jt[ge]=ve,ve)}function mt(X,K){for(var ce,ge,ve=[],we=0,Te=X.length;we<Te;we++)(ge=X[we]).style&&(ce=ge.style.display,K?("none"===ce&&(ve[we]=Be.get(ge,"display")||null,ve[we]||(ge.style.display="")),""===ge.style.display&&bt(ge)&&(ve[we]=kt(ge))):"none"!==ce&&(ve[we]="none",Be.set(ge,"display",ce)));for(we=0;we<Te;we++)null!=ve[we]&&(X[we].style.display=ve[we]);return X}N.fn.extend({show:function(){return mt(this,!0)},hide:function(){return mt(this)},toggle:function(X){return"boolean"==typeof X?X?this.show():this.hide():this.each(function(){bt(this)?N(this).show():N(this).hide()})}});var K,ce,Tt=/^(?:checkbox|radio)$/i,Zt=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,pt=/^$|^module$|\/(?:java|ecma)script/i;K=I.createDocumentFragment().appendChild(I.createElement("div")),(ce=I.createElement("input")).setAttribute("type","radio"),ce.setAttribute("checked","checked"),ce.setAttribute("name","t"),K.appendChild(ce),T.checkClone=K.cloneNode(!0).cloneNode(!0).lastChild.checked,K.innerHTML="<textarea>x</textarea>",T.noCloneChecked=!!K.cloneNode(!0).lastChild.defaultValue,K.innerHTML="<option></option>",T.option=!!K.lastChild;var Et={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function At(X,K){var ce;return ce=typeof X.getElementsByTagName<"u"?X.getElementsByTagName(K||"*"):typeof X.querySelectorAll<"u"?X.querySelectorAll(K||"*"):[],void 0===K||K&&J(X,K)?N.merge([X],ce):ce}function vi(X,K){for(var ce=0,ge=X.length;ce<ge;ce++)Be.set(X[ce],"globalEval",!K||Be.get(K[ce],"globalEval"))}Et.tbody=Et.tfoot=Et.colgroup=Et.caption=Et.thead,Et.th=Et.td,T.option||(Et.optgroup=Et.option=[1,"<select multiple='multiple'>","</select>"]);var Ai=/<|&#?\w+;/;function lt(X,K,ce,ge,ve){for(var we,Te,Re,Ee,Xe,Ue,st=K.createDocumentFragment(),qe=[],Qe=0,Nt=X.length;Qe<Nt;Qe++)if((we=X[Qe])||0===we)if("object"===F(we))N.merge(qe,we.nodeType?[we]:we);else if(Ai.test(we)){for(Te=Te||st.appendChild(K.createElement("div")),Re=(Zt.exec(we)||["",""])[1].toLowerCase(),Te.innerHTML=(Ee=Et[Re]||Et._default)[1]+N.htmlPrefilter(we)+Ee[2],Ue=Ee[0];Ue--;)Te=Te.lastChild;N.merge(qe,Te.childNodes),(Te=st.firstChild).textContent=""}else qe.push(K.createTextNode(we));for(st.textContent="",Qe=0;we=qe[Qe++];)if(ge&&N.inArray(we,ge)>-1)ve&&ve.push(we);else if(Xe=wt(we),Te=At(st.appendChild(we),"script"),Xe&&vi(Te),ce)for(Ue=0;we=Te[Ue++];)pt.test(we.type||"")&&ce.push(we);return st}var ls=/^([^.]*)(?:\.(.+)|)/;function Yi(){return!0}function wi(){return!1}function Lt(X,K,ce,ge,ve,we){var Te,Re;if("object"==typeof K){for(Re in"string"!=typeof ce&&(ge=ge||ce,ce=void 0),K)Lt(X,Re,ce,ge,K[Re],we);return X}if(null==ge&&null==ve?(ve=ce,ge=ce=void 0):null==ve&&("string"==typeof ce?(ve=ge,ge=void 0):(ve=ge,ge=ce,ce=void 0)),!1===ve)ve=wi;else if(!ve)return X;return 1===we&&(Te=ve,ve=function(Ee){return N().off(Ee),Te.apply(this,arguments)},ve.guid=Te.guid||(Te.guid=N.guid++)),X.each(function(){N.event.add(this,K,ve,ge,ce)})}function ot(X,K,ce){ce?(Be.set(X,K,!1),N.event.add(X,K,{namespace:!1,handler:function(ge){var ve,we=Be.get(this,K);if(1&ge.isTrigger&&this[K]){if(we)(N.event.special[K]||{}).delegateType&&ge.stopPropagation();else if(we=s.call(arguments),Be.set(this,K,we),this[K](),ve=Be.get(this,K),Be.set(this,K,!1),we!==ve)return ge.stopImmediatePropagation(),ge.preventDefault(),ve}else we&&(Be.set(this,K,N.event.trigger(we[0],we.slice(1),this)),ge.stopPropagation(),ge.isImmediatePropagationStopped=Yi)}})):void 0===Be.get(X,K)&&N.event.add(X,K,Yi)}N.event={global:{},add:function(X,K,ce,ge,ve){var we,Te,Re,Ee,Xe,Ue,st,qe,Qe,Nt,Jt,Wt=Be.get(X);if($e(X))for(ce.handler&&(ce=(we=ce).handler,ve=we.selector),ve&&N.find.matchesSelector(Dt,ve),ce.guid||(ce.guid=N.guid++),(Ee=Wt.events)||(Ee=Wt.events=Object.create(null)),(Te=Wt.handle)||(Te=Wt.handle=function(Ni){return typeof N<"u"&&N.event.triggered!==Ni.type?N.event.dispatch.apply(X,arguments):void 0}),Xe=(K=(K||"").match(de)||[""]).length;Xe--;)Qe=Jt=(Re=ls.exec(K[Xe])||[])[1],Nt=(Re[2]||"").split(".").sort(),Qe&&(st=N.event.special[Qe]||{},st=N.event.special[Qe=(ve?st.delegateType:st.bindType)||Qe]||{},Ue=N.extend({type:Qe,origType:Jt,data:ge,handler:ce,guid:ce.guid,selector:ve,needsContext:ve&&N.expr.match.needsContext.test(ve),namespace:Nt.join(".")},we),(qe=Ee[Qe])||((qe=Ee[Qe]=[]).delegateCount=0,(!st.setup||!1===st.setup.call(X,ge,Nt,Te))&&X.addEventListener&&X.addEventListener(Qe,Te)),st.add&&(st.add.call(X,Ue),Ue.handler.guid||(Ue.handler.guid=ce.guid)),ve?qe.splice(qe.delegateCount++,0,Ue):qe.push(Ue),N.event.global[Qe]=!0)},remove:function(X,K,ce,ge,ve){var we,Te,Re,Ee,Xe,Ue,st,qe,Qe,Nt,Jt,Wt=Be.hasData(X)&&Be.get(X);if(Wt&&(Ee=Wt.events)){for(Xe=(K=(K||"").match(de)||[""]).length;Xe--;)if(Qe=Jt=(Re=ls.exec(K[Xe])||[])[1],Nt=(Re[2]||"").split(".").sort(),Qe){for(st=N.event.special[Qe]||{},qe=Ee[Qe=(ge?st.delegateType:st.bindType)||Qe]||[],Re=Re[2]&&new RegExp("(^|\\.)"+Nt.join("\\.(?:.*\\.|)")+"(\\.|$)"),Te=we=qe.length;we--;)Ue=qe[we],(ve||Jt===Ue.origType)&&(!ce||ce.guid===Ue.guid)&&(!Re||Re.test(Ue.namespace))&&(!ge||ge===Ue.selector||"**"===ge&&Ue.selector)&&(qe.splice(we,1),Ue.selector&&qe.delegateCount--,st.remove&&st.remove.call(X,Ue));Te&&!qe.length&&((!st.teardown||!1===st.teardown.call(X,Nt,Wt.handle))&&N.removeEvent(X,Qe,Wt.handle),delete Ee[Qe])}else for(Qe in Ee)N.event.remove(X,Qe+K[Xe],ce,ge,!0);N.isEmptyObject(Ee)&&Be.remove(X,"handle events")}},dispatch:function(X){var K,ce,ge,ve,we,Te,Re=new Array(arguments.length),Ee=N.event.fix(X),Xe=(Be.get(this,"events")||Object.create(null))[Ee.type]||[],Ue=N.event.special[Ee.type]||{};for(Re[0]=Ee,K=1;K<arguments.length;K++)Re[K]=arguments[K];if(Ee.delegateTarget=this,!Ue.preDispatch||!1!==Ue.preDispatch.call(this,Ee)){for(Te=N.event.handlers.call(this,Ee,Xe),K=0;(ve=Te[K++])&&!Ee.isPropagationStopped();)for(Ee.currentTarget=ve.elem,ce=0;(we=ve.handlers[ce++])&&!Ee.isImmediatePropagationStopped();)(!Ee.rnamespace||!1===we.namespace||Ee.rnamespace.test(we.namespace))&&(Ee.handleObj=we,Ee.data=we.data,void 0!==(ge=((N.event.special[we.origType]||{}).handle||we.handler).apply(ve.elem,Re))&&!1===(Ee.result=ge)&&(Ee.preventDefault(),Ee.stopPropagation()));return Ue.postDispatch&&Ue.postDispatch.call(this,Ee),Ee.result}},handlers:function(X,K){var ce,ge,ve,we,Te,Re=[],Ee=K.delegateCount,Xe=X.target;if(Ee&&Xe.nodeType&&!("click"===X.type&&X.button>=1))for(;Xe!==this;Xe=Xe.parentNode||this)if(1===Xe.nodeType&&("click"!==X.type||!0!==Xe.disabled)){for(we=[],Te={},ce=0;ce<Ee;ce++)void 0===Te[ve=(ge=K[ce]).selector+" "]&&(Te[ve]=ge.needsContext?N(ve,this).index(Xe)>-1:N.find(ve,this,null,[Xe]).length),Te[ve]&&we.push(ge);we.length&&Re.push({elem:Xe,handlers:we})}return Xe=this,Ee<K.length&&Re.push({elem:Xe,handlers:K.slice(Ee)}),Re},addProp:function(X,K){Object.defineProperty(N.Event.prototype,X,{enumerable:!0,configurable:!0,get:D(K)?function(){if(this.originalEvent)return K(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[X]},set:function(ce){Object.defineProperty(this,X,{enumerable:!0,configurable:!0,writable:!0,value:ce})}})},fix:function(X){return X[N.expando]?X:new N.Event(X)},special:{load:{noBubble:!0},click:{setup:function(X){var K=this||X;return Tt.test(K.type)&&K.click&&J(K,"input")&&ot(K,"click",!0),!1},trigger:function(X){var K=this||X;return Tt.test(K.type)&&K.click&&J(K,"input")&&ot(K,"click"),!0},_default:function(X){var K=X.target;return Tt.test(K.type)&&K.click&&J(K,"input")&&Be.get(K,"click")||J(K,"a")}},beforeunload:{postDispatch:function(X){void 0!==X.result&&X.originalEvent&&(X.originalEvent.returnValue=X.result)}}}},N.removeEvent=function(X,K,ce){X.removeEventListener&&X.removeEventListener(K,ce)},N.Event=function(X,K){if(!(this instanceof N.Event))return new N.Event(X,K);X&&X.type?(this.originalEvent=X,this.type=X.type,this.isDefaultPrevented=X.defaultPrevented||void 0===X.defaultPrevented&&!1===X.returnValue?Yi:wi,this.target=X.target&&3===X.target.nodeType?X.target.parentNode:X.target,this.currentTarget=X.currentTarget,this.relatedTarget=X.relatedTarget):this.type=X,K&&N.extend(this,K),this.timeStamp=X&&X.timeStamp||Date.now(),this[N.expando]=!0},N.Event.prototype={constructor:N.Event,isDefaultPrevented:wi,isPropagationStopped:wi,isImmediatePropagationStopped:wi,isSimulated:!1,preventDefault:function(){var X=this.originalEvent;this.isDefaultPrevented=Yi,X&&!this.isSimulated&&X.preventDefault()},stopPropagation:function(){var X=this.originalEvent;this.isPropagationStopped=Yi,X&&!this.isSimulated&&X.stopPropagation()},stopImmediatePropagation:function(){var X=this.originalEvent;this.isImmediatePropagationStopped=Yi,X&&!this.isSimulated&&X.stopImmediatePropagation(),this.stopPropagation()}},N.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},N.event.addProp),N.each({focus:"focusin",blur:"focusout"},function(X,K){function ce(ge){if(I.documentMode){var ve=Be.get(this,"handle"),we=N.event.fix(ge);we.type="focusin"===ge.type?"focus":"blur",we.isSimulated=!0,ve(ge),we.target===we.currentTarget&&ve(we)}else N.event.simulate(K,ge.target,N.event.fix(ge))}N.event.special[X]={setup:function(){var ge;if(ot(this,X,!0),!I.documentMode)return!1;(ge=Be.get(this,K))||this.addEventListener(K,ce),Be.set(this,K,(ge||0)+1)},trigger:function(){return ot(this,X),!0},teardown:function(){var ge;if(!I.documentMode)return!1;(ge=Be.get(this,K)-1)?Be.set(this,K,ge):(this.removeEventListener(K,ce),Be.remove(this,K))},_default:function(ge){return Be.get(ge.target,X)},delegateType:K},N.event.special[K]={setup:function(){var ge=this.ownerDocument||this.document||this,ve=I.documentMode?this:ge,we=Be.get(ve,K);we||(I.documentMode?this.addEventListener(K,ce):ge.addEventListener(X,ce,!0)),Be.set(ve,K,(we||0)+1)},teardown:function(){var ge=this.ownerDocument||this.document||this,ve=I.documentMode?this:ge,we=Be.get(ve,K)-1;we?Be.set(ve,K,we):(I.documentMode?this.removeEventListener(K,ce):ge.removeEventListener(X,ce,!0),Be.remove(ve,K))}}}),N.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(X,K){N.event.special[X]={delegateType:K,bindType:K,handle:function(ce){var ge,we=ce.relatedTarget,Te=ce.handleObj;return(!we||we!==this&&!N.contains(this,we))&&(ce.type=Te.origType,ge=Te.handler.apply(this,arguments),ce.type=K),ge}}}),N.fn.extend({on:function(X,K,ce,ge){return Lt(this,X,K,ce,ge)},one:function(X,K,ce,ge){return Lt(this,X,K,ce,ge,1)},off:function(X,K,ce){var ge,ve;if(X&&X.preventDefault&&X.handleObj)return ge=X.handleObj,N(X.delegateTarget).off(ge.namespace?ge.origType+"."+ge.namespace:ge.origType,ge.selector,ge.handler),this;if("object"==typeof X){for(ve in X)this.off(ve,K,X[ve]);return this}return(!1===K||"function"==typeof K)&&(ce=K,K=void 0),!1===ce&&(ce=wi),this.each(function(){N.event.remove(this,X,ce,K)})}});var Xi=/<script|<style|<link/i,gs=/checked\s*(?:[^=]|=\s*.checked.)/i,gt=/^\s*<!\[CDATA\[|\]\]>\s*$/g;function hi(X,K){return J(X,"table")&&J(11!==K.nodeType?K:K.firstChild,"tr")&&N(X).children("tbody")[0]||X}function es(X){return X.type=(null!==X.getAttribute("type"))+"/"+X.type,X}function gi(X){return"true/"===(X.type||"").slice(0,5)?X.type=X.type.slice(5):X.removeAttribute("type"),X}function Ht(X,K){var ce,ge,ve,Te,Re,Ee;if(1===K.nodeType){if(Be.hasData(X)&&(Ee=Be.get(X).events))for(ve in Be.remove(K,"handle events"),Ee)for(ce=0,ge=Ee[ve].length;ce<ge;ce++)N.event.add(K,ve,Ee[ve][ce]);Ye.hasData(X)&&(Te=Ye.access(X),Re=N.extend({},Te),Ye.set(K,Re))}}function ds(X,K){var ce=K.nodeName.toLowerCase();"input"===ce&&Tt.test(X.type)?K.checked=X.checked:("input"===ce||"textarea"===ce)&&(K.defaultValue=X.defaultValue)}function Ei(X,K,ce,ge){K=h(K);var ve,we,Te,Re,Ee,Xe,Ue=0,st=X.length,qe=st-1,Qe=K[0],Nt=D(Qe);if(Nt||st>1&&"string"==typeof Qe&&!T.checkClone&&gs.test(Qe))return X.each(function(Jt){var Wt=X.eq(Jt);Nt&&(K[0]=Qe.call(this,Jt,Wt.html())),Ei(Wt,K,ce,ge)});if(st&&(we=(ve=lt(K,X[0].ownerDocument,!1,X,ge)).firstChild,1===ve.childNodes.length&&(ve=we),we||ge)){for(Re=(Te=N.map(At(ve,"script"),es)).length;Ue<st;Ue++)Ee=ve,Ue!==qe&&(Ee=N.clone(Ee,!0,!0),Re&&N.merge(Te,At(Ee,"script"))),ce.call(X[Ue],Ee,Ue);if(Re)for(Xe=Te[Te.length-1].ownerDocument,N.map(Te,gi),Ue=0;Ue<Re;Ue++)pt.test((Ee=Te[Ue]).type||"")&&!Be.access(Ee,"globalEval")&&N.contains(Xe,Ee)&&(Ee.src&&"module"!==(Ee.type||"").toLowerCase()?N._evalUrl&&!Ee.noModule&&N._evalUrl(Ee.src,{nonce:Ee.nonce||Ee.getAttribute("nonce")},Xe):V(Ee.textContent.replace(gt,""),Ee,Xe))}return X}function Zi(X,K,ce){for(var ge,ve=K?N.filter(K,X):X,we=0;null!=(ge=ve[we]);we++)!ce&&1===ge.nodeType&&N.cleanData(At(ge)),ge.parentNode&&(ce&&wt(ge)&&vi(At(ge,"script")),ge.parentNode.removeChild(ge));return X}N.extend({htmlPrefilter:function(X){return X},clone:function(X,K,ce){var ge,ve,we,Te,Re=X.cloneNode(!0),Ee=wt(X);if(!(T.noCloneChecked||1!==X.nodeType&&11!==X.nodeType||N.isXMLDoc(X)))for(Te=At(Re),ge=0,ve=(we=At(X)).length;ge<ve;ge++)ds(we[ge],Te[ge]);if(K)if(ce)for(we=we||At(X),Te=Te||At(Re),ge=0,ve=we.length;ge<ve;ge++)Ht(we[ge],Te[ge]);else Ht(X,Re);return(Te=At(Re,"script")).length>0&&vi(Te,!Ee&&At(X,"script")),Re},cleanData:function(X){for(var K,ce,ge,ve=N.event.special,we=0;void 0!==(ce=X[we]);we++)if($e(ce)){if(K=ce[Be.expando]){if(K.events)for(ge in K.events)ve[ge]?N.event.remove(ce,ge):N.removeEvent(ce,ge,K.handle);ce[Be.expando]=void 0}ce[Ye.expando]&&(ce[Ye.expando]=void 0)}}}),N.fn.extend({detach:function(X){return Zi(this,X,!0)},remove:function(X){return Zi(this,X)},text:function(X){return Le(this,function(K){return void 0===K?N.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=K)})},null,X,arguments.length)},append:function(){return Ei(this,arguments,function(X){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||hi(this,X).appendChild(X)})},prepend:function(){return Ei(this,arguments,function(X){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var K=hi(this,X);K.insertBefore(X,K.firstChild)}})},before:function(){return Ei(this,arguments,function(X){this.parentNode&&this.parentNode.insertBefore(X,this)})},after:function(){return Ei(this,arguments,function(X){this.parentNode&&this.parentNode.insertBefore(X,this.nextSibling)})},empty:function(){for(var X,K=0;null!=(X=this[K]);K++)1===X.nodeType&&(N.cleanData(At(X,!1)),X.textContent="");return this},clone:function(X,K){return X=X??!1,K=K??X,this.map(function(){return N.clone(this,X,K)})},html:function(X){return Le(this,function(K){var ce=this[0]||{},ge=0,ve=this.length;if(void 0===K&&1===ce.nodeType)return ce.innerHTML;if("string"==typeof K&&!Xi.test(K)&&!Et[(Zt.exec(K)||["",""])[1].toLowerCase()]){K=N.htmlPrefilter(K);try{for(;ge<ve;ge++)1===(ce=this[ge]||{}).nodeType&&(N.cleanData(At(ce,!1)),ce.innerHTML=K);ce=0}catch{}}ce&&this.empty().append(K)},null,X,arguments.length)},replaceWith:function(){var X=[];return Ei(this,arguments,function(K){var ce=this.parentNode;N.inArray(this,X)<0&&(N.cleanData(At(this)),ce&&ce.replaceChild(K,this))},X)}}),N.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(X,K){N.fn[X]=function(ce){for(var ge,ve=[],we=N(ce),Te=we.length-1,Re=0;Re<=Te;Re++)ge=Re===Te?this:this.clone(!0),N(we[Re])[K](ge),t.apply(ve,ge.get());return this.pushStack(ve)}});var fi=new RegExp("^("+nt+")(?!px)[a-z%]+$","i"),$i=/^--/,Qi=function(X){var K=X.ownerDocument.defaultView;return(!K||!K.opener)&&(K=_),K.getComputedStyle(X)},ao=function(X,K,ce){var ge,ve,we={};for(ve in K)we[ve]=X.style[ve],X.style[ve]=K[ve];for(ve in ge=ce.call(X),K)X.style[ve]=we[ve];return ge},Gs=new RegExp(yt.join("|"),"i");function Fs(X,K,ce){var ge,ve,we,Te,Re=$i.test(K),Ee=X.style;return(ce=ce||Qi(X))&&(Te=ce.getPropertyValue(K)||ce[K],Re&&Te&&(Te=Te.replace(ne,"$1")||void 0),""===Te&&!wt(X)&&(Te=N.style(X,K)),!T.pixelBoxStyles()&&fi.test(Te)&&Gs.test(K)&&(ge=Ee.width,ve=Ee.minWidth,we=Ee.maxWidth,Ee.minWidth=Ee.maxWidth=Ee.width=Te,Te=ce.width,Ee.width=ge,Ee.minWidth=ve,Ee.maxWidth=we)),void 0!==Te?Te+"":Te}function ro(X,K){return{get:function(){if(!X())return(this.get=K).apply(this,arguments);delete this.get}}}!function(){function X(){if(Xe){Ee.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",Xe.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",Dt.appendChild(Ee).appendChild(Xe);var Ue=_.getComputedStyle(Xe);ce="1%"!==Ue.top,Re=12===K(Ue.marginLeft),Xe.style.right="60%",we=36===K(Ue.right),ge=36===K(Ue.width),Xe.style.position="absolute",ve=12===K(Xe.offsetWidth/3),Dt.removeChild(Ee),Xe=null}}function K(Ue){return Math.round(parseFloat(Ue))}var ce,ge,ve,we,Te,Re,Ee=I.createElement("div"),Xe=I.createElement("div");Xe.style&&(Xe.style.backgroundClip="content-box",Xe.cloneNode(!0).style.backgroundClip="",T.clearCloneStyle="content-box"===Xe.style.backgroundClip,N.extend(T,{boxSizingReliable:function(){return X(),ge},pixelBoxStyles:function(){return X(),we},pixelPosition:function(){return X(),ce},reliableMarginLeft:function(){return X(),Re},scrollboxSize:function(){return X(),ve},reliableTrDimensions:function(){var Ue,st,qe,Qe;return null==Te&&(Ue=I.createElement("table"),st=I.createElement("tr"),qe=I.createElement("div"),Ue.style.cssText="position:absolute;left:-11111px;border-collapse:separate",st.style.cssText="box-sizing:content-box;border:1px solid",st.style.height="1px",qe.style.height="9px",qe.style.display="block",Dt.appendChild(Ue).appendChild(st).appendChild(qe),Qe=_.getComputedStyle(st),Te=parseInt(Qe.height,10)+parseInt(Qe.borderTopWidth,10)+parseInt(Qe.borderBottomWidth,10)===st.offsetHeight,Dt.removeChild(Ue)),Te}}))}();var Bs=["Webkit","Moz","ms"],zs=I.createElement("div").style,Ls={};function Di(X){return N.cssProps[X]||Ls[X]||(X in zs?X:Ls[X]=function Eo(X){for(var K=X[0].toUpperCase()+X.slice(1),ce=Bs.length;ce--;)if((X=Bs[ce]+K)in zs)return X}(X)||X)}var Ii=/^(none|table(?!-c[ea]).+)/,xo={position:"absolute",visibility:"hidden",display:"block"},Qo={letterSpacing:"0",fontWeight:"400"};function fa(X,K,ce){var ge=Ct.exec(K);return ge?Math.max(0,ge[2]-(ce||0))+(ge[3]||"px"):K}function Yr(X,K,ce,ge,ve,we){var Te="width"===K?1:0,Re=0,Ee=0,Xe=0;if(ce===(ge?"border":"content"))return 0;for(;Te<4;Te+=2)"margin"===ce&&(Xe+=N.css(X,ce+yt[Te],!0,ve)),ge?("content"===ce&&(Ee-=N.css(X,"padding"+yt[Te],!0,ve)),"margin"!==ce&&(Ee-=N.css(X,"border"+yt[Te]+"Width",!0,ve))):(Ee+=N.css(X,"padding"+yt[Te],!0,ve),"padding"!==ce?Ee+=N.css(X,"border"+yt[Te]+"Width",!0,ve):Re+=N.css(X,"border"+yt[Te]+"Width",!0,ve));return!ge&&we>=0&&(Ee+=Math.max(0,Math.ceil(X["offset"+K[0].toUpperCase()+K.slice(1)]-we-Ee-Re-.5))||0),Ee+Xe}function Xr(X,K,ce){var ge=Qi(X),we=(!T.boxSizingReliable()||ce)&&"border-box"===N.css(X,"boxSizing",!1,ge),Te=we,Re=Fs(X,K,ge),Ee="offset"+K[0].toUpperCase()+K.slice(1);if(fi.test(Re)){if(!ce)return Re;Re="auto"}return(!T.boxSizingReliable()&&we||!T.reliableTrDimensions()&&J(X,"tr")||"auto"===Re||!parseFloat(Re)&&"inline"===N.css(X,"display",!1,ge))&&X.getClientRects().length&&(we="border-box"===N.css(X,"boxSizing",!1,ge),(Te=Ee in X)&&(Re=X[Ee])),(Re=parseFloat(Re)||0)+Yr(X,K,ce||(we?"border":"content"),Te,ge,Re)+"px"}function ts(X,K,ce,ge,ve){return new ts.prototype.init(X,K,ce,ge,ve)}N.extend({cssHooks:{opacity:{get:function(X,K){if(K){var ce=Fs(X,"opacity");return""===ce?"1":ce}}}},cssNumber:{animationIterationCount:!0,aspectRatio:!0,borderImageSlice:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,scale:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeMiterlimit:!0,strokeOpacity:!0},cssProps:{},style:function(X,K,ce,ge){if(X&&3!==X.nodeType&&8!==X.nodeType&&X.style){var ve,we,Te,Re=Fe(K),Ee=$i.test(K),Xe=X.style;if(Ee||(K=Di(Re)),Te=N.cssHooks[K]||N.cssHooks[Re],void 0===ce)return Te&&"get"in Te&&void 0!==(ve=Te.get(X,!1,ge))?ve:Xe[K];if("string"==(we=typeof ce)&&(ve=Ct.exec(ce))&&ve[1]&&(ce=Pt(X,K,ve),we="number"),null==ce||ce!=ce)return;"number"===we&&!Ee&&(ce+=ve&&ve[3]||(N.cssNumber[Re]?"":"px")),!T.clearCloneStyle&&""===ce&&0===K.indexOf("background")&&(Xe[K]="inherit"),(!Te||!("set"in Te)||void 0!==(ce=Te.set(X,ce,ge)))&&(Ee?Xe.setProperty(K,ce):Xe[K]=ce)}},css:function(X,K,ce,ge){var ve,we,Te,Re=Fe(K);return $i.test(K)||(K=Di(Re)),(Te=N.cssHooks[K]||N.cssHooks[Re])&&"get"in Te&&(ve=Te.get(X,!0,ce)),void 0===ve&&(ve=Fs(X,K,ge)),"normal"===ve&&K in Qo&&(ve=Qo[K]),""===ce||ce?(we=parseFloat(ve),!0===ce||isFinite(we)?we||0:ve):ve}}),N.each(["height","width"],function(X,K){N.cssHooks[K]={get:function(ce,ge,ve){if(ge)return!Ii.test(N.css(ce,"display"))||ce.getClientRects().length&&ce.getBoundingClientRect().width?Xr(ce,K,ve):ao(ce,xo,function(){return Xr(ce,K,ve)})},set:function(ce,ge,ve){var we,Te=Qi(ce),Re=!T.scrollboxSize()&&"absolute"===Te.position,Xe=(Re||ve)&&"border-box"===N.css(ce,"boxSizing",!1,Te),Ue=ve?Yr(ce,K,ve,Xe,Te):0;return Xe&&Re&&(Ue-=Math.ceil(ce["offset"+K[0].toUpperCase()+K.slice(1)]-parseFloat(Te[K])-Yr(ce,K,"border",!1,Te)-.5)),Ue&&(we=Ct.exec(ge))&&"px"!==(we[3]||"px")&&(ce.style[K]=ge,ge=N.css(ce,K)),fa(0,ge,Ue)}}}),N.cssHooks.marginLeft=ro(T.reliableMarginLeft,function(X,K){if(K)return(parseFloat(Fs(X,"marginLeft"))||X.getBoundingClientRect().left-ao(X,{marginLeft:0},function(){return X.getBoundingClientRect().left}))+"px"}),N.each({margin:"",padding:"",border:"Width"},function(X,K){N.cssHooks[X+K]={expand:function(ce){for(var ge=0,ve={},we="string"==typeof ce?ce.split(" "):[ce];ge<4;ge++)ve[X+yt[ge]+K]=we[ge]||we[ge-2]||we[0];return ve}},"margin"!==X&&(N.cssHooks[X+K].set=fa)}),N.fn.extend({css:function(X,K){return Le(this,function(ce,ge,ve){var we,Te,Re={},Ee=0;if(Array.isArray(ge)){for(we=Qi(ce),Te=ge.length;Ee<Te;Ee++)Re[ge[Ee]]=N.css(ce,ge[Ee],!1,we);return Re}return void 0!==ve?N.style(ce,ge,ve):N.css(ce,ge)},X,K,arguments.length>1)}}),N.Tween=ts,ts.prototype={constructor:ts,init:function(X,K,ce,ge,ve,we){this.elem=X,this.prop=ce,this.easing=ve||N.easing._default,this.options=K,this.start=this.now=this.cur(),this.end=ge,this.unit=we||(N.cssNumber[ce]?"":"px")},cur:function(){var X=ts.propHooks[this.prop];return X&&X.get?X.get(this):ts.propHooks._default.get(this)},run:function(X){var K,ce=ts.propHooks[this.prop];return this.pos=K=this.options.duration?N.easing[this.easing](X,this.options.duration*X,0,1,this.options.duration):X,this.now=(this.end-this.start)*K+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),ce&&ce.set?ce.set(this):ts.propHooks._default.set(this),this}},ts.prototype.init.prototype=ts.prototype,ts.propHooks={_default:{get:function(X){var K;return 1!==X.elem.nodeType||null!=X.elem[X.prop]&&null==X.elem.style[X.prop]?X.elem[X.prop]:(K=N.css(X.elem,X.prop,""))&&"auto"!==K?K:0},set:function(X){N.fx.step[X.prop]?N.fx.step[X.prop](X):1!==X.elem.nodeType||!N.cssHooks[X.prop]&&null==X.elem.style[Di(X.prop)]?X.elem[X.prop]=X.now:N.style(X.elem,X.prop,X.now+X.unit)}}},ts.propHooks.scrollTop=ts.propHooks.scrollLeft={set:function(X){X.elem.nodeType&&X.elem.parentNode&&(X.elem[X.prop]=X.now)}},N.easing={linear:function(X){return X},swing:function(X){return.5-Math.cos(X*Math.PI)/2},_default:"swing"},N.fx=ts.prototype.init,N.fx.step={};var Ko,Oa,Gn=/^(?:toggle|show|hide)$/,Hr=/queueHooks$/;function Ma(){Oa&&(!1===I.hidden&&_.requestAnimationFrame?_.requestAnimationFrame(Ma):_.setTimeout(Ma,N.fx.interval),N.fx.tick())}function qn(){return _.setTimeout(function(){Ko=void 0}),Ko=Date.now()}function Ea(X,K){var ce,ge=0,ve={height:X};for(K=K?1:0;ge<4;ge+=2-K)ve["margin"+(ce=yt[ge])]=ve["padding"+ce]=X;return K&&(ve.opacity=ve.width=X),ve}function ci(X,K,ce){for(var ge,ve=(fs.tweeners[K]||[]).concat(fs.tweeners["*"]),we=0,Te=ve.length;we<Te;we++)if(ge=ve[we].call(ce,K,X))return ge}function fs(X,K,ce){var ge,ve,we=0,Te=fs.prefilters.length,Re=N.Deferred().always(function(){delete Ee.elem}),Ee=function(){if(ve)return!1;for(var st=Ko||qn(),qe=Math.max(0,Xe.startTime+Xe.duration-st),Nt=1-(qe/Xe.duration||0),Jt=0,Wt=Xe.tweens.length;Jt<Wt;Jt++)Xe.tweens[Jt].run(Nt);return Re.notifyWith(X,[Xe,Nt,qe]),Nt<1&&Wt?qe:(Wt||Re.notifyWith(X,[Xe,1,0]),Re.resolveWith(X,[Xe]),!1)},Xe=Re.promise({elem:X,props:N.extend({},K),opts:N.extend(!0,{specialEasing:{},easing:N.easing._default},ce),originalProperties:K,originalOptions:ce,startTime:Ko||qn(),duration:ce.duration,tweens:[],createTween:function(st,qe){var Qe=N.Tween(X,Xe.opts,st,qe,Xe.opts.specialEasing[st]||Xe.opts.easing);return Xe.tweens.push(Qe),Qe},stop:function(st){var qe=0,Qe=st?Xe.tweens.length:0;if(ve)return this;for(ve=!0;qe<Qe;qe++)Xe.tweens[qe].run(1);return st?(Re.notifyWith(X,[Xe,1,0]),Re.resolveWith(X,[Xe,st])):Re.rejectWith(X,[Xe,st]),this}}),Ue=Xe.props;for(function Ri(X,K){var ce,ge,ve,we,Te;for(ce in X)if(ve=K[ge=Fe(ce)],we=X[ce],Array.isArray(we)&&(ve=we[1],we=X[ce]=we[0]),ce!==ge&&(X[ge]=we,delete X[ce]),(Te=N.cssHooks[ge])&&"expand"in Te)for(ce in we=Te.expand(we),delete X[ge],we)ce in X||(X[ce]=we[ce],K[ce]=ve);else K[ge]=ve}(Ue,Xe.opts.specialEasing);we<Te;we++)if(ge=fs.prefilters[we].call(Xe,X,Ue,Xe.opts))return D(ge.stop)&&(N._queueHooks(Xe.elem,Xe.opts.queue).stop=ge.stop.bind(ge)),ge;return N.map(Ue,ci,Xe),D(Xe.opts.start)&&Xe.opts.start.call(X,Xe),Xe.progress(Xe.opts.progress).done(Xe.opts.done,Xe.opts.complete).fail(Xe.opts.fail).always(Xe.opts.always),N.fx.timer(N.extend(Ee,{elem:X,anim:Xe,queue:Xe.opts.queue})),Xe}N.Animation=N.extend(fs,{tweeners:{"*":[function(X,K){var ce=this.createTween(X,K);return Pt(ce.elem,X,Ct.exec(K),ce),ce}]},tweener:function(X,K){D(X)?(K=X,X=["*"]):X=X.match(de);for(var ce,ge=0,ve=X.length;ge<ve;ge++)(fs.tweeners[ce=X[ge]]=fs.tweeners[ce]||[]).unshift(K)},prefilters:[function Ra(X,K,ce){var ge,ve,we,Te,Re,Ee,Xe,Ue,st="width"in K||"height"in K,qe=this,Qe={},Nt=X.style,Jt=X.nodeType&&bt(X),Wt=Be.get(X,"fxshow");for(ge in ce.queue||(null==(Te=N._queueHooks(X,"fx")).unqueued&&(Te.unqueued=0,Re=Te.empty.fire,Te.empty.fire=function(){Te.unqueued||Re()}),Te.unqueued++,qe.always(function(){qe.always(function(){Te.unqueued--,N.queue(X,"fx").length||Te.empty.fire()})})),K)if(Gn.test(ve=K[ge])){if(delete K[ge],we=we||"toggle"===ve,ve===(Jt?"hide":"show")){if("show"!==ve||!Wt||void 0===Wt[ge])continue;Jt=!0}Qe[ge]=Wt&&Wt[ge]||N.style(X,ge)}if((Ee=!N.isEmptyObject(K))||!N.isEmptyObject(Qe))for(ge in st&&1===X.nodeType&&(ce.overflow=[Nt.overflow,Nt.overflowX,Nt.overflowY],null==(Xe=Wt&&Wt.display)&&(Xe=Be.get(X,"display")),"none"===(Ue=N.css(X,"display"))&&(Xe?Ue=Xe:(mt([X],!0),Xe=X.style.display||Xe,Ue=N.css(X,"display"),mt([X]))),("inline"===Ue||"inline-block"===Ue&&null!=Xe)&&"none"===N.css(X,"float")&&(Ee||(qe.done(function(){Nt.display=Xe}),null==Xe&&(Xe="none"===(Ue=Nt.display)?"":Ue)),Nt.display="inline-block")),ce.overflow&&(Nt.overflow="hidden",qe.always(function(){Nt.overflow=ce.overflow[0],Nt.overflowX=ce.overflow[1],Nt.overflowY=ce.overflow[2]})),Ee=!1,Qe)Ee||(Wt?"hidden"in Wt&&(Jt=Wt.hidden):Wt=Be.access(X,"fxshow",{display:Xe}),we&&(Wt.hidden=!Jt),Jt&&mt([X],!0),qe.done(function(){for(ge in Jt||mt([X]),Be.remove(X,"fxshow"),Qe)N.style(X,ge,Qe[ge])})),Ee=ci(Jt?Wt[ge]:0,ge,qe),ge in Wt||(Wt[ge]=Ee.start,Jt&&(Ee.end=Ee.start,Ee.start=0))}],prefilter:function(X,K){K?fs.prefilters.unshift(X):fs.prefilters.push(X)}}),N.speed=function(X,K,ce){var ge=X&&"object"==typeof X?N.extend({},X):{complete:ce||!ce&&K||D(X)&&X,duration:X,easing:ce&&K||K&&!D(K)&&K};return N.fx.off?ge.duration=0:"number"!=typeof ge.duration&&(ge.duration=ge.duration in N.fx.speeds?N.fx.speeds[ge.duration]:N.fx.speeds._default),(null==ge.queue||!0===ge.queue)&&(ge.queue="fx"),ge.old=ge.complete,ge.complete=function(){D(ge.old)&&ge.old.call(this),ge.queue&&N.dequeue(this,ge.queue)},ge},N.fn.extend({fadeTo:function(X,K,ce,ge){return this.filter(bt).css("opacity",0).show().end().animate({opacity:K},X,ce,ge)},animate:function(X,K,ce,ge){var ve=N.isEmptyObject(X),we=N.speed(K,ce,ge),Te=function(){var Re=fs(this,N.extend({},X),we);(ve||Be.get(this,"finish"))&&Re.stop(!0)};return Te.finish=Te,ve||!1===we.queue?this.each(Te):this.queue(we.queue,Te)},stop:function(X,K,ce){var ge=function(ve){var we=ve.stop;delete ve.stop,we(ce)};return"string"!=typeof X&&(ce=K,K=X,X=void 0),K&&this.queue(X||"fx",[]),this.each(function(){var ve=!0,we=null!=X&&X+"queueHooks",Te=N.timers,Re=Be.get(this);if(we)Re[we]&&Re[we].stop&&ge(Re[we]);else for(we in Re)Re[we]&&Re[we].stop&&Hr.test(we)&&ge(Re[we]);for(we=Te.length;we--;)Te[we].elem===this&&(null==X||Te[we].queue===X)&&(Te[we].anim.stop(ce),ve=!1,Te.splice(we,1));(ve||!ce)&&N.dequeue(this,X)})},finish:function(X){return!1!==X&&(X=X||"fx"),this.each(function(){var K,ce=Be.get(this),ge=ce[X+"queue"],ve=ce[X+"queueHooks"],we=N.timers,Te=ge?ge.length:0;for(ce.finish=!0,N.queue(this,X,[]),ve&&ve.stop&&ve.stop.call(this,!0),K=we.length;K--;)we[K].elem===this&&we[K].queue===X&&(we[K].anim.stop(!0),we.splice(K,1));for(K=0;K<Te;K++)ge[K]&&ge[K].finish&&ge[K].finish.call(this);delete ce.finish})}}),N.each(["toggle","show","hide"],function(X,K){var ce=N.fn[K];N.fn[K]=function(ge,ve,we){return null==ge||"boolean"==typeof ge?ce.apply(this,arguments):this.animate(Ea(K,!0),ge,ve,we)}}),N.each({slideDown:Ea("show"),slideUp:Ea("hide"),slideToggle:Ea("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(X,K){N.fn[X]=function(ce,ge,ve){return this.animate(K,ce,ge,ve)}}),N.timers=[],N.fx.tick=function(){var X,K=0,ce=N.timers;for(Ko=Date.now();K<ce.length;K++)!(X=ce[K])()&&ce[K]===X&&ce.splice(K--,1);ce.length||N.fx.stop(),Ko=void 0},N.fx.timer=function(X){N.timers.push(X),N.fx.start()},N.fx.interval=13,N.fx.start=function(){Oa||(Oa=!0,Ma())},N.fx.stop=function(){Oa=null},N.fx.speeds={slow:600,fast:200,_default:400},N.fn.delay=function(X,K){return X=N.fx&&N.fx.speeds[X]||X,this.queue(K=K||"fx",function(ce,ge){var ve=_.setTimeout(ce,X);ge.stop=function(){_.clearTimeout(ve)}})},function(){var X=I.createElement("input"),ce=I.createElement("select").appendChild(I.createElement("option"));X.type="checkbox",T.checkOn=""!==X.value,T.optSelected=ce.selected,(X=I.createElement("input")).value="t",X.type="radio",T.radioValue="t"===X.value}();var Zn,Ro=N.expr.attrHandle;N.fn.extend({attr:function(X,K){return Le(this,N.attr,X,K,arguments.length>1)},removeAttr:function(X){return this.each(function(){N.removeAttr(this,X)})}}),N.extend({attr:function(X,K,ce){var ge,ve,we=X.nodeType;if(3!==we&&8!==we&&2!==we)return typeof X.getAttribute>"u"?N.prop(X,K,ce):((1!==we||!N.isXMLDoc(X))&&(ve=N.attrHooks[K.toLowerCase()]||(N.expr.match.bool.test(K)?Zn:void 0)),void 0!==ce?null===ce?void N.removeAttr(X,K):ve&&"set"in ve&&void 0!==(ge=ve.set(X,ce,K))?ge:(X.setAttribute(K,ce+""),ce):ve&&"get"in ve&&null!==(ge=ve.get(X,K))?ge:(ge=N.find.attr(X,K))??void 0)},attrHooks:{type:{set:function(X,K){if(!T.radioValue&&"radio"===K&&J(X,"input")){var ce=X.value;return X.setAttribute("type",K),ce&&(X.value=ce),K}}}},removeAttr:function(X,K){var ce,ge=0,ve=K&&K.match(de);if(ve&&1===X.nodeType)for(;ce=ve[ge++];)X.removeAttribute(ce)}}),Zn={set:function(X,K,ce){return!1===K?N.removeAttr(X,ce):X.setAttribute(ce,ce),ce}},N.each(N.expr.match.bool.source.match(/\w+/g),function(X,K){var ce=Ro[K]||N.find.attr;Ro[K]=function(ge,ve,we){var Te,Re,Ee=ve.toLowerCase();return we||(Re=Ro[Ee],Ro[Ee]=Te,Te=null!=ce(ge,ve,we)?Ee:null,Ro[Ee]=Re),Te}});var Ft=/^(?:input|select|textarea|button)$/i,$r=/^(?:a|area)$/i;function no(X){return(X.match(de)||[]).join(" ")}function Jo(X){return X.getAttribute&&X.getAttribute("class")||""}function Na(X){return Array.isArray(X)?X:"string"==typeof X&&X.match(de)||[]}N.fn.extend({prop:function(X,K){return Le(this,N.prop,X,K,arguments.length>1)},removeProp:function(X){return this.each(function(){delete this[N.propFix[X]||X]})}}),N.extend({prop:function(X,K,ce){var ge,ve,we=X.nodeType;if(3!==we&&8!==we&&2!==we)return(1!==we||!N.isXMLDoc(X))&&(ve=N.propHooks[K=N.propFix[K]||K]),void 0!==ce?ve&&"set"in ve&&void 0!==(ge=ve.set(X,ce,K))?ge:X[K]=ce:ve&&"get"in ve&&null!==(ge=ve.get(X,K))?ge:X[K]},propHooks:{tabIndex:{get:function(X){var K=N.find.attr(X,"tabindex");return K?parseInt(K,10):Ft.test(X.nodeName)||$r.test(X.nodeName)&&X.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),T.optSelected||(N.propHooks.selected={get:function(X){return null},set:function(X){}}),N.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){N.propFix[this.toLowerCase()]=this}),N.fn.extend({addClass:function(X){var K,ce,ge,ve,we,Te;return D(X)?this.each(function(Re){N(this).addClass(X.call(this,Re,Jo(this)))}):(K=Na(X)).length?this.each(function(){if(ge=Jo(this),ce=1===this.nodeType&&" "+no(ge)+" "){for(we=0;we<K.length;we++)ce.indexOf(" "+(ve=K[we])+" ")<0&&(ce+=ve+" ");Te=no(ce),ge!==Te&&this.setAttribute("class",Te)}}):this},removeClass:function(X){var K,ce,ge,ve,we,Te;return D(X)?this.each(function(Re){N(this).removeClass(X.call(this,Re,Jo(this)))}):arguments.length?(K=Na(X)).length?this.each(function(){if(ge=Jo(this),ce=1===this.nodeType&&" "+no(ge)+" "){for(we=0;we<K.length;we++)for(ve=K[we];ce.indexOf(" "+ve+" ")>-1;)ce=ce.replace(" "+ve+" "," ");Te=no(ce),ge!==Te&&this.setAttribute("class",Te)}}):this:this.attr("class","")},toggleClass:function(X,K){var ce,ge,ve,we,Te=typeof X,Re="string"===Te||Array.isArray(X);return D(X)?this.each(function(Ee){N(this).toggleClass(X.call(this,Ee,Jo(this),K),K)}):"boolean"==typeof K&&Re?K?this.addClass(X):this.removeClass(X):(ce=Na(X),this.each(function(){if(Re)for(we=N(this),ve=0;ve<ce.length;ve++)we.hasClass(ge=ce[ve])?we.removeClass(ge):we.addClass(ge);else(void 0===X||"boolean"===Te)&&((ge=Jo(this))&&Be.set(this,"__className__",ge),this.setAttribute&&this.setAttribute("class",ge||!1===X?"":Be.get(this,"__className__")||""))}))},hasClass:function(X){var K,ce,ge=0;for(K=" "+X+" ";ce=this[ge++];)if(1===ce.nodeType&&(" "+no(Jo(ce))+" ").indexOf(K)>-1)return!0;return!1}});var St=/\r/g;N.fn.extend({val:function(X){var K,ce,ge,ve=this[0];return arguments.length?(ge=D(X),this.each(function(we){var Te;1===this.nodeType&&(null==(Te=ge?X.call(this,we,N(this).val()):X)?Te="":"number"==typeof Te?Te+="":Array.isArray(Te)&&(Te=N.map(Te,function(Re){return null==Re?"":Re+""})),(!(K=N.valHooks[this.type]||N.valHooks[this.nodeName.toLowerCase()])||!("set"in K)||void 0===K.set(this,Te,"value"))&&(this.value=Te))})):ve?(K=N.valHooks[ve.type]||N.valHooks[ve.nodeName.toLowerCase()])&&"get"in K&&void 0!==(ce=K.get(ve,"value"))?ce:"string"==typeof(ce=ve.value)?ce.replace(St,""):ce??"":void 0}}),N.extend({valHooks:{option:{get:function(X){return N.find.attr(X,"value")??no(N.text(X))}},select:{get:function(X){var K,ce,ge,ve=X.options,we=X.selectedIndex,Te="select-one"===X.type,Re=Te?null:[],Ee=Te?we+1:ve.length;for(ge=we<0?Ee:Te?we:0;ge<Ee;ge++)if(((ce=ve[ge]).selected||ge===we)&&!ce.disabled&&(!ce.parentNode.disabled||!J(ce.parentNode,"optgroup"))){if(K=N(ce).val(),Te)return K;Re.push(K)}return Re},set:function(X,K){for(var ce,ge,ve=X.options,we=N.makeArray(K),Te=ve.length;Te--;)((ge=ve[Te]).selected=N.inArray(N.valHooks.option.get(ge),we)>-1)&&(ce=!0);return ce||(X.selectedIndex=-1),we}}}}),N.each(["radio","checkbox"],function(){N.valHooks[this]={set:function(X,K){if(Array.isArray(K))return X.checked=N.inArray(N(X).val(),K)>-1}},T.checkOn||(N.valHooks[this].get=function(X){return null===X.getAttribute("value")?"on":X.value})});var yo=_.location,Bt={guid:Date.now()},ai=/\?/;N.parseXML=function(X){var K,ce;if(!X||"string"!=typeof X)return null;try{K=(new _.DOMParser).parseFromString(X,"text/xml")}catch{}return ce=K&&K.getElementsByTagName("parsererror")[0],(!K||ce)&&N.error("Invalid XML: "+(ce?N.map(ce.childNodes,function(ge){return ge.textContent}).join("\n"):X)),K};var Qn=/^(?:focusinfocus|focusoutblur)$/,Od=function(X){X.stopPropagation()};N.extend(N.event,{trigger:function(X,K,ce,ge){var ve,we,Te,Re,Ee,Xe,Ue,st,qe=[ce||I],Qe=g.call(X,"type")?X.type:X,Nt=g.call(X,"namespace")?X.namespace.split("."):[];if(we=st=Te=ce=ce||I,3!==ce.nodeType&&8!==ce.nodeType&&!Qn.test(Qe+N.event.triggered)&&(Qe.indexOf(".")>-1&&(Nt=Qe.split("."),Qe=Nt.shift(),Nt.sort()),Ee=Qe.indexOf(":")<0&&"on"+Qe,(X=X[N.expando]?X:new N.Event(Qe,"object"==typeof X&&X)).isTrigger=ge?2:3,X.namespace=Nt.join("."),X.rnamespace=X.namespace?new RegExp("(^|\\.)"+Nt.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,X.result=void 0,X.target||(X.target=ce),K=null==K?[X]:N.makeArray(K,[X]),Ue=N.event.special[Qe]||{},ge||!Ue.trigger||!1!==Ue.trigger.apply(ce,K))){if(!ge&&!Ue.noBubble&&!L(ce)){for(Qn.test((Re=Ue.delegateType||Qe)+Qe)||(we=we.parentNode);we;we=we.parentNode)qe.push(we),Te=we;Te===(ce.ownerDocument||I)&&qe.push(Te.defaultView||Te.parentWindow||_)}for(ve=0;(we=qe[ve++])&&!X.isPropagationStopped();)st=we,X.type=ve>1?Re:Ue.bindType||Qe,(Xe=(Be.get(we,"events")||Object.create(null))[X.type]&&Be.get(we,"handle"))&&Xe.apply(we,K),(Xe=Ee&&we[Ee])&&Xe.apply&&$e(we)&&(X.result=Xe.apply(we,K),!1===X.result&&X.preventDefault());return X.type=Qe,!ge&&!X.isDefaultPrevented()&&(!Ue._default||!1===Ue._default.apply(qe.pop(),K))&&$e(ce)&&Ee&&D(ce[Qe])&&!L(ce)&&((Te=ce[Ee])&&(ce[Ee]=null),N.event.triggered=Qe,X.isPropagationStopped()&&st.addEventListener(Qe,Od),ce[Qe](),X.isPropagationStopped()&&st.removeEventListener(Qe,Od),N.event.triggered=void 0,Te&&(ce[Ee]=Te)),X.result}},simulate:function(X,K,ce){var ge=N.extend(new N.Event,ce,{type:X,isSimulated:!0});N.event.trigger(ge,null,K)}}),N.fn.extend({trigger:function(X,K){return this.each(function(){N.event.trigger(X,K,this)})},triggerHandler:function(X,K){var ce=this[0];if(ce)return N.event.trigger(X,K,ce,!0)}});var Md=/\[\]$/,Va=/\r?\n/g,_s=/^(?:submit|button|image|reset|file)$/i,Qu=/^(?:input|select|textarea|keygen)/i;function Ur(X,K,ce,ge){var ve;if(Array.isArray(K))N.each(K,function(we,Te){ce||Md.test(X)?ge(X,Te):Ur(X+"["+("object"==typeof Te&&null!=Te?we:"")+"]",Te,ce,ge)});else if(ce||"object"!==F(K))ge(X,K);else for(ve in K)Ur(X+"["+ve+"]",K[ve],ce,ge)}N.param=function(X,K){var ce,ge=[],ve=function(we,Te){var Re=D(Te)?Te():Te;ge[ge.length]=encodeURIComponent(we)+"="+encodeURIComponent(Re??"")};if(null==X)return"";if(Array.isArray(X)||X.jquery&&!N.isPlainObject(X))N.each(X,function(){ve(this.name,this.value)});else for(ce in X)Ur(ce,X[ce],K,ve);return ge.join("&")},N.fn.extend({serialize:function(){return N.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var X=N.prop(this,"elements");return X?N.makeArray(X):this}).filter(function(){var X=this.type;return this.name&&!N(this).is(":disabled")&&Qu.test(this.nodeName)&&!_s.test(X)&&(this.checked||!Tt.test(X))}).map(function(X,K){var ce=N(this).val();return null==ce?null:Array.isArray(ce)?N.map(ce,function(ge){return{name:K.name,value:ge.replace(Va,"\r\n")}}):{name:K.name,value:ce.replace(Va,"\r\n")}}).get()}});var Ku=/%20/g,No=/#.*$/,Ju=/([?&])_=[^&]*/,ep=/^(.*?):[ \t]*([^\r\n]*)$/gm,ip=/^(?:GET|HEAD)$/,Ed=/^\/\//,Rd={},Wr={},Nd="*/".concat("*"),hs=I.createElement("a");function Rt(X){return function(K,ce){"string"!=typeof K&&(ce=K,K="*");var ge,ve=0,we=K.toLowerCase().match(de)||[];if(D(ce))for(;ge=we[ve++];)"+"===ge[0]?(ge=ge.slice(1)||"*",(X[ge]=X[ge]||[]).unshift(ce)):(X[ge]=X[ge]||[]).push(ce)}}function Vd(X,K,ce,ge){var ve={},we=X===Wr;function Te(Re){var Ee;return ve[Re]=!0,N.each(X[Re]||[],function(Xe,Ue){var st=Ue(K,ce,ge);return"string"!=typeof st||we||ve[st]?we?!(Ee=st):void 0:(K.dataTypes.unshift(st),Te(st),!1)}),Ee}return Te(K.dataTypes[0])||!ve["*"]&&Te("*")}function Kn(X,K){var ce,ge,ve=N.ajaxSettings.flatOptions||{};for(ce in K)void 0!==K[ce]&&((ve[ce]?X:ge||(ge={}))[ce]=K[ce]);return ge&&N.extend(!0,X,ge),X}hs.href=yo.href,N.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:yo.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(yo.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Nd,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":N.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(X,K){return K?Kn(Kn(X,N.ajaxSettings),K):Kn(N.ajaxSettings,X)},ajaxPrefilter:Rt(Rd),ajaxTransport:Rt(Wr),ajax:function(X,K){"object"==typeof X&&(K=X,X=void 0);var ce,ge,ve,we,Te,Re,Ee,Xe,Ue,st,qe=N.ajaxSetup({},K=K||{}),Qe=qe.context||qe,Nt=qe.context&&(Qe.nodeType||Qe.jquery)?N(Qe):N.event,Jt=N.Deferred(),Wt=N.Callbacks("once memory"),Ni=qe.statusCode||{},Vi={},ks={},lo="canceled",ei={readyState:0,getResponseHeader:function(ri){var Li;if(Ee){if(!we)for(we={};Li=ep.exec(ve);)we[Li[1].toLowerCase()+" "]=(we[Li[1].toLowerCase()+" "]||[]).concat(Li[2]);Li=we[ri.toLowerCase()+" "]}return null==Li?null:Li.join(", ")},getAllResponseHeaders:function(){return Ee?ve:null},setRequestHeader:function(ri,Li){return null==Ee&&(ri=ks[ri.toLowerCase()]=ks[ri.toLowerCase()]||ri,Vi[ri]=Li),this},overrideMimeType:function(ri){return null==Ee&&(qe.mimeType=ri),this},statusCode:function(ri){var Li;if(ri)if(Ee)ei.always(ri[ei.status]);else for(Li in ri)Ni[Li]=[Ni[Li],ri[Li]];return this},abort:function(ri){var Li=ri||lo;return ce&&ce.abort(Li),ea(0,Li),this}};if(Jt.promise(ei),qe.url=((X||qe.url||yo.href)+"").replace(Ed,yo.protocol+"//"),qe.type=K.method||K.type||qe.method||qe.type,qe.dataTypes=(qe.dataType||"*").toLowerCase().match(de)||[""],null==qe.crossDomain){Re=I.createElement("a");try{Re.href=qe.url,Re.href=Re.href,qe.crossDomain=hs.protocol+"//"+hs.host!=Re.protocol+"//"+Re.host}catch{qe.crossDomain=!0}}if(qe.data&&qe.processData&&"string"!=typeof qe.data&&(qe.data=N.param(qe.data,qe.traditional)),Vd(Rd,qe,K,ei),Ee)return ei;for(Ue in(Xe=N.event&&qe.global)&&0==N.active++&&N.event.trigger("ajaxStart"),qe.type=qe.type.toUpperCase(),qe.hasContent=!ip.test(qe.type),ge=qe.url.replace(No,""),qe.hasContent?qe.data&&qe.processData&&0===(qe.contentType||"").indexOf("application/x-www-form-urlencoded")&&(qe.data=qe.data.replace(Ku,"+")):(st=qe.url.slice(ge.length),qe.data&&(qe.processData||"string"==typeof qe.data)&&(ge+=(ai.test(ge)?"&":"?")+qe.data,delete qe.data),!1===qe.cache&&(ge=ge.replace(Ju,"$1"),st=(ai.test(ge)?"&":"?")+"_="+Bt.guid+++st),qe.url=ge+st),qe.ifModified&&(N.lastModified[ge]&&ei.setRequestHeader("If-Modified-Since",N.lastModified[ge]),N.etag[ge]&&ei.setRequestHeader("If-None-Match",N.etag[ge])),(qe.data&&qe.hasContent&&!1!==qe.contentType||K.contentType)&&ei.setRequestHeader("Content-Type",qe.contentType),ei.setRequestHeader("Accept",qe.dataTypes[0]&&qe.accepts[qe.dataTypes[0]]?qe.accepts[qe.dataTypes[0]]+("*"!==qe.dataTypes[0]?", "+Nd+"; q=0.01":""):qe.accepts["*"]),qe.headers)ei.setRequestHeader(Ue,qe.headers[Ue]);if(qe.beforeSend&&(!1===qe.beforeSend.call(Qe,ei,qe)||Ee))return ei.abort();if(lo="abort",Wt.add(qe.complete),ei.done(qe.success),ei.fail(qe.error),ce=Vd(Wr,qe,K,ei)){if(ei.readyState=1,Xe&&Nt.trigger("ajaxSend",[ei,qe]),Ee)return ei;qe.async&&qe.timeout>0&&(Te=_.setTimeout(function(){ei.abort("timeout")},qe.timeout));try{Ee=!1,ce.send(Vi,ea)}catch(ri){if(Ee)throw ri;ea(-1,ri)}}else ea(-1,"No Transport");function ea(ri,Li,ho,va){var vs,ba,qs,wo,co,Ui=Li;Ee||(Ee=!0,Te&&_.clearTimeout(Te),ce=void 0,ve=va||"",ei.readyState=ri>0?4:0,vs=ri>=200&&ri<300||304===ri,ho&&(wo=function sp(X,K,ce){for(var ge,ve,we,Te,Re=X.contents,Ee=X.dataTypes;"*"===Ee[0];)Ee.shift(),void 0===ge&&(ge=X.mimeType||K.getResponseHeader("Content-Type"));if(ge)for(ve in Re)if(Re[ve]&&Re[ve].test(ge)){Ee.unshift(ve);break}if(Ee[0]in ce)we=Ee[0];else{for(ve in ce){if(!Ee[0]||X.converters[ve+" "+Ee[0]]){we=ve;break}Te||(Te=ve)}we=we||Te}if(we)return we!==Ee[0]&&Ee.unshift(we),ce[we]}(qe,ei,ho)),!vs&&N.inArray("script",qe.dataTypes)>-1&&N.inArray("json",qe.dataTypes)<0&&(qe.converters["text script"]=function(){}),wo=function ui(X,K,ce,ge){var ve,we,Te,Re,Ee,Xe={},Ue=X.dataTypes.slice();if(Ue[1])for(Te in X.converters)Xe[Te.toLowerCase()]=X.converters[Te];for(we=Ue.shift();we;)if(X.responseFields[we]&&(ce[X.responseFields[we]]=K),!Ee&&ge&&X.dataFilter&&(K=X.dataFilter(K,X.dataType)),Ee=we,we=Ue.shift())if("*"===we)we=Ee;else if("*"!==Ee&&Ee!==we){if(!(Te=Xe[Ee+" "+we]||Xe["* "+we]))for(ve in Xe)if((Re=ve.split(" "))[1]===we&&(Te=Xe[Ee+" "+Re[0]]||Xe["* "+Re[0]])){!0===Te?Te=Xe[ve]:!0!==Xe[ve]&&(we=Re[0],Ue.unshift(Re[1]));break}if(!0!==Te)if(Te&&X.throws)K=Te(K);else try{K=Te(K)}catch(st){return{state:"parsererror",error:Te?st:"No conversion from "+Ee+" to "+we}}}return{state:"success",data:K}}(qe,wo,ei,vs),vs?(qe.ifModified&&((co=ei.getResponseHeader("Last-Modified"))&&(N.lastModified[ge]=co),(co=ei.getResponseHeader("etag"))&&(N.etag[ge]=co)),204===ri||"HEAD"===qe.type?Ui="nocontent":304===ri?Ui="notmodified":(Ui=wo.state,ba=wo.data,vs=!(qs=wo.error))):(qs=Ui,(ri||!Ui)&&(Ui="error",ri<0&&(ri=0))),ei.status=ri,ei.statusText=(Li||Ui)+"",vs?Jt.resolveWith(Qe,[ba,Ui,ei]):Jt.rejectWith(Qe,[ei,Ui,qs]),ei.statusCode(Ni),Ni=void 0,Xe&&Nt.trigger(vs?"ajaxSuccess":"ajaxError",[ei,qe,vs?ba:qs]),Wt.fireWith(Qe,[ei,Ui]),Xe&&(Nt.trigger("ajaxComplete",[ei,qe]),--N.active||N.event.trigger("ajaxStop")))}return ei},getJSON:function(X,K,ce){return N.get(X,K,ce,"json")},getScript:function(X,K){return N.get(X,void 0,K,"script")}}),N.each(["get","post"],function(X,K){N[K]=function(ce,ge,ve,we){return D(ge)&&(we=we||ve,ve=ge,ge=void 0),N.ajax(N.extend({url:ce,type:K,dataType:we,data:ge,success:ve},N.isPlainObject(ce)&&ce))}}),N.ajaxPrefilter(function(X){var K;for(K in X.headers)"content-type"===K.toLowerCase()&&(X.contentType=X.headers[K]||"")}),N._evalUrl=function(X,K,ce){return N.ajax({url:X,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(ge){N.globalEval(ge,K,ce)}})},N.fn.extend({wrapAll:function(X){var K;return this[0]&&(D(X)&&(X=X.call(this[0])),K=N(X,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&K.insertBefore(this[0]),K.map(function(){for(var ce=this;ce.firstElementChild;)ce=ce.firstElementChild;return ce}).append(this)),this},wrapInner:function(X){return D(X)?this.each(function(K){N(this).wrapInner(X.call(this,K))}):this.each(function(){var K=N(this),ce=K.contents();ce.length?ce.wrapAll(X):K.append(X)})},wrap:function(X){var K=D(X);return this.each(function(ce){N(this).wrapAll(K?X.call(this,ce):X)})},unwrap:function(X){return this.parent(X).not("body").each(function(){N(this).replaceWith(this.childNodes)}),this}}),N.expr.pseudos.hidden=function(X){return!N.expr.pseudos.visible(X)},N.expr.pseudos.visible=function(X){return!!(X.offsetWidth||X.offsetHeight||X.getClientRects().length)},N.ajaxSettings.xhr=function(){try{return new _.XMLHttpRequest}catch{}};var op={0:200,1223:204},Ys=N.ajaxSettings.xhr();T.cors=!!Ys&&"withCredentials"in Ys,T.ajax=Ys=!!Ys,N.ajaxTransport(function(X){var K,ce;if(T.cors||Ys&&!X.crossDomain)return{send:function(ge,ve){var we,Te=X.xhr();if(Te.open(X.type,X.url,X.async,X.username,X.password),X.xhrFields)for(we in X.xhrFields)Te[we]=X.xhrFields[we];for(we in X.mimeType&&Te.overrideMimeType&&Te.overrideMimeType(X.mimeType),!X.crossDomain&&!ge["X-Requested-With"]&&(ge["X-Requested-With"]="XMLHttpRequest"),ge)Te.setRequestHeader(we,ge[we]);K=function(Re){return function(){K&&(K=ce=Te.onload=Te.onerror=Te.onabort=Te.ontimeout=Te.onreadystatechange=null,"abort"===Re?Te.abort():"error"===Re?"number"!=typeof Te.status?ve(0,"error"):ve(Te.status,Te.statusText):ve(op[Te.status]||Te.status,Te.statusText,"text"!==(Te.responseType||"text")||"string"!=typeof Te.responseText?{binary:Te.response}:{text:Te.responseText},Te.getAllResponseHeaders()))}},Te.onload=K(),ce=Te.onerror=Te.ontimeout=K("error"),void 0!==Te.onabort?Te.onabort=ce:Te.onreadystatechange=function(){4===Te.readyState&&_.setTimeout(function(){K&&ce()})},K=K("abort");try{Te.send(X.hasContent&&X.data||null)}catch(Re){if(K)throw Re}},abort:function(){K&&K()}}}),N.ajaxPrefilter(function(X){X.crossDomain&&(X.contents.script=!1)}),N.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(X){return N.globalEval(X),X}}}),N.ajaxPrefilter("script",function(X){void 0===X.cache&&(X.cache=!1),X.crossDomain&&(X.type="GET")}),N.ajaxTransport("script",function(X){var K,ce;if(X.crossDomain||X.scriptAttrs)return{send:function(ge,ve){K=N("<script>").attr(X.scriptAttrs||{}).prop({charset:X.scriptCharset,src:X.url}).on("load error",ce=function(we){K.remove(),ce=null,we&&ve("error"===we.type?404:200,we.type)}),I.head.appendChild(K[0])},abort:function(){ce&&ce()}}});var X,_a=[],Jn=/(=)\?(?=&|$)|\?\?/;N.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var X=_a.pop()||N.expando+"_"+Bt.guid++;return this[X]=!0,X}}),N.ajaxPrefilter("json jsonp",function(X,K,ce){var ge,ve,we,Te=!1!==X.jsonp&&(Jn.test(X.url)?"url":"string"==typeof X.data&&0===(X.contentType||"").indexOf("application/x-www-form-urlencoded")&&Jn.test(X.data)&&"data");if(Te||"jsonp"===X.dataTypes[0])return ge=X.jsonpCallback=D(X.jsonpCallback)?X.jsonpCallback():X.jsonpCallback,Te?X[Te]=X[Te].replace(Jn,"$1"+ge):!1!==X.jsonp&&(X.url+=(ai.test(X.url)?"&":"?")+X.jsonp+"="+ge),X.converters["script json"]=function(){return we||N.error(ge+" was not called"),we[0]},X.dataTypes[0]="json",ve=_[ge],_[ge]=function(){we=arguments},ce.always(function(){void 0===ve?N(_).removeProp(ge):_[ge]=ve,X[ge]&&(X.jsonpCallback=K.jsonpCallback,_a.push(ge)),we&&D(ve)&&ve(we[0]),we=ve=void 0}),"script"}),T.createHTMLDocument=((X=I.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===X.childNodes.length),N.parseHTML=function(X,K,ce){return"string"!=typeof X?[]:("boolean"==typeof K&&(ce=K,K=!1),K||(T.createHTMLDocument?((ge=(K=I.implementation.createHTMLDocument("")).createElement("base")).href=I.location.href,K.head.appendChild(ge)):K=I),we=!ce&&[],(ve=fe.exec(X))?[K.createElement(ve[1])]:(ve=lt([X],K,we),we&&we.length&&N(we).remove(),N.merge([],ve.childNodes)));var ge,ve,we},N.fn.load=function(X,K,ce){var ge,ve,we,Te=this,Re=X.indexOf(" ");return Re>-1&&(ge=no(X.slice(Re)),X=X.slice(0,Re)),D(K)?(ce=K,K=void 0):K&&"object"==typeof K&&(ve="POST"),Te.length>0&&N.ajax({url:X,type:ve||"GET",dataType:"html",data:K}).done(function(Ee){we=arguments,Te.html(ge?N("<div>").append(N.parseHTML(Ee)).find(ge):Ee)}).always(ce&&function(Ee,Xe){Te.each(function(){ce.apply(this,we||[Ee.responseText,Xe,Ee])})}),this},N.expr.pseudos.animated=function(X){return N.grep(N.timers,function(K){return X===K.elem}).length},N.offset={setOffset:function(X,K,ce){var ge,ve,we,Te,Re,Ee,Ue=N.css(X,"position"),st=N(X),qe={};"static"===Ue&&(X.style.position="relative"),Re=st.offset(),we=N.css(X,"top"),Ee=N.css(X,"left"),("absolute"===Ue||"fixed"===Ue)&&(we+Ee).indexOf("auto")>-1?(Te=(ge=st.position()).top,ve=ge.left):(Te=parseFloat(we)||0,ve=parseFloat(Ee)||0),D(K)&&(K=K.call(X,ce,N.extend({},Re))),null!=K.top&&(qe.top=K.top-Re.top+Te),null!=K.left&&(qe.left=K.left-Re.left+ve),"using"in K?K.using.call(X,qe):st.css(qe)}},N.fn.extend({offset:function(X){if(arguments.length)return void 0===X?this:this.each(function(ve){N.offset.setOffset(this,X,ve)});var K,ce,ge=this[0];return ge?ge.getClientRects().length?{top:(K=ge.getBoundingClientRect()).top+(ce=ge.ownerDocument.defaultView).pageYOffset,left:K.left+ce.pageXOffset}:{top:0,left:0}:void 0},position:function(){if(this[0]){var X,K,ce,ge=this[0],ve={top:0,left:0};if("fixed"===N.css(ge,"position"))K=ge.getBoundingClientRect();else{for(K=this.offset(),ce=ge.ownerDocument,X=ge.offsetParent||ce.documentElement;X&&(X===ce.body||X===ce.documentElement)&&"static"===N.css(X,"position");)X=X.parentNode;X&&X!==ge&&1===X.nodeType&&((ve=N(X).offset()).top+=N.css(X,"borderTopWidth",!0),ve.left+=N.css(X,"borderLeftWidth",!0))}return{top:K.top-ve.top-N.css(ge,"marginTop",!0),left:K.left-ve.left-N.css(ge,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var X=this.offsetParent;X&&"static"===N.css(X,"position");)X=X.offsetParent;return X||Dt})}}),N.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(X,K){var ce="pageYOffset"===K;N.fn[X]=function(ge){return Le(this,function(ve,we,Te){var Re;if(L(ve)?Re=ve:9===ve.nodeType&&(Re=ve.defaultView),void 0===Te)return Re?Re[K]:ve[we];Re?Re.scrollTo(ce?Re.pageXOffset:Te,ce?Te:Re.pageYOffset):ve[we]=Te},X,ge,arguments.length)}}),N.each(["top","left"],function(X,K){N.cssHooks[K]=ro(T.pixelPosition,function(ce,ge){if(ge)return ge=Fs(ce,K),fi.test(ge)?N(ce).position()[K]+"px":ge})}),N.each({Height:"height",Width:"width"},function(X,K){N.each({padding:"inner"+X,content:K,"":"outer"+X},function(ce,ge){N.fn[ge]=function(ve,we){var Te=arguments.length&&(ce||"boolean"!=typeof ve),Re=ce||(!0===ve||!0===we?"margin":"border");return Le(this,function(Ee,Xe,Ue){var st;return L(Ee)?0===ge.indexOf("outer")?Ee["inner"+X]:Ee.document.documentElement["client"+X]:9===Ee.nodeType?(st=Ee.documentElement,Math.max(Ee.body["scroll"+X],st["scroll"+X],Ee.body["offset"+X],st["offset"+X],st["client"+X])):void 0===Ue?N.css(Ee,Xe,Re):N.style(Ee,Xe,Ue,Re)},K,Te?ve:void 0,Te)}})}),N.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(X,K){N.fn[K]=function(ce){return this.on(K,ce)}}),N.fn.extend({bind:function(X,K,ce){return this.on(X,null,K,ce)},unbind:function(X,K){return this.off(X,null,K)},delegate:function(X,K,ce,ge){return this.on(K,X,ce,ge)},undelegate:function(X,K,ce){return 1===arguments.length?this.off(X,"**"):this.off(K,X||"**",ce)},hover:function(X,K){return this.on("mouseenter",X).on("mouseleave",K||X)}}),N.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(X,K){N.fn[K]=function(ce,ge){return arguments.length>0?this.on(K,null,ce,ge):this.trigger(K)}});var el=/^[\s\uFEFF\xA0]+|([^\s\uFEFF\xA0])[\s\uFEFF\xA0]+$/g;N.proxy=function(X,K){var ce,ge,ve;if("string"==typeof K&&(ce=X[K],K=X,X=ce),D(X))return ge=s.call(arguments,2),ve=function(){return X.apply(K||this,ge.concat(s.call(arguments)))},ve.guid=X.guid=X.guid||N.guid++,ve},N.holdReady=function(X){X?N.readyWait++:N.ready(!0)},N.isArray=Array.isArray,N.parseJSON=JSON.parse,N.nodeName=J,N.isFunction=D,N.isWindow=L,N.camelCase=Fe,N.type=F,N.now=Date.now,N.isNumeric=function(X){var K=N.type(X);return("number"===K||"string"===K)&&!isNaN(X-parseFloat(X))},N.trim=function(X){return null==X?"":(X+"").replace(el,"$1")},void 0!==(u=function(){return N}.apply(c,[]))&&(n.exports=u);var Fd=_.jQuery,Fa=_.$;return N.noConflict=function(X){return _.$===N&&(_.$=Fa),X&&_.jQuery===N&&(_.jQuery=Fd),N},typeof w>"u"&&(_.jQuery=_.$=N),N})}},n=>{n(n.s=976)}]);